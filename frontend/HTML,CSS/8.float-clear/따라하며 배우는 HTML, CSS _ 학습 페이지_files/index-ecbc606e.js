var kD=Object.defineProperty;var bD=(sn,ln,cn)=>ln in sn?kD(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn;var $l=(sn,ln,cn)=>(bD(sn,typeof ln!="symbol"?ln+"":ln,cn),cn);function _mergeNamespaces(sn,ln){for(var cn=0;cn<ln.length;cn++){const dn=ln[cn];if(typeof dn!="string"&&!Array.isArray(dn)){for(const pn in dn)if(pn!=="default"&&!(pn in sn)){const vn=Object.getOwnPropertyDescriptor(dn,pn);vn&&Object.defineProperty(sn,pn,vn.get?vn:{enumerable:!0,get:()=>dn[pn]})}}}return Object.freeze(Object.defineProperty(sn,Symbol.toStringTag,{value:"Module"}))}(function(){const ln=document.createElement("link").relList;if(ln&&ln.supports&&ln.supports("modulepreload"))return;for(const pn of document.querySelectorAll('link[rel="modulepreload"]'))dn(pn);new MutationObserver(pn=>{for(const vn of pn)if(vn.type==="childList")for(const Sn of vn.addedNodes)Sn.tagName==="LINK"&&Sn.rel==="modulepreload"&&dn(Sn)}).observe(document,{childList:!0,subtree:!0});function cn(pn){const vn={};return pn.integrity&&(vn.integrity=pn.integrity),pn.referrerPolicy&&(vn.referrerPolicy=pn.referrerPolicy),pn.crossOrigin==="use-credentials"?vn.credentials="include":pn.crossOrigin==="anonymous"?vn.credentials="omit":vn.credentials="same-origin",vn}function dn(pn){if(pn.ep)return;pn.ep=!0;const vn=cn(pn);fetch(pn.href,vn)}})();var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(sn){return sn&&sn.__esModule&&Object.prototype.hasOwnProperty.call(sn,"default")?sn.default:sn}function getAugmentedNamespace(sn){if(sn.__esModule)return sn;var ln=sn.default;if(typeof ln=="function"){var cn=function dn(){if(this instanceof dn){var pn=[null];pn.push.apply(pn,arguments);var vn=Function.bind.apply(ln,pn);return new vn}return ln.apply(this,arguments)};cn.prototype=ln.prototype}else cn={};return Object.defineProperty(cn,"__esModule",{value:!0}),Object.keys(sn).forEach(function(dn){var pn=Object.getOwnPropertyDescriptor(sn,dn);Object.defineProperty(cn,dn,pn.get?pn:{enumerable:!0,get:function(){return sn[dn]}})}),cn}var react={exports:{}},react_production_min={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty$j=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject$n(sn){if(sn==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(sn)}function shouldUseNative(){try{if(!Object.assign)return!1;var sn=new String("abc");if(sn[5]="de",Object.getOwnPropertyNames(sn)[0]==="5")return!1;for(var ln={},cn=0;cn<10;cn++)ln["_"+String.fromCharCode(cn)]=cn;var dn=Object.getOwnPropertyNames(ln).map(function(vn){return ln[vn]});if(dn.join("")!=="0123456789")return!1;var pn={};return"abcdefghijklmnopqrst".split("").forEach(function(vn){pn[vn]=vn}),Object.keys(Object.assign({},pn)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var objectAssign=shouldUseNative()?Object.assign:function(sn,ln){for(var cn,dn=toObject$n(sn),pn,vn=1;vn<arguments.length;vn++){cn=Object(arguments[vn]);for(var Sn in cn)hasOwnProperty$j.call(cn,Sn)&&(dn[Sn]=cn[Sn]);if(getOwnPropertySymbols){pn=getOwnPropertySymbols(cn);for(var En=0;En<pn.length;En++)propIsEnumerable.call(cn,pn[En])&&(dn[pn[En]]=cn[pn[En]])}}return dn};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$b=objectAssign,n$e=60103,p$d=60106;react_production_min.Fragment=60107;react_production_min.StrictMode=60108;react_production_min.Profiler=60114;var q$f=60109,r$a=60110,t$b=60112;react_production_min.Suspense=60113;var u$e=60115,v$f=60116;if(typeof Symbol=="function"&&Symbol.for){var w$i=Symbol.for;n$e=w$i("react.element"),p$d=w$i("react.portal"),react_production_min.Fragment=w$i("react.fragment"),react_production_min.StrictMode=w$i("react.strict_mode"),react_production_min.Profiler=w$i("react.profiler"),q$f=w$i("react.provider"),r$a=w$i("react.context"),t$b=w$i("react.forward_ref"),react_production_min.Suspense=w$i("react.suspense"),u$e=w$i("react.memo"),v$f=w$i("react.lazy")}var x$m=typeof Symbol=="function"&&Symbol.iterator;function y$h(sn){return sn===null||typeof sn!="object"?null:(sn=x$m&&sn[x$m]||sn["@@iterator"],typeof sn=="function"?sn:null)}function z$d(sn){for(var ln="https://reactjs.org/docs/error-decoder.html?invariant="+sn,cn=1;cn<arguments.length;cn++)ln+="&args[]="+encodeURIComponent(arguments[cn]);return"Minified React error #"+sn+"; visit "+ln+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A$e={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B$f={};function C$d(sn,ln,cn){this.props=sn,this.context=ln,this.refs=B$f,this.updater=cn||A$e}C$d.prototype.isReactComponent={};C$d.prototype.setState=function(sn,ln){if(typeof sn!="object"&&typeof sn!="function"&&sn!=null)throw Error(z$d(85));this.updater.enqueueSetState(this,sn,ln,"setState")};C$d.prototype.forceUpdate=function(sn){this.updater.enqueueForceUpdate(this,sn,"forceUpdate")};function D$f(){}D$f.prototype=C$d.prototype;function E$i(sn,ln,cn){this.props=sn,this.context=ln,this.refs=B$f,this.updater=cn||A$e}var F$h=E$i.prototype=new D$f;F$h.constructor=E$i;l$b(F$h,C$d.prototype);F$h.isPureReactComponent=!0;var G$e={current:null},H$h=Object.prototype.hasOwnProperty,I$h={key:!0,ref:!0,__self:!0,__source:!0};function J$9(sn,ln,cn){var dn,pn={},vn=null,Sn=null;if(ln!=null)for(dn in ln.ref!==void 0&&(Sn=ln.ref),ln.key!==void 0&&(vn=""+ln.key),ln)H$h.call(ln,dn)&&!I$h.hasOwnProperty(dn)&&(pn[dn]=ln[dn]);var En=arguments.length-2;if(En===1)pn.children=cn;else if(1<En){for(var Cn=Array(En),Pn=0;Pn<En;Pn++)Cn[Pn]=arguments[Pn+2];pn.children=Cn}if(sn&&sn.defaultProps)for(dn in En=sn.defaultProps,En)pn[dn]===void 0&&(pn[dn]=En[dn]);return{$$typeof:n$e,type:sn,key:vn,ref:Sn,props:pn,_owner:G$e.current}}function K$c(sn,ln){return{$$typeof:n$e,type:sn.type,key:ln,ref:sn.ref,props:sn.props,_owner:sn._owner}}function L$f(sn){return typeof sn=="object"&&sn!==null&&sn.$$typeof===n$e}function escape$1(sn){var ln={"=":"=0",":":"=2"};return"$"+sn.replace(/[=:]/g,function(cn){return ln[cn]})}var M$e=/\/+/g;function N$h(sn,ln){return typeof sn=="object"&&sn!==null&&sn.key!=null?escape$1(""+sn.key):ln.toString(36)}function O$g(sn,ln,cn,dn,pn){var vn=typeof sn;(vn==="undefined"||vn==="boolean")&&(sn=null);var Sn=!1;if(sn===null)Sn=!0;else switch(vn){case"string":case"number":Sn=!0;break;case"object":switch(sn.$$typeof){case n$e:case p$d:Sn=!0}}if(Sn)return Sn=sn,pn=pn(Sn),sn=dn===""?"."+N$h(Sn,0):dn,Array.isArray(pn)?(cn="",sn!=null&&(cn=sn.replace(M$e,"$&/")+"/"),O$g(pn,ln,cn,"",function(Pn){return Pn})):pn!=null&&(L$f(pn)&&(pn=K$c(pn,cn+(!pn.key||Sn&&Sn.key===pn.key?"":(""+pn.key).replace(M$e,"$&/")+"/")+sn)),ln.push(pn)),1;if(Sn=0,dn=dn===""?".":dn+":",Array.isArray(sn))for(var En=0;En<sn.length;En++){vn=sn[En];var Cn=dn+N$h(vn,En);Sn+=O$g(vn,ln,cn,Cn,pn)}else if(Cn=y$h(sn),typeof Cn=="function")for(sn=Cn.call(sn),En=0;!(vn=sn.next()).done;)vn=vn.value,Cn=dn+N$h(vn,En++),Sn+=O$g(vn,ln,cn,Cn,pn);else if(vn==="object")throw ln=""+sn,Error(z$d(31,ln==="[object Object]"?"object with keys {"+Object.keys(sn).join(", ")+"}":ln));return Sn}function P$b(sn,ln,cn){if(sn==null)return sn;var dn=[],pn=0;return O$g(sn,dn,"","",function(vn){return ln.call(cn,vn,pn++)}),dn}function Q$b(sn){if(sn._status===-1){var ln=sn._result;ln=ln(),sn._status=0,sn._result=ln,ln.then(function(cn){sn._status===0&&(cn=cn.default,sn._status=1,sn._result=cn)},function(cn){sn._status===0&&(sn._status=2,sn._result=cn)})}if(sn._status===1)return sn._result;throw sn._result}var R$e={current:null};function S$f(){var sn=R$e.current;if(sn===null)throw Error(z$d(321));return sn}var T$i={ReactCurrentDispatcher:R$e,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G$e,IsSomeRendererActing:{current:!1},assign:l$b};react_production_min.Children={map:P$b,forEach:function(sn,ln,cn){P$b(sn,function(){ln.apply(this,arguments)},cn)},count:function(sn){var ln=0;return P$b(sn,function(){ln++}),ln},toArray:function(sn){return P$b(sn,function(ln){return ln})||[]},only:function(sn){if(!L$f(sn))throw Error(z$d(143));return sn}};react_production_min.Component=C$d;react_production_min.PureComponent=E$i;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T$i;react_production_min.cloneElement=function(sn,ln,cn){if(sn==null)throw Error(z$d(267,sn));var dn=l$b({},sn.props),pn=sn.key,vn=sn.ref,Sn=sn._owner;if(ln!=null){if(ln.ref!==void 0&&(vn=ln.ref,Sn=G$e.current),ln.key!==void 0&&(pn=""+ln.key),sn.type&&sn.type.defaultProps)var En=sn.type.defaultProps;for(Cn in ln)H$h.call(ln,Cn)&&!I$h.hasOwnProperty(Cn)&&(dn[Cn]=ln[Cn]===void 0&&En!==void 0?En[Cn]:ln[Cn])}var Cn=arguments.length-2;if(Cn===1)dn.children=cn;else if(1<Cn){En=Array(Cn);for(var Pn=0;Pn<Cn;Pn++)En[Pn]=arguments[Pn+2];dn.children=En}return{$$typeof:n$e,type:sn.type,key:pn,ref:vn,props:dn,_owner:Sn}};react_production_min.createContext=function(sn,ln){return ln===void 0&&(ln=null),sn={$$typeof:r$a,_calculateChangedBits:ln,_currentValue:sn,_currentValue2:sn,_threadCount:0,Provider:null,Consumer:null},sn.Provider={$$typeof:q$f,_context:sn},sn.Consumer=sn};react_production_min.createElement=J$9;react_production_min.createFactory=function(sn){var ln=J$9.bind(null,sn);return ln.type=sn,ln};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(sn){return{$$typeof:t$b,render:sn}};react_production_min.isValidElement=L$f;react_production_min.lazy=function(sn){return{$$typeof:v$f,_payload:{_status:-1,_result:sn},_init:Q$b}};react_production_min.memo=function(sn,ln){return{$$typeof:u$e,type:sn,compare:ln===void 0?null:ln}};react_production_min.useCallback=function(sn,ln){return S$f().useCallback(sn,ln)};react_production_min.useContext=function(sn,ln){return S$f().useContext(sn,ln)};react_production_min.useDebugValue=function(){};react_production_min.useEffect=function(sn,ln){return S$f().useEffect(sn,ln)};react_production_min.useImperativeHandle=function(sn,ln,cn){return S$f().useImperativeHandle(sn,ln,cn)};react_production_min.useLayoutEffect=function(sn,ln){return S$f().useLayoutEffect(sn,ln)};react_production_min.useMemo=function(sn,ln){return S$f().useMemo(sn,ln)};react_production_min.useReducer=function(sn,ln,cn){return S$f().useReducer(sn,ln,cn)};react_production_min.useRef=function(sn){return S$f().useRef(sn)};react_production_min.useState=function(sn){return S$f().useState(sn)};react_production_min.version="17.0.2";react.exports=react_production_min;var reactExports=react.exports;const gS=getDefaultExportFromCjs(reactExports),React=_mergeNamespaces({__proto__:null,default:gS},[reactExports]);function sheetForTag$1(sn){if(sn.sheet)return sn.sheet;for(var ln=0;ln<document.styleSheets.length;ln++)if(document.styleSheets[ln].ownerNode===sn)return document.styleSheets[ln]}function createStyleElement$1(sn){var ln=document.createElement("style");return ln.setAttribute("data-emotion",sn.key),sn.nonce!==void 0&&ln.setAttribute("nonce",sn.nonce),ln.appendChild(document.createTextNode("")),ln.setAttribute("data-s",""),ln}var StyleSheet$1=function(){function sn(cn){var dn=this;this._insertTag=function(pn){var vn;dn.tags.length===0?dn.insertionPoint?vn=dn.insertionPoint.nextSibling:dn.prepend?vn=dn.container.firstChild:vn=dn.before:vn=dn.tags[dn.tags.length-1].nextSibling,dn.container.insertBefore(pn,vn),dn.tags.push(pn)},this.isSpeedy=cn.speedy===void 0?!0:cn.speedy,this.tags=[],this.ctr=0,this.nonce=cn.nonce,this.key=cn.key,this.container=cn.container,this.prepend=cn.prepend,this.insertionPoint=cn.insertionPoint,this.before=null}var ln=sn.prototype;return ln.hydrate=function(dn){dn.forEach(this._insertTag)},ln.insert=function(dn){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement$1(this));var pn=this.tags[this.tags.length-1];if(this.isSpeedy){var vn=sheetForTag$1(pn);try{vn.insertRule(dn,vn.cssRules.length)}catch{}}else pn.appendChild(document.createTextNode(dn));this.ctr++},ln.flush=function(){this.tags.forEach(function(dn){return dn.parentNode&&dn.parentNode.removeChild(dn)}),this.tags=[],this.ctr=0},sn}(),MS$1="-ms-",MOZ$1="-moz-",WEBKIT$2="-webkit-",COMMENT$1="comm",RULESET$1="rule",DECLARATION$1="decl",IMPORT$1="@import",KEYFRAMES$1="@keyframes",abs$1=Math.abs,from$2=String.fromCharCode,assign$3=Object.assign;function hash$1(sn,ln){return charat$1(sn,0)^45?(((ln<<2^charat$1(sn,0))<<2^charat$1(sn,1))<<2^charat$1(sn,2))<<2^charat$1(sn,3):0}function trim$1(sn){return sn.trim()}function match$2(sn,ln){return(sn=ln.exec(sn))?sn[0]:sn}function replace$3(sn,ln,cn){return sn.replace(ln,cn)}function indexof$1(sn,ln){return sn.indexOf(ln)}function charat$1(sn,ln){return sn.charCodeAt(ln)|0}function substr$1(sn,ln,cn){return sn.slice(ln,cn)}function strlen$1(sn){return sn.length}function sizeof$1(sn){return sn.length}function append$1(sn,ln){return ln.push(sn),sn}function combine$2(sn,ln){return sn.map(ln).join("")}var line$1=1,column$1=1,length$1=0,position$1=0,character$1=0,characters$1="";function node$2(sn,ln,cn,dn,pn,vn,Sn){return{value:sn,root:ln,parent:cn,type:dn,props:pn,children:vn,line:line$1,column:column$1,length:Sn,return:""}}function copy$1(sn,ln){return assign$3(node$2("",null,null,"",null,null,0),sn,{length:-sn.length},ln)}function char$1(){return character$1}function prev$1(){return character$1=position$1>0?charat$1(characters$1,--position$1):0,column$1--,character$1===10&&(column$1=1,line$1--),character$1}function next$2(){return character$1=position$1<length$1?charat$1(characters$1,position$1++):0,column$1++,character$1===10&&(column$1=1,line$1++),character$1}function peek$1(){return charat$1(characters$1,position$1)}function caret$1(){return position$1}function slice$5(sn,ln){return substr$1(characters$1,sn,ln)}function token$2(sn){switch(sn){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc$1(sn){return line$1=column$1=1,length$1=strlen$1(characters$1=sn),position$1=0,[]}function dealloc$1(sn){return characters$1="",sn}function delimit$1(sn){return trim$1(slice$5(position$1-1,delimiter$1(sn===91?sn+2:sn===40?sn+1:sn)))}function whitespace$1(sn){for(;(character$1=peek$1())&&character$1<33;)next$2();return token$2(sn)>2||token$2(character$1)>3?"":" "}function escaping$1(sn,ln){for(;--ln&&next$2()&&!(character$1<48||character$1>102||character$1>57&&character$1<65||character$1>70&&character$1<97););return slice$5(sn,caret$1()+(ln<6&&peek$1()==32&&next$2()==32))}function delimiter$1(sn){for(;next$2();)switch(character$1){case sn:return position$1;case 34:case 39:sn!==34&&sn!==39&&delimiter$1(character$1);break;case 40:sn===41&&delimiter$1(sn);break;case 92:next$2();break}return position$1}function commenter$1(sn,ln){for(;next$2()&&sn+character$1!==47+10;)if(sn+character$1===42+42&&peek$1()===47)break;return"/*"+slice$5(ln,position$1-1)+"*"+from$2(sn===47?sn:next$2())}function identifier$1(sn){for(;!token$2(peek$1());)next$2();return slice$5(sn,position$1)}function compile$1(sn){return dealloc$1(parse$4("",null,null,null,[""],sn=alloc$1(sn),0,[0],sn))}function parse$4(sn,ln,cn,dn,pn,vn,Sn,En,Cn){for(var Pn=0,Rn=0,Ln=Sn,Fn=0,Gn=0,Dn=0,Kn=1,qn=1,Zn=1,Yn=0,Jn="",rs=pn,us=vn,as=dn,cs=Jn;qn;)switch(Dn=Yn,Yn=next$2()){case 40:if(Dn!=108&&charat$1(cs,Ln-1)==58){indexof$1(cs+=replace$3(delimit$1(Yn),"&","&\f"),"&\f")!=-1&&(Zn=-1);break}case 34:case 39:case 91:cs+=delimit$1(Yn);break;case 9:case 10:case 13:case 32:cs+=whitespace$1(Dn);break;case 92:cs+=escaping$1(caret$1()-1,7);continue;case 47:switch(peek$1()){case 42:case 47:append$1(comment$1(commenter$1(next$2(),caret$1()),ln,cn),Cn);break;default:cs+="/"}break;case 123*Kn:En[Pn++]=strlen$1(cs)*Zn;case 125*Kn:case 59:case 0:switch(Yn){case 0:case 125:qn=0;case 59+Rn:Gn>0&&strlen$1(cs)-Ln&&append$1(Gn>32?declaration$1(cs+";",dn,cn,Ln-1):declaration$1(replace$3(cs," ","")+";",dn,cn,Ln-2),Cn);break;case 59:cs+=";";default:if(append$1(as=ruleset$1(cs,ln,cn,Pn,Rn,pn,En,Jn,rs=[],us=[],Ln),vn),Yn===123)if(Rn===0)parse$4(cs,ln,as,as,rs,vn,Ln,En,us);else switch(Fn===99&&charat$1(cs,3)===110?100:Fn){case 100:case 109:case 115:parse$4(sn,as,as,dn&&append$1(ruleset$1(sn,as,as,0,0,pn,En,Jn,pn,rs=[],Ln),us),pn,us,Ln,En,dn?rs:us);break;default:parse$4(cs,as,as,as,[""],us,0,En,us)}}Pn=Rn=Gn=0,Kn=Zn=1,Jn=cs="",Ln=Sn;break;case 58:Ln=1+strlen$1(cs),Gn=Dn;default:if(Kn<1){if(Yn==123)--Kn;else if(Yn==125&&Kn++==0&&prev$1()==125)continue}switch(cs+=from$2(Yn),Yn*Kn){case 38:Zn=Rn>0?1:(cs+="\f",-1);break;case 44:En[Pn++]=(strlen$1(cs)-1)*Zn,Zn=1;break;case 64:peek$1()===45&&(cs+=delimit$1(next$2())),Fn=peek$1(),Rn=Ln=strlen$1(Jn=cs+=identifier$1(caret$1())),Yn++;break;case 45:Dn===45&&strlen$1(cs)==2&&(Kn=0)}}return vn}function ruleset$1(sn,ln,cn,dn,pn,vn,Sn,En,Cn,Pn,Rn){for(var Ln=pn-1,Fn=pn===0?vn:[""],Gn=sizeof$1(Fn),Dn=0,Kn=0,qn=0;Dn<dn;++Dn)for(var Zn=0,Yn=substr$1(sn,Ln+1,Ln=abs$1(Kn=Sn[Dn])),Jn=sn;Zn<Gn;++Zn)(Jn=trim$1(Kn>0?Fn[Zn]+" "+Yn:replace$3(Yn,/&\f/g,Fn[Zn])))&&(Cn[qn++]=Jn);return node$2(sn,ln,cn,pn===0?RULESET$1:En,Cn,Pn,Rn)}function comment$1(sn,ln,cn){return node$2(sn,ln,cn,COMMENT$1,from$2(char$1()),substr$1(sn,2,-2),0)}function declaration$1(sn,ln,cn,dn){return node$2(sn,ln,cn,DECLARATION$1,substr$1(sn,0,dn),substr$1(sn,dn+1,-1),dn)}function serialize$1(sn,ln){for(var cn="",dn=sizeof$1(sn),pn=0;pn<dn;pn++)cn+=ln(sn[pn],pn,sn,ln)||"";return cn}function stringify$2(sn,ln,cn,dn){switch(sn.type){case IMPORT$1:case DECLARATION$1:return sn.return=sn.return||sn.value;case COMMENT$1:return"";case KEYFRAMES$1:return sn.return=sn.value+"{"+serialize$1(sn.children,dn)+"}";case RULESET$1:sn.value=sn.props.join(",")}return strlen$1(cn=serialize$1(sn.children,dn))?sn.return=sn.value+"{"+cn+"}":""}function middleware$1(sn){var ln=sizeof$1(sn);return function(cn,dn,pn,vn){for(var Sn="",En=0;En<ln;En++)Sn+=sn[En](cn,dn,pn,vn)||"";return Sn}}function rulesheet$1(sn){return function(ln){ln.root||(ln=ln.return)&&sn(ln)}}var weakMemoize=function(ln){var cn=new WeakMap;return function(dn){if(cn.has(dn))return cn.get(dn);var pn=ln(dn);return cn.set(dn,pn),pn}};function memoize$2(sn){var ln=Object.create(null);return function(cn){return ln[cn]===void 0&&(ln[cn]=sn(cn)),ln[cn]}}var identifierWithPointTracking$1=function(ln,cn,dn){for(var pn=0,vn=0;pn=vn,vn=peek$1(),pn===38&&vn===12&&(cn[dn]=1),!token$2(vn);)next$2();return slice$5(ln,position$1)},toRules$1=function(ln,cn){var dn=-1,pn=44;do switch(token$2(pn)){case 0:pn===38&&peek$1()===12&&(cn[dn]=1),ln[dn]+=identifierWithPointTracking$1(position$1-1,cn,dn);break;case 2:ln[dn]+=delimit$1(pn);break;case 4:if(pn===44){ln[++dn]=peek$1()===58?"&\f":"",cn[dn]=ln[dn].length;break}default:ln[dn]+=from$2(pn)}while(pn=next$2());return ln},getRules$1=function(ln,cn){return dealloc$1(toRules$1(alloc$1(ln),cn))},fixedElements$1=new WeakMap,compat$1=function(ln){if(!(ln.type!=="rule"||!ln.parent||ln.length<1)){for(var cn=ln.value,dn=ln.parent,pn=ln.column===dn.column&&ln.line===dn.line;dn.type!=="rule";)if(dn=dn.parent,!dn)return;if(!(ln.props.length===1&&cn.charCodeAt(0)!==58&&!fixedElements$1.get(dn))&&!pn){fixedElements$1.set(ln,!0);for(var vn=[],Sn=getRules$1(cn,vn),En=dn.props,Cn=0,Pn=0;Cn<Sn.length;Cn++)for(var Rn=0;Rn<En.length;Rn++,Pn++)ln.props[Pn]=vn[Cn]?Sn[Cn].replace(/&\f/g,En[Rn]):En[Rn]+" "+Sn[Cn]}}},removeLabel$1=function(ln){if(ln.type==="decl"){var cn=ln.value;cn.charCodeAt(0)===108&&cn.charCodeAt(2)===98&&(ln.return="",ln.value="")}};function prefix$1(sn,ln){switch(hash$1(sn,ln)){case 5103:return WEBKIT$2+"print-"+sn+sn;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT$2+sn+sn;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT$2+sn+MOZ$1+sn+MS$1+sn+sn;case 6828:case 4268:return WEBKIT$2+sn+MS$1+sn+sn;case 6165:return WEBKIT$2+sn+MS$1+"flex-"+sn+sn;case 5187:return WEBKIT$2+sn+replace$3(sn,/(\w+).+(:[^]+)/,WEBKIT$2+"box-$1$2"+MS$1+"flex-$1$2")+sn;case 5443:return WEBKIT$2+sn+MS$1+"flex-item-"+replace$3(sn,/flex-|-self/,"")+sn;case 4675:return WEBKIT$2+sn+MS$1+"flex-line-pack"+replace$3(sn,/align-content|flex-|-self/,"")+sn;case 5548:return WEBKIT$2+sn+MS$1+replace$3(sn,"shrink","negative")+sn;case 5292:return WEBKIT$2+sn+MS$1+replace$3(sn,"basis","preferred-size")+sn;case 6060:return WEBKIT$2+"box-"+replace$3(sn,"-grow","")+WEBKIT$2+sn+MS$1+replace$3(sn,"grow","positive")+sn;case 4554:return WEBKIT$2+replace$3(sn,/([^-])(transform)/g,"$1"+WEBKIT$2+"$2")+sn;case 6187:return replace$3(replace$3(replace$3(sn,/(zoom-|grab)/,WEBKIT$2+"$1"),/(image-set)/,WEBKIT$2+"$1"),sn,"")+sn;case 5495:case 3959:return replace$3(sn,/(image-set\([^]*)/,WEBKIT$2+"$1$`$1");case 4968:return replace$3(replace$3(sn,/(.+:)(flex-)?(.*)/,WEBKIT$2+"box-pack:$3"+MS$1+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT$2+sn+sn;case 4095:case 3583:case 4068:case 2532:return replace$3(sn,/(.+)-inline(.+)/,WEBKIT$2+"$1$2")+sn;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen$1(sn)-1-ln>6)switch(charat$1(sn,ln+1)){case 109:if(charat$1(sn,ln+4)!==45)break;case 102:return replace$3(sn,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT$2+"$2-$3$1"+MOZ$1+(charat$1(sn,ln+3)==108?"$3":"$2-$3"))+sn;case 115:return~indexof$1(sn,"stretch")?prefix$1(replace$3(sn,"stretch","fill-available"),ln)+sn:sn}break;case 4949:if(charat$1(sn,ln+1)!==115)break;case 6444:switch(charat$1(sn,strlen$1(sn)-3-(~indexof$1(sn,"!important")&&10))){case 107:return replace$3(sn,":",":"+WEBKIT$2)+sn;case 101:return replace$3(sn,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT$2+(charat$1(sn,14)===45?"inline-":"")+"box$3$1"+WEBKIT$2+"$2$3$1"+MS$1+"$2box$3")+sn}break;case 5936:switch(charat$1(sn,ln+11)){case 114:return WEBKIT$2+sn+MS$1+replace$3(sn,/[svh]\w+-[tblr]{2}/,"tb")+sn;case 108:return WEBKIT$2+sn+MS$1+replace$3(sn,/[svh]\w+-[tblr]{2}/,"tb-rl")+sn;case 45:return WEBKIT$2+sn+MS$1+replace$3(sn,/[svh]\w+-[tblr]{2}/,"lr")+sn}return WEBKIT$2+sn+MS$1+sn+sn}return sn}var prefixer$1=function(ln,cn,dn,pn){if(ln.length>-1&&!ln.return)switch(ln.type){case DECLARATION$1:ln.return=prefix$1(ln.value,ln.length);break;case KEYFRAMES$1:return serialize$1([copy$1(ln,{value:replace$3(ln.value,"@","@"+WEBKIT$2)})],pn);case RULESET$1:if(ln.length)return combine$2(ln.props,function(vn){switch(match$2(vn,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize$1([copy$1(ln,{props:[replace$3(vn,/:(read-\w+)/,":"+MOZ$1+"$1")]})],pn);case"::placeholder":return serialize$1([copy$1(ln,{props:[replace$3(vn,/:(plac\w+)/,":"+WEBKIT$2+"input-$1")]}),copy$1(ln,{props:[replace$3(vn,/:(plac\w+)/,":"+MOZ$1+"$1")]}),copy$1(ln,{props:[replace$3(vn,/:(plac\w+)/,MS$1+"input-$1")]})],pn)}return""})}},defaultStylisPlugins$1=[prefixer$1],createCache$1=function(ln){var cn=ln.key;if(cn==="css"){var dn=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(dn,function(Kn){var qn=Kn.getAttribute("data-emotion");qn.indexOf(" ")!==-1&&(document.head.appendChild(Kn),Kn.setAttribute("data-s",""))})}var pn=ln.stylisPlugins||defaultStylisPlugins$1,vn={},Sn,En=[];Sn=ln.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+cn+' "]'),function(Kn){for(var qn=Kn.getAttribute("data-emotion").split(" "),Zn=1;Zn<qn.length;Zn++)vn[qn[Zn]]=!0;En.push(Kn)});var Cn,Pn=[compat$1,removeLabel$1];{var Rn,Ln=[stringify$2,rulesheet$1(function(Kn){Rn.insert(Kn)})],Fn=middleware$1(Pn.concat(pn,Ln)),Gn=function(qn){return serialize$1(compile$1(qn),Fn)};Cn=function(qn,Zn,Yn,Jn){Rn=Yn,Gn(qn?qn+"{"+Zn.styles+"}":Zn.styles),Jn&&(Dn.inserted[Zn.name]=!0)}}var Dn={key:cn,sheet:new StyleSheet$1({key:cn,container:Sn,nonce:ln.nonce,speedy:ln.speedy,prepend:ln.prepend,insertionPoint:ln.insertionPoint}),nonce:ln.nonce,inserted:vn,registered:{},insert:Cn};return Dn.sheet.hydrate(En),Dn};function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(sn){for(var ln=1;ln<arguments.length;ln++){var cn=arguments[ln];for(var dn in cn)Object.prototype.hasOwnProperty.call(cn,dn)&&(sn[dn]=cn[dn])}return sn},_extends$5.apply(this,arguments)}var reactIs$1={exports:{}},reactIs_production_min$1={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$g=typeof Symbol=="function"&&Symbol.for,c$k=b$g?Symbol.for("react.element"):60103,d$k=b$g?Symbol.for("react.portal"):60106,e$6=b$g?Symbol.for("react.fragment"):60107,f$a=b$g?Symbol.for("react.strict_mode"):60108,g$d=b$g?Symbol.for("react.profiler"):60114,h$f=b$g?Symbol.for("react.provider"):60109,k$f=b$g?Symbol.for("react.context"):60110,l$a=b$g?Symbol.for("react.async_mode"):60111,m$g=b$g?Symbol.for("react.concurrent_mode"):60111,n$d=b$g?Symbol.for("react.forward_ref"):60112,p$c=b$g?Symbol.for("react.suspense"):60113,q$e=b$g?Symbol.for("react.suspense_list"):60120,r$9=b$g?Symbol.for("react.memo"):60115,t$a=b$g?Symbol.for("react.lazy"):60116,v$e=b$g?Symbol.for("react.block"):60121,w$h=b$g?Symbol.for("react.fundamental"):60117,x$l=b$g?Symbol.for("react.responder"):60118,y$g=b$g?Symbol.for("react.scope"):60119;function z$c(sn){if(typeof sn=="object"&&sn!==null){var ln=sn.$$typeof;switch(ln){case c$k:switch(sn=sn.type,sn){case l$a:case m$g:case e$6:case g$d:case f$a:case p$c:return sn;default:switch(sn=sn&&sn.$$typeof,sn){case k$f:case n$d:case t$a:case r$9:case h$f:return sn;default:return ln}}case d$k:return ln}}}function A$d(sn){return z$c(sn)===m$g}reactIs_production_min$1.AsyncMode=l$a;reactIs_production_min$1.ConcurrentMode=m$g;reactIs_production_min$1.ContextConsumer=k$f;reactIs_production_min$1.ContextProvider=h$f;reactIs_production_min$1.Element=c$k;reactIs_production_min$1.ForwardRef=n$d;reactIs_production_min$1.Fragment=e$6;reactIs_production_min$1.Lazy=t$a;reactIs_production_min$1.Memo=r$9;reactIs_production_min$1.Portal=d$k;reactIs_production_min$1.Profiler=g$d;reactIs_production_min$1.StrictMode=f$a;reactIs_production_min$1.Suspense=p$c;reactIs_production_min$1.isAsyncMode=function(sn){return A$d(sn)||z$c(sn)===l$a};reactIs_production_min$1.isConcurrentMode=A$d;reactIs_production_min$1.isContextConsumer=function(sn){return z$c(sn)===k$f};reactIs_production_min$1.isContextProvider=function(sn){return z$c(sn)===h$f};reactIs_production_min$1.isElement=function(sn){return typeof sn=="object"&&sn!==null&&sn.$$typeof===c$k};reactIs_production_min$1.isForwardRef=function(sn){return z$c(sn)===n$d};reactIs_production_min$1.isFragment=function(sn){return z$c(sn)===e$6};reactIs_production_min$1.isLazy=function(sn){return z$c(sn)===t$a};reactIs_production_min$1.isMemo=function(sn){return z$c(sn)===r$9};reactIs_production_min$1.isPortal=function(sn){return z$c(sn)===d$k};reactIs_production_min$1.isProfiler=function(sn){return z$c(sn)===g$d};reactIs_production_min$1.isStrictMode=function(sn){return z$c(sn)===f$a};reactIs_production_min$1.isSuspense=function(sn){return z$c(sn)===p$c};reactIs_production_min$1.isValidElementType=function(sn){return typeof sn=="string"||typeof sn=="function"||sn===e$6||sn===m$g||sn===g$d||sn===f$a||sn===p$c||sn===q$e||typeof sn=="object"&&sn!==null&&(sn.$$typeof===t$a||sn.$$typeof===r$9||sn.$$typeof===h$f||sn.$$typeof===k$f||sn.$$typeof===n$d||sn.$$typeof===w$h||sn.$$typeof===x$l||sn.$$typeof===y$g||sn.$$typeof===v$e)};reactIs_production_min$1.typeOf=z$c;reactIs$1.exports=reactIs_production_min$1;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$2=!0;function getRegisteredStyles$1(sn,ln,cn){var dn="";return cn.split(" ").forEach(function(pn){sn[pn]!==void 0?ln.push(sn[pn]+";"):dn+=pn+" "}),dn}var registerStyles$1=function(ln,cn,dn){var pn=ln.key+"-"+cn.name;(dn===!1||isBrowser$2===!1)&&ln.registered[pn]===void 0&&(ln.registered[pn]=cn.styles)},insertStyles$1=function(ln,cn,dn){registerStyles$1(ln,cn,dn);var pn=ln.key+"-"+cn.name;if(ln.inserted[cn.name]===void 0){var vn=cn;do ln.insert(cn===vn?"."+pn:"",vn,ln.sheet,!0),vn=vn.next;while(vn!==void 0)}};function murmur2$1(sn){for(var ln=0,cn,dn=0,pn=sn.length;pn>=4;++dn,pn-=4)cn=sn.charCodeAt(dn)&255|(sn.charCodeAt(++dn)&255)<<8|(sn.charCodeAt(++dn)&255)<<16|(sn.charCodeAt(++dn)&255)<<24,cn=(cn&65535)*1540483477+((cn>>>16)*59797<<16),cn^=cn>>>24,ln=(cn&65535)*1540483477+((cn>>>16)*59797<<16)^(ln&65535)*1540483477+((ln>>>16)*59797<<16);switch(pn){case 3:ln^=(sn.charCodeAt(dn+2)&255)<<16;case 2:ln^=(sn.charCodeAt(dn+1)&255)<<8;case 1:ln^=sn.charCodeAt(dn)&255,ln=(ln&65535)*1540483477+((ln>>>16)*59797<<16)}return ln^=ln>>>13,ln=(ln&65535)*1540483477+((ln>>>16)*59797<<16),((ln^ln>>>15)>>>0).toString(36)}var unitlessKeys$1={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex$1=/[A-Z]|^ms/g,animationRegex$1=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty$1=function(ln){return ln.charCodeAt(1)===45},isProcessableValue$1=function(ln){return ln!=null&&typeof ln!="boolean"},processStyleName$1=memoize$2(function(sn){return isCustomProperty$1(sn)?sn:sn.replace(hyphenateRegex$1,"-$&").toLowerCase()}),processStyleValue$1=function(ln,cn){switch(ln){case"animation":case"animationName":if(typeof cn=="string")return cn.replace(animationRegex$1,function(dn,pn,vn){return cursor$1={name:pn,styles:vn,next:cursor$1},pn})}return unitlessKeys$1[ln]!==1&&!isCustomProperty$1(ln)&&typeof cn=="number"&&cn!==0?cn+"px":cn},noComponentSelectorMessage$1="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation$1(sn,ln,cn){if(cn==null)return"";if(cn.__emotion_styles!==void 0)return cn;switch(typeof cn){case"boolean":return"";case"object":{if(cn.anim===1)return cursor$1={name:cn.name,styles:cn.styles,next:cursor$1},cn.name;if(cn.styles!==void 0){var dn=cn.next;if(dn!==void 0)for(;dn!==void 0;)cursor$1={name:dn.name,styles:dn.styles,next:cursor$1},dn=dn.next;var pn=cn.styles+";";return pn}return createStringFromObject$1(sn,ln,cn)}case"function":{if(sn!==void 0){var vn=cursor$1,Sn=cn(sn);return cursor$1=vn,handleInterpolation$1(sn,ln,Sn)}break}}if(ln==null)return cn;var En=ln[cn];return En!==void 0?En:cn}function createStringFromObject$1(sn,ln,cn){var dn="";if(Array.isArray(cn))for(var pn=0;pn<cn.length;pn++)dn+=handleInterpolation$1(sn,ln,cn[pn])+";";else for(var vn in cn){var Sn=cn[vn];if(typeof Sn!="object")ln!=null&&ln[Sn]!==void 0?dn+=vn+"{"+ln[Sn]+"}":isProcessableValue$1(Sn)&&(dn+=processStyleName$1(vn)+":"+processStyleValue$1(vn,Sn)+";");else if(Array.isArray(Sn)&&typeof Sn[0]=="string"&&(ln==null||ln[Sn[0]]===void 0))for(var En=0;En<Sn.length;En++)isProcessableValue$1(Sn[En])&&(dn+=processStyleName$1(vn)+":"+processStyleValue$1(vn,Sn[En])+";");else{var Cn=handleInterpolation$1(sn,ln,Sn);switch(vn){case"animation":case"animationName":{dn+=processStyleName$1(vn)+":"+Cn+";";break}default:dn+=vn+"{"+Cn+"}"}}}return dn}var labelPattern$1=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor$1,serializeStyles$1=function(ln,cn,dn){if(ln.length===1&&typeof ln[0]=="object"&&ln[0]!==null&&ln[0].styles!==void 0)return ln[0];var pn=!0,vn="";cursor$1=void 0;var Sn=ln[0];Sn==null||Sn.raw===void 0?(pn=!1,vn+=handleInterpolation$1(dn,cn,Sn)):vn+=Sn[0];for(var En=1;En<ln.length;En++)vn+=handleInterpolation$1(dn,cn,ln[En]),pn&&(vn+=Sn[En]);labelPattern$1.lastIndex=0;for(var Cn="",Pn;(Pn=labelPattern$1.exec(vn))!==null;)Cn+="-"+Pn[1];var Rn=murmur2$1(vn)+Cn;return{name:Rn,styles:vn,next:cursor$1}},syncFallback$1=function(ln){return ln()},useInsertionEffect$2=React["useInsertionEffect"]?React["useInsertionEffect"]:!1,useInsertionEffectAlwaysWithSyncFallback$1=useInsertionEffect$2||syncFallback$1,useInsertionEffectWithLayoutFallback=useInsertionEffect$2||reactExports.useLayoutEffect,hasOwnProperty$i={}.hasOwnProperty,EmotionCacheContext$1=reactExports.createContext(typeof HTMLElement<"u"?createCache$1({key:"css"}):null);EmotionCacheContext$1.Provider;var withEmotionCache$1=function(ln){return reactExports.forwardRef(function(cn,dn){var pn=reactExports.useContext(EmotionCacheContext$1);return ln(cn,pn,dn)})},ThemeContext$1=reactExports.createContext({}),getTheme=function(ln,cn){if(typeof cn=="function"){var dn=cn(ln);return dn}return _extends$5({},ln,cn)},createCacheWithTheme=weakMemoize(function(sn){return weakMemoize(function(ln){return getTheme(sn,ln)})}),ThemeProvider=function(ln){var cn=reactExports.useContext(ThemeContext$1);return ln.theme!==cn&&(cn=createCacheWithTheme(cn)(ln.theme)),reactExports.createElement(ThemeContext$1.Provider,{value:cn},ln.children)},typePropName$1="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps$1=function(ln,cn){var dn={};for(var pn in cn)hasOwnProperty$i.call(cn,pn)&&(dn[pn]=cn[pn]);return dn[typePropName$1]=ln,dn},Insertion$1=function(ln){var cn=ln.cache,dn=ln.serialized,pn=ln.isStringTag;return registerStyles$1(cn,dn,pn),useInsertionEffectAlwaysWithSyncFallback$1(function(){return insertStyles$1(cn,dn,pn)}),null},Emotion$2=withEmotionCache$1(function(sn,ln,cn){var dn=sn.css;typeof dn=="string"&&ln.registered[dn]!==void 0&&(dn=ln.registered[dn]);var pn=sn[typePropName$1],vn=[dn],Sn="";typeof sn.className=="string"?Sn=getRegisteredStyles$1(ln.registered,vn,sn.className):sn.className!=null&&(Sn=sn.className+" ");var En=serializeStyles$1(vn,void 0,reactExports.useContext(ThemeContext$1));Sn+=ln.key+"-"+En.name;var Cn={};for(var Pn in sn)hasOwnProperty$i.call(sn,Pn)&&Pn!=="css"&&Pn!==typePropName$1&&(Cn[Pn]=sn[Pn]);return Cn.ref=cn,Cn.className=Sn,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion$1,{cache:ln,serialized:En,isStringTag:typeof pn=="string"}),reactExports.createElement(pn,Cn))}),jsx$3=function(ln,cn){var dn=arguments;if(cn==null||!hasOwnProperty$i.call(cn,"css"))return reactExports.createElement.apply(void 0,dn);var pn=dn.length,vn=new Array(pn);vn[0]=Emotion$2,vn[1]=createEmotionProps$1(ln,cn);for(var Sn=2;Sn<pn;Sn++)vn[Sn]=dn[Sn];return reactExports.createElement.apply(null,vn)},Global$1=withEmotionCache$1(function(sn,ln){var cn=sn.styles,dn=serializeStyles$1([cn],void 0,reactExports.useContext(ThemeContext$1)),pn=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var vn=ln.key+"-global",Sn=new ln.sheet.constructor({key:vn,nonce:ln.sheet.nonce,container:ln.sheet.container,speedy:ln.sheet.isSpeedy}),En=!1,Cn=document.querySelector('style[data-emotion="'+vn+" "+dn.name+'"]');return ln.sheet.tags.length&&(Sn.before=ln.sheet.tags[0]),Cn!==null&&(En=!0,Cn.setAttribute("data-emotion",vn),Sn.hydrate([Cn])),pn.current=[Sn,En],function(){Sn.flush()}},[ln]),useInsertionEffectWithLayoutFallback(function(){var vn=pn.current,Sn=vn[0],En=vn[1];if(En){vn[1]=!1;return}if(dn.next!==void 0&&insertStyles$1(ln,dn.next,!0),Sn.tags.length){var Cn=Sn.tags[Sn.tags.length-1].nextElementSibling;Sn.before=Cn,Sn.flush()}ln.insert("",dn,Sn,!1)},[ln,dn.name]),null});function css$1(){for(var sn=arguments.length,ln=new Array(sn),cn=0;cn<sn;cn++)ln[cn]=arguments[cn];return serializeStyles$1(ln)}var keyframes=function(){var ln=css$1.apply(void 0,arguments),cn="animation-"+ln.name;return{name:cn,styles:"@keyframes "+cn+"{"+ln.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};const style$1="";var reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(sn){var ln,cn,dn,pn;if(typeof performance=="object"&&typeof performance.now=="function"){var vn=performance;sn.unstable_now=function(){return vn.now()}}else{var Sn=Date,En=Sn.now();sn.unstable_now=function(){return Sn.now()-En}}if(typeof window>"u"||typeof MessageChannel!="function"){var Cn=null,Pn=null,Rn=function(){if(Cn!==null)try{var Bs=sn.unstable_now();Cn(!0,Bs),Cn=null}catch(Js){throw setTimeout(Rn,0),Js}};ln=function(Bs){Cn!==null?setTimeout(ln,0,Bs):(Cn=Bs,setTimeout(Rn,0))},cn=function(Bs,Js){Pn=setTimeout(Bs,Js)},dn=function(){clearTimeout(Pn)},sn.unstable_shouldYield=function(){return!1},pn=sn.unstable_forceFrameRate=function(){}}else{var Ln=window.setTimeout,Fn=window.clearTimeout;if(typeof console<"u"){var Gn=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof Gn!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var Dn=!1,Kn=null,qn=-1,Zn=5,Yn=0;sn.unstable_shouldYield=function(){return sn.unstable_now()>=Yn},pn=function(){},sn.unstable_forceFrameRate=function(Bs){0>Bs||125<Bs?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Zn=0<Bs?Math.floor(1e3/Bs):5};var Jn=new MessageChannel,rs=Jn.port2;Jn.port1.onmessage=function(){if(Kn!==null){var Bs=sn.unstable_now();Yn=Bs+Zn;try{Kn(!0,Bs)?rs.postMessage(null):(Dn=!1,Kn=null)}catch(Js){throw rs.postMessage(null),Js}}else Dn=!1},ln=function(Bs){Kn=Bs,Dn||(Dn=!0,rs.postMessage(null))},cn=function(Bs,Js){qn=Ln(function(){Bs(sn.unstable_now())},Js)},dn=function(){Fn(qn),qn=-1}}function us(Bs,Js){var tu=Bs.length;Bs.push(Js);e:for(;;){var hs=tu-1>>>1,lu=Bs[hs];if(lu!==void 0&&0<_s(lu,Js))Bs[hs]=Js,Bs[tu]=lu,tu=hs;else break e}}function as(Bs){return Bs=Bs[0],Bs===void 0?null:Bs}function cs(Bs){var Js=Bs[0];if(Js!==void 0){var tu=Bs.pop();if(tu!==Js){Bs[0]=tu;e:for(var hs=0,lu=Bs.length;hs<lu;){var vu=2*(hs+1)-1,yu=Bs[vu],Wu=vu+1,Ru=Bs[Wu];if(yu!==void 0&&0>_s(yu,tu))Ru!==void 0&&0>_s(Ru,yu)?(Bs[hs]=Ru,Bs[Wu]=tu,hs=Wu):(Bs[hs]=yu,Bs[vu]=tu,hs=vu);else if(Ru!==void 0&&0>_s(Ru,tu))Bs[hs]=Ru,Bs[Wu]=tu,hs=Wu;else break e}}return Js}return null}function _s(Bs,Js){var tu=Bs.sortIndex-Js.sortIndex;return tu!==0?tu:Bs.id-Js.id}var Es=[],Qn=[],ms=1,$s=null,Ms=3,gs=!1,Ss=!1,js=!1;function bs(Bs){for(var Js=as(Qn);Js!==null;){if(Js.callback===null)cs(Qn);else if(Js.startTime<=Bs)cs(Qn),Js.sortIndex=Js.expirationTime,us(Es,Js);else break;Js=as(Qn)}}function Ts(Bs){if(js=!1,bs(Bs),!Ss)if(as(Es)!==null)Ss=!0,ln(xs);else{var Js=as(Qn);Js!==null&&cn(Ts,Js.startTime-Bs)}}function xs(Bs,Js){Ss=!1,js&&(js=!1,dn()),gs=!0;var tu=Ms;try{for(bs(Js),$s=as(Es);$s!==null&&(!($s.expirationTime>Js)||Bs&&!sn.unstable_shouldYield());){var hs=$s.callback;if(typeof hs=="function"){$s.callback=null,Ms=$s.priorityLevel;var lu=hs($s.expirationTime<=Js);Js=sn.unstable_now(),typeof lu=="function"?$s.callback=lu:$s===as(Es)&&cs(Es),bs(Js)}else cs(Es);$s=as(Es)}if($s!==null)var vu=!0;else{var yu=as(Qn);yu!==null&&cn(Ts,yu.startTime-Js),vu=!1}return vu}finally{$s=null,Ms=tu,gs=!1}}var zs=pn;sn.unstable_IdlePriority=5,sn.unstable_ImmediatePriority=1,sn.unstable_LowPriority=4,sn.unstable_NormalPriority=3,sn.unstable_Profiling=null,sn.unstable_UserBlockingPriority=2,sn.unstable_cancelCallback=function(Bs){Bs.callback=null},sn.unstable_continueExecution=function(){Ss||gs||(Ss=!0,ln(xs))},sn.unstable_getCurrentPriorityLevel=function(){return Ms},sn.unstable_getFirstCallbackNode=function(){return as(Es)},sn.unstable_next=function(Bs){switch(Ms){case 1:case 2:case 3:var Js=3;break;default:Js=Ms}var tu=Ms;Ms=Js;try{return Bs()}finally{Ms=tu}},sn.unstable_pauseExecution=function(){},sn.unstable_requestPaint=zs,sn.unstable_runWithPriority=function(Bs,Js){switch(Bs){case 1:case 2:case 3:case 4:case 5:break;default:Bs=3}var tu=Ms;Ms=Bs;try{return Js()}finally{Ms=tu}},sn.unstable_scheduleCallback=function(Bs,Js,tu){var hs=sn.unstable_now();switch(typeof tu=="object"&&tu!==null?(tu=tu.delay,tu=typeof tu=="number"&&0<tu?hs+tu:hs):tu=hs,Bs){case 1:var lu=-1;break;case 2:lu=250;break;case 5:lu=1073741823;break;case 4:lu=1e4;break;default:lu=5e3}return lu=tu+lu,Bs={id:ms++,callback:Js,priorityLevel:Bs,startTime:tu,expirationTime:lu,sortIndex:-1},tu>hs?(Bs.sortIndex=tu,us(Qn,Bs),as(Es)===null&&Bs===as(Qn)&&(js?dn():js=!0,cn(Ts,tu-hs))):(Bs.sortIndex=lu,us(Es,Bs),Ss||gs||(Ss=!0,ln(xs))),Bs},sn.unstable_wrapCallback=function(Bs){var Js=Ms;return function(){var tu=Ms;Ms=Js;try{return Bs.apply(this,arguments)}finally{Ms=tu}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$6=reactExports,m$f=objectAssign,r$8=schedulerExports;function y$f(sn){for(var ln="https://reactjs.org/docs/error-decoder.html?invariant="+sn,cn=1;cn<arguments.length;cn++)ln+="&args[]="+encodeURIComponent(arguments[cn]);return"Minified React error #"+sn+"; visit "+ln+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!aa$6)throw Error(y$f(227));var ba$6=new Set,ca$6={};function da$6(sn,ln){ea$6(sn,ln),ea$6(sn+"Capture",ln)}function ea$6(sn,ln){for(ca$6[sn]=ln,sn=0;sn<ln.length;sn++)ba$6.add(ln[sn])}var fa$6=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha$6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ia$6=Object.prototype.hasOwnProperty,ja$6={},ka$4={};function la$6(sn){return ia$6.call(ka$4,sn)?!0:ia$6.call(ja$6,sn)?!1:ha$6.test(sn)?ka$4[sn]=!0:(ja$6[sn]=!0,!1)}function ma$6(sn,ln,cn,dn){if(cn!==null&&cn.type===0)return!1;switch(typeof ln){case"function":case"symbol":return!0;case"boolean":return dn?!1:cn!==null?!cn.acceptsBooleans:(sn=sn.toLowerCase().slice(0,5),sn!=="data-"&&sn!=="aria-");default:return!1}}function na$6(sn,ln,cn,dn){if(ln===null||typeof ln>"u"||ma$6(sn,ln,cn,dn))return!0;if(dn)return!1;if(cn!==null)switch(cn.type){case 3:return!ln;case 4:return ln===!1;case 5:return isNaN(ln);case 6:return isNaN(ln)||1>ln}return!1}function B$e(sn,ln,cn,dn,pn,vn,Sn){this.acceptsBooleans=ln===2||ln===3||ln===4,this.attributeName=dn,this.attributeNamespace=pn,this.mustUseProperty=cn,this.propertyName=sn,this.type=ln,this.sanitizeURL=vn,this.removeEmptyString=Sn}var D$e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(sn){D$e[sn]=new B$e(sn,0,!1,sn,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(sn){var ln=sn[0];D$e[ln]=new B$e(ln,1,!1,sn[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(sn){D$e[sn]=new B$e(sn,2,!1,sn.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(sn){D$e[sn]=new B$e(sn,2,!1,sn,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(sn){D$e[sn]=new B$e(sn,3,!1,sn.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(sn){D$e[sn]=new B$e(sn,3,!0,sn,null,!1,!1)});["capture","download"].forEach(function(sn){D$e[sn]=new B$e(sn,4,!1,sn,null,!1,!1)});["cols","rows","size","span"].forEach(function(sn){D$e[sn]=new B$e(sn,6,!1,sn,null,!1,!1)});["rowSpan","start"].forEach(function(sn){D$e[sn]=new B$e(sn,5,!1,sn.toLowerCase(),null,!1,!1)});var oa$6=/[\-:]([a-z])/g;function pa$6(sn){return sn[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(sn){var ln=sn.replace(oa$6,pa$6);D$e[ln]=new B$e(ln,1,!1,sn,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(sn){var ln=sn.replace(oa$6,pa$6);D$e[ln]=new B$e(ln,1,!1,sn,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(sn){var ln=sn.replace(oa$6,pa$6);D$e[ln]=new B$e(ln,1,!1,sn,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(sn){D$e[sn]=new B$e(sn,1,!1,sn.toLowerCase(),null,!1,!1)});D$e.xlinkHref=new B$e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(sn){D$e[sn]=new B$e(sn,1,!1,sn.toLowerCase(),null,!0,!0)});function qa$5(sn,ln,cn,dn){var pn=D$e.hasOwnProperty(ln)?D$e[ln]:null,vn=pn!==null?pn.type===0:dn?!1:!(!(2<ln.length)||ln[0]!=="o"&&ln[0]!=="O"||ln[1]!=="n"&&ln[1]!=="N");vn||(na$6(ln,cn,pn,dn)&&(cn=null),dn||pn===null?la$6(ln)&&(cn===null?sn.removeAttribute(ln):sn.setAttribute(ln,""+cn)):pn.mustUseProperty?sn[pn.propertyName]=cn===null?pn.type===3?!1:"":cn:(ln=pn.attributeName,dn=pn.attributeNamespace,cn===null?sn.removeAttribute(ln):(pn=pn.type,cn=pn===3||pn===4&&cn===!0?"":""+cn,dn?sn.setAttributeNS(dn,ln,cn):sn.setAttribute(ln,cn))))}var ra$6=aa$6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sa$6=60103,ta$6=60106,ua$6=60107,wa$4=60108,xa$6=60114,ya$6=60109,za$6=60110,Aa$6=60112,Ba$6=60113,Ca$6=60120,Da$6=60115,Ea$6=60116,Fa$4=60121,Ga$4=60128,Ha$5=60129,Ia$6=60130,Ja$4=60131;if(typeof Symbol=="function"&&Symbol.for){var E$h=Symbol.for;sa$6=E$h("react.element"),ta$6=E$h("react.portal"),ua$6=E$h("react.fragment"),wa$4=E$h("react.strict_mode"),xa$6=E$h("react.profiler"),ya$6=E$h("react.provider"),za$6=E$h("react.context"),Aa$6=E$h("react.forward_ref"),Ba$6=E$h("react.suspense"),Ca$6=E$h("react.suspense_list"),Da$6=E$h("react.memo"),Ea$6=E$h("react.lazy"),Fa$4=E$h("react.block"),E$h("react.scope"),Ga$4=E$h("react.opaque.id"),Ha$5=E$h("react.debug_trace_mode"),Ia$6=E$h("react.offscreen"),Ja$4=E$h("react.legacy_hidden")}var Ka$4=typeof Symbol=="function"&&Symbol.iterator;function La$6(sn){return sn===null||typeof sn!="object"?null:(sn=Ka$4&&sn[Ka$4]||sn["@@iterator"],typeof sn=="function"?sn:null)}var Ma$6;function Na$4(sn){if(Ma$6===void 0)try{throw Error()}catch(cn){var ln=cn.stack.trim().match(/\n( *(at )?)/);Ma$6=ln&&ln[1]||""}return`
`+Ma$6+sn}var Oa$6=!1;function Pa$6(sn,ln){if(!sn||Oa$6)return"";Oa$6=!0;var cn=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(ln)if(ln=function(){throw Error()},Object.defineProperty(ln.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ln,[])}catch(Cn){var dn=Cn}Reflect.construct(sn,[],ln)}else{try{ln.call()}catch(Cn){dn=Cn}sn.call(ln.prototype)}else{try{throw Error()}catch(Cn){dn=Cn}sn()}}catch(Cn){if(Cn&&dn&&typeof Cn.stack=="string"){for(var pn=Cn.stack.split(`
`),vn=dn.stack.split(`
`),Sn=pn.length-1,En=vn.length-1;1<=Sn&&0<=En&&pn[Sn]!==vn[En];)En--;for(;1<=Sn&&0<=En;Sn--,En--)if(pn[Sn]!==vn[En]){if(Sn!==1||En!==1)do if(Sn--,En--,0>En||pn[Sn]!==vn[En])return`
`+pn[Sn].replace(" at new "," at ");while(1<=Sn&&0<=En);break}}}finally{Oa$6=!1,Error.prepareStackTrace=cn}return(sn=sn?sn.displayName||sn.name:"")?Na$4(sn):""}function Qa$3(sn){switch(sn.tag){case 5:return Na$4(sn.type);case 16:return Na$4("Lazy");case 13:return Na$4("Suspense");case 19:return Na$4("SuspenseList");case 0:case 2:case 15:return sn=Pa$6(sn.type,!1),sn;case 11:return sn=Pa$6(sn.type.render,!1),sn;case 22:return sn=Pa$6(sn.type._render,!1),sn;case 1:return sn=Pa$6(sn.type,!0),sn;default:return""}}function Ra$6(sn){if(sn==null)return null;if(typeof sn=="function")return sn.displayName||sn.name||null;if(typeof sn=="string")return sn;switch(sn){case ua$6:return"Fragment";case ta$6:return"Portal";case xa$6:return"Profiler";case wa$4:return"StrictMode";case Ba$6:return"Suspense";case Ca$6:return"SuspenseList"}if(typeof sn=="object")switch(sn.$$typeof){case za$6:return(sn.displayName||"Context")+".Consumer";case ya$6:return(sn._context.displayName||"Context")+".Provider";case Aa$6:var ln=sn.render;return ln=ln.displayName||ln.name||"",sn.displayName||(ln!==""?"ForwardRef("+ln+")":"ForwardRef");case Da$6:return Ra$6(sn.type);case Fa$4:return Ra$6(sn._render);case Ea$6:ln=sn._payload,sn=sn._init;try{return Ra$6(sn(ln))}catch{}}return null}function Sa$4(sn){switch(typeof sn){case"boolean":case"number":case"object":case"string":case"undefined":return sn;default:return""}}function Ta$6(sn){var ln=sn.type;return(sn=sn.nodeName)&&sn.toLowerCase()==="input"&&(ln==="checkbox"||ln==="radio")}function Ua$5(sn){var ln=Ta$6(sn)?"checked":"value",cn=Object.getOwnPropertyDescriptor(sn.constructor.prototype,ln),dn=""+sn[ln];if(!sn.hasOwnProperty(ln)&&typeof cn<"u"&&typeof cn.get=="function"&&typeof cn.set=="function"){var pn=cn.get,vn=cn.set;return Object.defineProperty(sn,ln,{configurable:!0,get:function(){return pn.call(this)},set:function(Sn){dn=""+Sn,vn.call(this,Sn)}}),Object.defineProperty(sn,ln,{enumerable:cn.enumerable}),{getValue:function(){return dn},setValue:function(Sn){dn=""+Sn},stopTracking:function(){sn._valueTracker=null,delete sn[ln]}}}}function Va$5(sn){sn._valueTracker||(sn._valueTracker=Ua$5(sn))}function Wa$4(sn){if(!sn)return!1;var ln=sn._valueTracker;if(!ln)return!0;var cn=ln.getValue(),dn="";return sn&&(dn=Ta$6(sn)?sn.checked?"true":"false":sn.value),sn=dn,sn!==cn?(ln.setValue(sn),!0):!1}function Xa$4(sn){if(sn=sn||(typeof document<"u"?document:void 0),typeof sn>"u")return null;try{return sn.activeElement||sn.body}catch{return sn.body}}function Ya$4(sn,ln){var cn=ln.checked;return m$f({},ln,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:cn??sn._wrapperState.initialChecked})}function Za$3(sn,ln){var cn=ln.defaultValue==null?"":ln.defaultValue,dn=ln.checked!=null?ln.checked:ln.defaultChecked;cn=Sa$4(ln.value!=null?ln.value:cn),sn._wrapperState={initialChecked:dn,initialValue:cn,controlled:ln.type==="checkbox"||ln.type==="radio"?ln.checked!=null:ln.value!=null}}function $a$4(sn,ln){ln=ln.checked,ln!=null&&qa$5(sn,"checked",ln,!1)}function ab(sn,ln){$a$4(sn,ln);var cn=Sa$4(ln.value),dn=ln.type;if(cn!=null)dn==="number"?(cn===0&&sn.value===""||sn.value!=cn)&&(sn.value=""+cn):sn.value!==""+cn&&(sn.value=""+cn);else if(dn==="submit"||dn==="reset"){sn.removeAttribute("value");return}ln.hasOwnProperty("value")?bb(sn,ln.type,cn):ln.hasOwnProperty("defaultValue")&&bb(sn,ln.type,Sa$4(ln.defaultValue)),ln.checked==null&&ln.defaultChecked!=null&&(sn.defaultChecked=!!ln.defaultChecked)}function cb(sn,ln,cn){if(ln.hasOwnProperty("value")||ln.hasOwnProperty("defaultValue")){var dn=ln.type;if(!(dn!=="submit"&&dn!=="reset"||ln.value!==void 0&&ln.value!==null))return;ln=""+sn._wrapperState.initialValue,cn||ln===sn.value||(sn.value=ln),sn.defaultValue=ln}cn=sn.name,cn!==""&&(sn.name=""),sn.defaultChecked=!!sn._wrapperState.initialChecked,cn!==""&&(sn.name=cn)}function bb(sn,ln,cn){(ln!=="number"||Xa$4(sn.ownerDocument)!==sn)&&(cn==null?sn.defaultValue=""+sn._wrapperState.initialValue:sn.defaultValue!==""+cn&&(sn.defaultValue=""+cn))}function db(sn){var ln="";return aa$6.Children.forEach(sn,function(cn){cn!=null&&(ln+=cn)}),ln}function eb(sn,ln){return sn=m$f({children:void 0},ln),(ln=db(ln.children))&&(sn.children=ln),sn}function fb(sn,ln,cn,dn){if(sn=sn.options,ln){ln={};for(var pn=0;pn<cn.length;pn++)ln["$"+cn[pn]]=!0;for(cn=0;cn<sn.length;cn++)pn=ln.hasOwnProperty("$"+sn[cn].value),sn[cn].selected!==pn&&(sn[cn].selected=pn),pn&&dn&&(sn[cn].defaultSelected=!0)}else{for(cn=""+Sa$4(cn),ln=null,pn=0;pn<sn.length;pn++){if(sn[pn].value===cn){sn[pn].selected=!0,dn&&(sn[pn].defaultSelected=!0);return}ln!==null||sn[pn].disabled||(ln=sn[pn])}ln!==null&&(ln.selected=!0)}}function gb(sn,ln){if(ln.dangerouslySetInnerHTML!=null)throw Error(y$f(91));return m$f({},ln,{value:void 0,defaultValue:void 0,children:""+sn._wrapperState.initialValue})}function hb(sn,ln){var cn=ln.value;if(cn==null){if(cn=ln.children,ln=ln.defaultValue,cn!=null){if(ln!=null)throw Error(y$f(92));if(Array.isArray(cn)){if(!(1>=cn.length))throw Error(y$f(93));cn=cn[0]}ln=cn}ln==null&&(ln=""),cn=ln}sn._wrapperState={initialValue:Sa$4(cn)}}function ib(sn,ln){var cn=Sa$4(ln.value),dn=Sa$4(ln.defaultValue);cn!=null&&(cn=""+cn,cn!==sn.value&&(sn.value=cn),ln.defaultValue==null&&sn.defaultValue!==cn&&(sn.defaultValue=cn)),dn!=null&&(sn.defaultValue=""+dn)}function jb(sn){var ln=sn.textContent;ln===sn._wrapperState.initialValue&&ln!==""&&ln!==null&&(sn.value=ln)}var kb={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function lb(sn){switch(sn){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mb(sn,ln){return sn==null||sn==="http://www.w3.org/1999/xhtml"?lb(ln):sn==="http://www.w3.org/2000/svg"&&ln==="foreignObject"?"http://www.w3.org/1999/xhtml":sn}var nb,ob=function(sn){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(ln,cn,dn,pn){MSApp.execUnsafeLocalFunction(function(){return sn(ln,cn,dn,pn)})}:sn}(function(sn,ln){if(sn.namespaceURI!==kb.svg||"innerHTML"in sn)sn.innerHTML=ln;else{for(nb=nb||document.createElement("div"),nb.innerHTML="<svg>"+ln.valueOf().toString()+"</svg>",ln=nb.firstChild;sn.firstChild;)sn.removeChild(sn.firstChild);for(;ln.firstChild;)sn.appendChild(ln.firstChild)}});function pb(sn,ln){if(ln){var cn=sn.firstChild;if(cn&&cn===sn.lastChild&&cn.nodeType===3){cn.nodeValue=ln;return}}sn.textContent=ln}var qb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=["Webkit","ms","Moz","O"];Object.keys(qb).forEach(function(sn){rb.forEach(function(ln){ln=ln+sn.charAt(0).toUpperCase()+sn.substring(1),qb[ln]=qb[sn]})});function sb(sn,ln,cn){return ln==null||typeof ln=="boolean"||ln===""?"":cn||typeof ln!="number"||ln===0||qb.hasOwnProperty(sn)&&qb[sn]?(""+ln).trim():ln+"px"}function tb(sn,ln){sn=sn.style;for(var cn in ln)if(ln.hasOwnProperty(cn)){var dn=cn.indexOf("--")===0,pn=sb(cn,ln[cn],dn);cn==="float"&&(cn="cssFloat"),dn?sn.setProperty(cn,pn):sn[cn]=pn}}var ub=m$f({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vb(sn,ln){if(ln){if(ub[sn]&&(ln.children!=null||ln.dangerouslySetInnerHTML!=null))throw Error(y$f(137,sn));if(ln.dangerouslySetInnerHTML!=null){if(ln.children!=null)throw Error(y$f(60));if(!(typeof ln.dangerouslySetInnerHTML=="object"&&"__html"in ln.dangerouslySetInnerHTML))throw Error(y$f(61))}if(ln.style!=null&&typeof ln.style!="object")throw Error(y$f(62))}}function wb(sn,ln){if(sn.indexOf("-")===-1)return typeof ln.is=="string";switch(sn){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function xb(sn){return sn=sn.target||sn.srcElement||window,sn.correspondingUseElement&&(sn=sn.correspondingUseElement),sn.nodeType===3?sn.parentNode:sn}var yb=null,zb=null,Ab=null;function Bb(sn){if(sn=Cb(sn)){if(typeof yb!="function")throw Error(y$f(280));var ln=sn.stateNode;ln&&(ln=Db(ln),yb(sn.stateNode,sn.type,ln))}}function Eb(sn){zb?Ab?Ab.push(sn):Ab=[sn]:zb=sn}function Fb(){if(zb){var sn=zb,ln=Ab;if(Ab=zb=null,Bb(sn),ln)for(sn=0;sn<ln.length;sn++)Bb(ln[sn])}}function Gb(sn,ln){return sn(ln)}function Hb(sn,ln,cn,dn,pn){return sn(ln,cn,dn,pn)}function Ib(){}var Jb=Gb,Kb=!1,Lb=!1;function Mb(){(zb!==null||Ab!==null)&&(Ib(),Fb())}function Nb(sn,ln,cn){if(Lb)return sn(ln,cn);Lb=!0;try{return Jb(sn,ln,cn)}finally{Lb=!1,Mb()}}function Ob(sn,ln){var cn=sn.stateNode;if(cn===null)return null;var dn=Db(cn);if(dn===null)return null;cn=dn[ln];e:switch(ln){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(dn=!dn.disabled)||(sn=sn.type,dn=!(sn==="button"||sn==="input"||sn==="select"||sn==="textarea")),sn=!dn;break e;default:sn=!1}if(sn)return null;if(cn&&typeof cn!="function")throw Error(y$f(231,ln,typeof cn));return cn}var Pb=!1;if(fa$6)try{var Qb={};Object.defineProperty(Qb,"passive",{get:function(){Pb=!0}}),window.addEventListener("test",Qb,Qb),window.removeEventListener("test",Qb,Qb)}catch{Pb=!1}function Rb(sn,ln,cn,dn,pn,vn,Sn,En,Cn){var Pn=Array.prototype.slice.call(arguments,3);try{ln.apply(cn,Pn)}catch(Rn){this.onError(Rn)}}var Sb=!1,Tb=null,Ub=!1,Vb=null,Wb={onError:function(sn){Sb=!0,Tb=sn}};function Xb(sn,ln,cn,dn,pn,vn,Sn,En,Cn){Sb=!1,Tb=null,Rb.apply(Wb,arguments)}function Yb(sn,ln,cn,dn,pn,vn,Sn,En,Cn){if(Xb.apply(this,arguments),Sb){if(Sb){var Pn=Tb;Sb=!1,Tb=null}else throw Error(y$f(198));Ub||(Ub=!0,Vb=Pn)}}function Zb(sn){var ln=sn,cn=sn;if(sn.alternate)for(;ln.return;)ln=ln.return;else{sn=ln;do ln=sn,ln.flags&1026&&(cn=ln.return),sn=ln.return;while(sn)}return ln.tag===3?cn:null}function $b(sn){if(sn.tag===13){var ln=sn.memoizedState;if(ln===null&&(sn=sn.alternate,sn!==null&&(ln=sn.memoizedState)),ln!==null)return ln.dehydrated}return null}function ac(sn){if(Zb(sn)!==sn)throw Error(y$f(188))}function bc(sn){var ln=sn.alternate;if(!ln){if(ln=Zb(sn),ln===null)throw Error(y$f(188));return ln!==sn?null:sn}for(var cn=sn,dn=ln;;){var pn=cn.return;if(pn===null)break;var vn=pn.alternate;if(vn===null){if(dn=pn.return,dn!==null){cn=dn;continue}break}if(pn.child===vn.child){for(vn=pn.child;vn;){if(vn===cn)return ac(pn),sn;if(vn===dn)return ac(pn),ln;vn=vn.sibling}throw Error(y$f(188))}if(cn.return!==dn.return)cn=pn,dn=vn;else{for(var Sn=!1,En=pn.child;En;){if(En===cn){Sn=!0,cn=pn,dn=vn;break}if(En===dn){Sn=!0,dn=pn,cn=vn;break}En=En.sibling}if(!Sn){for(En=vn.child;En;){if(En===cn){Sn=!0,cn=vn,dn=pn;break}if(En===dn){Sn=!0,dn=vn,cn=pn;break}En=En.sibling}if(!Sn)throw Error(y$f(189))}}if(cn.alternate!==dn)throw Error(y$f(190))}if(cn.tag!==3)throw Error(y$f(188));return cn.stateNode.current===cn?sn:ln}function cc(sn){if(sn=bc(sn),!sn)return null;for(var ln=sn;;){if(ln.tag===5||ln.tag===6)return ln;if(ln.child)ln.child.return=ln,ln=ln.child;else{if(ln===sn)break;for(;!ln.sibling;){if(!ln.return||ln.return===sn)return null;ln=ln.return}ln.sibling.return=ln.return,ln=ln.sibling}}return null}function dc(sn,ln){for(var cn=sn.alternate;ln!==null;){if(ln===sn||ln===cn)return!0;ln=ln.return}return!1}var ec,fc,gc,hc,ic=!1,jc=[],kc=null,lc=null,mc=null,nc=new Map,oc=new Map,pc=[],qc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rc(sn,ln,cn,dn,pn){return{blockedOn:sn,domEventName:ln,eventSystemFlags:cn|16,nativeEvent:pn,targetContainers:[dn]}}function sc(sn,ln){switch(sn){case"focusin":case"focusout":kc=null;break;case"dragenter":case"dragleave":lc=null;break;case"mouseover":case"mouseout":mc=null;break;case"pointerover":case"pointerout":nc.delete(ln.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(ln.pointerId)}}function tc(sn,ln,cn,dn,pn,vn){return sn===null||sn.nativeEvent!==vn?(sn=rc(ln,cn,dn,pn,vn),ln!==null&&(ln=Cb(ln),ln!==null&&fc(ln)),sn):(sn.eventSystemFlags|=dn,ln=sn.targetContainers,pn!==null&&ln.indexOf(pn)===-1&&ln.push(pn),sn)}function uc(sn,ln,cn,dn,pn){switch(ln){case"focusin":return kc=tc(kc,sn,ln,cn,dn,pn),!0;case"dragenter":return lc=tc(lc,sn,ln,cn,dn,pn),!0;case"mouseover":return mc=tc(mc,sn,ln,cn,dn,pn),!0;case"pointerover":var vn=pn.pointerId;return nc.set(vn,tc(nc.get(vn)||null,sn,ln,cn,dn,pn)),!0;case"gotpointercapture":return vn=pn.pointerId,oc.set(vn,tc(oc.get(vn)||null,sn,ln,cn,dn,pn)),!0}return!1}function vc(sn){var ln=wc(sn.target);if(ln!==null){var cn=Zb(ln);if(cn!==null){if(ln=cn.tag,ln===13){if(ln=$b(cn),ln!==null){sn.blockedOn=ln,hc(sn.lanePriority,function(){r$8.unstable_runWithPriority(sn.priority,function(){gc(cn)})});return}}else if(ln===3&&cn.stateNode.hydrate){sn.blockedOn=cn.tag===3?cn.stateNode.containerInfo:null;return}}}sn.blockedOn=null}function xc(sn){if(sn.blockedOn!==null)return!1;for(var ln=sn.targetContainers;0<ln.length;){var cn=yc(sn.domEventName,sn.eventSystemFlags,ln[0],sn.nativeEvent);if(cn!==null)return ln=Cb(cn),ln!==null&&fc(ln),sn.blockedOn=cn,!1;ln.shift()}return!0}function zc(sn,ln,cn){xc(sn)&&cn.delete(ln)}function Ac(){for(ic=!1;0<jc.length;){var sn=jc[0];if(sn.blockedOn!==null){sn=Cb(sn.blockedOn),sn!==null&&ec(sn);break}for(var ln=sn.targetContainers;0<ln.length;){var cn=yc(sn.domEventName,sn.eventSystemFlags,ln[0],sn.nativeEvent);if(cn!==null){sn.blockedOn=cn;break}ln.shift()}sn.blockedOn===null&&jc.shift()}kc!==null&&xc(kc)&&(kc=null),lc!==null&&xc(lc)&&(lc=null),mc!==null&&xc(mc)&&(mc=null),nc.forEach(zc),oc.forEach(zc)}function Bc(sn,ln){sn.blockedOn===ln&&(sn.blockedOn=null,ic||(ic=!0,r$8.unstable_scheduleCallback(r$8.unstable_NormalPriority,Ac)))}function Cc(sn){function ln(pn){return Bc(pn,sn)}if(0<jc.length){Bc(jc[0],sn);for(var cn=1;cn<jc.length;cn++){var dn=jc[cn];dn.blockedOn===sn&&(dn.blockedOn=null)}}for(kc!==null&&Bc(kc,sn),lc!==null&&Bc(lc,sn),mc!==null&&Bc(mc,sn),nc.forEach(ln),oc.forEach(ln),cn=0;cn<pc.length;cn++)dn=pc[cn],dn.blockedOn===sn&&(dn.blockedOn=null);for(;0<pc.length&&(cn=pc[0],cn.blockedOn===null);)vc(cn),cn.blockedOn===null&&pc.shift()}function Dc(sn,ln){var cn={};return cn[sn.toLowerCase()]=ln.toLowerCase(),cn["Webkit"+sn]="webkit"+ln,cn["Moz"+sn]="moz"+ln,cn}var Ec={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},Fc={},Gc={};fa$6&&(Gc=document.createElement("div").style,"AnimationEvent"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),"TransitionEvent"in window||delete Ec.transitionend.transition);function Hc(sn){if(Fc[sn])return Fc[sn];if(!Ec[sn])return sn;var ln=Ec[sn],cn;for(cn in ln)if(ln.hasOwnProperty(cn)&&cn in Gc)return Fc[sn]=ln[cn];return sn}var Ic=Hc("animationend"),Jc=Hc("animationiteration"),Kc=Hc("animationstart"),Lc=Hc("transitionend"),Mc=new Map,Nc=new Map,Oc=["abort","abort",Ic,"animationEnd",Jc,"animationIteration",Kc,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Lc,"transitionEnd","waiting","waiting"];function Pc(sn,ln){for(var cn=0;cn<sn.length;cn+=2){var dn=sn[cn],pn=sn[cn+1];pn="on"+(pn[0].toUpperCase()+pn.slice(1)),Nc.set(dn,ln),Mc.set(dn,pn),da$6(pn,[dn])}}var Qc=r$8.unstable_now;Qc();var F$g=8;function Rc(sn){if(1&sn)return F$g=15,1;if(2&sn)return F$g=14,2;if(4&sn)return F$g=13,4;var ln=24&sn;return ln!==0?(F$g=12,ln):sn&32?(F$g=11,32):(ln=192&sn,ln!==0?(F$g=10,ln):sn&256?(F$g=9,256):(ln=3584&sn,ln!==0?(F$g=8,ln):sn&4096?(F$g=7,4096):(ln=4186112&sn,ln!==0?(F$g=6,ln):(ln=62914560&sn,ln!==0?(F$g=5,ln):sn&67108864?(F$g=4,67108864):sn&134217728?(F$g=3,134217728):(ln=805306368&sn,ln!==0?(F$g=2,ln):1073741824&sn?(F$g=1,1073741824):(F$g=8,sn))))))}function Sc(sn){switch(sn){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Tc(sn){switch(sn){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(y$f(358,sn))}}function Uc(sn,ln){var cn=sn.pendingLanes;if(cn===0)return F$g=0;var dn=0,pn=0,vn=sn.expiredLanes,Sn=sn.suspendedLanes,En=sn.pingedLanes;if(vn!==0)dn=vn,pn=F$g=15;else if(vn=cn&134217727,vn!==0){var Cn=vn&~Sn;Cn!==0?(dn=Rc(Cn),pn=F$g):(En&=vn,En!==0&&(dn=Rc(En),pn=F$g))}else vn=cn&~Sn,vn!==0?(dn=Rc(vn),pn=F$g):En!==0&&(dn=Rc(En),pn=F$g);if(dn===0)return 0;if(dn=31-Vc(dn),dn=cn&((0>dn?0:1<<dn)<<1)-1,ln!==0&&ln!==dn&&!(ln&Sn)){if(Rc(ln),pn<=F$g)return ln;F$g=pn}if(ln=sn.entangledLanes,ln!==0)for(sn=sn.entanglements,ln&=dn;0<ln;)cn=31-Vc(ln),pn=1<<cn,dn|=sn[cn],ln&=~pn;return dn}function Wc(sn){return sn=sn.pendingLanes&-1073741825,sn!==0?sn:sn&1073741824?1073741824:0}function Xc(sn,ln){switch(sn){case 15:return 1;case 14:return 2;case 12:return sn=Yc(24&~ln),sn===0?Xc(10,ln):sn;case 10:return sn=Yc(192&~ln),sn===0?Xc(8,ln):sn;case 8:return sn=Yc(3584&~ln),sn===0&&(sn=Yc(4186112&~ln),sn===0&&(sn=512)),sn;case 2:return ln=Yc(805306368&~ln),ln===0&&(ln=268435456),ln}throw Error(y$f(358,sn))}function Yc(sn){return sn&-sn}function Zc(sn){for(var ln=[],cn=0;31>cn;cn++)ln.push(sn);return ln}function $c(sn,ln,cn){sn.pendingLanes|=ln;var dn=ln-1;sn.suspendedLanes&=dn,sn.pingedLanes&=dn,sn=sn.eventTimes,ln=31-Vc(ln),sn[ln]=cn}var Vc=Math.clz32?Math.clz32:ad,bd=Math.log,cd=Math.LN2;function ad(sn){return sn===0?32:31-(bd(sn)/cd|0)|0}var dd=r$8.unstable_UserBlockingPriority,ed=r$8.unstable_runWithPriority,fd=!0;function gd(sn,ln,cn,dn){Kb||Ib();var pn=hd,vn=Kb;Kb=!0;try{Hb(pn,sn,ln,cn,dn)}finally{(Kb=vn)||Mb()}}function id$2(sn,ln,cn,dn){ed(dd,hd.bind(null,sn,ln,cn,dn))}function hd(sn,ln,cn,dn){if(fd){var pn;if((pn=(ln&4)===0)&&0<jc.length&&-1<qc.indexOf(sn))sn=rc(null,sn,ln,cn,dn),jc.push(sn);else{var vn=yc(sn,ln,cn,dn);if(vn===null)pn&&sc(sn,dn);else{if(pn){if(-1<qc.indexOf(sn)){sn=rc(vn,sn,ln,cn,dn),jc.push(sn);return}if(uc(vn,sn,ln,cn,dn))return;sc(sn,dn)}jd(sn,ln,dn,null,cn)}}}}function yc(sn,ln,cn,dn){var pn=xb(dn);if(pn=wc(pn),pn!==null){var vn=Zb(pn);if(vn===null)pn=null;else{var Sn=vn.tag;if(Sn===13){if(pn=$b(vn),pn!==null)return pn;pn=null}else if(Sn===3){if(vn.stateNode.hydrate)return vn.tag===3?vn.stateNode.containerInfo:null;pn=null}else vn!==pn&&(pn=null)}}return jd(sn,ln,dn,pn,cn),null}var kd=null,ld=null,md=null;function nd(){if(md)return md;var sn,ln=ld,cn=ln.length,dn,pn="value"in kd?kd.value:kd.textContent,vn=pn.length;for(sn=0;sn<cn&&ln[sn]===pn[sn];sn++);var Sn=cn-sn;for(dn=1;dn<=Sn&&ln[cn-dn]===pn[vn-dn];dn++);return md=pn.slice(sn,1<dn?1-dn:void 0)}function od(sn){var ln=sn.keyCode;return"charCode"in sn?(sn=sn.charCode,sn===0&&ln===13&&(sn=13)):sn=ln,sn===10&&(sn=13),32<=sn||sn===13?sn:0}function pd(){return!0}function qd(){return!1}function rd(sn){function ln(cn,dn,pn,vn,Sn){this._reactName=cn,this._targetInst=pn,this.type=dn,this.nativeEvent=vn,this.target=Sn,this.currentTarget=null;for(var En in sn)sn.hasOwnProperty(En)&&(cn=sn[En],this[En]=cn?cn(vn):vn[En]);return this.isDefaultPrevented=(vn.defaultPrevented!=null?vn.defaultPrevented:vn.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return m$f(ln.prototype,{preventDefault:function(){this.defaultPrevented=!0;var cn=this.nativeEvent;cn&&(cn.preventDefault?cn.preventDefault():typeof cn.returnValue!="unknown"&&(cn.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var cn=this.nativeEvent;cn&&(cn.stopPropagation?cn.stopPropagation():typeof cn.cancelBubble!="unknown"&&(cn.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),ln}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(sn){return sn.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=m$f({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=m$f({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(sn){return sn.relatedTarget===void 0?sn.fromElement===sn.srcElement?sn.toElement:sn.fromElement:sn.relatedTarget},movementX:function(sn){return"movementX"in sn?sn.movementX:(sn!==yd&&(yd&&sn.type==="mousemove"?(wd=sn.screenX-yd.screenX,xd=sn.screenY-yd.screenY):xd=wd=0,yd=sn),wd)},movementY:function(sn){return"movementY"in sn?sn.movementY:xd}}),Bd=rd(Ad),Cd=m$f({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=m$f({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=m$f({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=m$f({},sd,{clipboardData:function(sn){return"clipboardData"in sn?sn.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=m$f({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(sn){var ln=this.nativeEvent;return ln.getModifierState?ln.getModifierState(sn):(sn=Od[sn])?!!ln[sn]:!1}function zd(){return Pd}var Qd=m$f({},ud,{key:function(sn){if(sn.key){var ln=Md[sn.key]||sn.key;if(ln!=="Unidentified")return ln}return sn.type==="keypress"?(sn=od(sn),sn===13?"Enter":String.fromCharCode(sn)):sn.type==="keydown"||sn.type==="keyup"?Nd[sn.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(sn){return sn.type==="keypress"?od(sn):0},keyCode:function(sn){return sn.type==="keydown"||sn.type==="keyup"?sn.keyCode:0},which:function(sn){return sn.type==="keypress"?od(sn):sn.type==="keydown"||sn.type==="keyup"?sn.keyCode:0}}),Rd=rd(Qd),Sd=m$f({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=m$f({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=m$f({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=m$f({},Ad,{deltaX:function(sn){return"deltaX"in sn?sn.deltaX:"wheelDeltaX"in sn?-sn.wheelDeltaX:0},deltaY:function(sn){return"deltaY"in sn?sn.deltaY:"wheelDeltaY"in sn?-sn.wheelDeltaY:"wheelDelta"in sn?-sn.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$9=fa$6&&"CompositionEvent"in window,be$9=null;fa$6&&"documentMode"in document&&(be$9=document.documentMode);var ce$9=fa$6&&"TextEvent"in window&&!be$9,de$9=fa$6&&(!ae$9||be$9&&8<be$9&&11>=be$9),ee$9=String.fromCharCode(32),fe$8=!1;function ge$9(sn,ln){switch(sn){case"keyup":return $d.indexOf(ln.keyCode)!==-1;case"keydown":return ln.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$9(sn){return sn=sn.detail,typeof sn=="object"&&"data"in sn?sn.data:null}var ie$8=!1;function je$9(sn,ln){switch(sn){case"compositionend":return he$9(ln);case"keypress":return ln.which!==32?null:(fe$8=!0,ee$9);case"textInput":return sn=ln.data,sn===ee$9&&fe$8?null:sn;default:return null}}function ke$7(sn,ln){if(ie$8)return sn==="compositionend"||!ae$9&&ge$9(sn,ln)?(sn=nd(),md=ld=kd=null,ie$8=!1,sn):null;switch(sn){case"paste":return null;case"keypress":if(!(ln.ctrlKey||ln.altKey||ln.metaKey)||ln.ctrlKey&&ln.altKey){if(ln.char&&1<ln.char.length)return ln.char;if(ln.which)return String.fromCharCode(ln.which)}return null;case"compositionend":return de$9&&ln.locale!=="ko"?null:ln.data;default:return null}}var le$9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$9(sn){var ln=sn&&sn.nodeName&&sn.nodeName.toLowerCase();return ln==="input"?!!le$9[sn.type]:ln==="textarea"}function ne$9(sn,ln,cn,dn){Eb(dn),ln=oe$9(ln,"onChange"),0<ln.length&&(cn=new td("onChange","change",null,cn,dn),sn.push({event:cn,listeners:ln}))}var pe$9=null,qe$9=null;function re$9(sn){se$9(sn,0)}function te$9(sn){var ln=ue$9(sn);if(Wa$4(ln))return sn}function ve$8(sn,ln){if(sn==="change")return ln}var we$9=!1;if(fa$6){var xe$9;if(fa$6){var ye$9="oninput"in document;if(!ye$9){var ze$9=document.createElement("div");ze$9.setAttribute("oninput","return;"),ye$9=typeof ze$9.oninput=="function"}xe$9=ye$9}else xe$9=!1;we$9=xe$9&&(!document.documentMode||9<document.documentMode)}function Ae$7(){pe$9&&(pe$9.detachEvent("onpropertychange",Be$8),qe$9=pe$9=null)}function Be$8(sn){if(sn.propertyName==="value"&&te$9(qe$9)){var ln=[];if(ne$9(ln,qe$9,sn,xb(sn)),sn=re$9,Kb)sn(ln);else{Kb=!0;try{Gb(sn,ln)}finally{Kb=!1,Mb()}}}}function Ce$8(sn,ln,cn){sn==="focusin"?(Ae$7(),pe$9=ln,qe$9=cn,pe$9.attachEvent("onpropertychange",Be$8)):sn==="focusout"&&Ae$7()}function De$8(sn){if(sn==="selectionchange"||sn==="keyup"||sn==="keydown")return te$9(qe$9)}function Ee$9(sn,ln){if(sn==="click")return te$9(ln)}function Fe$8(sn,ln){if(sn==="input"||sn==="change")return te$9(ln)}function Ge$8(sn,ln){return sn===ln&&(sn!==0||1/sn===1/ln)||sn!==sn&&ln!==ln}var He$7=typeof Object.is=="function"?Object.is:Ge$8,Ie$8=Object.prototype.hasOwnProperty;function Je$8(sn,ln){if(He$7(sn,ln))return!0;if(typeof sn!="object"||sn===null||typeof ln!="object"||ln===null)return!1;var cn=Object.keys(sn),dn=Object.keys(ln);if(cn.length!==dn.length)return!1;for(dn=0;dn<cn.length;dn++)if(!Ie$8.call(ln,cn[dn])||!He$7(sn[cn[dn]],ln[cn[dn]]))return!1;return!0}function Ke$8(sn){for(;sn&&sn.firstChild;)sn=sn.firstChild;return sn}function Le$8(sn,ln){var cn=Ke$8(sn);sn=0;for(var dn;cn;){if(cn.nodeType===3){if(dn=sn+cn.textContent.length,sn<=ln&&dn>=ln)return{node:cn,offset:ln-sn};sn=dn}e:{for(;cn;){if(cn.nextSibling){cn=cn.nextSibling;break e}cn=cn.parentNode}cn=void 0}cn=Ke$8(cn)}}function Me$9(sn,ln){return sn&&ln?sn===ln?!0:sn&&sn.nodeType===3?!1:ln&&ln.nodeType===3?Me$9(sn,ln.parentNode):"contains"in sn?sn.contains(ln):sn.compareDocumentPosition?!!(sn.compareDocumentPosition(ln)&16):!1:!1}function Ne$8(){for(var sn=window,ln=Xa$4();ln instanceof sn.HTMLIFrameElement;){try{var cn=typeof ln.contentWindow.location.href=="string"}catch{cn=!1}if(cn)sn=ln.contentWindow;else break;ln=Xa$4(sn.document)}return ln}function Oe$7(sn){var ln=sn&&sn.nodeName&&sn.nodeName.toLowerCase();return ln&&(ln==="input"&&(sn.type==="text"||sn.type==="search"||sn.type==="tel"||sn.type==="url"||sn.type==="password")||ln==="textarea"||sn.contentEditable==="true")}var Pe$7=fa$6&&"documentMode"in document&&11>=document.documentMode,Qe$8=null,Re$7=null,Se$9=null,Te$9=!1;function Ue$8(sn,ln,cn){var dn=cn.window===cn?cn.document:cn.nodeType===9?cn:cn.ownerDocument;Te$9||Qe$8==null||Qe$8!==Xa$4(dn)||(dn=Qe$8,"selectionStart"in dn&&Oe$7(dn)?dn={start:dn.selectionStart,end:dn.selectionEnd}:(dn=(dn.ownerDocument&&dn.ownerDocument.defaultView||window).getSelection(),dn={anchorNode:dn.anchorNode,anchorOffset:dn.anchorOffset,focusNode:dn.focusNode,focusOffset:dn.focusOffset}),Se$9&&Je$8(Se$9,dn)||(Se$9=dn,dn=oe$9(Re$7,"onSelect"),0<dn.length&&(ln=new td("onSelect","select",null,ln,cn),sn.push({event:ln,listeners:dn}),ln.target=Qe$8)))}Pc("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Pc("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Pc(Oc,2);for(var Ve$9="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),We$8=0;We$8<Ve$9.length;We$8++)Nc.set(Ve$9[We$8],0);ea$6("onMouseEnter",["mouseout","mouseover"]);ea$6("onMouseLeave",["mouseout","mouseover"]);ea$6("onPointerEnter",["pointerout","pointerover"]);ea$6("onPointerLeave",["pointerout","pointerover"]);da$6("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));da$6("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));da$6("onBeforeInput",["compositionend","keypress","textInput","paste"]);da$6("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));da$6("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));da$6("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xe$8="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ye$8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xe$8));function Ze$8(sn,ln,cn){var dn=sn.type||"unknown-event";sn.currentTarget=cn,Yb(dn,ln,void 0,sn),sn.currentTarget=null}function se$9(sn,ln){ln=(ln&4)!==0;for(var cn=0;cn<sn.length;cn++){var dn=sn[cn],pn=dn.event;dn=dn.listeners;e:{var vn=void 0;if(ln)for(var Sn=dn.length-1;0<=Sn;Sn--){var En=dn[Sn],Cn=En.instance,Pn=En.currentTarget;if(En=En.listener,Cn!==vn&&pn.isPropagationStopped())break e;Ze$8(pn,En,Pn),vn=Cn}else for(Sn=0;Sn<dn.length;Sn++){if(En=dn[Sn],Cn=En.instance,Pn=En.currentTarget,En=En.listener,Cn!==vn&&pn.isPropagationStopped())break e;Ze$8(pn,En,Pn),vn=Cn}}}if(Ub)throw sn=Vb,Ub=!1,Vb=null,sn}function G$d(sn,ln){var cn=$e$8(ln),dn=sn+"__bubble";cn.has(dn)||(af$2(ln,sn,2,!1),cn.add(dn))}var bf$3="_reactListening"+Math.random().toString(36).slice(2);function cf$3(sn){sn[bf$3]||(sn[bf$3]=!0,ba$6.forEach(function(ln){Ye$8.has(ln)||df$3(ln,!1,sn,null),df$3(ln,!0,sn,null)}))}function df$3(sn,ln,cn,dn){var pn=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,vn=cn;if(sn==="selectionchange"&&cn.nodeType!==9&&(vn=cn.ownerDocument),dn!==null&&!ln&&Ye$8.has(sn)){if(sn!=="scroll")return;pn|=2,vn=dn}var Sn=$e$8(vn),En=sn+"__"+(ln?"capture":"bubble");Sn.has(En)||(ln&&(pn|=4),af$2(vn,sn,pn,ln),Sn.add(En))}function af$2(sn,ln,cn,dn){var pn=Nc.get(ln);switch(pn===void 0?2:pn){case 0:pn=gd;break;case 1:pn=id$2;break;default:pn=hd}cn=pn.bind(null,ln,cn,sn),pn=void 0,!Pb||ln!=="touchstart"&&ln!=="touchmove"&&ln!=="wheel"||(pn=!0),dn?pn!==void 0?sn.addEventListener(ln,cn,{capture:!0,passive:pn}):sn.addEventListener(ln,cn,!0):pn!==void 0?sn.addEventListener(ln,cn,{passive:pn}):sn.addEventListener(ln,cn,!1)}function jd(sn,ln,cn,dn,pn){var vn=dn;if(!(ln&1)&&!(ln&2)&&dn!==null)e:for(;;){if(dn===null)return;var Sn=dn.tag;if(Sn===3||Sn===4){var En=dn.stateNode.containerInfo;if(En===pn||En.nodeType===8&&En.parentNode===pn)break;if(Sn===4)for(Sn=dn.return;Sn!==null;){var Cn=Sn.tag;if((Cn===3||Cn===4)&&(Cn=Sn.stateNode.containerInfo,Cn===pn||Cn.nodeType===8&&Cn.parentNode===pn))return;Sn=Sn.return}for(;En!==null;){if(Sn=wc(En),Sn===null)return;if(Cn=Sn.tag,Cn===5||Cn===6){dn=vn=Sn;continue e}En=En.parentNode}}dn=dn.return}Nb(function(){var Pn=vn,Rn=xb(cn),Ln=[];e:{var Fn=Mc.get(sn);if(Fn!==void 0){var Gn=td,Dn=sn;switch(sn){case"keypress":if(od(cn)===0)break e;case"keydown":case"keyup":Gn=Rd;break;case"focusin":Dn="focus",Gn=Fd;break;case"focusout":Dn="blur",Gn=Fd;break;case"beforeblur":case"afterblur":Gn=Fd;break;case"click":if(cn.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Gn=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Gn=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Gn=Vd;break;case Ic:case Jc:case Kc:Gn=Hd;break;case Lc:Gn=Xd;break;case"scroll":Gn=vd;break;case"wheel":Gn=Zd;break;case"copy":case"cut":case"paste":Gn=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Gn=Td}var Kn=(ln&4)!==0,qn=!Kn&&sn==="scroll",Zn=Kn?Fn!==null?Fn+"Capture":null:Fn;Kn=[];for(var Yn=Pn,Jn;Yn!==null;){Jn=Yn;var rs=Jn.stateNode;if(Jn.tag===5&&rs!==null&&(Jn=rs,Zn!==null&&(rs=Ob(Yn,Zn),rs!=null&&Kn.push(ef$3(Yn,rs,Jn)))),qn)break;Yn=Yn.return}0<Kn.length&&(Fn=new Gn(Fn,Dn,null,cn,Rn),Ln.push({event:Fn,listeners:Kn}))}}if(!(ln&7)){e:{if(Fn=sn==="mouseover"||sn==="pointerover",Gn=sn==="mouseout"||sn==="pointerout",Fn&&!(ln&16)&&(Dn=cn.relatedTarget||cn.fromElement)&&(wc(Dn)||Dn[ff$2]))break e;if((Gn||Fn)&&(Fn=Rn.window===Rn?Rn:(Fn=Rn.ownerDocument)?Fn.defaultView||Fn.parentWindow:window,Gn?(Dn=cn.relatedTarget||cn.toElement,Gn=Pn,Dn=Dn?wc(Dn):null,Dn!==null&&(qn=Zb(Dn),Dn!==qn||Dn.tag!==5&&Dn.tag!==6)&&(Dn=null)):(Gn=null,Dn=Pn),Gn!==Dn)){if(Kn=Bd,rs="onMouseLeave",Zn="onMouseEnter",Yn="mouse",(sn==="pointerout"||sn==="pointerover")&&(Kn=Td,rs="onPointerLeave",Zn="onPointerEnter",Yn="pointer"),qn=Gn==null?Fn:ue$9(Gn),Jn=Dn==null?Fn:ue$9(Dn),Fn=new Kn(rs,Yn+"leave",Gn,cn,Rn),Fn.target=qn,Fn.relatedTarget=Jn,rs=null,wc(Rn)===Pn&&(Kn=new Kn(Zn,Yn+"enter",Dn,cn,Rn),Kn.target=Jn,Kn.relatedTarget=qn,rs=Kn),qn=rs,Gn&&Dn)t:{for(Kn=Gn,Zn=Dn,Yn=0,Jn=Kn;Jn;Jn=gf$3(Jn))Yn++;for(Jn=0,rs=Zn;rs;rs=gf$3(rs))Jn++;for(;0<Yn-Jn;)Kn=gf$3(Kn),Yn--;for(;0<Jn-Yn;)Zn=gf$3(Zn),Jn--;for(;Yn--;){if(Kn===Zn||Zn!==null&&Kn===Zn.alternate)break t;Kn=gf$3(Kn),Zn=gf$3(Zn)}Kn=null}else Kn=null;Gn!==null&&hf$3(Ln,Fn,Gn,Kn,!1),Dn!==null&&qn!==null&&hf$3(Ln,qn,Dn,Kn,!0)}}e:{if(Fn=Pn?ue$9(Pn):window,Gn=Fn.nodeName&&Fn.nodeName.toLowerCase(),Gn==="select"||Gn==="input"&&Fn.type==="file")var us=ve$8;else if(me$9(Fn))if(we$9)us=Fe$8;else{us=De$8;var as=Ce$8}else(Gn=Fn.nodeName)&&Gn.toLowerCase()==="input"&&(Fn.type==="checkbox"||Fn.type==="radio")&&(us=Ee$9);if(us&&(us=us(sn,Pn))){ne$9(Ln,us,cn,Rn);break e}as&&as(sn,Fn,Pn),sn==="focusout"&&(as=Fn._wrapperState)&&as.controlled&&Fn.type==="number"&&bb(Fn,"number",Fn.value)}switch(as=Pn?ue$9(Pn):window,sn){case"focusin":(me$9(as)||as.contentEditable==="true")&&(Qe$8=as,Re$7=Pn,Se$9=null);break;case"focusout":Se$9=Re$7=Qe$8=null;break;case"mousedown":Te$9=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$9=!1,Ue$8(Ln,cn,Rn);break;case"selectionchange":if(Pe$7)break;case"keydown":case"keyup":Ue$8(Ln,cn,Rn)}var cs;if(ae$9)e:{switch(sn){case"compositionstart":var _s="onCompositionStart";break e;case"compositionend":_s="onCompositionEnd";break e;case"compositionupdate":_s="onCompositionUpdate";break e}_s=void 0}else ie$8?ge$9(sn,cn)&&(_s="onCompositionEnd"):sn==="keydown"&&cn.keyCode===229&&(_s="onCompositionStart");_s&&(de$9&&cn.locale!=="ko"&&(ie$8||_s!=="onCompositionStart"?_s==="onCompositionEnd"&&ie$8&&(cs=nd()):(kd=Rn,ld="value"in kd?kd.value:kd.textContent,ie$8=!0)),as=oe$9(Pn,_s),0<as.length&&(_s=new Ld(_s,sn,null,cn,Rn),Ln.push({event:_s,listeners:as}),cs?_s.data=cs:(cs=he$9(cn),cs!==null&&(_s.data=cs)))),(cs=ce$9?je$9(sn,cn):ke$7(sn,cn))&&(Pn=oe$9(Pn,"onBeforeInput"),0<Pn.length&&(Rn=new Ld("onBeforeInput","beforeinput",null,cn,Rn),Ln.push({event:Rn,listeners:Pn}),Rn.data=cs))}se$9(Ln,ln)})}function ef$3(sn,ln,cn){return{instance:sn,listener:ln,currentTarget:cn}}function oe$9(sn,ln){for(var cn=ln+"Capture",dn=[];sn!==null;){var pn=sn,vn=pn.stateNode;pn.tag===5&&vn!==null&&(pn=vn,vn=Ob(sn,cn),vn!=null&&dn.unshift(ef$3(sn,vn,pn)),vn=Ob(sn,ln),vn!=null&&dn.push(ef$3(sn,vn,pn))),sn=sn.return}return dn}function gf$3(sn){if(sn===null)return null;do sn=sn.return;while(sn&&sn.tag!==5);return sn||null}function hf$3(sn,ln,cn,dn,pn){for(var vn=ln._reactName,Sn=[];cn!==null&&cn!==dn;){var En=cn,Cn=En.alternate,Pn=En.stateNode;if(Cn!==null&&Cn===dn)break;En.tag===5&&Pn!==null&&(En=Pn,pn?(Cn=Ob(cn,vn),Cn!=null&&Sn.unshift(ef$3(cn,Cn,En))):pn||(Cn=Ob(cn,vn),Cn!=null&&Sn.push(ef$3(cn,Cn,En)))),cn=cn.return}Sn.length!==0&&sn.push({event:ln,listeners:Sn})}function jf$2(){}var kf=null,lf$1=null;function mf$3(sn,ln){switch(sn){case"button":case"input":case"select":case"textarea":return!!ln.autoFocus}return!1}function nf$1(sn,ln){return sn==="textarea"||sn==="option"||sn==="noscript"||typeof ln.children=="string"||typeof ln.children=="number"||typeof ln.dangerouslySetInnerHTML=="object"&&ln.dangerouslySetInnerHTML!==null&&ln.dangerouslySetInnerHTML.__html!=null}var of$3=typeof setTimeout=="function"?setTimeout:void 0,pf$3=typeof clearTimeout=="function"?clearTimeout:void 0;function qf(sn){sn.nodeType===1?sn.textContent="":sn.nodeType===9&&(sn=sn.body,sn!=null&&(sn.textContent=""))}function rf$3(sn){for(;sn!=null;sn=sn.nextSibling){var ln=sn.nodeType;if(ln===1||ln===3)break}return sn}function sf$2(sn){sn=sn.previousSibling;for(var ln=0;sn;){if(sn.nodeType===8){var cn=sn.data;if(cn==="$"||cn==="$!"||cn==="$?"){if(ln===0)return sn;ln--}else cn==="/$"&&ln++}sn=sn.previousSibling}return null}var tf$3=0;function uf$3(sn){return{$$typeof:Ga$4,toString:sn,valueOf:sn}}var vf$3=Math.random().toString(36).slice(2),wf$3="__reactFiber$"+vf$3,xf$3="__reactProps$"+vf$3,ff$2="__reactContainer$"+vf$3,yf$3="__reactEvents$"+vf$3;function wc(sn){var ln=sn[wf$3];if(ln)return ln;for(var cn=sn.parentNode;cn;){if(ln=cn[ff$2]||cn[wf$3]){if(cn=ln.alternate,ln.child!==null||cn!==null&&cn.child!==null)for(sn=sf$2(sn);sn!==null;){if(cn=sn[wf$3])return cn;sn=sf$2(sn)}return ln}sn=cn,cn=sn.parentNode}return null}function Cb(sn){return sn=sn[wf$3]||sn[ff$2],!sn||sn.tag!==5&&sn.tag!==6&&sn.tag!==13&&sn.tag!==3?null:sn}function ue$9(sn){if(sn.tag===5||sn.tag===6)return sn.stateNode;throw Error(y$f(33))}function Db(sn){return sn[xf$3]||null}function $e$8(sn){var ln=sn[yf$3];return ln===void 0&&(ln=sn[yf$3]=new Set),ln}var zf$1=[],Af$3=-1;function Bf$2(sn){return{current:sn}}function H$g(sn){0>Af$3||(sn.current=zf$1[Af$3],zf$1[Af$3]=null,Af$3--)}function I$g(sn,ln){Af$3++,zf$1[Af$3]=sn.current,sn.current=ln}var Cf$3={},M$d=Bf$2(Cf$3),N$g=Bf$2(!1),Df$1=Cf$3;function Ef$3(sn,ln){var cn=sn.type.contextTypes;if(!cn)return Cf$3;var dn=sn.stateNode;if(dn&&dn.__reactInternalMemoizedUnmaskedChildContext===ln)return dn.__reactInternalMemoizedMaskedChildContext;var pn={},vn;for(vn in cn)pn[vn]=ln[vn];return dn&&(sn=sn.stateNode,sn.__reactInternalMemoizedUnmaskedChildContext=ln,sn.__reactInternalMemoizedMaskedChildContext=pn),pn}function Ff$3(sn){return sn=sn.childContextTypes,sn!=null}function Gf$3(){H$g(N$g),H$g(M$d)}function Hf(sn,ln,cn){if(M$d.current!==Cf$3)throw Error(y$f(168));I$g(M$d,ln),I$g(N$g,cn)}function If$1(sn,ln,cn){var dn=sn.stateNode;if(sn=ln.childContextTypes,typeof dn.getChildContext!="function")return cn;dn=dn.getChildContext();for(var pn in dn)if(!(pn in sn))throw Error(y$f(108,Ra$6(ln)||"Unknown",pn));return m$f({},cn,dn)}function Jf$2(sn){return sn=(sn=sn.stateNode)&&sn.__reactInternalMemoizedMergedChildContext||Cf$3,Df$1=M$d.current,I$g(M$d,sn),I$g(N$g,N$g.current),!0}function Kf$3(sn,ln,cn){var dn=sn.stateNode;if(!dn)throw Error(y$f(169));cn?(sn=If$1(sn,ln,Df$1),dn.__reactInternalMemoizedMergedChildContext=sn,H$g(N$g),H$g(M$d),I$g(M$d,sn)):H$g(N$g),I$g(N$g,cn)}var Lf=null,Mf$3=null,Nf$3=r$8.unstable_runWithPriority,Of$3=r$8.unstable_scheduleCallback,Pf$3=r$8.unstable_cancelCallback,Qf$1=r$8.unstable_shouldYield,Rf$3=r$8.unstable_requestPaint,Sf$3=r$8.unstable_now,Tf$3=r$8.unstable_getCurrentPriorityLevel,Uf=r$8.unstable_ImmediatePriority,Vf=r$8.unstable_UserBlockingPriority,Wf=r$8.unstable_NormalPriority,Xf$1=r$8.unstable_LowPriority,Yf$1=r$8.unstable_IdlePriority,Zf$1={},$f$1=Rf$3!==void 0?Rf$3:function(){},ag=null,bg=null,cg=!1,dg=Sf$3(),O$f=1e4>dg?Sf$3:function(){return Sf$3()-dg};function eg(){switch(Tf$3()){case Uf:return 99;case Vf:return 98;case Wf:return 97;case Xf$1:return 96;case Yf$1:return 95;default:throw Error(y$f(332))}}function fg(sn){switch(sn){case 99:return Uf;case 98:return Vf;case 97:return Wf;case 96:return Xf$1;case 95:return Yf$1;default:throw Error(y$f(332))}}function gg(sn,ln){return sn=fg(sn),Nf$3(sn,ln)}function hg(sn,ln,cn){return sn=fg(sn),Of$3(sn,ln,cn)}function ig(){if(bg!==null){var sn=bg;bg=null,Pf$3(sn)}jg()}function jg(){if(!cg&&ag!==null){cg=!0;var sn=0;try{var ln=ag;gg(99,function(){for(;sn<ln.length;sn++){var cn=ln[sn];do cn=cn(!0);while(cn!==null)}}),ag=null}catch(cn){throw ag!==null&&(ag=ag.slice(sn+1)),Of$3(Uf,ig),cn}finally{cg=!1}}}var kg=ra$6.ReactCurrentBatchConfig;function lg(sn,ln){if(sn&&sn.defaultProps){ln=m$f({},ln),sn=sn.defaultProps;for(var cn in sn)ln[cn]===void 0&&(ln[cn]=sn[cn]);return ln}return ln}var mg=Bf$2(null),ng=null,og=null,pg=null;function qg(){pg=og=ng=null}function rg(sn){var ln=mg.current;H$g(mg),sn.type._context._currentValue=ln}function sg(sn,ln){for(;sn!==null;){var cn=sn.alternate;if((sn.childLanes&ln)===ln){if(cn===null||(cn.childLanes&ln)===ln)break;cn.childLanes|=ln}else sn.childLanes|=ln,cn!==null&&(cn.childLanes|=ln);sn=sn.return}}function tg(sn,ln){ng=sn,pg=og=null,sn=sn.dependencies,sn!==null&&sn.firstContext!==null&&(sn.lanes&ln&&(ug=!0),sn.firstContext=null)}function vg(sn,ln){if(pg!==sn&&ln!==!1&&ln!==0)if((typeof ln!="number"||ln===1073741823)&&(pg=sn,ln=1073741823),ln={context:sn,observedBits:ln,next:null},og===null){if(ng===null)throw Error(y$f(308));og=ln,ng.dependencies={lanes:0,firstContext:ln,responders:null}}else og=og.next=ln;return sn._currentValue}var wg=!1;function xg(sn){sn.updateQueue={baseState:sn.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function yg(sn,ln){sn=sn.updateQueue,ln.updateQueue===sn&&(ln.updateQueue={baseState:sn.baseState,firstBaseUpdate:sn.firstBaseUpdate,lastBaseUpdate:sn.lastBaseUpdate,shared:sn.shared,effects:sn.effects})}function zg(sn,ln){return{eventTime:sn,lane:ln,tag:0,payload:null,callback:null,next:null}}function Ag(sn,ln){if(sn=sn.updateQueue,sn!==null){sn=sn.shared;var cn=sn.pending;cn===null?ln.next=ln:(ln.next=cn.next,cn.next=ln),sn.pending=ln}}function Bg(sn,ln){var cn=sn.updateQueue,dn=sn.alternate;if(dn!==null&&(dn=dn.updateQueue,cn===dn)){var pn=null,vn=null;if(cn=cn.firstBaseUpdate,cn!==null){do{var Sn={eventTime:cn.eventTime,lane:cn.lane,tag:cn.tag,payload:cn.payload,callback:cn.callback,next:null};vn===null?pn=vn=Sn:vn=vn.next=Sn,cn=cn.next}while(cn!==null);vn===null?pn=vn=ln:vn=vn.next=ln}else pn=vn=ln;cn={baseState:dn.baseState,firstBaseUpdate:pn,lastBaseUpdate:vn,shared:dn.shared,effects:dn.effects},sn.updateQueue=cn;return}sn=cn.lastBaseUpdate,sn===null?cn.firstBaseUpdate=ln:sn.next=ln,cn.lastBaseUpdate=ln}function Cg(sn,ln,cn,dn){var pn=sn.updateQueue;wg=!1;var vn=pn.firstBaseUpdate,Sn=pn.lastBaseUpdate,En=pn.shared.pending;if(En!==null){pn.shared.pending=null;var Cn=En,Pn=Cn.next;Cn.next=null,Sn===null?vn=Pn:Sn.next=Pn,Sn=Cn;var Rn=sn.alternate;if(Rn!==null){Rn=Rn.updateQueue;var Ln=Rn.lastBaseUpdate;Ln!==Sn&&(Ln===null?Rn.firstBaseUpdate=Pn:Ln.next=Pn,Rn.lastBaseUpdate=Cn)}}if(vn!==null){Ln=pn.baseState,Sn=0,Rn=Pn=Cn=null;do{En=vn.lane;var Fn=vn.eventTime;if((dn&En)===En){Rn!==null&&(Rn=Rn.next={eventTime:Fn,lane:0,tag:vn.tag,payload:vn.payload,callback:vn.callback,next:null});e:{var Gn=sn,Dn=vn;switch(En=ln,Fn=cn,Dn.tag){case 1:if(Gn=Dn.payload,typeof Gn=="function"){Ln=Gn.call(Fn,Ln,En);break e}Ln=Gn;break e;case 3:Gn.flags=Gn.flags&-4097|64;case 0:if(Gn=Dn.payload,En=typeof Gn=="function"?Gn.call(Fn,Ln,En):Gn,En==null)break e;Ln=m$f({},Ln,En);break e;case 2:wg=!0}}vn.callback!==null&&(sn.flags|=32,En=pn.effects,En===null?pn.effects=[vn]:En.push(vn))}else Fn={eventTime:Fn,lane:En,tag:vn.tag,payload:vn.payload,callback:vn.callback,next:null},Rn===null?(Pn=Rn=Fn,Cn=Ln):Rn=Rn.next=Fn,Sn|=En;if(vn=vn.next,vn===null){if(En=pn.shared.pending,En===null)break;vn=En.next,En.next=null,pn.lastBaseUpdate=En,pn.shared.pending=null}}while(1);Rn===null&&(Cn=Ln),pn.baseState=Cn,pn.firstBaseUpdate=Pn,pn.lastBaseUpdate=Rn,Dg|=Sn,sn.lanes=Sn,sn.memoizedState=Ln}}function Eg(sn,ln,cn){if(sn=ln.effects,ln.effects=null,sn!==null)for(ln=0;ln<sn.length;ln++){var dn=sn[ln],pn=dn.callback;if(pn!==null){if(dn.callback=null,dn=cn,typeof pn!="function")throw Error(y$f(191,pn));pn.call(dn)}}}var Fg=new aa$6.Component().refs;function Gg(sn,ln,cn,dn){ln=sn.memoizedState,cn=cn(dn,ln),cn=cn==null?ln:m$f({},ln,cn),sn.memoizedState=cn,sn.lanes===0&&(sn.updateQueue.baseState=cn)}var Kg={isMounted:function(sn){return(sn=sn._reactInternals)?Zb(sn)===sn:!1},enqueueSetState:function(sn,ln,cn){sn=sn._reactInternals;var dn=Hg(),pn=Ig(sn),vn=zg(dn,pn);vn.payload=ln,cn!=null&&(vn.callback=cn),Ag(sn,vn),Jg(sn,pn,dn)},enqueueReplaceState:function(sn,ln,cn){sn=sn._reactInternals;var dn=Hg(),pn=Ig(sn),vn=zg(dn,pn);vn.tag=1,vn.payload=ln,cn!=null&&(vn.callback=cn),Ag(sn,vn),Jg(sn,pn,dn)},enqueueForceUpdate:function(sn,ln){sn=sn._reactInternals;var cn=Hg(),dn=Ig(sn),pn=zg(cn,dn);pn.tag=2,ln!=null&&(pn.callback=ln),Ag(sn,pn),Jg(sn,dn,cn)}};function Lg(sn,ln,cn,dn,pn,vn,Sn){return sn=sn.stateNode,typeof sn.shouldComponentUpdate=="function"?sn.shouldComponentUpdate(dn,vn,Sn):ln.prototype&&ln.prototype.isPureReactComponent?!Je$8(cn,dn)||!Je$8(pn,vn):!0}function Mg(sn,ln,cn){var dn=!1,pn=Cf$3,vn=ln.contextType;return typeof vn=="object"&&vn!==null?vn=vg(vn):(pn=Ff$3(ln)?Df$1:M$d.current,dn=ln.contextTypes,vn=(dn=dn!=null)?Ef$3(sn,pn):Cf$3),ln=new ln(cn,vn),sn.memoizedState=ln.state!==null&&ln.state!==void 0?ln.state:null,ln.updater=Kg,sn.stateNode=ln,ln._reactInternals=sn,dn&&(sn=sn.stateNode,sn.__reactInternalMemoizedUnmaskedChildContext=pn,sn.__reactInternalMemoizedMaskedChildContext=vn),ln}function Ng(sn,ln,cn,dn){sn=ln.state,typeof ln.componentWillReceiveProps=="function"&&ln.componentWillReceiveProps(cn,dn),typeof ln.UNSAFE_componentWillReceiveProps=="function"&&ln.UNSAFE_componentWillReceiveProps(cn,dn),ln.state!==sn&&Kg.enqueueReplaceState(ln,ln.state,null)}function Og(sn,ln,cn,dn){var pn=sn.stateNode;pn.props=cn,pn.state=sn.memoizedState,pn.refs=Fg,xg(sn);var vn=ln.contextType;typeof vn=="object"&&vn!==null?pn.context=vg(vn):(vn=Ff$3(ln)?Df$1:M$d.current,pn.context=Ef$3(sn,vn)),Cg(sn,cn,pn,dn),pn.state=sn.memoizedState,vn=ln.getDerivedStateFromProps,typeof vn=="function"&&(Gg(sn,ln,vn,cn),pn.state=sn.memoizedState),typeof ln.getDerivedStateFromProps=="function"||typeof pn.getSnapshotBeforeUpdate=="function"||typeof pn.UNSAFE_componentWillMount!="function"&&typeof pn.componentWillMount!="function"||(ln=pn.state,typeof pn.componentWillMount=="function"&&pn.componentWillMount(),typeof pn.UNSAFE_componentWillMount=="function"&&pn.UNSAFE_componentWillMount(),ln!==pn.state&&Kg.enqueueReplaceState(pn,pn.state,null),Cg(sn,cn,pn,dn),pn.state=sn.memoizedState),typeof pn.componentDidMount=="function"&&(sn.flags|=4)}var Pg=Array.isArray;function Qg(sn,ln,cn){if(sn=cn.ref,sn!==null&&typeof sn!="function"&&typeof sn!="object"){if(cn._owner){if(cn=cn._owner,cn){if(cn.tag!==1)throw Error(y$f(309));var dn=cn.stateNode}if(!dn)throw Error(y$f(147,sn));var pn=""+sn;return ln!==null&&ln.ref!==null&&typeof ln.ref=="function"&&ln.ref._stringRef===pn?ln.ref:(ln=function(vn){var Sn=dn.refs;Sn===Fg&&(Sn=dn.refs={}),vn===null?delete Sn[pn]:Sn[pn]=vn},ln._stringRef=pn,ln)}if(typeof sn!="string")throw Error(y$f(284));if(!cn._owner)throw Error(y$f(290,sn))}return sn}function Rg(sn,ln){if(sn.type!=="textarea")throw Error(y$f(31,Object.prototype.toString.call(ln)==="[object Object]"?"object with keys {"+Object.keys(ln).join(", ")+"}":ln))}function Sg(sn){function ln(qn,Zn){if(sn){var Yn=qn.lastEffect;Yn!==null?(Yn.nextEffect=Zn,qn.lastEffect=Zn):qn.firstEffect=qn.lastEffect=Zn,Zn.nextEffect=null,Zn.flags=8}}function cn(qn,Zn){if(!sn)return null;for(;Zn!==null;)ln(qn,Zn),Zn=Zn.sibling;return null}function dn(qn,Zn){for(qn=new Map;Zn!==null;)Zn.key!==null?qn.set(Zn.key,Zn):qn.set(Zn.index,Zn),Zn=Zn.sibling;return qn}function pn(qn,Zn){return qn=Tg(qn,Zn),qn.index=0,qn.sibling=null,qn}function vn(qn,Zn,Yn){return qn.index=Yn,sn?(Yn=qn.alternate,Yn!==null?(Yn=Yn.index,Yn<Zn?(qn.flags=2,Zn):Yn):(qn.flags=2,Zn)):Zn}function Sn(qn){return sn&&qn.alternate===null&&(qn.flags=2),qn}function En(qn,Zn,Yn,Jn){return Zn===null||Zn.tag!==6?(Zn=Ug(Yn,qn.mode,Jn),Zn.return=qn,Zn):(Zn=pn(Zn,Yn),Zn.return=qn,Zn)}function Cn(qn,Zn,Yn,Jn){return Zn!==null&&Zn.elementType===Yn.type?(Jn=pn(Zn,Yn.props),Jn.ref=Qg(qn,Zn,Yn),Jn.return=qn,Jn):(Jn=Vg(Yn.type,Yn.key,Yn.props,null,qn.mode,Jn),Jn.ref=Qg(qn,Zn,Yn),Jn.return=qn,Jn)}function Pn(qn,Zn,Yn,Jn){return Zn===null||Zn.tag!==4||Zn.stateNode.containerInfo!==Yn.containerInfo||Zn.stateNode.implementation!==Yn.implementation?(Zn=Wg(Yn,qn.mode,Jn),Zn.return=qn,Zn):(Zn=pn(Zn,Yn.children||[]),Zn.return=qn,Zn)}function Rn(qn,Zn,Yn,Jn,rs){return Zn===null||Zn.tag!==7?(Zn=Xg(Yn,qn.mode,Jn,rs),Zn.return=qn,Zn):(Zn=pn(Zn,Yn),Zn.return=qn,Zn)}function Ln(qn,Zn,Yn){if(typeof Zn=="string"||typeof Zn=="number")return Zn=Ug(""+Zn,qn.mode,Yn),Zn.return=qn,Zn;if(typeof Zn=="object"&&Zn!==null){switch(Zn.$$typeof){case sa$6:return Yn=Vg(Zn.type,Zn.key,Zn.props,null,qn.mode,Yn),Yn.ref=Qg(qn,null,Zn),Yn.return=qn,Yn;case ta$6:return Zn=Wg(Zn,qn.mode,Yn),Zn.return=qn,Zn}if(Pg(Zn)||La$6(Zn))return Zn=Xg(Zn,qn.mode,Yn,null),Zn.return=qn,Zn;Rg(qn,Zn)}return null}function Fn(qn,Zn,Yn,Jn){var rs=Zn!==null?Zn.key:null;if(typeof Yn=="string"||typeof Yn=="number")return rs!==null?null:En(qn,Zn,""+Yn,Jn);if(typeof Yn=="object"&&Yn!==null){switch(Yn.$$typeof){case sa$6:return Yn.key===rs?Yn.type===ua$6?Rn(qn,Zn,Yn.props.children,Jn,rs):Cn(qn,Zn,Yn,Jn):null;case ta$6:return Yn.key===rs?Pn(qn,Zn,Yn,Jn):null}if(Pg(Yn)||La$6(Yn))return rs!==null?null:Rn(qn,Zn,Yn,Jn,null);Rg(qn,Yn)}return null}function Gn(qn,Zn,Yn,Jn,rs){if(typeof Jn=="string"||typeof Jn=="number")return qn=qn.get(Yn)||null,En(Zn,qn,""+Jn,rs);if(typeof Jn=="object"&&Jn!==null){switch(Jn.$$typeof){case sa$6:return qn=qn.get(Jn.key===null?Yn:Jn.key)||null,Jn.type===ua$6?Rn(Zn,qn,Jn.props.children,rs,Jn.key):Cn(Zn,qn,Jn,rs);case ta$6:return qn=qn.get(Jn.key===null?Yn:Jn.key)||null,Pn(Zn,qn,Jn,rs)}if(Pg(Jn)||La$6(Jn))return qn=qn.get(Yn)||null,Rn(Zn,qn,Jn,rs,null);Rg(Zn,Jn)}return null}function Dn(qn,Zn,Yn,Jn){for(var rs=null,us=null,as=Zn,cs=Zn=0,_s=null;as!==null&&cs<Yn.length;cs++){as.index>cs?(_s=as,as=null):_s=as.sibling;var Es=Fn(qn,as,Yn[cs],Jn);if(Es===null){as===null&&(as=_s);break}sn&&as&&Es.alternate===null&&ln(qn,as),Zn=vn(Es,Zn,cs),us===null?rs=Es:us.sibling=Es,us=Es,as=_s}if(cs===Yn.length)return cn(qn,as),rs;if(as===null){for(;cs<Yn.length;cs++)as=Ln(qn,Yn[cs],Jn),as!==null&&(Zn=vn(as,Zn,cs),us===null?rs=as:us.sibling=as,us=as);return rs}for(as=dn(qn,as);cs<Yn.length;cs++)_s=Gn(as,qn,cs,Yn[cs],Jn),_s!==null&&(sn&&_s.alternate!==null&&as.delete(_s.key===null?cs:_s.key),Zn=vn(_s,Zn,cs),us===null?rs=_s:us.sibling=_s,us=_s);return sn&&as.forEach(function(Qn){return ln(qn,Qn)}),rs}function Kn(qn,Zn,Yn,Jn){var rs=La$6(Yn);if(typeof rs!="function")throw Error(y$f(150));if(Yn=rs.call(Yn),Yn==null)throw Error(y$f(151));for(var us=rs=null,as=Zn,cs=Zn=0,_s=null,Es=Yn.next();as!==null&&!Es.done;cs++,Es=Yn.next()){as.index>cs?(_s=as,as=null):_s=as.sibling;var Qn=Fn(qn,as,Es.value,Jn);if(Qn===null){as===null&&(as=_s);break}sn&&as&&Qn.alternate===null&&ln(qn,as),Zn=vn(Qn,Zn,cs),us===null?rs=Qn:us.sibling=Qn,us=Qn,as=_s}if(Es.done)return cn(qn,as),rs;if(as===null){for(;!Es.done;cs++,Es=Yn.next())Es=Ln(qn,Es.value,Jn),Es!==null&&(Zn=vn(Es,Zn,cs),us===null?rs=Es:us.sibling=Es,us=Es);return rs}for(as=dn(qn,as);!Es.done;cs++,Es=Yn.next())Es=Gn(as,qn,cs,Es.value,Jn),Es!==null&&(sn&&Es.alternate!==null&&as.delete(Es.key===null?cs:Es.key),Zn=vn(Es,Zn,cs),us===null?rs=Es:us.sibling=Es,us=Es);return sn&&as.forEach(function(ms){return ln(qn,ms)}),rs}return function(qn,Zn,Yn,Jn){var rs=typeof Yn=="object"&&Yn!==null&&Yn.type===ua$6&&Yn.key===null;rs&&(Yn=Yn.props.children);var us=typeof Yn=="object"&&Yn!==null;if(us)switch(Yn.$$typeof){case sa$6:e:{for(us=Yn.key,rs=Zn;rs!==null;){if(rs.key===us){switch(rs.tag){case 7:if(Yn.type===ua$6){cn(qn,rs.sibling),Zn=pn(rs,Yn.props.children),Zn.return=qn,qn=Zn;break e}break;default:if(rs.elementType===Yn.type){cn(qn,rs.sibling),Zn=pn(rs,Yn.props),Zn.ref=Qg(qn,rs,Yn),Zn.return=qn,qn=Zn;break e}}cn(qn,rs);break}else ln(qn,rs);rs=rs.sibling}Yn.type===ua$6?(Zn=Xg(Yn.props.children,qn.mode,Jn,Yn.key),Zn.return=qn,qn=Zn):(Jn=Vg(Yn.type,Yn.key,Yn.props,null,qn.mode,Jn),Jn.ref=Qg(qn,Zn,Yn),Jn.return=qn,qn=Jn)}return Sn(qn);case ta$6:e:{for(rs=Yn.key;Zn!==null;){if(Zn.key===rs)if(Zn.tag===4&&Zn.stateNode.containerInfo===Yn.containerInfo&&Zn.stateNode.implementation===Yn.implementation){cn(qn,Zn.sibling),Zn=pn(Zn,Yn.children||[]),Zn.return=qn,qn=Zn;break e}else{cn(qn,Zn);break}else ln(qn,Zn);Zn=Zn.sibling}Zn=Wg(Yn,qn.mode,Jn),Zn.return=qn,qn=Zn}return Sn(qn)}if(typeof Yn=="string"||typeof Yn=="number")return Yn=""+Yn,Zn!==null&&Zn.tag===6?(cn(qn,Zn.sibling),Zn=pn(Zn,Yn),Zn.return=qn,qn=Zn):(cn(qn,Zn),Zn=Ug(Yn,qn.mode,Jn),Zn.return=qn,qn=Zn),Sn(qn);if(Pg(Yn))return Dn(qn,Zn,Yn,Jn);if(La$6(Yn))return Kn(qn,Zn,Yn,Jn);if(us&&Rg(qn,Yn),typeof Yn>"u"&&!rs)switch(qn.tag){case 1:case 22:case 0:case 11:case 15:throw Error(y$f(152,Ra$6(qn.type)||"Component"))}return cn(qn,Zn)}}var Yg=Sg(!0),Zg=Sg(!1),$g={},ah=Bf$2($g),bh=Bf$2($g),ch=Bf$2($g);function dh(sn){if(sn===$g)throw Error(y$f(174));return sn}function eh(sn,ln){switch(I$g(ch,ln),I$g(bh,sn),I$g(ah,$g),sn=ln.nodeType,sn){case 9:case 11:ln=(ln=ln.documentElement)?ln.namespaceURI:mb(null,"");break;default:sn=sn===8?ln.parentNode:ln,ln=sn.namespaceURI||null,sn=sn.tagName,ln=mb(ln,sn)}H$g(ah),I$g(ah,ln)}function fh(){H$g(ah),H$g(bh),H$g(ch)}function gh(sn){dh(ch.current);var ln=dh(ah.current),cn=mb(ln,sn.type);ln!==cn&&(I$g(bh,sn),I$g(ah,cn))}function hh(sn){bh.current===sn&&(H$g(ah),H$g(bh))}var P$a=Bf$2(0);function ih(sn){for(var ln=sn;ln!==null;){if(ln.tag===13){var cn=ln.memoizedState;if(cn!==null&&(cn=cn.dehydrated,cn===null||cn.data==="$?"||cn.data==="$!"))return ln}else if(ln.tag===19&&ln.memoizedProps.revealOrder!==void 0){if(ln.flags&64)return ln}else if(ln.child!==null){ln.child.return=ln,ln=ln.child;continue}if(ln===sn)break;for(;ln.sibling===null;){if(ln.return===null||ln.return===sn)return null;ln=ln.return}ln.sibling.return=ln.return,ln=ln.sibling}return null}var jh=null,kh=null,lh=!1;function mh(sn,ln){var cn=nh(5,null,null,0);cn.elementType="DELETED",cn.type="DELETED",cn.stateNode=ln,cn.return=sn,cn.flags=8,sn.lastEffect!==null?(sn.lastEffect.nextEffect=cn,sn.lastEffect=cn):sn.firstEffect=sn.lastEffect=cn}function oh(sn,ln){switch(sn.tag){case 5:var cn=sn.type;return ln=ln.nodeType!==1||cn.toLowerCase()!==ln.nodeName.toLowerCase()?null:ln,ln!==null?(sn.stateNode=ln,!0):!1;case 6:return ln=sn.pendingProps===""||ln.nodeType!==3?null:ln,ln!==null?(sn.stateNode=ln,!0):!1;case 13:return!1;default:return!1}}function ph(sn){if(lh){var ln=kh;if(ln){var cn=ln;if(!oh(sn,ln)){if(ln=rf$3(cn.nextSibling),!ln||!oh(sn,ln)){sn.flags=sn.flags&-1025|2,lh=!1,jh=sn;return}mh(jh,cn)}jh=sn,kh=rf$3(ln.firstChild)}else sn.flags=sn.flags&-1025|2,lh=!1,jh=sn}}function qh(sn){for(sn=sn.return;sn!==null&&sn.tag!==5&&sn.tag!==3&&sn.tag!==13;)sn=sn.return;jh=sn}function rh(sn){if(sn!==jh)return!1;if(!lh)return qh(sn),lh=!0,!1;var ln=sn.type;if(sn.tag!==5||ln!=="head"&&ln!=="body"&&!nf$1(ln,sn.memoizedProps))for(ln=kh;ln;)mh(sn,ln),ln=rf$3(ln.nextSibling);if(qh(sn),sn.tag===13){if(sn=sn.memoizedState,sn=sn!==null?sn.dehydrated:null,!sn)throw Error(y$f(317));e:{for(sn=sn.nextSibling,ln=0;sn;){if(sn.nodeType===8){var cn=sn.data;if(cn==="/$"){if(ln===0){kh=rf$3(sn.nextSibling);break e}ln--}else cn!=="$"&&cn!=="$!"&&cn!=="$?"||ln++}sn=sn.nextSibling}kh=null}}else kh=jh?rf$3(sn.stateNode.nextSibling):null;return!0}function sh(){kh=jh=null,lh=!1}var th=[];function uh(){for(var sn=0;sn<th.length;sn++)th[sn]._workInProgressVersionPrimary=null;th.length=0}var vh=ra$6.ReactCurrentDispatcher,wh=ra$6.ReactCurrentBatchConfig,xh=0,R$d=null,S$e=null,T$h=null,yh=!1,zh=!1;function Ah(){throw Error(y$f(321))}function Bh(sn,ln){if(ln===null)return!1;for(var cn=0;cn<ln.length&&cn<sn.length;cn++)if(!He$7(sn[cn],ln[cn]))return!1;return!0}function Ch(sn,ln,cn,dn,pn,vn){if(xh=vn,R$d=ln,ln.memoizedState=null,ln.updateQueue=null,ln.lanes=0,vh.current=sn===null||sn.memoizedState===null?Dh:Eh,sn=cn(dn,pn),zh){vn=0;do{if(zh=!1,!(25>vn))throw Error(y$f(301));vn+=1,T$h=S$e=null,ln.updateQueue=null,vh.current=Fh,sn=cn(dn,pn)}while(zh)}if(vh.current=Gh,ln=S$e!==null&&S$e.next!==null,xh=0,T$h=S$e=R$d=null,yh=!1,ln)throw Error(y$f(300));return sn}function Hh(){var sn={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return T$h===null?R$d.memoizedState=T$h=sn:T$h=T$h.next=sn,T$h}function Ih(){if(S$e===null){var sn=R$d.alternate;sn=sn!==null?sn.memoizedState:null}else sn=S$e.next;var ln=T$h===null?R$d.memoizedState:T$h.next;if(ln!==null)T$h=ln,S$e=sn;else{if(sn===null)throw Error(y$f(310));S$e=sn,sn={memoizedState:S$e.memoizedState,baseState:S$e.baseState,baseQueue:S$e.baseQueue,queue:S$e.queue,next:null},T$h===null?R$d.memoizedState=T$h=sn:T$h=T$h.next=sn}return T$h}function Jh(sn,ln){return typeof ln=="function"?ln(sn):ln}function Kh(sn){var ln=Ih(),cn=ln.queue;if(cn===null)throw Error(y$f(311));cn.lastRenderedReducer=sn;var dn=S$e,pn=dn.baseQueue,vn=cn.pending;if(vn!==null){if(pn!==null){var Sn=pn.next;pn.next=vn.next,vn.next=Sn}dn.baseQueue=pn=vn,cn.pending=null}if(pn!==null){pn=pn.next,dn=dn.baseState;var En=Sn=vn=null,Cn=pn;do{var Pn=Cn.lane;if((xh&Pn)===Pn)En!==null&&(En=En.next={lane:0,action:Cn.action,eagerReducer:Cn.eagerReducer,eagerState:Cn.eagerState,next:null}),dn=Cn.eagerReducer===sn?Cn.eagerState:sn(dn,Cn.action);else{var Rn={lane:Pn,action:Cn.action,eagerReducer:Cn.eagerReducer,eagerState:Cn.eagerState,next:null};En===null?(Sn=En=Rn,vn=dn):En=En.next=Rn,R$d.lanes|=Pn,Dg|=Pn}Cn=Cn.next}while(Cn!==null&&Cn!==pn);En===null?vn=dn:En.next=Sn,He$7(dn,ln.memoizedState)||(ug=!0),ln.memoizedState=dn,ln.baseState=vn,ln.baseQueue=En,cn.lastRenderedState=dn}return[ln.memoizedState,cn.dispatch]}function Lh(sn){var ln=Ih(),cn=ln.queue;if(cn===null)throw Error(y$f(311));cn.lastRenderedReducer=sn;var dn=cn.dispatch,pn=cn.pending,vn=ln.memoizedState;if(pn!==null){cn.pending=null;var Sn=pn=pn.next;do vn=sn(vn,Sn.action),Sn=Sn.next;while(Sn!==pn);He$7(vn,ln.memoizedState)||(ug=!0),ln.memoizedState=vn,ln.baseQueue===null&&(ln.baseState=vn),cn.lastRenderedState=vn}return[vn,dn]}function Mh(sn,ln,cn){var dn=ln._getVersion;dn=dn(ln._source);var pn=ln._workInProgressVersionPrimary;if(pn!==null?sn=pn===dn:(sn=sn.mutableReadLanes,(sn=(xh&sn)===sn)&&(ln._workInProgressVersionPrimary=dn,th.push(ln))),sn)return cn(ln._source);throw th.push(ln),Error(y$f(350))}function Nh(sn,ln,cn,dn){var pn=U$d;if(pn===null)throw Error(y$f(349));var vn=ln._getVersion,Sn=vn(ln._source),En=vh.current,Cn=En.useState(function(){return Mh(pn,ln,cn)}),Pn=Cn[1],Rn=Cn[0];Cn=T$h;var Ln=sn.memoizedState,Fn=Ln.refs,Gn=Fn.getSnapshot,Dn=Ln.source;Ln=Ln.subscribe;var Kn=R$d;return sn.memoizedState={refs:Fn,source:ln,subscribe:dn},En.useEffect(function(){Fn.getSnapshot=cn,Fn.setSnapshot=Pn;var qn=vn(ln._source);if(!He$7(Sn,qn)){qn=cn(ln._source),He$7(Rn,qn)||(Pn(qn),qn=Ig(Kn),pn.mutableReadLanes|=qn&pn.pendingLanes),qn=pn.mutableReadLanes,pn.entangledLanes|=qn;for(var Zn=pn.entanglements,Yn=qn;0<Yn;){var Jn=31-Vc(Yn),rs=1<<Jn;Zn[Jn]|=qn,Yn&=~rs}}},[cn,ln,dn]),En.useEffect(function(){return dn(ln._source,function(){var qn=Fn.getSnapshot,Zn=Fn.setSnapshot;try{Zn(qn(ln._source));var Yn=Ig(Kn);pn.mutableReadLanes|=Yn&pn.pendingLanes}catch(Jn){Zn(function(){throw Jn})}})},[ln,dn]),He$7(Gn,cn)&&He$7(Dn,ln)&&He$7(Ln,dn)||(sn={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:Rn},sn.dispatch=Pn=Oh.bind(null,R$d,sn),Cn.queue=sn,Cn.baseQueue=null,Rn=Mh(pn,ln,cn),Cn.memoizedState=Cn.baseState=Rn),Rn}function Ph(sn,ln,cn){var dn=Ih();return Nh(dn,sn,ln,cn)}function Qh(sn){var ln=Hh();return typeof sn=="function"&&(sn=sn()),ln.memoizedState=ln.baseState=sn,sn=ln.queue={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:sn},sn=sn.dispatch=Oh.bind(null,R$d,sn),[ln.memoizedState,sn]}function Rh(sn,ln,cn,dn){return sn={tag:sn,create:ln,destroy:cn,deps:dn,next:null},ln=R$d.updateQueue,ln===null?(ln={lastEffect:null},R$d.updateQueue=ln,ln.lastEffect=sn.next=sn):(cn=ln.lastEffect,cn===null?ln.lastEffect=sn.next=sn:(dn=cn.next,cn.next=sn,sn.next=dn,ln.lastEffect=sn)),sn}function Sh(sn){var ln=Hh();return sn={current:sn},ln.memoizedState=sn}function Th(){return Ih().memoizedState}function Uh(sn,ln,cn,dn){var pn=Hh();R$d.flags|=sn,pn.memoizedState=Rh(1|ln,cn,void 0,dn===void 0?null:dn)}function Vh(sn,ln,cn,dn){var pn=Ih();dn=dn===void 0?null:dn;var vn=void 0;if(S$e!==null){var Sn=S$e.memoizedState;if(vn=Sn.destroy,dn!==null&&Bh(dn,Sn.deps)){Rh(ln,cn,vn,dn);return}}R$d.flags|=sn,pn.memoizedState=Rh(1|ln,cn,vn,dn)}function Wh(sn,ln){return Uh(516,4,sn,ln)}function Xh(sn,ln){return Vh(516,4,sn,ln)}function Yh(sn,ln){return Vh(4,2,sn,ln)}function Zh(sn,ln){if(typeof ln=="function")return sn=sn(),ln(sn),function(){ln(null)};if(ln!=null)return sn=sn(),ln.current=sn,function(){ln.current=null}}function $h(sn,ln,cn){return cn=cn!=null?cn.concat([sn]):null,Vh(4,2,Zh.bind(null,ln,sn),cn)}function ai(){}function bi(sn,ln){var cn=Ih();ln=ln===void 0?null:ln;var dn=cn.memoizedState;return dn!==null&&ln!==null&&Bh(ln,dn[1])?dn[0]:(cn.memoizedState=[sn,ln],sn)}function ci(sn,ln){var cn=Ih();ln=ln===void 0?null:ln;var dn=cn.memoizedState;return dn!==null&&ln!==null&&Bh(ln,dn[1])?dn[0]:(sn=sn(),cn.memoizedState=[sn,ln],sn)}function di(sn,ln){var cn=eg();gg(98>cn?98:cn,function(){sn(!0)}),gg(97<cn?97:cn,function(){var dn=wh.transition;wh.transition=1;try{sn(!1),ln()}finally{wh.transition=dn}})}function Oh(sn,ln,cn){var dn=Hg(),pn=Ig(sn),vn={lane:pn,action:cn,eagerReducer:null,eagerState:null,next:null},Sn=ln.pending;if(Sn===null?vn.next=vn:(vn.next=Sn.next,Sn.next=vn),ln.pending=vn,Sn=sn.alternate,sn===R$d||Sn!==null&&Sn===R$d)zh=yh=!0;else{if(sn.lanes===0&&(Sn===null||Sn.lanes===0)&&(Sn=ln.lastRenderedReducer,Sn!==null))try{var En=ln.lastRenderedState,Cn=Sn(En,cn);if(vn.eagerReducer=Sn,vn.eagerState=Cn,He$7(Cn,En))return}catch{}finally{}Jg(sn,pn,dn)}}var Gh={readContext:vg,useCallback:Ah,useContext:Ah,useEffect:Ah,useImperativeHandle:Ah,useLayoutEffect:Ah,useMemo:Ah,useReducer:Ah,useRef:Ah,useState:Ah,useDebugValue:Ah,useDeferredValue:Ah,useTransition:Ah,useMutableSource:Ah,useOpaqueIdentifier:Ah,unstable_isNewReconciler:!1},Dh={readContext:vg,useCallback:function(sn,ln){return Hh().memoizedState=[sn,ln===void 0?null:ln],sn},useContext:vg,useEffect:Wh,useImperativeHandle:function(sn,ln,cn){return cn=cn!=null?cn.concat([sn]):null,Uh(4,2,Zh.bind(null,ln,sn),cn)},useLayoutEffect:function(sn,ln){return Uh(4,2,sn,ln)},useMemo:function(sn,ln){var cn=Hh();return ln=ln===void 0?null:ln,sn=sn(),cn.memoizedState=[sn,ln],sn},useReducer:function(sn,ln,cn){var dn=Hh();return ln=cn!==void 0?cn(ln):ln,dn.memoizedState=dn.baseState=ln,sn=dn.queue={pending:null,dispatch:null,lastRenderedReducer:sn,lastRenderedState:ln},sn=sn.dispatch=Oh.bind(null,R$d,sn),[dn.memoizedState,sn]},useRef:Sh,useState:Qh,useDebugValue:ai,useDeferredValue:function(sn){var ln=Qh(sn),cn=ln[0],dn=ln[1];return Wh(function(){var pn=wh.transition;wh.transition=1;try{dn(sn)}finally{wh.transition=pn}},[sn]),cn},useTransition:function(){var sn=Qh(!1),ln=sn[0];return sn=di.bind(null,sn[1]),Sh(sn),[sn,ln]},useMutableSource:function(sn,ln,cn){var dn=Hh();return dn.memoizedState={refs:{getSnapshot:ln,setSnapshot:null},source:sn,subscribe:cn},Nh(dn,sn,ln,cn)},useOpaqueIdentifier:function(){if(lh){var sn=!1,ln=uf$3(function(){throw sn||(sn=!0,cn("r:"+(tf$3++).toString(36))),Error(y$f(355))}),cn=Qh(ln)[1];return!(R$d.mode&2)&&(R$d.flags|=516,Rh(5,function(){cn("r:"+(tf$3++).toString(36))},void 0,null)),ln}return ln="r:"+(tf$3++).toString(36),Qh(ln),ln},unstable_isNewReconciler:!1},Eh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Kh,useRef:Th,useState:function(){return Kh(Jh)},useDebugValue:ai,useDeferredValue:function(sn){var ln=Kh(Jh),cn=ln[0],dn=ln[1];return Xh(function(){var pn=wh.transition;wh.transition=1;try{dn(sn)}finally{wh.transition=pn}},[sn]),cn},useTransition:function(){var sn=Kh(Jh)[0];return[Th().current,sn]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Kh(Jh)[0]},unstable_isNewReconciler:!1},Fh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Lh,useRef:Th,useState:function(){return Lh(Jh)},useDebugValue:ai,useDeferredValue:function(sn){var ln=Lh(Jh),cn=ln[0],dn=ln[1];return Xh(function(){var pn=wh.transition;wh.transition=1;try{dn(sn)}finally{wh.transition=pn}},[sn]),cn},useTransition:function(){var sn=Lh(Jh)[0];return[Th().current,sn]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Lh(Jh)[0]},unstable_isNewReconciler:!1},ei=ra$6.ReactCurrentOwner,ug=!1;function fi(sn,ln,cn,dn){ln.child=sn===null?Zg(ln,null,cn,dn):Yg(ln,sn.child,cn,dn)}function gi(sn,ln,cn,dn,pn){cn=cn.render;var vn=ln.ref;return tg(ln,pn),dn=Ch(sn,ln,cn,dn,vn,pn),sn!==null&&!ug?(ln.updateQueue=sn.updateQueue,ln.flags&=-517,sn.lanes&=~pn,hi(sn,ln,pn)):(ln.flags|=1,fi(sn,ln,dn,pn),ln.child)}function ii(sn,ln,cn,dn,pn,vn){if(sn===null){var Sn=cn.type;return typeof Sn=="function"&&!ji(Sn)&&Sn.defaultProps===void 0&&cn.compare===null&&cn.defaultProps===void 0?(ln.tag=15,ln.type=Sn,ki(sn,ln,Sn,dn,pn,vn)):(sn=Vg(cn.type,null,dn,ln,ln.mode,vn),sn.ref=ln.ref,sn.return=ln,ln.child=sn)}return Sn=sn.child,!(pn&vn)&&(pn=Sn.memoizedProps,cn=cn.compare,cn=cn!==null?cn:Je$8,cn(pn,dn)&&sn.ref===ln.ref)?hi(sn,ln,vn):(ln.flags|=1,sn=Tg(Sn,dn),sn.ref=ln.ref,sn.return=ln,ln.child=sn)}function ki(sn,ln,cn,dn,pn,vn){if(sn!==null&&Je$8(sn.memoizedProps,dn)&&sn.ref===ln.ref)if(ug=!1,(vn&pn)!==0)sn.flags&16384&&(ug=!0);else return ln.lanes=sn.lanes,hi(sn,ln,vn);return li(sn,ln,cn,dn,vn)}function mi(sn,ln,cn){var dn=ln.pendingProps,pn=dn.children,vn=sn!==null?sn.memoizedState:null;if(dn.mode==="hidden"||dn.mode==="unstable-defer-without-hiding")if(!(ln.mode&4))ln.memoizedState={baseLanes:0},ni(ln,cn);else if(cn&1073741824)ln.memoizedState={baseLanes:0},ni(ln,vn!==null?vn.baseLanes:cn);else return sn=vn!==null?vn.baseLanes|cn:cn,ln.lanes=ln.childLanes=1073741824,ln.memoizedState={baseLanes:sn},ni(ln,sn),null;else vn!==null?(dn=vn.baseLanes|cn,ln.memoizedState=null):dn=cn,ni(ln,dn);return fi(sn,ln,pn,cn),ln.child}function oi(sn,ln){var cn=ln.ref;(sn===null&&cn!==null||sn!==null&&sn.ref!==cn)&&(ln.flags|=128)}function li(sn,ln,cn,dn,pn){var vn=Ff$3(cn)?Df$1:M$d.current;return vn=Ef$3(ln,vn),tg(ln,pn),cn=Ch(sn,ln,cn,dn,vn,pn),sn!==null&&!ug?(ln.updateQueue=sn.updateQueue,ln.flags&=-517,sn.lanes&=~pn,hi(sn,ln,pn)):(ln.flags|=1,fi(sn,ln,cn,pn),ln.child)}function pi(sn,ln,cn,dn,pn){if(Ff$3(cn)){var vn=!0;Jf$2(ln)}else vn=!1;if(tg(ln,pn),ln.stateNode===null)sn!==null&&(sn.alternate=null,ln.alternate=null,ln.flags|=2),Mg(ln,cn,dn),Og(ln,cn,dn,pn),dn=!0;else if(sn===null){var Sn=ln.stateNode,En=ln.memoizedProps;Sn.props=En;var Cn=Sn.context,Pn=cn.contextType;typeof Pn=="object"&&Pn!==null?Pn=vg(Pn):(Pn=Ff$3(cn)?Df$1:M$d.current,Pn=Ef$3(ln,Pn));var Rn=cn.getDerivedStateFromProps,Ln=typeof Rn=="function"||typeof Sn.getSnapshotBeforeUpdate=="function";Ln||typeof Sn.UNSAFE_componentWillReceiveProps!="function"&&typeof Sn.componentWillReceiveProps!="function"||(En!==dn||Cn!==Pn)&&Ng(ln,Sn,dn,Pn),wg=!1;var Fn=ln.memoizedState;Sn.state=Fn,Cg(ln,dn,Sn,pn),Cn=ln.memoizedState,En!==dn||Fn!==Cn||N$g.current||wg?(typeof Rn=="function"&&(Gg(ln,cn,Rn,dn),Cn=ln.memoizedState),(En=wg||Lg(ln,cn,En,dn,Fn,Cn,Pn))?(Ln||typeof Sn.UNSAFE_componentWillMount!="function"&&typeof Sn.componentWillMount!="function"||(typeof Sn.componentWillMount=="function"&&Sn.componentWillMount(),typeof Sn.UNSAFE_componentWillMount=="function"&&Sn.UNSAFE_componentWillMount()),typeof Sn.componentDidMount=="function"&&(ln.flags|=4)):(typeof Sn.componentDidMount=="function"&&(ln.flags|=4),ln.memoizedProps=dn,ln.memoizedState=Cn),Sn.props=dn,Sn.state=Cn,Sn.context=Pn,dn=En):(typeof Sn.componentDidMount=="function"&&(ln.flags|=4),dn=!1)}else{Sn=ln.stateNode,yg(sn,ln),En=ln.memoizedProps,Pn=ln.type===ln.elementType?En:lg(ln.type,En),Sn.props=Pn,Ln=ln.pendingProps,Fn=Sn.context,Cn=cn.contextType,typeof Cn=="object"&&Cn!==null?Cn=vg(Cn):(Cn=Ff$3(cn)?Df$1:M$d.current,Cn=Ef$3(ln,Cn));var Gn=cn.getDerivedStateFromProps;(Rn=typeof Gn=="function"||typeof Sn.getSnapshotBeforeUpdate=="function")||typeof Sn.UNSAFE_componentWillReceiveProps!="function"&&typeof Sn.componentWillReceiveProps!="function"||(En!==Ln||Fn!==Cn)&&Ng(ln,Sn,dn,Cn),wg=!1,Fn=ln.memoizedState,Sn.state=Fn,Cg(ln,dn,Sn,pn);var Dn=ln.memoizedState;En!==Ln||Fn!==Dn||N$g.current||wg?(typeof Gn=="function"&&(Gg(ln,cn,Gn,dn),Dn=ln.memoizedState),(Pn=wg||Lg(ln,cn,Pn,dn,Fn,Dn,Cn))?(Rn||typeof Sn.UNSAFE_componentWillUpdate!="function"&&typeof Sn.componentWillUpdate!="function"||(typeof Sn.componentWillUpdate=="function"&&Sn.componentWillUpdate(dn,Dn,Cn),typeof Sn.UNSAFE_componentWillUpdate=="function"&&Sn.UNSAFE_componentWillUpdate(dn,Dn,Cn)),typeof Sn.componentDidUpdate=="function"&&(ln.flags|=4),typeof Sn.getSnapshotBeforeUpdate=="function"&&(ln.flags|=256)):(typeof Sn.componentDidUpdate!="function"||En===sn.memoizedProps&&Fn===sn.memoizedState||(ln.flags|=4),typeof Sn.getSnapshotBeforeUpdate!="function"||En===sn.memoizedProps&&Fn===sn.memoizedState||(ln.flags|=256),ln.memoizedProps=dn,ln.memoizedState=Dn),Sn.props=dn,Sn.state=Dn,Sn.context=Cn,dn=Pn):(typeof Sn.componentDidUpdate!="function"||En===sn.memoizedProps&&Fn===sn.memoizedState||(ln.flags|=4),typeof Sn.getSnapshotBeforeUpdate!="function"||En===sn.memoizedProps&&Fn===sn.memoizedState||(ln.flags|=256),dn=!1)}return qi(sn,ln,cn,dn,vn,pn)}function qi(sn,ln,cn,dn,pn,vn){oi(sn,ln);var Sn=(ln.flags&64)!==0;if(!dn&&!Sn)return pn&&Kf$3(ln,cn,!1),hi(sn,ln,vn);dn=ln.stateNode,ei.current=ln;var En=Sn&&typeof cn.getDerivedStateFromError!="function"?null:dn.render();return ln.flags|=1,sn!==null&&Sn?(ln.child=Yg(ln,sn.child,null,vn),ln.child=Yg(ln,null,En,vn)):fi(sn,ln,En,vn),ln.memoizedState=dn.state,pn&&Kf$3(ln,cn,!0),ln.child}function ri(sn){var ln=sn.stateNode;ln.pendingContext?Hf(sn,ln.pendingContext,ln.pendingContext!==ln.context):ln.context&&Hf(sn,ln.context,!1),eh(sn,ln.containerInfo)}var si={dehydrated:null,retryLane:0};function ti(sn,ln,cn){var dn=ln.pendingProps,pn=P$a.current,vn=!1,Sn;return(Sn=(ln.flags&64)!==0)||(Sn=sn!==null&&sn.memoizedState===null?!1:(pn&2)!==0),Sn?(vn=!0,ln.flags&=-65):sn!==null&&sn.memoizedState===null||dn.fallback===void 0||dn.unstable_avoidThisFallback===!0||(pn|=1),I$g(P$a,pn&1),sn===null?(dn.fallback!==void 0&&ph(ln),sn=dn.children,pn=dn.fallback,vn?(sn=ui(ln,sn,pn,cn),ln.child.memoizedState={baseLanes:cn},ln.memoizedState=si,sn):typeof dn.unstable_expectedLoadTime=="number"?(sn=ui(ln,sn,pn,cn),ln.child.memoizedState={baseLanes:cn},ln.memoizedState=si,ln.lanes=33554432,sn):(cn=vi({mode:"visible",children:sn},ln.mode,cn,null),cn.return=ln,ln.child=cn)):sn.memoizedState!==null?vn?(dn=wi(sn,ln,dn.children,dn.fallback,cn),vn=ln.child,pn=sn.child.memoizedState,vn.memoizedState=pn===null?{baseLanes:cn}:{baseLanes:pn.baseLanes|cn},vn.childLanes=sn.childLanes&~cn,ln.memoizedState=si,dn):(cn=xi(sn,ln,dn.children,cn),ln.memoizedState=null,cn):vn?(dn=wi(sn,ln,dn.children,dn.fallback,cn),vn=ln.child,pn=sn.child.memoizedState,vn.memoizedState=pn===null?{baseLanes:cn}:{baseLanes:pn.baseLanes|cn},vn.childLanes=sn.childLanes&~cn,ln.memoizedState=si,dn):(cn=xi(sn,ln,dn.children,cn),ln.memoizedState=null,cn)}function ui(sn,ln,cn,dn){var pn=sn.mode,vn=sn.child;return ln={mode:"hidden",children:ln},!(pn&2)&&vn!==null?(vn.childLanes=0,vn.pendingProps=ln):vn=vi(ln,pn,0,null),cn=Xg(cn,pn,dn,null),vn.return=sn,cn.return=sn,vn.sibling=cn,sn.child=vn,cn}function xi(sn,ln,cn,dn){var pn=sn.child;return sn=pn.sibling,cn=Tg(pn,{mode:"visible",children:cn}),!(ln.mode&2)&&(cn.lanes=dn),cn.return=ln,cn.sibling=null,sn!==null&&(sn.nextEffect=null,sn.flags=8,ln.firstEffect=ln.lastEffect=sn),ln.child=cn}function wi(sn,ln,cn,dn,pn){var vn=ln.mode,Sn=sn.child;sn=Sn.sibling;var En={mode:"hidden",children:cn};return!(vn&2)&&ln.child!==Sn?(cn=ln.child,cn.childLanes=0,cn.pendingProps=En,Sn=cn.lastEffect,Sn!==null?(ln.firstEffect=cn.firstEffect,ln.lastEffect=Sn,Sn.nextEffect=null):ln.firstEffect=ln.lastEffect=null):cn=Tg(Sn,En),sn!==null?dn=Tg(sn,dn):(dn=Xg(dn,vn,pn,null),dn.flags|=2),dn.return=ln,cn.return=ln,cn.sibling=dn,ln.child=cn,dn}function yi(sn,ln){sn.lanes|=ln;var cn=sn.alternate;cn!==null&&(cn.lanes|=ln),sg(sn.return,ln)}function zi(sn,ln,cn,dn,pn,vn){var Sn=sn.memoizedState;Sn===null?sn.memoizedState={isBackwards:ln,rendering:null,renderingStartTime:0,last:dn,tail:cn,tailMode:pn,lastEffect:vn}:(Sn.isBackwards=ln,Sn.rendering=null,Sn.renderingStartTime=0,Sn.last=dn,Sn.tail=cn,Sn.tailMode=pn,Sn.lastEffect=vn)}function Ai(sn,ln,cn){var dn=ln.pendingProps,pn=dn.revealOrder,vn=dn.tail;if(fi(sn,ln,dn.children,cn),dn=P$a.current,dn&2)dn=dn&1|2,ln.flags|=64;else{if(sn!==null&&sn.flags&64)e:for(sn=ln.child;sn!==null;){if(sn.tag===13)sn.memoizedState!==null&&yi(sn,cn);else if(sn.tag===19)yi(sn,cn);else if(sn.child!==null){sn.child.return=sn,sn=sn.child;continue}if(sn===ln)break e;for(;sn.sibling===null;){if(sn.return===null||sn.return===ln)break e;sn=sn.return}sn.sibling.return=sn.return,sn=sn.sibling}dn&=1}if(I$g(P$a,dn),!(ln.mode&2))ln.memoizedState=null;else switch(pn){case"forwards":for(cn=ln.child,pn=null;cn!==null;)sn=cn.alternate,sn!==null&&ih(sn)===null&&(pn=cn),cn=cn.sibling;cn=pn,cn===null?(pn=ln.child,ln.child=null):(pn=cn.sibling,cn.sibling=null),zi(ln,!1,pn,cn,vn,ln.lastEffect);break;case"backwards":for(cn=null,pn=ln.child,ln.child=null;pn!==null;){if(sn=pn.alternate,sn!==null&&ih(sn)===null){ln.child=pn;break}sn=pn.sibling,pn.sibling=cn,cn=pn,pn=sn}zi(ln,!0,cn,null,vn,ln.lastEffect);break;case"together":zi(ln,!1,null,null,void 0,ln.lastEffect);break;default:ln.memoizedState=null}return ln.child}function hi(sn,ln,cn){if(sn!==null&&(ln.dependencies=sn.dependencies),Dg|=ln.lanes,cn&ln.childLanes){if(sn!==null&&ln.child!==sn.child)throw Error(y$f(153));if(ln.child!==null){for(sn=ln.child,cn=Tg(sn,sn.pendingProps),ln.child=cn,cn.return=ln;sn.sibling!==null;)sn=sn.sibling,cn=cn.sibling=Tg(sn,sn.pendingProps),cn.return=ln;cn.sibling=null}return ln.child}return null}var Bi,Ci,Di,Ei;Bi=function(sn,ln){for(var cn=ln.child;cn!==null;){if(cn.tag===5||cn.tag===6)sn.appendChild(cn.stateNode);else if(cn.tag!==4&&cn.child!==null){cn.child.return=cn,cn=cn.child;continue}if(cn===ln)break;for(;cn.sibling===null;){if(cn.return===null||cn.return===ln)return;cn=cn.return}cn.sibling.return=cn.return,cn=cn.sibling}};Ci=function(){};Di=function(sn,ln,cn,dn){var pn=sn.memoizedProps;if(pn!==dn){sn=ln.stateNode,dh(ah.current);var vn=null;switch(cn){case"input":pn=Ya$4(sn,pn),dn=Ya$4(sn,dn),vn=[];break;case"option":pn=eb(sn,pn),dn=eb(sn,dn),vn=[];break;case"select":pn=m$f({},pn,{value:void 0}),dn=m$f({},dn,{value:void 0}),vn=[];break;case"textarea":pn=gb(sn,pn),dn=gb(sn,dn),vn=[];break;default:typeof pn.onClick!="function"&&typeof dn.onClick=="function"&&(sn.onclick=jf$2)}vb(cn,dn);var Sn;cn=null;for(Pn in pn)if(!dn.hasOwnProperty(Pn)&&pn.hasOwnProperty(Pn)&&pn[Pn]!=null)if(Pn==="style"){var En=pn[Pn];for(Sn in En)En.hasOwnProperty(Sn)&&(cn||(cn={}),cn[Sn]="")}else Pn!=="dangerouslySetInnerHTML"&&Pn!=="children"&&Pn!=="suppressContentEditableWarning"&&Pn!=="suppressHydrationWarning"&&Pn!=="autoFocus"&&(ca$6.hasOwnProperty(Pn)?vn||(vn=[]):(vn=vn||[]).push(Pn,null));for(Pn in dn){var Cn=dn[Pn];if(En=pn!=null?pn[Pn]:void 0,dn.hasOwnProperty(Pn)&&Cn!==En&&(Cn!=null||En!=null))if(Pn==="style")if(En){for(Sn in En)!En.hasOwnProperty(Sn)||Cn&&Cn.hasOwnProperty(Sn)||(cn||(cn={}),cn[Sn]="");for(Sn in Cn)Cn.hasOwnProperty(Sn)&&En[Sn]!==Cn[Sn]&&(cn||(cn={}),cn[Sn]=Cn[Sn])}else cn||(vn||(vn=[]),vn.push(Pn,cn)),cn=Cn;else Pn==="dangerouslySetInnerHTML"?(Cn=Cn?Cn.__html:void 0,En=En?En.__html:void 0,Cn!=null&&En!==Cn&&(vn=vn||[]).push(Pn,Cn)):Pn==="children"?typeof Cn!="string"&&typeof Cn!="number"||(vn=vn||[]).push(Pn,""+Cn):Pn!=="suppressContentEditableWarning"&&Pn!=="suppressHydrationWarning"&&(ca$6.hasOwnProperty(Pn)?(Cn!=null&&Pn==="onScroll"&&G$d("scroll",sn),vn||En===Cn||(vn=[])):typeof Cn=="object"&&Cn!==null&&Cn.$$typeof===Ga$4?Cn.toString():(vn=vn||[]).push(Pn,Cn))}cn&&(vn=vn||[]).push("style",cn);var Pn=vn;(ln.updateQueue=Pn)&&(ln.flags|=4)}};Ei=function(sn,ln,cn,dn){cn!==dn&&(ln.flags|=4)};function Fi(sn,ln){if(!lh)switch(sn.tailMode){case"hidden":ln=sn.tail;for(var cn=null;ln!==null;)ln.alternate!==null&&(cn=ln),ln=ln.sibling;cn===null?sn.tail=null:cn.sibling=null;break;case"collapsed":cn=sn.tail;for(var dn=null;cn!==null;)cn.alternate!==null&&(dn=cn),cn=cn.sibling;dn===null?ln||sn.tail===null?sn.tail=null:sn.tail.sibling=null:dn.sibling=null}}function Gi(sn,ln,cn){var dn=ln.pendingProps;switch(ln.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ff$3(ln.type)&&Gf$3(),null;case 3:return fh(),H$g(N$g),H$g(M$d),uh(),dn=ln.stateNode,dn.pendingContext&&(dn.context=dn.pendingContext,dn.pendingContext=null),(sn===null||sn.child===null)&&(rh(ln)?ln.flags|=4:dn.hydrate||(ln.flags|=256)),Ci(ln),null;case 5:hh(ln);var pn=dh(ch.current);if(cn=ln.type,sn!==null&&ln.stateNode!=null)Di(sn,ln,cn,dn,pn),sn.ref!==ln.ref&&(ln.flags|=128);else{if(!dn){if(ln.stateNode===null)throw Error(y$f(166));return null}if(sn=dh(ah.current),rh(ln)){dn=ln.stateNode,cn=ln.type;var vn=ln.memoizedProps;switch(dn[wf$3]=ln,dn[xf$3]=vn,cn){case"dialog":G$d("cancel",dn),G$d("close",dn);break;case"iframe":case"object":case"embed":G$d("load",dn);break;case"video":case"audio":for(sn=0;sn<Xe$8.length;sn++)G$d(Xe$8[sn],dn);break;case"source":G$d("error",dn);break;case"img":case"image":case"link":G$d("error",dn),G$d("load",dn);break;case"details":G$d("toggle",dn);break;case"input":Za$3(dn,vn),G$d("invalid",dn);break;case"select":dn._wrapperState={wasMultiple:!!vn.multiple},G$d("invalid",dn);break;case"textarea":hb(dn,vn),G$d("invalid",dn)}vb(cn,vn),sn=null;for(var Sn in vn)vn.hasOwnProperty(Sn)&&(pn=vn[Sn],Sn==="children"?typeof pn=="string"?dn.textContent!==pn&&(sn=["children",pn]):typeof pn=="number"&&dn.textContent!==""+pn&&(sn=["children",""+pn]):ca$6.hasOwnProperty(Sn)&&pn!=null&&Sn==="onScroll"&&G$d("scroll",dn));switch(cn){case"input":Va$5(dn),cb(dn,vn,!0);break;case"textarea":Va$5(dn),jb(dn);break;case"select":case"option":break;default:typeof vn.onClick=="function"&&(dn.onclick=jf$2)}dn=sn,ln.updateQueue=dn,dn!==null&&(ln.flags|=4)}else{switch(Sn=pn.nodeType===9?pn:pn.ownerDocument,sn===kb.html&&(sn=lb(cn)),sn===kb.html?cn==="script"?(sn=Sn.createElement("div"),sn.innerHTML="<script><\/script>",sn=sn.removeChild(sn.firstChild)):typeof dn.is=="string"?sn=Sn.createElement(cn,{is:dn.is}):(sn=Sn.createElement(cn),cn==="select"&&(Sn=sn,dn.multiple?Sn.multiple=!0:dn.size&&(Sn.size=dn.size))):sn=Sn.createElementNS(sn,cn),sn[wf$3]=ln,sn[xf$3]=dn,Bi(sn,ln,!1,!1),ln.stateNode=sn,Sn=wb(cn,dn),cn){case"dialog":G$d("cancel",sn),G$d("close",sn),pn=dn;break;case"iframe":case"object":case"embed":G$d("load",sn),pn=dn;break;case"video":case"audio":for(pn=0;pn<Xe$8.length;pn++)G$d(Xe$8[pn],sn);pn=dn;break;case"source":G$d("error",sn),pn=dn;break;case"img":case"image":case"link":G$d("error",sn),G$d("load",sn),pn=dn;break;case"details":G$d("toggle",sn),pn=dn;break;case"input":Za$3(sn,dn),pn=Ya$4(sn,dn),G$d("invalid",sn);break;case"option":pn=eb(sn,dn);break;case"select":sn._wrapperState={wasMultiple:!!dn.multiple},pn=m$f({},dn,{value:void 0}),G$d("invalid",sn);break;case"textarea":hb(sn,dn),pn=gb(sn,dn),G$d("invalid",sn);break;default:pn=dn}vb(cn,pn);var En=pn;for(vn in En)if(En.hasOwnProperty(vn)){var Cn=En[vn];vn==="style"?tb(sn,Cn):vn==="dangerouslySetInnerHTML"?(Cn=Cn?Cn.__html:void 0,Cn!=null&&ob(sn,Cn)):vn==="children"?typeof Cn=="string"?(cn!=="textarea"||Cn!=="")&&pb(sn,Cn):typeof Cn=="number"&&pb(sn,""+Cn):vn!=="suppressContentEditableWarning"&&vn!=="suppressHydrationWarning"&&vn!=="autoFocus"&&(ca$6.hasOwnProperty(vn)?Cn!=null&&vn==="onScroll"&&G$d("scroll",sn):Cn!=null&&qa$5(sn,vn,Cn,Sn))}switch(cn){case"input":Va$5(sn),cb(sn,dn,!1);break;case"textarea":Va$5(sn),jb(sn);break;case"option":dn.value!=null&&sn.setAttribute("value",""+Sa$4(dn.value));break;case"select":sn.multiple=!!dn.multiple,vn=dn.value,vn!=null?fb(sn,!!dn.multiple,vn,!1):dn.defaultValue!=null&&fb(sn,!!dn.multiple,dn.defaultValue,!0);break;default:typeof pn.onClick=="function"&&(sn.onclick=jf$2)}mf$3(cn,dn)&&(ln.flags|=4)}ln.ref!==null&&(ln.flags|=128)}return null;case 6:if(sn&&ln.stateNode!=null)Ei(sn,ln,sn.memoizedProps,dn);else{if(typeof dn!="string"&&ln.stateNode===null)throw Error(y$f(166));cn=dh(ch.current),dh(ah.current),rh(ln)?(dn=ln.stateNode,cn=ln.memoizedProps,dn[wf$3]=ln,dn.nodeValue!==cn&&(ln.flags|=4)):(dn=(cn.nodeType===9?cn:cn.ownerDocument).createTextNode(dn),dn[wf$3]=ln,ln.stateNode=dn)}return null;case 13:return H$g(P$a),dn=ln.memoizedState,ln.flags&64?(ln.lanes=cn,ln):(dn=dn!==null,cn=!1,sn===null?ln.memoizedProps.fallback!==void 0&&rh(ln):cn=sn.memoizedState!==null,dn&&!cn&&ln.mode&2&&(sn===null&&ln.memoizedProps.unstable_avoidThisFallback!==!0||P$a.current&1?V$9===0&&(V$9=3):((V$9===0||V$9===3)&&(V$9=4),U$d===null||!(Dg&134217727)&&!(Hi&134217727)||Ii(U$d,W$d))),(dn||cn)&&(ln.flags|=4),null);case 4:return fh(),Ci(ln),sn===null&&cf$3(ln.stateNode.containerInfo),null;case 10:return rg(ln),null;case 17:return Ff$3(ln.type)&&Gf$3(),null;case 19:if(H$g(P$a),dn=ln.memoizedState,dn===null)return null;if(vn=(ln.flags&64)!==0,Sn=dn.rendering,Sn===null)if(vn)Fi(dn,!1);else{if(V$9!==0||sn!==null&&sn.flags&64)for(sn=ln.child;sn!==null;){if(Sn=ih(sn),Sn!==null){for(ln.flags|=64,Fi(dn,!1),vn=Sn.updateQueue,vn!==null&&(ln.updateQueue=vn,ln.flags|=4),dn.lastEffect===null&&(ln.firstEffect=null),ln.lastEffect=dn.lastEffect,dn=cn,cn=ln.child;cn!==null;)vn=cn,sn=dn,vn.flags&=2,vn.nextEffect=null,vn.firstEffect=null,vn.lastEffect=null,Sn=vn.alternate,Sn===null?(vn.childLanes=0,vn.lanes=sn,vn.child=null,vn.memoizedProps=null,vn.memoizedState=null,vn.updateQueue=null,vn.dependencies=null,vn.stateNode=null):(vn.childLanes=Sn.childLanes,vn.lanes=Sn.lanes,vn.child=Sn.child,vn.memoizedProps=Sn.memoizedProps,vn.memoizedState=Sn.memoizedState,vn.updateQueue=Sn.updateQueue,vn.type=Sn.type,sn=Sn.dependencies,vn.dependencies=sn===null?null:{lanes:sn.lanes,firstContext:sn.firstContext}),cn=cn.sibling;return I$g(P$a,P$a.current&1|2),ln.child}sn=sn.sibling}dn.tail!==null&&O$f()>Ji&&(ln.flags|=64,vn=!0,Fi(dn,!1),ln.lanes=33554432)}else{if(!vn)if(sn=ih(Sn),sn!==null){if(ln.flags|=64,vn=!0,cn=sn.updateQueue,cn!==null&&(ln.updateQueue=cn,ln.flags|=4),Fi(dn,!0),dn.tail===null&&dn.tailMode==="hidden"&&!Sn.alternate&&!lh)return ln=ln.lastEffect=dn.lastEffect,ln!==null&&(ln.nextEffect=null),null}else 2*O$f()-dn.renderingStartTime>Ji&&cn!==1073741824&&(ln.flags|=64,vn=!0,Fi(dn,!1),ln.lanes=33554432);dn.isBackwards?(Sn.sibling=ln.child,ln.child=Sn):(cn=dn.last,cn!==null?cn.sibling=Sn:ln.child=Sn,dn.last=Sn)}return dn.tail!==null?(cn=dn.tail,dn.rendering=cn,dn.tail=cn.sibling,dn.lastEffect=ln.lastEffect,dn.renderingStartTime=O$f(),cn.sibling=null,ln=P$a.current,I$g(P$a,vn?ln&1|2:ln&1),cn):null;case 23:case 24:return Ki(),sn!==null&&sn.memoizedState!==null!=(ln.memoizedState!==null)&&dn.mode!=="unstable-defer-without-hiding"&&(ln.flags|=4),null}throw Error(y$f(156,ln.tag))}function Li(sn){switch(sn.tag){case 1:Ff$3(sn.type)&&Gf$3();var ln=sn.flags;return ln&4096?(sn.flags=ln&-4097|64,sn):null;case 3:if(fh(),H$g(N$g),H$g(M$d),uh(),ln=sn.flags,ln&64)throw Error(y$f(285));return sn.flags=ln&-4097|64,sn;case 5:return hh(sn),null;case 13:return H$g(P$a),ln=sn.flags,ln&4096?(sn.flags=ln&-4097|64,sn):null;case 19:return H$g(P$a),null;case 4:return fh(),null;case 10:return rg(sn),null;case 23:case 24:return Ki(),null;default:return null}}function Mi(sn,ln){try{var cn="",dn=ln;do cn+=Qa$3(dn),dn=dn.return;while(dn);var pn=cn}catch(vn){pn=`
Error generating stack: `+vn.message+`
`+vn.stack}return{value:sn,source:ln,stack:pn}}function Ni(sn,ln){try{console.error(ln.value)}catch(cn){setTimeout(function(){throw cn})}}var Oi=typeof WeakMap=="function"?WeakMap:Map;function Pi(sn,ln,cn){cn=zg(-1,cn),cn.tag=3,cn.payload={element:null};var dn=ln.value;return cn.callback=function(){Qi||(Qi=!0,Ri=dn),Ni(sn,ln)},cn}function Si(sn,ln,cn){cn=zg(-1,cn),cn.tag=3;var dn=sn.type.getDerivedStateFromError;if(typeof dn=="function"){var pn=ln.value;cn.payload=function(){return Ni(sn,ln),dn(pn)}}var vn=sn.stateNode;return vn!==null&&typeof vn.componentDidCatch=="function"&&(cn.callback=function(){typeof dn!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this),Ni(sn,ln));var Sn=ln.stack;this.componentDidCatch(ln.value,{componentStack:Sn!==null?Sn:""})}),cn}var Ui=typeof WeakSet=="function"?WeakSet:Set;function Vi(sn){var ln=sn.ref;if(ln!==null)if(typeof ln=="function")try{ln(null)}catch(cn){Wi(sn,cn)}else ln.current=null}function Xi(sn,ln){switch(ln.tag){case 0:case 11:case 15:case 22:return;case 1:if(ln.flags&256&&sn!==null){var cn=sn.memoizedProps,dn=sn.memoizedState;sn=ln.stateNode,ln=sn.getSnapshotBeforeUpdate(ln.elementType===ln.type?cn:lg(ln.type,cn),dn),sn.__reactInternalSnapshotBeforeUpdate=ln}return;case 3:ln.flags&256&&qf(ln.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(y$f(163))}function Yi(sn,ln,cn){switch(cn.tag){case 0:case 11:case 15:case 22:if(ln=cn.updateQueue,ln=ln!==null?ln.lastEffect:null,ln!==null){sn=ln=ln.next;do{if((sn.tag&3)===3){var dn=sn.create;sn.destroy=dn()}sn=sn.next}while(sn!==ln)}if(ln=cn.updateQueue,ln=ln!==null?ln.lastEffect:null,ln!==null){sn=ln=ln.next;do{var pn=sn;dn=pn.next,pn=pn.tag,pn&4&&pn&1&&(Zi(cn,sn),$i(cn,sn)),sn=dn}while(sn!==ln)}return;case 1:sn=cn.stateNode,cn.flags&4&&(ln===null?sn.componentDidMount():(dn=cn.elementType===cn.type?ln.memoizedProps:lg(cn.type,ln.memoizedProps),sn.componentDidUpdate(dn,ln.memoizedState,sn.__reactInternalSnapshotBeforeUpdate))),ln=cn.updateQueue,ln!==null&&Eg(cn,ln,sn);return;case 3:if(ln=cn.updateQueue,ln!==null){if(sn=null,cn.child!==null)switch(cn.child.tag){case 5:sn=cn.child.stateNode;break;case 1:sn=cn.child.stateNode}Eg(cn,ln,sn)}return;case 5:sn=cn.stateNode,ln===null&&cn.flags&4&&mf$3(cn.type,cn.memoizedProps)&&sn.focus();return;case 6:return;case 4:return;case 12:return;case 13:cn.memoizedState===null&&(cn=cn.alternate,cn!==null&&(cn=cn.memoizedState,cn!==null&&(cn=cn.dehydrated,cn!==null&&Cc(cn))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(y$f(163))}function aj(sn,ln){for(var cn=sn;;){if(cn.tag===5){var dn=cn.stateNode;if(ln)dn=dn.style,typeof dn.setProperty=="function"?dn.setProperty("display","none","important"):dn.display="none";else{dn=cn.stateNode;var pn=cn.memoizedProps.style;pn=pn!=null&&pn.hasOwnProperty("display")?pn.display:null,dn.style.display=sb("display",pn)}}else if(cn.tag===6)cn.stateNode.nodeValue=ln?"":cn.memoizedProps;else if((cn.tag!==23&&cn.tag!==24||cn.memoizedState===null||cn===sn)&&cn.child!==null){cn.child.return=cn,cn=cn.child;continue}if(cn===sn)break;for(;cn.sibling===null;){if(cn.return===null||cn.return===sn)return;cn=cn.return}cn.sibling.return=cn.return,cn=cn.sibling}}function bj(sn,ln){if(Mf$3&&typeof Mf$3.onCommitFiberUnmount=="function")try{Mf$3.onCommitFiberUnmount(Lf,ln)}catch{}switch(ln.tag){case 0:case 11:case 14:case 15:case 22:if(sn=ln.updateQueue,sn!==null&&(sn=sn.lastEffect,sn!==null)){var cn=sn=sn.next;do{var dn=cn,pn=dn.destroy;if(dn=dn.tag,pn!==void 0)if(dn&4)Zi(ln,cn);else{dn=ln;try{pn()}catch(vn){Wi(dn,vn)}}cn=cn.next}while(cn!==sn)}break;case 1:if(Vi(ln),sn=ln.stateNode,typeof sn.componentWillUnmount=="function")try{sn.props=ln.memoizedProps,sn.state=ln.memoizedState,sn.componentWillUnmount()}catch(vn){Wi(ln,vn)}break;case 5:Vi(ln);break;case 4:cj(sn,ln)}}function dj(sn){sn.alternate=null,sn.child=null,sn.dependencies=null,sn.firstEffect=null,sn.lastEffect=null,sn.memoizedProps=null,sn.memoizedState=null,sn.pendingProps=null,sn.return=null,sn.updateQueue=null}function ej(sn){return sn.tag===5||sn.tag===3||sn.tag===4}function fj(sn){e:{for(var ln=sn.return;ln!==null;){if(ej(ln))break e;ln=ln.return}throw Error(y$f(160))}var cn=ln;switch(ln=cn.stateNode,cn.tag){case 5:var dn=!1;break;case 3:ln=ln.containerInfo,dn=!0;break;case 4:ln=ln.containerInfo,dn=!0;break;default:throw Error(y$f(161))}cn.flags&16&&(pb(ln,""),cn.flags&=-17);e:t:for(cn=sn;;){for(;cn.sibling===null;){if(cn.return===null||ej(cn.return)){cn=null;break e}cn=cn.return}for(cn.sibling.return=cn.return,cn=cn.sibling;cn.tag!==5&&cn.tag!==6&&cn.tag!==18;){if(cn.flags&2||cn.child===null||cn.tag===4)continue t;cn.child.return=cn,cn=cn.child}if(!(cn.flags&2)){cn=cn.stateNode;break e}}dn?gj(sn,cn,ln):hj(sn,cn,ln)}function gj(sn,ln,cn){var dn=sn.tag,pn=dn===5||dn===6;if(pn)sn=pn?sn.stateNode:sn.stateNode.instance,ln?cn.nodeType===8?cn.parentNode.insertBefore(sn,ln):cn.insertBefore(sn,ln):(cn.nodeType===8?(ln=cn.parentNode,ln.insertBefore(sn,cn)):(ln=cn,ln.appendChild(sn)),cn=cn._reactRootContainer,cn!=null||ln.onclick!==null||(ln.onclick=jf$2));else if(dn!==4&&(sn=sn.child,sn!==null))for(gj(sn,ln,cn),sn=sn.sibling;sn!==null;)gj(sn,ln,cn),sn=sn.sibling}function hj(sn,ln,cn){var dn=sn.tag,pn=dn===5||dn===6;if(pn)sn=pn?sn.stateNode:sn.stateNode.instance,ln?cn.insertBefore(sn,ln):cn.appendChild(sn);else if(dn!==4&&(sn=sn.child,sn!==null))for(hj(sn,ln,cn),sn=sn.sibling;sn!==null;)hj(sn,ln,cn),sn=sn.sibling}function cj(sn,ln){for(var cn=ln,dn=!1,pn,vn;;){if(!dn){dn=cn.return;e:for(;;){if(dn===null)throw Error(y$f(160));switch(pn=dn.stateNode,dn.tag){case 5:vn=!1;break e;case 3:pn=pn.containerInfo,vn=!0;break e;case 4:pn=pn.containerInfo,vn=!0;break e}dn=dn.return}dn=!0}if(cn.tag===5||cn.tag===6){e:for(var Sn=sn,En=cn,Cn=En;;)if(bj(Sn,Cn),Cn.child!==null&&Cn.tag!==4)Cn.child.return=Cn,Cn=Cn.child;else{if(Cn===En)break e;for(;Cn.sibling===null;){if(Cn.return===null||Cn.return===En)break e;Cn=Cn.return}Cn.sibling.return=Cn.return,Cn=Cn.sibling}vn?(Sn=pn,En=cn.stateNode,Sn.nodeType===8?Sn.parentNode.removeChild(En):Sn.removeChild(En)):pn.removeChild(cn.stateNode)}else if(cn.tag===4){if(cn.child!==null){pn=cn.stateNode.containerInfo,vn=!0,cn.child.return=cn,cn=cn.child;continue}}else if(bj(sn,cn),cn.child!==null){cn.child.return=cn,cn=cn.child;continue}if(cn===ln)break;for(;cn.sibling===null;){if(cn.return===null||cn.return===ln)return;cn=cn.return,cn.tag===4&&(dn=!1)}cn.sibling.return=cn.return,cn=cn.sibling}}function ij(sn,ln){switch(ln.tag){case 0:case 11:case 14:case 15:case 22:var cn=ln.updateQueue;if(cn=cn!==null?cn.lastEffect:null,cn!==null){var dn=cn=cn.next;do(dn.tag&3)===3&&(sn=dn.destroy,dn.destroy=void 0,sn!==void 0&&sn()),dn=dn.next;while(dn!==cn)}return;case 1:return;case 5:if(cn=ln.stateNode,cn!=null){dn=ln.memoizedProps;var pn=sn!==null?sn.memoizedProps:dn;sn=ln.type;var vn=ln.updateQueue;if(ln.updateQueue=null,vn!==null){for(cn[xf$3]=dn,sn==="input"&&dn.type==="radio"&&dn.name!=null&&$a$4(cn,dn),wb(sn,pn),ln=wb(sn,dn),pn=0;pn<vn.length;pn+=2){var Sn=vn[pn],En=vn[pn+1];Sn==="style"?tb(cn,En):Sn==="dangerouslySetInnerHTML"?ob(cn,En):Sn==="children"?pb(cn,En):qa$5(cn,Sn,En,ln)}switch(sn){case"input":ab(cn,dn);break;case"textarea":ib(cn,dn);break;case"select":sn=cn._wrapperState.wasMultiple,cn._wrapperState.wasMultiple=!!dn.multiple,vn=dn.value,vn!=null?fb(cn,!!dn.multiple,vn,!1):sn!==!!dn.multiple&&(dn.defaultValue!=null?fb(cn,!!dn.multiple,dn.defaultValue,!0):fb(cn,!!dn.multiple,dn.multiple?[]:"",!1))}}}return;case 6:if(ln.stateNode===null)throw Error(y$f(162));ln.stateNode.nodeValue=ln.memoizedProps;return;case 3:cn=ln.stateNode,cn.hydrate&&(cn.hydrate=!1,Cc(cn.containerInfo));return;case 12:return;case 13:ln.memoizedState!==null&&(jj=O$f(),aj(ln.child,!0)),kj(ln);return;case 19:kj(ln);return;case 17:return;case 23:case 24:aj(ln,ln.memoizedState!==null);return}throw Error(y$f(163))}function kj(sn){var ln=sn.updateQueue;if(ln!==null){sn.updateQueue=null;var cn=sn.stateNode;cn===null&&(cn=sn.stateNode=new Ui),ln.forEach(function(dn){var pn=lj.bind(null,sn,dn);cn.has(dn)||(cn.add(dn),dn.then(pn,pn))})}}function mj(sn,ln){return sn!==null&&(sn=sn.memoizedState,sn===null||sn.dehydrated!==null)?(ln=ln.memoizedState,ln!==null&&ln.dehydrated===null):!1}var nj=Math.ceil,oj=ra$6.ReactCurrentDispatcher,pj=ra$6.ReactCurrentOwner,X$8=0,U$d=null,Y$c=null,W$d=0,qj=0,rj=Bf$2(0),V$9=0,sj=null,tj=0,Dg=0,Hi=0,uj=0,vj=null,jj=0,Ji=1/0;function wj(){Ji=O$f()+500}var Z$a=null,Qi=!1,Ri=null,Ti=null,xj=!1,yj=null,zj=90,Aj=[],Bj=[],Cj=null,Dj=0,Ej=null,Fj=-1,Gj=0,Hj=0,Ij=null,Jj=!1;function Hg(){return X$8&48?O$f():Fj!==-1?Fj:Fj=O$f()}function Ig(sn){if(sn=sn.mode,!(sn&2))return 1;if(!(sn&4))return eg()===99?1:2;if(Gj===0&&(Gj=tj),kg.transition!==0){Hj!==0&&(Hj=vj!==null?vj.pendingLanes:0),sn=Gj;var ln=4186112&~Hj;return ln&=-ln,ln===0&&(sn=4186112&~sn,ln=sn&-sn,ln===0&&(ln=8192)),ln}return sn=eg(),X$8&4&&sn===98?sn=Xc(12,Gj):(sn=Sc(sn),sn=Xc(sn,Gj)),sn}function Jg(sn,ln,cn){if(50<Dj)throw Dj=0,Ej=null,Error(y$f(185));if(sn=Kj(sn,ln),sn===null)return null;$c(sn,ln,cn),sn===U$d&&(Hi|=ln,V$9===4&&Ii(sn,W$d));var dn=eg();ln===1?X$8&8&&!(X$8&48)?Lj(sn):(Mj(sn,cn),X$8===0&&(wj(),ig())):(!(X$8&4)||dn!==98&&dn!==99||(Cj===null?Cj=new Set([sn]):Cj.add(sn)),Mj(sn,cn)),vj=sn}function Kj(sn,ln){sn.lanes|=ln;var cn=sn.alternate;for(cn!==null&&(cn.lanes|=ln),cn=sn,sn=sn.return;sn!==null;)sn.childLanes|=ln,cn=sn.alternate,cn!==null&&(cn.childLanes|=ln),cn=sn,sn=sn.return;return cn.tag===3?cn.stateNode:null}function Mj(sn,ln){for(var cn=sn.callbackNode,dn=sn.suspendedLanes,pn=sn.pingedLanes,vn=sn.expirationTimes,Sn=sn.pendingLanes;0<Sn;){var En=31-Vc(Sn),Cn=1<<En,Pn=vn[En];if(Pn===-1){if(!(Cn&dn)||Cn&pn){Pn=ln,Rc(Cn);var Rn=F$g;vn[En]=10<=Rn?Pn+250:6<=Rn?Pn+5e3:-1}}else Pn<=ln&&(sn.expiredLanes|=Cn);Sn&=~Cn}if(dn=Uc(sn,sn===U$d?W$d:0),ln=F$g,dn===0)cn!==null&&(cn!==Zf$1&&Pf$3(cn),sn.callbackNode=null,sn.callbackPriority=0);else{if(cn!==null){if(sn.callbackPriority===ln)return;cn!==Zf$1&&Pf$3(cn)}ln===15?(cn=Lj.bind(null,sn),ag===null?(ag=[cn],bg=Of$3(Uf,jg)):ag.push(cn),cn=Zf$1):ln===14?cn=hg(99,Lj.bind(null,sn)):(cn=Tc(ln),cn=hg(cn,Nj.bind(null,sn))),sn.callbackPriority=ln,sn.callbackNode=cn}}function Nj(sn){if(Fj=-1,Hj=Gj=0,X$8&48)throw Error(y$f(327));var ln=sn.callbackNode;if(Oj()&&sn.callbackNode!==ln)return null;var cn=Uc(sn,sn===U$d?W$d:0);if(cn===0)return null;var dn=cn,pn=X$8;X$8|=16;var vn=Pj();(U$d!==sn||W$d!==dn)&&(wj(),Qj(sn,dn));do try{Rj();break}catch(En){Sj(sn,En)}while(1);if(qg(),oj.current=vn,X$8=pn,Y$c!==null?dn=0:(U$d=null,W$d=0,dn=V$9),tj&Hi)Qj(sn,0);else if(dn!==0){if(dn===2&&(X$8|=64,sn.hydrate&&(sn.hydrate=!1,qf(sn.containerInfo)),cn=Wc(sn),cn!==0&&(dn=Tj(sn,cn))),dn===1)throw ln=sj,Qj(sn,0),Ii(sn,cn),Mj(sn,O$f()),ln;switch(sn.finishedWork=sn.current.alternate,sn.finishedLanes=cn,dn){case 0:case 1:throw Error(y$f(345));case 2:Uj(sn);break;case 3:if(Ii(sn,cn),(cn&62914560)===cn&&(dn=jj+500-O$f(),10<dn)){if(Uc(sn,0)!==0)break;if(pn=sn.suspendedLanes,(pn&cn)!==cn){Hg(),sn.pingedLanes|=sn.suspendedLanes&pn;break}sn.timeoutHandle=of$3(Uj.bind(null,sn),dn);break}Uj(sn);break;case 4:if(Ii(sn,cn),(cn&4186112)===cn)break;for(dn=sn.eventTimes,pn=-1;0<cn;){var Sn=31-Vc(cn);vn=1<<Sn,Sn=dn[Sn],Sn>pn&&(pn=Sn),cn&=~vn}if(cn=pn,cn=O$f()-cn,cn=(120>cn?120:480>cn?480:1080>cn?1080:1920>cn?1920:3e3>cn?3e3:4320>cn?4320:1960*nj(cn/1960))-cn,10<cn){sn.timeoutHandle=of$3(Uj.bind(null,sn),cn);break}Uj(sn);break;case 5:Uj(sn);break;default:throw Error(y$f(329))}}return Mj(sn,O$f()),sn.callbackNode===ln?Nj.bind(null,sn):null}function Ii(sn,ln){for(ln&=~uj,ln&=~Hi,sn.suspendedLanes|=ln,sn.pingedLanes&=~ln,sn=sn.expirationTimes;0<ln;){var cn=31-Vc(ln),dn=1<<cn;sn[cn]=-1,ln&=~dn}}function Lj(sn){if(X$8&48)throw Error(y$f(327));if(Oj(),sn===U$d&&sn.expiredLanes&W$d){var ln=W$d,cn=Tj(sn,ln);tj&Hi&&(ln=Uc(sn,ln),cn=Tj(sn,ln))}else ln=Uc(sn,0),cn=Tj(sn,ln);if(sn.tag!==0&&cn===2&&(X$8|=64,sn.hydrate&&(sn.hydrate=!1,qf(sn.containerInfo)),ln=Wc(sn),ln!==0&&(cn=Tj(sn,ln))),cn===1)throw cn=sj,Qj(sn,0),Ii(sn,ln),Mj(sn,O$f()),cn;return sn.finishedWork=sn.current.alternate,sn.finishedLanes=ln,Uj(sn),Mj(sn,O$f()),null}function Vj(){if(Cj!==null){var sn=Cj;Cj=null,sn.forEach(function(ln){ln.expiredLanes|=24&ln.pendingLanes,Mj(ln,O$f())})}ig()}function Wj(sn,ln){var cn=X$8;X$8|=1;try{return sn(ln)}finally{X$8=cn,X$8===0&&(wj(),ig())}}function Xj(sn,ln){var cn=X$8;X$8&=-2,X$8|=8;try{return sn(ln)}finally{X$8=cn,X$8===0&&(wj(),ig())}}function ni(sn,ln){I$g(rj,qj),qj|=ln,tj|=ln}function Ki(){qj=rj.current,H$g(rj)}function Qj(sn,ln){sn.finishedWork=null,sn.finishedLanes=0;var cn=sn.timeoutHandle;if(cn!==-1&&(sn.timeoutHandle=-1,pf$3(cn)),Y$c!==null)for(cn=Y$c.return;cn!==null;){var dn=cn;switch(dn.tag){case 1:dn=dn.type.childContextTypes,dn!=null&&Gf$3();break;case 3:fh(),H$g(N$g),H$g(M$d),uh();break;case 5:hh(dn);break;case 4:fh();break;case 13:H$g(P$a);break;case 19:H$g(P$a);break;case 10:rg(dn);break;case 23:case 24:Ki()}cn=cn.return}U$d=sn,Y$c=Tg(sn.current,null),W$d=qj=tj=ln,V$9=0,sj=null,uj=Hi=Dg=0}function Sj(sn,ln){do{var cn=Y$c;try{if(qg(),vh.current=Gh,yh){for(var dn=R$d.memoizedState;dn!==null;){var pn=dn.queue;pn!==null&&(pn.pending=null),dn=dn.next}yh=!1}if(xh=0,T$h=S$e=R$d=null,zh=!1,pj.current=null,cn===null||cn.return===null){V$9=1,sj=ln,Y$c=null;break}e:{var vn=sn,Sn=cn.return,En=cn,Cn=ln;if(ln=W$d,En.flags|=2048,En.firstEffect=En.lastEffect=null,Cn!==null&&typeof Cn=="object"&&typeof Cn.then=="function"){var Pn=Cn;if(!(En.mode&2)){var Rn=En.alternate;Rn?(En.updateQueue=Rn.updateQueue,En.memoizedState=Rn.memoizedState,En.lanes=Rn.lanes):(En.updateQueue=null,En.memoizedState=null)}var Ln=(P$a.current&1)!==0,Fn=Sn;do{var Gn;if(Gn=Fn.tag===13){var Dn=Fn.memoizedState;if(Dn!==null)Gn=Dn.dehydrated!==null;else{var Kn=Fn.memoizedProps;Gn=Kn.fallback===void 0?!1:Kn.unstable_avoidThisFallback!==!0?!0:!Ln}}if(Gn){var qn=Fn.updateQueue;if(qn===null){var Zn=new Set;Zn.add(Pn),Fn.updateQueue=Zn}else qn.add(Pn);if(!(Fn.mode&2)){if(Fn.flags|=64,En.flags|=16384,En.flags&=-2981,En.tag===1)if(En.alternate===null)En.tag=17;else{var Yn=zg(-1,1);Yn.tag=2,Ag(En,Yn)}En.lanes|=1;break e}Cn=void 0,En=ln;var Jn=vn.pingCache;if(Jn===null?(Jn=vn.pingCache=new Oi,Cn=new Set,Jn.set(Pn,Cn)):(Cn=Jn.get(Pn),Cn===void 0&&(Cn=new Set,Jn.set(Pn,Cn))),!Cn.has(En)){Cn.add(En);var rs=Yj.bind(null,vn,Pn,En);Pn.then(rs,rs)}Fn.flags|=4096,Fn.lanes=ln;break e}Fn=Fn.return}while(Fn!==null);Cn=Error((Ra$6(En.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}V$9!==5&&(V$9=2),Cn=Mi(Cn,En),Fn=Sn;do{switch(Fn.tag){case 3:vn=Cn,Fn.flags|=4096,ln&=-ln,Fn.lanes|=ln;var us=Pi(Fn,vn,ln);Bg(Fn,us);break e;case 1:vn=Cn;var as=Fn.type,cs=Fn.stateNode;if(!(Fn.flags&64)&&(typeof as.getDerivedStateFromError=="function"||cs!==null&&typeof cs.componentDidCatch=="function"&&(Ti===null||!Ti.has(cs)))){Fn.flags|=4096,ln&=-ln,Fn.lanes|=ln;var _s=Si(Fn,vn,ln);Bg(Fn,_s);break e}}Fn=Fn.return}while(Fn!==null)}Zj(cn)}catch(Es){ln=Es,Y$c===cn&&cn!==null&&(Y$c=cn=cn.return);continue}break}while(1)}function Pj(){var sn=oj.current;return oj.current=Gh,sn===null?Gh:sn}function Tj(sn,ln){var cn=X$8;X$8|=16;var dn=Pj();U$d===sn&&W$d===ln||Qj(sn,ln);do try{ak();break}catch(pn){Sj(sn,pn)}while(1);if(qg(),X$8=cn,oj.current=dn,Y$c!==null)throw Error(y$f(261));return U$d=null,W$d=0,V$9}function ak(){for(;Y$c!==null;)bk(Y$c)}function Rj(){for(;Y$c!==null&&!Qf$1();)bk(Y$c)}function bk(sn){var ln=ck(sn.alternate,sn,qj);sn.memoizedProps=sn.pendingProps,ln===null?Zj(sn):Y$c=ln,pj.current=null}function Zj(sn){var ln=sn;do{var cn=ln.alternate;if(sn=ln.return,ln.flags&2048){if(cn=Li(ln),cn!==null){cn.flags&=2047,Y$c=cn;return}sn!==null&&(sn.firstEffect=sn.lastEffect=null,sn.flags|=2048)}else{if(cn=Gi(cn,ln,qj),cn!==null){Y$c=cn;return}if(cn=ln,cn.tag!==24&&cn.tag!==23||cn.memoizedState===null||qj&1073741824||!(cn.mode&4)){for(var dn=0,pn=cn.child;pn!==null;)dn|=pn.lanes|pn.childLanes,pn=pn.sibling;cn.childLanes=dn}sn!==null&&!(sn.flags&2048)&&(sn.firstEffect===null&&(sn.firstEffect=ln.firstEffect),ln.lastEffect!==null&&(sn.lastEffect!==null&&(sn.lastEffect.nextEffect=ln.firstEffect),sn.lastEffect=ln.lastEffect),1<ln.flags&&(sn.lastEffect!==null?sn.lastEffect.nextEffect=ln:sn.firstEffect=ln,sn.lastEffect=ln))}if(ln=ln.sibling,ln!==null){Y$c=ln;return}Y$c=ln=sn}while(ln!==null);V$9===0&&(V$9=5)}function Uj(sn){var ln=eg();return gg(99,dk.bind(null,sn,ln)),null}function dk(sn,ln){do Oj();while(yj!==null);if(X$8&48)throw Error(y$f(327));var cn=sn.finishedWork;if(cn===null)return null;if(sn.finishedWork=null,sn.finishedLanes=0,cn===sn.current)throw Error(y$f(177));sn.callbackNode=null;var dn=cn.lanes|cn.childLanes,pn=dn,vn=sn.pendingLanes&~pn;sn.pendingLanes=pn,sn.suspendedLanes=0,sn.pingedLanes=0,sn.expiredLanes&=pn,sn.mutableReadLanes&=pn,sn.entangledLanes&=pn,pn=sn.entanglements;for(var Sn=sn.eventTimes,En=sn.expirationTimes;0<vn;){var Cn=31-Vc(vn),Pn=1<<Cn;pn[Cn]=0,Sn[Cn]=-1,En[Cn]=-1,vn&=~Pn}if(Cj!==null&&!(dn&24)&&Cj.has(sn)&&Cj.delete(sn),sn===U$d&&(Y$c=U$d=null,W$d=0),1<cn.flags?cn.lastEffect!==null?(cn.lastEffect.nextEffect=cn,dn=cn.firstEffect):dn=cn:dn=cn.firstEffect,dn!==null){if(pn=X$8,X$8|=32,pj.current=null,kf=fd,Sn=Ne$8(),Oe$7(Sn)){if("selectionStart"in Sn)En={start:Sn.selectionStart,end:Sn.selectionEnd};else e:if(En=(En=Sn.ownerDocument)&&En.defaultView||window,(Pn=En.getSelection&&En.getSelection())&&Pn.rangeCount!==0){En=Pn.anchorNode,vn=Pn.anchorOffset,Cn=Pn.focusNode,Pn=Pn.focusOffset;try{En.nodeType,Cn.nodeType}catch{En=null;break e}var Rn=0,Ln=-1,Fn=-1,Gn=0,Dn=0,Kn=Sn,qn=null;t:for(;;){for(var Zn;Kn!==En||vn!==0&&Kn.nodeType!==3||(Ln=Rn+vn),Kn!==Cn||Pn!==0&&Kn.nodeType!==3||(Fn=Rn+Pn),Kn.nodeType===3&&(Rn+=Kn.nodeValue.length),(Zn=Kn.firstChild)!==null;)qn=Kn,Kn=Zn;for(;;){if(Kn===Sn)break t;if(qn===En&&++Gn===vn&&(Ln=Rn),qn===Cn&&++Dn===Pn&&(Fn=Rn),(Zn=Kn.nextSibling)!==null)break;Kn=qn,qn=Kn.parentNode}Kn=Zn}En=Ln===-1||Fn===-1?null:{start:Ln,end:Fn}}else En=null;En=En||{start:0,end:0}}else En=null;lf$1={focusedElem:Sn,selectionRange:En},fd=!1,Ij=null,Jj=!1,Z$a=dn;do try{ek()}catch(Es){if(Z$a===null)throw Error(y$f(330));Wi(Z$a,Es),Z$a=Z$a.nextEffect}while(Z$a!==null);Ij=null,Z$a=dn;do try{for(Sn=sn;Z$a!==null;){var Yn=Z$a.flags;if(Yn&16&&pb(Z$a.stateNode,""),Yn&128){var Jn=Z$a.alternate;if(Jn!==null){var rs=Jn.ref;rs!==null&&(typeof rs=="function"?rs(null):rs.current=null)}}switch(Yn&1038){case 2:fj(Z$a),Z$a.flags&=-3;break;case 6:fj(Z$a),Z$a.flags&=-3,ij(Z$a.alternate,Z$a);break;case 1024:Z$a.flags&=-1025;break;case 1028:Z$a.flags&=-1025,ij(Z$a.alternate,Z$a);break;case 4:ij(Z$a.alternate,Z$a);break;case 8:En=Z$a,cj(Sn,En);var us=En.alternate;dj(En),us!==null&&dj(us)}Z$a=Z$a.nextEffect}}catch(Es){if(Z$a===null)throw Error(y$f(330));Wi(Z$a,Es),Z$a=Z$a.nextEffect}while(Z$a!==null);if(rs=lf$1,Jn=Ne$8(),Yn=rs.focusedElem,Sn=rs.selectionRange,Jn!==Yn&&Yn&&Yn.ownerDocument&&Me$9(Yn.ownerDocument.documentElement,Yn)){for(Sn!==null&&Oe$7(Yn)&&(Jn=Sn.start,rs=Sn.end,rs===void 0&&(rs=Jn),"selectionStart"in Yn?(Yn.selectionStart=Jn,Yn.selectionEnd=Math.min(rs,Yn.value.length)):(rs=(Jn=Yn.ownerDocument||document)&&Jn.defaultView||window,rs.getSelection&&(rs=rs.getSelection(),En=Yn.textContent.length,us=Math.min(Sn.start,En),Sn=Sn.end===void 0?us:Math.min(Sn.end,En),!rs.extend&&us>Sn&&(En=Sn,Sn=us,us=En),En=Le$8(Yn,us),vn=Le$8(Yn,Sn),En&&vn&&(rs.rangeCount!==1||rs.anchorNode!==En.node||rs.anchorOffset!==En.offset||rs.focusNode!==vn.node||rs.focusOffset!==vn.offset)&&(Jn=Jn.createRange(),Jn.setStart(En.node,En.offset),rs.removeAllRanges(),us>Sn?(rs.addRange(Jn),rs.extend(vn.node,vn.offset)):(Jn.setEnd(vn.node,vn.offset),rs.addRange(Jn)))))),Jn=[],rs=Yn;rs=rs.parentNode;)rs.nodeType===1&&Jn.push({element:rs,left:rs.scrollLeft,top:rs.scrollTop});for(typeof Yn.focus=="function"&&Yn.focus(),Yn=0;Yn<Jn.length;Yn++)rs=Jn[Yn],rs.element.scrollLeft=rs.left,rs.element.scrollTop=rs.top}fd=!!kf,lf$1=kf=null,sn.current=cn,Z$a=dn;do try{for(Yn=sn;Z$a!==null;){var as=Z$a.flags;if(as&36&&Yi(Yn,Z$a.alternate,Z$a),as&128){Jn=void 0;var cs=Z$a.ref;if(cs!==null){var _s=Z$a.stateNode;switch(Z$a.tag){case 5:Jn=_s;break;default:Jn=_s}typeof cs=="function"?cs(Jn):cs.current=Jn}}Z$a=Z$a.nextEffect}}catch(Es){if(Z$a===null)throw Error(y$f(330));Wi(Z$a,Es),Z$a=Z$a.nextEffect}while(Z$a!==null);Z$a=null,$f$1(),X$8=pn}else sn.current=cn;if(xj)xj=!1,yj=sn,zj=ln;else for(Z$a=dn;Z$a!==null;)ln=Z$a.nextEffect,Z$a.nextEffect=null,Z$a.flags&8&&(as=Z$a,as.sibling=null,as.stateNode=null),Z$a=ln;if(dn=sn.pendingLanes,dn===0&&(Ti=null),dn===1?sn===Ej?Dj++:(Dj=0,Ej=sn):Dj=0,cn=cn.stateNode,Mf$3&&typeof Mf$3.onCommitFiberRoot=="function")try{Mf$3.onCommitFiberRoot(Lf,cn,void 0,(cn.current.flags&64)===64)}catch{}if(Mj(sn,O$f()),Qi)throw Qi=!1,sn=Ri,Ri=null,sn;return X$8&8||ig(),null}function ek(){for(;Z$a!==null;){var sn=Z$a.alternate;Jj||Ij===null||(Z$a.flags&8?dc(Z$a,Ij)&&(Jj=!0):Z$a.tag===13&&mj(sn,Z$a)&&dc(Z$a,Ij)&&(Jj=!0));var ln=Z$a.flags;ln&256&&Xi(sn,Z$a),!(ln&512)||xj||(xj=!0,hg(97,function(){return Oj(),null})),Z$a=Z$a.nextEffect}}function Oj(){if(zj!==90){var sn=97<zj?97:zj;return zj=90,gg(sn,fk)}return!1}function $i(sn,ln){Aj.push(ln,sn),xj||(xj=!0,hg(97,function(){return Oj(),null}))}function Zi(sn,ln){Bj.push(ln,sn),xj||(xj=!0,hg(97,function(){return Oj(),null}))}function fk(){if(yj===null)return!1;var sn=yj;if(yj=null,X$8&48)throw Error(y$f(331));var ln=X$8;X$8|=32;var cn=Bj;Bj=[];for(var dn=0;dn<cn.length;dn+=2){var pn=cn[dn],vn=cn[dn+1],Sn=pn.destroy;if(pn.destroy=void 0,typeof Sn=="function")try{Sn()}catch(Cn){if(vn===null)throw Error(y$f(330));Wi(vn,Cn)}}for(cn=Aj,Aj=[],dn=0;dn<cn.length;dn+=2){pn=cn[dn],vn=cn[dn+1];try{var En=pn.create;pn.destroy=En()}catch(Cn){if(vn===null)throw Error(y$f(330));Wi(vn,Cn)}}for(En=sn.current.firstEffect;En!==null;)sn=En.nextEffect,En.nextEffect=null,En.flags&8&&(En.sibling=null,En.stateNode=null),En=sn;return X$8=ln,ig(),!0}function gk(sn,ln,cn){ln=Mi(cn,ln),ln=Pi(sn,ln,1),Ag(sn,ln),ln=Hg(),sn=Kj(sn,1),sn!==null&&($c(sn,1,ln),Mj(sn,ln))}function Wi(sn,ln){if(sn.tag===3)gk(sn,sn,ln);else for(var cn=sn.return;cn!==null;){if(cn.tag===3){gk(cn,sn,ln);break}else if(cn.tag===1){var dn=cn.stateNode;if(typeof cn.type.getDerivedStateFromError=="function"||typeof dn.componentDidCatch=="function"&&(Ti===null||!Ti.has(dn))){sn=Mi(ln,sn);var pn=Si(cn,sn,1);if(Ag(cn,pn),pn=Hg(),cn=Kj(cn,1),cn!==null)$c(cn,1,pn),Mj(cn,pn);else if(typeof dn.componentDidCatch=="function"&&(Ti===null||!Ti.has(dn)))try{dn.componentDidCatch(ln,sn)}catch{}break}}cn=cn.return}}function Yj(sn,ln,cn){var dn=sn.pingCache;dn!==null&&dn.delete(ln),ln=Hg(),sn.pingedLanes|=sn.suspendedLanes&cn,U$d===sn&&(W$d&cn)===cn&&(V$9===4||V$9===3&&(W$d&62914560)===W$d&&500>O$f()-jj?Qj(sn,0):uj|=cn),Mj(sn,ln)}function lj(sn,ln){var cn=sn.stateNode;cn!==null&&cn.delete(ln),ln=0,ln===0&&(ln=sn.mode,ln&2?ln&4?(Gj===0&&(Gj=tj),ln=Yc(62914560&~Gj),ln===0&&(ln=4194304)):ln=eg()===99?1:2:ln=1),cn=Hg(),sn=Kj(sn,ln),sn!==null&&($c(sn,ln,cn),Mj(sn,cn))}var ck;ck=function(sn,ln,cn){var dn=ln.lanes;if(sn!==null)if(sn.memoizedProps!==ln.pendingProps||N$g.current)ug=!0;else if(cn&dn)ug=!!(sn.flags&16384);else{switch(ug=!1,ln.tag){case 3:ri(ln),sh();break;case 5:gh(ln);break;case 1:Ff$3(ln.type)&&Jf$2(ln);break;case 4:eh(ln,ln.stateNode.containerInfo);break;case 10:dn=ln.memoizedProps.value;var pn=ln.type._context;I$g(mg,pn._currentValue),pn._currentValue=dn;break;case 13:if(ln.memoizedState!==null)return cn&ln.child.childLanes?ti(sn,ln,cn):(I$g(P$a,P$a.current&1),ln=hi(sn,ln,cn),ln!==null?ln.sibling:null);I$g(P$a,P$a.current&1);break;case 19:if(dn=(cn&ln.childLanes)!==0,sn.flags&64){if(dn)return Ai(sn,ln,cn);ln.flags|=64}if(pn=ln.memoizedState,pn!==null&&(pn.rendering=null,pn.tail=null,pn.lastEffect=null),I$g(P$a,P$a.current),dn)break;return null;case 23:case 24:return ln.lanes=0,mi(sn,ln,cn)}return hi(sn,ln,cn)}else ug=!1;switch(ln.lanes=0,ln.tag){case 2:if(dn=ln.type,sn!==null&&(sn.alternate=null,ln.alternate=null,ln.flags|=2),sn=ln.pendingProps,pn=Ef$3(ln,M$d.current),tg(ln,cn),pn=Ch(null,ln,dn,sn,pn,cn),ln.flags|=1,typeof pn=="object"&&pn!==null&&typeof pn.render=="function"&&pn.$$typeof===void 0){if(ln.tag=1,ln.memoizedState=null,ln.updateQueue=null,Ff$3(dn)){var vn=!0;Jf$2(ln)}else vn=!1;ln.memoizedState=pn.state!==null&&pn.state!==void 0?pn.state:null,xg(ln);var Sn=dn.getDerivedStateFromProps;typeof Sn=="function"&&Gg(ln,dn,Sn,sn),pn.updater=Kg,ln.stateNode=pn,pn._reactInternals=ln,Og(ln,dn,sn,cn),ln=qi(null,ln,dn,!0,vn,cn)}else ln.tag=0,fi(null,ln,pn,cn),ln=ln.child;return ln;case 16:pn=ln.elementType;e:{switch(sn!==null&&(sn.alternate=null,ln.alternate=null,ln.flags|=2),sn=ln.pendingProps,vn=pn._init,pn=vn(pn._payload),ln.type=pn,vn=ln.tag=hk(pn),sn=lg(pn,sn),vn){case 0:ln=li(null,ln,pn,sn,cn);break e;case 1:ln=pi(null,ln,pn,sn,cn);break e;case 11:ln=gi(null,ln,pn,sn,cn);break e;case 14:ln=ii(null,ln,pn,lg(pn.type,sn),dn,cn);break e}throw Error(y$f(306,pn,""))}return ln;case 0:return dn=ln.type,pn=ln.pendingProps,pn=ln.elementType===dn?pn:lg(dn,pn),li(sn,ln,dn,pn,cn);case 1:return dn=ln.type,pn=ln.pendingProps,pn=ln.elementType===dn?pn:lg(dn,pn),pi(sn,ln,dn,pn,cn);case 3:if(ri(ln),dn=ln.updateQueue,sn===null||dn===null)throw Error(y$f(282));if(dn=ln.pendingProps,pn=ln.memoizedState,pn=pn!==null?pn.element:null,yg(sn,ln),Cg(ln,dn,null,cn),dn=ln.memoizedState.element,dn===pn)sh(),ln=hi(sn,ln,cn);else{if(pn=ln.stateNode,(vn=pn.hydrate)&&(kh=rf$3(ln.stateNode.containerInfo.firstChild),jh=ln,vn=lh=!0),vn){if(sn=pn.mutableSourceEagerHydrationData,sn!=null)for(pn=0;pn<sn.length;pn+=2)vn=sn[pn],vn._workInProgressVersionPrimary=sn[pn+1],th.push(vn);for(cn=Zg(ln,null,dn,cn),ln.child=cn;cn;)cn.flags=cn.flags&-3|1024,cn=cn.sibling}else fi(sn,ln,dn,cn),sh();ln=ln.child}return ln;case 5:return gh(ln),sn===null&&ph(ln),dn=ln.type,pn=ln.pendingProps,vn=sn!==null?sn.memoizedProps:null,Sn=pn.children,nf$1(dn,pn)?Sn=null:vn!==null&&nf$1(dn,vn)&&(ln.flags|=16),oi(sn,ln),fi(sn,ln,Sn,cn),ln.child;case 6:return sn===null&&ph(ln),null;case 13:return ti(sn,ln,cn);case 4:return eh(ln,ln.stateNode.containerInfo),dn=ln.pendingProps,sn===null?ln.child=Yg(ln,null,dn,cn):fi(sn,ln,dn,cn),ln.child;case 11:return dn=ln.type,pn=ln.pendingProps,pn=ln.elementType===dn?pn:lg(dn,pn),gi(sn,ln,dn,pn,cn);case 7:return fi(sn,ln,ln.pendingProps,cn),ln.child;case 8:return fi(sn,ln,ln.pendingProps.children,cn),ln.child;case 12:return fi(sn,ln,ln.pendingProps.children,cn),ln.child;case 10:e:{dn=ln.type._context,pn=ln.pendingProps,Sn=ln.memoizedProps,vn=pn.value;var En=ln.type._context;if(I$g(mg,En._currentValue),En._currentValue=vn,Sn!==null)if(En=Sn.value,vn=He$7(En,vn)?0:(typeof dn._calculateChangedBits=="function"?dn._calculateChangedBits(En,vn):1073741823)|0,vn===0){if(Sn.children===pn.children&&!N$g.current){ln=hi(sn,ln,cn);break e}}else for(En=ln.child,En!==null&&(En.return=ln);En!==null;){var Cn=En.dependencies;if(Cn!==null){Sn=En.child;for(var Pn=Cn.firstContext;Pn!==null;){if(Pn.context===dn&&Pn.observedBits&vn){En.tag===1&&(Pn=zg(-1,cn&-cn),Pn.tag=2,Ag(En,Pn)),En.lanes|=cn,Pn=En.alternate,Pn!==null&&(Pn.lanes|=cn),sg(En.return,cn),Cn.lanes|=cn;break}Pn=Pn.next}}else Sn=En.tag===10&&En.type===ln.type?null:En.child;if(Sn!==null)Sn.return=En;else for(Sn=En;Sn!==null;){if(Sn===ln){Sn=null;break}if(En=Sn.sibling,En!==null){En.return=Sn.return,Sn=En;break}Sn=Sn.return}En=Sn}fi(sn,ln,pn.children,cn),ln=ln.child}return ln;case 9:return pn=ln.type,vn=ln.pendingProps,dn=vn.children,tg(ln,cn),pn=vg(pn,vn.unstable_observedBits),dn=dn(pn),ln.flags|=1,fi(sn,ln,dn,cn),ln.child;case 14:return pn=ln.type,vn=lg(pn,ln.pendingProps),vn=lg(pn.type,vn),ii(sn,ln,pn,vn,dn,cn);case 15:return ki(sn,ln,ln.type,ln.pendingProps,dn,cn);case 17:return dn=ln.type,pn=ln.pendingProps,pn=ln.elementType===dn?pn:lg(dn,pn),sn!==null&&(sn.alternate=null,ln.alternate=null,ln.flags|=2),ln.tag=1,Ff$3(dn)?(sn=!0,Jf$2(ln)):sn=!1,tg(ln,cn),Mg(ln,dn,pn),Og(ln,dn,pn,cn),qi(null,ln,dn,!0,sn,cn);case 19:return Ai(sn,ln,cn);case 23:return mi(sn,ln,cn);case 24:return mi(sn,ln,cn)}throw Error(y$f(156,ln.tag))};function ik(sn,ln,cn,dn){this.tag=sn,this.key=cn,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=ln,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=dn,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function nh(sn,ln,cn,dn){return new ik(sn,ln,cn,dn)}function ji(sn){return sn=sn.prototype,!(!sn||!sn.isReactComponent)}function hk(sn){if(typeof sn=="function")return ji(sn)?1:0;if(sn!=null){if(sn=sn.$$typeof,sn===Aa$6)return 11;if(sn===Da$6)return 14}return 2}function Tg(sn,ln){var cn=sn.alternate;return cn===null?(cn=nh(sn.tag,ln,sn.key,sn.mode),cn.elementType=sn.elementType,cn.type=sn.type,cn.stateNode=sn.stateNode,cn.alternate=sn,sn.alternate=cn):(cn.pendingProps=ln,cn.type=sn.type,cn.flags=0,cn.nextEffect=null,cn.firstEffect=null,cn.lastEffect=null),cn.childLanes=sn.childLanes,cn.lanes=sn.lanes,cn.child=sn.child,cn.memoizedProps=sn.memoizedProps,cn.memoizedState=sn.memoizedState,cn.updateQueue=sn.updateQueue,ln=sn.dependencies,cn.dependencies=ln===null?null:{lanes:ln.lanes,firstContext:ln.firstContext},cn.sibling=sn.sibling,cn.index=sn.index,cn.ref=sn.ref,cn}function Vg(sn,ln,cn,dn,pn,vn){var Sn=2;if(dn=sn,typeof sn=="function")ji(sn)&&(Sn=1);else if(typeof sn=="string")Sn=5;else e:switch(sn){case ua$6:return Xg(cn.children,pn,vn,ln);case Ha$5:Sn=8,pn|=16;break;case wa$4:Sn=8,pn|=1;break;case xa$6:return sn=nh(12,cn,ln,pn|8),sn.elementType=xa$6,sn.type=xa$6,sn.lanes=vn,sn;case Ba$6:return sn=nh(13,cn,ln,pn),sn.type=Ba$6,sn.elementType=Ba$6,sn.lanes=vn,sn;case Ca$6:return sn=nh(19,cn,ln,pn),sn.elementType=Ca$6,sn.lanes=vn,sn;case Ia$6:return vi(cn,pn,vn,ln);case Ja$4:return sn=nh(24,cn,ln,pn),sn.elementType=Ja$4,sn.lanes=vn,sn;default:if(typeof sn=="object"&&sn!==null)switch(sn.$$typeof){case ya$6:Sn=10;break e;case za$6:Sn=9;break e;case Aa$6:Sn=11;break e;case Da$6:Sn=14;break e;case Ea$6:Sn=16,dn=null;break e;case Fa$4:Sn=22;break e}throw Error(y$f(130,sn==null?sn:typeof sn,""))}return ln=nh(Sn,cn,ln,pn),ln.elementType=sn,ln.type=dn,ln.lanes=vn,ln}function Xg(sn,ln,cn,dn){return sn=nh(7,sn,dn,ln),sn.lanes=cn,sn}function vi(sn,ln,cn,dn){return sn=nh(23,sn,dn,ln),sn.elementType=Ia$6,sn.lanes=cn,sn}function Ug(sn,ln,cn){return sn=nh(6,sn,null,ln),sn.lanes=cn,sn}function Wg(sn,ln,cn){return ln=nh(4,sn.children!==null?sn.children:[],sn.key,ln),ln.lanes=cn,ln.stateNode={containerInfo:sn.containerInfo,pendingChildren:null,implementation:sn.implementation},ln}function jk(sn,ln,cn){this.tag=ln,this.containerInfo=sn,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=cn,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Zc(0),this.expirationTimes=Zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zc(0),this.mutableSourceEagerHydrationData=null}function kk(sn,ln,cn){var dn=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ta$6,key:dn==null?null:""+dn,children:sn,containerInfo:ln,implementation:cn}}function lk(sn,ln,cn,dn){var pn=ln.current,vn=Hg(),Sn=Ig(pn);e:if(cn){cn=cn._reactInternals;t:{if(Zb(cn)!==cn||cn.tag!==1)throw Error(y$f(170));var En=cn;do{switch(En.tag){case 3:En=En.stateNode.context;break t;case 1:if(Ff$3(En.type)){En=En.stateNode.__reactInternalMemoizedMergedChildContext;break t}}En=En.return}while(En!==null);throw Error(y$f(171))}if(cn.tag===1){var Cn=cn.type;if(Ff$3(Cn)){cn=If$1(cn,Cn,En);break e}}cn=En}else cn=Cf$3;return ln.context===null?ln.context=cn:ln.pendingContext=cn,ln=zg(vn,Sn),ln.payload={element:sn},dn=dn===void 0?null:dn,dn!==null&&(ln.callback=dn),Ag(pn,ln),Jg(pn,Sn,vn),Sn}function mk(sn){if(sn=sn.current,!sn.child)return null;switch(sn.child.tag){case 5:return sn.child.stateNode;default:return sn.child.stateNode}}function nk(sn,ln){if(sn=sn.memoizedState,sn!==null&&sn.dehydrated!==null){var cn=sn.retryLane;sn.retryLane=cn!==0&&cn<ln?cn:ln}}function ok(sn,ln){nk(sn,ln),(sn=sn.alternate)&&nk(sn,ln)}function pk(){return null}function qk(sn,ln,cn){var dn=cn!=null&&cn.hydrationOptions!=null&&cn.hydrationOptions.mutableSources||null;if(cn=new jk(sn,ln,cn!=null&&cn.hydrate===!0),ln=nh(3,null,null,ln===2?7:ln===1?3:0),cn.current=ln,ln.stateNode=cn,xg(ln),sn[ff$2]=cn.current,cf$3(sn.nodeType===8?sn.parentNode:sn),dn)for(sn=0;sn<dn.length;sn++){ln=dn[sn];var pn=ln._getVersion;pn=pn(ln._source),cn.mutableSourceEagerHydrationData==null?cn.mutableSourceEagerHydrationData=[ln,pn]:cn.mutableSourceEagerHydrationData.push(ln,pn)}this._internalRoot=cn}qk.prototype.render=function(sn){lk(sn,this._internalRoot,null,null)};qk.prototype.unmount=function(){var sn=this._internalRoot,ln=sn.containerInfo;lk(null,sn,null,function(){ln[ff$2]=null})};function rk(sn){return!(!sn||sn.nodeType!==1&&sn.nodeType!==9&&sn.nodeType!==11&&(sn.nodeType!==8||sn.nodeValue!==" react-mount-point-unstable "))}function sk(sn,ln){if(ln||(ln=sn?sn.nodeType===9?sn.documentElement:sn.firstChild:null,ln=!(!ln||ln.nodeType!==1||!ln.hasAttribute("data-reactroot"))),!ln)for(var cn;cn=sn.lastChild;)sn.removeChild(cn);return new qk(sn,0,ln?{hydrate:!0}:void 0)}function tk(sn,ln,cn,dn,pn){var vn=cn._reactRootContainer;if(vn){var Sn=vn._internalRoot;if(typeof pn=="function"){var En=pn;pn=function(){var Pn=mk(Sn);En.call(Pn)}}lk(ln,Sn,sn,pn)}else{if(vn=cn._reactRootContainer=sk(cn,dn),Sn=vn._internalRoot,typeof pn=="function"){var Cn=pn;pn=function(){var Pn=mk(Sn);Cn.call(Pn)}}Xj(function(){lk(ln,Sn,sn,pn)})}return mk(Sn)}ec=function(sn){if(sn.tag===13){var ln=Hg();Jg(sn,4,ln),ok(sn,4)}};fc=function(sn){if(sn.tag===13){var ln=Hg();Jg(sn,67108864,ln),ok(sn,67108864)}};gc=function(sn){if(sn.tag===13){var ln=Hg(),cn=Ig(sn);Jg(sn,cn,ln),ok(sn,cn)}};hc=function(sn,ln){return ln()};yb=function(sn,ln,cn){switch(ln){case"input":if(ab(sn,cn),ln=cn.name,cn.type==="radio"&&ln!=null){for(cn=sn;cn.parentNode;)cn=cn.parentNode;for(cn=cn.querySelectorAll("input[name="+JSON.stringify(""+ln)+'][type="radio"]'),ln=0;ln<cn.length;ln++){var dn=cn[ln];if(dn!==sn&&dn.form===sn.form){var pn=Db(dn);if(!pn)throw Error(y$f(90));Wa$4(dn),ab(dn,pn)}}}break;case"textarea":ib(sn,cn);break;case"select":ln=cn.value,ln!=null&&fb(sn,!!cn.multiple,ln,!1)}};Gb=Wj;Hb=function(sn,ln,cn,dn,pn){var vn=X$8;X$8|=4;try{return gg(98,sn.bind(null,ln,cn,dn,pn))}finally{X$8=vn,X$8===0&&(wj(),ig())}};Ib=function(){!(X$8&49)&&(Vj(),Oj())};Jb=function(sn,ln){var cn=X$8;X$8|=2;try{return sn(ln)}finally{X$8=cn,X$8===0&&(wj(),ig())}};function uk(sn,ln){var cn=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rk(ln))throw Error(y$f(200));return kk(sn,ln,null,cn)}var vk={Events:[Cb,ue$9,Db,Eb,Fb,Oj,{current:!1}]},wk={findFiberByHostInstance:wc,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},xk={bundleType:wk.bundleType,version:wk.version,rendererPackageName:wk.rendererPackageName,rendererConfig:wk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra$6.ReactCurrentDispatcher,findHostInstanceByFiber:function(sn){return sn=cc(sn),sn===null?null:sn.stateNode},findFiberByHostInstance:wk.findFiberByHostInstance||pk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yk.isDisabled&&yk.supportsFiber)try{Lf=yk.inject(xk),Mf$3=yk}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk;reactDom_production_min.createPortal=uk;reactDom_production_min.findDOMNode=function(sn){if(sn==null)return null;if(sn.nodeType===1)return sn;var ln=sn._reactInternals;if(ln===void 0)throw typeof sn.render=="function"?Error(y$f(188)):Error(y$f(268,Object.keys(sn)));return sn=cc(ln),sn=sn===null?null:sn.stateNode,sn};reactDom_production_min.flushSync=function(sn,ln){var cn=X$8;if(cn&48)return sn(ln);X$8|=1;try{if(sn)return gg(99,sn.bind(null,ln))}finally{X$8=cn,ig()}};reactDom_production_min.hydrate=function(sn,ln,cn){if(!rk(ln))throw Error(y$f(200));return tk(null,sn,ln,!0,cn)};reactDom_production_min.render=function(sn,ln,cn){if(!rk(ln))throw Error(y$f(200));return tk(null,sn,ln,!1,cn)};reactDom_production_min.unmountComponentAtNode=function(sn){if(!rk(sn))throw Error(y$f(40));return sn._reactRootContainer?(Xj(function(){tk(null,null,sn,!1,function(){sn._reactRootContainer=null,sn[ff$2]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Wj;reactDom_production_min.unstable_createPortal=function(sn,ln){return uk(sn,ln,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};reactDom_production_min.unstable_renderSubtreeIntoContainer=function(sn,ln,cn,dn){if(!rk(cn))throw Error(y$f(200));if(sn==null||sn._reactInternals===void 0)throw Error(y$f(38));return tk(sn,ln,cn,!1,dn)};reactDom_production_min.version="17.0.2";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(sn){console.error(sn)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var lib={exports:{}},Modal$3={},propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function sn(dn,pn,vn,Sn,En,Cn){if(Cn!==ReactPropTypesSecret){var Pn=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Pn.name="Invariant Violation",Pn}}sn.isRequired=sn;function ln(){return sn}var cn={array:sn,bigint:sn,bool:sn,func:sn,number:sn,object:sn,string:sn,symbol:sn,any:sn,arrayOf:ln,element:sn,elementType:sn,instanceOf:ln,node:sn,objectOf:ln,oneOf:ln,oneOfType:ln,shape:ln,exact:ln,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return cn.PropTypes=cn,cn};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const r$7=getDefaultExportFromCjs(propTypesExports);var ModalPortal={exports:{}},focusManager$1={},tabbable$1={exports:{}};tabbable$1.exports;(function(sn,ln){Object.defineProperty(ln,"__esModule",{value:!0}),ln.default=Rn;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var cn="none",dn="contents",pn=/input|select|textarea|button|object|iframe/;function vn(Ln,Fn){return Fn.getPropertyValue("overflow")!=="visible"||Ln.scrollWidth<=0&&Ln.scrollHeight<=0}function Sn(Ln){var Fn=Ln.offsetWidth<=0&&Ln.offsetHeight<=0;if(Fn&&!Ln.innerHTML)return!0;try{var Gn=window.getComputedStyle(Ln),Dn=Gn.getPropertyValue("display");return Fn?Dn!==dn&&vn(Ln,Gn):Dn===cn}catch{return console.warn("Failed to inspect element style"),!1}}function En(Ln){for(var Fn=Ln,Gn=Ln.getRootNode&&Ln.getRootNode();Fn&&Fn!==document.body;){if(Gn&&Fn===Gn&&(Fn=Gn.host.parentNode),Sn(Fn))return!1;Fn=Fn.parentNode}return!0}function Cn(Ln,Fn){var Gn=Ln.nodeName.toLowerCase(),Dn=pn.test(Gn)&&!Ln.disabled||Gn==="a"&&Ln.href||Fn;return Dn&&En(Ln)}function Pn(Ln){var Fn=Ln.getAttribute("tabindex");Fn===null&&(Fn=void 0);var Gn=isNaN(Fn);return(Gn||Fn>=0)&&Cn(Ln,!Gn)}function Rn(Ln){var Fn=[].slice.call(Ln.querySelectorAll("*"),0).reduce(function(Gn,Dn){return Gn.concat(Dn.shadowRoot?Rn(Dn.shadowRoot):[Dn])},[]);return Fn.filter(Pn)}sn.exports=ln.default})(tabbable$1,tabbable$1.exports);var tabbableExports=tabbable$1.exports;Object.defineProperty(focusManager$1,"__esModule",{value:!0});focusManager$1.resetState=resetState$4;focusManager$1.log=log$e;focusManager$1.handleBlur=handleBlur;focusManager$1.handleFocus=handleFocus;focusManager$1.markForFocusLater=markForFocusLater;focusManager$1.returnFocus=returnFocus;focusManager$1.popWithoutFocus=popWithoutFocus;focusManager$1.setupScopedFocus=setupScopedFocus;focusManager$1.teardownScopedFocus=teardownScopedFocus;var _tabbable=tabbableExports,_tabbable2=_interopRequireDefault$4(_tabbable);function _interopRequireDefault$4(sn){return sn&&sn.__esModule?sn:{default:sn}}var focusLaterElements=[],modalElement=null,needToFocus=!1;function resetState$4(){focusLaterElements=[]}function log$e(){}function handleBlur(){needToFocus=!0}function handleFocus(){if(needToFocus){if(needToFocus=!1,!modalElement)return;setTimeout(function(){if(!modalElement.contains(document.activeElement)){var sn=(0,_tabbable2.default)(modalElement)[0]||modalElement;sn.focus()}},0)}}function markForFocusLater(){focusLaterElements.push(document.activeElement)}function returnFocus(){var sn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ln=null;try{focusLaterElements.length!==0&&(ln=focusLaterElements.pop(),ln.focus({preventScroll:sn}));return}catch{console.warn(["You tried to return focus to",ln,"but it is not in the DOM anymore"].join(" "))}}function popWithoutFocus(){focusLaterElements.length>0&&focusLaterElements.pop()}function setupScopedFocus(sn){modalElement=sn,window.addEventListener?(window.addEventListener("blur",handleBlur,!1),document.addEventListener("focus",handleFocus,!0)):(window.attachEvent("onBlur",handleBlur),document.attachEvent("onFocus",handleFocus))}function teardownScopedFocus(){modalElement=null,window.addEventListener?(window.removeEventListener("blur",handleBlur),document.removeEventListener("focus",handleFocus)):(window.detachEvent("onBlur",handleBlur),document.detachEvent("onFocus",handleFocus))}var scopeTab$1={exports:{}};scopeTab$1.exports;(function(sn,ln){Object.defineProperty(ln,"__esModule",{value:!0}),ln.default=Sn;var cn=tabbableExports,dn=pn(cn);function pn(En){return En&&En.__esModule?En:{default:En}}function vn(){var En=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return En.activeElement.shadowRoot?vn(En.activeElement.shadowRoot):En.activeElement}function Sn(En,Cn){var Pn=(0,dn.default)(En);if(!Pn.length){Cn.preventDefault();return}var Rn=void 0,Ln=Cn.shiftKey,Fn=Pn[0],Gn=Pn[Pn.length-1],Dn=vn();if(En===Dn){if(!Ln)return;Rn=Gn}if(Gn===Dn&&!Ln&&(Rn=Fn),Fn===Dn&&Ln&&(Rn=Gn),Rn){Cn.preventDefault(),Rn.focus();return}var Kn=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),qn=Kn!=null&&Kn[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(qn){var Zn=Pn.indexOf(Dn);if(Zn>-1&&(Zn+=Ln?-1:1),Rn=Pn[Zn],typeof Rn>"u"){Cn.preventDefault(),Rn=Ln?Gn:Fn,Rn.focus();return}Cn.preventDefault(),Rn.focus()}}sn.exports=ln.default})(scopeTab$1,scopeTab$1.exports);var scopeTabExports=scopeTab$1.exports,ariaAppHider$1={},warning$1=function(){},warning_1=warning$1,safeHTMLElement={},exenv={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/exenv.exports;(function(sn){(function(){var ln=!!(typeof window<"u"&&window.document&&window.document.createElement),cn={canUseDOM:ln,canUseWorkers:typeof Worker<"u",canUseEventListeners:ln&&!!(window.addEventListener||window.attachEvent),canUseViewport:ln&&!!window.screen};sn.exports?sn.exports=cn:window.ExecutionEnvironment=cn})()})(exenv);var exenvExports=exenv.exports;Object.defineProperty(safeHTMLElement,"__esModule",{value:!0});safeHTMLElement.canUseDOM=safeHTMLElement.SafeNodeList=safeHTMLElement.SafeHTMLCollection=void 0;var _exenv=exenvExports,_exenv2=_interopRequireDefault$3(_exenv);function _interopRequireDefault$3(sn){return sn&&sn.__esModule?sn:{default:sn}}var EE=_exenv2.default,SafeHTMLElement=EE.canUseDOM?window.HTMLElement:{};safeHTMLElement.SafeHTMLCollection=EE.canUseDOM?window.HTMLCollection:{};safeHTMLElement.SafeNodeList=EE.canUseDOM?window.NodeList:{};safeHTMLElement.canUseDOM=EE.canUseDOM;safeHTMLElement.default=SafeHTMLElement;Object.defineProperty(ariaAppHider$1,"__esModule",{value:!0});ariaAppHider$1.resetState=resetState$3;ariaAppHider$1.log=log$d;ariaAppHider$1.assertNodeList=assertNodeList;ariaAppHider$1.setElement=setElement;ariaAppHider$1.validateElement=validateElement;ariaAppHider$1.hide=hide;ariaAppHider$1.show=show;ariaAppHider$1.documentNotReadyOrSSRTesting=documentNotReadyOrSSRTesting;var _warning=warning_1,_warning2=_interopRequireDefault$2(_warning),_safeHTMLElement$1=safeHTMLElement;function _interopRequireDefault$2(sn){return sn&&sn.__esModule?sn:{default:sn}}var globalElement=null;function resetState$3(){globalElement&&(globalElement.removeAttribute?globalElement.removeAttribute("aria-hidden"):globalElement.length!=null?globalElement.forEach(function(sn){return sn.removeAttribute("aria-hidden")}):document.querySelectorAll(globalElement).forEach(function(sn){return sn.removeAttribute("aria-hidden")})),globalElement=null}function log$d(){}function assertNodeList(sn,ln){if(!sn||!sn.length)throw new Error("react-modal: No elements were found for selector "+ln+".")}function setElement(sn){var ln=sn;if(typeof ln=="string"&&_safeHTMLElement$1.canUseDOM){var cn=document.querySelectorAll(ln);assertNodeList(cn,ln),ln=cn}return globalElement=ln||globalElement,globalElement}function validateElement(sn){var ln=sn||globalElement;return ln?Array.isArray(ln)||ln instanceof HTMLCollection||ln instanceof NodeList?ln:[ln]:((0,_warning2.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function hide(sn){var ln=!0,cn=!1,dn=void 0;try{for(var pn=validateElement(sn)[Symbol.iterator](),vn;!(ln=(vn=pn.next()).done);ln=!0){var Sn=vn.value;Sn.setAttribute("aria-hidden","true")}}catch(En){cn=!0,dn=En}finally{try{!ln&&pn.return&&pn.return()}finally{if(cn)throw dn}}}function show(sn){var ln=!0,cn=!1,dn=void 0;try{for(var pn=validateElement(sn)[Symbol.iterator](),vn;!(ln=(vn=pn.next()).done);ln=!0){var Sn=vn.value;Sn.removeAttribute("aria-hidden")}}catch(En){cn=!0,dn=En}finally{try{!ln&&pn.return&&pn.return()}finally{if(cn)throw dn}}}function documentNotReadyOrSSRTesting(){globalElement=null}var classList$2={};Object.defineProperty(classList$2,"__esModule",{value:!0});classList$2.resetState=resetState$2;classList$2.log=log$c;var htmlClassList={},docBodyClassList={};function removeClass(sn,ln){sn.classList.remove(ln)}function resetState$2(){var sn=document.getElementsByTagName("html")[0];for(var ln in htmlClassList)removeClass(sn,htmlClassList[ln]);var cn=document.body;for(var dn in docBodyClassList)removeClass(cn,docBodyClassList[dn]);htmlClassList={},docBodyClassList={}}function log$c(){}var incrementReference=function(ln,cn){return ln[cn]||(ln[cn]=0),ln[cn]+=1,cn},decrementReference=function(ln,cn){return ln[cn]&&(ln[cn]-=1),cn},trackClass=function(ln,cn,dn){dn.forEach(function(pn){incrementReference(cn,pn),ln.add(pn)})},untrackClass=function(ln,cn,dn){dn.forEach(function(pn){decrementReference(cn,pn),cn[pn]===0&&ln.remove(pn)})};classList$2.add=function(ln,cn){return trackClass(ln.classList,ln.nodeName.toLowerCase()=="html"?htmlClassList:docBodyClassList,cn.split(" "))};classList$2.remove=function(ln,cn){return untrackClass(ln.classList,ln.nodeName.toLowerCase()=="html"?htmlClassList:docBodyClassList,cn.split(" "))};var portalOpenInstances$1={};Object.defineProperty(portalOpenInstances$1,"__esModule",{value:!0});portalOpenInstances$1.log=log$b;portalOpenInstances$1.resetState=resetState$1;function _classCallCheck$2(sn,ln){if(!(sn instanceof ln))throw new TypeError("Cannot call a class as a function")}var PortalOpenInstances=function sn(){var ln=this;_classCallCheck$2(this,sn),this.register=function(cn){ln.openInstances.indexOf(cn)===-1&&(ln.openInstances.push(cn),ln.emit("register"))},this.deregister=function(cn){var dn=ln.openInstances.indexOf(cn);dn!==-1&&(ln.openInstances.splice(dn,1),ln.emit("deregister"))},this.subscribe=function(cn){ln.subscribers.push(cn)},this.emit=function(cn){ln.subscribers.forEach(function(dn){return dn(cn,ln.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},portalOpenInstances=new PortalOpenInstances;function log$b(){console.log("portalOpenInstances ----------"),console.log(portalOpenInstances.openInstances.length),portalOpenInstances.openInstances.forEach(function(sn){return console.log(sn)}),console.log("end portalOpenInstances ----------")}function resetState$1(){portalOpenInstances=new PortalOpenInstances}portalOpenInstances$1.default=portalOpenInstances;var bodyTrap$1={};Object.defineProperty(bodyTrap$1,"__esModule",{value:!0});bodyTrap$1.resetState=resetState;bodyTrap$1.log=log$a;var _portalOpenInstances=portalOpenInstances$1,_portalOpenInstances2=_interopRequireDefault$1(_portalOpenInstances);function _interopRequireDefault$1(sn){return sn&&sn.__esModule?sn:{default:sn}}var before=void 0,after=void 0,instances=[];function resetState(){for(var sn=[before,after],ln=0;ln<sn.length;ln++){var cn=sn[ln];cn&&cn.parentNode&&cn.parentNode.removeChild(cn)}before=after=null,instances=[]}function log$a(){console.log("bodyTrap ----------"),console.log(instances.length);for(var sn=[before,after],ln=0;ln<sn.length;ln++){var cn=sn[ln],dn=cn||{};console.log(dn.nodeName,dn.className,dn.id)}console.log("edn bodyTrap ----------")}function focusContent(){instances.length!==0&&instances[instances.length-1].focusContent()}function bodyTrap(sn,ln){!before&&!after&&(before=document.createElement("div"),before.setAttribute("data-react-modal-body-trap",""),before.style.position="absolute",before.style.opacity="0",before.setAttribute("tabindex","0"),before.addEventListener("focus",focusContent),after=before.cloneNode(),after.addEventListener("focus",focusContent)),instances=ln,instances.length>0?(document.body.firstChild!==before&&document.body.insertBefore(before,document.body.firstChild),document.body.lastChild!==after&&document.body.appendChild(after)):(before.parentElement&&before.parentElement.removeChild(before),after.parentElement&&after.parentElement.removeChild(after))}_portalOpenInstances2.default.subscribe(bodyTrap);ModalPortal.exports;(function(sn,ln){Object.defineProperty(ln,"__esModule",{value:!0});var cn=Object.assign||function(gs){for(var Ss=1;Ss<arguments.length;Ss++){var js=arguments[Ss];for(var bs in js)Object.prototype.hasOwnProperty.call(js,bs)&&(gs[bs]=js[bs])}return gs},dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(gs){return typeof gs}:function(gs){return gs&&typeof Symbol=="function"&&gs.constructor===Symbol&&gs!==Symbol.prototype?"symbol":typeof gs},pn=function(){function gs(Ss,js){for(var bs=0;bs<js.length;bs++){var Ts=js[bs];Ts.enumerable=Ts.enumerable||!1,Ts.configurable=!0,"value"in Ts&&(Ts.writable=!0),Object.defineProperty(Ss,Ts.key,Ts)}}return function(Ss,js,bs){return js&&gs(Ss.prototype,js),bs&&gs(Ss,bs),Ss}}(),vn=reactExports,Sn=propTypesExports,En=us(Sn),Cn=focusManager$1,Pn=rs(Cn),Rn=scopeTabExports,Ln=us(Rn),Fn=ariaAppHider$1,Gn=rs(Fn),Dn=classList$2,Kn=rs(Dn),qn=safeHTMLElement,Zn=us(qn),Yn=portalOpenInstances$1,Jn=us(Yn);function rs(gs){if(gs&&gs.__esModule)return gs;var Ss={};if(gs!=null)for(var js in gs)Object.prototype.hasOwnProperty.call(gs,js)&&(Ss[js]=gs[js]);return Ss.default=gs,Ss}function us(gs){return gs&&gs.__esModule?gs:{default:gs}}function as(gs,Ss){if(!(gs instanceof Ss))throw new TypeError("Cannot call a class as a function")}function cs(gs,Ss){if(!gs)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ss&&(typeof Ss=="object"||typeof Ss=="function")?Ss:gs}function _s(gs,Ss){if(typeof Ss!="function"&&Ss!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ss);gs.prototype=Object.create(Ss&&Ss.prototype,{constructor:{value:gs,enumerable:!1,writable:!0,configurable:!0}}),Ss&&(Object.setPrototypeOf?Object.setPrototypeOf(gs,Ss):gs.__proto__=Ss)}var Es={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},Qn=function(Ss){return Ss.code==="Tab"||Ss.keyCode===9},ms=function(Ss){return Ss.code==="Escape"||Ss.keyCode===27},$s=0,Ms=function(gs){_s(Ss,gs);function Ss(js){as(this,Ss);var bs=cs(this,(Ss.__proto__||Object.getPrototypeOf(Ss)).call(this,js));return bs.setOverlayRef=function(Ts){bs.overlay=Ts,bs.props.overlayRef&&bs.props.overlayRef(Ts)},bs.setContentRef=function(Ts){bs.content=Ts,bs.props.contentRef&&bs.props.contentRef(Ts)},bs.afterClose=function(){var Ts=bs.props,xs=Ts.appElement,zs=Ts.ariaHideApp,Bs=Ts.htmlOpenClassName,Js=Ts.bodyOpenClassName,tu=Ts.parentSelector,hs=tu&&tu().ownerDocument||document;Js&&Kn.remove(hs.body,Js),Bs&&Kn.remove(hs.getElementsByTagName("html")[0],Bs),zs&&$s>0&&($s-=1,$s===0&&Gn.show(xs)),bs.props.shouldFocusAfterRender&&(bs.props.shouldReturnFocusAfterClose?(Pn.returnFocus(bs.props.preventScroll),Pn.teardownScopedFocus()):Pn.popWithoutFocus()),bs.props.onAfterClose&&bs.props.onAfterClose(),Jn.default.deregister(bs)},bs.open=function(){bs.beforeOpen(),bs.state.afterOpen&&bs.state.beforeClose?(clearTimeout(bs.closeTimer),bs.setState({beforeClose:!1})):(bs.props.shouldFocusAfterRender&&(Pn.setupScopedFocus(bs.node),Pn.markForFocusLater()),bs.setState({isOpen:!0},function(){bs.openAnimationFrame=requestAnimationFrame(function(){bs.setState({afterOpen:!0}),bs.props.isOpen&&bs.props.onAfterOpen&&bs.props.onAfterOpen({overlayEl:bs.overlay,contentEl:bs.content})})}))},bs.close=function(){bs.props.closeTimeoutMS>0?bs.closeWithTimeout():bs.closeWithoutTimeout()},bs.focusContent=function(){return bs.content&&!bs.contentHasFocus()&&bs.content.focus({preventScroll:!0})},bs.closeWithTimeout=function(){var Ts=Date.now()+bs.props.closeTimeoutMS;bs.setState({beforeClose:!0,closesAt:Ts},function(){bs.closeTimer=setTimeout(bs.closeWithoutTimeout,bs.state.closesAt-Date.now())})},bs.closeWithoutTimeout=function(){bs.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},bs.afterClose)},bs.handleKeyDown=function(Ts){Qn(Ts)&&(0,Ln.default)(bs.content,Ts),bs.props.shouldCloseOnEsc&&ms(Ts)&&(Ts.stopPropagation(),bs.requestClose(Ts))},bs.handleOverlayOnClick=function(Ts){bs.shouldClose===null&&(bs.shouldClose=!0),bs.shouldClose&&bs.props.shouldCloseOnOverlayClick&&(bs.ownerHandlesClose()?bs.requestClose(Ts):bs.focusContent()),bs.shouldClose=null},bs.handleContentOnMouseUp=function(){bs.shouldClose=!1},bs.handleOverlayOnMouseDown=function(Ts){!bs.props.shouldCloseOnOverlayClick&&Ts.target==bs.overlay&&Ts.preventDefault()},bs.handleContentOnClick=function(){bs.shouldClose=!1},bs.handleContentOnMouseDown=function(){bs.shouldClose=!1},bs.requestClose=function(Ts){return bs.ownerHandlesClose()&&bs.props.onRequestClose(Ts)},bs.ownerHandlesClose=function(){return bs.props.onRequestClose},bs.shouldBeClosed=function(){return!bs.state.isOpen&&!bs.state.beforeClose},bs.contentHasFocus=function(){return document.activeElement===bs.content||bs.content.contains(document.activeElement)},bs.buildClassName=function(Ts,xs){var zs=(typeof xs>"u"?"undefined":dn(xs))==="object"?xs:{base:Es[Ts],afterOpen:Es[Ts]+"--after-open",beforeClose:Es[Ts]+"--before-close"},Bs=zs.base;return bs.state.afterOpen&&(Bs=Bs+" "+zs.afterOpen),bs.state.beforeClose&&(Bs=Bs+" "+zs.beforeClose),typeof xs=="string"&&xs?Bs+" "+xs:Bs},bs.attributesFromObject=function(Ts,xs){return Object.keys(xs).reduce(function(zs,Bs){return zs[Ts+"-"+Bs]=xs[Bs],zs},{})},bs.state={afterOpen:!1,beforeClose:!1},bs.shouldClose=null,bs.moveFromContentToOverlay=null,bs}return pn(Ss,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(bs,Ts){this.props.isOpen&&!bs.isOpen?this.open():!this.props.isOpen&&bs.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!Ts.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var bs=this.props,Ts=bs.appElement,xs=bs.ariaHideApp,zs=bs.htmlOpenClassName,Bs=bs.bodyOpenClassName,Js=bs.parentSelector,tu=Js&&Js().ownerDocument||document;Bs&&Kn.add(tu.body,Bs),zs&&Kn.add(tu.getElementsByTagName("html")[0],zs),xs&&($s+=1,Gn.hide(Ts)),Jn.default.register(this)}},{key:"render",value:function(){var bs=this.props,Ts=bs.id,xs=bs.className,zs=bs.overlayClassName,Bs=bs.defaultStyles,Js=bs.children,tu=xs?{}:Bs.content,hs=zs?{}:Bs.overlay;if(this.shouldBeClosed())return null;var lu={ref:this.setOverlayRef,className:this.buildClassName("overlay",zs),style:cn({},hs,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},vu=cn({id:Ts,ref:this.setContentRef,style:cn({},tu,this.props.style.content),className:this.buildClassName("content",xs),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",cn({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),yu=this.props.contentElement(vu,Js);return this.props.overlayElement(lu,yu)}}]),Ss}(vn.Component);Ms.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},Ms.propTypes={isOpen:En.default.bool.isRequired,defaultStyles:En.default.shape({content:En.default.object,overlay:En.default.object}),style:En.default.shape({content:En.default.object,overlay:En.default.object}),className:En.default.oneOfType([En.default.string,En.default.object]),overlayClassName:En.default.oneOfType([En.default.string,En.default.object]),parentSelector:En.default.func,bodyOpenClassName:En.default.string,htmlOpenClassName:En.default.string,ariaHideApp:En.default.bool,appElement:En.default.oneOfType([En.default.instanceOf(Zn.default),En.default.instanceOf(qn.SafeHTMLCollection),En.default.instanceOf(qn.SafeNodeList),En.default.arrayOf(En.default.instanceOf(Zn.default))]),onAfterOpen:En.default.func,onAfterClose:En.default.func,onRequestClose:En.default.func,closeTimeoutMS:En.default.number,shouldFocusAfterRender:En.default.bool,shouldCloseOnOverlayClick:En.default.bool,shouldReturnFocusAfterClose:En.default.bool,preventScroll:En.default.bool,role:En.default.string,contentLabel:En.default.string,aria:En.default.object,data:En.default.object,children:En.default.node,shouldCloseOnEsc:En.default.bool,overlayRef:En.default.func,contentRef:En.default.func,id:En.default.string,overlayElement:En.default.func,contentElement:En.default.func,testId:En.default.string},ln.default=Ms,sn.exports=ln.default})(ModalPortal,ModalPortal.exports);var ModalPortalExports=ModalPortal.exports;function componentWillMount(){var sn=this.constructor.getDerivedStateFromProps(this.props,this.state);sn!=null&&this.setState(sn)}function componentWillReceiveProps(sn){function ln(cn){var dn=this.constructor.getDerivedStateFromProps(sn,cn);return dn??null}this.setState(ln.bind(this))}function componentWillUpdate(sn,ln){try{var cn=this.props,dn=this.state;this.props=sn,this.state=ln,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(cn,dn)}finally{this.props=cn,this.state=dn}}componentWillMount.__suppressDeprecationWarning=!0;componentWillReceiveProps.__suppressDeprecationWarning=!0;componentWillUpdate.__suppressDeprecationWarning=!0;function polyfill(sn){var ln=sn.prototype;if(!ln||!ln.isReactComponent)throw new Error("Can only polyfill class components");if(typeof sn.getDerivedStateFromProps!="function"&&typeof ln.getSnapshotBeforeUpdate!="function")return sn;var cn=null,dn=null,pn=null;if(typeof ln.componentWillMount=="function"?cn="componentWillMount":typeof ln.UNSAFE_componentWillMount=="function"&&(cn="UNSAFE_componentWillMount"),typeof ln.componentWillReceiveProps=="function"?dn="componentWillReceiveProps":typeof ln.UNSAFE_componentWillReceiveProps=="function"&&(dn="UNSAFE_componentWillReceiveProps"),typeof ln.componentWillUpdate=="function"?pn="componentWillUpdate":typeof ln.UNSAFE_componentWillUpdate=="function"&&(pn="UNSAFE_componentWillUpdate"),cn!==null||dn!==null||pn!==null){var vn=sn.displayName||sn.name,Sn=typeof sn.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+vn+" uses "+Sn+" but also contains the following legacy lifecycles:"+(cn!==null?`
  `+cn:"")+(dn!==null?`
  `+dn:"")+(pn!==null?`
  `+pn:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof sn.getDerivedStateFromProps=="function"&&(ln.componentWillMount=componentWillMount,ln.componentWillReceiveProps=componentWillReceiveProps),typeof ln.getSnapshotBeforeUpdate=="function"){if(typeof ln.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");ln.componentWillUpdate=componentWillUpdate;var En=ln.componentDidUpdate;ln.componentDidUpdate=function(Pn,Rn,Ln){var Fn=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:Ln;En.call(this,Pn,Rn,Fn)}}return sn}const reactLifecyclesCompat_es=Object.freeze(Object.defineProperty({__proto__:null,polyfill},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(reactLifecyclesCompat_es);Object.defineProperty(Modal$3,"__esModule",{value:!0});Modal$3.bodyOpenClassName=Modal$3.portalClassName=void 0;var _extends$4=Object.assign||function(sn){for(var ln=1;ln<arguments.length;ln++){var cn=arguments[ln];for(var dn in cn)Object.prototype.hasOwnProperty.call(cn,dn)&&(sn[dn]=cn[dn])}return sn},_createClass$1=function(){function sn(ln,cn){for(var dn=0;dn<cn.length;dn++){var pn=cn[dn];pn.enumerable=pn.enumerable||!1,pn.configurable=!0,"value"in pn&&(pn.writable=!0),Object.defineProperty(ln,pn.key,pn)}}return function(ln,cn,dn){return cn&&sn(ln.prototype,cn),dn&&sn(ln,dn),ln}}(),_react=reactExports,_react2=_interopRequireDefault(_react),_reactDom=reactDomExports,_reactDom2=_interopRequireDefault(_reactDom),_propTypes=propTypesExports,_propTypes2=_interopRequireDefault(_propTypes),_ModalPortal=ModalPortalExports,_ModalPortal2=_interopRequireDefault(_ModalPortal),_ariaAppHider=ariaAppHider$1,ariaAppHider=_interopRequireWildcard(_ariaAppHider),_safeHTMLElement=safeHTMLElement,_safeHTMLElement2=_interopRequireDefault(_safeHTMLElement),_reactLifecyclesCompat=require$$6;function _interopRequireWildcard(sn){if(sn&&sn.__esModule)return sn;var ln={};if(sn!=null)for(var cn in sn)Object.prototype.hasOwnProperty.call(sn,cn)&&(ln[cn]=sn[cn]);return ln.default=sn,ln}function _interopRequireDefault(sn){return sn&&sn.__esModule?sn:{default:sn}}function _classCallCheck$1(sn,ln){if(!(sn instanceof ln))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(sn,ln){if(!sn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ln&&(typeof ln=="object"||typeof ln=="function")?ln:sn}function _inherits(sn,ln){if(typeof ln!="function"&&ln!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ln);sn.prototype=Object.create(ln&&ln.prototype,{constructor:{value:sn,enumerable:!1,writable:!0,configurable:!0}}),ln&&(Object.setPrototypeOf?Object.setPrototypeOf(sn,ln):sn.__proto__=ln)}var portalClassName=Modal$3.portalClassName="ReactModalPortal",bodyOpenClassName=Modal$3.bodyOpenClassName="ReactModal__Body--open",isReact16=_safeHTMLElement.canUseDOM&&_reactDom2.default.createPortal!==void 0,createHTMLElement=function(ln){return document.createElement(ln)},getCreatePortal=function(){return isReact16?_reactDom2.default.createPortal:_reactDom2.default.unstable_renderSubtreeIntoContainer};function getParentElement(sn){return sn()}var Modal$2=function(sn){_inherits(ln,sn);function ln(){var cn,dn,pn,vn;_classCallCheck$1(this,ln);for(var Sn=arguments.length,En=Array(Sn),Cn=0;Cn<Sn;Cn++)En[Cn]=arguments[Cn];return vn=(dn=(pn=_possibleConstructorReturn(this,(cn=ln.__proto__||Object.getPrototypeOf(ln)).call.apply(cn,[this].concat(En))),pn),pn.removePortal=function(){!isReact16&&_reactDom2.default.unmountComponentAtNode(pn.node);var Pn=getParentElement(pn.props.parentSelector);Pn&&Pn.contains(pn.node)?Pn.removeChild(pn.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},pn.portalRef=function(Pn){pn.portal=Pn},pn.renderPortal=function(Pn){var Rn=getCreatePortal(),Ln=Rn(pn,_react2.default.createElement(_ModalPortal2.default,_extends$4({defaultStyles:ln.defaultStyles},Pn)),pn.node);pn.portalRef(Ln)},dn),_possibleConstructorReturn(pn,vn)}return _createClass$1(ln,[{key:"componentDidMount",value:function(){if(_safeHTMLElement.canUseDOM){isReact16||(this.node=createHTMLElement("div")),this.node.className=this.props.portalClassName;var dn=getParentElement(this.props.parentSelector);dn.appendChild(this.node),!isReact16&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(dn){var pn=getParentElement(dn.parentSelector),vn=getParentElement(this.props.parentSelector);return{prevParent:pn,nextParent:vn}}},{key:"componentDidUpdate",value:function(dn,pn,vn){if(_safeHTMLElement.canUseDOM){var Sn=this.props,En=Sn.isOpen,Cn=Sn.portalClassName;dn.portalClassName!==Cn&&(this.node.className=Cn);var Pn=vn.prevParent,Rn=vn.nextParent;Rn!==Pn&&(Pn.removeChild(this.node),Rn.appendChild(this.node)),!(!dn.isOpen&&!En)&&!isReact16&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!_safeHTMLElement.canUseDOM||!this.node||!this.portal)){var dn=this.portal.state,pn=Date.now(),vn=dn.isOpen&&this.props.closeTimeoutMS&&(dn.closesAt||pn+this.props.closeTimeoutMS);vn?(dn.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,vn-pn)):this.removePortal()}}},{key:"render",value:function(){if(!_safeHTMLElement.canUseDOM||!isReact16)return null;!this.node&&isReact16&&(this.node=createHTMLElement("div"));var dn=getCreatePortal();return dn(_react2.default.createElement(_ModalPortal2.default,_extends$4({ref:this.portalRef,defaultStyles:ln.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(dn){ariaAppHider.setElement(dn)}}]),ln}(_react.Component);Modal$2.propTypes={isOpen:_propTypes2.default.bool.isRequired,style:_propTypes2.default.shape({content:_propTypes2.default.object,overlay:_propTypes2.default.object}),portalClassName:_propTypes2.default.string,bodyOpenClassName:_propTypes2.default.string,htmlOpenClassName:_propTypes2.default.string,className:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.shape({base:_propTypes2.default.string.isRequired,afterOpen:_propTypes2.default.string.isRequired,beforeClose:_propTypes2.default.string.isRequired})]),overlayClassName:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.shape({base:_propTypes2.default.string.isRequired,afterOpen:_propTypes2.default.string.isRequired,beforeClose:_propTypes2.default.string.isRequired})]),appElement:_propTypes2.default.oneOfType([_propTypes2.default.instanceOf(_safeHTMLElement2.default),_propTypes2.default.instanceOf(_safeHTMLElement.SafeHTMLCollection),_propTypes2.default.instanceOf(_safeHTMLElement.SafeNodeList),_propTypes2.default.arrayOf(_propTypes2.default.instanceOf(_safeHTMLElement2.default))]),onAfterOpen:_propTypes2.default.func,onRequestClose:_propTypes2.default.func,closeTimeoutMS:_propTypes2.default.number,ariaHideApp:_propTypes2.default.bool,shouldFocusAfterRender:_propTypes2.default.bool,shouldCloseOnOverlayClick:_propTypes2.default.bool,shouldReturnFocusAfterClose:_propTypes2.default.bool,preventScroll:_propTypes2.default.bool,parentSelector:_propTypes2.default.func,aria:_propTypes2.default.object,data:_propTypes2.default.object,role:_propTypes2.default.string,contentLabel:_propTypes2.default.string,shouldCloseOnEsc:_propTypes2.default.bool,overlayRef:_propTypes2.default.func,contentRef:_propTypes2.default.func,id:_propTypes2.default.string,overlayElement:_propTypes2.default.func,contentElement:_propTypes2.default.func};Modal$2.defaultProps={isOpen:!1,portalClassName,bodyOpenClassName,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(ln,cn){return _react2.default.createElement("div",ln,cn)},contentElement:function(ln,cn){return _react2.default.createElement("div",ln,cn)}};Modal$2.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,_reactLifecyclesCompat.polyfill)(Modal$2);Modal$3.default=Modal$2;lib.exports;(function(sn,ln){Object.defineProperty(ln,"__esModule",{value:!0});var cn=Modal$3,dn=pn(cn);function pn(vn){return vn&&vn.__esModule?vn:{default:vn}}ln.default=dn.default,sn.exports=ln.default})(lib,lib.exports);var libExports=lib.exports;const Modal$1=getDefaultExportFromCjs(libExports);var ConsoleApiName={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},display=function(sn){for(var ln=[],cn=1;cn<arguments.length;cn++)ln[cn-1]=arguments[cn];Object.prototype.hasOwnProperty.call(ConsoleApiName,sn)||(sn=ConsoleApiName.log),display[sn].apply(display,ln)},globalConsole=console;display.debug=globalConsole.debug.bind(globalConsole);display.log=globalConsole.log.bind(globalConsole);display.info=globalConsole.info.bind(globalConsole);display.warn=globalConsole.warn.bind(globalConsole);display.error=globalConsole.error.bind(globalConsole);function performDraw(sn){return sn!==0&&Math.random()*100<=sn}function round(sn,ln){return+sn.toFixed(ln)}function isPercentage(sn){return isNumber(sn)&&sn>=0&&sn<=100}function isNumber(sn){return typeof sn=="number"}var ONE_SECOND=1e3,ONE_MINUTE=60*ONE_SECOND,ONE_HOUR=60*ONE_MINUTE,ONE_DAY=24*ONE_HOUR,ONE_YEAR=365*ONE_DAY;function relativeToClocks(sn){return{relative:sn,timeStamp:getCorrectedTimeStamp(sn)}}function getCorrectedTimeStamp(sn){var ln=dateNow()-performance.now();return ln>getNavigationStart()?Math.round(addDuration(ln,sn)):getTimeStamp(sn)}function currentDrift(){return Math.round(dateNow()-addDuration(getNavigationStart(),performance.now()))}function toServerDuration(sn){return isNumber(sn)?round(sn*1e6,0):sn}function dateNow(){return new Date().getTime()}function timeStampNow(){return dateNow()}function relativeNow(){return performance.now()}function clocksNow(){return{relative:relativeNow(),timeStamp:timeStampNow()}}function clocksOrigin(){return{relative:0,timeStamp:getNavigationStart()}}function elapsed(sn,ln){return ln-sn}function addDuration(sn,ln){return sn+ln}function getRelativeTime(sn){return sn-getNavigationStart()}function getTimeStamp(sn){return Math.round(addDuration(getNavigationStart(),sn))}function looksLikeRelativeTime(sn){return sn<ONE_YEAR}var navigationStart;function getNavigationStart(){return navigationStart===void 0&&(navigationStart=performance.timing.navigationStart),navigationStart}function generateUUID(sn){return sn?(parseInt(sn,10)^Math.random()*16>>parseInt(sn,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,generateUUID)}function findCommaSeparatedValue(sn,ln){var cn=new RegExp("(?:^|;)\\s*".concat(ln,"\\s*=\\s*([^;]+)")),dn=cn.exec(sn);return dn?dn[1]:void 0}function safeTruncate(sn,ln,cn){cn===void 0&&(cn="");var dn=sn.charCodeAt(ln-1),pn=dn>=55296&&dn<=56319,vn=pn?ln+1:ln;return sn.length<=vn?sn:"".concat(sn.slice(0,vn)).concat(cn)}var COOKIE_ACCESS_DELAY=ONE_SECOND;function setCookie(sn,ln,cn,dn){var pn=new Date;pn.setTime(pn.getTime()+cn);var vn="expires=".concat(pn.toUTCString()),Sn=dn&&dn.crossSite?"none":"strict",En=dn&&dn.domain?";domain=".concat(dn.domain):"",Cn=dn&&dn.secure?";secure":"";document.cookie="".concat(sn,"=").concat(ln,";").concat(vn,";path=/;samesite=").concat(Sn).concat(En).concat(Cn)}function getCookie(sn){return findCommaSeparatedValue(document.cookie,sn)}function deleteCookie(sn,ln){setCookie(sn,"",0,ln)}function areCookiesAuthorized(sn){if(document.cookie===void 0||document.cookie===null)return!1;try{var ln="dd_cookie_test_".concat(generateUUID()),cn="test";setCookie(ln,cn,ONE_MINUTE,sn);var dn=getCookie(ln)===cn;return deleteCookie(ln,sn),dn}catch(pn){return display.error(pn),!1}}var getCurrentSiteCache;function getCurrentSite(){if(getCurrentSiteCache===void 0){for(var sn="dd_site_test_".concat(generateUUID()),ln="test",cn=window.location.hostname.split("."),dn=cn.pop();cn.length&&!getCookie(sn);)dn="".concat(cn.pop(),".").concat(dn),setCookie(sn,ln,ONE_SECOND,{domain:dn});deleteCookie(sn,{domain:dn}),getCurrentSiteCache=dn}return getCurrentSiteCache}function catchUserErrors(sn,ln){return function(){for(var cn=[],dn=0;dn<arguments.length;dn++)cn[dn]=arguments[dn];try{return sn.apply(void 0,cn)}catch(pn){display.error(ln,pn)}}}var ExperimentalFeature;(function(sn){sn.PAGEHIDE="pagehide",sn.FEATURE_FLAGS="feature_flags",sn.RESOURCE_PAGE_STATES="resource_page_states",sn.COLLECT_FLUSH_REASON="collect_flush_reason"})(ExperimentalFeature||(ExperimentalFeature={}));var enabledExperimentalFeatures=new Set;function addExperimentalFeatures(sn){sn.forEach(function(ln){enabledExperimentalFeatures.add(ln)})}function isExperimentalFeatureEnabled(sn){return enabledExperimentalFeatures.has(sn)}function getExperimentalFeatures(){return enabledExperimentalFeatures}var ONE_KIBI_BYTE=1024,ONE_MEBI_BYTE=1024*ONE_KIBI_BYTE,HAS_MULTI_BYTES_CHARACTERS=/[^\u0000-\u007F]/;function computeBytesCount(sn){return HAS_MULTI_BYTES_CHARACTERS.test(sn)?window.TextEncoder!==void 0?new TextEncoder().encode(sn).length:new Blob([sn]).size:sn.length}function includes(sn,ln){return sn.indexOf(ln)!==-1}function arrayFrom$1(sn){if(Array.from)return Array.from(sn);var ln=[];if(sn instanceof Set)sn.forEach(function(dn){return ln.push(dn)});else for(var cn=0;cn<sn.length;cn++)ln.push(sn[cn]);return ln}function find$2(sn,ln){for(var cn=0;cn<sn.length;cn+=1){var dn=sn[cn];if(ln(dn,cn))return dn}}function findLast(sn,ln){for(var cn=sn.length-1;cn>=0;cn-=1){var dn=sn[cn];if(ln(dn,cn,sn))return dn}}function forEach$1(sn,ln){Array.prototype.forEach.call(sn,ln)}function objectValues(sn){return Object.keys(sn).map(function(ln){return sn[ln]})}function objectEntries(sn){return Object.keys(sn).map(function(ln){return[ln,sn[ln]]})}function startsWith(sn,ln){return sn.slice(0,ln.length)===ln}function endsWith(sn,ln){return sn.slice(-ln.length)===ln}function elementMatches(sn,ln){return sn.matches?sn.matches(ln):sn.msMatchesSelector?sn.msMatchesSelector(ln):!1}function cssEscape(sn){return window.CSS&&window.CSS.escape?window.CSS.escape(sn):sn.replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(ln,cn){return cn?ln==="\0"?"�":"".concat(ln.slice(0,-1),"\\").concat(ln.charCodeAt(ln.length-1).toString(16)," "):"\\".concat(ln)})}function assign$2(sn){for(var ln=[],cn=1;cn<arguments.length;cn++)ln[cn-1]=arguments[cn];return ln.forEach(function(dn){for(var pn in dn)Object.prototype.hasOwnProperty.call(dn,pn)&&(sn[pn]=dn[pn])}),sn}function shallowClone(sn){return assign$2({},sn)}function objectHasValue(sn,ln){return Object.keys(sn).some(function(cn){return sn[cn]===ln})}function isEmptyObject(sn){return Object.keys(sn).length===0}function mapValues(sn,ln){for(var cn={},dn=0,pn=Object.keys(sn);dn<pn.length;dn++){var vn=pn[dn];cn[vn]=ln(sn[vn])}return cn}function getGlobalObject(){if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var sn=_dd_temp_;return delete Object.prototype._dd_temp_,typeof sn!="object"&&(typeof self=="object"?sn=self:typeof window=="object"?sn=window:sn={}),sn}function getZoneJsOriginalValue(sn,ln){var cn=getGlobalObject(),dn;return cn.Zone&&typeof cn.Zone.__symbol__=="function"&&(dn=sn[cn.Zone.__symbol__(ln)]),dn||(dn=sn[ln]),dn}var __spreadArray$2=globalThis&&globalThis.__spreadArray||function(sn,ln,cn){if(cn||arguments.length===2)for(var dn=0,pn=ln.length,vn;dn<pn;dn++)(vn||!(dn in ln))&&(vn||(vn=Array.prototype.slice.call(ln,0,dn)),vn[dn]=ln[dn]);return sn.concat(vn||Array.prototype.slice.call(ln))},onMonitorErrorCollected,debugMode=!1;function startMonitorErrorCollection(sn){onMonitorErrorCollected=sn}function setDebugMode$1(sn){debugMode=sn}function monitored(sn,ln,cn){var dn=cn.value;cn.value=function(){for(var pn=[],vn=0;vn<arguments.length;vn++)pn[vn]=arguments[vn];var Sn=onMonitorErrorCollected?monitor(dn):dn;return Sn.apply(this,pn)}}function monitor(sn){return function(){return callMonitored(sn,this,arguments)}}function callMonitored(sn,ln,cn){try{return sn.apply(ln,cn)}catch(dn){if(displayIfDebugEnabled(ConsoleApiName.error,dn),onMonitorErrorCollected)try{onMonitorErrorCollected(dn)}catch(pn){displayIfDebugEnabled(ConsoleApiName.error,pn)}}}function displayIfDebugEnabled(sn){for(var ln=[],cn=1;cn<arguments.length;cn++)ln[cn-1]=arguments[cn];debugMode&&display.apply(void 0,__spreadArray$2([sn,"[MONITOR]"],ln,!1))}function setTimeout$1(sn,ln){return getZoneJsOriginalValue(getGlobalObject(),"setTimeout")(monitor(sn),ln)}function clearTimeout$1(sn){getZoneJsOriginalValue(getGlobalObject(),"clearTimeout")(sn)}function setInterval$1(sn,ln){return getZoneJsOriginalValue(window,"setInterval")(monitor(sn),ln)}function clearInterval$1(sn){getZoneJsOriginalValue(window,"clearInterval")(sn)}function throttle$1(sn,ln,cn){var dn=cn&&cn.leading!==void 0?cn.leading:!0,pn=cn&&cn.trailing!==void 0?cn.trailing:!0,vn=!1,Sn,En;return{throttled:function(){for(var Cn=[],Pn=0;Pn<arguments.length;Pn++)Cn[Pn]=arguments[Pn];if(vn){Sn=Cn;return}dn?sn.apply(void 0,Cn):Sn=Cn,vn=!0,En=setTimeout$1(function(){pn&&Sn&&sn.apply(void 0,Sn),vn=!1,Sn=void 0},ln)},cancel:function(){clearTimeout$1(En),vn=!1,Sn=void 0}}}function noop$7(){}function jsonStringify(sn,ln,cn){if(typeof sn!="object"||sn===null)return JSON.stringify(sn);var dn=detachToJsonMethod(Object.prototype),pn=detachToJsonMethod(Array.prototype),vn=detachToJsonMethod(Object.getPrototypeOf(sn)),Sn=detachToJsonMethod(sn);try{return JSON.stringify(sn,ln,cn)}catch{return"<error: unable to serialize object>"}finally{dn(),pn(),vn(),Sn()}}function detachToJsonMethod(sn){var ln=sn,cn=ln.toJSON;return cn?(delete ln.toJSON,function(){ln.toJSON=cn}):noop$7}function normalizeUrl(sn){return buildUrl(sn,getLocationOrigin()).href}function isValidUrl(sn){try{return!!buildUrl(sn)}catch{return!1}}function getOrigin(sn){return getLinkElementOrigin(buildUrl(sn))}function getPathName(sn){var ln=buildUrl(sn).pathname;return ln[0]==="/"?ln:"/".concat(ln)}function buildUrl(sn,ln){var cn=getSupportedUrl();if(cn)try{return ln!==void 0?new cn(sn,ln):new cn(sn)}catch(Sn){throw new Error("Failed to construct URL: ".concat(String(Sn)," ").concat(jsonStringify({url:sn,base:ln})))}if(ln===void 0&&!/:/.test(sn))throw new Error("Invalid URL: '".concat(sn,"'"));var dn=document,pn=dn.createElement("a");if(ln!==void 0){dn=document.implementation.createHTMLDocument("");var vn=dn.createElement("base");vn.href=ln,dn.head.appendChild(vn),dn.body.appendChild(pn)}return pn.href=sn,pn}var originalURL=URL,isURLSupported;function getSupportedUrl(){if(isURLSupported===void 0)try{var sn=new originalURL("http://test/path");isURLSupported=sn.href==="http://test/path"}catch{isURLSupported=!1}return isURLSupported?originalURL:void 0}function getLocationOrigin(){return getLinkElementOrigin(window.location)}function getLinkElementOrigin(sn){if(sn.origin)return sn.origin;var ln=sn.host.replace(/(:80|:443)$/,"");return"".concat(sn.protocol,"//").concat(ln)}var INTAKE_SITE_STAGING="datad0g.com",INTAKE_SITE_US1="datadoghq.com",INTAKE_SITE_EU1="datadoghq.eu",INTAKE_SITE_AP1="ap1.datadoghq.com",INTAKE_SITE_US1_FED="ddog-gov.com",ENDPOINTS={logs:"logs",rum:"rum",sessionReplay:"session-replay"},INTAKE_TRACKS={logs:"logs",rum:"rum",sessionReplay:"replay"};function createEndpointBuilder(sn,ln,cn){var dn=createEndpointUrlWithParametersBuilder(sn,ln);return{build:function(pn,vn,Sn){var En=buildEndpointParameters(sn,ln,cn,pn,vn,Sn);return dn(En)},urlPrefix:dn(""),endpointType:ln}}function createEndpointUrlWithParametersBuilder(sn,ln){var cn="/api/v2/".concat(INTAKE_TRACKS[ln]),dn=sn.proxy,pn=sn.proxyUrl;if(dn){var vn=normalizeUrl(dn);return function(Cn){return"".concat(vn,"?ddforward=").concat(encodeURIComponent("".concat(cn,"?").concat(Cn)))}}var Sn=buildEndpointHost(sn,ln);if(dn===void 0&&pn){var En=normalizeUrl(pn);return function(Cn){return"".concat(En,"?ddforward=").concat(encodeURIComponent("https://".concat(Sn).concat(cn,"?").concat(Cn)))}}return function(Cn){return"https://".concat(Sn).concat(cn,"?").concat(Cn)}}function buildEndpointHost(sn,ln){var cn=sn.site,dn=cn===void 0?INTAKE_SITE_US1:cn,pn=sn.internalAnalyticsSubdomain;if(pn&&dn===INTAKE_SITE_US1)return"".concat(pn,".").concat(INTAKE_SITE_US1);var vn=dn.split("."),Sn=vn.pop(),En=dn!==INTAKE_SITE_AP1?"".concat(ENDPOINTS[ln],"."):"";return"".concat(En,"browser-intake-").concat(vn.join("-"),".").concat(Sn)}function buildEndpointParameters(sn,ln,cn,dn,pn,vn){var Sn=sn.clientToken,En=sn.internalAnalyticsSubdomain,Cn=["sdk_version:".concat("4.42.2"),"api:".concat(dn)].concat(cn);pn&&isExperimentalFeatureEnabled(ExperimentalFeature.COLLECT_FLUSH_REASON)&&Cn.push("flush_reason:".concat(pn)),vn&&Cn.push("retry_count:".concat(vn.count),"retry_after:".concat(vn.lastFailureStatus));var Pn=["ddsource=browser","ddtags=".concat(encodeURIComponent(Cn.join(","))),"dd-api-key=".concat(Sn),"dd-evp-origin-version=".concat(encodeURIComponent("4.42.2")),"dd-evp-origin=browser","dd-request-id=".concat(generateUUID())];return ln==="rum"&&Pn.push("batch_time=".concat(timeStampNow())),En&&Pn.reverse(),Pn.join("&")}var TAG_SIZE_LIMIT=200;function buildTags(sn){var ln=sn.env,cn=sn.service,dn=sn.version,pn=sn.datacenter,vn=[];return ln&&vn.push(buildTag("env",ln)),cn&&vn.push(buildTag("service",cn)),dn&&vn.push(buildTag("version",dn)),pn&&vn.push(buildTag("datacenter",pn)),vn}var FORBIDDEN_CHARACTERS=/[^a-z0-9_:./-]/;function buildTag(sn,ln){var cn=TAG_SIZE_LIMIT-sn.length-1;(ln.length>cn||FORBIDDEN_CHARACTERS.test(ln))&&display.warn("".concat(sn," value doesn't meet tag requirements and will be sanitized"));var dn=ln.replace(/,/g,"_");return"".concat(sn,":").concat(dn)}function computeTransportConfiguration(sn){var ln=buildTags(sn),cn=computeEndpointBuilders(sn,ln),dn=objectValues(cn).map(function(vn){return vn.urlPrefix}),pn=computeReplicaConfiguration(sn,dn,ln);return assign$2({isIntakeUrl:function(vn){return dn.some(function(Sn){return vn.indexOf(Sn)===0})},replica:pn,site:sn.site||INTAKE_SITE_US1},cn)}function computeEndpointBuilders(sn,ln){return{logsEndpointBuilder:createEndpointBuilder(sn,"logs",ln),rumEndpointBuilder:createEndpointBuilder(sn,"rum",ln),sessionReplayEndpointBuilder:createEndpointBuilder(sn,"sessionReplay",ln)}}function computeReplicaConfiguration(sn,ln,cn){if(sn.replica){var dn=assign$2({},sn,{site:INTAKE_SITE_US1,clientToken:sn.replica.clientToken}),pn={logsEndpointBuilder:createEndpointBuilder(dn,"logs",cn),rumEndpointBuilder:createEndpointBuilder(dn,"rum",cn)};return ln.push.apply(ln,objectValues(pn).map(function(vn){return vn.urlPrefix})),assign$2({applicationId:sn.replica.applicationId},pn)}}var DefaultPrivacyLevel={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input"};function validateAndBuildConfiguration(sn){var ln,cn,dn;if(!sn||!sn.clientToken){display.error("Client Token is not configured, we will not send any data.");return}var pn=(ln=sn.sessionSampleRate)!==null&&ln!==void 0?ln:sn.sampleRate;if(pn!==void 0&&!isPercentage(pn)){display.error("Session Sample Rate should be a number between 0 and 100");return}if(sn.telemetrySampleRate!==void 0&&!isPercentage(sn.telemetrySampleRate)){display.error("Telemetry Sample Rate should be a number between 0 and 100");return}if(sn.telemetryConfigurationSampleRate!==void 0&&!isPercentage(sn.telemetryConfigurationSampleRate)){display.error("Telemetry Configuration Sample Rate should be a number between 0 and 100");return}return Array.isArray(sn.enableExperimentalFeatures)&&addExperimentalFeatures(sn.enableExperimentalFeatures.filter(function(vn){return objectHasValue(ExperimentalFeature,vn)})),assign$2({beforeSend:sn.beforeSend&&catchUserErrors(sn.beforeSend,"beforeSend threw an error:"),cookieOptions:buildCookieOptions(sn),sessionSampleRate:pn??100,telemetrySampleRate:(cn=sn.telemetrySampleRate)!==null&&cn!==void 0?cn:20,telemetryConfigurationSampleRate:(dn=sn.telemetryConfigurationSampleRate)!==null&&dn!==void 0?dn:5,service:sn.service,silentMultipleInit:!!sn.silentMultipleInit,batchBytesLimit:16*ONE_KIBI_BYTE,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*ONE_SECOND,batchMessagesLimit:50,messageBytesLimit:256*ONE_KIBI_BYTE},computeTransportConfiguration(sn))}function buildCookieOptions(sn){var ln={};return ln.secure=mustUseSecureCookie(sn),ln.crossSite=!!sn.useCrossSiteSessionCookie,sn.trackSessionAcrossSubdomains&&(ln.domain=getCurrentSite()),ln}function mustUseSecureCookie(sn){return!!sn.useSecureSessionCookie||!!sn.useCrossSiteSessionCookie}function serializeConfiguration(sn){var ln,cn,dn=(ln=sn.proxy)!==null&&ln!==void 0?ln:sn.proxyUrl;return{session_sample_rate:(cn=sn.sessionSampleRate)!==null&&cn!==void 0?cn:sn.sampleRate,telemetry_sample_rate:sn.telemetrySampleRate,telemetry_configuration_sample_rate:sn.telemetryConfigurationSampleRate,use_before_send:!!sn.beforeSend,use_cross_site_session_cookie:sn.useCrossSiteSessionCookie,use_secure_session_cookie:sn.useSecureSessionCookie,use_proxy:dn!==void 0?!!dn:void 0,silent_multiple_init:sn.silentMultipleInit,track_session_across_subdomains:sn.trackSessionAcrossSubdomains,track_resources:sn.trackResources,track_long_task:sn.trackLongTasks}}var UNKNOWN_FUNCTION="?";function computeStackTrace(sn){var ln=[],cn=tryToGetString(sn,"stack"),dn=String(sn);return cn&&startsWith(cn,dn)&&(cn=cn.slice(dn.length)),cn&&cn.split(`
`).forEach(function(pn){var vn=parseChromeLine(pn)||parseChromeAnonymousLine(pn)||parseWinLine(pn)||parseGeckoLine(pn);vn&&(!vn.func&&vn.line&&(vn.func=UNKNOWN_FUNCTION),ln.push(vn))}),{message:tryToGetString(sn,"message"),name:tryToGetString(sn,"name"),stack:ln}}var fileUrl="((?:file|https?|blob|chrome-extension|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)",filePosition="(?::(\\d+))",CHROME_LINE_RE=new RegExp("^\\s*at (.*?) ?\\(".concat(fileUrl).concat(filePosition,"?").concat(filePosition,"?\\)?\\s*$"),"i"),CHROME_EVAL_RE=new RegExp("\\((\\S*)".concat(filePosition).concat(filePosition,"\\)"));function parseChromeLine(sn){var ln=CHROME_LINE_RE.exec(sn);if(ln){var cn=ln[2]&&ln[2].indexOf("native")===0,dn=ln[2]&&ln[2].indexOf("eval")===0,pn=CHROME_EVAL_RE.exec(ln[2]);return dn&&pn&&(ln[2]=pn[1],ln[3]=pn[2],ln[4]=pn[3]),{args:cn?[ln[2]]:[],column:ln[4]?+ln[4]:void 0,func:ln[1]||UNKNOWN_FUNCTION,line:ln[3]?+ln[3]:void 0,url:cn?void 0:ln[2]}}}var CHROME_ANONYMOUS_FUNCTION_RE=new RegExp("^\\s*at ?".concat(fileUrl).concat(filePosition,"?").concat(filePosition,"??\\s*$"),"i");function parseChromeAnonymousLine(sn){var ln=CHROME_ANONYMOUS_FUNCTION_RE.exec(sn);if(ln)return{args:[],column:ln[3]?+ln[3]:void 0,func:UNKNOWN_FUNCTION,line:ln[2]?+ln[2]:void 0,url:ln[1]}}var WINJS_LINE_RE=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function parseWinLine(sn){var ln=WINJS_LINE_RE.exec(sn);if(ln)return{args:[],column:ln[4]?+ln[4]:void 0,func:ln[1]||UNKNOWN_FUNCTION,line:+ln[3],url:ln[2]}}var GECKO_LINE_RE=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,GECKO_EVAL_RE=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function parseGeckoLine(sn){var ln=GECKO_LINE_RE.exec(sn);if(ln){var cn=ln[3]&&ln[3].indexOf(" > eval")>-1,dn=GECKO_EVAL_RE.exec(ln[3]);return cn&&dn&&(ln[3]=dn[1],ln[4]=dn[2],ln[5]=void 0),{args:ln[2]?ln[2].split(","):[],column:ln[5]?+ln[5]:void 0,func:ln[1]||UNKNOWN_FUNCTION,line:ln[4]?+ln[4]:void 0,url:ln[3]}}}function tryToGetString(sn,ln){if(!(typeof sn!="object"||!sn||!(ln in sn))){var cn=sn[ln];return typeof cn=="string"?cn:void 0}}function instrumentMethod(sn,ln,cn){var dn=sn[ln],pn=cn(dn),vn=function(){if(typeof pn=="function")return pn.apply(this,arguments)};return sn[ln]=vn,{stop:function(){sn[ln]===vn?sn[ln]=dn:pn=dn}}}function instrumentMethodAndCallOriginal(sn,ln,cn){var dn=cn.before,pn=cn.after;return instrumentMethod(sn,ln,function(vn){return function(){var Sn=arguments,En;return dn&&callMonitored(dn,this,Sn),typeof vn=="function"&&(En=vn.apply(this,Sn)),pn&&callMonitored(pn,this,Sn),En}})}function instrumentSetter(sn,ln,cn){var dn=Object.getOwnPropertyDescriptor(sn,ln);if(!dn||!dn.set||!dn.configurable)return{stop:noop$7};var pn=function(Sn,En){setTimeout$1(function(){cn(Sn,En)},0)},vn=function(Sn){dn.set.call(this,Sn),pn(this,Sn)};return Object.defineProperty(sn,ln,{set:vn}),{stop:function(){var Sn;((Sn=Object.getOwnPropertyDescriptor(sn,ln))===null||Sn===void 0?void 0:Sn.set)===vn?Object.defineProperty(sn,ln,dn):pn=noop$7}}}var ERROR_TYPES_RE=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function startUnhandledErrorCollection(sn){var ln=instrumentOnError(sn).stop,cn=instrumentUnhandledRejection(sn).stop;return{stop:function(){ln(),cn()}}}function instrumentOnError(sn){return instrumentMethodAndCallOriginal(window,"onerror",{before:function(ln,cn,dn,pn,vn){var Sn;if(vn instanceof Error)Sn=computeStackTrace(vn);else{var En=[{url:cn,column:pn,line:dn}],Cn=tryToParseMessage(ln),Pn=Cn.name,Rn=Cn.message;Sn={name:Pn,message:Rn,stack:En}}sn(Sn,vn??ln)}})}function tryToParseMessage(sn){var ln,cn,dn;return{}.toString.call(sn)==="[object String]"&&(ln=ERROR_TYPES_RE.exec(sn),cn=ln[1],dn=ln[2]),{name:cn,message:dn}}function instrumentUnhandledRejection(sn){return instrumentMethodAndCallOriginal(window,"onunhandledrejection",{before:function(ln){var cn=ln.reason||"Empty reason",dn=computeStackTrace(cn);sn(dn,cn)}})}var SANITIZE_DEFAULT_MAX_CHARACTER_COUNT=220*ONE_KIBI_BYTE,JSON_PATH_ROOT_ELEMENT="$",KEY_DECORATION_LENGTH=3;function sanitize(sn,ln){var cn;ln===void 0&&(ln=SANITIZE_DEFAULT_MAX_CHARACTER_COUNT);var dn=detachToJsonMethod(Object.prototype),pn=detachToJsonMethod(Array.prototype),vn=[],Sn=new WeakMap,En=sanitizeProcessor(sn,JSON_PATH_ROOT_ELEMENT,void 0,vn,Sn),Cn=((cn=JSON.stringify(En))===null||cn===void 0?void 0:cn.length)||0;if(Cn>ln){warnOverCharacterLimit(ln,"discarded",sn);return}for(;vn.length>0&&Cn<ln;){var Pn=vn.shift(),Rn=0;if(Array.isArray(Pn.source))for(var Ln=0;Ln<Pn.source.length;Ln++){var Fn=sanitizeProcessor(Pn.source[Ln],Pn.path,Ln,vn,Sn);if(Fn!==void 0?Cn+=JSON.stringify(Fn).length:Cn+=4,Cn+=Rn,Rn=1,Cn>ln){warnOverCharacterLimit(ln,"truncated",sn);break}Pn.target[Ln]=Fn}else for(var Ln in Pn.source)if(Object.prototype.hasOwnProperty.call(Pn.source,Ln)){var Fn=sanitizeProcessor(Pn.source[Ln],Pn.path,Ln,vn,Sn);if(Fn!==void 0&&(Cn+=JSON.stringify(Fn).length+Rn+Ln.length+KEY_DECORATION_LENGTH,Rn=1),Cn>ln){warnOverCharacterLimit(ln,"truncated",sn);break}Pn.target[Ln]=Fn}}return dn(),pn(),En}function sanitizeProcessor(sn,ln,cn,dn,pn){var vn=tryToApplyToJSON(sn);if(!vn||typeof vn!="object")return sanitizePrimitivesAndFunctions(vn);var Sn=sanitizeObjects(vn);if(Sn!=="[Object]"&&Sn!=="[Array]"&&Sn!=="[Error]")return Sn;var En=sn;if(pn.has(En))return"[Reference seen at ".concat(pn.get(En),"]");var Cn=cn!==void 0?"".concat(ln,".").concat(cn):ln,Pn=Array.isArray(vn)?[]:{};return pn.set(En,Cn),dn.push({source:vn,target:Pn,path:Cn}),Pn}function sanitizePrimitivesAndFunctions(sn){return typeof sn=="bigint"?"[BigInt] ".concat(sn.toString()):typeof sn=="function"?"[Function] ".concat(sn.name||"unknown"):typeof sn=="symbol"?"[Symbol] ".concat(sn.description||sn.toString()):sn}function sanitizeObjects(sn){try{if(sn instanceof Event)return{isTrusted:sn.isTrusted};var ln=Object.prototype.toString.call(sn),cn=ln.match(/\[object (.*)\]/);if(cn&&cn[1])return"[".concat(cn[1],"]")}catch{}return"[Unserializable]"}function tryToApplyToJSON(sn){var ln=sn;if(ln&&typeof ln.toJSON=="function")try{return ln.toJSON()}catch{}return sn}function warnOverCharacterLimit(sn,ln,cn){display.warn("The data provided has been ".concat(ln," as it is over the limit of ").concat(sn," characters:"),cn)}var NO_ERROR_STACK_PRESENT_MESSAGE="No stack, consider using an instance of Error";function computeRawError(sn){var ln=sn.stackTrace,cn=sn.originalError,dn=sn.handlingStack,pn=sn.startClocks,vn=sn.nonErrorPrefix,Sn=sn.source,En=sn.handling,Cn=cn instanceof Error,Pn=computeMessage(ln,Cn,vn,cn),Rn=hasUsableStack(Cn,ln)?toStackTraceString(ln):NO_ERROR_STACK_PRESENT_MESSAGE,Ln=Cn?flattenErrorCauses(cn,Sn):void 0,Fn=ln==null?void 0:ln.name,Gn=tryToGetFingerprint(cn);return{startClocks:pn,source:Sn,handling:En,handlingStack:dn,originalError:cn,type:Fn,message:Pn,stack:Rn,causes:Ln,fingerprint:Gn}}function computeMessage(sn,ln,cn,dn){return sn!=null&&sn.message&&(sn!=null&&sn.name)?sn.message:ln?"Empty message":"".concat(cn," ").concat(jsonStringify(sanitize(dn)))}function hasUsableStack(sn,ln){return ln===void 0?!1:sn?!0:ln.stack.length>0&&(ln.stack.length>1||ln.stack[0].url!==void 0)}function tryToGetFingerprint(sn){return sn instanceof Error&&"dd_fingerprint"in sn?String(sn.dd_fingerprint):void 0}function toStackTraceString(sn){var ln=formatErrorMessage(sn);return sn.stack.forEach(function(cn){var dn=cn.func==="?"?"<anonymous>":cn.func,pn=cn.args&&cn.args.length>0?"(".concat(cn.args.join(", "),")"):"",vn=cn.line?":".concat(cn.line):"",Sn=cn.line&&cn.column?":".concat(cn.column):"";ln+=`
  at `.concat(dn).concat(pn," @ ").concat(cn.url).concat(vn).concat(Sn)}),ln}function getFileFromStackTraceString(sn){var ln;return(ln=/@ (.+)/.exec(sn))===null||ln===void 0?void 0:ln[1]}function formatErrorMessage(sn){return"".concat(sn.name||"Error",": ").concat(sn.message)}function createHandlingStack(){var sn=2,ln=new Error,cn;if(!ln.stack)try{throw ln}catch{}return callMonitored(function(){var dn=computeStackTrace(ln);dn.stack=dn.stack.slice(sn),cn=toStackTraceString(dn)}),cn}function flattenErrorCauses(sn,ln){for(var cn=sn,dn=[];(cn==null?void 0:cn.cause)instanceof Error&&dn.length<10;){var pn=computeStackTrace(cn.cause);dn.push({message:cn.cause.message,source:ln,type:pn==null?void 0:pn.name,stack:pn&&toStackTraceString(pn)}),cn=cn.cause}return dn.length?dn:void 0}var ErrorSource={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};function trackRuntimeError(sn){return startUnhandledErrorCollection(function(ln,cn){sn.notify(computeRawError({stackTrace:ln,originalError:cn,startClocks:clocksNow(),nonErrorPrefix:"Uncaught",source:ErrorSource.SOURCE,handling:"unhandled"}))})}function makePublicApi(sn){var ln=assign$2({version:"4.42.2",onReady:function(cn){cn()}},sn);return Object.defineProperty(ln,"_setDebug",{get:function(){return setDebugMode$1},enumerable:!1}),ln}function defineGlobal(sn,ln,cn){var dn=sn[ln];sn[ln]=cn,dn&&dn.q&&dn.q.forEach(function(pn){return catchUserErrors(pn,"onReady callback threw an error:")()})}var Observable=function(){function sn(ln){this.onFirstSubscribe=ln,this.observers=[]}return sn.prototype.subscribe=function(ln){var cn=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(ln),{unsubscribe:function(){cn.observers=cn.observers.filter(function(dn){return ln!==dn}),!cn.observers.length&&cn.onLastUnsubscribe&&cn.onLastUnsubscribe()}}},sn.prototype.notify=function(ln){this.observers.forEach(function(cn){return cn(ln)})},sn}();function mergeObservables(){for(var sn=[],ln=0;ln<arguments.length;ln++)sn[ln]=arguments[ln];var cn=new Observable(function(){var dn=sn.map(function(pn){return pn.subscribe(function(vn){return cn.notify(vn)})});return function(){return dn.forEach(function(pn){return pn.unsubscribe()})}});return cn}function addEventListener(sn,ln,cn,dn){return addEventListeners(sn,[ln],cn,dn)}function addEventListeners(sn,ln,cn,dn){var pn=dn===void 0?{}:dn,vn=pn.once,Sn=pn.capture,En=pn.passive,Cn=monitor(vn?function(Fn){Ln(),cn(Fn)}:cn),Pn=En?{capture:Sn,passive:En}:Sn,Rn=getZoneJsOriginalValue(sn,"addEventListener");ln.forEach(function(Fn){return Rn.call(sn,Fn,Cn,Pn)});function Ln(){var Fn=getZoneJsOriginalValue(sn,"removeEventListener");ln.forEach(function(Gn){return Fn.call(sn,Gn,Cn,Pn)})}return{stop:Ln}}var RawReportType={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function initReportObservable(sn){var ln=[];includes(sn,RawReportType.cspViolation)&&ln.push(createCspViolationReportObservable());var cn=sn.filter(function(dn){return dn!==RawReportType.cspViolation});return cn.length&&ln.push(createReportObservable(cn)),mergeObservables.apply(void 0,ln)}function createReportObservable(sn){var ln=new Observable(function(){if(window.ReportingObserver){var cn=monitor(function(pn){return pn.forEach(function(vn){ln.notify(buildRawReportFromReport(vn))})}),dn=new window.ReportingObserver(cn,{types:sn,buffered:!0});return dn.observe(),function(){dn.disconnect()}}});return ln}function createCspViolationReportObservable(){var sn=new Observable(function(){var ln=addEventListener(document,"securitypolicyviolation",function(cn){sn.notify(buildRawReportFromCspViolation(cn))}).stop;return ln});return sn}function buildRawReportFromReport(sn){var ln=sn.type,cn=sn.body;return{type:ln,subtype:cn.id,message:"".concat(ln,": ").concat(cn.message),stack:buildStack(cn.id,cn.message,cn.sourceFile,cn.lineNumber,cn.columnNumber)}}function buildRawReportFromCspViolation(sn){var ln=RawReportType.cspViolation,cn="'".concat(sn.blockedURI,"' blocked by '").concat(sn.effectiveDirective,"' directive");return{type:RawReportType.cspViolation,subtype:sn.effectiveDirective,message:"".concat(ln,": ").concat(cn),stack:buildStack(sn.effectiveDirective,sn.originalPolicy?"".concat(cn,' of the policy "').concat(safeTruncate(sn.originalPolicy,100,"..."),'"'):"no policy",sn.sourceFile,sn.lineNumber,sn.columnNumber)}}function buildStack(sn,ln,cn,dn,pn){return cn&&toStackTraceString({name:sn,message:ln,stack:[{func:"?",url:cn,line:dn,column:pn}]})}function sendToExtension(sn,ln){var cn=window.__ddBrowserSdkExtensionCallback;cn&&cn({type:sn,payload:ln})}function getType(sn){return sn===null?"null":Array.isArray(sn)?"array":typeof sn}function mergeInto(sn,ln,cn){if(cn===void 0&&(cn=createCircularReferenceChecker()),ln===void 0)return sn;if(typeof ln!="object"||ln===null)return ln;if(ln instanceof Date)return new Date(ln.getTime());if(ln instanceof RegExp){var dn=ln.flags||[ln.global?"g":"",ln.ignoreCase?"i":"",ln.multiline?"m":"",ln.sticky?"y":"",ln.unicode?"u":""].join("");return new RegExp(ln.source,dn)}if(!cn.hasAlreadyBeenSeen(ln)){if(Array.isArray(ln)){for(var pn=Array.isArray(sn)?sn:[],vn=0;vn<ln.length;++vn)pn[vn]=mergeInto(pn[vn],ln[vn],cn);return pn}var Sn=getType(sn)==="object"?sn:{};for(var En in ln)Object.prototype.hasOwnProperty.call(ln,En)&&(Sn[En]=mergeInto(Sn[En],ln[En],cn));return Sn}}function deepClone(sn){return mergeInto(void 0,sn)}function combine$1(){for(var sn=[],ln=0;ln<arguments.length;ln++)sn[ln]=arguments[ln];for(var cn,dn=0,pn=sn;dn<pn.length;dn++){var vn=pn[dn];vn!=null&&(cn=mergeInto(cn,vn))}return cn}function createCircularReferenceChecker(){if(typeof WeakSet<"u"){var sn=new WeakSet;return{hasAlreadyBeenSeen:function(cn){var dn=sn.has(cn);return dn||sn.add(cn),dn}}}var ln=[];return{hasAlreadyBeenSeen:function(cn){var dn=ln.indexOf(cn)>=0;return dn||ln.push(cn),dn}}}var TelemetryType={log:"log",configuration:"configuration"},ALLOWED_FRAME_URLS=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","http://localhost","<anonymous>"],TELEMETRY_EXCLUDED_SITES=[INTAKE_SITE_US1_FED],telemetryConfiguration={maxEventsPerPage:0,sentEventCount:0,telemetryEnabled:!1,telemetryConfigurationEnabled:!1},onRawTelemetryEventCollected;function startTelemetry(sn,ln){var cn,dn=new Observable;telemetryConfiguration.telemetryEnabled=!includes(TELEMETRY_EXCLUDED_SITES,ln.site)&&performDraw(ln.telemetrySampleRate),telemetryConfiguration.telemetryConfigurationEnabled=telemetryConfiguration.telemetryEnabled&&performDraw(ln.telemetryConfigurationSampleRate),onRawTelemetryEventCollected=function(vn){if(telemetryConfiguration.telemetryEnabled){var Sn=pn(sn,vn);dn.notify(Sn),sendToExtension("telemetry",Sn)}},startMonitorErrorCollection(addTelemetryError),assign$2(telemetryConfiguration,{maxEventsPerPage:ln.maxTelemetryEventsPerPage,sentEventCount:0});function pn(vn,Sn){return combine$1({type:"telemetry",date:timeStampNow(),service:vn,version:"4.42.2",source:"browser",_dd:{format_version:2},telemetry:Sn,experimental_features:arrayFrom$1(getExperimentalFeatures())},cn!==void 0?cn():{})}return{setContextProvider:function(vn){cn=vn},observable:dn,enabled:telemetryConfiguration.telemetryEnabled}}function isTelemetryReplicationAllowed(sn){return sn.site===INTAKE_SITE_STAGING}function addTelemetryDebug(sn,ln){displayIfDebugEnabled(ConsoleApiName.debug,sn,ln),addTelemetry(assign$2({type:TelemetryType.log,message:sn,status:"debug"},ln))}function addTelemetryError(sn){addTelemetry(assign$2({type:TelemetryType.log,status:"error"},formatError(sn)))}function addTelemetryConfiguration(sn){telemetryConfiguration.telemetryConfigurationEnabled&&addTelemetry({type:TelemetryType.configuration,configuration:sn})}function addTelemetry(sn){onRawTelemetryEventCollected&&telemetryConfiguration.sentEventCount<telemetryConfiguration.maxEventsPerPage&&(telemetryConfiguration.sentEventCount+=1,onRawTelemetryEventCollected(sn))}function formatError(sn){if(sn instanceof Error){var ln=computeStackTrace(sn);return{error:{kind:ln.name,stack:toStackTraceString(scrubCustomerFrames(ln))},message:ln.message}}return{error:{stack:NO_ERROR_STACK_PRESENT_MESSAGE},message:"".concat("Uncaught"," ").concat(jsonStringify(sn))}}function scrubCustomerFrames(sn){return sn.stack=sn.stack.filter(function(ln){return!ln.url||ALLOWED_FRAME_URLS.some(function(cn){return startsWith(ln.url,cn)})}),sn}var END_OF_TIMES=1/0,CLEAR_OLD_VALUES_INTERVAL=ONE_MINUTE,ValueHistory=function(){function sn(ln){var cn=this;this.expireDelay=ln,this.entries=[],this.clearOldValuesInterval=setInterval$1(function(){return cn.clearOldValues()},CLEAR_OLD_VALUES_INTERVAL)}return sn.prototype.add=function(ln,cn){var dn=this,pn={value:ln,startTime:cn,endTime:END_OF_TIMES,remove:function(){var vn=dn.entries.indexOf(pn);vn>=0&&dn.entries.splice(vn,1)},close:function(vn){pn.endTime=vn}};return this.entries.unshift(pn),pn},sn.prototype.find=function(ln){ln===void 0&&(ln=END_OF_TIMES);for(var cn=0,dn=this.entries;cn<dn.length;cn++){var pn=dn[cn];if(pn.startTime<=ln){if(ln<=pn.endTime)return pn.value;break}}},sn.prototype.closeActive=function(ln){var cn=this.entries[0];cn&&cn.endTime===END_OF_TIMES&&cn.close(ln)},sn.prototype.findAll=function(ln){return ln===void 0&&(ln=END_OF_TIMES),this.entries.filter(function(cn){return cn.startTime<=ln&&ln<=cn.endTime}).map(function(cn){return cn.value})},sn.prototype.reset=function(){this.entries=[]},sn.prototype.stop=function(){clearInterval$1(this.clearOldValuesInterval)},sn.prototype.clearOldValues=function(){for(var ln=relativeNow()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<ln;)this.entries.pop()},sn}();function isIE$1(){return!!document.documentMode}function isChromium(){return!!window.chrome||/HeadlessChrome/.test(window.navigator.userAgent)}var SESSION_TIME_OUT_DELAY=4*ONE_HOUR,SESSION_EXPIRATION_DELAY=15*ONE_MINUTE,SESSION_ENTRY_REGEXP=/^([a-z]+)=([a-z0-9-]+)$/,SESSION_ENTRY_SEPARATOR="&",SESSION_COOKIE_NAME="_dd_s",LOCK_RETRY_DELAY=10,MAX_NUMBER_OF_LOCK_RETRIES=100,bufferedOperations=[],ongoingOperations;function withCookieLockAccess(sn,ln){var cn;if(ln===void 0&&(ln=0),ongoingOperations||(ongoingOperations=sn),sn!==ongoingOperations){bufferedOperations.push(sn);return}if(ln>=MAX_NUMBER_OF_LOCK_RETRIES){next$1();return}var dn,pn=retrieveSessionCookie();if(isCookieLockEnabled()){if(pn.lock){retryLater(sn,ln);return}if(dn=generateUUID(),pn.lock=dn,setSessionCookie(pn,sn.options),pn=retrieveSessionCookie(),pn.lock!==dn){retryLater(sn,ln);return}}var vn=sn.process(pn);if(isCookieLockEnabled()&&(pn=retrieveSessionCookie(),pn.lock!==dn)){retryLater(sn,ln);return}if(vn&&persistSessionCookie(vn,sn.options),isCookieLockEnabled()&&!(vn&&isExpiredState(vn))){if(pn=retrieveSessionCookie(),pn.lock!==dn){retryLater(sn,ln);return}delete pn.lock,setSessionCookie(pn,sn.options),vn=pn}(cn=sn.after)===null||cn===void 0||cn.call(sn,vn||pn),next$1()}function isCookieLockEnabled(){return isChromium()}function retryLater(sn,ln){setTimeout$1(function(){withCookieLockAccess(sn,ln+1)},LOCK_RETRY_DELAY)}function next$1(){ongoingOperations=void 0;var sn=bufferedOperations.shift();sn&&withCookieLockAccess(sn)}function persistSessionCookie(sn,ln){if(isExpiredState(sn)){deleteSessionCookie(ln);return}sn.expire=String(dateNow()+SESSION_EXPIRATION_DELAY),setSessionCookie(sn,ln)}function setSessionCookie(sn,ln){setCookie(SESSION_COOKIE_NAME,toSessionString(sn),SESSION_EXPIRATION_DELAY,ln)}function toSessionString(sn){return objectEntries(sn).map(function(ln){var cn=ln[0],dn=ln[1];return"".concat(cn,"=").concat(dn)}).join(SESSION_ENTRY_SEPARATOR)}function retrieveSessionCookie(){var sn=getCookie(SESSION_COOKIE_NAME),ln={};return isValidSessionString(sn)&&sn.split(SESSION_ENTRY_SEPARATOR).forEach(function(cn){var dn=SESSION_ENTRY_REGEXP.exec(cn);if(dn!==null){var pn=dn[1],vn=dn[2];ln[pn]=vn}}),ln}function deleteSessionCookie(sn){deleteCookie(SESSION_COOKIE_NAME,sn)}function isValidSessionString(sn){return sn!==void 0&&(sn.indexOf(SESSION_ENTRY_SEPARATOR)!==-1||SESSION_ENTRY_REGEXP.test(sn))}function isExpiredState(sn){return isEmptyObject(sn)}var OLD_SESSION_COOKIE_NAME="_dd",OLD_RUM_COOKIE_NAME="_dd_r",OLD_LOGS_COOKIE_NAME="_dd_l",RUM_SESSION_KEY$1="rum",LOGS_SESSION_KEY$1="logs";function tryOldCookiesMigration(sn){var ln=getCookie(SESSION_COOKIE_NAME),cn=getCookie(OLD_SESSION_COOKIE_NAME),dn=getCookie(OLD_RUM_COOKIE_NAME),pn=getCookie(OLD_LOGS_COOKIE_NAME);if(!ln){var vn={};cn&&(vn.id=cn),pn&&/^[01]$/.test(pn)&&(vn[LOGS_SESSION_KEY$1]=pn),dn&&/^[012]$/.test(dn)&&(vn[RUM_SESSION_KEY$1]=dn),persistSessionCookie(vn,sn)}}function startSessionStore(sn,ln,cn){var dn=new Observable,pn=new Observable,vn=setInterval$1(Pn,COOKIE_ACCESS_DELAY),Sn=qn();function En(){var Yn;withCookieLockAccess({options:sn,process:function(Jn){var rs=Rn(Jn);return Yn=Ln(rs),rs},after:function(Jn){Yn&&!Fn()&&Kn(Jn),Sn=Jn}})}function Cn(){withCookieLockAccess({options:sn,process:function(Yn){return Fn()?Rn(Yn):void 0}})}function Pn(){withCookieLockAccess({options:sn,process:function(Yn){return Zn(Yn)?void 0:{}},after:Rn})}function Rn(Yn){return Zn(Yn)||(Yn={}),Fn()&&(Gn(Yn)?Dn():Sn=Yn),Yn}function Ln(Yn){var Jn=cn(Yn[ln]),rs=Jn.trackingType,us=Jn.isTracked;return Yn[ln]=rs,us&&!Yn.id&&(Yn.id=generateUUID(),Yn.created=String(dateNow())),us}function Fn(){return Sn[ln]!==void 0}function Gn(Yn){return Sn.id!==Yn.id||Sn[ln]!==Yn[ln]}function Dn(){Sn={},pn.notify()}function Kn(Yn){Sn=Yn,dn.notify()}function qn(){var Yn=retrieveSessionCookie();return Zn(Yn)?Yn:{}}function Zn(Yn){return(Yn.created===void 0||dateNow()-Number(Yn.created)<SESSION_TIME_OUT_DELAY)&&(Yn.expire===void 0||dateNow()<Number(Yn.expire))}return{expandOrRenewSession:throttle$1(En,COOKIE_ACCESS_DELAY).throttled,expandSession:Cn,getSession:function(){return Sn},renewObservable:dn,expireObservable:pn,expire:function(){deleteSessionCookie(sn),Rn({})},stop:function(){clearInterval$1(vn)}}}var VISIBILITY_CHECK_DELAY=ONE_MINUTE,SESSION_CONTEXT_TIMEOUT_DELAY=SESSION_TIME_OUT_DELAY;function startSessionManager(sn,ln,cn){tryOldCookiesMigration(sn);var dn=startSessionStore(sn,ln,cn),pn=new ValueHistory(SESSION_CONTEXT_TIMEOUT_DELAY);dn.renewObservable.subscribe(function(){pn.add(vn(),relativeNow())}),dn.expireObservable.subscribe(function(){pn.closeActive(relativeNow())}),dn.expandOrRenewSession(),pn.add(vn(),clocksOrigin().relative),trackActivity(function(){return dn.expandOrRenewSession()}),trackVisibility(function(){return dn.expandSession()});function vn(){return{id:dn.getSession().id,trackingType:dn.getSession()[ln]}}return{findActiveSession:function(Sn){return pn.find(Sn)},renewObservable:dn.renewObservable,expireObservable:dn.expireObservable,expire:dn.expire}}function trackActivity(sn){addEventListeners(window,["click","touchstart","keydown","scroll"],sn,{capture:!0,passive:!0}).stop}function trackVisibility(sn){var ln=function(){document.visibilityState==="visible"&&sn()};addEventListener(document,"visibilitychange",ln).stop,setInterval$1(ln,VISIBILITY_CHECK_DELAY)}function isServerError(sn){return sn>=500}function tryToClone(sn){try{return sn.clone()}catch{return}}var MAX_ONGOING_BYTES_COUNT=80*ONE_KIBI_BYTE,MAX_ONGOING_REQUESTS=32,MAX_QUEUE_BYTES_COUNT=3*ONE_MEBI_BYTE,MAX_BACKOFF_TIME=ONE_MINUTE,INITIAL_BACKOFF_TIME=ONE_SECOND;function sendWithRetryStrategy(sn,ln,cn,dn,pn){ln.transportStatus===0&&ln.queuedPayloads.size()===0&&ln.bandwidthMonitor.canHandle(sn)?send(sn,ln,cn,{onSuccess:function(){return retryQueuedPayloads(0,ln,cn,dn,pn)},onFailure:function(){ln.queuedPayloads.enqueue(sn),scheduleRetry(ln,cn,dn,pn)}}):ln.queuedPayloads.enqueue(sn)}function scheduleRetry(sn,ln,cn,dn){sn.transportStatus===2&&setTimeout$1(function(){var pn=sn.queuedPayloads.first();send(pn,sn,ln,{onSuccess:function(){sn.queuedPayloads.dequeue(),sn.currentBackoffTime=INITIAL_BACKOFF_TIME,retryQueuedPayloads(1,sn,ln,cn,dn)},onFailure:function(){sn.currentBackoffTime=Math.min(MAX_BACKOFF_TIME,sn.currentBackoffTime*2),scheduleRetry(sn,ln,cn,dn)}})},sn.currentBackoffTime)}function send(sn,ln,cn,dn){var pn=dn.onSuccess,vn=dn.onFailure;ln.bandwidthMonitor.add(sn),cn(sn,function(Sn){ln.bandwidthMonitor.remove(sn),shouldRetryRequest(Sn)?(ln.transportStatus=ln.bandwidthMonitor.ongoingRequestCount>0?1:2,sn.retry={count:sn.retry?sn.retry.count+1:1,lastFailureStatus:Sn.status},vn()):(ln.transportStatus=0,pn())})}function retryQueuedPayloads(sn,ln,cn,dn,pn){sn===0&&ln.queuedPayloads.isFull()&&!ln.queueFullReported&&(pn({message:"Reached max ".concat(dn," events size queued for upload: ").concat(MAX_QUEUE_BYTES_COUNT/ONE_MEBI_BYTE,"MiB"),source:ErrorSource.AGENT,startClocks:clocksNow()}),ln.queueFullReported=!0);var vn=ln.queuedPayloads;for(ln.queuedPayloads=newPayloadQueue();vn.size()>0;)sendWithRetryStrategy(vn.dequeue(),ln,cn,dn,pn)}function shouldRetryRequest(sn){return sn.type!=="opaque"&&(sn.status===0&&!navigator.onLine||sn.status===408||sn.status===429||isServerError(sn.status))}function newRetryState(){return{transportStatus:0,currentBackoffTime:INITIAL_BACKOFF_TIME,bandwidthMonitor:newBandwidthMonitor(),queuedPayloads:newPayloadQueue(),queueFullReported:!1}}function newPayloadQueue(){var sn=[];return{bytesCount:0,enqueue:function(ln){this.isFull()||(sn.push(ln),this.bytesCount+=ln.bytesCount)},first:function(){return sn[0]},dequeue:function(){var ln=sn.shift();return ln&&(this.bytesCount-=ln.bytesCount),ln},size:function(){return sn.length},isFull:function(){return this.bytesCount>=MAX_QUEUE_BYTES_COUNT}}}function newBandwidthMonitor(){return{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(sn){return this.ongoingRequestCount===0||this.ongoingByteCount+sn.bytesCount<=MAX_ONGOING_BYTES_COUNT&&this.ongoingRequestCount<MAX_ONGOING_REQUESTS},add:function(sn){this.ongoingRequestCount+=1,this.ongoingByteCount+=sn.bytesCount},remove:function(sn){this.ongoingRequestCount-=1,this.ongoingByteCount-=sn.bytesCount}}}function createHttpRequest(sn,ln,cn){var dn=newRetryState(),pn=function(vn,Sn){return fetchKeepAliveStrategy(sn,ln,vn,Sn)};return{send:function(vn){sendWithRetryStrategy(vn,dn,pn,sn.endpointType,cn)},sendOnExit:function(vn){sendBeaconStrategy(sn,ln,vn)}}}function sendBeaconStrategy(sn,ln,cn){var dn=cn.data,pn=cn.bytesCount,vn=cn.flushReason,Sn=!!navigator.sendBeacon&&pn<ln;if(Sn)try{var En=sn.build("beacon",vn),Cn=navigator.sendBeacon(En,dn);if(Cn)return}catch(Rn){reportBeaconError(Rn)}var Pn=sn.build("xhr",vn);sendXHR(Pn,dn)}var hasReportedBeaconError=!1;function reportBeaconError(sn){hasReportedBeaconError||(hasReportedBeaconError=!0,addTelemetryError(sn))}function fetchKeepAliveStrategy(sn,ln,cn,dn){var pn=cn.data,vn=cn.bytesCount,Sn=cn.flushReason,En=cn.retry,Cn=isKeepAliveSupported()&&vn<ln;if(Cn){var Pn=sn.build("fetch",Sn,En);fetch(Pn,{method:"POST",body:pn,keepalive:!0,mode:"cors"}).then(monitor(function(Ln){return dn==null?void 0:dn({status:Ln.status,type:Ln.type})}),monitor(function(){var Ln=sn.build("xhr",Sn,En);sendXHR(Ln,pn,dn)}))}else{var Rn=sn.build("xhr",Sn,En);sendXHR(Rn,pn,dn)}}function isKeepAliveSupported(){try{return window.Request&&"keepalive"in new Request("http://a")}catch{return!1}}function sendXHR(sn,ln,cn){var dn=new XMLHttpRequest;dn.open("POST",sn,!0),addEventListener(dn,"loadend",function(){cn==null||cn({status:dn.status})},{once:!0}),dn.send(ln)}var PageExitReason={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function createPageExitObservable(){var sn=new Observable(function(){var ln=isExperimentalFeatureEnabled(ExperimentalFeature.PAGEHIDE),cn=addEventListeners(window,["visibilitychange","freeze","pagehide"],function(pn){pn.type==="pagehide"&&ln?sn.notify({reason:PageExitReason.PAGEHIDE}):pn.type==="visibilitychange"&&document.visibilityState==="hidden"?sn.notify({reason:PageExitReason.HIDDEN}):pn.type==="freeze"&&sn.notify({reason:PageExitReason.FROZEN})},{capture:!0}).stop,dn=noop$7;return ln||(dn=addEventListener(window,"beforeunload",function(){sn.notify({reason:PageExitReason.UNLOADING})}).stop),function(){cn(),dn()}});return sn}function isPageExitReason(sn){return includes(objectValues(PageExitReason),sn)}var Batch=function(){function sn(ln,cn,dn){var pn=this;this.request=ln,this.flushController=cn,this.messageBytesLimit=dn,this.pushOnlyBuffer=[],this.upsertBuffer={},this.flushController.flushObservable.subscribe(function(vn){return pn.flush(vn)})}return sn.prototype.add=function(ln){this.addOrUpdate(ln)},sn.prototype.upsert=function(ln,cn){this.addOrUpdate(ln,cn)},sn.prototype.flush=function(ln){var cn=this.pushOnlyBuffer.concat(objectValues(this.upsertBuffer));this.pushOnlyBuffer=[],this.upsertBuffer={};var dn={data:cn.join(`
`),bytesCount:ln.bytesCount,flushReason:ln.reason};isPageExitReason(ln.reason)?this.request.sendOnExit(dn):this.request.send(dn)},sn.prototype.addOrUpdate=function(ln,cn){var dn=this.process(ln),pn=dn.processedMessage,vn=dn.messageBytesCount;if(vn>=this.messageBytesLimit){display.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB."));return}this.hasMessageFor(cn)&&this.remove(cn),this.push(pn,vn,cn)},sn.prototype.process=function(ln){var cn=jsonStringify(ln),dn=computeBytesCount(cn);return{processedMessage:cn,messageBytesCount:dn}},sn.prototype.push=function(ln,cn,dn){var pn=this.flushController.messagesCount>0?1:0;this.flushController.notifyBeforeAddMessage(cn+pn),dn!==void 0?this.upsertBuffer[dn]=ln:this.pushOnlyBuffer.push(ln),this.flushController.notifyAfterAddMessage()},sn.prototype.remove=function(ln){var cn=this.upsertBuffer[ln];delete this.upsertBuffer[ln];var dn=computeBytesCount(cn),pn=this.flushController.messagesCount>1?1:0;this.flushController.notifyAfterRemoveMessage(dn+pn)},sn.prototype.hasMessageFor=function(ln){return ln!==void 0&&this.upsertBuffer[ln]!==void 0},sn}();function getEventBridge(){var sn=getEventBridgeGlobal();if(sn)return{getAllowedWebViewHosts:function(){return JSON.parse(sn.getAllowedWebViewHosts())},send:function(ln,cn){sn.send(JSON.stringify({eventType:ln,event:cn}))}}}function canUseEventBridge(sn){var ln;sn===void 0&&(sn=(ln=getGlobalObject().location)===null||ln===void 0?void 0:ln.hostname);var cn=getEventBridge();return!!cn&&cn.getAllowedWebViewHosts().some(function(dn){return sn===dn||endsWith(sn,".".concat(dn))})}function getEventBridgeGlobal(){return getGlobalObject().DatadogEventBridge}function createFlushController(sn){var ln=sn.messagesLimit,cn=sn.bytesLimit,dn=sn.durationLimit,pn=sn.pageExitObservable,vn=sn.sessionExpireObservable,Sn=new Observable;pn.subscribe(function(Gn){return Pn(Gn.reason)}),vn.subscribe(function(){return Pn("session_expire")});var En=0,Cn=0;function Pn(Gn){if(Cn!==0){var Dn=Cn,Kn=En;Cn=0,En=0,Fn(),Sn.notify({reason:Gn,messagesCount:Dn,bytesCount:Kn})}}var Rn;function Ln(){Rn===void 0&&(Rn=setTimeout$1(function(){Pn("duration_limit")},dn))}function Fn(){clearTimeout$1(Rn),Rn=void 0}return{flushObservable:Sn,get messagesCount(){return Cn},notifyBeforeAddMessage:function(Gn){En+Gn>=cn&&Pn("bytes_limit"),Cn+=1,En+=Gn,Ln()},notifyAfterAddMessage:function(){Cn>=ln?Pn("messages_limit"):En>=cn&&Pn("bytes_limit")},notifyAfterRemoveMessage:function(Gn){En-=Gn,Cn-=1,Cn===0&&Fn()}}}function startBatchWithReplica(sn,ln,cn,dn,pn,vn){var Sn=Cn(ln),En;vn&&(En=Cn(vn));function Cn(Pn){return new Batch(createHttpRequest(Pn,sn.batchBytesLimit,cn),createFlushController({messagesLimit:sn.batchMessagesLimit,bytesLimit:sn.batchBytesLimit,durationLimit:sn.flushTimeout,pageExitObservable:dn,sessionExpireObservable:pn}),sn.messageBytesLimit)}return{add:function(Pn,Rn){Rn===void 0&&(Rn=!0),Sn.add(Pn),En&&Rn&&En.add(Pn)}}}function removeDuplicates(sn){var ln=new Set;return sn.forEach(function(cn){return ln.add(cn)}),arrayFrom$1(ln)}var AbstractLifeCycle=function(){function sn(){this.callbacks={}}return sn.prototype.notify=function(ln,cn){var dn=this.callbacks[ln];dn&&dn.forEach(function(pn){return pn(cn)})},sn.prototype.subscribe=function(ln,cn){var dn=this;return this.callbacks[ln]||(this.callbacks[ln]=[]),this.callbacks[ln].push(cn),{unsubscribe:function(){dn.callbacks[ln]=dn.callbacks[ln].filter(function(pn){return cn!==pn})}}},sn}();function createEventRateLimiter(sn,ln,cn){var dn=0,pn=!1;return{isLimitReached:function(){if(dn===0&&setTimeout$1(function(){dn=0},ONE_MINUTE),dn+=1,dn<=ln||pn)return pn=!1,!1;if(dn===ln+1){pn=!0;try{cn({message:"Reached max number of ".concat(sn,"s by minute: ").concat(ln),source:ErrorSource.AGENT,startClocks:clocksNow()})}finally{pn=!1}}return!0}}}function runOnReadyState(sn,ln){if(document.readyState===sn||document.readyState==="complete")ln();else{var cn=sn==="complete"?"load":"DOMContentLoaded";addEventListener(window,cn,ln,{once:!0})}}var xhrObservable,xhrContexts=new WeakMap;function initXhrObservable(){return xhrObservable||(xhrObservable=createXhrObservable()),xhrObservable}function createXhrObservable(){var sn=new Observable(function(){var ln=instrumentMethodAndCallOriginal(XMLHttpRequest.prototype,"open",{before:openXhr}).stop,cn=instrumentMethodAndCallOriginal(XMLHttpRequest.prototype,"send",{before:function(){sendXhr.call(this,sn)}}).stop,dn=instrumentMethodAndCallOriginal(XMLHttpRequest.prototype,"abort",{before:abortXhr}).stop;return function(){ln(),cn(),dn()}});return sn}function openXhr(sn,ln){xhrContexts.set(this,{state:"open",method:sn,url:normalizeUrl(String(ln))})}function sendXhr(sn){var ln=this,cn=xhrContexts.get(this);if(cn){var dn=cn;dn.state="start",dn.startTime=relativeNow(),dn.startClocks=clocksNow(),dn.isAborted=!1,dn.xhr=this;var pn=!1,vn=instrumentMethodAndCallOriginal(this,"onreadystatechange",{before:function(){this.readyState===XMLHttpRequest.DONE&&Sn()}}).stop,Sn=function(){if(En(),vn(),!pn){pn=!0;var Cn=cn;Cn.state="complete",Cn.duration=elapsed(dn.startClocks.timeStamp,timeStampNow()),Cn.status=ln.status,sn.notify(shallowClone(Cn))}},En=addEventListener(this,"loadend",Sn).stop;sn.notify(dn)}}function abortXhr(){var sn=xhrContexts.get(this);sn&&(sn.isAborted=!0)}var fetchObservable;function initFetchObservable(){return fetchObservable||(fetchObservable=createFetchObservable()),fetchObservable}function createFetchObservable(){var sn=new Observable(function(){if(window.fetch){var ln=instrumentMethod(window,"fetch",function(cn){return function(dn,pn){var vn,Sn=callMonitored(beforeSend,null,[sn,dn,pn]);return Sn?(vn=cn.call(this,Sn.input,Sn.init),callMonitored(afterSend,null,[sn,vn,Sn])):vn=cn.call(this,dn,pn),vn}}).stop;return ln}});return sn}function beforeSend(sn,ln,cn){var dn=cn&&cn.method||ln instanceof Request&&ln.method||"GET",pn=ln instanceof Request?ln.url:normalizeUrl(String(ln)),vn=clocksNow(),Sn={state:"start",init:cn,input:ln,method:dn,startClocks:vn,url:pn};return sn.notify(Sn),Sn}function afterSend(sn,ln,cn){var dn=function(pn){var vn=cn;vn.state="resolve","stack"in pn||pn instanceof Error?(vn.status=0,vn.isAborted=pn instanceof DOMException&&pn.code===DOMException.ABORT_ERR,vn.error=pn):"status"in pn&&(vn.response=pn,vn.responseType=pn.type,vn.status=pn.status,vn.isAborted=!1),sn.notify(vn)};ln.then(monitor(dn),monitor(dn))}var consoleObservablesByApi={};function initConsoleObservable(sn){var ln=sn.map(function(cn){return consoleObservablesByApi[cn]||(consoleObservablesByApi[cn]=createConsoleObservable(cn)),consoleObservablesByApi[cn]});return mergeObservables.apply(void 0,ln)}function createConsoleObservable(sn){var ln=new Observable(function(){var cn=globalConsole[sn];return globalConsole[sn]=function(){for(var dn=[],pn=0;pn<arguments.length;pn++)dn[pn]=arguments[pn];cn.apply(console,dn);var vn=createHandlingStack();callMonitored(function(){ln.notify(buildConsoleLog(dn,sn,vn))})},function(){globalConsole[sn]=cn}});return ln}function buildConsoleLog(sn,ln,cn){var dn=sn.map(function(En){return formatConsoleParameters(En)}).join(" "),pn,vn;if(ln===ConsoleApiName.error){var Sn=find$2(sn,function(En){return En instanceof Error});pn=Sn?toStackTraceString(computeStackTrace(Sn)):void 0,vn=tryToGetFingerprint(Sn),dn="console error: ".concat(dn)}return{api:ln,message:dn,stack:pn,handlingStack:cn,fingerprint:vn}}function formatConsoleParameters(sn){return typeof sn=="string"?sanitize(sn):sn instanceof Error?formatErrorMessage(computeStackTrace(sn)):jsonStringify(sanitize(sn),void 0,2)}var BUFFER_LIMIT=500,BoundedBuffer=function(){function sn(){this.buffer=[]}return sn.prototype.add=function(ln){var cn=this.buffer.push(ln);cn>BUFFER_LIMIT&&this.buffer.splice(0,1)},sn.prototype.drain=function(){this.buffer.forEach(function(ln){return ln()}),this.buffer.length=0},sn}(),CUSTOMER_DATA_BYTES_LIMIT=3*ONE_KIBI_BYTE;function warnIfCustomerDataLimitReached(sn,ln){return sn>CUSTOMER_DATA_BYTES_LIMIT?(display.warn("The ".concat(ln," data is over ").concat(CUSTOMER_DATA_BYTES_LIMIT/ONE_KIBI_BYTE,"KiB. On low connectivity, the SDK has the potential to exhaust the user's upload bandwidth.")),!0):!1}var BYTES_COMPUTATION_THROTTLING_DELAY$1=200;function createContextManager(sn,ln){ln===void 0&&(ln=computeBytesCount);var cn={},dn,pn=!1,vn=throttle$1(function(Sn){dn=ln(jsonStringify(Sn)),pn||(pn=warnIfCustomerDataLimitReached(dn,sn))},BYTES_COMPUTATION_THROTTLING_DELAY$1).throttled;return{getBytesCount:function(){return dn},get:function(){return cn},add:function(Sn,En){cn[Sn]=En,vn(cn)},remove:function(Sn){delete cn[Sn],vn(cn)},set:function(Sn){cn=Sn,vn(cn)},getContext:function(){return deepClone(cn)},setContext:function(Sn){cn=sanitize(Sn),vn(cn)},setContextProperty:function(Sn,En){cn[Sn]=sanitize(En),vn(cn)},removeContextProperty:function(Sn){delete cn[Sn],vn(cn)},clearContext:function(){cn={},dn=0}}}function readBytesFromStream(sn,ln,cn){var dn=sn.getReader(),pn=[],vn=0;Sn();function Sn(){dn.read().then(monitor(function(Cn){if(Cn.done){En();return}cn.collectStreamBody&&pn.push(Cn.value),vn+=Cn.value.length,vn>cn.bytesLimit?En():Sn()}),monitor(function(Cn){return ln(Cn)}))}function En(){dn.cancel().catch(noop$7);var Cn,Pn;if(cn.collectStreamBody){var Rn;if(pn.length===1)Rn=pn[0];else{Rn=new Uint8Array(vn);var Ln=0;pn.forEach(function(Fn){Rn.set(Fn,Ln),Ln+=Fn.length})}Cn=Rn.slice(0,cn.bytesLimit),Pn=Rn.length>cn.bytesLimit}ln(void 0,Cn,Pn)}}var SYNTHETICS_TEST_ID_COOKIE_NAME="datadog-synthetics-public-id",SYNTHETICS_RESULT_ID_COOKIE_NAME="datadog-synthetics-result-id",SYNTHETICS_INJECTS_RUM_COOKIE_NAME="datadog-synthetics-injects-rum";function willSyntheticsInjectRum(){return!!(window._DATADOG_SYNTHETICS_INJECTS_RUM||getCookie(SYNTHETICS_INJECTS_RUM_COOKIE_NAME))}function getSyntheticsTestId(){var sn=window._DATADOG_SYNTHETICS_PUBLIC_ID||getCookie(SYNTHETICS_TEST_ID_COOKIE_NAME);return typeof sn=="string"?sn:void 0}function getSyntheticsResultId(){var sn=window._DATADOG_SYNTHETICS_RESULT_ID||getCookie(SYNTHETICS_RESULT_ID_COOKIE_NAME);return typeof sn=="string"?sn:void 0}function sanitizeUser$1(sn){var ln=assign$2({},sn),cn=["id","name","email"];return cn.forEach(function(dn){dn in ln&&(ln[dn]=String(ln[dn]))}),ln}function checkUser(sn){var ln=getType(sn)==="object";return ln||display.error("Unsupported user:",sn),ln}function isMatchOption(sn){var ln=getType(sn);return ln==="string"||ln==="function"||sn instanceof RegExp}function matchList(sn,ln,cn){return cn===void 0&&(cn=!1),sn.some(function(dn){try{if(typeof dn=="function")return dn(ln);if(dn instanceof RegExp)return dn.test(ln);if(typeof dn=="string")return cn?startsWith(ln,dn):dn===ln}catch(pn){display.error(pn)}return!1})}function isTracingOption(sn){var ln=sn;return getType(ln)==="object"&&isMatchOption(ln.match)&&Array.isArray(ln.propagatorTypes)}function clearTracingIfNeeded(sn){sn.status===0&&!sn.isAborted&&(sn.traceId=void 0,sn.spanId=void 0,sn.traceSampled=void 0)}function startTracer(sn,ln){return{clearTracingIfNeeded,traceFetch:function(cn){return injectHeadersIfTracingAllowed(sn,cn,ln,function(dn){var pn;if(cn.input instanceof Request&&!(!((pn=cn.init)===null||pn===void 0)&&pn.headers))cn.input=new Request(cn.input),Object.keys(dn).forEach(function(Sn){cn.input.headers.append(Sn,dn[Sn])});else{cn.init=shallowClone(cn.init);var vn=[];cn.init.headers instanceof Headers?cn.init.headers.forEach(function(Sn,En){vn.push([En,Sn])}):Array.isArray(cn.init.headers)?cn.init.headers.forEach(function(Sn){vn.push(Sn)}):cn.init.headers&&Object.keys(cn.init.headers).forEach(function(Sn){vn.push([Sn,cn.init.headers[Sn]])}),cn.init.headers=vn.concat(objectEntries(dn))}})},traceXhr:function(cn,dn){return injectHeadersIfTracingAllowed(sn,cn,ln,function(pn){Object.keys(pn).forEach(function(vn){dn.setRequestHeader(vn,pn[vn])})})}}}function injectHeadersIfTracingAllowed(sn,ln,cn,dn){if(!(!isTracingSupported()||!cn.findTrackedSession())){var pn=find$2(sn.allowedTracingUrls,function(vn){return matchList([vn.match],ln.url,!0)});pn&&(ln.traceId=new TraceIdentifier,ln.spanId=new TraceIdentifier,ln.traceSampled=!isNumber(sn.traceSampleRate)||performDraw(sn.traceSampleRate),dn(makeTracingHeaders(ln.traceId,ln.spanId,ln.traceSampled,pn.propagatorTypes)))}}function isTracingSupported(){return getCrypto()!==void 0}function getCrypto(){return window.crypto||window.msCrypto}function makeTracingHeaders(sn,ln,cn,dn){var pn={};return dn.forEach(function(vn){switch(vn){case"datadog":{assign$2(pn,{"x-datadog-origin":"rum","x-datadog-parent-id":ln.toDecimalString(),"x-datadog-sampling-priority":cn?"1":"0","x-datadog-trace-id":sn.toDecimalString()});break}case"tracecontext":{assign$2(pn,{traceparent:"00-0000000000000000".concat(sn.toPaddedHexadecimalString(),"-").concat(ln.toPaddedHexadecimalString(),"-0").concat(cn?"1":"0")});break}case"b3":{assign$2(pn,{b3:"".concat(sn.toPaddedHexadecimalString(),"-").concat(ln.toPaddedHexadecimalString(),"-").concat(cn?"1":"0")});break}case"b3multi":{assign$2(pn,{"X-B3-TraceId":sn.toPaddedHexadecimalString(),"X-B3-SpanId":ln.toPaddedHexadecimalString(),"X-B3-Sampled":cn?"1":"0"});break}}}),pn}var TraceIdentifier=function(){function sn(){this.buffer=new Uint8Array(8),getCrypto().getRandomValues(this.buffer),this.buffer[0]=this.buffer[0]&127}return sn.prototype.toString=function(ln){var cn=this.readInt32(0),dn=this.readInt32(4),pn="";do{var vn=cn%ln*4294967296+dn;cn=Math.floor(cn/ln),dn=Math.floor(vn/ln),pn=(vn%ln).toString(ln)+pn}while(cn||dn);return pn},sn.prototype.toDecimalString=function(){return this.toString(10)},sn.prototype.toPaddedHexadecimalString=function(){var ln=this.toString(16);return Array(17-ln.length).join("0")+ln},sn.prototype.readInt32=function(ln){return this.buffer[ln]*16777216+(this.buffer[ln+1]<<16)+(this.buffer[ln+2]<<8)+this.buffer[ln+3]},sn}();function validateAndBuildRumConfiguration(sn){var ln,cn,dn,pn,vn,Sn;if(!sn.applicationId){display.error("Application ID is not configured, no RUM data will be collected.");return}if(sn.sessionReplaySampleRate!==void 0&&!isPercentage(sn.sessionReplaySampleRate)){display.error("Session Replay Sample Rate should be a number between 0 and 100");return}var En=(ln=sn.premiumSampleRate)!==null&&ln!==void 0?ln:sn.replaySampleRate;if(En!==void 0&&sn.sessionReplaySampleRate!==void 0&&(display.warn("Ignoring Premium Sample Rate because Session Replay Sample Rate is set"),En=void 0),En!==void 0&&!isPercentage(En)){display.error("Premium Sample Rate should be a number between 0 and 100");return}var Cn=(cn=sn.traceSampleRate)!==null&&cn!==void 0?cn:sn.tracingSampleRate;if(Cn!==void 0&&!isPercentage(Cn)){display.error("Trace Sample Rate should be a number between 0 and 100");return}if(sn.excludedActivityUrls!==void 0&&!Array.isArray(sn.excludedActivityUrls)){display.error("Excluded Activity Urls should be an array");return}var Pn=validateAndBuildTracingOptions(sn);if(Pn){var Rn=validateAndBuildConfiguration(sn);if(Rn){var Ln=!!((dn=sn.trackUserInteractions)!==null&&dn!==void 0?dn:sn.trackInteractions),Fn=!!sn.trackFrustrations;return assign$2({applicationId:sn.applicationId,version:sn.version,actionNameAttribute:sn.actionNameAttribute,sessionReplaySampleRate:(vn=(pn=sn.sessionReplaySampleRate)!==null&&pn!==void 0?pn:En)!==null&&vn!==void 0?vn:100,oldPlansBehavior:sn.sessionReplaySampleRate===void 0,traceSampleRate:Cn,allowedTracingUrls:Pn,excludedActivityUrls:(Sn=sn.excludedActivityUrls)!==null&&Sn!==void 0?Sn:[],trackUserInteractions:Ln||Fn,trackFrustrations:Fn,trackViewsManually:!!sn.trackViewsManually,trackResources:sn.trackResources,trackLongTasks:sn.trackLongTasks,subdomain:sn.subdomain,defaultPrivacyLevel:objectHasValue(DefaultPrivacyLevel,sn.defaultPrivacyLevel)?sn.defaultPrivacyLevel:DefaultPrivacyLevel.MASK_USER_INPUT,customerDataTelemetrySampleRate:1},Rn)}}}function validateAndBuildTracingOptions(sn){if(sn.allowedTracingUrls!==void 0&&sn.allowedTracingOrigins!==void 0&&display.warn("Both allowedTracingUrls and allowedTracingOrigins (deprecated) have been defined. The parameter allowedTracingUrls will override allowedTracingOrigins."),sn.allowedTracingUrls!==void 0){if(!Array.isArray(sn.allowedTracingUrls)){display.error("Allowed Tracing URLs should be an array");return}if(sn.allowedTracingUrls.length!==0&&sn.service===void 0){display.error("Service needs to be configured when tracing is enabled");return}var ln=[];return sn.allowedTracingUrls.forEach(function(dn){isMatchOption(dn)?ln.push({match:dn,propagatorTypes:["datadog"]}):isTracingOption(dn)?ln.push(dn):display.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",dn)}),ln}if(sn.allowedTracingOrigins!==void 0){if(!Array.isArray(sn.allowedTracingOrigins)){display.error("Allowed Tracing Origins should be an array");return}if(sn.allowedTracingOrigins.length!==0&&sn.service===void 0){display.error("Service needs to be configured when tracing is enabled");return}var cn=[];return sn.allowedTracingOrigins.forEach(function(dn){var pn=convertLegacyMatchOptionToTracingOption(dn);pn&&cn.push(pn)}),cn}return[]}function convertLegacyMatchOptionToTracingOption(sn){var ln;if(typeof sn=="string"?ln=sn:sn instanceof RegExp?ln=function(cn){return sn.test(getOrigin(cn))}:typeof sn=="function"&&(ln=function(cn){return sn(getOrigin(cn))}),ln===void 0){display.warn("Allowed Tracing Origins parameters should be a string, RegExp or function. Ignoring parameter",sn);return}return{match:ln,propagatorTypes:["datadog"]}}function getSelectedTracingPropagators(sn){var ln=new Set;return Array.isArray(sn.allowedTracingUrls)&&sn.allowedTracingUrls.length>0&&sn.allowedTracingUrls.forEach(function(cn){isMatchOption(cn)?ln.add("datadog"):getType(cn)==="object"&&Array.isArray(cn.propagatorTypes)&&cn.propagatorTypes.forEach(function(dn){return ln.add(dn)})}),Array.isArray(sn.allowedTracingOrigins)&&sn.allowedTracingOrigins.length>0&&ln.add("datadog"),arrayFrom$1(ln)}function serializeRumConfiguration(sn){var ln,cn,dn=serializeConfiguration(sn);return assign$2({premium_sample_rate:sn.premiumSampleRate,replay_sample_rate:sn.replaySampleRate,session_replay_sample_rate:sn.sessionReplaySampleRate,trace_sample_rate:(ln=sn.traceSampleRate)!==null&&ln!==void 0?ln:sn.tracingSampleRate,action_name_attribute:sn.actionNameAttribute,use_allowed_tracing_origins:Array.isArray(sn.allowedTracingOrigins)&&sn.allowedTracingOrigins.length>0,use_allowed_tracing_urls:Array.isArray(sn.allowedTracingUrls)&&sn.allowedTracingUrls.length>0,selected_tracing_propagators:getSelectedTracingPropagators(sn),default_privacy_level:sn.defaultPrivacyLevel,use_excluded_activity_urls:Array.isArray(sn.excludedActivityUrls)&&sn.excludedActivityUrls.length>0,track_frustrations:sn.trackFrustrations,track_views_manually:sn.trackViewsManually,track_user_interactions:(cn=sn.trackUserInteractions)!==null&&cn!==void 0?cn:sn.trackInteractions},dn)}function buildCommonContext(sn,ln,cn){return{context:sn.getContext(),user:ln.getContext(),hasReplay:cn.isRecording()?!0:void 0}}function makeRumPublicApi(sn,ln,cn){var dn=cn===void 0?{}:cn,pn=dn.ignoreInitIfSyntheticsWillInjectRum,vn=pn===void 0?!0:pn,Sn=!1,En=createContextManager("global context"),Cn=createContextManager("user"),Pn=function(){},Rn=function(){},Ln=noop$7,Fn=function(){},Gn=new BoundedBuffer,Dn=function(ms,$s){$s===void 0&&($s=timeStampNow()),Gn.add(function(){return Dn(ms,$s)})},Kn=function(ms,$s){$s===void 0&&($s=clocksNow()),Gn.add(function(){return Kn(ms,$s)})},qn=function(ms,$s){$s===void 0&&($s=buildCommonContext(En,Cn,ln)),Gn.add(function(){return qn(ms,$s)})},Zn=function(ms,$s){$s===void 0&&($s=buildCommonContext(En,Cn,ln)),Gn.add(function(){return Zn(ms,$s)})},Yn=function(ms,$s){Gn.add(function(){return Yn(ms,$s)})};function Jn(ms){if(Rn=function(){return deepClone(ms)},!(vn&&willSyntheticsInjectRum())){if(canUseEventBridge())ms=Es(ms);else if(!cs(ms))return;if(_s(ms)){var $s=validateAndBuildRumConfiguration(ms);if($s){if(!$s.trackViewsManually)rs(ms,$s);else{var Ms=Gn;Gn=new BoundedBuffer,Kn=function(gs){rs(ms,$s,gs)},Ms.drain()}Sn=!0}}}}function rs(ms,$s,Ms){var gs=sn(ms,$s,ln,En,Cn,Ms);Fn=function(){return ln.getSessionReplayLink($s,gs.session,gs.viewContexts)},Kn=gs.startView,qn=gs.addAction,Zn=gs.addError,Dn=gs.addTiming,Yn=gs.addFeatureFlagEvaluation,Pn=gs.getInternalContext,Ln=gs.stopSession,Gn.drain(),ln.onRumStart(gs.lifeCycle,$s,gs.session,gs.viewContexts)}var us=monitor(function(ms){var $s=typeof ms=="object"?ms:{name:ms};Kn($s)}),as=makePublicApi({init:monitor(Jn),addRumGlobalContext:monitor(En.add),setGlobalContextProperty:monitor(En.setContextProperty),removeRumGlobalContext:monitor(En.remove),removeGlobalContextProperty:monitor(En.removeContextProperty),getRumGlobalContext:monitor(En.get),getGlobalContext:monitor(En.getContext),setRumGlobalContext:monitor(En.set),setGlobalContext:monitor(En.setContext),clearGlobalContext:monitor(En.clearContext),getInternalContext:monitor(function(ms){return Pn(ms)}),getInitConfiguration:monitor(function(){return Rn()}),addAction:monitor(function(ms,$s){qn({name:sanitize(ms),context:sanitize($s),startClocks:clocksNow(),type:"custom"})}),addError:function(ms,$s){var Ms=createHandlingStack();callMonitored(function(){Zn({error:ms,handlingStack:Ms,context:sanitize($s),startClocks:clocksNow()})})},addTiming:monitor(function(ms,$s){Dn(sanitize(ms),$s)}),setUser:monitor(function(ms){checkUser(ms)&&Cn.setContext(sanitizeUser$1(ms))}),getUser:monitor(Cn.getContext),setUserProperty:monitor(function(ms,$s){var Ms,gs=sanitizeUser$1((Ms={},Ms[ms]=$s,Ms))[ms];Cn.setContextProperty(ms,gs)}),removeUserProperty:monitor(Cn.removeContextProperty),removeUser:monitor(Cn.clearContext),clearUser:monitor(Cn.clearContext),startView:us,stopSession:monitor(function(){Ln()}),startSessionReplayRecording:monitor(ln.start),stopSessionReplayRecording:monitor(ln.stop),addFeatureFlagEvaluation:monitor(function(ms,$s){Yn(sanitize(ms),sanitize($s))}),getSessionReplayLink:monitor(function(){return Fn()})});return as;function cs(ms){return areCookiesAuthorized(buildCookieOptions(ms))?Qn()?(display.error("Execution is not allowed in the current context."),!1):!0:(display.warn("Cookies are not authorized, we will not send any data."),!1)}function _s(ms){return Sn?(ms.silentMultipleInit||display.error("DD_RUM is already initialized."),!1):!0}function Es(ms){return assign$2({},ms,{applicationId:"00000000-aaaa-0000-aaaa-000000000000",clientToken:"empty",sessionSampleRate:100})}function Qn(){return window.location.protocol==="file:"}}function createDOMMutationObservable(){var sn=getMutationObserverConstructor(),ln=new Observable(function(){if(sn){var cn=new sn(monitor(function(){return ln.notify()}));return cn.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),function(){return cn.disconnect()}}});return ln}function getMutationObserverConstructor(){var sn,ln=window;if(ln.Zone&&(sn=getZoneJsOriginalValue(ln,"MutationObserver"),ln.MutationObserver&&sn===ln.MutationObserver)){var cn=new ln.MutationObserver(noop$7),dn=getZoneJsOriginalValue(cn,"originalInstance");sn=dn&&dn.constructor}return sn||(sn=ln.MutationObserver),sn}var FAKE_INITIAL_DOCUMENT="initial_document",RESOURCE_TYPES=[["document",function(sn){return FAKE_INITIAL_DOCUMENT===sn}],["xhr",function(sn){return sn==="xmlhttprequest"}],["fetch",function(sn){return sn==="fetch"}],["beacon",function(sn){return sn==="beacon"}],["css",function(sn,ln){return/\.css$/i.test(ln)}],["js",function(sn,ln){return/\.js$/i.test(ln)}],["image",function(sn,ln){return includes(["image","img","icon"],sn)||/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(ln)!==null}],["font",function(sn,ln){return/\.(woff|eot|woff2|ttf)$/i.exec(ln)!==null}],["media",function(sn,ln){return includes(["audio","video"],sn)||/\.(mp3|mp4)$/i.exec(ln)!==null}]];function computeResourceKind(sn){var ln=sn.name;if(!isValidUrl(ln))return addTelemetryDebug('Failed to construct URL for "'.concat(sn.name,'"')),"other";for(var cn=getPathName(ln),dn=0,pn=RESOURCE_TYPES;dn<pn.length;dn++){var vn=pn[dn],Sn=vn[0],En=vn[1];if(En(sn.initiatorType,cn))return Sn}return"other"}function areInOrder(){for(var sn=[],ln=0;ln<arguments.length;ln++)sn[ln]=arguments[ln];for(var cn=1;cn<sn.length;cn+=1)if(sn[cn-1]>sn[cn])return!1;return!0}function isRequestKind(sn){return sn.initiatorType==="xmlhttprequest"||sn.initiatorType==="fetch"}function computePerformanceResourceDuration(sn){var ln=sn.duration,cn=sn.startTime,dn=sn.responseEnd;return ln===0&&cn<dn?toServerDuration(elapsed(cn,dn)):toServerDuration(ln)}function computePerformanceResourceDetails(sn){var ln=toValidEntry(sn);if(ln){var cn=ln.startTime,dn=ln.fetchStart,pn=ln.redirectStart,vn=ln.redirectEnd,Sn=ln.domainLookupStart,En=ln.domainLookupEnd,Cn=ln.connectStart,Pn=ln.secureConnectionStart,Rn=ln.connectEnd,Ln=ln.requestStart,Fn=ln.responseStart,Gn=ln.responseEnd,Dn={download:formatTiming(cn,Fn,Gn),first_byte:formatTiming(cn,Ln,Fn)};return Rn!==dn&&(Dn.connect=formatTiming(cn,Cn,Rn),areInOrder(Cn,Pn,Rn)&&(Dn.ssl=formatTiming(cn,Pn,Rn))),En!==dn&&(Dn.dns=formatTiming(cn,Sn,En)),hasRedirection(sn)&&(Dn.redirect=formatTiming(cn,pn,vn)),Dn}}function toValidEntry(sn){if(areInOrder(sn.startTime,sn.fetchStart,sn.domainLookupStart,sn.domainLookupEnd,sn.connectStart,sn.connectEnd,sn.requestStart,sn.responseStart,sn.responseEnd)){if(!hasRedirection(sn))return sn;var ln=sn.redirectStart,cn=sn.redirectEnd;if(ln<sn.startTime&&(ln=sn.startTime),cn<sn.startTime&&(cn=sn.fetchStart),!!areInOrder(sn.startTime,ln,cn,sn.fetchStart))return assign$2({},sn,{redirectEnd:cn,redirectStart:ln})}}function hasRedirection(sn){return sn.fetchStart!==sn.startTime}function formatTiming(sn,ln,cn){return{duration:toServerDuration(elapsed(ln,cn)),start:toServerDuration(elapsed(sn,ln))}}function computeSize(sn){if(sn.startTime<sn.responseStart)return sn.decodedBodySize}function isAllowedRequestUrl(sn,ln){return ln&&!sn.isIntakeUrl(ln)}function isTextNode(sn){return sn.nodeType===Node.TEXT_NODE}function isCommentNode(sn){return sn.nodeType===Node.COMMENT_NODE}function isElementNode(sn){return sn.nodeType===Node.ELEMENT_NODE}function isNodeShadowHost(sn){return isElementNode(sn)&&!!sn.shadowRoot}function isNodeShadowRoot(sn){var ln=sn;return!!ln.host&&ln.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&isElementNode(ln.host)}function getChildNodes(sn){return isNodeShadowHost(sn)?sn.shadowRoot.childNodes:sn.childNodes}function getParentNode(sn){return isNodeShadowRoot(sn)?sn.host:sn.parentNode}var INITIAL_DOCUMENT_OUTDATED_TRACE_ID_THRESHOLD=2*ONE_MINUTE;function getDocumentTraceId(sn){var ln=getDocumentTraceDataFromMeta(sn)||getDocumentTraceDataFromComment(sn);if(!(!ln||ln.traceTime<=dateNow()-INITIAL_DOCUMENT_OUTDATED_TRACE_ID_THRESHOLD))return ln.traceId}function getDocumentTraceDataFromMeta(sn){var ln=sn.querySelector("meta[name=dd-trace-id]"),cn=sn.querySelector("meta[name=dd-trace-time]");return createDocumentTraceData(ln&&ln.content,cn&&cn.content)}function getDocumentTraceDataFromComment(sn){var ln=findTraceComment(sn);if(ln)return createDocumentTraceData(findCommaSeparatedValue(ln,"trace-id"),findCommaSeparatedValue(ln,"trace-time"))}function createDocumentTraceData(sn,ln){var cn=ln&&Number(ln);if(!(!sn||!cn))return{traceId:sn,traceTime:cn}}function findTraceComment(sn){for(var ln=0;ln<sn.childNodes.length;ln+=1){var cn=getTraceCommentFromNode(sn.childNodes[ln]);if(cn)return cn}if(sn.body)for(var ln=sn.body.childNodes.length-1;ln>=0;ln-=1){var dn=sn.body.childNodes[ln],cn=getTraceCommentFromNode(dn);if(cn)return cn;if(!isTextNode(dn))break}}function getTraceCommentFromNode(sn){if(sn&&isCommentNode(sn)){var ln=/^\s*DATADOG;(.*?)\s*$/.exec(sn.data);if(ln)return ln[1]}}function supportPerformanceObject(){return window.performance!==void 0&&"getEntries"in performance}function supportPerformanceTimingEvent(sn){return window.PerformanceObserver&&PerformanceObserver.supportedEntryTypes!==void 0&&PerformanceObserver.supportedEntryTypes.includes(sn)}function startPerformanceCollection(sn,ln){if(retrieveInitialDocumentResourceTiming(function(En){handleRumPerformanceEntries(sn,ln,[En])}),supportPerformanceObject()){var cn=performance.getEntries();setTimeout$1(function(){return handleRumPerformanceEntries(sn,ln,cn)})}if(window.PerformanceObserver){var dn=monitor(function(En){return handleRumPerformanceEntries(sn,ln,En.getEntries())}),pn=["resource","navigation","longtask","paint"],vn=["largest-contentful-paint","first-input","layout-shift"];try{vn.forEach(function(En){var Cn=new PerformanceObserver(dn);Cn.observe({type:En,buffered:!0})})}catch{pn.push.apply(pn,vn)}var Sn=new PerformanceObserver(dn);Sn.observe({entryTypes:pn}),supportPerformanceObject()&&"addEventListener"in performance&&addEventListener(performance,"resourcetimingbufferfull",function(){performance.clearResourceTimings()})}supportPerformanceTimingEvent("navigation")||retrieveNavigationTiming(function(En){handleRumPerformanceEntries(sn,ln,[En])}),supportPerformanceTimingEvent("first-input")||retrieveFirstInputTiming(function(En){handleRumPerformanceEntries(sn,ln,[En])})}function retrieveInitialDocumentResourceTiming(sn){runOnReadyState("interactive",function(){var ln,cn={entryType:"resource",initiatorType:FAKE_INITIAL_DOCUMENT,traceId:getDocumentTraceId(document)};if(supportPerformanceTimingEvent("navigation")&&performance.getEntriesByType("navigation").length>0){var dn=performance.getEntriesByType("navigation")[0];ln=assign$2(dn.toJSON(),cn)}else{var pn=computeRelativePerformanceTiming();ln=assign$2(pn,{decodedBodySize:0,duration:pn.responseEnd,name:window.location.href,startTime:0},cn)}sn(ln)})}function retrieveNavigationTiming(sn){function ln(){sn(assign$2(computeRelativePerformanceTiming(),{entryType:"navigation"}))}runOnReadyState("complete",function(){setTimeout$1(ln)})}function retrieveFirstInputTiming(sn){var ln=dateNow(),cn=!1,dn=addEventListeners(window,["click","mousedown","keydown","touchstart","pointerdown"],function(Sn){if(Sn.cancelable){var En={entryType:"first-input",processingStart:relativeNow(),startTime:Sn.timeStamp};Sn.type==="pointerdown"?pn(En):vn(En)}},{passive:!0,capture:!0}).stop;function pn(Sn){addEventListeners(window,["pointerup","pointercancel"],function(En){En.type==="pointerup"&&vn(Sn)},{once:!0})}function vn(Sn){if(!cn){cn=!0,dn();var En=Sn.processingStart-Sn.startTime;En>=0&&En<dateNow()-ln&&sn(Sn)}}}function computeRelativePerformanceTiming(){var sn={},ln=performance.timing;for(var cn in ln)if(isNumber(ln[cn])){var dn=cn,pn=ln[dn];sn[dn]=pn===0?0:getRelativeTime(pn)}return sn}function handleRumPerformanceEntries(sn,ln,cn){var dn=cn.filter(function(vn){return vn.entryType==="resource"||vn.entryType==="navigation"||vn.entryType==="paint"||vn.entryType==="longtask"||vn.entryType==="largest-contentful-paint"||vn.entryType==="first-input"||vn.entryType==="layout-shift"}),pn=dn.filter(function(vn){return!isIncompleteNavigation(vn)&&!isForbiddenResource(ln,vn)});pn.length&&sn.notify(0,pn)}function isIncompleteNavigation(sn){return sn.entryType==="navigation"&&sn.loadEventEnd<=0}function isForbiddenResource(sn,ln){return ln.entryType==="resource"&&!isAllowedRequestUrl(sn,ln.name)}function getSyntheticsContext(){var sn=getSyntheticsTestId(),ln=getSyntheticsResultId();if(sn&&ln)return{test_id:sn,result_id:ln,injected:willSyntheticsInjectRum()}}function getCiTestContext(){var sn,ln=(sn=window.Cypress)===null||sn===void 0?void 0:sn.env("traceId");if(typeof ln=="string")return{test_execution_id:ln}}var viewportObservable;function initViewportObservable(){return viewportObservable||(viewportObservable=createViewportObservable()),viewportObservable}function createViewportObservable(){var sn=new Observable(function(){var ln=throttle$1(function(){sn.notify(getViewportDimension())},200).throttled;return addEventListener(window,"resize",ln,{capture:!0,passive:!0}).stop});return sn}function getViewportDimension(){var sn=window.visualViewport;return sn?{width:Number(sn.width*sn.scale),height:Number(sn.height*sn.scale)}:{width:Number(window.innerWidth||0),height:Number(window.innerHeight||0)}}var viewport;function getDisplayContext(){return viewport||(viewport=getViewportDimension(),initViewportObservable().subscribe(function(sn){viewport=sn}).unsubscribe),{viewport}}function limitModification(sn,ln,cn){var dn=deepClone(sn),pn=cn(dn);return objectEntries(ln).forEach(function(vn){var Sn=vn[0],En=vn[1],Cn=get$2(dn,Sn),Pn=getType(Cn);Pn===En?set$2(sn,Sn,sanitize(Cn)):En==="object"&&(Pn==="undefined"||Pn==="null")&&set$2(sn,Sn,{})}),pn}function get$2(sn,ln){for(var cn=sn,dn=0,pn=ln.split(".");dn<pn.length;dn++){var vn=pn[dn];if(!isValidObjectContaining(cn,vn))return;cn=cn[vn]}return cn}function set$2(sn,ln,cn){for(var dn=sn,pn=ln.split("."),vn=0;vn<pn.length;vn+=1){var Sn=pn[vn];if(!isValidObject(dn))return;vn!==pn.length-1?dn=dn[Sn]:dn[Sn]=cn}}function isValidObject(sn){return getType(sn)==="object"}function isValidObjectContaining(sn,ln){return isValidObject(sn)&&Object.prototype.hasOwnProperty.call(sn,ln)}var VIEW_MODIFIABLE_FIELD_PATHS={"view.url":"string","view.referrer":"string"},USER_CUSTOMIZABLE_FIELD_PATHS={context:"object"},modifiableFieldPathsByEvent;function startRumAssembly(sn,ln,cn,dn,pn,vn,Sn,En){var Cn,Pn;modifiableFieldPathsByEvent=(Cn={},Cn.view=VIEW_MODIFIABLE_FIELD_PATHS,Cn.error=assign$2({"error.message":"string","error.stack":"string","error.resource.url":"string","error.fingerprint":"string"},USER_CUSTOMIZABLE_FIELD_PATHS,VIEW_MODIFIABLE_FIELD_PATHS),Cn.resource=assign$2({"resource.url":"string"},USER_CUSTOMIZABLE_FIELD_PATHS,VIEW_MODIFIABLE_FIELD_PATHS),Cn.action=assign$2({"action.target.name":"string"},USER_CUSTOMIZABLE_FIELD_PATHS,VIEW_MODIFIABLE_FIELD_PATHS),Cn.long_task=assign$2({},USER_CUSTOMIZABLE_FIELD_PATHS,VIEW_MODIFIABLE_FIELD_PATHS),Cn);var Rn=(Pn={},Pn.error=createEventRateLimiter("error",sn.eventRateLimiterThreshold,En),Pn.action=createEventRateLimiter("action",sn.eventRateLimiterThreshold,En),Pn),Ln=getSyntheticsContext(),Fn=getCiTestContext();ln.subscribe(10,function(Gn){var Dn=Gn.startTime,Kn=Gn.rawRumEvent,qn=Gn.domainContext,Zn=Gn.savedCommonContext,Yn=Gn.customerContext,Jn=dn.findView(Dn),rs=pn.findUrl(Dn),us=cn.findTrackedSession(Dn);if(us&&Jn&&rs){var as=Zn||Sn(),cs=vn.findActionId(Dn),_s={_dd:{format_version:2,drift:currentDrift(),session:{plan:us.plan},browser_sdk_version:canUseEventBridge()?"4.42.2":void 0},application:{id:sn.applicationId},date:timeStampNow(),service:Jn.service||sn.service,version:Jn.version||sn.version,source:"browser",session:{id:us.id,type:Ln?"synthetics":Fn?"ci_test":"user"},view:{id:Jn.id,name:Jn.name,url:rs.url,referrer:rs.referrer},action:needToAssembleWithAction(Kn)&&cs?{id:cs}:void 0,synthetics:Ln,ci_test:Fn,display:getDisplayContext()},Es=combine$1(_s,Kn);Es.context=combine$1(as.context,Yn),"has_replay"in Es.session||(Es.session.has_replay=as.hasReplay),isEmptyObject(as.user)||(Es.usr=as.user),shouldSend(Es,sn.beforeSend,qn,Rn)&&(isEmptyObject(Es.context)&&delete Es.context,ln.notify(11,Es))}})}function shouldSend(sn,ln,cn,dn){var pn;if(ln){var vn=limitModification(sn,modifiableFieldPathsByEvent[sn.type],function(En){return ln(En,cn)});if(vn===!1&&sn.type!=="view")return!1;vn===!1&&display.warn("Can't dismiss view events using beforeSend!")}var Sn=(pn=dn[sn.type])===null||pn===void 0?void 0:pn.isLimitReached();return!Sn}function needToAssembleWithAction(sn){return["error","resource","long_task"].indexOf(sn.type)!==-1}var MAX_NUMBER_OF_SELECTABLE_FOREGROUND_PERIODS=500,MAX_NUMBER_OF_STORED_FOREGROUND_PERIODS=2500,foregroundPeriods=[];function startForegroundContexts(){document.hasFocus()&&addNewForegroundPeriod();var sn=trackFocus(addNewForegroundPeriod).stop,ln=trackBlur(closeForegroundPeriod).stop;return{isInForegroundAt,selectInForegroundPeriodsFor,stop:function(){foregroundPeriods=[],sn(),ln()}}}function addNewForegroundPeriod(){if(!(foregroundPeriods.length>MAX_NUMBER_OF_STORED_FOREGROUND_PERIODS)){var sn=foregroundPeriods[foregroundPeriods.length-1],ln=relativeNow();sn!==void 0&&sn.end===void 0||foregroundPeriods.push({start:ln})}}function closeForegroundPeriod(){if(foregroundPeriods.length!==0){var sn=foregroundPeriods[foregroundPeriods.length-1],ln=relativeNow();sn.end===void 0&&(sn.end=ln)}}function trackFocus(sn){return addEventListener(window,"focus",function(ln){ln.isTrusted&&sn()})}function trackBlur(sn){return addEventListener(window,"blur",function(ln){ln.isTrusted&&sn()})}function isInForegroundAt(sn){for(var ln=foregroundPeriods.length-1;ln>=0;ln--){var cn=foregroundPeriods[ln];if(cn.end!==void 0&&sn>cn.end)break;if(sn>cn.start&&(cn.end===void 0||sn<cn.end))return!0}return!1}function selectInForegroundPeriodsFor(sn,ln){for(var cn=addDuration(sn,ln),dn=[],pn=Math.max(0,foregroundPeriods.length-MAX_NUMBER_OF_SELECTABLE_FOREGROUND_PERIODS),vn=foregroundPeriods.length-1;vn>=pn;vn--){var Sn=foregroundPeriods[vn];if(Sn.end!==void 0&&sn>Sn.end)break;if(!(cn<Sn.start)){var En=sn>Sn.start?sn:Sn.start,Cn=elapsed(sn,En),Pn=Sn.end===void 0||cn<Sn.end?cn:Sn.end,Rn=elapsed(En,Pn);dn.unshift({start:toServerDuration(Cn),duration:toServerDuration(Rn)})}}return dn}function startInternalContext$1(sn,ln,cn,dn,pn){return{get:function(vn){var Sn=cn.findView(vn),En=pn.findUrl(vn),Cn=ln.findTrackedSession(vn);if(Cn&&Sn&&En){var Pn=dn.findActionId(vn);return{application_id:sn,session_id:Cn.id,user_action:Pn?{id:Pn}:void 0,view:{id:Sn.id,name:Sn.name,referrer:En.referrer,url:En.url}}}}}}var LifeCycle$1=AbstractLifeCycle,VIEW_CONTEXT_TIME_OUT_DELAY=SESSION_TIME_OUT_DELAY;function startViewContexts(sn){var ln=new ValueHistory(VIEW_CONTEXT_TIME_OUT_DELAY);sn.subscribe(2,function(dn){ln.add(cn(dn),dn.startClocks.relative)}),sn.subscribe(4,function(dn){var pn=dn.endClocks;ln.closeActive(pn.relative)}),sn.subscribe(8,function(){ln.reset()});function cn(dn){return{service:dn.service,version:dn.version,id:dn.id,name:dn.name,startClocks:dn.startClocks}}return{findView:function(dn){return ln.find(dn)},stop:function(){ln.stop()}}}var nextRequestIndex=1;function startRequestCollection(sn,ln,cn){var dn=startTracer(ln,cn);trackXhr(sn,ln,dn),trackFetch(sn,ln,dn)}function trackXhr(sn,ln,cn){var dn=initXhrObservable().subscribe(function(pn){var vn=pn;if(isAllowedRequestUrl(ln,vn.url))switch(vn.state){case"start":cn.traceXhr(vn,vn.xhr),vn.requestIndex=getNextRequestIndex(),sn.notify(5,{requestIndex:vn.requestIndex,url:vn.url});break;case"complete":cn.clearTracingIfNeeded(vn),sn.notify(6,{duration:vn.duration,method:vn.method,requestIndex:vn.requestIndex,spanId:vn.spanId,startClocks:vn.startClocks,status:vn.status,traceId:vn.traceId,traceSampled:vn.traceSampled,type:"xhr",url:vn.url,xhr:vn.xhr});break}});return{stop:function(){return dn.unsubscribe()}}}function trackFetch(sn,ln,cn){var dn=initFetchObservable().subscribe(function(pn){var vn=pn;if(isAllowedRequestUrl(ln,vn.url))switch(vn.state){case"start":cn.traceFetch(vn),vn.requestIndex=getNextRequestIndex(),sn.notify(5,{requestIndex:vn.requestIndex,url:vn.url});break;case"resolve":waitForResponseToComplete(vn,function(Sn){cn.clearTracingIfNeeded(vn),sn.notify(6,{duration:Sn,method:vn.method,requestIndex:vn.requestIndex,responseType:vn.responseType,spanId:vn.spanId,startClocks:vn.startClocks,status:vn.status,traceId:vn.traceId,traceSampled:vn.traceSampled,type:"fetch",url:vn.url,response:vn.response,init:vn.init,input:vn.input})});break}});return{stop:function(){return dn.unsubscribe()}}}function getNextRequestIndex(){var sn=nextRequestIndex;return nextRequestIndex+=1,sn}function waitForResponseToComplete(sn,ln){var cn=sn.response&&tryToClone(sn.response);!cn||!cn.body?ln(elapsed(sn.startClocks.timeStamp,timeStampNow())):readBytesFromStream(cn.body,function(){ln(elapsed(sn.startClocks.timeStamp,timeStampNow()))},{bytesLimit:Number.POSITIVE_INFINITY,collectStreamBody:!1})}function trackEventCounts(sn){var ln=sn.lifeCycle,cn=sn.isChildEvent,dn=sn.onChange,pn=dn===void 0?noop$7:dn,vn={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0},Sn=ln.subscribe(11,function(En){if(!(En.type==="view"||!cn(En)))switch(En.type){case"error":vn.errorCount+=1,pn();break;case"action":vn.actionCount+=1,En.action.frustration&&(vn.frustrationCount+=En.action.frustration.type.length),pn();break;case"long_task":vn.longTaskCount+=1,pn();break;case"resource":vn.resourceCount+=1,pn();break}});return{stop:function(){Sn.unsubscribe()},eventCounts:vn}}var PAGE_ACTIVITY_VALIDATION_DELAY=100,PAGE_ACTIVITY_END_DELAY=100;function waitPageActivityEnd(sn,ln,cn,dn,pn){var vn=createPageActivityObservable(sn,ln,cn);return doWaitPageActivityEnd(vn,dn,pn)}function doWaitPageActivityEnd(sn,ln,cn){var dn,pn=!1,vn=setTimeout$1(monitor(function(){return Pn({hadActivity:!1})}),PAGE_ACTIVITY_VALIDATION_DELAY),Sn=cn!==void 0?setTimeout$1(monitor(function(){return Pn({hadActivity:!0,end:timeStampNow()})}),cn):void 0,En=sn.subscribe(function(Rn){var Ln=Rn.isBusy;clearTimeout$1(vn),clearTimeout$1(dn);var Fn=timeStampNow();Ln||(dn=setTimeout$1(monitor(function(){return Pn({hadActivity:!0,end:Fn})}),PAGE_ACTIVITY_END_DELAY))}),Cn=function(){pn=!0,clearTimeout$1(vn),clearTimeout$1(dn),clearTimeout$1(Sn),En.unsubscribe()};function Pn(Rn){pn||(Cn(),ln(Rn))}return{stop:Cn}}function createPageActivityObservable(sn,ln,cn){var dn=new Observable(function(){var pn=[],vn,Sn=0;pn.push(ln.subscribe(Cn),sn.subscribe(0,function(Pn){Pn.some(function(Rn){return Rn.entryType==="resource"&&!isExcludedUrl(cn,Rn.name)})&&Cn()}),sn.subscribe(5,function(Pn){isExcludedUrl(cn,Pn.url)||(vn===void 0&&(vn=Pn.requestIndex),Sn+=1,Cn())}),sn.subscribe(6,function(Pn){isExcludedUrl(cn,Pn.url)||vn===void 0||Pn.requestIndex<vn||(Sn-=1,Cn())}));var En=trackWindowOpen(Cn).stop;return function(){En(),pn.forEach(function(Pn){return Pn.unsubscribe()})};function Cn(){dn.notify({isBusy:Sn>0})}});return dn}function isExcludedUrl(sn,ln){return matchList(sn.excludedActivityUrls,ln)}function trackWindowOpen(sn){return instrumentMethodAndCallOriginal(window,"open",{before:sn})}var MAX_DURATION_BETWEEN_CLICKS=ONE_SECOND,MAX_DISTANCE_BETWEEN_CLICKS=100;function createClickChain(sn,ln){var cn=[],dn=0,pn;vn(sn);function vn(Cn){Cn.stopObservable.subscribe(Sn),cn.push(Cn),clearTimeout$1(pn),pn=setTimeout$1(En,MAX_DURATION_BETWEEN_CLICKS)}function Sn(){dn===1&&cn.every(function(Cn){return Cn.isStopped()})&&(dn=2,ln(cn))}function En(){clearTimeout$1(pn),dn===0&&(dn=1,Sn())}return{tryAppend:function(Cn){return dn!==0?!1:cn.length>0&&!areEventsSimilar(cn[cn.length-1].event,Cn.event)?(En(),!1):(vn(Cn),!0)},stop:function(){En()}}}function areEventsSimilar(sn,ln){return sn.target===ln.target&&mouseEventDistance(sn,ln)<=MAX_DISTANCE_BETWEEN_CLICKS&&sn.timeStamp-ln.timeStamp<=MAX_DURATION_BETWEEN_CLICKS}function mouseEventDistance(sn,ln){return Math.sqrt(Math.pow(sn.clientX-ln.clientX,2)+Math.pow(sn.clientY-ln.clientY,2))}var DEFAULT_PROGRAMMATIC_ACTION_NAME_ATTRIBUTE="data-dd-action-name";function getActionNameFromElement(sn,ln){return getActionNameFromElementProgrammatically(sn,DEFAULT_PROGRAMMATIC_ACTION_NAME_ATTRIBUTE)||ln&&getActionNameFromElementProgrammatically(sn,ln)||getActionNameFromElementForStrategies(sn,ln,priorityStrategies)||getActionNameFromElementForStrategies(sn,ln,fallbackStrategies)||""}function getActionNameFromElementProgrammatically(sn,ln){var cn;if(supportsElementClosest())cn=sn.closest("[".concat(ln,"]"));else for(var dn=sn;dn;){if(dn.hasAttribute(ln)){cn=dn;break}dn=dn.parentElement}if(cn){var pn=cn.getAttribute(ln);return truncate(normalizeWhitespace(pn.trim()))}}var priorityStrategies=[function(sn,ln){if(supportsLabelProperty()){if("labels"in sn&&sn.labels&&sn.labels.length>0)return getTextualContent(sn.labels[0],ln)}else if(sn.id){var cn=sn.ownerDocument&&find$2(sn.ownerDocument.querySelectorAll("label"),function(dn){return dn.htmlFor===sn.id});return cn&&getTextualContent(cn,ln)}},function(sn){if(sn.nodeName==="INPUT"){var ln=sn,cn=ln.getAttribute("type");if(cn==="button"||cn==="submit"||cn==="reset")return ln.value}},function(sn,ln){if(sn.nodeName==="BUTTON"||sn.nodeName==="LABEL"||sn.getAttribute("role")==="button")return getTextualContent(sn,ln)},function(sn){return sn.getAttribute("aria-label")},function(sn,ln){var cn=sn.getAttribute("aria-labelledby");if(cn)return cn.split(/\s+/).map(function(dn){return getElementById(sn,dn)}).filter(function(dn){return!!dn}).map(function(dn){return getTextualContent(dn,ln)}).join(" ")},function(sn){return sn.getAttribute("alt")},function(sn){return sn.getAttribute("name")},function(sn){return sn.getAttribute("title")},function(sn){return sn.getAttribute("placeholder")},function(sn,ln){if("options"in sn&&sn.options.length>0)return getTextualContent(sn.options[0],ln)}],fallbackStrategies=[function(sn,ln){return getTextualContent(sn,ln)}],MAX_PARENTS_TO_CONSIDER=10;function getActionNameFromElementForStrategies(sn,ln,cn){for(var dn=sn,pn=0;pn<=MAX_PARENTS_TO_CONSIDER&&dn&&dn.nodeName!=="BODY"&&dn.nodeName!=="HTML"&&dn.nodeName!=="HEAD";){for(var vn=0,Sn=cn;vn<Sn.length;vn++){var En=Sn[vn],Cn=En(dn,ln);if(typeof Cn=="string"){var Pn=Cn.trim();if(Pn)return truncate(normalizeWhitespace(Pn))}}if(dn.nodeName==="FORM")break;dn=dn.parentElement,pn+=1}}function normalizeWhitespace(sn){return sn.replace(/\s+/g," ")}function truncate(sn){return sn.length>100?"".concat(safeTruncate(sn,100)," [...]"):sn}function getElementById(sn,ln){return sn.ownerDocument?sn.ownerDocument.getElementById(ln):null}function getTextualContent(sn,ln){if(!sn.isContentEditable){if("innerText"in sn){var cn=sn.innerText,dn=function(pn){for(var vn=sn.querySelectorAll(pn),Sn=0;Sn<vn.length;Sn+=1){var En=vn[Sn];if("innerText"in En){var Cn=En.innerText;Cn&&Cn.trim().length>0&&(cn=cn.replace(Cn,""))}}};return supportsInnerTextScriptAndStyleRemoval()||dn("script, style"),dn("[".concat(DEFAULT_PROGRAMMATIC_ACTION_NAME_ATTRIBUTE,"]")),ln&&dn("[".concat(ln,"]")),cn}return sn.textContent}}function supportsInnerTextScriptAndStyleRemoval(){return!isIE$1()}var supportsLabelPropertyResult;function supportsLabelProperty(){return supportsLabelPropertyResult===void 0&&(supportsLabelPropertyResult="labels"in HTMLInputElement.prototype),supportsLabelPropertyResult}var supportsElementClosestResult;function supportsElementClosest(){return supportsElementClosestResult===void 0&&(supportsElementClosestResult="closest"in HTMLElement.prototype),supportsElementClosestResult}var STABLE_ATTRIBUTES=[DEFAULT_PROGRAMMATIC_ACTION_NAME_ATTRIBUTE,"data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"],GLOBALLY_UNIQUE_SELECTOR_GETTERS=[getStableAttributeSelector,getIDSelector],UNIQUE_AMONG_CHILDREN_SELECTOR_GETTERS=[getStableAttributeSelector,getClassSelector,getTagNameSelector];function getSelectorFromElement(sn,ln){for(var cn="",dn=sn;dn&&dn.nodeName!=="HTML";){var pn=findSelector(dn,GLOBALLY_UNIQUE_SELECTOR_GETTERS,isSelectorUniqueGlobally,ln,cn);if(pn)return pn;var vn=findSelector(dn,UNIQUE_AMONG_CHILDREN_SELECTOR_GETTERS,isSelectorUniqueAmongSiblings,ln,cn);cn=vn||combineSelector(getPositionSelector(dn),cn),dn=dn.parentElement}return cn}function isGeneratedValue(sn){return/[0-9]/.test(sn)}function getIDSelector(sn){if(sn.id&&!isGeneratedValue(sn.id))return"#".concat(cssEscape(sn.id))}function getClassSelector(sn){if(sn.tagName!=="BODY"&&sn.classList.length>0)for(var ln=0;ln<sn.classList.length;ln+=1){var cn=sn.classList[ln];if(!isGeneratedValue(cn))return"".concat(sn.tagName,".").concat(cssEscape(cn))}}function getTagNameSelector(sn){return sn.tagName}function getStableAttributeSelector(sn,ln){if(ln){var cn=Sn(ln);if(cn)return cn}for(var dn=0,pn=STABLE_ATTRIBUTES;dn<pn.length;dn++){var vn=pn[dn],cn=Sn(vn);if(cn)return cn}function Sn(En){if(sn.hasAttribute(En))return"".concat(sn.tagName,"[").concat(En,'="').concat(cssEscape(sn.getAttribute(En)),'"]')}}function getPositionSelector(sn){for(var ln=sn.parentElement.firstElementChild,cn=1;ln&&ln!==sn;)ln.tagName===sn.tagName&&(cn+=1),ln=ln.nextElementSibling;return"".concat(sn.tagName,":nth-of-type(").concat(cn,")")}function findSelector(sn,ln,cn,dn,pn){for(var vn=0,Sn=ln;vn<Sn.length;vn++){var En=Sn[vn],Cn=En(sn,dn);if(Cn){var Pn=combineSelector(Cn,pn);if(cn(sn,Pn))return Pn}}}function isSelectorUniqueGlobally(sn,ln){return sn.ownerDocument.querySelectorAll(ln).length===1}function isSelectorUniqueAmongSiblings(sn,ln){return sn.parentElement.querySelectorAll(supportScopeSelector()?combineSelector(":scope",ln):ln).length===1}function combineSelector(sn,ln){return ln?"".concat(sn,">").concat(ln):sn}var supportScopeSelectorCache;function supportScopeSelector(){if(supportScopeSelectorCache===void 0)try{document.querySelector(":scope"),supportScopeSelectorCache=!0}catch{supportScopeSelectorCache=!1}return supportScopeSelectorCache}function listenActionEvents(sn){var ln=sn.onPointerDown,cn=sn.onPointerUp,dn,pn={selection:!1,input:!1},vn,Sn=[addEventListener(window,"pointerdown",function(En){isValidPointerEvent(En)&&(dn=isSelectionEmpty(),pn={selection:!1,input:!1},vn=ln(En))},{capture:!0}),addEventListener(window,"selectionchange",function(){(!dn||!isSelectionEmpty())&&(pn.selection=!0)},{capture:!0}),addEventListener(window,"pointerup",function(En){if(isValidPointerEvent(En)&&vn){var Cn=pn;cn(vn,En,function(){return Cn}),vn=void 0}},{capture:!0}),addEventListener(window,"input",function(){pn.input=!0},{capture:!0})];return{stop:function(){Sn.forEach(function(En){return En.stop()})}}}function isSelectionEmpty(){var sn=window.getSelection();return!sn||sn.isCollapsed}function isValidPointerEvent(sn){return sn.target instanceof Element&&sn.isPrimary!==!1}var MIN_CLICKS_PER_SECOND_TO_CONSIDER_RAGE=3;function computeFrustration(sn,ln){if(isRage(sn))return ln.addFrustration("rage_click"),sn.some(isDead)&&ln.addFrustration("dead_click"),ln.hasError&&ln.addFrustration("error_click"),{isRage:!0};var cn=sn.some(function(dn){return dn.getUserActivity().selection});return sn.forEach(function(dn){dn.hasError&&dn.addFrustration("error_click"),isDead(dn)&&!cn&&dn.addFrustration("dead_click")}),{isRage:!1}}function isRage(sn){if(sn.some(function(cn){return cn.getUserActivity().selection}))return!1;for(var ln=0;ln<sn.length-(MIN_CLICKS_PER_SECOND_TO_CONSIDER_RAGE-1);ln+=1)if(sn[ln+MIN_CLICKS_PER_SECOND_TO_CONSIDER_RAGE-1].event.timeStamp-sn[ln].event.timeStamp<=ONE_SECOND)return!0;return!1}var DEAD_CLICK_EXCLUDE_SELECTOR='input:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]),textarea,select,[contenteditable],[contenteditable] *,canvas,a[href],a[href] *';function isDead(sn){return sn.hasPageActivity||sn.getUserActivity().input?!1:!elementMatches(sn.event.target,DEAD_CLICK_EXCLUDE_SELECTOR)}var CLICK_ACTION_MAX_DURATION=10*ONE_SECOND,ACTION_CONTEXT_TIME_OUT_DELAY=5*ONE_MINUTE;function trackClickActions(sn,ln,cn){var dn=new ValueHistory(ACTION_CONTEXT_TIME_OUT_DELAY),pn=new Observable,vn;sn.subscribe(8,function(){dn.reset()}),sn.subscribe(4,Pn);var Sn=listenActionEvents({onPointerDown:function(Rn){return processPointerDown(cn,sn,ln,dn,Rn)},onPointerUp:function(Rn,Ln,Fn){var Gn=Rn.clickActionBase,Dn=Rn.hadActivityOnPointerDown;return startClickAction(cn,sn,ln,dn,pn,Cn,Gn,Ln,Fn,Dn)}}).stop,En={findActionId:function(Rn){return cn.trackFrustrations?dn.findAll(Rn):dn.find(Rn)}};return{stop:function(){Pn(),pn.notify(),Sn()},actionContexts:En};function Cn(Rn){if(!vn||!vn.tryAppend(Rn)){var Ln=Rn.clone();vn=createClickChain(Rn,function(Fn){finalizeClicks(Fn,Ln)})}}function Pn(){vn&&vn.stop()}}function processPointerDown(sn,ln,cn,dn,pn){if(!(!sn.trackFrustrations&&dn.find())){var vn=computeClickActionBase(pn,sn.actionNameAttribute);if(!(!sn.trackFrustrations&&!vn.name)){var Sn=!1;return waitPageActivityEnd(ln,cn,sn,function(En){Sn=En.hadActivity},PAGE_ACTIVITY_VALIDATION_DELAY),{clickActionBase:vn,hadActivityOnPointerDown:function(){return Sn}}}}}function startClickAction(sn,ln,cn,dn,pn,vn,Sn,En,Cn,Pn){var Rn=newClick(ln,dn,Cn,Sn,En);sn.trackFrustrations&&vn(Rn);var Ln=waitPageActivityEnd(ln,cn,sn,function(Dn){Dn.hadActivity&&Dn.end<Rn.startClocks.timeStamp?Rn.discard():(Dn.hadActivity?Rn.stop(Dn.end):Pn()?Rn.stop(Rn.startClocks.timeStamp):Rn.stop(),sn.trackFrustrations||(Dn.hadActivity?Rn.validate():Rn.discard()))},CLICK_ACTION_MAX_DURATION).stop,Fn=ln.subscribe(4,function(Dn){var Kn=Dn.endClocks;Rn.stop(Kn.timeStamp)}),Gn=pn.subscribe(function(){Rn.stop()});Rn.stopObservable.subscribe(function(){Fn.unsubscribe(),Ln(),Gn.unsubscribe()})}function computeClickActionBase(sn,ln){var cn=sn.target.getBoundingClientRect();return{type:"click",target:{width:Math.round(cn.width),height:Math.round(cn.height),selector:getSelectorFromElement(sn.target,ln)},position:{x:Math.round(sn.clientX-cn.left),y:Math.round(sn.clientY-cn.top)},name:getActionNameFromElement(sn.target,ln)}}function newClick(sn,ln,cn,dn,pn){var vn=generateUUID(),Sn=clocksNow(),En=ln.add(vn,Sn.relative),Cn=trackEventCounts({lifeCycle:sn,isChildEvent:function(Dn){return Dn.action!==void 0&&(Array.isArray(Dn.action.id)?includes(Dn.action.id,vn):Dn.action.id===vn)}}),Pn=0,Rn,Ln=[],Fn=new Observable;function Gn(Dn){Pn===0&&(Rn=Dn,Pn=1,Rn?En.close(getRelativeTime(Rn)):En.remove(),Cn.stop(),Fn.notify())}return{event:pn,stop:Gn,stopObservable:Fn,get hasError(){return Cn.eventCounts.errorCount>0},get hasPageActivity(){return Rn!==void 0},getUserActivity:cn,addFrustration:function(Dn){Ln.push(Dn)},startClocks:Sn,isStopped:function(){return Pn===1||Pn===2},clone:function(){return newClick(sn,ln,cn,dn,pn)},validate:function(Dn){if(Gn(),Pn===1){var Kn=Cn.eventCounts,qn=Kn.resourceCount,Zn=Kn.errorCount,Yn=Kn.longTaskCount,Jn=assign$2({type:"click",duration:Rn&&elapsed(Sn.timeStamp,Rn),startClocks:Sn,id:vn,frustrationTypes:Ln,counts:{resourceCount:qn,errorCount:Zn,longTaskCount:Yn},events:Dn??[pn],event:pn},dn);sn.notify(1,Jn),Pn=2}},discard:function(){Gn(),Pn=2}}}function finalizeClicks(sn,ln){var cn=computeFrustration(sn,ln).isRage;cn?(sn.forEach(function(dn){return dn.discard()}),ln.stop(timeStampNow()),ln.validate(sn.map(function(dn){return dn.event}))):(ln.discard(),sn.forEach(function(dn){return dn.validate()}))}function startActionCollection(sn,ln,cn,dn){sn.subscribe(1,function(vn){return sn.notify(10,processAction(vn,dn))});var pn={findActionId:noop$7};return cn.trackUserInteractions&&(pn=trackClickActions(sn,ln,cn).actionContexts),{addAction:function(vn,Sn){sn.notify(10,assign$2({savedCommonContext:Sn},processAction(vn,dn)))},actionContexts:pn}}function processAction(sn,ln){var cn=isAutoAction(sn)?{action:{id:sn.id,loading_time:toServerDuration(sn.duration),frustration:{type:sn.frustrationTypes},error:{count:sn.counts.errorCount},long_task:{count:sn.counts.longTaskCount},resource:{count:sn.counts.resourceCount}},_dd:{action:{target:sn.target,position:sn.position}}}:void 0,dn=isAutoAction(sn)?void 0:sn.context,pn=combine$1({action:{id:generateUUID(),target:{name:sn.name},type:sn.type},date:sn.startClocks.timeStamp,type:"action"},cn),vn=ln.isInForegroundAt(sn.startClocks.relative);return vn!==void 0&&(pn.view={in_foreground:vn}),{customerContext:dn,rawRumEvent:pn,startTime:sn.startClocks.relative,domainContext:isAutoAction(sn)?{event:sn.event,events:sn.events}:{}}}function isAutoAction(sn){return sn.type!=="custom"}function trackConsoleError(sn){var ln=initConsoleObservable([ConsoleApiName.error]).subscribe(function(cn){return sn.notify({startClocks:clocksNow(),message:cn.message,stack:cn.stack,fingerprint:cn.fingerprint,source:ErrorSource.CONSOLE,handling:"handled",handlingStack:cn.handlingStack})});return{stop:function(){ln.unsubscribe()}}}function trackReportError(sn){var ln=initReportObservable([RawReportType.cspViolation,RawReportType.intervention]).subscribe(function(cn){return sn.notify({startClocks:clocksNow(),message:cn.message,stack:cn.stack,type:cn.subtype,source:ErrorSource.REPORT,handling:"unhandled"})});return{stop:function(){ln.unsubscribe()}}}function startErrorCollection(sn,ln,cn){var dn=new Observable;return trackConsoleError(dn),trackRuntimeError(dn),trackReportError(dn),dn.subscribe(function(pn){return sn.notify(12,{error:pn})}),doStartErrorCollection(sn,ln,cn)}function doStartErrorCollection(sn,ln,cn){return sn.subscribe(12,function(dn){var pn=dn.error,vn=dn.customerContext,Sn=dn.savedCommonContext;sn.notify(10,assign$2({customerContext:vn,savedCommonContext:Sn},processError(pn,ln,cn)))}),{addError:function(dn,pn){var vn=dn.error,Sn=dn.handlingStack,En=dn.startClocks,Cn=dn.context,Pn=vn instanceof Error?computeStackTrace(vn):void 0,Rn=computeRawError({stackTrace:Pn,originalError:vn,handlingStack:Sn,startClocks:En,nonErrorPrefix:"Provided",source:ErrorSource.CUSTOM,handling:"handled"});sn.notify(12,{customerContext:Cn,savedCommonContext:pn,error:Rn})}}}function processError(sn,ln,cn){var dn={date:sn.startClocks.timeStamp,error:{id:generateUUID(),message:sn.message,source:sn.source,stack:sn.stack,handling_stack:sn.handlingStack,type:sn.type,handling:sn.handling,causes:sn.causes,source_type:"browser",fingerprint:sn.fingerprint},type:"error"},pn=ln.isInForegroundAt(sn.startClocks.relative);pn&&(dn.view={in_foreground:pn});var vn=cn.findFeatureFlagEvaluations(sn.startClocks.relative);return vn&&!isEmptyObject(vn)&&(dn.feature_flags=vn),{rawRumEvent:dn,startTime:sn.startClocks.relative,domainContext:{error:sn.originalError}}}function startLongTaskCollection(sn,ln){sn.subscribe(0,function(cn){for(var dn=0,pn=cn;dn<pn.length;dn++){var vn=pn[dn];if(vn.entryType!=="longtask")break;var Sn=ln.findTrackedSession(vn.startTime);if(!Sn||!Sn.longTaskAllowed)break;var En=relativeToClocks(vn.startTime),Cn={date:En.timeStamp,long_task:{id:generateUUID(),duration:toServerDuration(vn.duration)},type:"long_task",_dd:{discarded:!1}};sn.notify(10,{rawRumEvent:Cn,startTime:En.relative,domainContext:{performanceEntry:vn.toJSON()}})}})}function matchRequestTiming(sn){if(!(!performance||!("getEntriesByName"in performance))){var ln=performance.getEntriesByName(sn.url,"resource");if(!(!ln.length||!("toJSON"in ln[0]))){var cn=ln.map(function(dn){return dn.toJSON()}).filter(toValidEntry).filter(function(dn){return isBetween$2(dn,sn.startClocks.relative,endTime({startTime:sn.startClocks.relative,duration:sn.duration}))});if(cn.length===1)return cn[0]}}}function endTime(sn){return addDuration(sn.startTime,sn.duration)}function isBetween$2(sn,ln,cn){var dn=1;return sn.startTime>=ln-dn&&endTime(sn)<=addDuration(cn,dn)}function startResourceCollection(sn,ln,cn,dn){sn.subscribe(6,function(pn){sn.notify(10,processRequest(pn,ln,cn,dn))}),sn.subscribe(0,function(pn){for(var vn=0,Sn=pn;vn<Sn.length;vn++){var En=Sn[vn];En.entryType==="resource"&&!isRequestKind(En)&&sn.notify(10,processResourceEntry(En,ln,cn,dn))}})}function processRequest(sn,ln,cn,dn){var pn,vn=sn.type==="xhr"?"xhr":"fetch",Sn=matchRequestTiming(sn),En=Sn?relativeToClocks(Sn.startTime):sn.startClocks,Cn=Sn?computePerformanceEntryMetrics(Sn):void 0,Pn=computeRequestTracingInfo(sn,ln),Rn=computeIndexingInfo(cn,En),Ln=toServerDuration(sn.duration),Fn=computePageStateInfo(dn,En,(pn=Sn==null?void 0:Sn.duration)!==null&&pn!==void 0?pn:sn.duration),Gn=combine$1({date:En.timeStamp,resource:{id:generateUUID(),type:vn,duration:Ln,method:sn.method,status_code:sn.status,url:sn.url},type:"resource"},Pn,Cn,Rn,Fn);return{startTime:En.relative,rawRumEvent:Gn,domainContext:{performanceEntry:Sn&&Sn,xhr:sn.xhr,response:sn.response,requestInput:sn.input,requestInit:sn.init,error:sn.error}}}function processResourceEntry(sn,ln,cn,dn){var pn=computeResourceKind(sn),vn=computePerformanceEntryMetrics(sn),Sn=relativeToClocks(sn.startTime),En=computeEntryTracingInfo(sn,ln),Cn=computeIndexingInfo(cn,Sn),Pn=computePageStateInfo(dn,Sn,sn.duration),Rn=combine$1({date:Sn.timeStamp,resource:{id:generateUUID(),type:pn,url:sn.name},type:"resource"},En,vn,Cn,Pn);return{startTime:Sn.relative,rawRumEvent:Rn,domainContext:{performanceEntry:sn}}}function computePerformanceEntryMetrics(sn){return{resource:assign$2({duration:computePerformanceResourceDuration(sn),size:computeSize(sn)},computePerformanceResourceDetails(sn))}}function computeRequestTracingInfo(sn,ln){var cn=sn.traceSampled&&sn.traceId&&sn.spanId;if(cn)return{_dd:{span_id:sn.spanId.toDecimalString(),trace_id:sn.traceId.toDecimalString(),rule_psr:getRulePsr(ln)}}}function computeEntryTracingInfo(sn,ln){var cn=sn.traceId;if(cn)return{_dd:{trace_id:sn.traceId,rule_psr:getRulePsr(ln)}}}function toPerformanceEntryRepresentation(sn){return sn}function getRulePsr(sn){return isNumber(sn.traceSampleRate)?sn.traceSampleRate/100:void 0}function computeIndexingInfo(sn,ln){var cn=sn.findTrackedSession(ln.relative);return{_dd:{discarded:!cn||!cn.resourceAllowed}}}function computePageStateInfo(sn,ln,cn){if(isExperimentalFeatureEnabled(ExperimentalFeature.RESOURCE_PAGE_STATES))return{_dd:{page_states:sn.findAll(ln.relative,cn),page_was_discarded:String(document.wasDiscarded)}}}var trackFirstHiddenSingleton,stopListeners;function trackFirstHidden(sn){return sn===void 0&&(sn=window),trackFirstHiddenSingleton||(document.visibilityState==="hidden"?trackFirstHiddenSingleton={timeStamp:0}:(trackFirstHiddenSingleton={timeStamp:1/0},stopListeners=addEventListeners(sn,["pagehide","visibilitychange"],function(ln){(ln.type==="pagehide"||document.visibilityState==="hidden")&&(trackFirstHiddenSingleton.timeStamp=ln.timeStamp,stopListeners())},{capture:!0}).stop)),trackFirstHiddenSingleton}var TIMING_MAXIMUM_DELAY=10*ONE_MINUTE,KEEP_TRACKING_TIMINGS_AFTER_VIEW_DELAY=5*ONE_MINUTE;function trackInitialViewTimings(sn,ln,cn){var dn={};function pn(Rn){assign$2(dn,Rn),cn()}var vn=trackNavigationTimings(sn,function(Rn){ln(Rn.loadEvent),pn(Rn)}).stop,Sn=trackFirstContentfulPaintTiming(sn,function(Rn){return pn({firstContentfulPaint:Rn})}).stop,En=trackLargestContentfulPaintTiming(sn,window,function(Rn){pn({largestContentfulPaint:Rn})}).stop,Cn=trackFirstInputTimings(sn,function(Rn){var Ln=Rn.firstInputDelay,Fn=Rn.firstInputTime;pn({firstInputDelay:Ln,firstInputTime:Fn})}).stop;function Pn(){vn(),Sn(),En(),Cn()}return{stop:Pn,timings:dn,scheduleStop:function(){setTimeout$1(Pn,KEEP_TRACKING_TIMINGS_AFTER_VIEW_DELAY)}}}function trackNavigationTimings(sn,ln){var cn=sn.subscribe(0,function(dn){for(var pn=0,vn=dn;pn<vn.length;pn++){var Sn=vn[pn];Sn.entryType==="navigation"&&ln({domComplete:Sn.domComplete,domContentLoaded:Sn.domContentLoadedEventEnd,domInteractive:Sn.domInteractive,loadEvent:Sn.loadEventEnd,firstByte:Sn.responseStart>=0&&Sn.responseStart<=relativeNow()?Sn.responseStart:void 0})}}).unsubscribe;return{stop:cn}}function trackFirstContentfulPaintTiming(sn,ln){var cn=trackFirstHidden(),dn=sn.subscribe(0,function(pn){var vn=find$2(pn,function(Sn){return Sn.entryType==="paint"&&Sn.name==="first-contentful-paint"&&Sn.startTime<cn.timeStamp&&Sn.startTime<TIMING_MAXIMUM_DELAY});vn&&ln(vn.startTime)}).unsubscribe;return{stop:dn}}function trackLargestContentfulPaintTiming(sn,ln,cn){var dn=trackFirstHidden(),pn=1/0,vn=addEventListeners(ln,["pointerdown","keydown"],function(En){pn=En.timeStamp},{capture:!0,once:!0}).stop,Sn=sn.subscribe(0,function(En){var Cn=findLast(En,function(Pn){return Pn.entryType==="largest-contentful-paint"&&Pn.startTime<pn&&Pn.startTime<dn.timeStamp&&Pn.startTime<TIMING_MAXIMUM_DELAY});Cn&&cn(Cn.startTime)}).unsubscribe;return{stop:function(){vn(),Sn()}}}function trackFirstInputTimings(sn,ln){var cn=trackFirstHidden(),dn=sn.subscribe(0,function(pn){var vn=find$2(pn,function(En){return En.entryType==="first-input"&&En.startTime<cn.timeStamp});if(vn){var Sn=elapsed(vn.startTime,vn.processingStart);ln({firstInputDelay:Sn>=0?Sn:0,firstInputTime:vn.startTime})}}).unsubscribe;return{stop:dn}}function trackViewMetrics(sn,ln,cn,dn,pn,vn){var Sn={},En=trackLoadingTime(sn,ln,cn,pn,vn,function(Ln){Sn.loadingTime=Ln,dn()}),Cn=En.stop,Pn=En.setLoadEvent,Rn;return isLayoutShiftSupported()?(Sn.cumulativeLayoutShift=0,Rn=trackCumulativeLayoutShift(sn,function(Ln){Sn.cumulativeLayoutShift=Ln,dn()}).stop):Rn=noop$7,{stop:function(){Cn(),Rn()},setLoadEvent:Pn,viewMetrics:Sn}}function trackLoadingTime(sn,ln,cn,dn,pn,vn){var Sn=dn==="initial_load",En=!0,Cn=[];function Pn(){!En&&!Sn&&Cn.length>0&&vn(Math.max.apply(Math,Cn))}var Rn=waitPageActivityEnd(sn,ln,cn,function(Ln){En&&(En=!1,Ln.hadActivity&&Cn.push(elapsed(pn.timeStamp,Ln.end)),Pn())}).stop;return{stop:Rn,setLoadEvent:function(Ln){Sn&&(Sn=!1,Cn.push(Ln),Pn())}}}function trackCumulativeLayoutShift(sn,ln){var cn=0,dn=slidingSessionWindow(),pn=sn.subscribe(0,function(vn){for(var Sn=0,En=vn;Sn<En.length;Sn++){var Cn=En[Sn];Cn.entryType==="layout-shift"&&!Cn.hadRecentInput&&(dn.update(Cn),dn.value()>cn&&(cn=dn.value(),ln(round(cn,4))))}}).unsubscribe;return{stop:pn}}function slidingSessionWindow(){var sn=0,ln,cn;return{update:function(dn){var pn=ln===void 0||dn.startTime-cn>=ONE_SECOND||dn.startTime-ln>=5*ONE_SECOND;pn?(ln=cn=dn.startTime,sn=dn.value):(sn+=dn.value,cn=dn.startTime)},value:function(){return sn}}}function isLayoutShiftSupported(){return supportPerformanceTimingEvent("layout-shift")}var KEEP_TRACKING_EVENT_COUNTS_AFTER_VIEW_DELAY=5*ONE_MINUTE;function trackViewEventCounts(sn,ln,cn){var dn=trackEventCounts({lifeCycle:sn,isChildEvent:function(Sn){return Sn.view.id===ln},onChange:cn}),pn=dn.stop,vn=dn.eventCounts;return{scheduleStop:function(){setTimeout$1(pn,KEEP_TRACKING_EVENT_COUNTS_AFTER_VIEW_DELAY)},eventCounts:vn}}var THROTTLE_VIEW_UPDATE_PERIOD=3e3,SESSION_KEEP_ALIVE_INTERVAL=5*ONE_MINUTE;function trackViews(sn,ln,cn,dn,pn,vn,Sn){var En=Pn("initial_load",clocksOrigin(),Sn);Rn();var Cn;vn&&(Cn=Ln(pn));function Pn(Fn,Gn,Dn){return newView(ln,cn,dn,sn,Fn,Gn,Dn)}function Rn(){ln.subscribe(8,function(){En=Pn("route_change",void 0,{name:En.name,service:En.service,version:En.version})}),ln.subscribe(7,function(){En.end({sessionIsActive:!1})}),ln.subscribe(9,function(Fn){(Fn.reason===PageExitReason.UNLOADING||Fn.reason===PageExitReason.PAGEHIDE)&&En.end()})}function Ln(Fn){return Fn.subscribe(function(Gn){var Dn=Gn.oldLocation,Kn=Gn.newLocation;areDifferentLocation(Dn,Kn)&&(En.end(),En=Pn("route_change"))})}return{addTiming:function(Fn,Gn){Gn===void 0&&(Gn=timeStampNow()),En.addTiming(Fn,Gn)},startView:function(Fn,Gn){En.end({endClocks:Gn}),En=Pn("route_change",Gn,Fn)},stop:function(){Cn==null||Cn.unsubscribe(),En.end()}}}function newView(sn,ln,cn,dn,pn,vn,Sn){vn===void 0&&(vn=clocksNow());var En=generateUUID(),Cn={},Pn=0,Rn,Ln=shallowClone(dn),Fn=!0,Gn,Dn,Kn;Sn&&(Gn=Sn.name,Dn=Sn.service,Kn=Sn.version),sn.notify(2,{id:En,name:Gn,startClocks:vn,service:Dn,version:Kn});var qn=throttle$1(gs,THROTTLE_VIEW_UPDATE_PERIOD,{leading:!1}),Zn=qn.throttled,Yn=qn.cancel,Jn=trackViewMetrics(sn,ln,cn,Zn,pn,vn),rs=Jn.setLoadEvent,us=Jn.stop,as=Jn.viewMetrics,cs=pn==="initial_load"?trackInitialViewTimings(sn,rs,Zn):{scheduleStop:noop$7,timings:{}},_s=cs.scheduleStop,Es=cs.timings,Qn=trackViewEventCounts(sn,En,Zn),ms=Qn.scheduleStop,$s=Qn.eventCounts,Ms=setInterval$1(gs,SESSION_KEEP_ALIVE_INTERVAL);gs();function gs(){Yn(),Pn+=1;var Ss=Rn===void 0?timeStampNow():Rn.timeStamp;sn.notify(3,assign$2({customTimings:Cn,documentVersion:Pn,id:En,name:Gn,service:Dn,version:Kn,loadingType:pn,location:Ln,startClocks:vn,timings:Es,duration:elapsed(vn.timeStamp,Ss),isActive:Rn===void 0,sessionIsActive:Fn,eventCounts:$s},as))}return{name:Gn,service:Dn,version:Kn,end:function(Ss){var js,bs;Ss===void 0&&(Ss={}),!Rn&&(Rn=(js=Ss.endClocks)!==null&&js!==void 0?js:clocksNow(),Fn=(bs=Ss.sessionIsActive)!==null&&bs!==void 0?bs:!0,sn.notify(4,{endClocks:Rn}),clearInterval$1(Ms),us(),_s(),ms(),gs())},addTiming:function(Ss,js){if(!Rn){var bs=looksLikeRelativeTime(js)?js:elapsed(vn.timeStamp,js);Cn[sanitizeTiming(Ss)]=bs,Zn()}}}}function sanitizeTiming(sn){var ln=sn.replace(/[^a-zA-Z0-9-_.@$]/g,"_");return ln!==sn&&display.warn("Invalid timing name: ".concat(sn,", sanitized to: ").concat(ln)),ln}function areDifferentLocation(sn,ln){return sn.pathname!==ln.pathname||!isHashAnAnchor(ln.hash)&&getPathFromHash(ln.hash)!==getPathFromHash(sn.hash)}function isHashAnAnchor(sn){var ln=sn.substr(1);return!!document.getElementById(ln)}function getPathFromHash(sn){var ln=sn.indexOf("?");return ln<0?sn:sn.slice(0,ln)}function startViewCollection(sn,ln,cn,dn,pn,vn,Sn,En,Cn){return sn.subscribe(3,function(Pn){return sn.notify(10,processViewUpdate(Pn,vn,Sn,En))}),trackViews(cn,sn,dn,ln,pn,!ln.trackViewsManually,Cn)}function processViewUpdate(sn,ln,cn,dn){var pn=dn.getReplayStats(sn.id),vn=cn.findFeatureFlagEvaluations(sn.startClocks.relative),Sn={_dd:{document_version:sn.documentVersion,replay_stats:pn},date:sn.startClocks.timeStamp,type:"view",view:{action:{count:sn.eventCounts.actionCount},frustration:{count:sn.eventCounts.frustrationCount},cumulative_layout_shift:sn.cumulativeLayoutShift,first_byte:toServerDuration(sn.timings.firstByte),dom_complete:toServerDuration(sn.timings.domComplete),dom_content_loaded:toServerDuration(sn.timings.domContentLoaded),dom_interactive:toServerDuration(sn.timings.domInteractive),error:{count:sn.eventCounts.errorCount},first_contentful_paint:toServerDuration(sn.timings.firstContentfulPaint),first_input_delay:toServerDuration(sn.timings.firstInputDelay),first_input_time:toServerDuration(sn.timings.firstInputTime),is_active:sn.isActive,name:sn.name,largest_contentful_paint:toServerDuration(sn.timings.largestContentfulPaint),load_event:toServerDuration(sn.timings.loadEvent),loading_time:discardNegativeDuration(toServerDuration(sn.loadingTime)),loading_type:sn.loadingType,long_task:{count:sn.eventCounts.longTaskCount},resource:{count:sn.eventCounts.resourceCount},time_spent:toServerDuration(sn.duration),in_foreground_periods:ln.selectInForegroundPeriodsFor(sn.startClocks.relative,sn.duration)},feature_flags:vn&&!isEmptyObject(vn)?vn:void 0,session:{has_replay:pn?!0:void 0,is_active:sn.sessionIsActive?void 0:!1}};return isEmptyObject(sn.customTimings)||(Sn.view.custom_timings=mapValues(sn.customTimings,toServerDuration)),{rawRumEvent:Sn,startTime:sn.startClocks.relative,domainContext:{location:sn.location}}}function discardNegativeDuration(sn){return isNumber(sn)&&sn<0?void 0:sn}var RUM_SESSION_KEY="rum";function startRumSessionManager(sn,ln){var cn=startSessionManager(sn.cookieOptions,RUM_SESSION_KEY,function(dn){return computeSessionState$1(sn,dn)});return cn.expireObservable.subscribe(function(){ln.notify(7)}),cn.renewObservable.subscribe(function(){ln.notify(8)}),{findTrackedSession:function(dn){var pn=cn.findActiveSession(dn);if(!(!pn||!isTypeTracked(pn.trackingType))){var vn=pn.trackingType==="1"?2:1;return{id:pn.id,plan:vn,sessionReplayAllowed:vn===2,longTaskAllowed:sn.trackLongTasks!==void 0?sn.trackLongTasks:sn.oldPlansBehavior&&vn===2,resourceAllowed:sn.trackResources!==void 0?sn.trackResources:sn.oldPlansBehavior&&vn===2}}},expire:cn.expire,expireObservable:cn.expireObservable}}function startRumSessionManagerStub(){var sn={id:"00000000-aaaa-0000-aaaa-000000000000",plan:1,sessionReplayAllowed:!1,longTaskAllowed:!0,resourceAllowed:!0};return{findTrackedSession:function(){return sn},expire:noop$7,expireObservable:new Observable}}function computeSessionState$1(sn,ln){var cn;return hasValidRumSession(ln)?cn=ln:performDraw(sn.sessionSampleRate)?performDraw(sn.sessionReplaySampleRate)?cn="1":cn="2":cn="0",{trackingType:cn,isTracked:isTypeTracked(cn)}}function hasValidRumSession(sn){return sn==="0"||sn==="1"||sn==="2"}function isTypeTracked(sn){return sn==="2"||sn==="1"}function startRumBatch(sn,ln,cn,dn,pn,vn){var Sn=makeRumBatch(sn,dn,pn,vn);return ln.subscribe(11,function(En){En.type==="view"?Sn.upsert(En,En.view.id):Sn.add(En)}),cn.subscribe(function(En){return Sn.add(En,isTelemetryReplicationAllowed(sn))}),Sn}function makeRumBatch(sn,ln,cn,dn){var pn=Pn(sn.rumEndpointBuilder),vn=pn.batch,Sn=pn.flushController,En,Cn=sn.replica;Cn!==void 0&&(En=Pn(Cn.rumEndpointBuilder).batch);function Pn(Ln){var Fn=createFlushController({messagesLimit:sn.batchMessagesLimit,bytesLimit:sn.batchBytesLimit,durationLimit:sn.flushTimeout,pageExitObservable:cn,sessionExpireObservable:dn}),Gn=new Batch(createHttpRequest(Ln,sn.batchBytesLimit,ln),Fn,sn.messageBytesLimit);return{batch:Gn,flushController:Fn}}function Rn(Ln){return combine$1(Ln,{application:{id:Cn.applicationId}})}return{flushObservable:Sn.flushObservable,add:function(Ln,Fn){Fn===void 0&&(Fn=!0),vn.add(Ln),En&&Fn&&En.add(Rn(Ln))},upsert:function(Ln,Fn){vn.upsert(Ln,Fn),En&&En.upsert(Rn(Ln),Fn)}}}function startRumEventBridge(sn){var ln=getEventBridge();sn.subscribe(11,function(cn){ln.send("rum",cn)})}var URL_CONTEXT_TIME_OUT_DELAY=SESSION_TIME_OUT_DELAY;function startUrlContexts(sn,ln,cn){var dn=new ValueHistory(URL_CONTEXT_TIME_OUT_DELAY),pn;sn.subscribe(4,function(En){var Cn=En.endClocks;dn.closeActive(Cn.relative)}),sn.subscribe(2,function(En){var Cn=En.startClocks,Pn=cn.href;dn.add(Sn({url:Pn,referrer:pn||document.referrer}),Cn.relative),pn=Pn});var vn=ln.subscribe(function(En){var Cn=En.newLocation,Pn=dn.find();if(Pn){var Rn=relativeNow();dn.closeActive(Rn),dn.add(Sn({url:Cn.href,referrer:Pn.referrer}),Rn)}});function Sn(En){var Cn=En.url,Pn=En.referrer;return{url:Cn,referrer:Pn}}return{findUrl:function(En){return dn.find(En)},stop:function(){vn.unsubscribe(),dn.stop()}}}function createLocationChangeObservable(sn){var ln=shallowClone(sn),cn=new Observable(function(){var pn=trackHistory(dn).stop,vn=trackHash(dn).stop;return function(){pn(),vn()}});function dn(){if(ln.href!==sn.href){var pn=shallowClone(sn);cn.notify({newLocation:pn,oldLocation:ln}),ln=pn}}return cn}function trackHistory(sn){var ln=instrumentMethodAndCallOriginal(history,"pushState",{after:sn}).stop,cn=instrumentMethodAndCallOriginal(history,"replaceState",{after:sn}).stop,dn=addEventListener(window,"popstate",sn).stop;return{stop:function(){ln(),cn(),dn()}}}function trackHash(sn){return addEventListener(window,"hashchange",sn)}var FEATURE_FLAG_CONTEXT_TIME_OUT_DELAY=SESSION_TIME_OUT_DELAY,BYTES_COMPUTATION_THROTTLING_DELAY=200;function startFeatureFlagContexts(sn,ln){if(ln===void 0&&(ln=computeBytesCount),!isExperimentalFeatureEnabled(ExperimentalFeature.FEATURE_FLAGS))return{findFeatureFlagEvaluations:function(){},getFeatureFlagBytesCount:function(){return 0},addFeatureFlagEvaluation:noop$7,stop:noop$7};var cn=new ValueHistory(FEATURE_FLAG_CONTEXT_TIME_OUT_DELAY),dn=0,pn=!1;sn.subscribe(4,function(Cn){var Pn=Cn.endClocks;cn.closeActive(Pn.relative)}),sn.subscribe(2,function(Cn){var Pn=Cn.startClocks;cn.add({},Pn.relative),dn=0});var vn=throttle$1(function(Cn){dn=ln(jsonStringify(Cn)),pn||(pn=warnIfCustomerDataLimitReached(dn,"feature flag evaluation"))},BYTES_COMPUTATION_THROTTLING_DELAY),Sn=vn.throttled,En=vn.cancel;return{findFeatureFlagEvaluations:function(Cn){return cn.find(Cn)},getFeatureFlagBytesCount:function(){var Cn=cn.find();return Cn?dn:0},addFeatureFlagEvaluation:function(Cn,Pn){var Rn=cn.find();Rn&&(Rn[Cn]=Pn,Sn(Rn))},stop:En}}var MEASURES_PERIOD_DURATION=10*ONE_SECOND,currentPeriodMeasures,currentBatchMeasures,batchHasRumEvent;function startCustomerDataTelemetry(sn,ln,cn,dn,pn,vn,Sn){var En=ln.enabled&&performDraw(sn.customerDataTelemetrySampleRate);En&&(initCurrentPeriodMeasures(),initCurrentBatchMeasures(),cn.subscribe(11,function(Cn){batchHasRumEvent=!0,updateMeasure(currentBatchMeasures.globalContextBytes,isEmptyObject(dn.get())?0:dn.getBytesCount()),updateMeasure(currentBatchMeasures.userContextBytes,isEmptyObject(pn.get())?0:pn.getBytesCount());var Pn=vn.findFeatureFlagEvaluations(),Rn=includes(["view","error"],Cn.type)&&Pn&&!isEmptyObject(Pn);updateMeasure(currentBatchMeasures.featureFlagBytes,Rn?vn.getFeatureFlagBytesCount():0)}),Sn.subscribe(function(Cn){var Pn=Cn.bytesCount,Rn=Cn.messagesCount;batchHasRumEvent&&(currentPeriodMeasures.batchCount+=1,updateMeasure(currentPeriodMeasures.batchBytesCount,Pn),updateMeasure(currentPeriodMeasures.batchMessagesCount,Rn),mergeMeasure(currentPeriodMeasures.globalContextBytes,currentBatchMeasures.globalContextBytes),mergeMeasure(currentPeriodMeasures.userContextBytes,currentBatchMeasures.userContextBytes),mergeMeasure(currentPeriodMeasures.featureFlagBytes,currentBatchMeasures.featureFlagBytes),initCurrentBatchMeasures())}),setInterval$1(sendCurrentPeriodMeasures,MEASURES_PERIOD_DURATION))}function sendCurrentPeriodMeasures(){currentPeriodMeasures.batchCount!==0&&(addTelemetryDebug("Customer data measures",currentPeriodMeasures),initCurrentPeriodMeasures())}function createMeasure(){return{min:1/0,max:0,sum:0}}function updateMeasure(sn,ln){sn.sum+=ln,sn.min=Math.min(sn.min,ln),sn.max=Math.max(sn.max,ln)}function mergeMeasure(sn,ln){sn.sum+=ln.sum,sn.min=Math.min(sn.min,ln.min),sn.max=Math.max(sn.max,ln.max)}function initCurrentPeriodMeasures(){currentPeriodMeasures={batchCount:0,batchBytesCount:createMeasure(),batchMessagesCount:createMeasure(),globalContextBytes:createMeasure(),userContextBytes:createMeasure(),featureFlagBytes:createMeasure()}}function initCurrentBatchMeasures(){batchHasRumEvent=!1,currentBatchMeasures={globalContextBytes:createMeasure(),userContextBytes:createMeasure(),featureFlagBytes:createMeasure()}}var MAX_PAGE_STATE_ENTRIES=500,pageStateEntries=[],currentPageState;function startPageStateHistory(){addPageState(getPageState());var sn=addEventListeners(window,["pageshow","focus","blur","visibilitychange","resume","freeze","pagehide"],function(ln){ln.isTrusted&&(ln.type==="freeze"?addPageState("frozen"):ln.type==="pagehide"?addPageState(ln.persisted?"frozen":"terminated"):addPageState(getPageState()))},{capture:!0}).stop;return{findAll:function(ln,cn){for(var dn=[],pn=addDuration(ln,cn),vn=pageStateEntries.length-1;vn>=0;vn--){var Sn=pageStateEntries[vn].startTime;if(!(Sn>=pn)&&(dn.unshift(pageStateEntries[vn]),Sn<ln))break}return dn.length?dn:void 0},stop:sn}}function getPageState(){return document.visibilityState==="hidden"?"hidden":document.hasFocus()?"active":"passive"}function addPageState(sn,ln){ln===void 0&&(ln=MAX_PAGE_STATE_ENTRIES),sn!==currentPageState&&(currentPageState=sn,pageStateEntries.length===ln&&pageStateEntries.shift(),pageStateEntries.push({state:currentPageState,startTime:relativeNow()}))}function startRum(sn,ln,cn,dn,pn,vn){var Sn=new LifeCycle$1;Sn.subscribe(11,function(ms){return sendToExtension("rum",ms)});var En=startRumTelemetry(ln);En.setContextProvider(function(){var ms,$s;return{application:{id:ln.applicationId},session:{id:(ms=Ln.findTrackedSession())===null||ms===void 0?void 0:ms.id},view:{id:($s=qn.findView())===null||$s===void 0?void 0:$s.id},action:{id:Jn.findActionId()}}});var Cn=function(ms){Sn.notify(12,{error:ms})},Pn=startFeatureFlagContexts(Sn),Rn=createPageExitObservable();Rn.subscribe(function(ms){Sn.notify(9,ms)});var Ln=canUseEventBridge()?startRumSessionManagerStub():startRumSessionManager(ln,Sn);if(canUseEventBridge())startRumEventBridge(Sn);else{var Fn=startRumBatch(ln,Sn,En.observable,Cn,Rn,Ln.expireObservable);startCustomerDataTelemetry(ln,En,Sn,dn,pn,Pn,Fn.flushObservable)}var Gn=createDOMMutationObservable(),Dn=createLocationChangeObservable(location),Kn=startRumEventCollection(Sn,ln,location,Ln,Dn,Gn,function(){return buildCommonContext(dn,pn,cn)},Cn),qn=Kn.viewContexts,Zn=Kn.foregroundContexts,Yn=Kn.urlContexts,Jn=Kn.actionContexts,rs=Kn.addAction;addTelemetryConfiguration(serializeRumConfiguration(sn)),startLongTaskCollection(Sn,Ln);var us=startPageStateHistory();startResourceCollection(Sn,ln,Ln,us);var as=startViewCollection(Sn,ln,location,Gn,Dn,Zn,Pn,cn,vn),cs=as.addTiming,_s=as.startView,Es=startErrorCollection(Sn,Zn,Pn).addError;startRequestCollection(Sn,ln,Ln),startPerformanceCollection(Sn,ln);var Qn=startInternalContext$1(ln.applicationId,Ln,qn,Jn,Yn);return{addAction:rs,addError:Es,addTiming:cs,addFeatureFlagEvaluation:Pn.addFeatureFlagEvaluation,startView:_s,lifeCycle:Sn,viewContexts:qn,session:Ln,stopSession:function(){return Ln.expire()},getInternalContext:Qn.get}}function startRumTelemetry(sn){var ln=startTelemetry("browser-rum-sdk",sn);if(canUseEventBridge()){var cn=getEventBridge();ln.observable.subscribe(function(dn){return cn.send("internal_telemetry",dn)})}return ln}function startRumEventCollection(sn,ln,cn,dn,pn,vn,Sn,En){var Cn=startViewContexts(sn),Pn=startUrlContexts(sn,pn,cn),Rn=startForegroundContexts(),Ln=startActionCollection(sn,vn,ln,Rn),Fn=Ln.addAction,Gn=Ln.actionContexts;return startRumAssembly(ln,sn,dn,Cn,Pn,Gn,Sn,En),{viewContexts:Cn,foregroundContexts:Rn,urlContexts:Pn,addAction:Fn,actionContexts:Gn,stop:function(){Cn.stop(),Rn.stop()}}}function getSessionReplayUrl(sn,ln){var cn=ln.session,dn=ln.viewContext,pn=ln.errorType,vn=cn?cn.id:"no-session-id",Sn=[];pn!==void 0&&Sn.push("error-type=".concat(pn)),dn&&(Sn.push("seed=".concat(dn.id)),Sn.push("from=".concat(dn.startClocks.timeStamp)));var En=getDatadogSiteUrl(sn),Cn="/rum/replay/sessions/".concat(vn);return"".concat(En).concat(Cn,"?").concat(Sn.join("&"))}function getDatadogSiteUrl(sn){var ln=sn.site,cn=sn.subdomain||getSiteDefaultSubdomain(sn);return"https://".concat(cn?"".concat(cn,"."):"").concat(ln)}function getSiteDefaultSubdomain(sn){switch(sn.site){case INTAKE_SITE_US1:case INTAKE_SITE_EU1:return"app";case INTAKE_SITE_STAGING:return"dd";default:return}}var RecordType={FullSnapshot:2,IncrementalSnapshot:3,Meta:4,Focus:6,ViewEnd:7,VisualViewport:8,FrustrationRecord:9},NodeType={Document:0,DocumentType:1,Element:2,Text:3,CDATA:4,DocumentFragment:11},IncrementalSource={Mutation:0,MouseMove:1,MouseInteraction:2,Scroll:3,ViewportResize:4,Input:5,TouchMove:6,MediaInteraction:7,StyleSheetRule:8},MouseInteractionType={MouseUp:0,MouseDown:1,Click:2,ContextMenu:3,DblClick:4,Focus:5,Blur:6,TouchStart:7,TouchEnd:9},MediaInteractionType={Play:0,Pause:1};function assembleIncrementalSnapshot(sn,ln){return{data:assign$2({source:sn},ln),type:RecordType.IncrementalSnapshot,timestamp:timeStampNow()}}var NodePrivacyLevel={IGNORE:"ignore",HIDDEN:"hidden",ALLOW:DefaultPrivacyLevel.ALLOW,MASK:DefaultPrivacyLevel.MASK,MASK_USER_INPUT:DefaultPrivacyLevel.MASK_USER_INPUT},PRIVACY_ATTR_NAME="data-dd-privacy",PRIVACY_ATTR_VALUE_ALLOW="allow",PRIVACY_ATTR_VALUE_MASK="mask",PRIVACY_ATTR_VALUE_MASK_USER_INPUT="mask-user-input",PRIVACY_ATTR_VALUE_HIDDEN="hidden",PRIVACY_CLASS_ALLOW="dd-privacy-allow",PRIVACY_CLASS_MASK="dd-privacy-mask",PRIVACY_CLASS_MASK_USER_INPUT="dd-privacy-mask-user-input",PRIVACY_CLASS_HIDDEN="dd-privacy-hidden",CENSORED_STRING_MARK="***",CENSORED_IMG_MARK="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",FORM_PRIVATE_TAG_NAMES={INPUT:!0,OUTPUT:!0,TEXTAREA:!0,SELECT:!0,OPTION:!0,DATALIST:!0,OPTGROUP:!0},MAX_ATTRIBUTE_VALUE_CHAR_LENGTH=1e5,TEXT_MASKING_CHAR="x";function getNodePrivacyLevel(sn,ln){var cn=getParentNode(sn),dn=cn?getNodePrivacyLevel(cn,ln):ln,pn=getNodeSelfPrivacyLevel(sn);return reducePrivacyLevel(pn,dn)}function reducePrivacyLevel(sn,ln){switch(ln){case NodePrivacyLevel.HIDDEN:case NodePrivacyLevel.IGNORE:return ln}switch(sn){case NodePrivacyLevel.ALLOW:case NodePrivacyLevel.MASK:case NodePrivacyLevel.MASK_USER_INPUT:case NodePrivacyLevel.HIDDEN:case NodePrivacyLevel.IGNORE:return sn;default:return ln}}function getNodeSelfPrivacyLevel(sn){if(isElementNode(sn)){var ln=sn.getAttribute(PRIVACY_ATTR_NAME);if(sn.tagName==="BASE")return NodePrivacyLevel.ALLOW;if(sn.tagName==="INPUT"){var cn=sn;if(cn.type==="password"||cn.type==="email"||cn.type==="tel"||cn.type==="hidden")return NodePrivacyLevel.MASK;var dn=cn.getAttribute("autocomplete");if(dn&&dn.indexOf("cc-")===0)return NodePrivacyLevel.MASK}if(ln===PRIVACY_ATTR_VALUE_HIDDEN||sn.classList.contains(PRIVACY_CLASS_HIDDEN))return NodePrivacyLevel.HIDDEN;if(ln===PRIVACY_ATTR_VALUE_MASK||sn.classList.contains(PRIVACY_CLASS_MASK))return NodePrivacyLevel.MASK;if(ln===PRIVACY_ATTR_VALUE_MASK_USER_INPUT||sn.classList.contains(PRIVACY_CLASS_MASK_USER_INPUT))return NodePrivacyLevel.MASK_USER_INPUT;if(ln===PRIVACY_ATTR_VALUE_ALLOW||sn.classList.contains(PRIVACY_CLASS_ALLOW))return NodePrivacyLevel.ALLOW;if(shouldIgnoreElement(sn))return NodePrivacyLevel.IGNORE}}function shouldMaskNode(sn,ln){switch(ln){case NodePrivacyLevel.MASK:case NodePrivacyLevel.HIDDEN:case NodePrivacyLevel.IGNORE:return!0;case NodePrivacyLevel.MASK_USER_INPUT:return isTextNode(sn)?isFormElement(sn.parentNode):isFormElement(sn);default:return!1}}function isFormElement(sn){if(!sn||sn.nodeType!==sn.ELEMENT_NODE)return!1;var ln=sn;if(ln.tagName==="INPUT")switch(ln.type){case"button":case"color":case"reset":case"submit":return!1}return!!FORM_PRIVATE_TAG_NAMES[ln.tagName]}var censorText=function(sn){return sn.replace(/\S/g,TEXT_MASKING_CHAR)};function getTextContent(sn,ln,cn){var dn,pn=(dn=sn.parentElement)===null||dn===void 0?void 0:dn.tagName,vn=sn.textContent||"";if(!(ln&&!vn.trim())){var Sn=cn,En=pn==="STYLE"?!0:void 0,Cn=pn==="SCRIPT";if(Cn)vn=CENSORED_STRING_MARK;else if(Sn===NodePrivacyLevel.HIDDEN)vn=CENSORED_STRING_MARK;else if(shouldMaskNode(sn,Sn)&&!En)if(pn==="DATALIST"||pn==="SELECT"||pn==="OPTGROUP"){if(!vn.trim())return}else pn==="OPTION"?vn=CENSORED_STRING_MARK:vn=censorText(vn);return vn}}function shouldIgnoreElement(sn){if(sn.nodeName==="SCRIPT")return!0;if(sn.nodeName==="LINK"){var ln=pn("rel");return/preload|prefetch/i.test(ln)&&pn("as")==="script"||ln==="shortcut icon"||ln==="icon"}if(sn.nodeName==="META"){var cn=pn("name"),ln=pn("rel"),dn=pn("property");return/^msapplication-tile(image|color)$/.test(cn)||cn==="application-name"||ln==="icon"||ln==="apple-touch-icon"||ln==="shortcut icon"||cn==="keywords"||cn==="description"||/^(og|twitter|fb):/.test(dn)||/^(og|twitter):/.test(cn)||cn==="pinterest"||cn==="robots"||cn==="googlebot"||cn==="bingbot"||sn.hasAttribute("http-equiv")||cn==="author"||cn==="generator"||cn==="framework"||cn==="publisher"||cn==="progid"||/^article:/.test(dn)||/^product:/.test(dn)||cn==="google-site-verification"||cn==="yandex-verification"||cn==="csrf-token"||cn==="p:domain_verify"||cn==="verify-v1"||cn==="verification"||cn==="shopify-checkout-api-token"}function pn(vn){return(sn.getAttribute(vn)||"").toLowerCase()}return!1}var serializedNodeIds=new WeakMap;function hasSerializedNode(sn){return serializedNodeIds.has(sn)}function nodeAndAncestorsHaveSerializedNode(sn){for(var ln=sn;ln;){if(!hasSerializedNode(ln)&&!isNodeShadowRoot(ln))return!1;ln=getParentNode(ln)}return!0}function getSerializedNodeId(sn){return serializedNodeIds.get(sn)}function setSerializedNodeId(sn,ln){serializedNodeIds.set(sn,ln)}function getElementInputValue(sn,ln){var cn=sn.tagName,dn=sn.value;if(shouldMaskNode(sn,ln)){var pn=sn.type;return cn==="INPUT"&&(pn==="button"||pn==="submit"||pn==="reset")?dn:!dn||cn==="OPTION"?void 0:CENSORED_STRING_MARK}if(cn==="OPTION"||cn==="SELECT")return sn.value;if(!(cn!=="INPUT"&&cn!=="TEXTAREA"))return dn}var URL_IN_CSS_REF=/url\((?:(')([^']*)'|(")([^"]*)"|([^)]*))\)/gm,ABSOLUTE_URL=/^[A-Za-z]+:|^\/\//,DATA_URI=/^data:.*,/i;function switchToAbsoluteUrl(sn,ln){return sn.replace(URL_IN_CSS_REF,function(cn,dn,pn,vn,Sn,En){var Cn=pn||Sn||En;if(!ln||!Cn||ABSOLUTE_URL.test(Cn)||DATA_URI.test(Cn))return cn;var Pn=dn||vn||"";return"url(".concat(Pn).concat(makeUrlAbsolute(Cn,ln)).concat(Pn,")")})}function makeUrlAbsolute(sn,ln){try{return buildUrl(sn,ln).href}catch{return sn}}var TAG_NAME_REGEX=/[^a-z1-6-_]/;function getValidTagName(sn){var ln=sn.toLowerCase().trim();return TAG_NAME_REGEX.test(ln)?"div":ln}function serializeStyleSheets(sn){if(!(sn===void 0||sn.length===0))return sn.map(function(ln){var cn=ln.cssRules||ln.rules,dn=Array.from(cn,function(vn){return vn.cssText}),pn={cssRules:dn,disabled:ln.disabled||void 0,media:ln.media.length>0?Array.from(ln.media):void 0};return pn})}function serializeAttribute(sn,ln,cn,dn){if(ln===NodePrivacyLevel.HIDDEN)return null;var pn=sn.getAttribute(cn);if(ln===NodePrivacyLevel.MASK&&cn!==PRIVACY_ATTR_NAME&&!STABLE_ATTRIBUTES.includes(cn)&&cn!==dn.actionNameAttribute){var vn=sn.tagName;switch(cn){case"title":case"alt":case"placeholder":return CENSORED_STRING_MARK}if((vn==="IMG"||vn==="SOURCE")&&(cn==="src"||cn==="srcset"))return CENSORED_IMG_MARK;if(vn==="A"&&cn==="href"||pn&&startsWith(cn,"data-"))return CENSORED_STRING_MARK}return!pn||typeof pn!="string"?pn:pn.length>MAX_ATTRIBUTE_VALUE_CHAR_LENGTH&&pn.slice(0,5)==="data:"?"data:truncated":pn}function serializeAttributes(sn,ln,cn){var dn;if(ln===NodePrivacyLevel.HIDDEN)return{};for(var pn={},vn=getValidTagName(sn.tagName),Sn=sn.ownerDocument,En=0;En<sn.attributes.length;En+=1){var Cn=sn.attributes.item(En),Pn=Cn.name,Rn=serializeAttribute(sn,ln,Pn,cn.configuration);Rn!==null&&(pn[Pn]=Rn)}if(sn.value&&(vn==="textarea"||vn==="select"||vn==="option"||vn==="input")){var Ln=getElementInputValue(sn,ln);Ln!==void 0&&(pn.value=Ln)}if(vn==="option"&&ln===NodePrivacyLevel.ALLOW){var Fn=sn;Fn.selected&&(pn.selected=Fn.selected)}if(vn==="link"){var Gn=Array.from(Sn.styleSheets).find(function(rs){return rs.href===sn.href}),Dn=getCssRulesString(Gn);Dn&&Gn&&(pn._cssText=Dn)}if(vn==="style"&&sn.sheet&&!(sn.innerText||sn.textContent||"").trim().length){var Dn=getCssRulesString(sn.sheet);Dn&&(pn._cssText=Dn)}var Kn=sn;if(vn==="input"&&(Kn.type==="radio"||Kn.type==="checkbox")&&(ln===NodePrivacyLevel.ALLOW?pn.checked=!!Kn.checked:shouldMaskNode(Kn,ln)&&delete pn.checked),vn==="audio"||vn==="video"){var qn=sn;pn.rr_mediaState=qn.paused?"paused":"played"}var Zn,Yn,Jn=cn.serializationContext;switch(Jn.status){case 0:Zn=Math.round(sn.scrollTop),Yn=Math.round(sn.scrollLeft),(Zn||Yn)&&Jn.elementsScrollPositions.set(sn,{scrollTop:Zn,scrollLeft:Yn});break;case 1:Jn.elementsScrollPositions.has(sn)&&(dn=Jn.elementsScrollPositions.get(sn),Zn=dn.scrollTop,Yn=dn.scrollLeft);break}return Yn&&(pn.rr_scrollLeft=Yn),Zn&&(pn.rr_scrollTop=Zn),pn}function getCssRulesString(sn){if(!sn)return null;var ln;try{ln=sn.rules||sn.cssRules}catch{}if(!ln)return null;var cn=Array.from(ln,getCssRuleString).join("");return switchToAbsoluteUrl(cn,sn.href)}function getCssRuleString(sn){return isCSSImportRule(sn)?getCssRulesString(sn.styleSheet)||"":sn.cssText}function isCSSImportRule(sn){return"styleSheet"in sn}function serializeNodeWithId(sn,ln){var cn=serializeNode(sn,ln);if(!cn)return null;var dn=getSerializedNodeId(sn)||generateNextId(),pn=cn;return pn.id=dn,setSerializedNodeId(sn,dn),ln.serializedNodeIds&&ln.serializedNodeIds.add(dn),pn}var _nextId=1;function generateNextId(){return _nextId++}function serializeChildNodes(sn,ln){var cn=[];return sn.childNodes.forEach(function(dn){var pn=serializeNodeWithId(dn,ln);pn&&cn.push(pn)}),cn}function serializeNode(sn,ln){switch(sn.nodeType){case sn.DOCUMENT_NODE:return serializeDocumentNode(sn,ln);case sn.DOCUMENT_FRAGMENT_NODE:return serializeDocumentFragmentNode(sn,ln);case sn.DOCUMENT_TYPE_NODE:return serializeDocumentTypeNode(sn);case sn.ELEMENT_NODE:return serializeElementNode(sn,ln);case sn.TEXT_NODE:return serializeTextNode(sn,ln);case sn.CDATA_SECTION_NODE:return serializeCDataNode()}}function serializeDocumentNode(sn,ln){return{type:NodeType.Document,childNodes:serializeChildNodes(sn,ln),adoptedStyleSheets:serializeStyleSheets(sn.adoptedStyleSheets)}}function serializeDocumentFragmentNode(sn,ln){var cn=[];sn.childNodes.length&&(cn=serializeChildNodes(sn,ln));var dn=isNodeShadowRoot(sn);return dn&&ln.serializationContext.shadowRootsController.addShadowRoot(sn),{type:NodeType.DocumentFragment,childNodes:cn,isShadowRoot:dn,adoptedStyleSheets:dn?serializeStyleSheets(sn.adoptedStyleSheets):void 0}}function serializeDocumentTypeNode(sn){return{type:NodeType.DocumentType,name:sn.name,publicId:sn.publicId,systemId:sn.systemId}}function serializeElementNode(sn,ln){var cn,dn=getValidTagName(sn.tagName),pn=isSVGElement(sn)||void 0,vn=reducePrivacyLevel(getNodeSelfPrivacyLevel(sn),ln.parentNodePrivacyLevel);if(vn===NodePrivacyLevel.HIDDEN){var Sn=sn.getBoundingClientRect(),En=Sn.width,Cn=Sn.height;return{type:NodeType.Element,tagName:dn,attributes:(cn={rr_width:"".concat(En,"px"),rr_height:"".concat(Cn,"px")},cn[PRIVACY_ATTR_NAME]=PRIVACY_ATTR_VALUE_HIDDEN,cn),childNodes:[],isSVG:pn}}if(vn!==NodePrivacyLevel.IGNORE){var Pn=serializeAttributes(sn,vn,ln),Rn=[];if(sn.childNodes.length){var Ln=void 0;ln.parentNodePrivacyLevel===vn&&ln.ignoreWhiteSpace===(dn==="head")?Ln=ln:Ln=assign$2({},ln,{parentNodePrivacyLevel:vn,ignoreWhiteSpace:dn==="head"}),Rn=serializeChildNodes(sn,Ln)}if(isNodeShadowHost(sn)){var Fn=serializeNodeWithId(sn.shadowRoot,ln);Fn!==null&&Rn.push(Fn)}return{type:NodeType.Element,tagName:dn,attributes:Pn,childNodes:Rn,isSVG:pn}}}function isSVGElement(sn){return sn.tagName==="svg"||sn instanceof SVGElement}function serializeTextNode(sn,ln){var cn,dn=(cn=sn.parentElement)===null||cn===void 0?void 0:cn.tagName,pn=getTextContent(sn,ln.ignoreWhiteSpace||!1,ln.parentNodePrivacyLevel);if(pn!==void 0)return{type:NodeType.Text,textContent:pn,isStyle:dn==="STYLE"?!0:void 0}}function serializeCDataNode(){return{type:NodeType.CDATA,textContent:""}}function serializeDocument(sn,ln,cn){return serializeNodeWithId(sn,{serializationContext:cn,parentNodePrivacyLevel:ln.defaultPrivacyLevel,configuration:ln})}function isTouchEvent(sn){return!!sn.changedTouches}function getEventTarget(sn){return sn.composed===!0&&isNodeShadowHost(sn.target)?sn.composedPath()[0]:sn.target}var TOLERANCE=25;function isVisualViewportFactoredIn(sn){return Math.abs(sn.pageTop-sn.offsetTop-window.scrollY)>TOLERANCE||Math.abs(sn.pageLeft-sn.offsetLeft-window.scrollX)>TOLERANCE}var convertMouseEventToLayoutCoordinates=function(sn,ln){var cn=window.visualViewport,dn={layoutViewportX:sn,layoutViewportY:ln,visualViewportX:sn,visualViewportY:ln};if(cn)isVisualViewportFactoredIn(cn)?(dn.layoutViewportX=Math.round(sn+cn.offsetLeft),dn.layoutViewportY=Math.round(ln+cn.offsetTop)):(dn.visualViewportX=Math.round(sn-cn.offsetLeft),dn.visualViewportY=Math.round(ln-cn.offsetTop));else return dn;return dn},getVisualViewport=function(sn){return{scale:sn.scale,offsetLeft:sn.offsetLeft,offsetTop:sn.offsetTop,pageLeft:sn.pageLeft,pageTop:sn.pageTop,height:sn.height,width:sn.width}};function getScrollX(){var sn,ln=window.visualViewport;return ln?sn=ln.pageLeft-ln.offsetLeft:window.scrollX!==void 0?sn=window.scrollX:sn=window.pageXOffset||0,Math.round(sn)}function getScrollY(){var sn,ln=window.visualViewport;return ln?sn=ln.pageTop-ln.offsetTop:window.scrollY!==void 0?sn=window.scrollY:sn=window.pageYOffset||0,Math.round(sn)}var MOUSE_MOVE_OBSERVER_THRESHOLD=50;function initMoveObserver(sn){var ln=throttle$1(function(cn){var dn=getEventTarget(cn);if(hasSerializedNode(dn)){var pn=tryToComputeCoordinates(cn);if(!pn)return;var vn={id:getSerializedNodeId(dn),timeOffset:0,x:pn.x,y:pn.y};sn([vn],isTouchEvent(cn)?IncrementalSource.TouchMove:IncrementalSource.MouseMove)}},MOUSE_MOVE_OBSERVER_THRESHOLD,{trailing:!1}).throttled;return addEventListeners(document,["mousemove","touchmove"],ln,{capture:!0,passive:!0}).stop}function tryToComputeCoordinates(sn){var ln=isTouchEvent(sn)?sn.changedTouches[0]:sn,cn=ln.clientX,dn=ln.clientY;if(window.visualViewport){var pn=convertMouseEventToLayoutCoordinates(cn,dn),vn=pn.visualViewportX,Sn=pn.visualViewportY;cn=vn,dn=Sn}if(!Number.isFinite(cn)||!Number.isFinite(dn)){sn.isTrusted&&addTelemetryDebug("mouse/touch event without x/y");return}return{x:cn,y:dn}}var SCROLL_OBSERVER_THRESHOLD=100;function initScrollObserver(sn,ln,cn){var dn=throttle$1(function(pn){var vn=getEventTarget(pn);if(!(!vn||getNodePrivacyLevel(vn,ln)===NodePrivacyLevel.HIDDEN||!hasSerializedNode(vn))){var Sn=getSerializedNodeId(vn),En=vn===document?{scrollTop:getScrollY(),scrollLeft:getScrollX()}:{scrollTop:Math.round(vn.scrollTop),scrollLeft:Math.round(vn.scrollLeft)};cn.set(vn,En),sn({id:Sn,x:En.scrollLeft,y:En.scrollTop})}},SCROLL_OBSERVER_THRESHOLD).throttled;return addEventListener(document,"scroll",dn,{capture:!0,passive:!0}).stop}var _a$9,eventTypeToMouseInteraction=(_a$9={},_a$9.pointerup=MouseInteractionType.MouseUp,_a$9.mousedown=MouseInteractionType.MouseDown,_a$9.click=MouseInteractionType.Click,_a$9.contextmenu=MouseInteractionType.ContextMenu,_a$9.dblclick=MouseInteractionType.DblClick,_a$9.focus=MouseInteractionType.Focus,_a$9.blur=MouseInteractionType.Blur,_a$9.touchstart=MouseInteractionType.TouchStart,_a$9.touchend=MouseInteractionType.TouchEnd,_a$9);function initMouseInteractionObserver(sn,ln,cn){var dn=function(pn){var vn=getEventTarget(pn);if(!(getNodePrivacyLevel(vn,ln)===NodePrivacyLevel.HIDDEN||!hasSerializedNode(vn))){var Sn=getSerializedNodeId(vn),En=eventTypeToMouseInteraction[pn.type],Cn;if(En!==MouseInteractionType.Blur&&En!==MouseInteractionType.Focus){var Pn=tryToComputeCoordinates(pn);if(!Pn)return;Cn={id:Sn,type:En,x:Pn.x,y:Pn.y}}else Cn={id:Sn,type:En};var Rn=assign$2({id:cn.getIdForEvent(pn)},assembleIncrementalSnapshot(IncrementalSource.MouseInteraction,Cn));sn(Rn)}};return addEventListeners(document,Object.keys(eventTypeToMouseInteraction),dn,{capture:!0,passive:!0}).stop}function initInputObserver(sn,ln,cn){var dn=cn===void 0?{}:cn,pn=dn.domEvents,vn=pn===void 0?["input","change"]:pn,Sn=dn.target,En=Sn===void 0?document:Sn,Cn=new WeakMap;function Pn(Gn){var Dn=getNodePrivacyLevel(Gn,ln);if(Dn!==NodePrivacyLevel.HIDDEN){var Kn=Gn.type,qn;if(Kn==="radio"||Kn==="checkbox"){if(shouldMaskNode(Gn,Dn))return;qn={isChecked:Gn.checked}}else{var Zn=getElementInputValue(Gn,Dn);if(Zn===void 0)return;qn={text:Zn}}Rn(Gn,qn);var Yn=Gn.name;Kn==="radio"&&Yn&&Gn.checked&&forEach$1(document.querySelectorAll('input[type="radio"][name="'.concat(Yn,'"]')),function(Jn){Jn!==Gn&&Rn(Jn,{isChecked:!1})})}}function Rn(Gn,Dn){if(hasSerializedNode(Gn)){var Kn=Cn.get(Gn);(!Kn||Kn.text!==Dn.text||Kn.isChecked!==Dn.isChecked)&&(Cn.set(Gn,Dn),sn(assign$2({id:getSerializedNodeId(Gn)},Dn)))}}var Ln=addEventListeners(En,vn,function(Gn){var Dn=getEventTarget(Gn);(Dn instanceof HTMLInputElement||Dn instanceof HTMLTextAreaElement||Dn instanceof HTMLSelectElement)&&Pn(Dn)},{capture:!0,passive:!0}).stop,Fn=[instrumentSetter(HTMLInputElement.prototype,"value",Pn),instrumentSetter(HTMLInputElement.prototype,"checked",Pn),instrumentSetter(HTMLSelectElement.prototype,"value",Pn),instrumentSetter(HTMLTextAreaElement.prototype,"value",Pn),instrumentSetter(HTMLSelectElement.prototype,"selectedIndex",Pn)];return function(){Fn.forEach(function(Gn){return Gn.stop()}),Ln()}}function initStyleSheetObserver(sn){function ln(pn,vn){pn&&hasSerializedNode(pn.ownerNode)&&vn(getSerializedNodeId(pn.ownerNode))}var cn=[instrumentMethodAndCallOriginal(CSSStyleSheet.prototype,"insertRule",{before:function(pn,vn){ln(this,function(Sn){return sn({id:Sn,adds:[{rule:pn,index:vn}]})})}}),instrumentMethodAndCallOriginal(CSSStyleSheet.prototype,"deleteRule",{before:function(pn){ln(this,function(vn){return sn({id:vn,removes:[{index:pn}]})})}})];typeof CSSGroupingRule<"u"?dn(CSSGroupingRule):(dn(CSSMediaRule),dn(CSSSupportsRule));function dn(pn){cn.push(instrumentMethodAndCallOriginal(pn.prototype,"insertRule",{before:function(vn,Sn){var En=this;ln(this.parentStyleSheet,function(Cn){var Pn=getPathToNestedCSSRule(En);Pn&&(Pn.push(Sn||0),sn({id:Cn,adds:[{rule:vn,index:Pn}]}))})}}),instrumentMethodAndCallOriginal(pn.prototype,"deleteRule",{before:function(vn){var Sn=this;ln(this.parentStyleSheet,function(En){var Cn=getPathToNestedCSSRule(Sn);Cn&&(Cn.push(vn),sn({id:En,removes:[{index:Cn}]}))})}}))}return function(){return cn.forEach(function(pn){return pn.stop()})}}function getPathToNestedCSSRule(sn){for(var ln=[],cn=sn;cn.parentRule;){var dn=Array.from(cn.parentRule.cssRules),pn=dn.indexOf(cn);ln.unshift(pn),cn=cn.parentRule}if(cn.parentStyleSheet){var vn=Array.from(cn.parentStyleSheet.cssRules),Sn=vn.indexOf(cn);return ln.unshift(Sn),ln}}function initMediaInteractionObserver(sn,ln){var cn=function(dn){var pn=getEventTarget(dn);!pn||getNodePrivacyLevel(pn,ln)===NodePrivacyLevel.HIDDEN||!hasSerializedNode(pn)||sn({id:getSerializedNodeId(pn),type:dn.type==="play"?MediaInteractionType.Play:MediaInteractionType.Pause})};return addEventListeners(document,["play","pause"],cn,{capture:!0,passive:!0}).stop}function initFrustrationObserver(sn,ln,cn){return sn.subscribe(10,function(dn){var pn,vn,Sn;dn.rawRumEvent.type==="action"&&dn.rawRumEvent.action.type==="click"&&(!((vn=(pn=dn.rawRumEvent.action.frustration)===null||pn===void 0?void 0:pn.type)===null||vn===void 0)&&vn.length)&&"events"in dn.domainContext&&(!((Sn=dn.domainContext.events)===null||Sn===void 0)&&Sn.length)&&ln({timestamp:dn.rawRumEvent.date,type:RecordType.FrustrationRecord,data:{frustrationTypes:dn.rawRumEvent.action.frustration.type,recordIds:dn.domainContext.events.map(function(En){return cn.getIdForEvent(En)})}})}).unsubscribe}var VISUAL_VIEWPORT_OBSERVER_THRESHOLD=200;function initViewportResizeObserver(sn){return initViewportObservable().subscribe(sn).unsubscribe}function initVisualViewportResizeObserver(sn){var ln=window.visualViewport;if(!ln)return noop$7;var cn=throttle$1(function(){sn(getVisualViewport(ln))},VISUAL_VIEWPORT_OBSERVER_THRESHOLD,{trailing:!1}),dn=cn.throttled,pn=cn.cancel,vn=addEventListeners(ln,["resize","scroll"],dn,{capture:!0,passive:!0}).stop;return function(){vn(),pn()}}var MUTATION_PROCESS_MAX_DELAY=100;function createMutationBatch(sn){var ln=noop$7,cn=[];function dn(){ln(),sn(cn),cn=[]}return{addMutations:function(pn){cn.length===0&&(ln=requestIdleCallback(dn,{timeout:MUTATION_PROCESS_MAX_DELAY})),cn.push.apply(cn,pn)},flush:dn,stop:function(){ln()}}}function requestIdleCallback(sn,ln){if(window.requestIdleCallback&&window.cancelIdleCallback){var cn=window.requestIdleCallback(monitor(sn),ln);return function(){return window.cancelIdleCallback(cn)}}var dn=window.requestAnimationFrame(monitor(sn));return function(){return window.cancelAnimationFrame(dn)}}function initMutationObserver(sn,ln,cn,dn){var pn=getMutationObserverConstructor();if(!pn)return{stop:noop$7,flush:noop$7};var vn=createMutationBatch(function(En){processMutations(En.concat(Sn.takeRecords()),sn,ln,cn,dn)}),Sn=new pn(monitor(vn.addMutations));return Sn.observe(dn,{attributeOldValue:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{stop:function(){Sn.disconnect(),vn.stop()},flush:function(){vn.flush()}}}function processMutations(sn,ln,cn,dn,pn){sn.filter(function(Fn){return Fn.type==="childList"}).forEach(function(Fn){Fn.removedNodes.forEach(function(Gn){traverseRemovedShadowDom(Gn,dn.removeShadowRoot)})});var vn=sn.filter(function(Fn){return pn.contains(Fn.target)&&nodeAndAncestorsHaveSerializedNode(Fn.target)&&getNodePrivacyLevel(Fn.target,cn.defaultPrivacyLevel)!==NodePrivacyLevel.HIDDEN}),Sn=processChildListMutations(vn.filter(function(Fn){return Fn.type==="childList"}),cn,dn),En=Sn.adds,Cn=Sn.removes,Pn=Sn.hasBeenSerialized,Rn=processCharacterDataMutations(vn.filter(function(Fn){return Fn.type==="characterData"&&!Pn(Fn.target)}),cn),Ln=processAttributesMutations(vn.filter(function(Fn){return Fn.type==="attributes"&&!Pn(Fn.target)}),cn);!Rn.length&&!Ln.length&&!Cn.length&&!En.length||ln({adds:En,removes:Cn,texts:Rn,attributes:Ln})}function processChildListMutations(sn,ln,cn){for(var dn=new Set,pn=new Map,vn=function(us){us.addedNodes.forEach(function(as){dn.add(as)}),us.removedNodes.forEach(function(as){dn.has(as)||pn.set(as,us.target),dn.delete(as)})},Sn=0,En=sn;Sn<En.length;Sn++){var Cn=En[Sn];vn(Cn)}var Pn=Array.from(dn);sortAddedAndMovedNodes(Pn);for(var Rn=new Set,Ln=[],Fn=0,Gn=Pn;Fn<Gn.length;Fn++){var Dn=Gn[Fn];if(!Jn(Dn)){var Kn=getNodePrivacyLevel(Dn.parentNode,ln.defaultPrivacyLevel);if(!(Kn===NodePrivacyLevel.HIDDEN||Kn===NodePrivacyLevel.IGNORE)){var qn=serializeNodeWithId(Dn,{serializedNodeIds:Rn,parentNodePrivacyLevel:Kn,serializationContext:{status:2,shadowRootsController:cn},configuration:ln});if(qn){var Zn=getParentNode(Dn);Ln.push({nextId:rs(Dn),parentId:getSerializedNodeId(Zn),node:qn})}}}}var Yn=[];return pn.forEach(function(us,as){hasSerializedNode(as)&&Yn.push({parentId:getSerializedNodeId(us),id:getSerializedNodeId(as)})}),{adds:Ln,removes:Yn,hasBeenSerialized:Jn};function Jn(us){return hasSerializedNode(us)&&Rn.has(getSerializedNodeId(us))}function rs(us){for(var as=us.nextSibling;as;){if(hasSerializedNode(as))return getSerializedNodeId(as);as=as.nextSibling}return null}}function processCharacterDataMutations(sn,ln){for(var cn,dn=[],pn=new Set,vn=sn.filter(function(Ln){return pn.has(Ln.target)?!1:(pn.add(Ln.target),!0)}),Sn=0,En=vn;Sn<En.length;Sn++){var Cn=En[Sn],Pn=Cn.target.textContent;if(Pn!==Cn.oldValue){var Rn=getNodePrivacyLevel(getParentNode(Cn.target),ln.defaultPrivacyLevel);Rn===NodePrivacyLevel.HIDDEN||Rn===NodePrivacyLevel.IGNORE||dn.push({id:getSerializedNodeId(Cn.target),value:(cn=getTextContent(Cn.target,!1,Rn))!==null&&cn!==void 0?cn:null})}}return dn}function processAttributesMutations(sn,ln){for(var cn=[],dn=new Map,pn=sn.filter(function(Kn){var qn=dn.get(Kn.target);return qn!=null&&qn.has(Kn.attributeName)?!1:(qn?qn.add(Kn.attributeName):dn.set(Kn.target,new Set([Kn.attributeName])),!0)}),vn=new Map,Sn=0,En=pn;Sn<En.length;Sn++){var Cn=En[Sn],Pn=Cn.target.getAttribute(Cn.attributeName);if(Pn!==Cn.oldValue){var Rn=getNodePrivacyLevel(Cn.target,ln.defaultPrivacyLevel),Ln=serializeAttribute(Cn.target,Rn,Cn.attributeName,ln),Fn=void 0;if(Cn.attributeName==="value"){var Gn=getElementInputValue(Cn.target,Rn);if(Gn===void 0)continue;Fn=Gn}else typeof Ln=="string"?Fn=Ln:Fn=null;var Dn=vn.get(Cn.target);Dn||(Dn={id:getSerializedNodeId(Cn.target),attributes:{}},cn.push(Dn),vn.set(Cn.target,Dn)),Dn.attributes[Cn.attributeName]=Fn}}return cn}function sortAddedAndMovedNodes(sn){sn.sort(function(ln,cn){var dn=ln.compareDocumentPosition(cn);return dn&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:dn&Node.DOCUMENT_POSITION_CONTAINS||dn&Node.DOCUMENT_POSITION_FOLLOWING?1:dn&Node.DOCUMENT_POSITION_PRECEDING?-1:0})}function traverseRemovedShadowDom(sn,ln){isNodeShadowHost(sn)&&ln(sn.shadowRoot),getChildNodes(sn).forEach(function(cn){return traverseRemovedShadowDom(cn,ln)})}function initFocusObserver(sn){return addEventListeners(window,["focus","blur"],function(){sn({has_focus:document.hasFocus()})}).stop}function initRecordIds(){var sn=new WeakMap,ln=1;return{getIdForEvent:function(cn){return sn.has(cn)||sn.set(cn,ln++),sn.get(cn)}}}function initObservers(sn){var ln=initRecordIds(),cn=initMutationObserver(sn.mutationCb,sn.configuration,sn.shadowRootsController,document),dn=initMoveObserver(sn.mousemoveCb),pn=initMouseInteractionObserver(sn.mouseInteractionCb,sn.configuration.defaultPrivacyLevel,ln),vn=initScrollObserver(sn.scrollCb,sn.configuration.defaultPrivacyLevel,sn.elementsScrollPositions),Sn=initViewportResizeObserver(sn.viewportResizeCb),En=initInputObserver(sn.inputCb,sn.configuration.defaultPrivacyLevel),Cn=initMediaInteractionObserver(sn.mediaInteractionCb,sn.configuration.defaultPrivacyLevel),Pn=initStyleSheetObserver(sn.styleSheetCb),Rn=initFocusObserver(sn.focusCb),Ln=initVisualViewportResizeObserver(sn.visualViewportResizeCb),Fn=initFrustrationObserver(sn.lifeCycle,sn.frustrationCb,ln);return{flush:function(){cn.flush()},stop:function(){cn.stop(),dn(),pn(),vn(),Sn(),En(),Cn(),Pn(),Rn(),Ln(),Fn()}}}function createElementsScrollPositions(){var sn=new WeakMap;return{set:function(ln,cn){ln===document&&!document.scrollingElement||sn.set(ln===document?document.scrollingElement:ln,cn)},get:function(ln){return sn.get(ln)},has:function(ln){return sn.has(ln)}}}var initShadowRootsController=function(sn,ln){var cn=ln.mutationCb,dn=ln.inputCb,pn=new Map,vn={addShadowRoot:function(Sn){var En=initMutationObserver(cn,sn,vn,Sn),Cn=En.stop,Pn=En.flush,Rn=initInputObserver(dn,sn.defaultPrivacyLevel,{target:Sn,domEvents:["change"]});pn.set(Sn,{flush:Pn,stop:function(){Cn(),Rn()}})},removeShadowRoot:function(Sn){var En=pn.get(Sn);En&&(En.stop(),pn.delete(Sn))},stop:function(){pn.forEach(function(Sn){var En=Sn.stop;return En()})},flush:function(){pn.forEach(function(Sn){var En=Sn.flush;return En()})}};return vn};function record(sn){var ln=sn.emit;if(!ln)throw new Error("emit function is required");var cn=createElementsScrollPositions(),dn=function(Ln){ln(assembleIncrementalSnapshot(IncrementalSource.Mutation,Ln))},pn=function(Ln){return ln(assembleIncrementalSnapshot(IncrementalSource.Input,Ln))},vn=initShadowRootsController(sn.configuration,{mutationCb:dn,inputCb:pn}),Sn=function(Ln,Fn){Ln===void 0&&(Ln=timeStampNow()),Fn===void 0&&(Fn={status:0,elementsScrollPositions:cn,shadowRootsController:vn});var Gn=getViewportDimension(),Dn=Gn.width,Kn=Gn.height;ln({data:{height:Kn,href:window.location.href,width:Dn},type:RecordType.Meta,timestamp:Ln}),ln({data:{has_focus:document.hasFocus()},type:RecordType.Focus,timestamp:Ln}),ln({data:{node:serializeDocument(document,sn.configuration,Fn),initialOffset:{left:getScrollX(),top:getScrollY()}},type:RecordType.FullSnapshot,timestamp:Ln}),window.visualViewport&&ln({data:getVisualViewport(window.visualViewport),type:RecordType.VisualViewport,timestamp:Ln})};Sn();var En=initObservers({lifeCycle:sn.lifeCycle,configuration:sn.configuration,elementsScrollPositions:cn,inputCb:pn,mediaInteractionCb:function(Ln){return ln(assembleIncrementalSnapshot(IncrementalSource.MediaInteraction,Ln))},mouseInteractionCb:function(Ln){return ln(Ln)},mousemoveCb:function(Ln,Fn){return ln(assembleIncrementalSnapshot(Fn,{positions:Ln}))},mutationCb:dn,scrollCb:function(Ln){return ln(assembleIncrementalSnapshot(IncrementalSource.Scroll,Ln))},styleSheetCb:function(Ln){return ln(assembleIncrementalSnapshot(IncrementalSource.StyleSheetRule,Ln))},viewportResizeCb:function(Ln){return ln(assembleIncrementalSnapshot(IncrementalSource.ViewportResize,Ln))},frustrationCb:function(Ln){return ln(Ln)},focusCb:function(Ln){return ln({data:Ln,type:RecordType.Focus,timestamp:timeStampNow()})},visualViewportResizeCb:function(Ln){ln({data:Ln,type:RecordType.VisualViewport,timestamp:timeStampNow()})},shadowRootsController:vn}),Cn=En.stop,Pn=En.flush;function Rn(){vn.flush(),Pn()}return{stop:function(){vn.stop(),Cn()},takeSubsequentFullSnapshot:function(Ln){Rn(),Sn(Ln,{shadowRootsController:vn,status:1,elementsScrollPositions:cn})},flushMutations:Rn,shadowRootsController:vn}}function buildReplayPayload(sn,ln,cn){var dn=new FormData;dn.append("segment",new Blob([sn],{type:"application/octet-stream"}),"".concat(ln.session.id,"-").concat(ln.start));var pn=assign$2({raw_segment_size:cn,compressed_segment_size:sn.byteLength},ln),vn=JSON.stringify(pn);return dn.append("event",new Blob([vn],{type:"application/json"})),{data:dn,bytesCount:sn.byteLength}}var MAX_STATS_HISTORY=10,statsPerView;function getSegmentsCount(sn){return getOrCreateReplayStats(sn).segments_count}function addSegment(sn){getOrCreateReplayStats(sn).segments_count+=1}function addRecord(sn){getOrCreateReplayStats(sn).records_count+=1}function addWroteData(sn,ln){getOrCreateReplayStats(sn).segments_total_raw_size+=ln}function getReplayStats(sn){return statsPerView==null?void 0:statsPerView.get(sn)}function getOrCreateReplayStats(sn){statsPerView||(statsPerView=new Map);var ln;return statsPerView.has(sn)?ln=statsPerView.get(sn):(ln={records_count:0,segments_count:0,segments_total_raw_size:0},statsPerView.set(sn,ln),statsPerView.size>MAX_STATS_HISTORY&&deleteOldestStats()),ln}function deleteOldestStats(){if(statsPerView)if(statsPerView.keys)statsPerView.delete(statsPerView.keys().next().value);else{var sn=!0;statsPerView.forEach(function(ln,cn){sn&&(statsPerView.delete(cn),sn=!1)})}}var nextId=0,Segment$1=function(){function sn(ln,cn,dn,pn,vn,Sn){var En=this;this.worker=ln,this.id=nextId++;var Cn=cn.view.id;this.metadata=assign$2({start:pn.timestamp,end:pn.timestamp,creation_reason:dn,records_count:1,has_full_snapshot:pn.type===RecordType.FullSnapshot,index_in_view:getSegmentsCount(Cn),source:"browser"},cn),addSegment(Cn),addRecord(Cn);var Pn=addEventListener(ln,"message",function(Rn){var Ln=Rn.data;Ln.type==="errored"||Ln.type==="initialized"||(Ln.id===En.id?(addWroteData(Cn,Ln.additionalBytesCount),Ln.type==="flushed"?(Sn(Ln.result,Ln.rawBytesCount),Pn()):vn(Ln.compressedBytesCount)):Ln.id>En.id&&(Pn(),addTelemetryDebug("Segment did not receive a 'flush' response before being replaced.")))}).stop;sendToExtension("record",{record:pn,segment:this.metadata}),this.worker.postMessage({data:'{"records":['.concat(JSON.stringify(pn)),id:this.id,action:"write"})}return sn.prototype.addRecord=function(ln){var cn;this.metadata.start=Math.min(this.metadata.start,ln.timestamp),this.metadata.end=Math.max(this.metadata.end,ln.timestamp),this.metadata.records_count+=1,addRecord(this.metadata.view.id),(cn=this.metadata).has_full_snapshot||(cn.has_full_snapshot=ln.type===RecordType.FullSnapshot),sendToExtension("record",{record:ln,segment:this.metadata}),this.worker.postMessage({data:",".concat(JSON.stringify(ln)),id:this.id,action:"write"})},sn.prototype.flush=function(ln){this.worker.postMessage({data:"],".concat(JSON.stringify(this.metadata).slice(1),`
`),id:this.id,action:"flush"}),this.flushReason=ln},sn}(),SEGMENT_DURATION_LIMIT=30*ONE_SECOND,SEGMENT_BYTES_LIMIT=6e4;function startSegmentCollection(sn,ln,cn,dn,pn,vn){return doStartSegmentCollection(sn,function(){return computeSegmentContext(ln,cn,dn)},pn,vn)}function doStartSegmentCollection(sn,ln,cn,dn){var pn={status:0,nextSegmentCreationReason:"init"},vn=sn.subscribe(2,function(){En("view_change")}).unsubscribe,Sn=sn.subscribe(9,function(Pn){En(Pn.reason)}).unsubscribe;function En(Pn){pn.status===1&&(pn.segment.flush(Pn),clearTimeout$1(pn.expirationTimeoutId)),Pn!=="stop"?pn={status:0,nextSegmentCreationReason:Pn}:pn={status:2}}function Cn(Pn,Rn){var Ln=ln();if(Ln){var Fn=new Segment$1(dn,Ln,Pn,Rn,function(Gn){!Fn.flushReason&&Gn>SEGMENT_BYTES_LIMIT&&En("segment_bytes_limit")},function(Gn,Dn){var Kn=buildReplayPayload(Gn,Fn.metadata,Dn);isPageExitReason(Fn.flushReason)?cn.sendOnExit(Kn):cn.send(Kn)});pn={status:1,segment:Fn,expirationTimeoutId:setTimeout$1(function(){En("segment_duration_limit")},SEGMENT_DURATION_LIMIT)}}}return{addRecord:function(Pn){switch(pn.status){case 0:Cn(pn.nextSegmentCreationReason,Pn);break;case 1:pn.segment.addRecord(Pn);break}},stop:function(){En("stop"),vn(),Sn()}}}function computeSegmentContext(sn,ln,cn){var dn=ln.findTrackedSession(),pn=cn.findView();if(!(!dn||!pn))return{application:{id:sn},session:{id:dn.id},view:{id:pn.id}}}var workerURL;function createDeflateWorker(){return workerURL||(workerURL=URL.createObjectURL(new Blob(["(".concat(workerCodeFn,")(self)")]))),new Worker(workerURL)}function workerCodeFn(){sn(function(){var cn=ln(),dn=cn.Deflate,pn=cn.constants,vn=cn.string2buf,Sn=new dn,En=0;self.addEventListener("message",sn(function(Pn){var Rn=Pn.data;switch(Rn.action){case"init":self.postMessage({type:"initialized"});break;case"write":{var Ln=Cn(Rn.data);self.postMessage({type:"wrote",id:Rn.id,compressedBytesCount:Sn.chunks.reduce(function(Fn,Gn){return Fn+Gn.length},0),additionalBytesCount:Ln});break}case"flush":{var Ln=Rn.data?Cn(Rn.data):0;Sn.push("",pn.Z_FINISH),self.postMessage({type:"flushed",id:Rn.id,result:Sn.result,additionalBytesCount:Ln,rawBytesCount:En}),Sn=new dn,En=0;break}}}));function Cn(Pn){var Rn=vn(Pn);return Sn.push(Rn,pn.Z_SYNC_FLUSH),En+=Rn.length,Rn.length}})();function sn(cn){return function(){try{return cn.apply(this,arguments)}catch(dn){try{self.postMessage({type:"errored",error:dn})}catch{self.postMessage({type:"errored",error:"".concat(dn)})}}}}function ln(){var cn=4,dn=0,pn=1,vn=2;function Sn(su){for(var _i=su.length;--_i>=0;)su[_i]=0}var En=0,Cn=1,Pn=2,Rn=3,Ln=258,Fn=29,Gn=256,Dn=Gn+1+Fn,Kn=30,qn=19,Zn=2*Dn+1,Yn=15,Jn=16,rs=7,us=256,as=16,cs=17,_s=18,Es=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Qn=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ms=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),$s=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ms=512,gs=new Array((Dn+2)*2);Sn(gs);var Ss=new Array(Kn*2);Sn(Ss);var js=new Array(Ms);Sn(js);var bs=new Array(Ln-Rn+1);Sn(bs);var Ts=new Array(Fn);Sn(Ts);var xs=new Array(Kn);Sn(xs);function zs(su,_i,As,Ks,Us){this.static_tree=su,this.extra_bits=_i,this.extra_base=As,this.elems=Ks,this.max_length=Us,this.has_stree=su&&su.length}var Bs,Js,tu;function hs(su,_i){this.dyn_tree=su,this.max_code=0,this.stat_desc=_i}var lu=function(_i){return _i<256?js[_i]:js[256+(_i>>>7)]},vu=function(_i,As){_i.pending_buf[_i.pending++]=As&255,_i.pending_buf[_i.pending++]=As>>>8&255},yu=function(_i,As,Ks){_i.bi_valid>Jn-Ks?(_i.bi_buf|=As<<_i.bi_valid&65535,vu(_i,_i.bi_buf),_i.bi_buf=As>>Jn-_i.bi_valid,_i.bi_valid+=Ks-Jn):(_i.bi_buf|=As<<_i.bi_valid&65535,_i.bi_valid+=Ks)},Wu=function(_i,As,Ks){yu(_i,Ks[As*2],Ks[As*2+1])},Ru=function(_i,As){var Ks=0;do Ks|=_i&1,_i>>>=1,Ks<<=1;while(--As>0);return Ks>>>1},Ll=function(_i){_i.bi_valid===16?(vu(_i,_i.bi_buf),_i.bi_buf=0,_i.bi_valid=0):_i.bi_valid>=8&&(_i.pending_buf[_i.pending++]=_i.bi_buf&255,_i.bi_buf>>=8,_i.bi_valid-=8)},Vp=function(_i,As){var Ks=As.dyn_tree,Us=As.max_code,ks=As.stat_desc.static_tree,mu=As.stat_desc.has_stree,uu=As.stat_desc.extra_bits,fu=As.stat_desc.extra_base,El=As.stat_desc.max_length,Cu,jp,Ul,Bl,Dy,Ly,U_=0;for(Bl=0;Bl<=Yn;Bl++)_i.bl_count[Bl]=0;for(Ks[_i.heap[_i.heap_max]*2+1]=0,Cu=_i.heap_max+1;Cu<Zn;Cu++)jp=_i.heap[Cu],Bl=Ks[Ks[jp*2+1]*2+1]+1,Bl>El&&(Bl=El,U_++),Ks[jp*2+1]=Bl,!(jp>Us)&&(_i.bl_count[Bl]++,Dy=0,jp>=fu&&(Dy=uu[jp-fu]),Ly=Ks[jp*2],_i.opt_len+=Ly*(Bl+Dy),mu&&(_i.static_len+=Ly*(ks[jp*2+1]+Dy)));if(U_!==0){do{for(Bl=El-1;_i.bl_count[Bl]===0;)Bl--;_i.bl_count[Bl]--,_i.bl_count[Bl+1]+=2,_i.bl_count[El]--,U_-=2}while(U_>0);for(Bl=El;Bl!==0;Bl--)for(jp=_i.bl_count[Bl];jp!==0;)Ul=_i.heap[--Cu],!(Ul>Us)&&(Ks[Ul*2+1]!==Bl&&(_i.opt_len+=(Bl-Ks[Ul*2+1])*Ks[Ul*2],Ks[Ul*2+1]=Bl),jp--)}},Ys=function(_i,As,Ks){var Us=new Array(Yn+1),ks=0,mu,uu;for(mu=1;mu<=Yn;mu++)Us[mu]=ks=ks+Ks[mu-1]<<1;for(uu=0;uu<=As;uu++){var fu=_i[uu*2+1];fu!==0&&(_i[uu*2]=Ru(Us[fu]++,fu))}},_u=function(){var _i,As,Ks,Us,ks,mu=new Array(Yn+1);for(Ks=0,Us=0;Us<Fn-1;Us++)for(Ts[Us]=Ks,_i=0;_i<1<<Es[Us];_i++)bs[Ks++]=Us;for(bs[Ks-1]=Us,ks=0,Us=0;Us<16;Us++)for(xs[Us]=ks,_i=0;_i<1<<Qn[Us];_i++)js[ks++]=Us;for(ks>>=7;Us<Kn;Us++)for(xs[Us]=ks<<7,_i=0;_i<1<<Qn[Us]-7;_i++)js[256+ks++]=Us;for(As=0;As<=Yn;As++)mu[As]=0;for(_i=0;_i<=143;)gs[_i*2+1]=8,_i++,mu[8]++;for(;_i<=255;)gs[_i*2+1]=9,_i++,mu[9]++;for(;_i<=279;)gs[_i*2+1]=7,_i++,mu[7]++;for(;_i<=287;)gs[_i*2+1]=8,_i++,mu[8]++;for(Ys(gs,Dn+1,mu),_i=0;_i<Kn;_i++)Ss[_i*2+1]=5,Ss[_i*2]=Ru(_i,5);Bs=new zs(gs,Es,Gn+1,Dn,Yn),Js=new zs(Ss,Qn,0,Kn,Yn),tu=new zs(new Array(0),ms,0,qn,rs)},Wl=function(_i){var As;for(As=0;As<Dn;As++)_i.dyn_ltree[As*2]=0;for(As=0;As<Kn;As++)_i.dyn_dtree[As*2]=0;for(As=0;As<qn;As++)_i.bl_tree[As*2]=0;_i.dyn_ltree[us*2]=1,_i.opt_len=_i.static_len=0,_i.last_lit=_i.matches=0},lp=function(_i){_i.bi_valid>8?vu(_i,_i.bi_buf):_i.bi_valid>0&&(_i.pending_buf[_i.pending++]=_i.bi_buf),_i.bi_buf=0,_i.bi_valid=0},am=function(_i,As,Ks,Us){lp(_i),Us&&(vu(_i,Ks),vu(_i,~Ks)),_i.pending_buf.set(_i.window.subarray(As,As+Ks),_i.pending),_i.pending+=Ks},fl=function(_i,As,Ks,Us){var ks=As*2,mu=Ks*2;return _i[ks]<_i[mu]||_i[ks]===_i[mu]&&Us[As]<=Us[Ks]},$u=function(_i,As,Ks){for(var Us=_i.heap[Ks],ks=Ks<<1;ks<=_i.heap_len&&(ks<_i.heap_len&&fl(As,_i.heap[ks+1],_i.heap[ks],_i.depth)&&ks++,!fl(As,Us,_i.heap[ks],_i.depth));)_i.heap[Ks]=_i.heap[ks],Ks=ks,ks<<=1;_i.heap[Ks]=Us},cp=function(_i,As,Ks){var Us,ks,mu=0,uu,fu;if(_i.last_lit!==0)do Us=_i.pending_buf[_i.d_buf+mu*2]<<8|_i.pending_buf[_i.d_buf+mu*2+1],ks=_i.pending_buf[_i.l_buf+mu],mu++,Us===0?Wu(_i,ks,As):(uu=bs[ks],Wu(_i,uu+Gn+1,As),fu=Es[uu],fu!==0&&(ks-=Ts[uu],yu(_i,ks,fu)),Us--,uu=lu(Us),Wu(_i,uu,Ks),fu=Qn[uu],fu!==0&&(Us-=xs[uu],yu(_i,Us,fu)));while(mu<_i.last_lit);Wu(_i,us,As)},Cp=function(_i,As){var Ks=As.dyn_tree,Us=As.stat_desc.static_tree,ks=As.stat_desc.has_stree,mu=As.stat_desc.elems,uu,fu,El=-1,Cu;for(_i.heap_len=0,_i.heap_max=Zn,uu=0;uu<mu;uu++)Ks[uu*2]!==0?(_i.heap[++_i.heap_len]=El=uu,_i.depth[uu]=0):Ks[uu*2+1]=0;for(;_i.heap_len<2;)Cu=_i.heap[++_i.heap_len]=El<2?++El:0,Ks[Cu*2]=1,_i.depth[Cu]=0,_i.opt_len--,ks&&(_i.static_len-=Us[Cu*2+1]);for(As.max_code=El,uu=_i.heap_len>>1;uu>=1;uu--)$u(_i,Ks,uu);Cu=mu;do uu=_i.heap[1],_i.heap[1]=_i.heap[_i.heap_len--],$u(_i,Ks,1),fu=_i.heap[1],_i.heap[--_i.heap_max]=uu,_i.heap[--_i.heap_max]=fu,Ks[Cu*2]=Ks[uu*2]+Ks[fu*2],_i.depth[Cu]=(_i.depth[uu]>=_i.depth[fu]?_i.depth[uu]:_i.depth[fu])+1,Ks[uu*2+1]=Ks[fu*2+1]=Cu,_i.heap[1]=Cu++,$u(_i,Ks,1);while(_i.heap_len>=2);_i.heap[--_i.heap_max]=_i.heap[1],Vp(_i,As),Ys(Ks,El,_i.bl_count)},ry=function(_i,As,Ks){var Us,ks=-1,mu,uu=As[0*2+1],fu=0,El=7,Cu=4;for(uu===0&&(El=138,Cu=3),As[(Ks+1)*2+1]=65535,Us=0;Us<=Ks;Us++)mu=uu,uu=As[(Us+1)*2+1],!(++fu<El&&mu===uu)&&(fu<Cu?_i.bl_tree[mu*2]+=fu:mu!==0?(mu!==ks&&_i.bl_tree[mu*2]++,_i.bl_tree[as*2]++):fu<=10?_i.bl_tree[cs*2]++:_i.bl_tree[_s*2]++,fu=0,ks=mu,uu===0?(El=138,Cu=3):mu===uu?(El=6,Cu=3):(El=7,Cu=4))},vp=function(_i,As,Ks){var Us,ks=-1,mu,uu=As[0*2+1],fu=0,El=7,Cu=4;for(uu===0&&(El=138,Cu=3),Us=0;Us<=Ks;Us++)if(mu=uu,uu=As[(Us+1)*2+1],!(++fu<El&&mu===uu)){if(fu<Cu)do Wu(_i,mu,_i.bl_tree);while(--fu!==0);else mu!==0?(mu!==ks&&(Wu(_i,mu,_i.bl_tree),fu--),Wu(_i,as,_i.bl_tree),yu(_i,fu-3,2)):fu<=10?(Wu(_i,cs,_i.bl_tree),yu(_i,fu-3,3)):(Wu(_i,_s,_i.bl_tree),yu(_i,fu-11,7));fu=0,ks=mu,uu===0?(El=138,Cu=3):mu===uu?(El=6,Cu=3):(El=7,Cu=4)}},Qv=function(_i){var As;for(ry(_i,_i.dyn_ltree,_i.l_desc.max_code),ry(_i,_i.dyn_dtree,_i.d_desc.max_code),Cp(_i,_i.bl_desc),As=qn-1;As>=3&&_i.bl_tree[$s[As]*2+1]===0;As--);return _i.opt_len+=3*(As+1)+5+5+4,As},Jy=function(_i,As,Ks,Us){var ks;for(yu(_i,As-257,5),yu(_i,Ks-1,5),yu(_i,Us-4,4),ks=0;ks<Us;ks++)yu(_i,_i.bl_tree[$s[ks]*2+1],3);vp(_i,_i.dyn_ltree,As-1),vp(_i,_i.dyn_dtree,Ks-1)},Fu=function(_i){var As=4093624447,Ks;for(Ks=0;Ks<=31;Ks++,As>>>=1)if(As&1&&_i.dyn_ltree[Ks*2]!==0)return dn;if(_i.dyn_ltree[9*2]!==0||_i.dyn_ltree[10*2]!==0||_i.dyn_ltree[13*2]!==0)return pn;for(Ks=32;Ks<Gn;Ks++)if(_i.dyn_ltree[Ks*2]!==0)return pn;return dn},Eu=!1,el=function(_i){Eu||(_u(),Eu=!0),_i.l_desc=new hs(_i.dyn_ltree,Bs),_i.d_desc=new hs(_i.dyn_dtree,Js),_i.bl_desc=new hs(_i.bl_tree,tu),_i.bi_buf=0,_i.bi_valid=0,Wl(_i)},pl=function(_i,As,Ks,Us){yu(_i,(En<<1)+(Us?1:0),3),am(_i,As,Ks,!0)},Xp=function(_i){yu(_i,Cn<<1,3),Wu(_i,us,gs),Ll(_i)},_p=function(_i,As,Ks,Us){var ks,mu,uu=0;_i.level>0?(_i.strm.data_type===vn&&(_i.strm.data_type=Fu(_i)),Cp(_i,_i.l_desc),Cp(_i,_i.d_desc),uu=Qv(_i),ks=_i.opt_len+3+7>>>3,mu=_i.static_len+3+7>>>3,mu<=ks&&(ks=mu)):ks=mu=Ks+5,Ks+4<=ks&&As!==-1?pl(_i,As,Ks,Us):_i.strategy===cn||mu===ks?(yu(_i,(Cn<<1)+(Us?1:0),3),cp(_i,gs,Ss)):(yu(_i,(Pn<<1)+(Us?1:0),3),Jy(_i,_i.l_desc.max_code+1,_i.d_desc.max_code+1,uu+1),cp(_i,_i.dyn_ltree,_i.dyn_dtree)),Wl(_i),Us&&lp(_i)},wu=function(_i,As,Ks){return _i.pending_buf[_i.d_buf+_i.last_lit*2]=As>>>8&255,_i.pending_buf[_i.d_buf+_i.last_lit*2+1]=As&255,_i.pending_buf[_i.l_buf+_i.last_lit]=Ks&255,_i.last_lit++,As===0?_i.dyn_ltree[Ks*2]++:(_i.matches++,As--,_i.dyn_ltree[(bs[Ks]+Gn+1)*2]++,_i.dyn_dtree[lu(As)*2]++),_i.last_lit===_i.lit_bufsize-1},Iu=el,Gp=pl,Qp=_p,Cy=wu,Ay=Xp,ny={_tr_init:Iu,_tr_stored_block:Gp,_tr_flush_block:Qp,_tr_tally:Cy,_tr_align:Ay},zE=function(_i,As,Ks,Us){for(var ks=_i&65535|0,mu=_i>>>16&65535|0,uu=0;Ks!==0;){uu=Ks>2e3?2e3:Ks,Ks-=uu;do ks=ks+As[Us++]|0,mu=mu+ks|0;while(--uu);ks%=65521,mu%=65521}return ks|mu<<16|0},$v=zE,HE=function(){for(var _i,As=[],Ks=0;Ks<256;Ks++){_i=Ks;for(var Us=0;Us<8;Us++)_i=_i&1?3988292384^_i>>>1:_i>>>1;As[Ks]=_i}return As},Tv=new Uint32Array(HE()),KE=function(_i,As,Ks,Us){var ks=Tv,mu=Us+Ks;_i^=-1;for(var uu=Us;uu<mu;uu++)_i=_i>>>8^ks[(_i^As[uu])&255];return _i^-1},Iy=KE,Py={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Il={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},Hs=ny._tr_init,O0=ny._tr_stored_block,Zv=ny._tr_flush_block,Zl=ny._tr_tally,Zp=ny._tr_align,Mp=Il.Z_NO_FLUSH,Lm=Il.Z_PARTIAL_FLUSH,ev=Il.Z_FULL_FLUSH,Vu=Il.Z_FINISH,Pu=Il.Z_BLOCK,rp=Il.Z_OK,om=Il.Z_STREAM_END,Vs=Il.Z_STREAM_ERROR,O_=Il.Z_DATA_ERROR,Rp=Il.Z_BUF_ERROR,ol=Il.Z_DEFAULT_COMPRESSION,M0=Il.Z_FILTERED,pm=Il.Z_HUFFMAN_ONLY,iy=Il.Z_RLE,kv=Il.Z_FIXED,R0=Il.Z_DEFAULT_STRATEGY,WE=Il.Z_UNKNOWN,np=Il.Z_DEFLATED,R$=9,Hk=15,qE=8,Jv=29,M_=256,bv=M_+1+Jv,R_=30,dp=19,zp=2*bv+1,tv=15,qu=3,Np=258,Zu=Np+qu+1,tl=32,N_=42,bl=69,Dp=73,ay=91,Hu=103,Ap=113,Em=666,Yl=1,Um=2,Ep=3,Oy=4,D_=3,hm=function(_i,As){return _i.msg=Py[As],As},L_=function(_i){return(_i<<1)-(_i>4?9:0)},gl=function(_i){for(var As=_i.length;--As>=0;)_i[As]=0},YE=function(_i,As,Ks){return(As<<_i.hash_shift^Ks)&_i.hash_mask},Jp=YE,ap=function(_i){var As=_i.state,Ks=As.pending;Ks>_i.avail_out&&(Ks=_i.avail_out),Ks!==0&&(_i.output.set(As.pending_buf.subarray(As.pending_out,As.pending_out+Ks),_i.next_out),_i.next_out+=Ks,As.pending_out+=Ks,_i.total_out+=Ks,_i.avail_out-=Ks,As.pending-=Ks,As.pending===0&&(As.pending_out=0))},Jl=function(_i,As){Zv(_i,_i.block_start>=0?_i.block_start:-1,_i.strstart-_i.block_start,As),_i.block_start=_i.strstart,ap(_i.strm)},Ou=function(_i,As){_i.pending_buf[_i.pending++]=As},Ip=function(_i,As){_i.pending_buf[_i.pending++]=As>>>8&255,_i.pending_buf[_i.pending++]=As&255},My=function(_i,As,Ks,Us){var ks=_i.avail_in;return ks>Us&&(ks=Us),ks===0?0:(_i.avail_in-=ks,As.set(_i.input.subarray(_i.next_in,_i.next_in+ks),Ks),_i.state.wrap===1?_i.adler=$v(_i.adler,As,ks,Ks):_i.state.wrap===2&&(_i.adler=Iy(_i.adler,As,ks,Ks)),_i.next_in+=ks,_i.total_in+=ks,ks)},fp=function(_i,As){var Ks=_i.max_chain_length,Us=_i.strstart,ks,mu,uu=_i.prev_length,fu=_i.nice_match,El=_i.strstart>_i.w_size-Zu?_i.strstart-(_i.w_size-Zu):0,Cu=_i.window,jp=_i.w_mask,Ul=_i.prev,Bl=_i.strstart+Np,Dy=Cu[Us+uu-1],Ly=Cu[Us+uu];_i.prev_length>=_i.good_match&&(Ks>>=2),fu>_i.lookahead&&(fu=_i.lookahead);do if(ks=As,!(Cu[ks+uu]!==Ly||Cu[ks+uu-1]!==Dy||Cu[ks]!==Cu[Us]||Cu[++ks]!==Cu[Us+1])){Us+=2,ks++;do;while(Cu[++Us]===Cu[++ks]&&Cu[++Us]===Cu[++ks]&&Cu[++Us]===Cu[++ks]&&Cu[++Us]===Cu[++ks]&&Cu[++Us]===Cu[++ks]&&Cu[++Us]===Cu[++ks]&&Cu[++Us]===Cu[++ks]&&Cu[++Us]===Cu[++ks]&&Us<Bl);if(mu=Np-(Bl-Us),Us=Bl-Np,mu>uu){if(_i.match_start=As,uu=mu,mu>=fu)break;Dy=Cu[Us+uu-1],Ly=Cu[Us+uu]}}while((As=Ul[As&jp])>El&&--Ks!==0);return uu<=_i.lookahead?uu:_i.lookahead},Ku=function(_i){var As=_i.w_size,Ks,Us,ks,mu,uu;do{if(mu=_i.window_size-_i.lookahead-_i.strstart,_i.strstart>=As+(As-Zu)){_i.window.set(_i.window.subarray(As,As+As),0),_i.match_start-=As,_i.strstart-=As,_i.block_start-=As,Us=_i.hash_size,Ks=Us;do ks=_i.head[--Ks],_i.head[Ks]=ks>=As?ks-As:0;while(--Us);Us=As,Ks=Us;do ks=_i.prev[--Ks],_i.prev[Ks]=ks>=As?ks-As:0;while(--Us);mu+=As}if(_i.strm.avail_in===0)break;if(Us=My(_i.strm,_i.window,_i.strstart+_i.lookahead,mu),_i.lookahead+=Us,_i.lookahead+_i.insert>=qu)for(uu=_i.strstart-_i.insert,_i.ins_h=_i.window[uu],_i.ins_h=Jp(_i,_i.ins_h,_i.window[uu+1]);_i.insert&&(_i.ins_h=Jp(_i,_i.ins_h,_i.window[uu+qu-1]),_i.prev[uu&_i.w_mask]=_i.head[_i.ins_h],_i.head[_i.ins_h]=uu,uu++,_i.insert--,!(_i.lookahead+_i.insert<qu)););}while(_i.lookahead<Zu&&_i.strm.avail_in!==0)},Hp=function(_i,As){var Ks=65535;for(Ks>_i.pending_buf_size-5&&(Ks=_i.pending_buf_size-5);;){if(_i.lookahead<=1){if(Ku(_i),_i.lookahead===0&&As===Mp)return Yl;if(_i.lookahead===0)break}_i.strstart+=_i.lookahead,_i.lookahead=0;var Us=_i.block_start+Ks;if((_i.strstart===0||_i.strstart>=Us)&&(_i.lookahead=_i.strstart-Us,_i.strstart=Us,Jl(_i,!1),_i.strm.avail_out===0)||_i.strstart-_i.block_start>=_i.w_size-Zu&&(Jl(_i,!1),_i.strm.avail_out===0))return Yl}return _i.insert=0,As===Vu?(Jl(_i,!0),_i.strm.avail_out===0?Ep:Oy):(_i.strstart>_i.block_start&&(Jl(_i,!1),_i.strm.avail_out===0),Yl)},jm=function(_i,As){for(var Ks,Us;;){if(_i.lookahead<Zu){if(Ku(_i),_i.lookahead<Zu&&As===Mp)return Yl;if(_i.lookahead===0)break}if(Ks=0,_i.lookahead>=qu&&(_i.ins_h=Jp(_i,_i.ins_h,_i.window[_i.strstart+qu-1]),Ks=_i.prev[_i.strstart&_i.w_mask]=_i.head[_i.ins_h],_i.head[_i.ins_h]=_i.strstart),Ks!==0&&_i.strstart-Ks<=_i.w_size-Zu&&(_i.match_length=fp(_i,Ks)),_i.match_length>=qu)if(Us=Zl(_i,_i.strstart-_i.match_start,_i.match_length-qu),_i.lookahead-=_i.match_length,_i.match_length<=_i.max_lazy_match&&_i.lookahead>=qu){_i.match_length--;do _i.strstart++,_i.ins_h=Jp(_i,_i.ins_h,_i.window[_i.strstart+qu-1]),Ks=_i.prev[_i.strstart&_i.w_mask]=_i.head[_i.ins_h],_i.head[_i.ins_h]=_i.strstart;while(--_i.match_length!==0);_i.strstart++}else _i.strstart+=_i.match_length,_i.match_length=0,_i.ins_h=_i.window[_i.strstart],_i.ins_h=Jp(_i,_i.ins_h,_i.window[_i.strstart+1]);else Us=Zl(_i,0,_i.window[_i.strstart]),_i.lookahead--,_i.strstart++;if(Us&&(Jl(_i,!1),_i.strm.avail_out===0))return Yl}return _i.insert=_i.strstart<qu-1?_i.strstart:qu-1,As===Vu?(Jl(_i,!0),_i.strm.avail_out===0?Ep:Oy):_i.last_lit&&(Jl(_i,!1),_i.strm.avail_out===0)?Yl:Um},_l=function(_i,As){for(var Ks,Us,ks;;){if(_i.lookahead<Zu){if(Ku(_i),_i.lookahead<Zu&&As===Mp)return Yl;if(_i.lookahead===0)break}if(Ks=0,_i.lookahead>=qu&&(_i.ins_h=Jp(_i,_i.ins_h,_i.window[_i.strstart+qu-1]),Ks=_i.prev[_i.strstart&_i.w_mask]=_i.head[_i.ins_h],_i.head[_i.ins_h]=_i.strstart),_i.prev_length=_i.match_length,_i.prev_match=_i.match_start,_i.match_length=qu-1,Ks!==0&&_i.prev_length<_i.max_lazy_match&&_i.strstart-Ks<=_i.w_size-Zu&&(_i.match_length=fp(_i,Ks),_i.match_length<=5&&(_i.strategy===M0||_i.match_length===qu&&_i.strstart-_i.match_start>4096)&&(_i.match_length=qu-1)),_i.prev_length>=qu&&_i.match_length<=_i.prev_length){ks=_i.strstart+_i.lookahead-qu,Us=Zl(_i,_i.strstart-1-_i.prev_match,_i.prev_length-qu),_i.lookahead-=_i.prev_length-1,_i.prev_length-=2;do++_i.strstart<=ks&&(_i.ins_h=Jp(_i,_i.ins_h,_i.window[_i.strstart+qu-1]),Ks=_i.prev[_i.strstart&_i.w_mask]=_i.head[_i.ins_h],_i.head[_i.ins_h]=_i.strstart);while(--_i.prev_length!==0);if(_i.match_available=0,_i.match_length=qu-1,_i.strstart++,Us&&(Jl(_i,!1),_i.strm.avail_out===0))return Yl}else if(_i.match_available){if(Us=Zl(_i,0,_i.window[_i.strstart-1]),Us&&Jl(_i,!1),_i.strstart++,_i.lookahead--,_i.strm.avail_out===0)return Yl}else _i.match_available=1,_i.strstart++,_i.lookahead--}return _i.match_available&&(Us=Zl(_i,0,_i.window[_i.strstart-1]),_i.match_available=0),_i.insert=_i.strstart<qu-1?_i.strstart:qu-1,As===Vu?(Jl(_i,!0),_i.strm.avail_out===0?Ep:Oy):_i.last_lit&&(Jl(_i,!1),_i.strm.avail_out===0)?Yl:Um},Sm=function(_i,As){for(var Ks,Us,ks,mu,uu=_i.window;;){if(_i.lookahead<=Np){if(Ku(_i),_i.lookahead<=Np&&As===Mp)return Yl;if(_i.lookahead===0)break}if(_i.match_length=0,_i.lookahead>=qu&&_i.strstart>0&&(ks=_i.strstart-1,Us=uu[ks],Us===uu[++ks]&&Us===uu[++ks]&&Us===uu[++ks])){mu=_i.strstart+Np;do;while(Us===uu[++ks]&&Us===uu[++ks]&&Us===uu[++ks]&&Us===uu[++ks]&&Us===uu[++ks]&&Us===uu[++ks]&&Us===uu[++ks]&&Us===uu[++ks]&&ks<mu);_i.match_length=Np-(mu-ks),_i.match_length>_i.lookahead&&(_i.match_length=_i.lookahead)}if(_i.match_length>=qu?(Ks=Zl(_i,1,_i.match_length-qu),_i.lookahead-=_i.match_length,_i.strstart+=_i.match_length,_i.match_length=0):(Ks=Zl(_i,0,_i.window[_i.strstart]),_i.lookahead--,_i.strstart++),Ks&&(Jl(_i,!1),_i.strm.avail_out===0))return Yl}return _i.insert=0,As===Vu?(Jl(_i,!0),_i.strm.avail_out===0?Ep:Oy):_i.last_lit&&(Jl(_i,!1),_i.strm.avail_out===0)?Yl:Um},mm=function(_i,As){for(var Ks;;){if(_i.lookahead===0&&(Ku(_i),_i.lookahead===0)){if(As===Mp)return Yl;break}if(_i.match_length=0,Ks=Zl(_i,0,_i.window[_i.strstart]),_i.lookahead--,_i.strstart++,Ks&&(Jl(_i,!1),_i.strm.avail_out===0))return Yl}return _i.insert=0,As===Vu?(Jl(_i,!0),_i.strm.avail_out===0?Ep:Oy):_i.last_lit&&(Jl(_i,!1),_i.strm.avail_out===0)?Yl:Um};function Tu(su,_i,As,Ks,Us){this.good_length=su,this.max_lazy=_i,this.nice_length=As,this.max_chain=Ks,this.func=Us}var Sp=[new Tu(0,0,0,0,Hp),new Tu(4,4,8,4,jm),new Tu(4,5,16,8,jm),new Tu(4,6,32,32,jm),new Tu(4,4,16,16,_l),new Tu(8,16,32,32,_l),new Tu(8,16,128,128,_l),new Tu(8,32,128,256,_l),new Tu(32,128,258,1024,_l),new Tu(32,258,258,4096,_l)],oy=function(_i){_i.window_size=2*_i.w_size,gl(_i.head),_i.max_lazy_match=Sp[_i.level].max_lazy,_i.good_match=Sp[_i.level].good_length,_i.nice_match=Sp[_i.level].nice_length,_i.max_chain_length=Sp[_i.level].max_chain,_i.strstart=0,_i.block_start=0,_i.lookahead=0,_i.insert=0,_i.match_length=_i.prev_length=qu-1,_i.match_available=0,_i.ins_h=0};function e_(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=np,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(zp*2),this.dyn_dtree=new Uint16Array((2*R_+1)*2),this.bl_tree=new Uint16Array((2*dp+1)*2),gl(this.dyn_ltree),gl(this.dyn_dtree),gl(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(tv+1),this.heap=new Uint16Array(2*bv+1),gl(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*bv+1),gl(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var xv=function(_i){if(!_i||!_i.state)return hm(_i,Vs);_i.total_in=_i.total_out=0,_i.data_type=WE;var As=_i.state;return As.pending=0,As.pending_out=0,As.wrap<0&&(As.wrap=-As.wrap),As.status=As.wrap?N_:Ap,_i.adler=As.wrap===2?0:1,As.last_flush=Mp,Hs(As),rp},Fm=function(_i){var As=xv(_i);return As===rp&&oy(_i.state),As},XE=function(_i,As){return!_i||!_i.state||_i.state.wrap!==2?Vs:(_i.state.gzhead=As,rp)},rv=function(_i,As,Ks,Us,ks,mu){if(!_i)return Vs;var uu=1;if(As===ol&&(As=6),Us<0?(uu=0,Us=-Us):Us>15&&(uu=2,Us-=16),ks<1||ks>R$||Ks!==np||Us<8||Us>15||As<0||As>9||mu<0||mu>kv)return hm(_i,Vs);Us===8&&(Us=9);var fu=new e_;return _i.state=fu,fu.strm=_i,fu.wrap=uu,fu.gzhead=null,fu.w_bits=Us,fu.w_size=1<<fu.w_bits,fu.w_mask=fu.w_size-1,fu.hash_bits=ks+7,fu.hash_size=1<<fu.hash_bits,fu.hash_mask=fu.hash_size-1,fu.hash_shift=~~((fu.hash_bits+qu-1)/qu),fu.window=new Uint8Array(fu.w_size*2),fu.head=new Uint16Array(fu.hash_size),fu.prev=new Uint16Array(fu.w_size),fu.lit_bufsize=1<<ks+6,fu.pending_buf_size=fu.lit_bufsize*4,fu.pending_buf=new Uint8Array(fu.pending_buf_size),fu.d_buf=1*fu.lit_bufsize,fu.l_buf=(1+2)*fu.lit_bufsize,fu.level=As,fu.strategy=mu,fu.method=Ks,Fm(_i)},t_=function(_i,As){return rv(_i,As,np,Hk,qE,R0)},N0=function(_i,As){var Ks,Us;if(!_i||!_i.state||As>Pu||As<0)return _i?hm(_i,Vs):Vs;var ks=_i.state;if(!_i.output||!_i.input&&_i.avail_in!==0||ks.status===Em&&As!==Vu)return hm(_i,_i.avail_out===0?Rp:Vs);ks.strm=_i;var mu=ks.last_flush;if(ks.last_flush=As,ks.status===N_)if(ks.wrap===2)_i.adler=0,Ou(ks,31),Ou(ks,139),Ou(ks,8),ks.gzhead?(Ou(ks,(ks.gzhead.text?1:0)+(ks.gzhead.hcrc?2:0)+(ks.gzhead.extra?4:0)+(ks.gzhead.name?8:0)+(ks.gzhead.comment?16:0)),Ou(ks,ks.gzhead.time&255),Ou(ks,ks.gzhead.time>>8&255),Ou(ks,ks.gzhead.time>>16&255),Ou(ks,ks.gzhead.time>>24&255),Ou(ks,ks.level===9?2:ks.strategy>=pm||ks.level<2?4:0),Ou(ks,ks.gzhead.os&255),ks.gzhead.extra&&ks.gzhead.extra.length&&(Ou(ks,ks.gzhead.extra.length&255),Ou(ks,ks.gzhead.extra.length>>8&255)),ks.gzhead.hcrc&&(_i.adler=Iy(_i.adler,ks.pending_buf,ks.pending,0)),ks.gzindex=0,ks.status=bl):(Ou(ks,0),Ou(ks,0),Ou(ks,0),Ou(ks,0),Ou(ks,0),Ou(ks,ks.level===9?2:ks.strategy>=pm||ks.level<2?4:0),Ou(ks,D_),ks.status=Ap);else{var uu=np+(ks.w_bits-8<<4)<<8,fu=-1;ks.strategy>=pm||ks.level<2?fu=0:ks.level<6?fu=1:ks.level===6?fu=2:fu=3,uu|=fu<<6,ks.strstart!==0&&(uu|=tl),uu+=31-uu%31,ks.status=Ap,Ip(ks,uu),ks.strstart!==0&&(Ip(ks,_i.adler>>>16),Ip(ks,_i.adler&65535)),_i.adler=1}if(ks.status===bl)if(ks.gzhead.extra){for(Ks=ks.pending;ks.gzindex<(ks.gzhead.extra.length&65535)&&!(ks.pending===ks.pending_buf_size&&(ks.gzhead.hcrc&&ks.pending>Ks&&(_i.adler=Iy(_i.adler,ks.pending_buf,ks.pending-Ks,Ks)),ap(_i),Ks=ks.pending,ks.pending===ks.pending_buf_size));)Ou(ks,ks.gzhead.extra[ks.gzindex]&255),ks.gzindex++;ks.gzhead.hcrc&&ks.pending>Ks&&(_i.adler=Iy(_i.adler,ks.pending_buf,ks.pending-Ks,Ks)),ks.gzindex===ks.gzhead.extra.length&&(ks.gzindex=0,ks.status=Dp)}else ks.status=Dp;if(ks.status===Dp)if(ks.gzhead.name){Ks=ks.pending;do{if(ks.pending===ks.pending_buf_size&&(ks.gzhead.hcrc&&ks.pending>Ks&&(_i.adler=Iy(_i.adler,ks.pending_buf,ks.pending-Ks,Ks)),ap(_i),Ks=ks.pending,ks.pending===ks.pending_buf_size)){Us=1;break}ks.gzindex<ks.gzhead.name.length?Us=ks.gzhead.name.charCodeAt(ks.gzindex++)&255:Us=0,Ou(ks,Us)}while(Us!==0);ks.gzhead.hcrc&&ks.pending>Ks&&(_i.adler=Iy(_i.adler,ks.pending_buf,ks.pending-Ks,Ks)),Us===0&&(ks.gzindex=0,ks.status=ay)}else ks.status=ay;if(ks.status===ay)if(ks.gzhead.comment){Ks=ks.pending;do{if(ks.pending===ks.pending_buf_size&&(ks.gzhead.hcrc&&ks.pending>Ks&&(_i.adler=Iy(_i.adler,ks.pending_buf,ks.pending-Ks,Ks)),ap(_i),Ks=ks.pending,ks.pending===ks.pending_buf_size)){Us=1;break}ks.gzindex<ks.gzhead.comment.length?Us=ks.gzhead.comment.charCodeAt(ks.gzindex++)&255:Us=0,Ou(ks,Us)}while(Us!==0);ks.gzhead.hcrc&&ks.pending>Ks&&(_i.adler=Iy(_i.adler,ks.pending_buf,ks.pending-Ks,Ks)),Us===0&&(ks.status=Hu)}else ks.status=Hu;if(ks.status===Hu&&(ks.gzhead.hcrc?(ks.pending+2>ks.pending_buf_size&&ap(_i),ks.pending+2<=ks.pending_buf_size&&(Ou(ks,_i.adler&255),Ou(ks,_i.adler>>8&255),_i.adler=0,ks.status=Ap)):ks.status=Ap),ks.pending!==0){if(ap(_i),_i.avail_out===0)return ks.last_flush=-1,rp}else if(_i.avail_in===0&&L_(As)<=L_(mu)&&As!==Vu)return hm(_i,Rp);if(ks.status===Em&&_i.avail_in!==0)return hm(_i,Rp);if(_i.avail_in!==0||ks.lookahead!==0||As!==Mp&&ks.status!==Em){var El=ks.strategy===pm?mm(ks,As):ks.strategy===iy?Sm(ks,As):Sp[ks.level].func(ks,As);if((El===Ep||El===Oy)&&(ks.status=Em),El===Yl||El===Ep)return _i.avail_out===0&&(ks.last_flush=-1),rp;if(El===Um&&(As===Lm?Zp(ks):As!==Pu&&(O0(ks,0,0,!1),As===ev&&(gl(ks.head),ks.lookahead===0&&(ks.strstart=0,ks.block_start=0,ks.insert=0))),ap(_i),_i.avail_out===0))return ks.last_flush=-1,rp}return As!==Vu?rp:ks.wrap<=0?om:(ks.wrap===2?(Ou(ks,_i.adler&255),Ou(ks,_i.adler>>8&255),Ou(ks,_i.adler>>16&255),Ou(ks,_i.adler>>24&255),Ou(ks,_i.total_in&255),Ou(ks,_i.total_in>>8&255),Ou(ks,_i.total_in>>16&255),Ou(ks,_i.total_in>>24&255)):(Ip(ks,_i.adler>>>16),Ip(ks,_i.adler&65535)),ap(_i),ks.wrap>0&&(ks.wrap=-ks.wrap),ks.pending!==0?rp:om)},Cl=function(_i){if(!_i||!_i.state)return Vs;var As=_i.state.status;return As!==N_&&As!==bl&&As!==Dp&&As!==ay&&As!==Hu&&As!==Ap&&As!==Em?hm(_i,Vs):(_i.state=null,As===Ap?hm(_i,O_):rp)},N$=function(_i,As){var Ks=As.length;if(!_i||!_i.state)return Vs;var Us=_i.state,ks=Us.wrap;if(ks===2||ks===1&&Us.status!==N_||Us.lookahead)return Vs;if(ks===1&&(_i.adler=$v(_i.adler,As,Ks,0)),Us.wrap=0,Ks>=Us.w_size){ks===0&&(gl(Us.head),Us.strstart=0,Us.block_start=0,Us.insert=0);var mu=new Uint8Array(Us.w_size);mu.set(As.subarray(Ks-Us.w_size,Ks),0),As=mu,Ks=Us.w_size}var uu=_i.avail_in,fu=_i.next_in,El=_i.input;for(_i.avail_in=Ks,_i.next_in=0,_i.input=As,Ku(Us);Us.lookahead>=qu;){var Cu=Us.strstart,jp=Us.lookahead-(qu-1);do Us.ins_h=Jp(Us,Us.ins_h,Us.window[Cu+qu-1]),Us.prev[Cu&Us.w_mask]=Us.head[Us.ins_h],Us.head[Us.ins_h]=Cu,Cu++;while(--jp);Us.strstart=Cu,Us.lookahead=qu-1,Ku(Us)}return Us.strstart+=Us.lookahead,Us.block_start=Us.strstart,Us.insert=Us.lookahead,Us.lookahead=0,Us.match_length=Us.prev_length=qu-1,Us.match_available=0,_i.next_in=fu,_i.input=El,_i.avail_in=uu,Us.wrap=ks,rp},D0=t_,_h=rv,$m=Fm,xl=xv,Ry=XE,Bm=N0,Kp=Cl,r_=N$,QE="pako deflate (from Nodeca project)",Tm={deflateInit:D0,deflateInit2:_h,deflateReset:$m,deflateResetKeep:xl,deflateSetHeader:Ry,deflate:Bm,deflateEnd:Kp,deflateSetDictionary:r_,deflateInfo:QE};function ZE(su){for(var _i=0,As=0,Ks=su.length;As<Ks;As++)_i+=su[As].length;for(var Us=new Uint8Array(_i),ks=0,mu=0,uu=su.length;ks<uu;ks++){var fu=su[ks];Us.set(fu,mu),mu+=fu.length}return Us}for(var Ny=new Uint8Array(256),Lp=0;Lp<256;Lp++)Ny[Lp]=Lp>=252?6:Lp>=248?5:Lp>=240?4:Lp>=224?3:Lp>=192?2:1;Ny[254]=Ny[254]=1;function n_(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var _c=n_,Up=Object.prototype.toString,wv=Il.Z_NO_FLUSH,i_=Il.Z_SYNC_FLUSH,a_=Il.Z_FULL_FLUSH,ml=Il.Z_FINISH,km=Il.Z_OK,L0=Il.Z_STREAM_END,U0=Il.Z_DEFAULT_COMPRESSION,Cv=Il.Z_DEFAULT_STRATEGY,D$=Il.Z_DEFLATED;function sy(){this.options={level:U0,method:D$,chunkSize:16384,windowBits:15,memLevel:8,strategy:Cv};var su=this.options;su.raw&&su.windowBits>0?su.windowBits=-su.windowBits:su.gzip&&su.windowBits>0&&su.windowBits<16&&(su.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _c,this.strm.avail_out=0;var _i=Tm.deflateInit2(this.strm,su.level,su.method,su.windowBits,su.memLevel,su.strategy);if(_i!==km)throw new Error(Py[_i]);if(su.header&&Tm.deflateSetHeader(this.strm,su.header),su.dictionary){var As;if(Up.call(su.dictionary)==="[object ArrayBuffer]"?As=new Uint8Array(su.dictionary):As=su.dictionary,_i=Tm.deflateSetDictionary(this.strm,As),_i!==km)throw new Error(Py[_i]);this._dict_set=!0}}sy.prototype.push=function(su,_i){var As=this.strm,Ks=this.options.chunkSize,Us,ks;if(this.ended)return!1;for(_i===~~_i?ks=_i:ks=_i===!0?ml:wv,Up.call(su)==="[object ArrayBuffer]"?As.input=new Uint8Array(su):As.input=su,As.next_in=0,As.avail_in=As.input.length;;){if(As.avail_out===0&&(As.output=new Uint8Array(Ks),As.next_out=0,As.avail_out=Ks),(ks===i_||ks===a_)&&As.avail_out<=6){this.onData(As.output.subarray(0,As.next_out)),As.avail_out=0;continue}if(Us=Tm.deflate(As,ks),Us===L0)return As.next_out>0&&this.onData(As.output.subarray(0,As.next_out)),Us=Tm.deflateEnd(this.strm),this.onEnd(Us),this.ended=!0,Us===km;if(As.avail_out===0){this.onData(As.output);continue}if(ks>0&&As.next_out>0){this.onData(As.output.subarray(0,As.next_out)),As.avail_out=0;continue}if(As.avail_in===0)break}return!0},sy.prototype.onData=function(su){this.chunks.push(su)},sy.prototype.onEnd=function(su){su===km&&(this.result=ZE(this.chunks)),this.chunks=[],this.err=su,this.msg=this.strm.msg};function Vm(su){if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(su);var _i,As,Ks,Us,ks,mu=su.length,uu=0;for(Us=0;Us<mu;Us++)As=su.charCodeAt(Us),(As&64512)===55296&&Us+1<mu&&(Ks=su.charCodeAt(Us+1),(Ks&64512)===56320&&(As=65536+(As-55296<<10)+(Ks-56320),Us++)),uu+=As<128?1:As<2048?2:As<65536?3:4;for(_i=new Uint8Array(uu),ks=0,Us=0;ks<uu;Us++)As=su.charCodeAt(Us),(As&64512)===55296&&Us+1<mu&&(Ks=su.charCodeAt(Us+1),(Ks&64512)===56320&&(As=65536+(As-55296<<10)+(Ks-56320),Us++)),As<128?_i[ks++]=As:As<2048?(_i[ks++]=192|As>>>6,_i[ks++]=128|As&63):As<65536?(_i[ks++]=224|As>>>12,_i[ks++]=128|As>>>6&63,_i[ks++]=128|As&63):(_i[ks++]=240|As>>>18,_i[ks++]=128|As>>>12&63,_i[ks++]=128|As>>>6&63,_i[ks++]=128|As&63);return _i}return{Deflate:sy,constants:Il,string2buf:Vm}}}var state={status:0};function startDeflateWorker(sn,ln){switch(ln===void 0&&(ln=createDeflateWorker),state.status){case 0:state={status:1,callbacks:[sn]},doStartDeflateWorker(ln);break;case 1:state.callbacks.push(sn);break;case 2:sn();break;case 3:sn(state.worker);break}}function doStartDeflateWorker(sn){sn===void 0&&(sn=createDeflateWorker);try{var ln=sn();return addEventListener(ln,"error",onError),addEventListener(ln,"message",function(cn){var dn=cn.data;dn.type==="errored"?onError(dn.error):dn.type==="initialized"&&onInitialized(ln)}),ln.postMessage({action:"init"}),ln}catch(cn){onError(cn)}}function onInitialized(sn){state.status===1&&(state.callbacks.forEach(function(ln){return ln(sn)}),state={status:3,worker:sn})}function onError(sn){state.status===1?(display.error("Session Replay recording failed to start: an error occurred while creating the Worker:",sn),sn instanceof Event||sn instanceof Error&&isMessageCspRelated(sn.message)?display.error("Please make sure CSP is correctly configured https://docs.datadoghq.com/real_user_monitoring/faq/content_security_policy"):addTelemetryError(sn),state.callbacks.forEach(function(ln){return ln()}),state={status:2}):addTelemetryError(sn)}function isMessageCspRelated(sn){return includes(sn,"Content Security Policy")||includes(sn,"requires 'TrustedScriptURL'")}function startRecording(sn,ln,cn,dn,pn,vn){var Sn=function(Zn){sn.notify(12,{error:Zn})},En=vn||createHttpRequest(ln.sessionReplayEndpointBuilder,SEGMENT_BYTES_LIMIT,Sn),Cn=startSegmentCollection(sn,ln.applicationId,cn,dn,En,pn),Pn=Cn.addRecord,Rn=Cn.stop,Ln=record({emit:Pn,configuration:ln,lifeCycle:sn}),Fn=Ln.stop,Gn=Ln.takeSubsequentFullSnapshot,Dn=Ln.flushMutations,Kn=sn.subscribe(4,function(){Dn(),Pn({timestamp:timeStampNow(),type:RecordType.ViewEnd})}).unsubscribe,qn=sn.subscribe(2,function(Zn){Gn(Zn.startClocks.timeStamp)}).unsubscribe;return{stop:function(){Kn(),qn(),Fn(),Rn()}}}function isBrowserSupported(){return typeof Array.from=="function"&&typeof CSSSupportsRule=="function"&&typeof URL.createObjectURL=="function"&&"forEach"in NodeList.prototype}function getSessionReplayLink(sn,ln,cn,dn){var pn=ln.findTrackedSession(),vn=getErrorType(pn,dn),Sn=cn.findView();return getSessionReplayUrl(sn,{viewContext:Sn,errorType:vn,session:pn})}function getErrorType(sn,ln){if(!isBrowserSupported())return"browser-not-supported";if(!sn)return"rum-not-tracked";if(!sn.sessionReplayAllowed)return"incorrect-session-plan";if(!ln)return"replay-not-started"}function makeRecorderApi(sn,ln){if(ln===void 0&&(ln=startDeflateWorker),canUseEventBridge()||!isBrowserSupported())return{start:noop$7,stop:noop$7,getReplayStats:function(){},onRumStart:noop$7,isRecording:function(){return!1},getSessionReplayLink:function(){}};var cn={status:0},dn=function(){cn={status:1}},pn=function(){cn={status:0}};return{start:function(){return dn()},stop:function(){return pn()},getReplayStats,getSessionReplayLink:function(vn,Sn,En){return getSessionReplayLink(vn,Sn,En,cn.status!==0)},onRumStart:function(vn,Sn,En,Cn){vn.subscribe(7,function(){(cn.status===2||cn.status===3)&&(pn(),cn={status:1})}),vn.subscribe(8,function(){cn.status===1&&dn()}),dn=function(){var Pn=En.findTrackedSession();if(!Pn||!Pn.sessionReplayAllowed){cn={status:1};return}cn.status===2||cn.status===3||(cn={status:2},runOnReadyState("interactive",function(){cn.status===2&&ln(function(Rn){if(cn.status===2){if(!Rn){cn={status:0};return}var Ln=sn(vn,Sn,En,Cn,Rn).stop;cn={status:3,stopRecording:Ln}}})}))},pn=function(){cn.status!==0&&(cn.status===3&&cn.stopRecording(),cn={status:0})},cn.status===1&&dn()},isRecording:function(){return cn.status===3}}}var recorderApi=makeRecorderApi(startRecording),datadogRum=makeRumPublicApi(startRum,recorderApi);defineGlobal(getGlobalObject(),"DD_RUM",datadogRum);function _setPrototypeOf$1(sn,ln){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(dn,pn){return dn.__proto__=pn,dn},_setPrototypeOf$1(sn,ln)}function _inheritsLoose$1(sn,ln){sn.prototype=Object.create(ln.prototype),sn.prototype.constructor=sn,_setPrototypeOf$1(sn,ln)}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$9=reactExports,g$c=60103;reactJsxRuntime_production_min.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var h$e=Symbol.for;g$c=h$e("react.element"),reactJsxRuntime_production_min.Fragment=h$e("react.fragment")}var m$e=f$9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n$c=Object.prototype.hasOwnProperty,p$b={key:!0,ref:!0,__self:!0,__source:!0};function q$d(sn,ln,cn){var dn,pn={},vn=null,Sn=null;cn!==void 0&&(vn=""+cn),ln.key!==void 0&&(vn=""+ln.key),ln.ref!==void 0&&(Sn=ln.ref);for(dn in ln)n$c.call(ln,dn)&&!p$b.hasOwnProperty(dn)&&(pn[dn]=ln[dn]);if(sn&&sn.defaultProps)for(dn in ln=sn.defaultProps,ln)pn[dn]===void 0&&(pn[dn]=ln[dn]);return{$$typeof:g$c,type:sn,key:vn,ref:Sn,props:pn,_owner:m$e.current}}reactJsxRuntime_production_min.jsx=q$d;reactJsxRuntime_production_min.jsxs=q$d;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;const Fragment$2=jsxRuntimeExports.Fragment,jsx$2=jsxRuntimeExports.jsx,jsxs$2=jsxRuntimeExports.jsxs;function sheetForTag(sn){if(sn.sheet)return sn.sheet;for(var ln=0;ln<document.styleSheets.length;ln++)if(document.styleSheets[ln].ownerNode===sn)return document.styleSheets[ln]}function createStyleElement(sn){var ln=document.createElement("style");return ln.setAttribute("data-emotion",sn.key),sn.nonce!==void 0&&ln.setAttribute("nonce",sn.nonce),ln.appendChild(document.createTextNode("")),ln.setAttribute("data-s",""),ln}var StyleSheet=function(){function sn(cn){var dn=this;this._insertTag=function(pn){var vn;dn.tags.length===0?dn.insertionPoint?vn=dn.insertionPoint.nextSibling:dn.prepend?vn=dn.container.firstChild:vn=dn.before:vn=dn.tags[dn.tags.length-1].nextSibling,dn.container.insertBefore(pn,vn),dn.tags.push(pn)},this.isSpeedy=cn.speedy===void 0?!0:cn.speedy,this.tags=[],this.ctr=0,this.nonce=cn.nonce,this.key=cn.key,this.container=cn.container,this.prepend=cn.prepend,this.insertionPoint=cn.insertionPoint,this.before=null}var ln=sn.prototype;return ln.hydrate=function(dn){dn.forEach(this._insertTag)},ln.insert=function(dn){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var pn=this.tags[this.tags.length-1];if(this.isSpeedy){var vn=sheetForTag(pn);try{vn.insertRule(dn,vn.cssRules.length)}catch{}}else pn.appendChild(document.createTextNode(dn));this.ctr++},ln.flush=function(){this.tags.forEach(function(dn){return dn.parentNode&&dn.parentNode.removeChild(dn)}),this.tags=[],this.ctr=0},sn}(),MS="-ms-",MOZ="-moz-",WEBKIT$1="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from$1=String.fromCharCode,assign$1=Object.assign;function hash(sn,ln){return charat(sn,0)^45?(((ln<<2^charat(sn,0))<<2^charat(sn,1))<<2^charat(sn,2))<<2^charat(sn,3):0}function trim(sn){return sn.trim()}function match$1(sn,ln){return(sn=ln.exec(sn))?sn[0]:sn}function replace$2(sn,ln,cn){return sn.replace(ln,cn)}function indexof(sn,ln){return sn.indexOf(ln)}function charat(sn,ln){return sn.charCodeAt(ln)|0}function substr(sn,ln,cn){return sn.slice(ln,cn)}function strlen(sn){return sn.length}function sizeof(sn){return sn.length}function append(sn,ln){return ln.push(sn),sn}function combine(sn,ln){return sn.map(ln).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node$1(sn,ln,cn,dn,pn,vn,Sn){return{value:sn,root:ln,parent:cn,type:dn,props:pn,children:vn,line,column,length:Sn,return:""}}function copy(sn,ln){return assign$1(node$1("",null,null,"",null,null,0),sn,{length:-sn.length},ln)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice$4(sn,ln){return substr(characters,sn,ln)}function token$1(sn){switch(sn){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(sn){return line=column=1,length=strlen(characters=sn),position=0,[]}function dealloc(sn){return characters="",sn}function delimit(sn){return trim(slice$4(position-1,delimiter(sn===91?sn+2:sn===40?sn+1:sn)))}function whitespace(sn){for(;(character=peek())&&character<33;)next();return token$1(sn)>2||token$1(character)>3?"":" "}function escaping(sn,ln){for(;--ln&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice$4(sn,caret()+(ln<6&&peek()==32&&next()==32))}function delimiter(sn){for(;next();)switch(character){case sn:return position;case 34:case 39:sn!==34&&sn!==39&&delimiter(character);break;case 40:sn===41&&delimiter(sn);break;case 92:next();break}return position}function commenter(sn,ln){for(;next()&&sn+character!==47+10;)if(sn+character===42+42&&peek()===47)break;return"/*"+slice$4(ln,position-1)+"*"+from$1(sn===47?sn:next())}function identifier(sn){for(;!token$1(peek());)next();return slice$4(sn,position)}function compile(sn){return dealloc(parse$3("",null,null,null,[""],sn=alloc(sn),0,[0],sn))}function parse$3(sn,ln,cn,dn,pn,vn,Sn,En,Cn){for(var Pn=0,Rn=0,Ln=Sn,Fn=0,Gn=0,Dn=0,Kn=1,qn=1,Zn=1,Yn=0,Jn="",rs=pn,us=vn,as=dn,cs=Jn;qn;)switch(Dn=Yn,Yn=next()){case 40:if(Dn!=108&&charat(cs,Ln-1)==58){indexof(cs+=replace$2(delimit(Yn),"&","&\f"),"&\f")!=-1&&(Zn=-1);break}case 34:case 39:case 91:cs+=delimit(Yn);break;case 9:case 10:case 13:case 32:cs+=whitespace(Dn);break;case 92:cs+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),ln,cn),Cn);break;default:cs+="/"}break;case 123*Kn:En[Pn++]=strlen(cs)*Zn;case 125*Kn:case 59:case 0:switch(Yn){case 0:case 125:qn=0;case 59+Rn:Zn==-1&&(cs=replace$2(cs,/\f/g,"")),Gn>0&&strlen(cs)-Ln&&append(Gn>32?declaration(cs+";",dn,cn,Ln-1):declaration(replace$2(cs," ","")+";",dn,cn,Ln-2),Cn);break;case 59:cs+=";";default:if(append(as=ruleset(cs,ln,cn,Pn,Rn,pn,En,Jn,rs=[],us=[],Ln),vn),Yn===123)if(Rn===0)parse$3(cs,ln,as,as,rs,vn,Ln,En,us);else switch(Fn===99&&charat(cs,3)===110?100:Fn){case 100:case 108:case 109:case 115:parse$3(sn,as,as,dn&&append(ruleset(sn,as,as,0,0,pn,En,Jn,pn,rs=[],Ln),us),pn,us,Ln,En,dn?rs:us);break;default:parse$3(cs,as,as,as,[""],us,0,En,us)}}Pn=Rn=Gn=0,Kn=Zn=1,Jn=cs="",Ln=Sn;break;case 58:Ln=1+strlen(cs),Gn=Dn;default:if(Kn<1){if(Yn==123)--Kn;else if(Yn==125&&Kn++==0&&prev()==125)continue}switch(cs+=from$1(Yn),Yn*Kn){case 38:Zn=Rn>0?1:(cs+="\f",-1);break;case 44:En[Pn++]=(strlen(cs)-1)*Zn,Zn=1;break;case 64:peek()===45&&(cs+=delimit(next())),Fn=peek(),Rn=Ln=strlen(Jn=cs+=identifier(caret())),Yn++;break;case 45:Dn===45&&strlen(cs)==2&&(Kn=0)}}return vn}function ruleset(sn,ln,cn,dn,pn,vn,Sn,En,Cn,Pn,Rn){for(var Ln=pn-1,Fn=pn===0?vn:[""],Gn=sizeof(Fn),Dn=0,Kn=0,qn=0;Dn<dn;++Dn)for(var Zn=0,Yn=substr(sn,Ln+1,Ln=abs(Kn=Sn[Dn])),Jn=sn;Zn<Gn;++Zn)(Jn=trim(Kn>0?Fn[Zn]+" "+Yn:replace$2(Yn,/&\f/g,Fn[Zn])))&&(Cn[qn++]=Jn);return node$1(sn,ln,cn,pn===0?RULESET:En,Cn,Pn,Rn)}function comment(sn,ln,cn){return node$1(sn,ln,cn,COMMENT,from$1(char()),substr(sn,2,-2),0)}function declaration(sn,ln,cn,dn){return node$1(sn,ln,cn,DECLARATION,substr(sn,0,dn),substr(sn,dn+1,-1),dn)}function serialize(sn,ln){for(var cn="",dn=sizeof(sn),pn=0;pn<dn;pn++)cn+=ln(sn[pn],pn,sn,ln)||"";return cn}function stringify$1(sn,ln,cn,dn){switch(sn.type){case LAYER:if(sn.children.length)break;case IMPORT:case DECLARATION:return sn.return=sn.return||sn.value;case COMMENT:return"";case KEYFRAMES:return sn.return=sn.value+"{"+serialize(sn.children,dn)+"}";case RULESET:sn.value=sn.props.join(",")}return strlen(cn=serialize(sn.children,dn))?sn.return=sn.value+"{"+cn+"}":""}function middleware(sn){var ln=sizeof(sn);return function(cn,dn,pn,vn){for(var Sn="",En=0;En<ln;En++)Sn+=sn[En](cn,dn,pn,vn)||"";return Sn}}function rulesheet(sn){return function(ln){ln.root||(ln=ln.return)&&sn(ln)}}function memoize$1(sn){var ln=Object.create(null);return function(cn){return ln[cn]===void 0&&(ln[cn]=sn(cn)),ln[cn]}}var identifierWithPointTracking=function(ln,cn,dn){for(var pn=0,vn=0;pn=vn,vn=peek(),pn===38&&vn===12&&(cn[dn]=1),!token$1(vn);)next();return slice$4(ln,position)},toRules=function(ln,cn){var dn=-1,pn=44;do switch(token$1(pn)){case 0:pn===38&&peek()===12&&(cn[dn]=1),ln[dn]+=identifierWithPointTracking(position-1,cn,dn);break;case 2:ln[dn]+=delimit(pn);break;case 4:if(pn===44){ln[++dn]=peek()===58?"&\f":"",cn[dn]=ln[dn].length;break}default:ln[dn]+=from$1(pn)}while(pn=next());return ln},getRules=function(ln,cn){return dealloc(toRules(alloc(ln),cn))},fixedElements=new WeakMap,compat=function(ln){if(!(ln.type!=="rule"||!ln.parent||ln.length<1)){for(var cn=ln.value,dn=ln.parent,pn=ln.column===dn.column&&ln.line===dn.line;dn.type!=="rule";)if(dn=dn.parent,!dn)return;if(!(ln.props.length===1&&cn.charCodeAt(0)!==58&&!fixedElements.get(dn))&&!pn){fixedElements.set(ln,!0);for(var vn=[],Sn=getRules(cn,vn),En=dn.props,Cn=0,Pn=0;Cn<Sn.length;Cn++)for(var Rn=0;Rn<En.length;Rn++,Pn++)ln.props[Pn]=vn[Cn]?Sn[Cn].replace(/&\f/g,En[Rn]):En[Rn]+" "+Sn[Cn]}}},removeLabel=function(ln){if(ln.type==="decl"){var cn=ln.value;cn.charCodeAt(0)===108&&cn.charCodeAt(2)===98&&(ln.return="",ln.value="")}};function prefix(sn,ln){switch(hash(sn,ln)){case 5103:return WEBKIT$1+"print-"+sn+sn;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT$1+sn+sn;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT$1+sn+MOZ+sn+MS+sn+sn;case 6828:case 4268:return WEBKIT$1+sn+MS+sn+sn;case 6165:return WEBKIT$1+sn+MS+"flex-"+sn+sn;case 5187:return WEBKIT$1+sn+replace$2(sn,/(\w+).+(:[^]+)/,WEBKIT$1+"box-$1$2"+MS+"flex-$1$2")+sn;case 5443:return WEBKIT$1+sn+MS+"flex-item-"+replace$2(sn,/flex-|-self/,"")+sn;case 4675:return WEBKIT$1+sn+MS+"flex-line-pack"+replace$2(sn,/align-content|flex-|-self/,"")+sn;case 5548:return WEBKIT$1+sn+MS+replace$2(sn,"shrink","negative")+sn;case 5292:return WEBKIT$1+sn+MS+replace$2(sn,"basis","preferred-size")+sn;case 6060:return WEBKIT$1+"box-"+replace$2(sn,"-grow","")+WEBKIT$1+sn+MS+replace$2(sn,"grow","positive")+sn;case 4554:return WEBKIT$1+replace$2(sn,/([^-])(transform)/g,"$1"+WEBKIT$1+"$2")+sn;case 6187:return replace$2(replace$2(replace$2(sn,/(zoom-|grab)/,WEBKIT$1+"$1"),/(image-set)/,WEBKIT$1+"$1"),sn,"")+sn;case 5495:case 3959:return replace$2(sn,/(image-set\([^]*)/,WEBKIT$1+"$1$`$1");case 4968:return replace$2(replace$2(sn,/(.+:)(flex-)?(.*)/,WEBKIT$1+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT$1+sn+sn;case 4095:case 3583:case 4068:case 2532:return replace$2(sn,/(.+)-inline(.+)/,WEBKIT$1+"$1$2")+sn;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(sn)-1-ln>6)switch(charat(sn,ln+1)){case 109:if(charat(sn,ln+4)!==45)break;case 102:return replace$2(sn,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT$1+"$2-$3$1"+MOZ+(charat(sn,ln+3)==108?"$3":"$2-$3"))+sn;case 115:return~indexof(sn,"stretch")?prefix(replace$2(sn,"stretch","fill-available"),ln)+sn:sn}break;case 4949:if(charat(sn,ln+1)!==115)break;case 6444:switch(charat(sn,strlen(sn)-3-(~indexof(sn,"!important")&&10))){case 107:return replace$2(sn,":",":"+WEBKIT$1)+sn;case 101:return replace$2(sn,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT$1+(charat(sn,14)===45?"inline-":"")+"box$3$1"+WEBKIT$1+"$2$3$1"+MS+"$2box$3")+sn}break;case 5936:switch(charat(sn,ln+11)){case 114:return WEBKIT$1+sn+MS+replace$2(sn,/[svh]\w+-[tblr]{2}/,"tb")+sn;case 108:return WEBKIT$1+sn+MS+replace$2(sn,/[svh]\w+-[tblr]{2}/,"tb-rl")+sn;case 45:return WEBKIT$1+sn+MS+replace$2(sn,/[svh]\w+-[tblr]{2}/,"lr")+sn}return WEBKIT$1+sn+MS+sn+sn}return sn}var prefixer=function(ln,cn,dn,pn){if(ln.length>-1&&!ln.return)switch(ln.type){case DECLARATION:ln.return=prefix(ln.value,ln.length);break;case KEYFRAMES:return serialize([copy(ln,{value:replace$2(ln.value,"@","@"+WEBKIT$1)})],pn);case RULESET:if(ln.length)return combine(ln.props,function(vn){switch(match$1(vn,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(ln,{props:[replace$2(vn,/:(read-\w+)/,":"+MOZ+"$1")]})],pn);case"::placeholder":return serialize([copy(ln,{props:[replace$2(vn,/:(plac\w+)/,":"+WEBKIT$1+"input-$1")]}),copy(ln,{props:[replace$2(vn,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(ln,{props:[replace$2(vn,/:(plac\w+)/,MS+"input-$1")]})],pn)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(ln){var cn=ln.key;if(cn==="css"){var dn=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(dn,function(Kn){var qn=Kn.getAttribute("data-emotion");qn.indexOf(" ")!==-1&&(document.head.appendChild(Kn),Kn.setAttribute("data-s",""))})}var pn=ln.stylisPlugins||defaultStylisPlugins,vn={},Sn,En=[];Sn=ln.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+cn+' "]'),function(Kn){for(var qn=Kn.getAttribute("data-emotion").split(" "),Zn=1;Zn<qn.length;Zn++)vn[qn[Zn]]=!0;En.push(Kn)});var Cn,Pn=[compat,removeLabel];{var Rn,Ln=[stringify$1,rulesheet(function(Kn){Rn.insert(Kn)})],Fn=middleware(Pn.concat(pn,Ln)),Gn=function(qn){return serialize(compile(qn),Fn)};Cn=function(qn,Zn,Yn,Jn){Rn=Yn,Gn(qn?qn+"{"+Zn.styles+"}":Zn.styles),Jn&&(Dn.inserted[Zn.name]=!0)}}var Dn={key:cn,sheet:new StyleSheet({key:cn,container:Sn,nonce:ln.nonce,speedy:ln.speedy,prepend:ln.prepend,insertionPoint:ln.insertionPoint}),nonce:ln.nonce,inserted:vn,registered:{},insert:Cn};return Dn.sheet.hydrate(En),Dn};function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(sn){for(var ln=1;ln<arguments.length;ln++){var cn=arguments[ln];for(var dn in cn)Object.prototype.hasOwnProperty.call(cn,dn)&&(sn[dn]=cn[dn])}return sn},_extends$3.apply(this,arguments)}var isBrowser$1=!0;function getRegisteredStyles(sn,ln,cn){var dn="";return cn.split(" ").forEach(function(pn){sn[pn]!==void 0?ln.push(sn[pn]+";"):dn+=pn+" "}),dn}var registerStyles=function(ln,cn,dn){var pn=ln.key+"-"+cn.name;(dn===!1||isBrowser$1===!1)&&ln.registered[pn]===void 0&&(ln.registered[pn]=cn.styles)},insertStyles=function(ln,cn,dn){registerStyles(ln,cn,dn);var pn=ln.key+"-"+cn.name;if(ln.inserted[cn.name]===void 0){var vn=cn;do ln.insert(cn===vn?"."+pn:"",vn,ln.sheet,!0),vn=vn.next;while(vn!==void 0)}};function murmur2(sn){for(var ln=0,cn,dn=0,pn=sn.length;pn>=4;++dn,pn-=4)cn=sn.charCodeAt(dn)&255|(sn.charCodeAt(++dn)&255)<<8|(sn.charCodeAt(++dn)&255)<<16|(sn.charCodeAt(++dn)&255)<<24,cn=(cn&65535)*1540483477+((cn>>>16)*59797<<16),cn^=cn>>>24,ln=(cn&65535)*1540483477+((cn>>>16)*59797<<16)^(ln&65535)*1540483477+((ln>>>16)*59797<<16);switch(pn){case 3:ln^=(sn.charCodeAt(dn+2)&255)<<16;case 2:ln^=(sn.charCodeAt(dn+1)&255)<<8;case 1:ln^=sn.charCodeAt(dn)&255,ln=(ln&65535)*1540483477+((ln>>>16)*59797<<16)}return ln^=ln>>>13,ln=(ln&65535)*1540483477+((ln>>>16)*59797<<16),((ln^ln>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(ln){return ln.charCodeAt(1)===45},isProcessableValue=function(ln){return ln!=null&&typeof ln!="boolean"},processStyleName=memoize$1(function(sn){return isCustomProperty(sn)?sn:sn.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(ln,cn){switch(ln){case"animation":case"animationName":if(typeof cn=="string")return cn.replace(animationRegex,function(dn,pn,vn){return cursor={name:pn,styles:vn,next:cursor},pn})}return unitlessKeys[ln]!==1&&!isCustomProperty(ln)&&typeof cn=="number"&&cn!==0?cn+"px":cn},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(sn,ln,cn){if(cn==null)return"";if(cn.__emotion_styles!==void 0)return cn;switch(typeof cn){case"boolean":return"";case"object":{if(cn.anim===1)return cursor={name:cn.name,styles:cn.styles,next:cursor},cn.name;if(cn.styles!==void 0){var dn=cn.next;if(dn!==void 0)for(;dn!==void 0;)cursor={name:dn.name,styles:dn.styles,next:cursor},dn=dn.next;var pn=cn.styles+";";return pn}return createStringFromObject(sn,ln,cn)}case"function":{if(sn!==void 0){var vn=cursor,Sn=cn(sn);return cursor=vn,handleInterpolation(sn,ln,Sn)}break}}if(ln==null)return cn;var En=ln[cn];return En!==void 0?En:cn}function createStringFromObject(sn,ln,cn){var dn="";if(Array.isArray(cn))for(var pn=0;pn<cn.length;pn++)dn+=handleInterpolation(sn,ln,cn[pn])+";";else for(var vn in cn){var Sn=cn[vn];if(typeof Sn!="object")ln!=null&&ln[Sn]!==void 0?dn+=vn+"{"+ln[Sn]+"}":isProcessableValue(Sn)&&(dn+=processStyleName(vn)+":"+processStyleValue(vn,Sn)+";");else if(Array.isArray(Sn)&&typeof Sn[0]=="string"&&(ln==null||ln[Sn[0]]===void 0))for(var En=0;En<Sn.length;En++)isProcessableValue(Sn[En])&&(dn+=processStyleName(vn)+":"+processStyleValue(vn,Sn[En])+";");else{var Cn=handleInterpolation(sn,ln,Sn);switch(vn){case"animation":case"animationName":{dn+=processStyleName(vn)+":"+Cn+";";break}default:dn+=vn+"{"+Cn+"}"}}}return dn}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function(ln,cn,dn){if(ln.length===1&&typeof ln[0]=="object"&&ln[0]!==null&&ln[0].styles!==void 0)return ln[0];var pn=!0,vn="";cursor=void 0;var Sn=ln[0];Sn==null||Sn.raw===void 0?(pn=!1,vn+=handleInterpolation(dn,cn,Sn)):vn+=Sn[0];for(var En=1;En<ln.length;En++)vn+=handleInterpolation(dn,cn,ln[En]),pn&&(vn+=Sn[En]);labelPattern.lastIndex=0;for(var Cn="",Pn;(Pn=labelPattern.exec(vn))!==null;)Cn+="-"+Pn[1];var Rn=murmur2(vn)+Cn;return{name:Rn,styles:vn,next:cursor}},syncFallback=function(ln){return ln()},useInsertionEffect$1=React["useInsertionEffect"]?React["useInsertionEffect"]:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect$1||syncFallback,hasOwnProperty$h={}.hasOwnProperty,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(ln){return reactExports.forwardRef(function(cn,dn){var pn=reactExports.useContext(EmotionCacheContext);return ln(cn,pn,dn)})},ThemeContext=reactExports.createContext({}),typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function(ln,cn){var dn={};for(var pn in cn)hasOwnProperty$h.call(cn,pn)&&(dn[pn]=cn[pn]);return dn[typePropName]=ln,dn},Insertion=function(ln){var cn=ln.cache,dn=ln.serialized,pn=ln.isStringTag;return registerStyles(cn,dn,pn),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(cn,dn,pn)}),null},Emotion=withEmotionCache(function(sn,ln,cn){var dn=sn.css;typeof dn=="string"&&ln.registered[dn]!==void 0&&(dn=ln.registered[dn]);var pn=sn[typePropName],vn=[dn],Sn="";typeof sn.className=="string"?Sn=getRegisteredStyles(ln.registered,vn,sn.className):sn.className!=null&&(Sn=sn.className+" ");var En=serializeStyles(vn,void 0,reactExports.useContext(ThemeContext));Sn+=ln.key+"-"+En.name;var Cn={};for(var Pn in sn)hasOwnProperty$h.call(sn,Pn)&&Pn!=="css"&&Pn!==typePropName&&(Cn[Pn]=sn[Pn]);return Cn.ref=cn,Cn.className=Sn,jsxs$1(Fragment$1,{children:[jsx$1(Insertion,{cache:ln,serialized:En,isStringTag:typeof pn=="string"}),jsx$1(pn,{...Cn})]})}),Emotion$1=Emotion,Fragment$1=Fragment$2;function jsx$1(sn,ln,cn){return hasOwnProperty$h.call(ln,"css")?jsx$2(Emotion$1,createEmotionProps(sn,ln),cn):jsx$2(sn,ln,cn)}function jsxs$1(sn,ln,cn){return hasOwnProperty$h.call(ln,"css")?jsxs$2(Emotion$1,createEmotionProps(sn,ln),cn):jsxs$2(sn,ln,cn)}var changedArray=function(ln,cn){return ln===void 0&&(ln=[]),cn===void 0&&(cn=[]),ln.length!==cn.length||ln.some(function(dn,pn){return!Object.is(dn,cn[pn])})},initialState={error:null},ErrorBoundary=function(sn){_inheritsLoose$1(ln,sn);function ln(){for(var dn,pn=arguments.length,vn=new Array(pn),Sn=0;Sn<pn;Sn++)vn[Sn]=arguments[Sn];return dn=sn.call.apply(sn,[this].concat(vn))||this,dn.state=initialState,dn.resetErrorBoundary=function(){for(var En,Cn=arguments.length,Pn=new Array(Cn),Rn=0;Rn<Cn;Rn++)Pn[Rn]=arguments[Rn];dn.props.onReset==null||(En=dn.props).onReset.apply(En,Pn),dn.reset()},dn}ln.getDerivedStateFromError=function(pn){return{error:pn}};var cn=ln.prototype;return cn.reset=function(){this.setState(initialState)},cn.componentDidCatch=function(pn,vn){var Sn,En;(Sn=(En=this.props).onError)==null||Sn.call(En,pn,vn)},cn.componentDidUpdate=function(pn,vn){var Sn=this.state.error,En=this.props.resetKeys;if(Sn!==null&&vn.error!==null&&changedArray(pn.resetKeys,En)){var Cn,Pn;(Cn=(Pn=this.props).onResetKeysChange)==null||Cn.call(Pn,pn.resetKeys,En),this.reset()}},cn.render=function(){var pn=this.state.error,vn=this.props,Sn=vn.fallbackRender,En=vn.FallbackComponent,Cn=vn.fallback;if(pn!==null){var Pn={error:pn,resetErrorBoundary:this.resetErrorBoundary};if(reactExports.isValidElement(Cn))return Cn;if(typeof Sn=="function")return Sn(Pn);if(En)return jsx$1(En,{...Pn});throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},ln}(reactExports.Component);/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(sn){for(var ln=1;ln<arguments.length;ln++){var cn=arguments[ln];for(var dn in cn)Object.prototype.hasOwnProperty.call(cn,dn)&&(sn[dn]=cn[dn])}return sn},_extends$2.apply(this,arguments)}var Action;(function(sn){sn.Pop="POP",sn.Push="PUSH",sn.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(sn){sn===void 0&&(sn={});function ln(dn,pn){let{pathname:vn,search:Sn,hash:En}=dn.location;return createLocation("",{pathname:vn,search:Sn,hash:En},pn.state&&pn.state.usr||null,pn.state&&pn.state.key||"default")}function cn(dn,pn){return typeof pn=="string"?pn:createPath(pn)}return getUrlBasedHistory(ln,cn,null,sn)}function invariant$1(sn,ln){if(sn===!1||sn===null||typeof sn>"u")throw new Error(ln)}function warning(sn,ln){if(!sn){typeof console<"u"&&console.warn(ln);try{throw new Error(ln)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(sn,ln){return{usr:sn.state,key:sn.key,idx:ln}}function createLocation(sn,ln,cn,dn){return cn===void 0&&(cn=null),_extends$2({pathname:typeof sn=="string"?sn:sn.pathname,search:"",hash:""},typeof ln=="string"?parsePath(ln):ln,{state:cn,key:ln&&ln.key||dn||createKey()})}function createPath(sn){let{pathname:ln="/",search:cn="",hash:dn=""}=sn;return cn&&cn!=="?"&&(ln+=cn.charAt(0)==="?"?cn:"?"+cn),dn&&dn!=="#"&&(ln+=dn.charAt(0)==="#"?dn:"#"+dn),ln}function parsePath(sn){let ln={};if(sn){let cn=sn.indexOf("#");cn>=0&&(ln.hash=sn.substr(cn),sn=sn.substr(0,cn));let dn=sn.indexOf("?");dn>=0&&(ln.search=sn.substr(dn),sn=sn.substr(0,dn)),sn&&(ln.pathname=sn)}return ln}function getUrlBasedHistory(sn,ln,cn,dn){dn===void 0&&(dn={});let{window:pn=document.defaultView,v5Compat:vn=!1}=dn,Sn=pn.history,En=Action.Pop,Cn=null,Pn=Rn();Pn==null&&(Pn=0,Sn.replaceState(_extends$2({},Sn.state,{idx:Pn}),""));function Rn(){return(Sn.state||{idx:null}).idx}function Ln(){En=Action.Pop;let qn=Rn(),Zn=qn==null?null:qn-Pn;Pn=qn,Cn&&Cn({action:En,location:Kn.location,delta:Zn})}function Fn(qn,Zn){En=Action.Push;let Yn=createLocation(Kn.location,qn,Zn);cn&&cn(Yn,qn),Pn=Rn()+1;let Jn=getHistoryState(Yn,Pn),rs=Kn.createHref(Yn);try{Sn.pushState(Jn,"",rs)}catch{pn.location.assign(rs)}vn&&Cn&&Cn({action:En,location:Kn.location,delta:1})}function Gn(qn,Zn){En=Action.Replace;let Yn=createLocation(Kn.location,qn,Zn);cn&&cn(Yn,qn),Pn=Rn();let Jn=getHistoryState(Yn,Pn),rs=Kn.createHref(Yn);Sn.replaceState(Jn,"",rs),vn&&Cn&&Cn({action:En,location:Kn.location,delta:0})}function Dn(qn){let Zn=pn.location.origin!=="null"?pn.location.origin:pn.location.href,Yn=typeof qn=="string"?qn:createPath(qn);return invariant$1(Zn,"No window.location.(origin|href) available to create URL for href: "+Yn),new URL(Yn,Zn)}let Kn={get action(){return En},get location(){return sn(pn,Sn)},listen(qn){if(Cn)throw new Error("A history only accepts one active listener");return pn.addEventListener(PopStateEventType,Ln),Cn=qn,()=>{pn.removeEventListener(PopStateEventType,Ln),Cn=null}},createHref(qn){return ln(pn,qn)},createURL:Dn,encodeLocation(qn){let Zn=Dn(qn);return{pathname:Zn.pathname,search:Zn.search,hash:Zn.hash}},push:Fn,replace:Gn,go(qn){return Sn.go(qn)}};return Kn}var ResultType;(function(sn){sn.data="data",sn.deferred="deferred",sn.redirect="redirect",sn.error="error"})(ResultType||(ResultType={}));function matchRoutes(sn,ln,cn){cn===void 0&&(cn="/");let dn=typeof ln=="string"?parsePath(ln):ln,pn=stripBasename(dn.pathname||"/",cn);if(pn==null)return null;let vn=flattenRoutes(sn);rankRouteBranches(vn);let Sn=null;for(let En=0;Sn==null&&En<vn.length;++En)Sn=matchRouteBranch(vn[En],safelyDecodeURI(pn));return Sn}function flattenRoutes(sn,ln,cn,dn){ln===void 0&&(ln=[]),cn===void 0&&(cn=[]),dn===void 0&&(dn="");let pn=(vn,Sn,En)=>{let Cn={relativePath:En===void 0?vn.path||"":En,caseSensitive:vn.caseSensitive===!0,childrenIndex:Sn,route:vn};Cn.relativePath.startsWith("/")&&(invariant$1(Cn.relativePath.startsWith(dn),'Absolute route path "'+Cn.relativePath+'" nested under path '+('"'+dn+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),Cn.relativePath=Cn.relativePath.slice(dn.length));let Pn=joinPaths([dn,Cn.relativePath]),Rn=cn.concat(Cn);vn.children&&vn.children.length>0&&(invariant$1(vn.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+Pn+'".')),flattenRoutes(vn.children,ln,Rn,Pn)),!(vn.path==null&&!vn.index)&&ln.push({path:Pn,score:computeScore(Pn,vn.index),routesMeta:Rn})};return sn.forEach((vn,Sn)=>{var En;if(vn.path===""||!((En=vn.path)!=null&&En.includes("?")))pn(vn,Sn);else for(let Cn of explodeOptionalSegments(vn.path))pn(vn,Sn,Cn)}),ln}function explodeOptionalSegments(sn){let ln=sn.split("/");if(ln.length===0)return[];let[cn,...dn]=ln,pn=cn.endsWith("?"),vn=cn.replace(/\?$/,"");if(dn.length===0)return pn?[vn,""]:[vn];let Sn=explodeOptionalSegments(dn.join("/")),En=[];return En.push(...Sn.map(Cn=>Cn===""?vn:[vn,Cn].join("/"))),pn&&En.push(...Sn),En.map(Cn=>sn.startsWith("/")&&Cn===""?"/":Cn)}function rankRouteBranches(sn){sn.sort((ln,cn)=>ln.score!==cn.score?cn.score-ln.score:compareIndexes(ln.routesMeta.map(dn=>dn.childrenIndex),cn.routesMeta.map(dn=>dn.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=sn=>sn==="*";function computeScore(sn,ln){let cn=sn.split("/"),dn=cn.length;return cn.some(isSplat)&&(dn+=splatPenalty),ln&&(dn+=indexRouteValue),cn.filter(pn=>!isSplat(pn)).reduce((pn,vn)=>pn+(paramRe.test(vn)?dynamicSegmentValue:vn===""?emptySegmentValue:staticSegmentValue),dn)}function compareIndexes(sn,ln){return sn.length===ln.length&&sn.slice(0,-1).every((dn,pn)=>dn===ln[pn])?sn[sn.length-1]-ln[ln.length-1]:0}function matchRouteBranch(sn,ln){let{routesMeta:cn}=sn,dn={},pn="/",vn=[];for(let Sn=0;Sn<cn.length;++Sn){let En=cn[Sn],Cn=Sn===cn.length-1,Pn=pn==="/"?ln:ln.slice(pn.length)||"/",Rn=matchPath({path:En.relativePath,caseSensitive:En.caseSensitive,end:Cn},Pn);if(!Rn)return null;Object.assign(dn,Rn.params);let Ln=En.route;vn.push({params:dn,pathname:joinPaths([pn,Rn.pathname]),pathnameBase:normalizePathname(joinPaths([pn,Rn.pathnameBase])),route:Ln}),Rn.pathnameBase!=="/"&&(pn=joinPaths([pn,Rn.pathnameBase]))}return vn}function matchPath(sn,ln){typeof sn=="string"&&(sn={path:sn,caseSensitive:!1,end:!0});let[cn,dn]=compilePath(sn.path,sn.caseSensitive,sn.end),pn=ln.match(cn);if(!pn)return null;let vn=pn[0],Sn=vn.replace(/(.)\/+$/,"$1"),En=pn.slice(1);return{params:dn.reduce((Pn,Rn,Ln)=>{if(Rn==="*"){let Fn=En[Ln]||"";Sn=vn.slice(0,vn.length-Fn.length).replace(/(.)\/+$/,"$1")}return Pn[Rn]=safelyDecodeURIComponent(En[Ln]||"",Rn),Pn},{}),pathname:vn,pathnameBase:Sn,pattern:sn}}function compilePath(sn,ln,cn){ln===void 0&&(ln=!1),cn===void 0&&(cn=!0),warning(sn==="*"||!sn.endsWith("*")||sn.endsWith("/*"),'Route path "'+sn+'" will be treated as if it were '+('"'+sn.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+sn.replace(/\*$/,"/*")+'".'));let dn=[],pn="^"+sn.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(Sn,En)=>(dn.push(En),"/([^\\/]+)"));return sn.endsWith("*")?(dn.push("*"),pn+=sn==="*"||sn==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):cn?pn+="\\/*$":sn!==""&&sn!=="/"&&(pn+="(?:(?=\\/|$))"),[new RegExp(pn,ln?void 0:"i"),dn]}function safelyDecodeURI(sn){try{return decodeURI(sn)}catch(ln){return warning(!1,'The URL path "'+sn+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+ln+").")),sn}}function safelyDecodeURIComponent(sn,ln){try{return decodeURIComponent(sn)}catch(cn){return warning(!1,'The value for the URL param "'+ln+'" will not be decoded because'+(' the string "'+sn+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+cn+").")),sn}}function stripBasename(sn,ln){if(ln==="/")return sn;if(!sn.toLowerCase().startsWith(ln.toLowerCase()))return null;let cn=ln.endsWith("/")?ln.length-1:ln.length,dn=sn.charAt(cn);return dn&&dn!=="/"?null:sn.slice(cn)||"/"}function resolvePath(sn,ln){ln===void 0&&(ln="/");let{pathname:cn,search:dn="",hash:pn=""}=typeof sn=="string"?parsePath(sn):sn;return{pathname:cn?cn.startsWith("/")?cn:resolvePathname(cn,ln):ln,search:normalizeSearch(dn),hash:normalizeHash(pn)}}function resolvePathname(sn,ln){let cn=ln.replace(/\/+$/,"").split("/");return sn.split("/").forEach(pn=>{pn===".."?cn.length>1&&cn.pop():pn!=="."&&cn.push(pn)}),cn.length>1?cn.join("/"):"/"}function getInvalidPathError(sn,ln,cn,dn){return"Cannot include a '"+sn+"' character in a manually specified "+("`to."+ln+"` field ["+JSON.stringify(dn)+"].  Please separate it out to the ")+("`to."+cn+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(sn){return sn.filter((ln,cn)=>cn===0||ln.route.path&&ln.route.path.length>0)}function resolveTo(sn,ln,cn,dn){dn===void 0&&(dn=!1);let pn;typeof sn=="string"?pn=parsePath(sn):(pn=_extends$2({},sn),invariant$1(!pn.pathname||!pn.pathname.includes("?"),getInvalidPathError("?","pathname","search",pn)),invariant$1(!pn.pathname||!pn.pathname.includes("#"),getInvalidPathError("#","pathname","hash",pn)),invariant$1(!pn.search||!pn.search.includes("#"),getInvalidPathError("#","search","hash",pn)));let vn=sn===""||pn.pathname==="",Sn=vn?"/":pn.pathname,En;if(dn||Sn==null)En=cn;else{let Ln=ln.length-1;if(Sn.startsWith("..")){let Fn=Sn.split("/");for(;Fn[0]==="..";)Fn.shift(),Ln-=1;pn.pathname=Fn.join("/")}En=Ln>=0?ln[Ln]:"/"}let Cn=resolvePath(pn,En),Pn=Sn&&Sn!=="/"&&Sn.endsWith("/"),Rn=(vn||Sn===".")&&cn.endsWith("/");return!Cn.pathname.endsWith("/")&&(Pn||Rn)&&(Cn.pathname+="/"),Cn}const joinPaths=sn=>sn.join("/").replace(/\/\/+/g,"/"),normalizePathname=sn=>sn.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=sn=>!sn||sn==="?"?"":sn.startsWith("?")?sn:"?"+sn,normalizeHash=sn=>!sn||sn==="#"?"":sn.startsWith("#")?sn:"#"+sn;function isRouteErrorResponse(sn){return sn!=null&&typeof sn.status=="number"&&typeof sn.statusText=="string"&&typeof sn.internal=="boolean"&&"data"in sn}const validMutationMethodsArr=["post","put","patch","delete"];[...validMutationMethodsArr];/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function isPolyfill(sn,ln){return sn===ln&&(sn!==0||1/sn===1/ln)||sn!==sn&&ln!==ln}const is=typeof Object.is=="function"?Object.is:isPolyfill,{useState,useEffect,useLayoutEffect,useDebugValue}=React;function useSyncExternalStore$2(sn,ln,cn){const dn=ln(),[{inst:pn},vn]=useState({inst:{value:dn,getSnapshot:ln}});return useLayoutEffect(()=>{pn.value=dn,pn.getSnapshot=ln,checkIfSnapshotChanged(pn)&&vn({inst:pn})},[sn,dn,ln]),useEffect(()=>(checkIfSnapshotChanged(pn)&&vn({inst:pn}),sn(()=>{checkIfSnapshotChanged(pn)&&vn({inst:pn})})),[sn]),useDebugValue(dn),dn}function checkIfSnapshotChanged(sn){const ln=sn.getSnapshot,cn=sn.value;try{const dn=ln();return!is(cn,dn)}catch{return!0}}function useSyncExternalStore$1(sn,ln,cn){return ln()}const canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isServerEnvironment=!canUseDOM,shim=isServerEnvironment?useSyncExternalStore$1:useSyncExternalStore$2;"useSyncExternalStore"in React&&(sn=>sn.useSyncExternalStore)(React);const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[]}),RouteErrorContext=reactExports.createContext(null);function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(sn){for(var ln=1;ln<arguments.length;ln++){var cn=arguments[ln];for(var dn in cn)Object.prototype.hasOwnProperty.call(cn,dn)&&(sn[dn]=cn[dn])}return sn},_extends$1.apply(this,arguments)}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useNavigate(){useInRouterContext()||invariant$1(!1);let{basename:sn,navigator:ln}=reactExports.useContext(NavigationContext),{matches:cn}=reactExports.useContext(RouteContext),{pathname:dn}=useLocation(),pn=JSON.stringify(getPathContributingMatches(cn).map(En=>En.pathnameBase)),vn=reactExports.useRef(!1);return reactExports.useEffect(()=>{vn.current=!0}),reactExports.useCallback(function(En,Cn){if(Cn===void 0&&(Cn={}),!vn.current)return;if(typeof En=="number"){ln.go(En);return}let Pn=resolveTo(En,JSON.parse(pn),dn,Cn.relative==="path");sn!=="/"&&(Pn.pathname=Pn.pathname==="/"?sn:joinPaths([sn,Pn.pathname])),(Cn.replace?ln.replace:ln.push)(Pn,Cn.state,Cn)},[sn,ln,pn,dn])}function useRoutes(sn,ln){useInRouterContext()||invariant$1(!1);let{navigator:cn}=reactExports.useContext(NavigationContext),dn=reactExports.useContext(DataRouterStateContext),{matches:pn}=reactExports.useContext(RouteContext),vn=pn[pn.length-1],Sn=vn?vn.params:{};vn&&vn.pathname;let En=vn?vn.pathnameBase:"/";vn&&vn.route;let Cn=useLocation(),Pn;if(ln){var Rn;let Kn=typeof ln=="string"?parsePath(ln):ln;En==="/"||(Rn=Kn.pathname)!=null&&Rn.startsWith(En)||invariant$1(!1),Pn=Kn}else Pn=Cn;let Ln=Pn.pathname||"/",Fn=En==="/"?Ln:Ln.slice(En.length)||"/",Gn=matchRoutes(sn,{pathname:Fn}),Dn=_renderMatches(Gn&&Gn.map(Kn=>Object.assign({},Kn,{params:Object.assign({},Sn,Kn.params),pathname:joinPaths([En,cn.encodeLocation?cn.encodeLocation(Kn.pathname).pathname:Kn.pathname]),pathnameBase:Kn.pathnameBase==="/"?En:joinPaths([En,cn.encodeLocation?cn.encodeLocation(Kn.pathnameBase).pathname:Kn.pathnameBase])})),pn,dn||void 0);return ln&&Dn?jsx$1(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},Pn),navigationType:Action.Pop},children:Dn}):Dn}function DefaultErrorComponent(){let sn=useRouteError(),ln=isRouteErrorResponse(sn)?sn.status+" "+sn.statusText:sn instanceof Error?sn.message:JSON.stringify(sn),cn=sn instanceof Error?sn.stack:null;return jsxs$1(Fragment$1,{children:[jsx$1("h2",{children:"Unexpected Application Error!"}),jsx$1("h3",{style:{fontStyle:"italic"},children:ln}),cn?jsx$1("pre",{style:{padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},children:cn}):null,null]})}class RenderErrorBoundary extends reactExports.Component{constructor(ln){super(ln),this.state={location:ln.location,error:ln.error}}static getDerivedStateFromError(ln){return{error:ln}}static getDerivedStateFromProps(ln,cn){return cn.location!==ln.location?{error:ln.error,location:ln.location}:{error:ln.error||cn.error,location:cn.location}}componentDidCatch(ln,cn){console.error("React Router caught the following error during render",ln,cn)}render(){return this.state.error?jsx$1(RouteContext.Provider,{value:this.props.routeContext,children:jsx$1(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})}):this.props.children}}function RenderedRoute(sn){let{routeContext:ln,match:cn,children:dn}=sn,pn=reactExports.useContext(DataRouterContext);return pn&&pn.static&&pn.staticContext&&(cn.route.errorElement||cn.route.ErrorBoundary)&&(pn.staticContext._deepestRenderedBoundaryId=cn.route.id),jsx$1(RouteContext.Provider,{value:ln,children:dn})}function _renderMatches(sn,ln,cn){if(ln===void 0&&(ln=[]),sn==null)if(cn!=null&&cn.errors)sn=cn.matches;else return null;let dn=sn,pn=cn==null?void 0:cn.errors;if(pn!=null){let vn=dn.findIndex(Sn=>Sn.route.id&&(pn==null?void 0:pn[Sn.route.id]));vn>=0||invariant$1(!1),dn=dn.slice(0,Math.min(dn.length,vn+1))}return dn.reduceRight((vn,Sn,En)=>{let Cn=Sn.route.id?pn==null?void 0:pn[Sn.route.id]:null,Pn=null;cn&&(Sn.route.ErrorBoundary?Pn=reactExports.createElement(Sn.route.ErrorBoundary,null):Sn.route.errorElement?Pn=Sn.route.errorElement:Pn=jsx$1(DefaultErrorComponent,{}));let Rn=ln.concat(dn.slice(0,En+1)),Ln=()=>{let Fn=vn;return Cn?Fn=Pn:Sn.route.Component?Fn=reactExports.createElement(Sn.route.Component,null):Sn.route.element&&(Fn=Sn.route.element),jsx$1(RenderedRoute,{match:Sn,routeContext:{outlet:vn,matches:Rn},children:Fn})};return cn&&(Sn.route.ErrorBoundary||Sn.route.errorElement||En===0)?jsx$1(RenderErrorBoundary,{location:cn.location,component:Pn,error:Cn,children:Ln(),routeContext:{outlet:null,matches:Rn}}):Ln()},null)}var DataRouterHook$1;(function(sn){sn.UseBlocker="useBlocker",sn.UseRevalidator="useRevalidator"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function(sn){sn.UseBlocker="useBlocker",sn.UseLoaderData="useLoaderData",sn.UseActionData="useActionData",sn.UseRouteError="useRouteError",sn.UseNavigation="useNavigation",sn.UseRouteLoaderData="useRouteLoaderData",sn.UseMatches="useMatches",sn.UseRevalidator="useRevalidator"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function useDataRouterState(sn){let ln=reactExports.useContext(DataRouterStateContext);return ln||invariant$1(!1),ln}function useRouteContext(sn){let ln=reactExports.useContext(RouteContext);return ln||invariant$1(!1),ln}function useCurrentRouteId(sn){let ln=useRouteContext(),cn=ln.matches[ln.matches.length-1];return cn.route.id||invariant$1(!1),cn.route.id}function useRouteError(){var sn;let ln=reactExports.useContext(RouteErrorContext),cn=useDataRouterState(DataRouterStateHook$1.UseRouteError),dn=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return ln||((sn=cn.errors)==null?void 0:sn[dn])}function Route(sn){invariant$1(!1)}function Router(sn){let{basename:ln="/",children:cn=null,location:dn,navigationType:pn=Action.Pop,navigator:vn,static:Sn=!1}=sn;useInRouterContext()&&invariant$1(!1);let En=ln.replace(/^\/*/,"/"),Cn=reactExports.useMemo(()=>({basename:En,navigator:vn,static:Sn}),[En,vn,Sn]);typeof dn=="string"&&(dn=parsePath(dn));let{pathname:Pn="/",search:Rn="",hash:Ln="",state:Fn=null,key:Gn="default"}=dn,Dn=reactExports.useMemo(()=>{let Kn=stripBasename(Pn,En);return Kn==null?null:{location:{pathname:Kn,search:Rn,hash:Ln,state:Fn,key:Gn},navigationType:pn}},[En,Pn,Rn,Ln,Fn,Gn,pn]);return Dn==null?null:jsx$1(NavigationContext.Provider,{value:Cn,children:jsx$1(LocationContext.Provider,{children:cn,value:Dn})})}function Routes(sn){let{children:ln,location:cn}=sn,dn=reactExports.useContext(DataRouterContext),pn=dn&&!ln?dn.router.routes:createRoutesFromChildren(ln);return useRoutes(pn,cn)}var AwaitRenderStatus;(function(sn){sn[sn.pending=0]="pending",sn[sn.success=1]="success",sn[sn.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});function createRoutesFromChildren(sn,ln){ln===void 0&&(ln=[]);let cn=[];return reactExports.Children.forEach(sn,(dn,pn)=>{if(!reactExports.isValidElement(dn))return;let vn=[...ln,pn];if(dn.type===reactExports.Fragment){cn.push.apply(cn,createRoutesFromChildren(dn.props.children,vn));return}dn.type!==Route&&invariant$1(!1),!dn.props.index||!dn.props.children||invariant$1(!1);let Sn={id:dn.props.id||vn.join("-"),caseSensitive:dn.props.caseSensitive,element:dn.props.element,Component:dn.props.Component,index:dn.props.index,path:dn.props.path,loader:dn.props.loader,action:dn.props.action,errorElement:dn.props.errorElement,ErrorBoundary:dn.props.ErrorBoundary,hasErrorBoundary:dn.props.ErrorBoundary!=null||dn.props.errorElement!=null,shouldRevalidate:dn.props.shouldRevalidate,handle:dn.props.handle,lazy:dn.props.lazy};dn.props.children&&(Sn.children=createRoutesFromChildren(dn.props.children,vn)),cn.push(Sn)}),cn}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function createSearchParams(sn){return sn===void 0&&(sn=""),new URLSearchParams(typeof sn=="string"||Array.isArray(sn)||sn instanceof URLSearchParams?sn:Object.keys(sn).reduce((ln,cn)=>{let dn=sn[cn];return ln.concat(Array.isArray(dn)?dn.map(pn=>[cn,pn]):[[cn,dn]])},[]))}function getSearchParamsForLocation(sn,ln){let cn=createSearchParams(sn);if(ln)for(let dn of ln.keys())cn.has(dn)||ln.getAll(dn).forEach(pn=>{cn.append(dn,pn)});return cn}function BrowserRouter(sn){let{basename:ln,children:cn,window:dn}=sn,pn=reactExports.useRef();pn.current==null&&(pn.current=createBrowserHistory({window:dn,v5Compat:!0}));let vn=pn.current,[Sn,En]=reactExports.useState({action:vn.action,location:vn.location});return reactExports.useLayoutEffect(()=>vn.listen(En),[vn]),jsx$1(Router,{basename:ln,children:cn,location:Sn.location,navigationType:Sn.action,navigator:vn})}var DataRouterHook;(function(sn){sn.UseScrollRestoration="useScrollRestoration",sn.UseSubmitImpl="useSubmitImpl",sn.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(sn){sn.UseFetchers="useFetchers",sn.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useSearchParams(sn){let ln=reactExports.useRef(createSearchParams(sn)),cn=reactExports.useRef(!1),dn=useLocation(),pn=reactExports.useMemo(()=>getSearchParamsForLocation(dn.search,cn.current?null:ln.current),[dn.search]),vn=useNavigate(),Sn=reactExports.useCallback((En,Cn)=>{const Pn=createSearchParams(typeof En=="function"?En(pn):En);cn.current=!0,vn("?"+Pn,Cn)},[vn,pn]);return[pn,Sn]}const MODE="production",CDN_URL="https://cdn.inflearn.com",ANTMAN_APP_URL="https://www.inflearn.com",APP_URL="https://www.inflearn.com",API_ENDPOINT$1={}.VITE_USE_DEV?"/api":"https://www.inflearn.com/api",ACCOUNT_API_URL="https://account.inflearn.com",DEVOPS_API_URL="https://devops-api.inflearn.com",ACCOUNT_API_ENDPOINT={}.VITE_USE_DEV?"/account":`${ACCOUNT_API_URL}/api`,DEVOPS_API_ENDPOINT={}.VITE_USE_DEV?"/devops":DEVOPS_API_URL,DATADOG_RUM_PRIVACY_LEVEL="mask-user-input",HACKLE_BROWSER_SDK_KEY="rb1wDPCB39swIGfTAhDcz0QXvmh6hayS",PASSPHRASE$1="GL0jQCB0pfftR6QLGFiL",MIXPANEL_TOKEN="c05d8cc017a29af05e50c0d43d848d2d",RALLIT_B2C_URL="https://www.rallit.com",COMMIT_HASH="2ea9cf1",appConfig={MODE,CDN_URL,ANTMAN_APP_URL,APP_URL,DATADOG_RUM_PRIVACY_LEVEL,HACKLE_BROWSER_SDK_KEY,PASSPHRASE:PASSPHRASE$1,API_ENDPOINT:API_ENDPOINT$1,MIXPANEL_TOKEN,RALLIT_B2C_URL,ACCOUNT_API_ENDPOINT,COMMIT_HASH,DEVOPS_API_ENDPOINT};var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;const freeGlobal$1=freeGlobal;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal$1||freeSelf||Function("return this")();const root$1=root;var Symbol$2=root$1.Symbol;const Symbol$3=Symbol$2;var objectProto$i=Object.prototype,hasOwnProperty$g=objectProto$i.hasOwnProperty,nativeObjectToString$1=objectProto$i.toString,symToStringTag$1=Symbol$3?Symbol$3.toStringTag:void 0;function getRawTag(sn){var ln=hasOwnProperty$g.call(sn,symToStringTag$1),cn=sn[symToStringTag$1];try{sn[symToStringTag$1]=void 0;var dn=!0}catch{}var pn=nativeObjectToString$1.call(sn);return dn&&(ln?sn[symToStringTag$1]=cn:delete sn[symToStringTag$1]),pn}var objectProto$h=Object.prototype,nativeObjectToString=objectProto$h.toString;function objectToString$1(sn){return nativeObjectToString.call(sn)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$3?Symbol$3.toStringTag:void 0;function baseGetTag(sn){return sn==null?sn===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(sn)?getRawTag(sn):objectToString$1(sn)}function isObjectLike(sn){return sn!=null&&typeof sn=="object"}var symbolTag$3="[object Symbol]";function isSymbol$3(sn){return typeof sn=="symbol"||isObjectLike(sn)&&baseGetTag(sn)==symbolTag$3}function arrayMap(sn,ln){for(var cn=-1,dn=sn==null?0:sn.length,pn=Array(dn);++cn<dn;)pn[cn]=ln(sn[cn],cn,sn);return pn}var isArray$8=Array.isArray;const isArray$9=isArray$8;var INFINITY$2=1/0,symbolProto$2=Symbol$3?Symbol$3.prototype:void 0,symbolToString=symbolProto$2?symbolProto$2.toString:void 0;function baseToString(sn){if(typeof sn=="string")return sn;if(isArray$9(sn))return arrayMap(sn,baseToString)+"";if(isSymbol$3(sn))return symbolToString?symbolToString.call(sn):"";var ln=sn+"";return ln=="0"&&1/sn==-INFINITY$2?"-0":ln}var reWhitespace=/\s/;function trimmedEndIndex(sn){for(var ln=sn.length;ln--&&reWhitespace.test(sn.charAt(ln)););return ln}var reTrimStart=/^\s+/;function baseTrim(sn){return sn&&sn.slice(0,trimmedEndIndex(sn)+1).replace(reTrimStart,"")}function isObject$g(sn){var ln=typeof sn;return sn!=null&&(ln=="object"||ln=="function")}var NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(sn){if(typeof sn=="number")return sn;if(isSymbol$3(sn))return NAN;if(isObject$g(sn)){var ln=typeof sn.valueOf=="function"?sn.valueOf():sn;sn=isObject$g(ln)?ln+"":ln}if(typeof sn!="string")return sn===0?sn:+sn;sn=baseTrim(sn);var cn=reIsBinary.test(sn);return cn||reIsOctal.test(sn)?freeParseInt(sn.slice(2),cn?2:8):reIsBadHex.test(sn)?NAN:+sn}var INFINITY$1=1/0,MAX_INTEGER=17976931348623157e292;function toFinite(sn){if(!sn)return sn===0?sn:0;if(sn=toNumber(sn),sn===INFINITY$1||sn===-INFINITY$1){var ln=sn<0?-1:1;return ln*MAX_INTEGER}return sn===sn?sn:0}function toInteger(sn){var ln=toFinite(sn),cn=ln%1;return ln===ln?cn?ln-cn:ln:0}function identity$2(sn){return sn}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(sn){if(!isObject$g(sn))return!1;var ln=baseGetTag(sn);return ln==funcTag$2||ln==genTag$1||ln==asyncTag||ln==proxyTag}var coreJsData=root$1["__core-js_shared__"];const coreJsData$1=coreJsData;var maskSrcKey=function(){var sn=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return sn?"Symbol(src)_1."+sn:""}();function isMasked(sn){return!!maskSrcKey&&maskSrcKey in sn}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(sn){if(sn!=null){try{return funcToString$2.call(sn)}catch{}try{return sn+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$g=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$f=objectProto$g.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$f).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(sn){if(!isObject$g(sn)||isMasked(sn))return!1;var ln=isFunction(sn)?reIsNative:reIsHostCtor;return ln.test(toSource(sn))}function getValue(sn,ln){return sn==null?void 0:sn[ln]}function getNative(sn,ln){var cn=getValue(sn,ln);return baseIsNative(cn)?cn:void 0}var WeakMap$3=getNative(root$1,"WeakMap");const WeakMap$4=WeakMap$3;var objectCreate$2=Object.create,baseCreate=function(){function sn(){}return function(ln){if(!isObject$g(ln))return{};if(objectCreate$2)return objectCreate$2(ln);sn.prototype=ln;var cn=new sn;return sn.prototype=void 0,cn}}();const baseCreate$1=baseCreate;function apply$3(sn,ln,cn){switch(cn.length){case 0:return sn.call(ln);case 1:return sn.call(ln,cn[0]);case 2:return sn.call(ln,cn[0],cn[1]);case 3:return sn.call(ln,cn[0],cn[1],cn[2])}return sn.apply(ln,cn)}function copyArray(sn,ln){var cn=-1,dn=sn.length;for(ln||(ln=Array(dn));++cn<dn;)ln[cn]=sn[cn];return ln}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(sn){var ln=0,cn=0;return function(){var dn=nativeNow(),pn=HOT_SPAN-(dn-cn);if(cn=dn,pn>0){if(++ln>=HOT_COUNT)return arguments[0]}else ln=0;return sn.apply(void 0,arguments)}}function constant(sn){return function(){return sn}}var defineProperty$8=function(){try{var sn=getNative(Object,"defineProperty");return sn({},"",{}),sn}catch{}}();const defineProperty$9=defineProperty$8;var baseSetToString=defineProperty$9?function(sn,ln){return defineProperty$9(sn,"toString",{configurable:!0,enumerable:!1,value:constant(ln),writable:!0})}:identity$2;const baseSetToString$1=baseSetToString;var setToString=shortOut(baseSetToString$1);const setToString$1=setToString;function arrayEach(sn,ln){for(var cn=-1,dn=sn==null?0:sn.length;++cn<dn&&ln(sn[cn],cn,sn)!==!1;);return sn}function baseFindIndex(sn,ln,cn,dn){for(var pn=sn.length,vn=cn+(dn?1:-1);dn?vn--:++vn<pn;)if(ln(sn[vn],vn,sn))return vn;return-1}var MAX_SAFE_INTEGER$2=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(sn,ln){var cn=typeof sn;return ln=ln??MAX_SAFE_INTEGER$2,!!ln&&(cn=="number"||cn!="symbol"&&reIsUint.test(sn))&&sn>-1&&sn%1==0&&sn<ln}function baseAssignValue(sn,ln,cn){ln=="__proto__"&&defineProperty$9?defineProperty$9(sn,ln,{configurable:!0,enumerable:!0,value:cn,writable:!0}):sn[ln]=cn}function eq(sn,ln){return sn===ln||sn!==sn&&ln!==ln}var objectProto$f=Object.prototype,hasOwnProperty$e=objectProto$f.hasOwnProperty;function assignValue(sn,ln,cn){var dn=sn[ln];(!(hasOwnProperty$e.call(sn,ln)&&eq(dn,cn))||cn===void 0&&!(ln in sn))&&baseAssignValue(sn,ln,cn)}function copyObject(sn,ln,cn,dn){var pn=!cn;cn||(cn={});for(var vn=-1,Sn=ln.length;++vn<Sn;){var En=ln[vn],Cn=dn?dn(cn[En],sn[En],En,cn,sn):void 0;Cn===void 0&&(Cn=sn[En]),pn?baseAssignValue(cn,En,Cn):assignValue(cn,En,Cn)}return cn}var nativeMax$3=Math.max;function overRest(sn,ln,cn){return ln=nativeMax$3(ln===void 0?sn.length-1:ln,0),function(){for(var dn=arguments,pn=-1,vn=nativeMax$3(dn.length-ln,0),Sn=Array(vn);++pn<vn;)Sn[pn]=dn[ln+pn];pn=-1;for(var En=Array(ln+1);++pn<ln;)En[pn]=dn[pn];return En[ln]=cn(Sn),apply$3(sn,this,En)}}function baseRest(sn,ln){return setToString$1(overRest(sn,ln,identity$2),sn+"")}var MAX_SAFE_INTEGER$1=9007199254740991;function isLength(sn){return typeof sn=="number"&&sn>-1&&sn%1==0&&sn<=MAX_SAFE_INTEGER$1}function isArrayLike(sn){return sn!=null&&isLength(sn.length)&&!isFunction(sn)}function isIterateeCall(sn,ln,cn){if(!isObject$g(cn))return!1;var dn=typeof ln;return(dn=="number"?isArrayLike(cn)&&isIndex(ln,cn.length):dn=="string"&&ln in cn)?eq(cn[ln],sn):!1}function createAssigner(sn){return baseRest(function(ln,cn){var dn=-1,pn=cn.length,vn=pn>1?cn[pn-1]:void 0,Sn=pn>2?cn[2]:void 0;for(vn=sn.length>3&&typeof vn=="function"?(pn--,vn):void 0,Sn&&isIterateeCall(cn[0],cn[1],Sn)&&(vn=pn<3?void 0:vn,pn=1),ln=Object(ln);++dn<pn;){var En=cn[dn];En&&sn(ln,En,dn,vn)}return ln})}var objectProto$e=Object.prototype;function isPrototype(sn){var ln=sn&&sn.constructor,cn=typeof ln=="function"&&ln.prototype||objectProto$e;return sn===cn}function baseTimes(sn,ln){for(var cn=-1,dn=Array(sn);++cn<sn;)dn[cn]=ln(cn);return dn}var argsTag$3="[object Arguments]";function baseIsArguments(sn){return isObjectLike(sn)&&baseGetTag(sn)==argsTag$3}var objectProto$d=Object.prototype,hasOwnProperty$d=objectProto$d.hasOwnProperty,propertyIsEnumerable$1=objectProto$d.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(sn){return isObjectLike(sn)&&hasOwnProperty$d.call(sn,"callee")&&!propertyIsEnumerable$1.call(sn,"callee")};const isArguments$1=isArguments;function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$1=moduleExports$2?root$1.Buffer:void 0,nativeIsBuffer=Buffer$1?Buffer$1.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse;const isBuffer$1=isBuffer;var argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$1="[object Function]",mapTag$6="[object Map]",numberTag$3="[object Number]",objectTag$4="[object Object]",regexpTag$3="[object RegExp]",setTag$6="[object Set]",stringTag$3="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$3]=typedArrayTags[boolTag$3]=typedArrayTags[dataViewTag$4]=typedArrayTags[dateTag$3]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$6]=typedArrayTags[numberTag$3]=typedArrayTags[objectTag$4]=typedArrayTags[regexpTag$3]=typedArrayTags[setTag$6]=typedArrayTags[stringTag$3]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray(sn){return isObjectLike(sn)&&isLength(sn.length)&&!!typedArrayTags[baseGetTag(sn)]}function baseUnary(sn){return function(ln){return sn(ln)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal$1.process,nodeUtil=function(){try{var sn=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return sn||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}();const nodeUtil$1=nodeUtil;var nodeIsTypedArray=nodeUtil$1&&nodeUtil$1.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;const isTypedArray$1=isTypedArray;var objectProto$c=Object.prototype,hasOwnProperty$c=objectProto$c.hasOwnProperty;function arrayLikeKeys(sn,ln){var cn=isArray$9(sn),dn=!cn&&isArguments$1(sn),pn=!cn&&!dn&&isBuffer$1(sn),vn=!cn&&!dn&&!pn&&isTypedArray$1(sn),Sn=cn||dn||pn||vn,En=Sn?baseTimes(sn.length,String):[],Cn=En.length;for(var Pn in sn)(ln||hasOwnProperty$c.call(sn,Pn))&&!(Sn&&(Pn=="length"||pn&&(Pn=="offset"||Pn=="parent")||vn&&(Pn=="buffer"||Pn=="byteLength"||Pn=="byteOffset")||isIndex(Pn,Cn)))&&En.push(Pn);return En}function overArg(sn,ln){return function(cn){return sn(ln(cn))}}var nativeKeys=overArg(Object.keys,Object);const nativeKeys$1=nativeKeys;var objectProto$b=Object.prototype,hasOwnProperty$b=objectProto$b.hasOwnProperty;function baseKeys(sn){if(!isPrototype(sn))return nativeKeys$1(sn);var ln=[];for(var cn in Object(sn))hasOwnProperty$b.call(sn,cn)&&cn!="constructor"&&ln.push(cn);return ln}function keys$1(sn){return isArrayLike(sn)?arrayLikeKeys(sn):baseKeys(sn)}function nativeKeysIn(sn){var ln=[];if(sn!=null)for(var cn in Object(sn))ln.push(cn);return ln}var objectProto$a=Object.prototype,hasOwnProperty$a=objectProto$a.hasOwnProperty;function baseKeysIn(sn){if(!isObject$g(sn))return nativeKeysIn(sn);var ln=isPrototype(sn),cn=[];for(var dn in sn)dn=="constructor"&&(ln||!hasOwnProperty$a.call(sn,dn))||cn.push(dn);return cn}function keysIn(sn){return isArrayLike(sn)?arrayLikeKeys(sn,!0):baseKeysIn(sn)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(sn,ln){if(isArray$9(sn))return!1;var cn=typeof sn;return cn=="number"||cn=="symbol"||cn=="boolean"||sn==null||isSymbol$3(sn)?!0:reIsPlainProp.test(sn)||!reIsDeepProp.test(sn)||ln!=null&&sn in Object(ln)}var nativeCreate=getNative(Object,"create");const nativeCreate$1=nativeCreate;function hashClear(){this.__data__=nativeCreate$1?nativeCreate$1(null):{},this.size=0}function hashDelete(sn){var ln=this.has(sn)&&delete this.__data__[sn];return this.size-=ln?1:0,ln}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$9=Object.prototype,hasOwnProperty$9=objectProto$9.hasOwnProperty;function hashGet(sn){var ln=this.__data__;if(nativeCreate$1){var cn=ln[sn];return cn===HASH_UNDEFINED$2?void 0:cn}return hasOwnProperty$9.call(ln,sn)?ln[sn]:void 0}var objectProto$8=Object.prototype,hasOwnProperty$8=objectProto$8.hasOwnProperty;function hashHas(sn){var ln=this.__data__;return nativeCreate$1?ln[sn]!==void 0:hasOwnProperty$8.call(ln,sn)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(sn,ln){var cn=this.__data__;return this.size+=this.has(sn)?0:1,cn[sn]=nativeCreate$1&&ln===void 0?HASH_UNDEFINED$1:ln,this}function Hash(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(sn,ln){for(var cn=sn.length;cn--;)if(eq(sn[cn][0],ln))return cn;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(sn){var ln=this.__data__,cn=assocIndexOf(ln,sn);if(cn<0)return!1;var dn=ln.length-1;return cn==dn?ln.pop():splice.call(ln,cn,1),--this.size,!0}function listCacheGet(sn){var ln=this.__data__,cn=assocIndexOf(ln,sn);return cn<0?void 0:ln[cn][1]}function listCacheHas(sn){return assocIndexOf(this.__data__,sn)>-1}function listCacheSet(sn,ln){var cn=this.__data__,dn=assocIndexOf(cn,sn);return dn<0?(++this.size,cn.push([sn,ln])):cn[dn][1]=ln,this}function ListCache(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$3=getNative(root$1,"Map");const Map$4=Map$3;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$4||ListCache),string:new Hash}}function isKeyable(sn){var ln=typeof sn;return ln=="string"||ln=="number"||ln=="symbol"||ln=="boolean"?sn!=="__proto__":sn===null}function getMapData(sn,ln){var cn=sn.__data__;return isKeyable(ln)?cn[typeof ln=="string"?"string":"hash"]:cn.map}function mapCacheDelete(sn){var ln=getMapData(this,sn).delete(sn);return this.size-=ln?1:0,ln}function mapCacheGet(sn){return getMapData(this,sn).get(sn)}function mapCacheHas(sn){return getMapData(this,sn).has(sn)}function mapCacheSet(sn,ln){var cn=getMapData(this,sn),dn=cn.size;return cn.set(sn,ln),this.size+=cn.size==dn?0:1,this}function MapCache(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT$2="Expected a function";function memoize(sn,ln){if(typeof sn!="function"||ln!=null&&typeof ln!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var cn=function(){var dn=arguments,pn=ln?ln.apply(this,dn):dn[0],vn=cn.cache;if(vn.has(pn))return vn.get(pn);var Sn=sn.apply(this,dn);return cn.cache=vn.set(pn,Sn)||vn,Sn};return cn.cache=new(memoize.Cache||MapCache),cn}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(sn){var ln=memoize(sn,function(dn){return cn.size===MAX_MEMOIZE_SIZE&&cn.clear(),dn}),cn=ln.cache;return ln}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(sn){var ln=[];return sn.charCodeAt(0)===46&&ln.push(""),sn.replace(rePropName,function(cn,dn,pn,vn){ln.push(pn?vn.replace(reEscapeChar,"$1"):dn||cn)}),ln});const stringToPath$1=stringToPath;function toString$8(sn){return sn==null?"":baseToString(sn)}function castPath(sn,ln){return isArray$9(sn)?sn:isKey(sn,ln)?[sn]:stringToPath$1(toString$8(sn))}var INFINITY=1/0;function toKey(sn){if(typeof sn=="string"||isSymbol$3(sn))return sn;var ln=sn+"";return ln=="0"&&1/sn==-INFINITY?"-0":ln}function baseGet(sn,ln){ln=castPath(ln,sn);for(var cn=0,dn=ln.length;sn!=null&&cn<dn;)sn=sn[toKey(ln[cn++])];return cn&&cn==dn?sn:void 0}function get$1(sn,ln,cn){var dn=sn==null?void 0:baseGet(sn,ln);return dn===void 0?cn:dn}function arrayPush(sn,ln){for(var cn=-1,dn=ln.length,pn=sn.length;++cn<dn;)sn[pn+cn]=ln[cn];return sn}var spreadableSymbol=Symbol$3?Symbol$3.isConcatSpreadable:void 0;function isFlattenable(sn){return isArray$9(sn)||isArguments$1(sn)||!!(spreadableSymbol&&sn&&sn[spreadableSymbol])}function baseFlatten(sn,ln,cn,dn,pn){var vn=-1,Sn=sn.length;for(cn||(cn=isFlattenable),pn||(pn=[]);++vn<Sn;){var En=sn[vn];ln>0&&cn(En)?ln>1?baseFlatten(En,ln-1,cn,dn,pn):arrayPush(pn,En):dn||(pn[pn.length]=En)}return pn}function flatten(sn){var ln=sn==null?0:sn.length;return ln?baseFlatten(sn,1):[]}function flatRest(sn){return setToString$1(overRest(sn,void 0,flatten),sn+"")}var getPrototype=overArg(Object.getPrototypeOf,Object);const getPrototype$1=getPrototype;var objectTag$3="[object Object]",funcProto=Function.prototype,objectProto$7=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$7=objectProto$7.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject$3(sn){if(!isObjectLike(sn)||baseGetTag(sn)!=objectTag$3)return!1;var ln=getPrototype$1(sn);if(ln===null)return!0;var cn=hasOwnProperty$7.call(ln,"constructor")&&ln.constructor;return typeof cn=="function"&&cn instanceof cn&&funcToString.call(cn)==objectCtorString}function baseSlice(sn,ln,cn){var dn=-1,pn=sn.length;ln<0&&(ln=-ln>pn?0:pn+ln),cn=cn>pn?pn:cn,cn<0&&(cn+=pn),pn=ln>cn?0:cn-ln>>>0,ln>>>=0;for(var vn=Array(pn);++dn<pn;)vn[dn]=sn[dn+ln];return vn}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(sn){var ln=this.__data__,cn=ln.delete(sn);return this.size=ln.size,cn}function stackGet(sn){return this.__data__.get(sn)}function stackHas(sn){return this.__data__.has(sn)}var LARGE_ARRAY_SIZE=200;function stackSet(sn,ln){var cn=this.__data__;if(cn instanceof ListCache){var dn=cn.__data__;if(!Map$4||dn.length<LARGE_ARRAY_SIZE-1)return dn.push([sn,ln]),this.size=++cn.size,this;cn=this.__data__=new MapCache(dn)}return cn.set(sn,ln),this.size=cn.size,this}function Stack$1(sn){var ln=this.__data__=new ListCache(sn);this.size=ln.size}Stack$1.prototype.clear=stackClear;Stack$1.prototype.delete=stackDelete;Stack$1.prototype.get=stackGet;Stack$1.prototype.has=stackHas;Stack$1.prototype.set=stackSet;function baseAssign(sn,ln){return sn&&copyObject(ln,keys$1(ln),sn)}function baseAssignIn(sn,ln){return sn&&copyObject(ln,keysIn(ln),sn)}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer=moduleExports?root$1.Buffer:void 0,allocUnsafe=Buffer?Buffer.allocUnsafe:void 0;function cloneBuffer(sn,ln){if(ln)return sn.slice();var cn=sn.length,dn=allocUnsafe?allocUnsafe(cn):new sn.constructor(cn);return sn.copy(dn),dn}function arrayFilter(sn,ln){for(var cn=-1,dn=sn==null?0:sn.length,pn=0,vn=[];++cn<dn;){var Sn=sn[cn];ln(Sn,cn,sn)&&(vn[pn++]=Sn)}return vn}function stubArray(){return[]}var objectProto$6=Object.prototype,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols$1?function(sn){return sn==null?[]:(sn=Object(sn),arrayFilter(nativeGetSymbols$1(sn),function(ln){return propertyIsEnumerable.call(sn,ln)}))}:stubArray;const getSymbols$1=getSymbols;function copySymbols(sn,ln){return copyObject(sn,getSymbols$1(sn),ln)}var nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols?function(sn){for(var ln=[];sn;)arrayPush(ln,getSymbols$1(sn)),sn=getPrototype$1(sn);return ln}:stubArray;const getSymbolsIn$1=getSymbolsIn;function copySymbolsIn(sn,ln){return copyObject(sn,getSymbolsIn$1(sn),ln)}function baseGetAllKeys(sn,ln,cn){var dn=ln(sn);return isArray$9(sn)?dn:arrayPush(dn,cn(sn))}function getAllKeys(sn){return baseGetAllKeys(sn,keys$1,getSymbols$1)}function getAllKeysIn(sn){return baseGetAllKeys(sn,keysIn,getSymbolsIn$1)}var DataView$1=getNative(root$1,"DataView");const DataView$2=DataView$1;var Promise$3=getNative(root$1,"Promise");const Promise$4=Promise$3;var Set$1=getNative(root$1,"Set");const Set$2=Set$1;var mapTag$5="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$5="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$3="[object DataView]",dataViewCtorString=toSource(DataView$2),mapCtorString=toSource(Map$4),promiseCtorString=toSource(Promise$4),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$4),getTag=baseGetTag;(DataView$2&&getTag(new DataView$2(new ArrayBuffer(1)))!=dataViewTag$3||Map$4&&getTag(new Map$4)!=mapTag$5||Promise$4&&getTag(Promise$4.resolve())!=promiseTag||Set$2&&getTag(new Set$2)!=setTag$5||WeakMap$4&&getTag(new WeakMap$4)!=weakMapTag$1)&&(getTag=function(sn){var ln=baseGetTag(sn),cn=ln==objectTag$2?sn.constructor:void 0,dn=cn?toSource(cn):"";if(dn)switch(dn){case dataViewCtorString:return dataViewTag$3;case mapCtorString:return mapTag$5;case promiseCtorString:return promiseTag;case setCtorString:return setTag$5;case weakMapCtorString:return weakMapTag$1}return ln});const getTag$1=getTag;var objectProto$5=Object.prototype,hasOwnProperty$6=objectProto$5.hasOwnProperty;function initCloneArray(sn){var ln=sn.length,cn=new sn.constructor(ln);return ln&&typeof sn[0]=="string"&&hasOwnProperty$6.call(sn,"index")&&(cn.index=sn.index,cn.input=sn.input),cn}var Uint8Array$1=root$1.Uint8Array;const Uint8Array$2=Uint8Array$1;function cloneArrayBuffer(sn){var ln=new sn.constructor(sn.byteLength);return new Uint8Array$2(ln).set(new Uint8Array$2(sn)),ln}function cloneDataView(sn,ln){var cn=ln?cloneArrayBuffer(sn.buffer):sn.buffer;return new sn.constructor(cn,sn.byteOffset,sn.byteLength)}var reFlags=/\w*$/;function cloneRegExp(sn){var ln=new sn.constructor(sn.source,reFlags.exec(sn));return ln.lastIndex=sn.lastIndex,ln}var symbolProto$1=Symbol$3?Symbol$3.prototype:void 0,symbolValueOf$1=symbolProto$1?symbolProto$1.valueOf:void 0;function cloneSymbol(sn){return symbolValueOf$1?Object(symbolValueOf$1.call(sn)):{}}function cloneTypedArray(sn,ln){var cn=ln?cloneArrayBuffer(sn.buffer):sn.buffer;return new sn.constructor(cn,sn.byteOffset,sn.length)}var boolTag$2="[object Boolean]",dateTag$2="[object Date]",mapTag$4="[object Map]",numberTag$2="[object Number]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(sn,ln,cn){var dn=sn.constructor;switch(ln){case arrayBufferTag$2:return cloneArrayBuffer(sn);case boolTag$2:case dateTag$2:return new dn(+sn);case dataViewTag$2:return cloneDataView(sn,cn);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(sn,cn);case mapTag$4:return new dn;case numberTag$2:case stringTag$2:return new dn(sn);case regexpTag$2:return cloneRegExp(sn);case setTag$4:return new dn;case symbolTag$2:return cloneSymbol(sn)}}function initCloneObject(sn){return typeof sn.constructor=="function"&&!isPrototype(sn)?baseCreate$1(getPrototype$1(sn)):{}}var mapTag$3="[object Map]";function baseIsMap(sn){return isObjectLike(sn)&&getTag$1(sn)==mapTag$3}var nodeIsMap=nodeUtil$1&&nodeUtil$1.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;const isMap$1=isMap;var setTag$3="[object Set]";function baseIsSet(sn){return isObjectLike(sn)&&getTag$1(sn)==setTag$3}var nodeIsSet=nodeUtil$1&&nodeUtil$1.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;const isSet$1=isSet;var CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG$1=2,CLONE_SYMBOLS_FLAG$1=4,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag$2="[object Map]",numberTag$1="[object Number]",objectTag$1="[object Object]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag$1]=cloneableTags[arrayTag$1]=cloneableTags[arrayBufferTag$1]=cloneableTags[dataViewTag$1]=cloneableTags[boolTag$1]=cloneableTags[dateTag$1]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag$2]=cloneableTags[numberTag$1]=cloneableTags[objectTag$1]=cloneableTags[regexpTag$1]=cloneableTags[setTag$2]=cloneableTags[stringTag$1]=cloneableTags[symbolTag$1]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag$1]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone(sn,ln,cn,dn,pn,vn){var Sn,En=ln&CLONE_DEEP_FLAG$1,Cn=ln&CLONE_FLAT_FLAG$1,Pn=ln&CLONE_SYMBOLS_FLAG$1;if(cn&&(Sn=pn?cn(sn,dn,pn,vn):cn(sn)),Sn!==void 0)return Sn;if(!isObject$g(sn))return sn;var Rn=isArray$9(sn);if(Rn){if(Sn=initCloneArray(sn),!En)return copyArray(sn,Sn)}else{var Ln=getTag$1(sn),Fn=Ln==funcTag||Ln==genTag;if(isBuffer$1(sn))return cloneBuffer(sn,En);if(Ln==objectTag$1||Ln==argsTag$1||Fn&&!pn){if(Sn=Cn||Fn?{}:initCloneObject(sn),!En)return Cn?copySymbolsIn(sn,baseAssignIn(Sn,sn)):copySymbols(sn,baseAssign(Sn,sn))}else{if(!cloneableTags[Ln])return pn?sn:{};Sn=initCloneByTag(sn,Ln,En)}}vn||(vn=new Stack$1);var Gn=vn.get(sn);if(Gn)return Gn;vn.set(sn,Sn),isSet$1(sn)?sn.forEach(function(qn){Sn.add(baseClone(qn,ln,cn,qn,sn,vn))}):isMap$1(sn)&&sn.forEach(function(qn,Zn){Sn.set(Zn,baseClone(qn,ln,cn,Zn,sn,vn))});var Dn=Pn?Cn?getAllKeysIn:getAllKeys:Cn?keysIn:keys$1,Kn=Rn?void 0:Dn(sn);return arrayEach(Kn||sn,function(qn,Zn){Kn&&(Zn=qn,qn=sn[Zn]),assignValue(Sn,Zn,baseClone(qn,ln,cn,Zn,sn,vn))}),Sn}var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(sn){return this.__data__.set(sn,HASH_UNDEFINED),this}function setCacheHas(sn){return this.__data__.has(sn)}function SetCache(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.__data__=new MapCache;++ln<cn;)this.add(sn[ln])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(sn,ln){for(var cn=-1,dn=sn==null?0:sn.length;++cn<dn;)if(ln(sn[cn],cn,sn))return!0;return!1}function cacheHas(sn,ln){return sn.has(ln)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(sn,ln,cn,dn,pn,vn){var Sn=cn&COMPARE_PARTIAL_FLAG$5,En=sn.length,Cn=ln.length;if(En!=Cn&&!(Sn&&Cn>En))return!1;var Pn=vn.get(sn),Rn=vn.get(ln);if(Pn&&Rn)return Pn==ln&&Rn==sn;var Ln=-1,Fn=!0,Gn=cn&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(vn.set(sn,ln),vn.set(ln,sn);++Ln<En;){var Dn=sn[Ln],Kn=ln[Ln];if(dn)var qn=Sn?dn(Kn,Dn,Ln,ln,sn,vn):dn(Dn,Kn,Ln,sn,ln,vn);if(qn!==void 0){if(qn)continue;Fn=!1;break}if(Gn){if(!arraySome(ln,function(Zn,Yn){if(!cacheHas(Gn,Yn)&&(Dn===Zn||pn(Dn,Zn,cn,dn,vn)))return Gn.push(Yn)})){Fn=!1;break}}else if(!(Dn===Kn||pn(Dn,Kn,cn,dn,vn))){Fn=!1;break}}return vn.delete(sn),vn.delete(ln),Fn}function mapToArray(sn){var ln=-1,cn=Array(sn.size);return sn.forEach(function(dn,pn){cn[++ln]=[pn,dn]}),cn}function setToArray(sn){var ln=-1,cn=Array(sn.size);return sn.forEach(function(dn){cn[++ln]=dn}),cn}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag$1="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$3?Symbol$3.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(sn,ln,cn,dn,pn,vn,Sn){switch(cn){case dataViewTag:if(sn.byteLength!=ln.byteLength||sn.byteOffset!=ln.byteOffset)return!1;sn=sn.buffer,ln=ln.buffer;case arrayBufferTag:return!(sn.byteLength!=ln.byteLength||!vn(new Uint8Array$2(sn),new Uint8Array$2(ln)));case boolTag:case dateTag:case numberTag:return eq(+sn,+ln);case errorTag:return sn.name==ln.name&&sn.message==ln.message;case regexpTag:case stringTag:return sn==ln+"";case mapTag$1:var En=mapToArray;case setTag$1:var Cn=dn&COMPARE_PARTIAL_FLAG$4;if(En||(En=setToArray),sn.size!=ln.size&&!Cn)return!1;var Pn=Sn.get(sn);if(Pn)return Pn==ln;dn|=COMPARE_UNORDERED_FLAG$2,Sn.set(sn,ln);var Rn=equalArrays(En(sn),En(ln),dn,pn,vn,Sn);return Sn.delete(sn),Rn;case symbolTag:if(symbolValueOf)return symbolValueOf.call(sn)==symbolValueOf.call(ln)}return!1}var COMPARE_PARTIAL_FLAG$3=1,objectProto$4=Object.prototype,hasOwnProperty$5=objectProto$4.hasOwnProperty;function equalObjects(sn,ln,cn,dn,pn,vn){var Sn=cn&COMPARE_PARTIAL_FLAG$3,En=getAllKeys(sn),Cn=En.length,Pn=getAllKeys(ln),Rn=Pn.length;if(Cn!=Rn&&!Sn)return!1;for(var Ln=Cn;Ln--;){var Fn=En[Ln];if(!(Sn?Fn in ln:hasOwnProperty$5.call(ln,Fn)))return!1}var Gn=vn.get(sn),Dn=vn.get(ln);if(Gn&&Dn)return Gn==ln&&Dn==sn;var Kn=!0;vn.set(sn,ln),vn.set(ln,sn);for(var qn=Sn;++Ln<Cn;){Fn=En[Ln];var Zn=sn[Fn],Yn=ln[Fn];if(dn)var Jn=Sn?dn(Yn,Zn,Fn,ln,sn,vn):dn(Zn,Yn,Fn,sn,ln,vn);if(!(Jn===void 0?Zn===Yn||pn(Zn,Yn,cn,dn,vn):Jn)){Kn=!1;break}qn||(qn=Fn=="constructor")}if(Kn&&!qn){var rs=sn.constructor,us=ln.constructor;rs!=us&&"constructor"in sn&&"constructor"in ln&&!(typeof rs=="function"&&rs instanceof rs&&typeof us=="function"&&us instanceof us)&&(Kn=!1)}return vn.delete(sn),vn.delete(ln),Kn}var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto$3=Object.prototype,hasOwnProperty$4=objectProto$3.hasOwnProperty;function baseIsEqualDeep(sn,ln,cn,dn,pn,vn){var Sn=isArray$9(sn),En=isArray$9(ln),Cn=Sn?arrayTag:getTag$1(sn),Pn=En?arrayTag:getTag$1(ln);Cn=Cn==argsTag?objectTag:Cn,Pn=Pn==argsTag?objectTag:Pn;var Rn=Cn==objectTag,Ln=Pn==objectTag,Fn=Cn==Pn;if(Fn&&isBuffer$1(sn)){if(!isBuffer$1(ln))return!1;Sn=!0,Rn=!1}if(Fn&&!Rn)return vn||(vn=new Stack$1),Sn||isTypedArray$1(sn)?equalArrays(sn,ln,cn,dn,pn,vn):equalByTag(sn,ln,Cn,cn,dn,pn,vn);if(!(cn&COMPARE_PARTIAL_FLAG$2)){var Gn=Rn&&hasOwnProperty$4.call(sn,"__wrapped__"),Dn=Ln&&hasOwnProperty$4.call(ln,"__wrapped__");if(Gn||Dn){var Kn=Gn?sn.value():sn,qn=Dn?ln.value():ln;return vn||(vn=new Stack$1),pn(Kn,qn,cn,dn,vn)}}return Fn?(vn||(vn=new Stack$1),equalObjects(sn,ln,cn,dn,pn,vn)):!1}function baseIsEqual(sn,ln,cn,dn,pn){return sn===ln?!0:sn==null||ln==null||!isObjectLike(sn)&&!isObjectLike(ln)?sn!==sn&&ln!==ln:baseIsEqualDeep(sn,ln,cn,dn,baseIsEqual,pn)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(sn,ln,cn,dn){var pn=cn.length,vn=pn,Sn=!dn;if(sn==null)return!vn;for(sn=Object(sn);pn--;){var En=cn[pn];if(Sn&&En[2]?En[1]!==sn[En[0]]:!(En[0]in sn))return!1}for(;++pn<vn;){En=cn[pn];var Cn=En[0],Pn=sn[Cn],Rn=En[1];if(Sn&&En[2]){if(Pn===void 0&&!(Cn in sn))return!1}else{var Ln=new Stack$1;if(dn)var Fn=dn(Pn,Rn,Cn,sn,ln,Ln);if(!(Fn===void 0?baseIsEqual(Rn,Pn,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,dn,Ln):Fn))return!1}}return!0}function isStrictComparable(sn){return sn===sn&&!isObject$g(sn)}function getMatchData(sn){for(var ln=keys$1(sn),cn=ln.length;cn--;){var dn=ln[cn],pn=sn[dn];ln[cn]=[dn,pn,isStrictComparable(pn)]}return ln}function matchesStrictComparable(sn,ln){return function(cn){return cn==null?!1:cn[sn]===ln&&(ln!==void 0||sn in Object(cn))}}function baseMatches(sn){var ln=getMatchData(sn);return ln.length==1&&ln[0][2]?matchesStrictComparable(ln[0][0],ln[0][1]):function(cn){return cn===sn||baseIsMatch(cn,sn,ln)}}function baseHasIn(sn,ln){return sn!=null&&ln in Object(sn)}function hasPath(sn,ln,cn){ln=castPath(ln,sn);for(var dn=-1,pn=ln.length,vn=!1;++dn<pn;){var Sn=toKey(ln[dn]);if(!(vn=sn!=null&&cn(sn,Sn)))break;sn=sn[Sn]}return vn||++dn!=pn?vn:(pn=sn==null?0:sn.length,!!pn&&isLength(pn)&&isIndex(Sn,pn)&&(isArray$9(sn)||isArguments$1(sn)))}function hasIn(sn,ln){return sn!=null&&hasPath(sn,ln,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(sn,ln){return isKey(sn)&&isStrictComparable(ln)?matchesStrictComparable(toKey(sn),ln):function(cn){var dn=get$1(cn,sn);return dn===void 0&&dn===ln?hasIn(cn,sn):baseIsEqual(ln,dn,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(sn){return function(ln){return ln==null?void 0:ln[sn]}}function basePropertyDeep(sn){return function(ln){return baseGet(ln,sn)}}function property(sn){return isKey(sn)?baseProperty(toKey(sn)):basePropertyDeep(sn)}function baseIteratee(sn){return typeof sn=="function"?sn:sn==null?identity$2:typeof sn=="object"?isArray$9(sn)?baseMatchesProperty(sn[0],sn[1]):baseMatches(sn):property(sn)}function createBaseFor(sn){return function(ln,cn,dn){for(var pn=-1,vn=Object(ln),Sn=dn(ln),En=Sn.length;En--;){var Cn=Sn[sn?En:++pn];if(cn(vn[Cn],Cn,vn)===!1)break}return ln}}var baseFor=createBaseFor();const baseFor$1=baseFor;var now=function(){return root$1.Date.now()};const now$1=now;var FUNC_ERROR_TEXT$1="Expected a function",nativeMax$2=Math.max,nativeMin$1=Math.min;function debounce(sn,ln,cn){var dn,pn,vn,Sn,En,Cn,Pn=0,Rn=!1,Ln=!1,Fn=!0;if(typeof sn!="function")throw new TypeError(FUNC_ERROR_TEXT$1);ln=toNumber(ln)||0,isObject$g(cn)&&(Rn=!!cn.leading,Ln="maxWait"in cn,vn=Ln?nativeMax$2(toNumber(cn.maxWait)||0,ln):vn,Fn="trailing"in cn?!!cn.trailing:Fn);function Gn(as){var cs=dn,_s=pn;return dn=pn=void 0,Pn=as,Sn=sn.apply(_s,cs),Sn}function Dn(as){return Pn=as,En=setTimeout(Zn,ln),Rn?Gn(as):Sn}function Kn(as){var cs=as-Cn,_s=as-Pn,Es=ln-cs;return Ln?nativeMin$1(Es,vn-_s):Es}function qn(as){var cs=as-Cn,_s=as-Pn;return Cn===void 0||cs>=ln||cs<0||Ln&&_s>=vn}function Zn(){var as=now$1();if(qn(as))return Yn(as);En=setTimeout(Zn,Kn(as))}function Yn(as){return En=void 0,Fn&&dn?Gn(as):(dn=pn=void 0,Sn)}function Jn(){En!==void 0&&clearTimeout(En),Pn=0,dn=Cn=pn=En=void 0}function rs(){return En===void 0?Sn:Yn(now$1())}function us(){var as=now$1(),cs=qn(as);if(dn=arguments,pn=this,Cn=as,cs){if(En===void 0)return Dn(Cn);if(Ln)return clearTimeout(En),En=setTimeout(Zn,ln),Gn(Cn)}return En===void 0&&(En=setTimeout(Zn,ln)),Sn}return us.cancel=Jn,us.flush=rs,us}var objectProto$2=Object.prototype,hasOwnProperty$3=objectProto$2.hasOwnProperty,defaults=baseRest(function(sn,ln){sn=Object(sn);var cn=-1,dn=ln.length,pn=dn>2?ln[2]:void 0;for(pn&&isIterateeCall(ln[0],ln[1],pn)&&(dn=1);++cn<dn;)for(var vn=ln[cn],Sn=keysIn(vn),En=-1,Cn=Sn.length;++En<Cn;){var Pn=Sn[En],Rn=sn[Pn];(Rn===void 0||eq(Rn,objectProto$2[Pn])&&!hasOwnProperty$3.call(sn,Pn))&&(sn[Pn]=vn[Pn])}return sn});const defaults$1=defaults;function assignMergeValue(sn,ln,cn){(cn!==void 0&&!eq(sn[ln],cn)||cn===void 0&&!(ln in sn))&&baseAssignValue(sn,ln,cn)}function isArrayLikeObject(sn){return isObjectLike(sn)&&isArrayLike(sn)}function safeGet(sn,ln){if(!(ln==="constructor"&&typeof sn[ln]=="function")&&ln!="__proto__")return sn[ln]}function toPlainObject(sn){return copyObject(sn,keysIn(sn))}function baseMergeDeep(sn,ln,cn,dn,pn,vn,Sn){var En=safeGet(sn,cn),Cn=safeGet(ln,cn),Pn=Sn.get(Cn);if(Pn){assignMergeValue(sn,cn,Pn);return}var Rn=vn?vn(En,Cn,cn+"",sn,ln,Sn):void 0,Ln=Rn===void 0;if(Ln){var Fn=isArray$9(Cn),Gn=!Fn&&isBuffer$1(Cn),Dn=!Fn&&!Gn&&isTypedArray$1(Cn);Rn=Cn,Fn||Gn||Dn?isArray$9(En)?Rn=En:isArrayLikeObject(En)?Rn=copyArray(En):Gn?(Ln=!1,Rn=cloneBuffer(Cn,!0)):Dn?(Ln=!1,Rn=cloneTypedArray(Cn,!0)):Rn=[]:isPlainObject$3(Cn)||isArguments$1(Cn)?(Rn=En,isArguments$1(En)?Rn=toPlainObject(En):(!isObject$g(En)||isFunction(En))&&(Rn=initCloneObject(Cn))):Ln=!1}Ln&&(Sn.set(Cn,Rn),pn(Rn,Cn,dn,vn,Sn),Sn.delete(Cn)),assignMergeValue(sn,cn,Rn)}function baseMerge(sn,ln,cn,dn,pn){sn!==ln&&baseFor$1(ln,function(vn,Sn){if(pn||(pn=new Stack$1),isObject$g(vn))baseMergeDeep(sn,ln,Sn,cn,baseMerge,dn,pn);else{var En=dn?dn(safeGet(sn,Sn),vn,Sn+"",sn,ln,pn):void 0;En===void 0&&(En=vn),assignMergeValue(sn,Sn,En)}},keysIn)}function last$1(sn){var ln=sn==null?0:sn.length;return ln?sn[ln-1]:void 0}function createFind(sn){return function(ln,cn,dn){var pn=Object(ln);if(!isArrayLike(ln)){var vn=baseIteratee(cn);ln=keys$1(ln),cn=function(En){return vn(pn[En],En,pn)}}var Sn=sn(ln,cn,dn);return Sn>-1?pn[vn?ln[Sn]:Sn]:void 0}}var nativeMax$1=Math.max;function findIndex(sn,ln,cn){var dn=sn==null?0:sn.length;if(!dn)return-1;var pn=cn==null?0:toInteger(cn);return pn<0&&(pn=nativeMax$1(dn+pn,0)),baseFindIndex(sn,baseIteratee(ln),pn)}var find=createFind(findIndex);const find$1=find;var nativeMax=Math.max,nativeMin=Math.min;function findLastIndex(sn,ln,cn){var dn=sn==null?0:sn.length;if(!dn)return-1;var pn=dn-1;return cn!==void 0&&(pn=toInteger(cn),pn=cn<0?nativeMax(dn+pn,0):nativeMin(pn,dn-1)),baseFindIndex(sn,baseIteratee(ln),pn,!0)}function head$1(sn){return sn&&sn.length?sn[0]:void 0}var objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function baseHas(sn,ln){return sn!=null&&hasOwnProperty$2.call(sn,ln)}function has$1(sn,ln){return sn!=null&&hasPath(sn,ln,baseHas)}function parent$6(sn,ln){return ln.length<2?sn:baseGet(sn,baseSlice(ln,0,-1))}var mapTag="[object Map]",setTag="[object Set]",objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty;function isEmpty(sn){if(sn==null)return!0;if(isArrayLike(sn)&&(isArray$9(sn)||typeof sn=="string"||typeof sn.splice=="function"||isBuffer$1(sn)||isTypedArray$1(sn)||isArguments$1(sn)))return!sn.length;var ln=getTag$1(sn);if(ln==mapTag||ln==setTag)return!sn.size;if(isPrototype(sn))return!baseKeys(sn).length;for(var cn in sn)if(hasOwnProperty$1.call(sn,cn))return!1;return!0}function isNil(sn){return sn==null}function baseLt(sn,ln){return sn<ln}function baseExtremum(sn,ln,cn){for(var dn=-1,pn=sn.length;++dn<pn;){var vn=sn[dn],Sn=ln(vn);if(Sn!=null&&(En===void 0?Sn===Sn&&!isSymbol$3(Sn):cn(Sn,En)))var En=Sn,Cn=vn}return Cn}var merge$1=createAssigner(function(sn,ln,cn){baseMerge(sn,ln,cn)});const j$c=merge$1;function min$6(sn){return sn&&sn.length?baseExtremum(sn,identity$2,baseLt):void 0}function baseUnset(sn,ln){return ln=castPath(ln,sn),sn=parent$6(sn,ln),sn==null||delete sn[toKey(last$1(ln))]}function customOmitClone(sn){return isPlainObject$3(sn)?void 0:sn}var CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,omit=flatRest(function(sn,ln){var cn={};if(sn==null)return cn;var dn=!1;ln=arrayMap(ln,function(vn){return vn=castPath(vn,sn),dn||(dn=vn.length>1),vn}),copyObject(sn,getAllKeysIn(sn),cn),dn&&(cn=baseClone(cn,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone));for(var pn=ln.length;pn--;)baseUnset(cn,ln[pn]);return cn});const omit$1=omit;var FUNC_ERROR_TEXT="Expected a function";function throttle(sn,ln,cn){var dn=!0,pn=!0;if(typeof sn!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject$g(cn)&&(dn="leading"in cn?!!cn.leading:dn,pn="trailing"in cn?!!cn.trailing:pn),debounce(sn,ln,{leading:dn,maxWait:ln,trailing:pn})}function useFirstMountState(){var sn=reactExports.useRef(!0);return sn.current?(sn.current=!1,!0):sn.current}var noop$6=function(){};function on$2(sn){for(var ln=[],cn=1;cn<arguments.length;cn++)ln[cn-1]=arguments[cn];sn&&sn.addEventListener&&sn.addEventListener.apply(sn,ln)}function off(sn){for(var ln=[],cn=1;cn<arguments.length;cn++)ln[cn-1]=arguments[cn];sn&&sn.removeEventListener&&sn.removeEventListener.apply(sn,ln)}var isBrowser=typeof window<"u",useIsomorphicLayoutEffect$1=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect;const useIsomorphicLayoutEffect$2=useIsomorphicLayoutEffect$1;var defaultTarget=isBrowser?window:null,isListenerType1=function(sn){return!!sn.addEventListener},isListenerType2=function(sn){return!!sn.on},useEvent$1=function(sn,ln,cn,dn){cn===void 0&&(cn=defaultTarget),reactExports.useEffect(function(){if(ln&&cn)return isListenerType1(cn)?on$2(cn,sn,ln,dn):isListenerType2(cn)&&cn.on(sn,ln,dn),function(){isListenerType1(cn)?off(cn,sn,ln,dn):isListenerType2(cn)&&cn.off(sn,ln,dn)}},[sn,ln,cn,JSON.stringify(dn)])};const useEvent$2=useEvent$1;var useLocalStorage=function(sn,ln,cn){if(!isBrowser)return[ln,noop$6,noop$6];if(!sn)throw new Error("useLocalStorage key may not be falsy");var dn=cn?cn.raw?function(Rn){return Rn}:cn.deserializer:JSON.parse,pn=reactExports.useRef(function(Rn){try{var Ln=cn?cn.raw?String:cn.serializer:JSON.stringify,Fn=localStorage.getItem(Rn);return Fn!==null?dn(Fn):(ln&&localStorage.setItem(Rn,Ln(ln)),ln)}catch{return ln}}),vn=reactExports.useState(function(){return pn.current(sn)}),Sn=vn[0],En=vn[1];reactExports.useLayoutEffect(function(){return En(pn.current(sn))},[sn]);var Cn=reactExports.useCallback(function(Rn){try{var Ln=typeof Rn=="function"?Rn(Sn):Rn;if(typeof Ln>"u")return;var Fn=void 0;cn?cn.raw?typeof Ln=="string"?Fn=Ln:Fn=JSON.stringify(Ln):cn.serializer?Fn=cn.serializer(Ln):Fn=JSON.stringify(Ln):Fn=JSON.stringify(Ln),localStorage.setItem(sn,Fn),En(dn(Fn))}catch{}},[sn,En]),Pn=reactExports.useCallback(function(){try{localStorage.removeItem(sn),En(void 0)}catch{}},[sn,En]);return[Sn,Cn,Pn]};const useLocalStorage$1=useLocalStorage;var getInitialState=function(sn,ln){return ln!==void 0?ln:isBrowser?window.matchMedia(sn).matches:!1},useMedia=function(sn,ln){var cn=reactExports.useState(getInitialState(sn,ln)),dn=cn[0],pn=cn[1];return reactExports.useEffect(function(){var vn=!0,Sn=window.matchMedia(sn),En=function(){vn&&pn(!!Sn.matches)};return Sn.addListener(En),pn(Sn.matches),function(){vn=!1,Sn.removeListener(En)}},[sn]),dn};const useMedia$1=useMedia;var defaultState={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function useMeasure(){var sn=reactExports.useState(null),ln=sn[0],cn=sn[1],dn=reactExports.useState(defaultState),pn=dn[0],vn=dn[1],Sn=reactExports.useMemo(function(){return new window.ResizeObserver(function(En){if(En[0]){var Cn=En[0].contentRect,Pn=Cn.x,Rn=Cn.y,Ln=Cn.width,Fn=Cn.height,Gn=Cn.top,Dn=Cn.left,Kn=Cn.bottom,qn=Cn.right;vn({x:Pn,y:Rn,width:Ln,height:Fn,top:Gn,left:Dn,bottom:Kn,right:qn})}})},[]);return useIsomorphicLayoutEffect$2(function(){if(ln)return Sn.observe(ln),function(){Sn.disconnect()}},[ln]),[cn,pn]}const useMeasure$1=isBrowser&&typeof window.ResizeObserver<"u"?useMeasure:function(){return[noop$6,defaultState]};var Fragment=Fragment$2;function jsx(sn,ln,cn){return hasOwnProperty$i.call(ln,"css")?jsx$2(Emotion$2,createEmotionProps$1(sn,ln),cn):jsx$2(sn,ln,cn)}function jsxs(sn,ln,cn){return hasOwnProperty$i.call(ln,"css")?jsxs$2(Emotion$2,createEmotionProps$1(sn,ln),cn):jsxs$2(sn,ln,cn)}const FULLPAGE_MODAL_KEY="fullpageModal",ModalsDispatchContext=reactExports.createContext({open:()=>{},close:()=>{}}),ModalsStateContext=reactExports.createContext([]),ModalsProvider$1=({children:sn})=>{const[ln,cn]=reactExports.useState([]),vn={open:Sn=>{ln.findIndex(En=>En.props.id===Sn.props.id)>-1||cn(En=>[...En,Sn])},close:Sn=>{cn(En=>En.filter(Cn=>Cn.props.id!==Sn))}};return useEvent$2("popstate",()=>{const Sn=findLastIndex(ln,En=>En.props.id.includes(FULLPAGE_MODAL_KEY));cn(En=>En.filter((Cn,Pn)=>Pn!==Sn))}),jsx(ModalsStateContext.Provider,{value:ln,children:jsx(ModalsDispatchContext.Provider,{value:vn,children:sn})})};function Modals(){const sn=reactExports.useContext(ModalsStateContext);return jsx(Fragment,{children:sn.map((ln,cn)=>{const{Component:dn}=ln;return jsx(dn,{...ln.props},cn)})})}function ownKeys$6(sn,ln){var cn=Object.keys(sn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(sn);ln&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(sn,pn).enumerable})),cn.push.apply(cn,dn)}return cn}function _objectSpread2$3(sn){for(var ln=1;ln<arguments.length;ln++){var cn=arguments[ln]!=null?arguments[ln]:{};ln%2?ownKeys$6(Object(cn),!0).forEach(function(dn){_defineProperty$4(sn,dn,cn[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(sn,Object.getOwnPropertyDescriptors(cn)):ownKeys$6(Object(cn)).forEach(function(dn){Object.defineProperty(sn,dn,Object.getOwnPropertyDescriptor(cn,dn))})}return sn}function _typeof$2(sn){return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ln){return typeof ln}:function(ln){return ln&&typeof Symbol=="function"&&ln.constructor===Symbol&&ln!==Symbol.prototype?"symbol":typeof ln},_typeof$2(sn)}function _classCallCheck(sn,ln){if(!(sn instanceof ln))throw new TypeError("Cannot call a class as a function")}function _defineProperties(sn,ln){for(var cn=0;cn<ln.length;cn++){var dn=ln[cn];dn.enumerable=dn.enumerable||!1,dn.configurable=!0,"value"in dn&&(dn.writable=!0),Object.defineProperty(sn,dn.key,dn)}}function _createClass(sn,ln,cn){return ln&&_defineProperties(sn.prototype,ln),cn&&_defineProperties(sn,cn),Object.defineProperty(sn,"prototype",{writable:!1}),sn}function _defineProperty$4(sn,ln,cn){return ln in sn?Object.defineProperty(sn,ln,{value:cn,enumerable:!0,configurable:!0,writable:!0}):sn[ln]=cn,sn}function _slicedToArray(sn,ln){return _arrayWithHoles(sn)||_iterableToArrayLimit(sn,ln)||_unsupportedIterableToArray$1(sn,ln)||_nonIterableRest()}function _toConsumableArray$1(sn){return _arrayWithoutHoles$1(sn)||_iterableToArray$1(sn)||_unsupportedIterableToArray$1(sn)||_nonIterableSpread$1()}function _arrayWithoutHoles$1(sn){if(Array.isArray(sn))return _arrayLikeToArray$1(sn)}function _arrayWithHoles(sn){if(Array.isArray(sn))return sn}function _iterableToArray$1(sn){if(typeof Symbol<"u"&&sn[Symbol.iterator]!=null||sn["@@iterator"]!=null)return Array.from(sn)}function _iterableToArrayLimit(sn,ln){var cn=sn==null?null:typeof Symbol<"u"&&sn[Symbol.iterator]||sn["@@iterator"];if(cn!=null){var dn=[],pn=!0,vn=!1,Sn,En;try{for(cn=cn.call(sn);!(pn=(Sn=cn.next()).done)&&(dn.push(Sn.value),!(ln&&dn.length===ln));pn=!0);}catch(Cn){vn=!0,En=Cn}finally{try{!pn&&cn.return!=null&&cn.return()}finally{if(vn)throw En}}return dn}}function _unsupportedIterableToArray$1(sn,ln){if(sn){if(typeof sn=="string")return _arrayLikeToArray$1(sn,ln);var cn=Object.prototype.toString.call(sn).slice(8,-1);if(cn==="Object"&&sn.constructor&&(cn=sn.constructor.name),cn==="Map"||cn==="Set")return Array.from(sn);if(cn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(cn))return _arrayLikeToArray$1(sn,ln)}}function _arrayLikeToArray$1(sn,ln){(ln==null||ln>sn.length)&&(ln=sn.length);for(var cn=0,dn=new Array(ln);cn<ln;cn++)dn[cn]=sn[cn];return dn}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var noop$5=function(){},_WINDOW={},_DOCUMENT={},_MUTATION_OBSERVER=null,_PERFORMANCE={mark:noop$5,measure:noop$5};try{typeof window<"u"&&(_WINDOW=window),typeof document<"u"&&(_DOCUMENT=document),typeof MutationObserver<"u"&&(_MUTATION_OBSERVER=MutationObserver),typeof performance<"u"&&(_PERFORMANCE=performance)}catch{}var _ref$9=_WINDOW.navigator||{},_ref$userAgent=_ref$9.userAgent,userAgent$6=_ref$userAgent===void 0?"":_ref$userAgent,WINDOW=_WINDOW,DOCUMENT=_DOCUMENT,MUTATION_OBSERVER=_MUTATION_OBSERVER,PERFORMANCE=_PERFORMANCE;WINDOW.document;var IS_DOM=!!DOCUMENT.documentElement&&!!DOCUMENT.head&&typeof DOCUMENT.addEventListener=="function"&&typeof DOCUMENT.createElement=="function",IS_IE=~userAgent$6.indexOf("MSIE")||~userAgent$6.indexOf("Trident/"),_familyProxy,_familyProxy2,_familyProxy3,_familyProxy4,_familyProxy5,NAMESPACE_IDENTIFIER="___FONT_AWESOME___",UNITS_IN_GRID=16,DEFAULT_CSS_PREFIX="fa",DEFAULT_REPLACEMENT_CLASS="svg-inline--fa",DATA_FA_I2SVG="data-fa-i2svg",DATA_FA_PSEUDO_ELEMENT="data-fa-pseudo-element",DATA_FA_PSEUDO_ELEMENT_PENDING="data-fa-pseudo-element-pending",DATA_PREFIX="data-prefix",DATA_ICON="data-icon",HTML_CLASS_I2SVG_BASE_CLASS="fontawesome-i2svg",MUTATION_APPROACH_ASYNC="async",TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS=["HTML","HEAD","STYLE","SCRIPT"],PRODUCTION$1=function(){try{return!0}catch{return!1}}(),FAMILY_CLASSIC="classic",FAMILY_SHARP="sharp",FAMILIES=[FAMILY_CLASSIC,FAMILY_SHARP];function familyProxy(sn){return new Proxy(sn,{get:function(cn,dn){return dn in cn?cn[dn]:cn[FAMILY_CLASSIC]}})}var PREFIX_TO_STYLE=familyProxy((_familyProxy={},_defineProperty$4(_familyProxy,FAMILY_CLASSIC,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),_defineProperty$4(_familyProxy,FAMILY_SHARP,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),_familyProxy)),STYLE_TO_PREFIX=familyProxy((_familyProxy2={},_defineProperty$4(_familyProxy2,FAMILY_CLASSIC,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),_defineProperty$4(_familyProxy2,FAMILY_SHARP,{solid:"fass",regular:"fasr",light:"fasl"}),_familyProxy2)),PREFIX_TO_LONG_STYLE=familyProxy((_familyProxy3={},_defineProperty$4(_familyProxy3,FAMILY_CLASSIC,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),_defineProperty$4(_familyProxy3,FAMILY_SHARP,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),_familyProxy3)),LONG_STYLE_TO_PREFIX=familyProxy((_familyProxy4={},_defineProperty$4(_familyProxy4,FAMILY_CLASSIC,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),_defineProperty$4(_familyProxy4,FAMILY_SHARP,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),_familyProxy4)),ICON_SELECTION_SYNTAX_PATTERN=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,LAYERS_TEXT_CLASSNAME="fa-layers-text",FONT_FAMILY_PATTERN=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,FONT_WEIGHT_TO_PREFIX=familyProxy((_familyProxy5={},_defineProperty$4(_familyProxy5,FAMILY_CLASSIC,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),_defineProperty$4(_familyProxy5,FAMILY_SHARP,{900:"fass",400:"fasr",300:"fasl"}),_familyProxy5)),oneToTen=[1,2,3,4,5,6,7,8,9,10],oneToTwenty=oneToTen.concat([11,12,13,14,15,16,17,18,19,20]),ATTRIBUTES_WATCHED_FOR_MUTATION=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],DUOTONE_CLASSES={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},prefixes=new Set;Object.keys(STYLE_TO_PREFIX[FAMILY_CLASSIC]).map(prefixes.add.bind(prefixes));Object.keys(STYLE_TO_PREFIX[FAMILY_SHARP]).map(prefixes.add.bind(prefixes));var RESERVED_CLASSES=[].concat(FAMILIES,_toConsumableArray$1(prefixes),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",DUOTONE_CLASSES.GROUP,DUOTONE_CLASSES.SWAP_OPACITY,DUOTONE_CLASSES.PRIMARY,DUOTONE_CLASSES.SECONDARY]).concat(oneToTen.map(function(sn){return"".concat(sn,"x")})).concat(oneToTwenty.map(function(sn){return"w-".concat(sn)})),initial=WINDOW.FontAwesomeConfig||{};function getAttrConfig(sn){var ln=DOCUMENT.querySelector("script["+sn+"]");if(ln)return ln.getAttribute(sn)}function coerce(sn){return sn===""?!0:sn==="false"?!1:sn==="true"?!0:sn}if(DOCUMENT&&typeof DOCUMENT.querySelector=="function"){var attrs=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];attrs.forEach(function(sn){var ln=_slicedToArray(sn,2),cn=ln[0],dn=ln[1],pn=coerce(getAttrConfig(cn));pn!=null&&(initial[dn]=pn)})}var _default={styleDefault:"solid",familyDefault:"classic",cssPrefix:DEFAULT_CSS_PREFIX,replacementClass:DEFAULT_REPLACEMENT_CLASS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};initial.familyPrefix&&(initial.cssPrefix=initial.familyPrefix);var _config=_objectSpread2$3(_objectSpread2$3({},_default),initial);_config.autoReplaceSvg||(_config.observeMutations=!1);var config$2={};Object.keys(_default).forEach(function(sn){Object.defineProperty(config$2,sn,{enumerable:!0,set:function(cn){_config[sn]=cn,_onChangeCb.forEach(function(dn){return dn(config$2)})},get:function(){return _config[sn]}})});Object.defineProperty(config$2,"familyPrefix",{enumerable:!0,set:function(ln){_config.cssPrefix=ln,_onChangeCb.forEach(function(cn){return cn(config$2)})},get:function(){return _config.cssPrefix}});WINDOW.FontAwesomeConfig=config$2;var _onChangeCb=[];function onChange(sn){return _onChangeCb.push(sn),function(){_onChangeCb.splice(_onChangeCb.indexOf(sn),1)}}var d$j=UNITS_IN_GRID,meaninglessTransform={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function insertCss(sn){if(!(!sn||!IS_DOM)){var ln=DOCUMENT.createElement("style");ln.setAttribute("type","text/css"),ln.innerHTML=sn;for(var cn=DOCUMENT.head.childNodes,dn=null,pn=cn.length-1;pn>-1;pn--){var vn=cn[pn],Sn=(vn.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(Sn)>-1&&(dn=vn)}return DOCUMENT.head.insertBefore(ln,dn),sn}}var idPool="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function nextUniqueId(){for(var sn=12,ln="";sn-- >0;)ln+=idPool[Math.random()*62|0];return ln}function toArray$1(sn){for(var ln=[],cn=(sn||[]).length>>>0;cn--;)ln[cn]=sn[cn];return ln}function classArray(sn){return sn.classList?toArray$1(sn.classList):(sn.getAttribute("class")||"").split(" ").filter(function(ln){return ln})}function htmlEscape(sn){return"".concat(sn).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function joinAttributes(sn){return Object.keys(sn||{}).reduce(function(ln,cn){return ln+"".concat(cn,'="').concat(htmlEscape(sn[cn]),'" ')},"").trim()}function joinStyles(sn){return Object.keys(sn||{}).reduce(function(ln,cn){return ln+"".concat(cn,": ").concat(sn[cn].trim(),";")},"")}function transformIsMeaningful(sn){return sn.size!==meaninglessTransform.size||sn.x!==meaninglessTransform.x||sn.y!==meaninglessTransform.y||sn.rotate!==meaninglessTransform.rotate||sn.flipX||sn.flipY}function transformForSvg(sn){var ln=sn.transform,cn=sn.containerWidth,dn=sn.iconWidth,pn={transform:"translate(".concat(cn/2," 256)")},vn="translate(".concat(ln.x*32,", ").concat(ln.y*32,") "),Sn="scale(".concat(ln.size/16*(ln.flipX?-1:1),", ").concat(ln.size/16*(ln.flipY?-1:1),") "),En="rotate(".concat(ln.rotate," 0 0)"),Cn={transform:"".concat(vn," ").concat(Sn," ").concat(En)},Pn={transform:"translate(".concat(dn/2*-1," -256)")};return{outer:pn,inner:Cn,path:Pn}}function transformForCss(sn){var ln=sn.transform,cn=sn.width,dn=cn===void 0?UNITS_IN_GRID:cn,pn=sn.height,vn=pn===void 0?UNITS_IN_GRID:pn,Sn=sn.startCentered,En=Sn===void 0?!1:Sn,Cn="";return En&&IS_IE?Cn+="translate(".concat(ln.x/d$j-dn/2,"em, ").concat(ln.y/d$j-vn/2,"em) "):En?Cn+="translate(calc(-50% + ".concat(ln.x/d$j,"em), calc(-50% + ").concat(ln.y/d$j,"em)) "):Cn+="translate(".concat(ln.x/d$j,"em, ").concat(ln.y/d$j,"em) "),Cn+="scale(".concat(ln.size/d$j*(ln.flipX?-1:1),", ").concat(ln.size/d$j*(ln.flipY?-1:1),") "),Cn+="rotate(".concat(ln.rotate,"deg) "),Cn}var baseStyles=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function css(){var sn=DEFAULT_CSS_PREFIX,ln=DEFAULT_REPLACEMENT_CLASS,cn=config$2.cssPrefix,dn=config$2.replacementClass,pn=baseStyles;if(cn!==sn||dn!==ln){var vn=new RegExp("\\.".concat(sn,"\\-"),"g"),Sn=new RegExp("\\--".concat(sn,"\\-"),"g"),En=new RegExp("\\.".concat(ln),"g");pn=pn.replace(vn,".".concat(cn,"-")).replace(Sn,"--".concat(cn,"-")).replace(En,".".concat(dn))}return pn}var _cssInserted=!1;function ensureCss(){config$2.autoAddCss&&!_cssInserted&&(insertCss(css()),_cssInserted=!0)}var InjectCSS={mixout:function(){return{dom:{css,insertCss:ensureCss}}},hooks:function(){return{beforeDOMElementCreation:function(){ensureCss()},beforeI2svg:function(){ensureCss()}}}},w$g=WINDOW||{};w$g[NAMESPACE_IDENTIFIER]||(w$g[NAMESPACE_IDENTIFIER]={});w$g[NAMESPACE_IDENTIFIER].styles||(w$g[NAMESPACE_IDENTIFIER].styles={});w$g[NAMESPACE_IDENTIFIER].hooks||(w$g[NAMESPACE_IDENTIFIER].hooks={});w$g[NAMESPACE_IDENTIFIER].shims||(w$g[NAMESPACE_IDENTIFIER].shims=[]);var namespace=w$g[NAMESPACE_IDENTIFIER],functions=[],listener$1=function sn(){DOCUMENT.removeEventListener("DOMContentLoaded",sn),loaded=1,functions.map(function(ln){return ln()})},loaded=!1;IS_DOM&&(loaded=(DOCUMENT.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(DOCUMENT.readyState),loaded||DOCUMENT.addEventListener("DOMContentLoaded",listener$1));function domready(sn){IS_DOM&&(loaded?setTimeout(sn,0):functions.push(sn))}function toHtml(sn){var ln=sn.tag,cn=sn.attributes,dn=cn===void 0?{}:cn,pn=sn.children,vn=pn===void 0?[]:pn;return typeof sn=="string"?htmlEscape(sn):"<".concat(ln," ").concat(joinAttributes(dn),">").concat(vn.map(toHtml).join(""),"</").concat(ln,">")}function iconFromMapping(sn,ln,cn){if(sn&&sn[ln]&&sn[ln][cn])return{prefix:ln,iconName:cn,icon:sn[ln][cn]}}var bindInternal4=function(ln,cn){return function(dn,pn,vn,Sn){return ln.call(cn,dn,pn,vn,Sn)}},reduce=function(ln,cn,dn,pn){var vn=Object.keys(ln),Sn=vn.length,En=pn!==void 0?bindInternal4(cn,pn):cn,Cn,Pn,Rn;for(dn===void 0?(Cn=1,Rn=ln[vn[0]]):(Cn=0,Rn=dn);Cn<Sn;Cn++)Pn=vn[Cn],Rn=En(Rn,ln[Pn],Pn,ln);return Rn};function ucs2decode(sn){for(var ln=[],cn=0,dn=sn.length;cn<dn;){var pn=sn.charCodeAt(cn++);if(pn>=55296&&pn<=56319&&cn<dn){var vn=sn.charCodeAt(cn++);(vn&64512)==56320?ln.push(((pn&1023)<<10)+(vn&1023)+65536):(ln.push(pn),cn--)}else ln.push(pn)}return ln}function toHex(sn){var ln=ucs2decode(sn);return ln.length===1?ln[0].toString(16):null}function codePointAt(sn,ln){var cn=sn.length,dn=sn.charCodeAt(ln),pn;return dn>=55296&&dn<=56319&&cn>ln+1&&(pn=sn.charCodeAt(ln+1),pn>=56320&&pn<=57343)?(dn-55296)*1024+pn-56320+65536:dn}function normalizeIcons(sn){return Object.keys(sn).reduce(function(ln,cn){var dn=sn[cn],pn=!!dn.icon;return pn?ln[dn.iconName]=dn.icon:ln[cn]=dn,ln},{})}function defineIcons(sn,ln){var cn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},dn=cn.skipHooks,pn=dn===void 0?!1:dn,vn=normalizeIcons(ln);typeof namespace.hooks.addPack=="function"&&!pn?namespace.hooks.addPack(sn,normalizeIcons(ln)):namespace.styles[sn]=_objectSpread2$3(_objectSpread2$3({},namespace.styles[sn]||{}),vn),sn==="fas"&&defineIcons("fa",ln)}var _LONG_STYLE,_PREFIXES,_PREFIXES_FOR_FAMILY,styles$1=namespace.styles,shims=namespace.shims,LONG_STYLE=(_LONG_STYLE={},_defineProperty$4(_LONG_STYLE,FAMILY_CLASSIC,Object.values(PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC])),_defineProperty$4(_LONG_STYLE,FAMILY_SHARP,Object.values(PREFIX_TO_LONG_STYLE[FAMILY_SHARP])),_LONG_STYLE),_defaultUsablePrefix=null,_byUnicode={},_byLigature={},_byOldName={},_byOldUnicode={},_byAlias={},PREFIXES=(_PREFIXES={},_defineProperty$4(_PREFIXES,FAMILY_CLASSIC,Object.keys(PREFIX_TO_STYLE[FAMILY_CLASSIC])),_defineProperty$4(_PREFIXES,FAMILY_SHARP,Object.keys(PREFIX_TO_STYLE[FAMILY_SHARP])),_PREFIXES);function isReserved(sn){return~RESERVED_CLASSES.indexOf(sn)}function getIconName(sn,ln){var cn=ln.split("-"),dn=cn[0],pn=cn.slice(1).join("-");return dn===sn&&pn!==""&&!isReserved(pn)?pn:null}var build=function(){var ln=function(vn){return reduce(styles$1,function(Sn,En,Cn){return Sn[Cn]=reduce(En,vn,{}),Sn},{})};_byUnicode=ln(function(pn,vn,Sn){if(vn[3]&&(pn[vn[3]]=Sn),vn[2]){var En=vn[2].filter(function(Cn){return typeof Cn=="number"});En.forEach(function(Cn){pn[Cn.toString(16)]=Sn})}return pn}),_byLigature=ln(function(pn,vn,Sn){if(pn[Sn]=Sn,vn[2]){var En=vn[2].filter(function(Cn){return typeof Cn=="string"});En.forEach(function(Cn){pn[Cn]=Sn})}return pn}),_byAlias=ln(function(pn,vn,Sn){var En=vn[2];return pn[Sn]=Sn,En.forEach(function(Cn){pn[Cn]=Sn}),pn});var cn="far"in styles$1||config$2.autoFetchSvg,dn=reduce(shims,function(pn,vn){var Sn=vn[0],En=vn[1],Cn=vn[2];return En==="far"&&!cn&&(En="fas"),typeof Sn=="string"&&(pn.names[Sn]={prefix:En,iconName:Cn}),typeof Sn=="number"&&(pn.unicodes[Sn.toString(16)]={prefix:En,iconName:Cn}),pn},{names:{},unicodes:{}});_byOldName=dn.names,_byOldUnicode=dn.unicodes,_defaultUsablePrefix=getCanonicalPrefix(config$2.styleDefault,{family:config$2.familyDefault})};onChange(function(sn){_defaultUsablePrefix=getCanonicalPrefix(sn.styleDefault,{family:config$2.familyDefault})});build();function byUnicode(sn,ln){return(_byUnicode[sn]||{})[ln]}function byLigature(sn,ln){return(_byLigature[sn]||{})[ln]}function byAlias(sn,ln){return(_byAlias[sn]||{})[ln]}function byOldName(sn){return _byOldName[sn]||{prefix:null,iconName:null}}function byOldUnicode(sn){var ln=_byOldUnicode[sn],cn=byUnicode("fas",sn);return ln||(cn?{prefix:"fas",iconName:cn}:null)||{prefix:null,iconName:null}}function getDefaultUsablePrefix(){return _defaultUsablePrefix}var emptyCanonicalIcon=function(){return{prefix:null,iconName:null,rest:[]}};function getCanonicalPrefix(sn){var ln=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},cn=ln.family,dn=cn===void 0?FAMILY_CLASSIC:cn,pn=PREFIX_TO_STYLE[dn][sn],vn=STYLE_TO_PREFIX[dn][sn]||STYLE_TO_PREFIX[dn][pn],Sn=sn in namespace.styles?sn:null;return vn||Sn||null}var PREFIXES_FOR_FAMILY=(_PREFIXES_FOR_FAMILY={},_defineProperty$4(_PREFIXES_FOR_FAMILY,FAMILY_CLASSIC,Object.keys(PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC])),_defineProperty$4(_PREFIXES_FOR_FAMILY,FAMILY_SHARP,Object.keys(PREFIX_TO_LONG_STYLE[FAMILY_SHARP])),_PREFIXES_FOR_FAMILY);function getCanonicalIcon(sn){var ln,cn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},dn=cn.skipLookups,pn=dn===void 0?!1:dn,vn=(ln={},_defineProperty$4(ln,FAMILY_CLASSIC,"".concat(config$2.cssPrefix,"-").concat(FAMILY_CLASSIC)),_defineProperty$4(ln,FAMILY_SHARP,"".concat(config$2.cssPrefix,"-").concat(FAMILY_SHARP)),ln),Sn=null,En=FAMILY_CLASSIC;(sn.includes(vn[FAMILY_CLASSIC])||sn.some(function(Pn){return PREFIXES_FOR_FAMILY[FAMILY_CLASSIC].includes(Pn)}))&&(En=FAMILY_CLASSIC),(sn.includes(vn[FAMILY_SHARP])||sn.some(function(Pn){return PREFIXES_FOR_FAMILY[FAMILY_SHARP].includes(Pn)}))&&(En=FAMILY_SHARP);var Cn=sn.reduce(function(Pn,Rn){var Ln=getIconName(config$2.cssPrefix,Rn);if(styles$1[Rn]?(Rn=LONG_STYLE[En].includes(Rn)?LONG_STYLE_TO_PREFIX[En][Rn]:Rn,Sn=Rn,Pn.prefix=Rn):PREFIXES[En].indexOf(Rn)>-1?(Sn=Rn,Pn.prefix=getCanonicalPrefix(Rn,{family:En})):Ln?Pn.iconName=Ln:Rn!==config$2.replacementClass&&Rn!==vn[FAMILY_CLASSIC]&&Rn!==vn[FAMILY_SHARP]&&Pn.rest.push(Rn),!pn&&Pn.prefix&&Pn.iconName){var Fn=Sn==="fa"?byOldName(Pn.iconName):{},Gn=byAlias(Pn.prefix,Pn.iconName);Fn.prefix&&(Sn=null),Pn.iconName=Fn.iconName||Gn||Pn.iconName,Pn.prefix=Fn.prefix||Pn.prefix,Pn.prefix==="far"&&!styles$1.far&&styles$1.fas&&!config$2.autoFetchSvg&&(Pn.prefix="fas")}return Pn},emptyCanonicalIcon());return(sn.includes("fa-brands")||sn.includes("fab"))&&(Cn.prefix="fab"),(sn.includes("fa-duotone")||sn.includes("fad"))&&(Cn.prefix="fad"),!Cn.prefix&&En===FAMILY_SHARP&&(styles$1.fass||config$2.autoFetchSvg)&&(Cn.prefix="fass",Cn.iconName=byAlias(Cn.prefix,Cn.iconName)||Cn.iconName),(Cn.prefix==="fa"||Sn==="fa")&&(Cn.prefix=getDefaultUsablePrefix()||"fas"),Cn}var Library=function(){function sn(){_classCallCheck(this,sn),this.definitions={}}return _createClass(sn,[{key:"add",value:function(){for(var cn=this,dn=arguments.length,pn=new Array(dn),vn=0;vn<dn;vn++)pn[vn]=arguments[vn];var Sn=pn.reduce(this._pullDefinitions,{});Object.keys(Sn).forEach(function(En){cn.definitions[En]=_objectSpread2$3(_objectSpread2$3({},cn.definitions[En]||{}),Sn[En]),defineIcons(En,Sn[En]);var Cn=PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC][En];Cn&&defineIcons(Cn,Sn[En]),build()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(cn,dn){var pn=dn.prefix&&dn.iconName&&dn.icon?{0:dn}:dn;return Object.keys(pn).map(function(vn){var Sn=pn[vn],En=Sn.prefix,Cn=Sn.iconName,Pn=Sn.icon,Rn=Pn[2];cn[En]||(cn[En]={}),Rn.length>0&&Rn.forEach(function(Ln){typeof Ln=="string"&&(cn[En][Ln]=Pn)}),cn[En][Cn]=Pn}),cn}}]),sn}(),_plugins=[],_hooks={},providers={},defaultProviderKeys=Object.keys(providers);function registerPlugins(sn,ln){var cn=ln.mixoutsTo;return _plugins=sn,_hooks={},Object.keys(providers).forEach(function(dn){defaultProviderKeys.indexOf(dn)===-1&&delete providers[dn]}),_plugins.forEach(function(dn){var pn=dn.mixout?dn.mixout():{};if(Object.keys(pn).forEach(function(Sn){typeof pn[Sn]=="function"&&(cn[Sn]=pn[Sn]),_typeof$2(pn[Sn])==="object"&&Object.keys(pn[Sn]).forEach(function(En){cn[Sn]||(cn[Sn]={}),cn[Sn][En]=pn[Sn][En]})}),dn.hooks){var vn=dn.hooks();Object.keys(vn).forEach(function(Sn){_hooks[Sn]||(_hooks[Sn]=[]),_hooks[Sn].push(vn[Sn])})}dn.provides&&dn.provides(providers)}),cn}function chainHooks(sn,ln){for(var cn=arguments.length,dn=new Array(cn>2?cn-2:0),pn=2;pn<cn;pn++)dn[pn-2]=arguments[pn];var vn=_hooks[sn]||[];return vn.forEach(function(Sn){ln=Sn.apply(null,[ln].concat(dn))}),ln}function callHooks(sn){for(var ln=arguments.length,cn=new Array(ln>1?ln-1:0),dn=1;dn<ln;dn++)cn[dn-1]=arguments[dn];var pn=_hooks[sn]||[];pn.forEach(function(vn){vn.apply(null,cn)})}function callProvided(){var sn=arguments[0],ln=Array.prototype.slice.call(arguments,1);return providers[sn]?providers[sn].apply(null,ln):void 0}function findIconDefinition(sn){sn.prefix==="fa"&&(sn.prefix="fas");var ln=sn.iconName,cn=sn.prefix||getDefaultUsablePrefix();if(ln)return ln=byAlias(cn,ln)||ln,iconFromMapping(library.definitions,cn,ln)||iconFromMapping(namespace.styles,cn,ln)}var library=new Library,noAuto=function(){config$2.autoReplaceSvg=!1,config$2.observeMutations=!1,callHooks("noAuto")},dom={i2svg:function(){var ln=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return IS_DOM?(callHooks("beforeI2svg",ln),callProvided("pseudoElements2svg",ln),callProvided("i2svg",ln)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var ln=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},cn=ln.autoReplaceSvgRoot;config$2.autoReplaceSvg===!1&&(config$2.autoReplaceSvg=!0),config$2.observeMutations=!0,domready(function(){autoReplace({autoReplaceSvgRoot:cn}),callHooks("watch",ln)})}},parse$2={icon:function(ln){if(ln===null)return null;if(_typeof$2(ln)==="object"&&ln.prefix&&ln.iconName)return{prefix:ln.prefix,iconName:byAlias(ln.prefix,ln.iconName)||ln.iconName};if(Array.isArray(ln)&&ln.length===2){var cn=ln[1].indexOf("fa-")===0?ln[1].slice(3):ln[1],dn=getCanonicalPrefix(ln[0]);return{prefix:dn,iconName:byAlias(dn,cn)||cn}}if(typeof ln=="string"&&(ln.indexOf("".concat(config$2.cssPrefix,"-"))>-1||ln.match(ICON_SELECTION_SYNTAX_PATTERN))){var pn=getCanonicalIcon(ln.split(" "),{skipLookups:!0});return{prefix:pn.prefix||getDefaultUsablePrefix(),iconName:byAlias(pn.prefix,pn.iconName)||pn.iconName}}if(typeof ln=="string"){var vn=getDefaultUsablePrefix();return{prefix:vn,iconName:byAlias(vn,ln)||ln}}}},api$1={noAuto,config:config$2,dom,parse:parse$2,library,findIconDefinition,toHtml},autoReplace=function(){var ln=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},cn=ln.autoReplaceSvgRoot,dn=cn===void 0?DOCUMENT:cn;(Object.keys(namespace.styles).length>0||config$2.autoFetchSvg)&&IS_DOM&&config$2.autoReplaceSvg&&api$1.dom.i2svg({node:dn})};function domVariants(sn,ln){return Object.defineProperty(sn,"abstract",{get:ln}),Object.defineProperty(sn,"html",{get:function(){return sn.abstract.map(function(dn){return toHtml(dn)})}}),Object.defineProperty(sn,"node",{get:function(){if(IS_DOM){var dn=DOCUMENT.createElement("div");return dn.innerHTML=sn.html,dn.children}}}),sn}function asIcon(sn){var ln=sn.children,cn=sn.main,dn=sn.mask,pn=sn.attributes,vn=sn.styles,Sn=sn.transform;if(transformIsMeaningful(Sn)&&cn.found&&!dn.found){var En=cn.width,Cn=cn.height,Pn={x:En/Cn/2,y:.5};pn.style=joinStyles(_objectSpread2$3(_objectSpread2$3({},vn),{},{"transform-origin":"".concat(Pn.x+Sn.x/16,"em ").concat(Pn.y+Sn.y/16,"em")}))}return[{tag:"svg",attributes:pn,children:ln}]}function asSymbol(sn){var ln=sn.prefix,cn=sn.iconName,dn=sn.children,pn=sn.attributes,vn=sn.symbol,Sn=vn===!0?"".concat(ln,"-").concat(config$2.cssPrefix,"-").concat(cn):vn;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:_objectSpread2$3(_objectSpread2$3({},pn),{},{id:Sn}),children:dn}]}]}function makeInlineSvgAbstract(sn){var ln=sn.icons,cn=ln.main,dn=ln.mask,pn=sn.prefix,vn=sn.iconName,Sn=sn.transform,En=sn.symbol,Cn=sn.title,Pn=sn.maskId,Rn=sn.titleId,Ln=sn.extra,Fn=sn.watchable,Gn=Fn===void 0?!1:Fn,Dn=dn.found?dn:cn,Kn=Dn.width,qn=Dn.height,Zn=pn==="fak",Yn=[config$2.replacementClass,vn?"".concat(config$2.cssPrefix,"-").concat(vn):""].filter(function(Es){return Ln.classes.indexOf(Es)===-1}).filter(function(Es){return Es!==""||!!Es}).concat(Ln.classes).join(" "),Jn={children:[],attributes:_objectSpread2$3(_objectSpread2$3({},Ln.attributes),{},{"data-prefix":pn,"data-icon":vn,class:Yn,role:Ln.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(Kn," ").concat(qn)})},rs=Zn&&!~Ln.classes.indexOf("fa-fw")?{width:"".concat(Kn/qn*16*.0625,"em")}:{};Gn&&(Jn.attributes[DATA_FA_I2SVG]=""),Cn&&(Jn.children.push({tag:"title",attributes:{id:Jn.attributes["aria-labelledby"]||"title-".concat(Rn||nextUniqueId())},children:[Cn]}),delete Jn.attributes.title);var us=_objectSpread2$3(_objectSpread2$3({},Jn),{},{prefix:pn,iconName:vn,main:cn,mask:dn,maskId:Pn,transform:Sn,symbol:En,styles:_objectSpread2$3(_objectSpread2$3({},rs),Ln.styles)}),as=dn.found&&cn.found?callProvided("generateAbstractMask",us)||{children:[],attributes:{}}:callProvided("generateAbstractIcon",us)||{children:[],attributes:{}},cs=as.children,_s=as.attributes;return us.children=cs,us.attributes=_s,En?asSymbol(us):asIcon(us)}function makeLayersTextAbstract(sn){var ln=sn.content,cn=sn.width,dn=sn.height,pn=sn.transform,vn=sn.title,Sn=sn.extra,En=sn.watchable,Cn=En===void 0?!1:En,Pn=_objectSpread2$3(_objectSpread2$3(_objectSpread2$3({},Sn.attributes),vn?{title:vn}:{}),{},{class:Sn.classes.join(" ")});Cn&&(Pn[DATA_FA_I2SVG]="");var Rn=_objectSpread2$3({},Sn.styles);transformIsMeaningful(pn)&&(Rn.transform=transformForCss({transform:pn,startCentered:!0,width:cn,height:dn}),Rn["-webkit-transform"]=Rn.transform);var Ln=joinStyles(Rn);Ln.length>0&&(Pn.style=Ln);var Fn=[];return Fn.push({tag:"span",attributes:Pn,children:[ln]}),vn&&Fn.push({tag:"span",attributes:{class:"sr-only"},children:[vn]}),Fn}function makeLayersCounterAbstract(sn){var ln=sn.content,cn=sn.title,dn=sn.extra,pn=_objectSpread2$3(_objectSpread2$3(_objectSpread2$3({},dn.attributes),cn?{title:cn}:{}),{},{class:dn.classes.join(" ")}),vn=joinStyles(dn.styles);vn.length>0&&(pn.style=vn);var Sn=[];return Sn.push({tag:"span",attributes:pn,children:[ln]}),cn&&Sn.push({tag:"span",attributes:{class:"sr-only"},children:[cn]}),Sn}var styles$1$1=namespace.styles;function asFoundIcon(sn){var ln=sn[0],cn=sn[1],dn=sn.slice(4),pn=_slicedToArray(dn,1),vn=pn[0],Sn=null;return Array.isArray(vn)?Sn={tag:"g",attributes:{class:"".concat(config$2.cssPrefix,"-").concat(DUOTONE_CLASSES.GROUP)},children:[{tag:"path",attributes:{class:"".concat(config$2.cssPrefix,"-").concat(DUOTONE_CLASSES.SECONDARY),fill:"currentColor",d:vn[0]}},{tag:"path",attributes:{class:"".concat(config$2.cssPrefix,"-").concat(DUOTONE_CLASSES.PRIMARY),fill:"currentColor",d:vn[1]}}]}:Sn={tag:"path",attributes:{fill:"currentColor",d:vn}},{found:!0,width:ln,height:cn,icon:Sn}}var missingIconResolutionMixin={found:!1,width:512,height:512};function maybeNotifyMissing(sn,ln){!PRODUCTION$1&&!config$2.showMissingIcons&&sn&&console.error('Icon with name "'.concat(sn,'" and prefix "').concat(ln,'" is missing.'))}function findIcon(sn,ln){var cn=ln;return ln==="fa"&&config$2.styleDefault!==null&&(ln=getDefaultUsablePrefix()),new Promise(function(dn,pn){if(callProvided("missingIconAbstract"),cn==="fa"){var vn=byOldName(sn)||{};sn=vn.iconName||sn,ln=vn.prefix||ln}if(sn&&ln&&styles$1$1[ln]&&styles$1$1[ln][sn]){var Sn=styles$1$1[ln][sn];return dn(asFoundIcon(Sn))}maybeNotifyMissing(sn,ln),dn(_objectSpread2$3(_objectSpread2$3({},missingIconResolutionMixin),{},{icon:config$2.showMissingIcons&&sn?callProvided("missingIconAbstract")||{}:{}}))})}var noop$1$1=function(){},p$a=config$2.measurePerformance&&PERFORMANCE&&PERFORMANCE.mark&&PERFORMANCE.measure?PERFORMANCE:{mark:noop$1$1,measure:noop$1$1},preamble='FA "6.4.2"',begin=function(ln){return p$a.mark("".concat(preamble," ").concat(ln," begins")),function(){return end(ln)}},end=function(ln){p$a.mark("".concat(preamble," ").concat(ln," ends")),p$a.measure("".concat(preamble," ").concat(ln),"".concat(preamble," ").concat(ln," begins"),"".concat(preamble," ").concat(ln," ends"))},perf={begin,end},noop$2$1=function(){};function isWatched(sn){var ln=sn.getAttribute?sn.getAttribute(DATA_FA_I2SVG):null;return typeof ln=="string"}function hasPrefixAndIcon(sn){var ln=sn.getAttribute?sn.getAttribute(DATA_PREFIX):null,cn=sn.getAttribute?sn.getAttribute(DATA_ICON):null;return ln&&cn}function hasBeenReplaced(sn){return sn&&sn.classList&&sn.classList.contains&&sn.classList.contains(config$2.replacementClass)}function getMutator(){if(config$2.autoReplaceSvg===!0)return mutators.replace;var sn=mutators[config$2.autoReplaceSvg];return sn||mutators.replace}function createElementNS(sn){return DOCUMENT.createElementNS("http://www.w3.org/2000/svg",sn)}function createElement$2(sn){return DOCUMENT.createElement(sn)}function convertSVG(sn){var ln=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},cn=ln.ceFn,dn=cn===void 0?sn.tag==="svg"?createElementNS:createElement$2:cn;if(typeof sn=="string")return DOCUMENT.createTextNode(sn);var pn=dn(sn.tag);Object.keys(sn.attributes||[]).forEach(function(Sn){pn.setAttribute(Sn,sn.attributes[Sn])});var vn=sn.children||[];return vn.forEach(function(Sn){pn.appendChild(convertSVG(Sn,{ceFn:dn}))}),pn}function nodeAsComment(sn){var ln=" ".concat(sn.outerHTML," ");return ln="".concat(ln,"Font Awesome fontawesome.com "),ln}var mutators={replace:function(ln){var cn=ln[0];if(cn.parentNode)if(ln[1].forEach(function(pn){cn.parentNode.insertBefore(convertSVG(pn),cn)}),cn.getAttribute(DATA_FA_I2SVG)===null&&config$2.keepOriginalSource){var dn=DOCUMENT.createComment(nodeAsComment(cn));cn.parentNode.replaceChild(dn,cn)}else cn.remove()},nest:function(ln){var cn=ln[0],dn=ln[1];if(~classArray(cn).indexOf(config$2.replacementClass))return mutators.replace(ln);var pn=new RegExp("".concat(config$2.cssPrefix,"-.*"));if(delete dn[0].attributes.id,dn[0].attributes.class){var vn=dn[0].attributes.class.split(" ").reduce(function(En,Cn){return Cn===config$2.replacementClass||Cn.match(pn)?En.toSvg.push(Cn):En.toNode.push(Cn),En},{toNode:[],toSvg:[]});dn[0].attributes.class=vn.toSvg.join(" "),vn.toNode.length===0?cn.removeAttribute("class"):cn.setAttribute("class",vn.toNode.join(" "))}var Sn=dn.map(function(En){return toHtml(En)}).join(`
`);cn.setAttribute(DATA_FA_I2SVG,""),cn.innerHTML=Sn}};function performOperationSync(sn){sn()}function perform$7(sn,ln){var cn=typeof ln=="function"?ln:noop$2$1;if(sn.length===0)cn();else{var dn=performOperationSync;config$2.mutateApproach===MUTATION_APPROACH_ASYNC&&(dn=WINDOW.requestAnimationFrame||performOperationSync),dn(function(){var pn=getMutator(),vn=perf.begin("mutate");sn.map(pn),vn(),cn()})}}var disabled=!1;function disableObservation(){disabled=!0}function enableObservation(){disabled=!1}var mo$6=null;function observe(sn){if(MUTATION_OBSERVER&&config$2.observeMutations){var ln=sn.treeCallback,cn=ln===void 0?noop$2$1:ln,dn=sn.nodeCallback,pn=dn===void 0?noop$2$1:dn,vn=sn.pseudoElementsCallback,Sn=vn===void 0?noop$2$1:vn,En=sn.observeMutationsRoot,Cn=En===void 0?DOCUMENT:En;mo$6=new MUTATION_OBSERVER(function(Pn){if(!disabled){var Rn=getDefaultUsablePrefix();toArray$1(Pn).forEach(function(Ln){if(Ln.type==="childList"&&Ln.addedNodes.length>0&&!isWatched(Ln.addedNodes[0])&&(config$2.searchPseudoElements&&Sn(Ln.target),cn(Ln.target)),Ln.type==="attributes"&&Ln.target.parentNode&&config$2.searchPseudoElements&&Sn(Ln.target.parentNode),Ln.type==="attributes"&&isWatched(Ln.target)&&~ATTRIBUTES_WATCHED_FOR_MUTATION.indexOf(Ln.attributeName))if(Ln.attributeName==="class"&&hasPrefixAndIcon(Ln.target)){var Fn=getCanonicalIcon(classArray(Ln.target)),Gn=Fn.prefix,Dn=Fn.iconName;Ln.target.setAttribute(DATA_PREFIX,Gn||Rn),Dn&&Ln.target.setAttribute(DATA_ICON,Dn)}else hasBeenReplaced(Ln.target)&&pn(Ln.target)})}}),IS_DOM&&mo$6.observe(Cn,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function disconnect(){mo$6&&mo$6.disconnect()}function styleParser(sn){var ln=sn.getAttribute("style"),cn=[];return ln&&(cn=ln.split(";").reduce(function(dn,pn){var vn=pn.split(":"),Sn=vn[0],En=vn.slice(1);return Sn&&En.length>0&&(dn[Sn]=En.join(":").trim()),dn},{})),cn}function classParser(sn){var ln=sn.getAttribute("data-prefix"),cn=sn.getAttribute("data-icon"),dn=sn.innerText!==void 0?sn.innerText.trim():"",pn=getCanonicalIcon(classArray(sn));return pn.prefix||(pn.prefix=getDefaultUsablePrefix()),ln&&cn&&(pn.prefix=ln,pn.iconName=cn),pn.iconName&&pn.prefix||(pn.prefix&&dn.length>0&&(pn.iconName=byLigature(pn.prefix,sn.innerText)||byUnicode(pn.prefix,toHex(sn.innerText))),!pn.iconName&&config$2.autoFetchSvg&&sn.firstChild&&sn.firstChild.nodeType===Node.TEXT_NODE&&(pn.iconName=sn.firstChild.data)),pn}function attributesParser(sn){var ln=toArray$1(sn.attributes).reduce(function(pn,vn){return pn.name!=="class"&&pn.name!=="style"&&(pn[vn.name]=vn.value),pn},{}),cn=sn.getAttribute("title"),dn=sn.getAttribute("data-fa-title-id");return config$2.autoA11y&&(cn?ln["aria-labelledby"]="".concat(config$2.replacementClass,"-title-").concat(dn||nextUniqueId()):(ln["aria-hidden"]="true",ln.focusable="false")),ln}function blankMeta(){return{iconName:null,title:null,titleId:null,prefix:null,transform:meaninglessTransform,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function parseMeta(sn){var ln=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},cn=classParser(sn),dn=cn.iconName,pn=cn.prefix,vn=cn.rest,Sn=attributesParser(sn),En=chainHooks("parseNodeAttributes",{},sn),Cn=ln.styleParser?styleParser(sn):[];return _objectSpread2$3({iconName:dn,title:sn.getAttribute("title"),titleId:sn.getAttribute("data-fa-title-id"),prefix:pn,transform:meaninglessTransform,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:vn,styles:Cn,attributes:Sn}},En)}var styles$2=namespace.styles;function generateMutation(sn){var ln=config$2.autoReplaceSvg==="nest"?parseMeta(sn,{styleParser:!1}):parseMeta(sn);return~ln.extra.classes.indexOf(LAYERS_TEXT_CLASSNAME)?callProvided("generateLayersText",sn,ln):callProvided("generateSvgReplacementMutation",sn,ln)}var knownPrefixes=new Set;FAMILIES.map(function(sn){knownPrefixes.add("fa-".concat(sn))});Object.keys(PREFIX_TO_STYLE[FAMILY_CLASSIC]).map(knownPrefixes.add.bind(knownPrefixes));Object.keys(PREFIX_TO_STYLE[FAMILY_SHARP]).map(knownPrefixes.add.bind(knownPrefixes));knownPrefixes=_toConsumableArray$1(knownPrefixes);function onTree(sn){var ln=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!IS_DOM)return Promise.resolve();var cn=DOCUMENT.documentElement.classList,dn=function(Ln){return cn.add("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(Ln))},pn=function(Ln){return cn.remove("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(Ln))},vn=config$2.autoFetchSvg?knownPrefixes:FAMILIES.map(function(Rn){return"fa-".concat(Rn)}).concat(Object.keys(styles$2));vn.includes("fa")||vn.push("fa");var Sn=[".".concat(LAYERS_TEXT_CLASSNAME,":not([").concat(DATA_FA_I2SVG,"])")].concat(vn.map(function(Rn){return".".concat(Rn,":not([").concat(DATA_FA_I2SVG,"])")})).join(", ");if(Sn.length===0)return Promise.resolve();var En=[];try{En=toArray$1(sn.querySelectorAll(Sn))}catch{}if(En.length>0)dn("pending"),pn("complete");else return Promise.resolve();var Cn=perf.begin("onTree"),Pn=En.reduce(function(Rn,Ln){try{var Fn=generateMutation(Ln);Fn&&Rn.push(Fn)}catch(Gn){PRODUCTION$1||Gn.name==="MissingIcon"&&console.error(Gn)}return Rn},[]);return new Promise(function(Rn,Ln){Promise.all(Pn).then(function(Fn){perform$7(Fn,function(){dn("active"),dn("complete"),pn("pending"),typeof ln=="function"&&ln(),Cn(),Rn()})}).catch(function(Fn){Cn(),Ln(Fn)})})}function onNode(sn){var ln=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;generateMutation(sn).then(function(cn){cn&&perform$7([cn],ln)})}function resolveIcons(sn){return function(ln){var cn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},dn=(ln||{}).icon?ln:findIconDefinition(ln||{}),pn=cn.mask;return pn&&(pn=(pn||{}).icon?pn:findIconDefinition(pn||{})),sn(dn,_objectSpread2$3(_objectSpread2$3({},cn),{},{mask:pn}))}}var render=function(ln){var cn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},dn=cn.transform,pn=dn===void 0?meaninglessTransform:dn,vn=cn.symbol,Sn=vn===void 0?!1:vn,En=cn.mask,Cn=En===void 0?null:En,Pn=cn.maskId,Rn=Pn===void 0?null:Pn,Ln=cn.title,Fn=Ln===void 0?null:Ln,Gn=cn.titleId,Dn=Gn===void 0?null:Gn,Kn=cn.classes,qn=Kn===void 0?[]:Kn,Zn=cn.attributes,Yn=Zn===void 0?{}:Zn,Jn=cn.styles,rs=Jn===void 0?{}:Jn;if(ln){var us=ln.prefix,as=ln.iconName,cs=ln.icon;return domVariants(_objectSpread2$3({type:"icon"},ln),function(){return callHooks("beforeDOMElementCreation",{iconDefinition:ln,params:cn}),config$2.autoA11y&&(Fn?Yn["aria-labelledby"]="".concat(config$2.replacementClass,"-title-").concat(Dn||nextUniqueId()):(Yn["aria-hidden"]="true",Yn.focusable="false")),makeInlineSvgAbstract({icons:{main:asFoundIcon(cs),mask:Cn?asFoundIcon(Cn.icon):{found:!1,width:null,height:null,icon:{}}},prefix:us,iconName:as,transform:_objectSpread2$3(_objectSpread2$3({},meaninglessTransform),pn),symbol:Sn,title:Fn,maskId:Rn,titleId:Dn,extra:{attributes:Yn,styles:rs,classes:qn}})})}},ReplaceElements={mixout:function(){return{icon:resolveIcons(render)}},hooks:function(){return{mutationObserverCallbacks:function(cn){return cn.treeCallback=onTree,cn.nodeCallback=onNode,cn}}},provides:function(ln){ln.i2svg=function(cn){var dn=cn.node,pn=dn===void 0?DOCUMENT:dn,vn=cn.callback,Sn=vn===void 0?function(){}:vn;return onTree(pn,Sn)},ln.generateSvgReplacementMutation=function(cn,dn){var pn=dn.iconName,vn=dn.title,Sn=dn.titleId,En=dn.prefix,Cn=dn.transform,Pn=dn.symbol,Rn=dn.mask,Ln=dn.maskId,Fn=dn.extra;return new Promise(function(Gn,Dn){Promise.all([findIcon(pn,En),Rn.iconName?findIcon(Rn.iconName,Rn.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(Kn){var qn=_slicedToArray(Kn,2),Zn=qn[0],Yn=qn[1];Gn([cn,makeInlineSvgAbstract({icons:{main:Zn,mask:Yn},prefix:En,iconName:pn,transform:Cn,symbol:Pn,maskId:Ln,title:vn,titleId:Sn,extra:Fn,watchable:!0})])}).catch(Dn)})},ln.generateAbstractIcon=function(cn){var dn=cn.children,pn=cn.attributes,vn=cn.main,Sn=cn.transform,En=cn.styles,Cn=joinStyles(En);Cn.length>0&&(pn.style=Cn);var Pn;return transformIsMeaningful(Sn)&&(Pn=callProvided("generateAbstractTransformGrouping",{main:vn,transform:Sn,containerWidth:vn.width,iconWidth:vn.width})),dn.push(Pn||vn.icon),{children:dn,attributes:pn}}}},Layers={mixout:function(){return{layer:function(cn){var dn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pn=dn.classes,vn=pn===void 0?[]:pn;return domVariants({type:"layer"},function(){callHooks("beforeDOMElementCreation",{assembler:cn,params:dn});var Sn=[];return cn(function(En){Array.isArray(En)?En.map(function(Cn){Sn=Sn.concat(Cn.abstract)}):Sn=Sn.concat(En.abstract)}),[{tag:"span",attributes:{class:["".concat(config$2.cssPrefix,"-layers")].concat(_toConsumableArray$1(vn)).join(" ")},children:Sn}]})}}}},LayersCounter={mixout:function(){return{counter:function(cn){var dn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pn=dn.title,vn=pn===void 0?null:pn,Sn=dn.classes,En=Sn===void 0?[]:Sn,Cn=dn.attributes,Pn=Cn===void 0?{}:Cn,Rn=dn.styles,Ln=Rn===void 0?{}:Rn;return domVariants({type:"counter",content:cn},function(){return callHooks("beforeDOMElementCreation",{content:cn,params:dn}),makeLayersCounterAbstract({content:cn.toString(),title:vn,extra:{attributes:Pn,styles:Ln,classes:["".concat(config$2.cssPrefix,"-layers-counter")].concat(_toConsumableArray$1(En))}})})}}}},LayersText={mixout:function(){return{text:function(cn){var dn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pn=dn.transform,vn=pn===void 0?meaninglessTransform:pn,Sn=dn.title,En=Sn===void 0?null:Sn,Cn=dn.classes,Pn=Cn===void 0?[]:Cn,Rn=dn.attributes,Ln=Rn===void 0?{}:Rn,Fn=dn.styles,Gn=Fn===void 0?{}:Fn;return domVariants({type:"text",content:cn},function(){return callHooks("beforeDOMElementCreation",{content:cn,params:dn}),makeLayersTextAbstract({content:cn,transform:_objectSpread2$3(_objectSpread2$3({},meaninglessTransform),vn),title:En,extra:{attributes:Ln,styles:Gn,classes:["".concat(config$2.cssPrefix,"-layers-text")].concat(_toConsumableArray$1(Pn))}})})}}},provides:function(ln){ln.generateLayersText=function(cn,dn){var pn=dn.title,vn=dn.transform,Sn=dn.extra,En=null,Cn=null;if(IS_IE){var Pn=parseInt(getComputedStyle(cn).fontSize,10),Rn=cn.getBoundingClientRect();En=Rn.width/Pn,Cn=Rn.height/Pn}return config$2.autoA11y&&!pn&&(Sn.attributes["aria-hidden"]="true"),Promise.resolve([cn,makeLayersTextAbstract({content:cn.innerHTML,width:En,height:Cn,transform:vn,title:pn,extra:Sn,watchable:!0})])}}},CLEAN_CONTENT_PATTERN=new RegExp('"',"ug"),SECONDARY_UNICODE_RANGE=[1105920,1112319];function hexValueFromContent(sn){var ln=sn.replace(CLEAN_CONTENT_PATTERN,""),cn=codePointAt(ln,0),dn=cn>=SECONDARY_UNICODE_RANGE[0]&&cn<=SECONDARY_UNICODE_RANGE[1],pn=ln.length===2?ln[0]===ln[1]:!1;return{value:toHex(pn?ln[0]:ln),isSecondary:dn||pn}}function replaceForPosition(sn,ln){var cn="".concat(DATA_FA_PSEUDO_ELEMENT_PENDING).concat(ln.replace(":","-"));return new Promise(function(dn,pn){if(sn.getAttribute(cn)!==null)return dn();var vn=toArray$1(sn.children),Sn=vn.filter(function(cs){return cs.getAttribute(DATA_FA_PSEUDO_ELEMENT)===ln})[0],En=WINDOW.getComputedStyle(sn,ln),Cn=En.getPropertyValue("font-family").match(FONT_FAMILY_PATTERN),Pn=En.getPropertyValue("font-weight"),Rn=En.getPropertyValue("content");if(Sn&&!Cn)return sn.removeChild(Sn),dn();if(Cn&&Rn!=="none"&&Rn!==""){var Ln=En.getPropertyValue("content"),Fn=~["Sharp"].indexOf(Cn[2])?FAMILY_SHARP:FAMILY_CLASSIC,Gn=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(Cn[2])?STYLE_TO_PREFIX[Fn][Cn[2].toLowerCase()]:FONT_WEIGHT_TO_PREFIX[Fn][Pn],Dn=hexValueFromContent(Ln),Kn=Dn.value,qn=Dn.isSecondary,Zn=Cn[0].startsWith("FontAwesome"),Yn=byUnicode(Gn,Kn),Jn=Yn;if(Zn){var rs=byOldUnicode(Kn);rs.iconName&&rs.prefix&&(Yn=rs.iconName,Gn=rs.prefix)}if(Yn&&!qn&&(!Sn||Sn.getAttribute(DATA_PREFIX)!==Gn||Sn.getAttribute(DATA_ICON)!==Jn)){sn.setAttribute(cn,Jn),Sn&&sn.removeChild(Sn);var us=blankMeta(),as=us.extra;as.attributes[DATA_FA_PSEUDO_ELEMENT]=ln,findIcon(Yn,Gn).then(function(cs){var _s=makeInlineSvgAbstract(_objectSpread2$3(_objectSpread2$3({},us),{},{icons:{main:cs,mask:emptyCanonicalIcon()},prefix:Gn,iconName:Jn,extra:as,watchable:!0})),Es=DOCUMENT.createElementNS("http://www.w3.org/2000/svg","svg");ln==="::before"?sn.insertBefore(Es,sn.firstChild):sn.appendChild(Es),Es.outerHTML=_s.map(function(Qn){return toHtml(Qn)}).join(`
`),sn.removeAttribute(cn),dn()}).catch(pn)}else dn()}else dn()})}function replace$1(sn){return Promise.all([replaceForPosition(sn,"::before"),replaceForPosition(sn,"::after")])}function processable(sn){return sn.parentNode!==document.head&&!~TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS.indexOf(sn.tagName.toUpperCase())&&!sn.getAttribute(DATA_FA_PSEUDO_ELEMENT)&&(!sn.parentNode||sn.parentNode.tagName!=="svg")}function searchPseudoElements(sn){if(IS_DOM)return new Promise(function(ln,cn){var dn=toArray$1(sn.querySelectorAll("*")).filter(processable).map(replace$1),pn=perf.begin("searchPseudoElements");disableObservation(),Promise.all(dn).then(function(){pn(),enableObservation(),ln()}).catch(function(){pn(),enableObservation(),cn()})})}var PseudoElements={hooks:function(){return{mutationObserverCallbacks:function(cn){return cn.pseudoElementsCallback=searchPseudoElements,cn}}},provides:function(ln){ln.pseudoElements2svg=function(cn){var dn=cn.node,pn=dn===void 0?DOCUMENT:dn;config$2.searchPseudoElements&&searchPseudoElements(pn)}}},_unwatched=!1,MutationObserver$1$1={mixout:function(){return{dom:{unwatch:function(){disableObservation(),_unwatched=!0}}}},hooks:function(){return{bootstrap:function(){observe(chainHooks("mutationObserverCallbacks",{}))},noAuto:function(){disconnect()},watch:function(cn){var dn=cn.observeMutationsRoot;_unwatched?enableObservation():observe(chainHooks("mutationObserverCallbacks",{observeMutationsRoot:dn}))}}}},parseTransformString=function(ln){var cn={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return ln.toLowerCase().split(" ").reduce(function(dn,pn){var vn=pn.toLowerCase().split("-"),Sn=vn[0],En=vn.slice(1).join("-");if(Sn&&En==="h")return dn.flipX=!0,dn;if(Sn&&En==="v")return dn.flipY=!0,dn;if(En=parseFloat(En),isNaN(En))return dn;switch(Sn){case"grow":dn.size=dn.size+En;break;case"shrink":dn.size=dn.size-En;break;case"left":dn.x=dn.x-En;break;case"right":dn.x=dn.x+En;break;case"up":dn.y=dn.y-En;break;case"down":dn.y=dn.y+En;break;case"rotate":dn.rotate=dn.rotate+En;break}return dn},cn)},PowerTransforms={mixout:function(){return{parse:{transform:function(cn){return parseTransformString(cn)}}}},hooks:function(){return{parseNodeAttributes:function(cn,dn){var pn=dn.getAttribute("data-fa-transform");return pn&&(cn.transform=parseTransformString(pn)),cn}}},provides:function(ln){ln.generateAbstractTransformGrouping=function(cn){var dn=cn.main,pn=cn.transform,vn=cn.containerWidth,Sn=cn.iconWidth,En={transform:"translate(".concat(vn/2," 256)")},Cn="translate(".concat(pn.x*32,", ").concat(pn.y*32,") "),Pn="scale(".concat(pn.size/16*(pn.flipX?-1:1),", ").concat(pn.size/16*(pn.flipY?-1:1),") "),Rn="rotate(".concat(pn.rotate," 0 0)"),Ln={transform:"".concat(Cn," ").concat(Pn," ").concat(Rn)},Fn={transform:"translate(".concat(Sn/2*-1," -256)")},Gn={outer:En,inner:Ln,path:Fn};return{tag:"g",attributes:_objectSpread2$3({},Gn.outer),children:[{tag:"g",attributes:_objectSpread2$3({},Gn.inner),children:[{tag:dn.icon.tag,children:dn.icon.children,attributes:_objectSpread2$3(_objectSpread2$3({},dn.icon.attributes),Gn.path)}]}]}}}},ALL_SPACE={x:0,y:0,width:"100%",height:"100%"};function fillBlack(sn){var ln=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return sn.attributes&&(sn.attributes.fill||ln)&&(sn.attributes.fill="black"),sn}function deGroup(sn){return sn.tag==="g"?sn.children:[sn]}var Masks={hooks:function(){return{parseNodeAttributes:function(cn,dn){var pn=dn.getAttribute("data-fa-mask"),vn=pn?getCanonicalIcon(pn.split(" ").map(function(Sn){return Sn.trim()})):emptyCanonicalIcon();return vn.prefix||(vn.prefix=getDefaultUsablePrefix()),cn.mask=vn,cn.maskId=dn.getAttribute("data-fa-mask-id"),cn}}},provides:function(ln){ln.generateAbstractMask=function(cn){var dn=cn.children,pn=cn.attributes,vn=cn.main,Sn=cn.mask,En=cn.maskId,Cn=cn.transform,Pn=vn.width,Rn=vn.icon,Ln=Sn.width,Fn=Sn.icon,Gn=transformForSvg({transform:Cn,containerWidth:Ln,iconWidth:Pn}),Dn={tag:"rect",attributes:_objectSpread2$3(_objectSpread2$3({},ALL_SPACE),{},{fill:"white"})},Kn=Rn.children?{children:Rn.children.map(fillBlack)}:{},qn={tag:"g",attributes:_objectSpread2$3({},Gn.inner),children:[fillBlack(_objectSpread2$3({tag:Rn.tag,attributes:_objectSpread2$3(_objectSpread2$3({},Rn.attributes),Gn.path)},Kn))]},Zn={tag:"g",attributes:_objectSpread2$3({},Gn.outer),children:[qn]},Yn="mask-".concat(En||nextUniqueId()),Jn="clip-".concat(En||nextUniqueId()),rs={tag:"mask",attributes:_objectSpread2$3(_objectSpread2$3({},ALL_SPACE),{},{id:Yn,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[Dn,Zn]},us={tag:"defs",children:[{tag:"clipPath",attributes:{id:Jn},children:deGroup(Fn)},rs]};return dn.push(us,{tag:"rect",attributes:_objectSpread2$3({fill:"currentColor","clip-path":"url(#".concat(Jn,")"),mask:"url(#".concat(Yn,")")},ALL_SPACE)}),{children:dn,attributes:pn}}}},MissingIconIndicator={provides:function(ln){var cn=!1;WINDOW.matchMedia&&(cn=WINDOW.matchMedia("(prefers-reduced-motion: reduce)").matches),ln.missingIconAbstract=function(){var dn=[],pn={fill:"currentColor"},vn={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};dn.push({tag:"path",attributes:_objectSpread2$3(_objectSpread2$3({},pn),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var Sn=_objectSpread2$3(_objectSpread2$3({},vn),{},{attributeName:"opacity"}),En={tag:"circle",attributes:_objectSpread2$3(_objectSpread2$3({},pn),{},{cx:"256",cy:"364",r:"28"}),children:[]};return cn||En.children.push({tag:"animate",attributes:_objectSpread2$3(_objectSpread2$3({},vn),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:_objectSpread2$3(_objectSpread2$3({},Sn),{},{values:"1;0;1;1;0;1;"})}),dn.push(En),dn.push({tag:"path",attributes:_objectSpread2$3(_objectSpread2$3({},pn),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:cn?[]:[{tag:"animate",attributes:_objectSpread2$3(_objectSpread2$3({},Sn),{},{values:"1;0;0;0;0;1;"})}]}),cn||dn.push({tag:"path",attributes:_objectSpread2$3(_objectSpread2$3({},pn),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:_objectSpread2$3(_objectSpread2$3({},Sn),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:dn}}}},SvgSymbols={hooks:function(){return{parseNodeAttributes:function(cn,dn){var pn=dn.getAttribute("data-fa-symbol"),vn=pn===null?!1:pn===""?!0:pn;return cn.symbol=vn,cn}}}},plugins=[InjectCSS,ReplaceElements,Layers,LayersCounter,LayersText,PseudoElements,MutationObserver$1$1,PowerTransforms,Masks,MissingIconIndicator,SvgSymbols];registerPlugins(plugins,{mixoutsTo:api$1});api$1.noAuto;api$1.config;api$1.library;api$1.dom;var parse$1$1=api$1.parse;api$1.findIconDefinition;api$1.toHtml;var icon=api$1.icon;api$1.layer;api$1.text;api$1.counter;function ownKeys$5(sn,ln){var cn=Object.keys(sn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(sn);ln&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(sn,pn).enumerable})),cn.push.apply(cn,dn)}return cn}function _objectSpread2$2(sn){for(var ln=1;ln<arguments.length;ln++){var cn=arguments[ln]!=null?arguments[ln]:{};ln%2?ownKeys$5(Object(cn),!0).forEach(function(dn){_defineProperty$3(sn,dn,cn[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(sn,Object.getOwnPropertyDescriptors(cn)):ownKeys$5(Object(cn)).forEach(function(dn){Object.defineProperty(sn,dn,Object.getOwnPropertyDescriptor(cn,dn))})}return sn}function _typeof$1(sn){return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ln){return typeof ln}:function(ln){return ln&&typeof Symbol=="function"&&ln.constructor===Symbol&&ln!==Symbol.prototype?"symbol":typeof ln},_typeof$1(sn)}function _defineProperty$3(sn,ln,cn){return ln in sn?Object.defineProperty(sn,ln,{value:cn,enumerable:!0,configurable:!0,writable:!0}):sn[ln]=cn,sn}function _objectWithoutPropertiesLoose$1(sn,ln){if(sn==null)return{};var cn={},dn=Object.keys(sn),pn,vn;for(vn=0;vn<dn.length;vn++)pn=dn[vn],!(ln.indexOf(pn)>=0)&&(cn[pn]=sn[pn]);return cn}function _objectWithoutProperties(sn,ln){if(sn==null)return{};var cn=_objectWithoutPropertiesLoose$1(sn,ln),dn,pn;if(Object.getOwnPropertySymbols){var vn=Object.getOwnPropertySymbols(sn);for(pn=0;pn<vn.length;pn++)dn=vn[pn],!(ln.indexOf(dn)>=0)&&Object.prototype.propertyIsEnumerable.call(sn,dn)&&(cn[dn]=sn[dn])}return cn}function _toConsumableArray(sn){return _arrayWithoutHoles(sn)||_iterableToArray(sn)||_unsupportedIterableToArray(sn)||_nonIterableSpread()}function _arrayWithoutHoles(sn){if(Array.isArray(sn))return _arrayLikeToArray(sn)}function _iterableToArray(sn){if(typeof Symbol<"u"&&sn[Symbol.iterator]!=null||sn["@@iterator"]!=null)return Array.from(sn)}function _unsupportedIterableToArray(sn,ln){if(sn){if(typeof sn=="string")return _arrayLikeToArray(sn,ln);var cn=Object.prototype.toString.call(sn).slice(8,-1);if(cn==="Object"&&sn.constructor&&(cn=sn.constructor.name),cn==="Map"||cn==="Set")return Array.from(sn);if(cn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(cn))return _arrayLikeToArray(sn,ln)}}function _arrayLikeToArray(sn,ln){(ln==null||ln>sn.length)&&(ln=sn.length);for(var cn=0,dn=new Array(ln);cn<ln;cn++)dn[cn]=sn[cn];return dn}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function classList$1(sn){var ln,cn=sn.beat,dn=sn.fade,pn=sn.beatFade,vn=sn.bounce,Sn=sn.shake,En=sn.flash,Cn=sn.spin,Pn=sn.spinPulse,Rn=sn.spinReverse,Ln=sn.pulse,Fn=sn.fixedWidth,Gn=sn.inverse,Dn=sn.border,Kn=sn.listItem,qn=sn.flip,Zn=sn.size,Yn=sn.rotation,Jn=sn.pull,rs=(ln={"fa-beat":cn,"fa-fade":dn,"fa-beat-fade":pn,"fa-bounce":vn,"fa-shake":Sn,"fa-flash":En,"fa-spin":Cn,"fa-spin-reverse":Rn,"fa-spin-pulse":Pn,"fa-pulse":Ln,"fa-fw":Fn,"fa-inverse":Gn,"fa-border":Dn,"fa-li":Kn,"fa-flip":qn===!0,"fa-flip-horizontal":qn==="horizontal"||qn==="both","fa-flip-vertical":qn==="vertical"||qn==="both"},_defineProperty$3(ln,"fa-".concat(Zn),typeof Zn<"u"&&Zn!==null),_defineProperty$3(ln,"fa-rotate-".concat(Yn),typeof Yn<"u"&&Yn!==null&&Yn!==0),_defineProperty$3(ln,"fa-pull-".concat(Jn),typeof Jn<"u"&&Jn!==null),_defineProperty$3(ln,"fa-swap-opacity",sn.swapOpacity),ln);return Object.keys(rs).map(function(us){return rs[us]?us:null}).filter(function(us){return us})}function _isNumerical(sn){return sn=sn-0,sn===sn}function camelize(sn){return _isNumerical(sn)?sn:(sn=sn.replace(/[\-_\s]+(.)?/g,function(ln,cn){return cn?cn.toUpperCase():""}),sn.substr(0,1).toLowerCase()+sn.substr(1))}var _excluded=["style"];function capitalize(sn){return sn.charAt(0).toUpperCase()+sn.slice(1)}function styleToObject(sn){return sn.split(";").map(function(ln){return ln.trim()}).filter(function(ln){return ln}).reduce(function(ln,cn){var dn=cn.indexOf(":"),pn=camelize(cn.slice(0,dn)),vn=cn.slice(dn+1).trim();return pn.startsWith("webkit")?ln[capitalize(pn)]=vn:ln[pn]=vn,ln},{})}function convert(sn,ln){var cn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof ln=="string")return ln;var dn=(ln.children||[]).map(function(Cn){return convert(sn,Cn)}),pn=Object.keys(ln.attributes||{}).reduce(function(Cn,Pn){var Rn=ln.attributes[Pn];switch(Pn){case"class":Cn.attrs.className=Rn,delete ln.attributes.class;break;case"style":Cn.attrs.style=styleToObject(Rn);break;default:Pn.indexOf("aria-")===0||Pn.indexOf("data-")===0?Cn.attrs[Pn.toLowerCase()]=Rn:Cn.attrs[camelize(Pn)]=Rn}return Cn},{attrs:{}}),vn=cn.style,Sn=vn===void 0?{}:vn,En=_objectWithoutProperties(cn,_excluded);return pn.attrs.style=_objectSpread2$2(_objectSpread2$2({},pn.attrs.style),Sn),sn.apply(void 0,[ln.tag,_objectSpread2$2(_objectSpread2$2({},pn.attrs),En)].concat(_toConsumableArray(dn)))}var PRODUCTION=!1;try{PRODUCTION=!0}catch{}function log$9(){if(!PRODUCTION&&console&&typeof console.error=="function"){var sn;(sn=console).error.apply(sn,arguments)}}function normalizeIconArgs(sn){if(sn&&_typeof$1(sn)==="object"&&sn.prefix&&sn.iconName&&sn.icon)return sn;if(parse$1$1.icon)return parse$1$1.icon(sn);if(sn===null)return null;if(sn&&_typeof$1(sn)==="object"&&sn.prefix&&sn.iconName)return sn;if(Array.isArray(sn)&&sn.length===2)return{prefix:sn[0],iconName:sn[1]};if(typeof sn=="string")return{prefix:"fas",iconName:sn}}function objectWithKey(sn,ln){return Array.isArray(ln)&&ln.length>0||!Array.isArray(ln)&&ln?_defineProperty$3({},sn,ln):{}}var FontAwesomeIcon=gS.forwardRef(function(sn,ln){var cn=sn.icon,dn=sn.mask,pn=sn.symbol,vn=sn.className,Sn=sn.title,En=sn.titleId,Cn=sn.maskId,Pn=normalizeIconArgs(cn),Rn=objectWithKey("classes",[].concat(_toConsumableArray(classList$1(sn)),_toConsumableArray(vn.split(" ")))),Ln=objectWithKey("transform",typeof sn.transform=="string"?parse$1$1.transform(sn.transform):sn.transform),Fn=objectWithKey("mask",normalizeIconArgs(dn)),Gn=icon(Pn,_objectSpread2$2(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({},Rn),Ln),Fn),{},{symbol:pn,title:Sn,titleId:En,maskId:Cn}));if(!Gn)return log$9("Could not find icon",Pn),null;var Dn=Gn.abstract,Kn={ref:ln};return Object.keys(sn).forEach(function(qn){FontAwesomeIcon.defaultProps.hasOwnProperty(qn)||(Kn[qn]=sn[qn])}),convertCurry(Dn[0],Kn)});FontAwesomeIcon.displayName="FontAwesomeIcon";FontAwesomeIcon.propTypes={beat:r$7.bool,border:r$7.bool,beatFade:r$7.bool,bounce:r$7.bool,className:r$7.string,fade:r$7.bool,flash:r$7.bool,mask:r$7.oneOfType([r$7.object,r$7.array,r$7.string]),maskId:r$7.string,fixedWidth:r$7.bool,inverse:r$7.bool,flip:r$7.oneOf([!0,!1,"horizontal","vertical","both"]),icon:r$7.oneOfType([r$7.object,r$7.array,r$7.string]),listItem:r$7.bool,pull:r$7.oneOf(["right","left"]),pulse:r$7.bool,rotation:r$7.oneOf([0,90,180,270]),shake:r$7.bool,size:r$7.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:r$7.bool,spinPulse:r$7.bool,spinReverse:r$7.bool,symbol:r$7.oneOfType([r$7.bool,r$7.string]),title:r$7.string,titleId:r$7.string,transform:r$7.oneOfType([r$7.string,r$7.object]),swapOpacity:r$7.bool};FontAwesomeIcon.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var convertCurry=convert.bind(null,gS.createElement),__assign$2=function(){return __assign$2=Object.assign||function(ln){for(var cn,dn=1,pn=arguments.length;dn<pn;dn++){cn=arguments[dn];for(var vn in cn)Object.prototype.hasOwnProperty.call(cn,vn)&&(ln[vn]=cn[vn])}return ln},__assign$2.apply(this,arguments)};function __rest(sn,ln){var cn={};for(var dn in sn)Object.prototype.hasOwnProperty.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pn=0,dn=Object.getOwnPropertySymbols(sn);pn<dn.length;pn++)ln.indexOf(dn[pn])<0&&Object.prototype.propertyIsEnumerable.call(sn,dn[pn])&&(cn[dn[pn]]=sn[dn[pn]]);return cn}function __spreadArray$1(sn,ln,cn){if(cn||arguments.length===2)for(var dn=0,pn=ln.length,vn;dn<pn;dn++)(vn||!(dn in ln))&&(vn||(vn=Array.prototype.slice.call(ln,0,dn)),vn[dn]=ln[dn]);return sn.concat(vn||Array.prototype.slice.call(ln))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef$1(sn,ln){return typeof sn=="function"?sn(ln):sn&&(sn.current=ln),sn}function useCallbackRef(sn,ln){var cn=reactExports.useState(function(){return{value:sn,callback:ln,facade:{get current(){return cn.value},set current(dn){var pn=cn.value;pn!==dn&&(cn.value=dn,cn.callback(dn,pn))}}}})[0];return cn.callback=ln,cn.facade}function useMergeRefs(sn,ln){return useCallbackRef(ln||null,function(cn){return sn.forEach(function(dn){return assignRef$1(dn,cn)})})}function ItoI(sn){return sn}function innerCreateMedium(sn,ln){ln===void 0&&(ln=ItoI);var cn=[],dn=!1,pn={read:function(){if(dn)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return cn.length?cn[cn.length-1]:sn},useMedium:function(vn){var Sn=ln(vn,dn);return cn.push(Sn),function(){cn=cn.filter(function(En){return En!==Sn})}},assignSyncMedium:function(vn){for(dn=!0;cn.length;){var Sn=cn;cn=[],Sn.forEach(vn)}cn={push:function(En){return vn(En)},filter:function(){return cn}}},assignMedium:function(vn){dn=!0;var Sn=[];if(cn.length){var En=cn;cn=[],En.forEach(vn),Sn=cn}var Cn=function(){var Rn=Sn;Sn=[],Rn.forEach(vn)},Pn=function(){return Promise.resolve().then(Cn)};Pn(),cn={push:function(Rn){Sn.push(Rn),Pn()},filter:function(Rn){return Sn=Sn.filter(Rn),cn}}}};return pn}function createSidecarMedium(sn){sn===void 0&&(sn={});var ln=innerCreateMedium(null);return ln.options=__assign$2({async:!0,ssr:!1},sn),ln}var SideCar$1=function(sn){var ln=sn.sideCar,cn=__rest(sn,["sideCar"]);if(!ln)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var dn=ln.read();if(!dn)throw new Error("Sidecar medium not found");return jsx$1(dn,{...__assign$2({},cn)})};SideCar$1.isSideCarExport=!0;function exportSidecar(sn,ln){return sn.useMedium(ln),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll$1=reactExports.forwardRef(function(sn,ln){var cn=reactExports.useRef(null),dn=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),pn=dn[0],vn=dn[1],Sn=sn.forwardProps,En=sn.children,Cn=sn.className,Pn=sn.removeScrollBar,Rn=sn.enabled,Ln=sn.shards,Fn=sn.sideCar,Gn=sn.noIsolation,Dn=sn.inert,Kn=sn.allowPinchZoom,qn=sn.as,Zn=qn===void 0?"div":qn,Yn=sn.gapMode,Jn=__rest(sn,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),rs=Fn,us=useMergeRefs([cn,ln]),as=__assign$2(__assign$2({},Jn),pn);return jsxs$1(Fragment$1,{children:[Rn&&jsx$1(rs,{sideCar:effectCar,removeScrollBar:Pn,shards:Ln,noIsolation:Gn,inert:Dn,setCallbacks:vn,allowPinchZoom:!!Kn,lockRef:cn,gapMode:Yn}),Sn?reactExports.cloneElement(reactExports.Children.only(En),__assign$2(__assign$2({},as),{ref:us})):jsx$1(Zn,{...__assign$2({},as,{className:Cn,ref:us}),children:En})]})});RemoveScroll$1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll$1.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var sn=document.createElement("style");sn.type="text/css";var ln=getNonce();return ln&&sn.setAttribute("nonce",ln),sn}function injectStyles(sn,ln){sn.styleSheet?sn.styleSheet.cssText=ln:sn.appendChild(document.createTextNode(ln))}function insertStyleTag(sn){var ln=document.head||document.getElementsByTagName("head")[0];ln.appendChild(sn)}var stylesheetSingleton=function(){var sn=0,ln=null;return{add:function(cn){sn==0&&(ln=makeStyleTag())&&(injectStyles(ln,cn),insertStyleTag(ln)),sn++},remove:function(){sn--,!sn&&ln&&(ln.parentNode&&ln.parentNode.removeChild(ln),ln=null)}}},styleHookSingleton=function(){var sn=stylesheetSingleton();return function(ln,cn){reactExports.useEffect(function(){return sn.add(ln),function(){sn.remove()}},[ln&&cn])}},styleSingleton=function(){var sn=styleHookSingleton(),ln=function(cn){var dn=cn.styles,pn=cn.dynamic;return sn(dn,pn),null};return ln},zeroGap={left:0,top:0,right:0,gap:0},parse$1=function(sn){return parseInt(sn||"",10)||0},getOffset=function(sn){var ln=window.getComputedStyle(document.body),cn=ln[sn==="padding"?"paddingLeft":"marginLeft"],dn=ln[sn==="padding"?"paddingTop":"marginTop"],pn=ln[sn==="padding"?"paddingRight":"marginRight"];return[parse$1(cn),parse$1(dn),parse$1(pn)]},getGapWidth=function(sn){if(sn===void 0&&(sn="margin"),typeof window>"u")return zeroGap;var ln=getOffset(sn),cn=document.documentElement.clientWidth,dn=window.innerWidth;return{left:ln[0],top:ln[1],right:ln[2],gap:Math.max(0,dn-cn+ln[2]-ln[0])}},Style=styleSingleton(),getStyles$2=function(sn,ln,cn,dn){var pn=sn.left,vn=sn.top,Sn=sn.right,En=sn.gap;return cn===void 0&&(cn="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(dn,`;
   padding-right: `).concat(En,"px ").concat(dn,`;
  }
  body {
    overflow: hidden `).concat(dn,`;
    overscroll-behavior: contain;
    `).concat([ln&&"position: relative ".concat(dn,";"),cn==="margin"&&`
    padding-left: `.concat(pn,`px;
    padding-top: `).concat(vn,`px;
    padding-right: `).concat(Sn,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(En,"px ").concat(dn,`;
    `),cn==="padding"&&"padding-right: ".concat(En,"px ").concat(dn,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(En,"px ").concat(dn,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(En,"px ").concat(dn,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(dn,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(dn,`;
  }
  
  body {
    `).concat(removedBarSizeVariable,": ").concat(En,`px;
  }
`)},RemoveScrollBar=function(sn){var ln=sn.noRelative,cn=sn.noImportant,dn=sn.gapMode,pn=dn===void 0?"margin":dn,vn=reactExports.useMemo(function(){return getGapWidth(pn)},[pn]);return jsx$1(Style,{styles:getStyles$2(vn,!ln,pn,cn?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(sn){return sn.tagName==="TEXTAREA"},elementCanBeScrolled=function(sn,ln){var cn=window.getComputedStyle(sn);return cn[ln]!=="hidden"&&!(cn.overflowY===cn.overflowX&&!alwaysContainsScroll(sn)&&cn[ln]==="visible")},elementCouldBeVScrolled=function(sn){return elementCanBeScrolled(sn,"overflowY")},elementCouldBeHScrolled=function(sn){return elementCanBeScrolled(sn,"overflowX")},locationCouldBeScrolled=function(sn,ln){var cn=ln.ownerDocument,dn=ln;do{typeof ShadowRoot<"u"&&dn instanceof ShadowRoot&&(dn=dn.host);var pn=elementCouldBeScrolled(sn,dn);if(pn){var vn=getScrollVariables(sn,dn),Sn=vn[1],En=vn[2];if(Sn>En)return!0}dn=dn.parentNode}while(dn&&dn!==cn.body);return!1},getVScrollVariables=function(sn){var ln=sn.scrollTop,cn=sn.scrollHeight,dn=sn.clientHeight;return[ln,cn,dn]},getHScrollVariables=function(sn){var ln=sn.scrollLeft,cn=sn.scrollWidth,dn=sn.clientWidth;return[ln,cn,dn]},elementCouldBeScrolled=function(sn,ln){return sn==="v"?elementCouldBeVScrolled(ln):elementCouldBeHScrolled(ln)},getScrollVariables=function(sn,ln){return sn==="v"?getVScrollVariables(ln):getHScrollVariables(ln)},getDirectionFactor=function(sn,ln){return sn==="h"&&ln==="rtl"?-1:1},handleScroll=function(sn,ln,cn,dn,pn){var vn=getDirectionFactor(sn,window.getComputedStyle(ln).direction),Sn=vn*dn,En=cn.target,Cn=ln.contains(En),Pn=!1,Rn=Sn>0,Ln=0,Fn=0;do{var Gn=getScrollVariables(sn,En),Dn=Gn[0],Kn=Gn[1],qn=Gn[2],Zn=Kn-qn-vn*Dn;(Dn||Zn)&&elementCouldBeScrolled(sn,En)&&(Ln+=Zn,Fn+=Dn),En=En.parentNode}while(!Cn&&En!==document.body||Cn&&(ln.contains(En)||ln===En));return(Rn&&(pn&&Ln===0||!pn&&Sn>Ln)||!Rn&&(pn&&Fn===0||!pn&&-Sn>Fn))&&(Pn=!0),Pn},getTouchXY=function(sn){return"changedTouches"in sn?[sn.changedTouches[0].clientX,sn.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(sn){return[sn.deltaX,sn.deltaY]},extractRef=function(sn){return sn&&"current"in sn?sn.current:sn},deltaCompare=function(sn,ln){return sn[0]===ln[0]&&sn[1]===ln[1]},generateStyle=function(sn){return`
  .block-interactivity-`.concat(sn,` {pointer-events: none;}
  .allow-interactivity-`).concat(sn,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(sn){var ln=reactExports.useRef([]),cn=reactExports.useRef([0,0]),dn=reactExports.useRef(),pn=reactExports.useState(idCounter++)[0],vn=reactExports.useState(styleSingleton)[0],Sn=reactExports.useRef(sn);reactExports.useEffect(function(){Sn.current=sn},[sn]),reactExports.useEffect(function(){if(sn.inert){document.body.classList.add("block-interactivity-".concat(pn));var Kn=__spreadArray$1([sn.lockRef.current],(sn.shards||[]).map(extractRef),!0).filter(Boolean);return Kn.forEach(function(qn){return qn.classList.add("allow-interactivity-".concat(pn))}),function(){document.body.classList.remove("block-interactivity-".concat(pn)),Kn.forEach(function(qn){return qn.classList.remove("allow-interactivity-".concat(pn))})}}},[sn.inert,sn.lockRef.current,sn.shards]);var En=reactExports.useCallback(function(Kn,qn){if("touches"in Kn&&Kn.touches.length===2)return!Sn.current.allowPinchZoom;var Zn=getTouchXY(Kn),Yn=cn.current,Jn="deltaX"in Kn?Kn.deltaX:Yn[0]-Zn[0],rs="deltaY"in Kn?Kn.deltaY:Yn[1]-Zn[1],us,as=Kn.target,cs=Math.abs(Jn)>Math.abs(rs)?"h":"v";if("touches"in Kn&&cs==="h"&&as.type==="range")return!1;var _s=locationCouldBeScrolled(cs,as);if(!_s)return!0;if(_s?us=cs:(us=cs==="v"?"h":"v",_s=locationCouldBeScrolled(cs,as)),!_s)return!1;if(!dn.current&&"changedTouches"in Kn&&(Jn||rs)&&(dn.current=us),!us)return!0;var Es=dn.current||us;return handleScroll(Es,qn,Kn,Es==="h"?Jn:rs,!0)},[]),Cn=reactExports.useCallback(function(Kn){var qn=Kn;if(!(!lockStack.length||lockStack[lockStack.length-1]!==vn)){var Zn="deltaY"in qn?getDeltaXY(qn):getTouchXY(qn),Yn=ln.current.filter(function(us){return us.name===qn.type&&us.target===qn.target&&deltaCompare(us.delta,Zn)})[0];if(Yn&&Yn.should){qn.cancelable&&qn.preventDefault();return}if(!Yn){var Jn=(Sn.current.shards||[]).map(extractRef).filter(Boolean).filter(function(us){return us.contains(qn.target)}),rs=Jn.length>0?En(qn,Jn[0]):!Sn.current.noIsolation;rs&&qn.cancelable&&qn.preventDefault()}}},[]),Pn=reactExports.useCallback(function(Kn,qn,Zn,Yn){var Jn={name:Kn,delta:qn,target:Zn,should:Yn};ln.current.push(Jn),setTimeout(function(){ln.current=ln.current.filter(function(rs){return rs!==Jn})},1)},[]),Rn=reactExports.useCallback(function(Kn){cn.current=getTouchXY(Kn),dn.current=void 0},[]),Ln=reactExports.useCallback(function(Kn){Pn(Kn.type,getDeltaXY(Kn),Kn.target,En(Kn,sn.lockRef.current))},[]),Fn=reactExports.useCallback(function(Kn){Pn(Kn.type,getTouchXY(Kn),Kn.target,En(Kn,sn.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(vn),sn.setCallbacks({onScrollCapture:Ln,onWheelCapture:Ln,onTouchMoveCapture:Fn}),document.addEventListener("wheel",Cn,nonPassive),document.addEventListener("touchmove",Cn,nonPassive),document.addEventListener("touchstart",Rn,nonPassive),function(){lockStack=lockStack.filter(function(Kn){return Kn!==vn}),document.removeEventListener("wheel",Cn,nonPassive),document.removeEventListener("touchmove",Cn,nonPassive),document.removeEventListener("touchstart",Rn,nonPassive)}},[]);var Gn=sn.removeScrollBar,Dn=sn.inert;return jsxs$1(Fragment$1,{children:[Dn?jsx$1(vn,{styles:generateStyle(pn)}):null,Gn?jsx$1(RemoveScrollBar,{gapMode:sn.gapMode}):null]})}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(sn,ln){return jsx$1(RemoveScroll$1,{...__assign$2({},sn,{ref:ln,sideCar:SideCar})})});ReactRemoveScroll.classNames=RemoveScroll$1.classNames;const RemoveScroll=ReactRemoveScroll;function createPolymorphicComponent$1(sn){return sn}function findElementAncestor(sn,ln){let cn=sn;for(;(cn=cn.parentElement)&&!cn.matches(ln););return cn}function getPreviousIndex(sn,ln,cn){for(let dn=sn-1;dn>=0;dn-=1)if(!ln[dn].disabled)return dn;if(cn){for(let dn=ln.length-1;dn>-1;dn-=1)if(!ln[dn].disabled)return dn}return sn}function getNextIndex(sn,ln,cn){for(let dn=sn+1;dn<ln.length;dn+=1)if(!ln[dn].disabled)return dn;if(cn){for(let dn=0;dn<ln.length;dn+=1)if(!ln[dn].disabled)return dn}return sn}function onSameLevel(sn,ln,cn){return findElementAncestor(sn,cn)===findElementAncestor(ln,cn)}function createScopedKeydownHandler({parentSelector:sn,siblingSelector:ln,onKeyDown:cn,loop:dn=!0,activateOnFocus:pn=!1,dir:vn="rtl",orientation:Sn}){return En=>{var Cn;cn==null||cn(En);const Pn=Array.from(((Cn=findElementAncestor(En.currentTarget,sn))==null?void 0:Cn.querySelectorAll(ln))||[]).filter(Kn=>onSameLevel(En.currentTarget,Kn,sn)),Rn=Pn.findIndex(Kn=>En.currentTarget===Kn),Ln=getNextIndex(Rn,Pn,dn),Fn=getPreviousIndex(Rn,Pn,dn),Gn=vn==="rtl"?Fn:Ln,Dn=vn==="rtl"?Ln:Fn;switch(En.key){case"ArrowRight":{Sn==="horizontal"&&(En.stopPropagation(),En.preventDefault(),Pn[Gn].focus(),pn&&Pn[Gn].click());break}case"ArrowLeft":{Sn==="horizontal"&&(En.stopPropagation(),En.preventDefault(),Pn[Dn].focus(),pn&&Pn[Dn].click());break}case"ArrowUp":{Sn==="vertical"&&(En.stopPropagation(),En.preventDefault(),Pn[Fn].focus(),pn&&Pn[Fn].click());break}case"ArrowDown":{Sn==="vertical"&&(En.stopPropagation(),En.preventDefault(),Pn[Ln].focus(),pn&&Pn[Ln].click());break}case"Home":{En.stopPropagation(),En.preventDefault(),!Pn[0].disabled&&Pn[0].focus();break}case"End":{En.stopPropagation(),En.preventDefault();const Kn=Pn.length-1;!Pn[Kn].disabled&&Pn[Kn].focus();break}}}}function getContextItemIndex(sn,ln,cn){var dn;return cn?Array.from(((dn=findElementAncestor(cn,ln))==null?void 0:dn.querySelectorAll(sn))||[]).findIndex(pn=>pn===cn):null}function createSafeContext(sn){const ln=reactExports.createContext(null);return[({children:pn,value:vn})=>jsx$1(ln.Provider,{value:vn,children:pn}),()=>{const pn=reactExports.useContext(ln);if(pn===null)throw new Error(sn);return pn}]}function packSx$1(sn){return Array.isArray(sn)?sn:[sn]}const noop$4=()=>{};function closeOnEscape(sn,ln={active:!0}){return typeof sn!="function"||!ln.active?ln.onKeyDown||noop$4:cn=>{var dn;cn.key==="Escape"&&(sn(cn),(dn=ln.onTrigger)==null||dn.call(ln))}}function createEventHandler(sn,ln){return cn=>{sn==null||sn(cn),ln==null||ln(cn)}}function useHovered(){const[sn,ln]=reactExports.useState(-1);return[sn,{setHovered:ln,resetHovered:()=>ln(-1)}]}function isElement$1(sn){return Array.isArray(sn)||sn===null?!1:typeof sn=="object"?sn.type!==gS.Fragment:!1}function toVal(sn){var ln,cn,dn="";if(typeof sn=="string"||typeof sn=="number")dn+=sn;else if(typeof sn=="object")if(Array.isArray(sn))for(ln=0;ln<sn.length;ln++)sn[ln]&&(cn=toVal(sn[ln]))&&(dn&&(dn+=" "),dn+=cn);else for(ln in sn)sn[ln]&&(dn&&(dn+=" "),dn+=ln);return dn}function clsx(){for(var sn=0,ln,cn,dn="";sn<arguments.length;)(ln=arguments[sn++])&&(cn=toVal(ln))&&(dn&&(dn+=" "),dn+=cn);return dn}const DEFAULT_COLORS$1={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function fontStyles$1(sn){return()=>({fontFamily:sn.fontFamily||"sans-serif"})}var __defProp$1Q=Object.defineProperty,__getOwnPropSymbols$1T=Object.getOwnPropertySymbols,__hasOwnProp$1T=Object.prototype.hasOwnProperty,__propIsEnum$1T=Object.prototype.propertyIsEnumerable,__defNormalProp$1Q=(sn,ln,cn)=>ln in sn?__defProp$1Q(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1Q=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1T.call(ln,cn)&&__defNormalProp$1Q(sn,cn,ln[cn]);if(__getOwnPropSymbols$1T)for(var cn of __getOwnPropSymbols$1T(ln))__propIsEnum$1T.call(ln,cn)&&__defNormalProp$1Q(sn,cn,ln[cn]);return sn};function focusStyles$1(sn){return ln=>({WebkitTapHighlightColor:"transparent",[ln||"&:focus"]:__spreadValues$1Q({},sn.focusRing==="always"||sn.focusRing==="auto"?sn.focusRingStyles.styles(sn):sn.focusRingStyles.resetStyles(sn)),[ln?ln.replace(":focus",":focus:not(:focus-visible)"):"&:focus:not(:focus-visible)"]:__spreadValues$1Q({},sn.focusRing==="auto"||sn.focusRing==="never"?sn.focusRingStyles.resetStyles(sn):null)})}function primaryShade$1(sn){return ln=>typeof sn.primaryShade=="number"?sn.primaryShade:sn.primaryShade[ln||sn.colorScheme]}function themeColor$1(sn){const ln=primaryShade$1(sn);return(cn,dn,pn=!0,vn=!0)=>{if(typeof cn=="string"&&cn.includes(".")){const[En,Cn]=cn.split("."),Pn=parseInt(Cn,10);if(En in sn.colors&&Pn>=0&&Pn<10)return sn.colors[En][typeof dn=="number"&&!vn?dn:Pn]}const Sn=typeof dn=="number"?dn:ln();return cn in sn.colors?sn.colors[cn][Sn]:pn?sn.colors[sn.primaryColor][Sn]:cn}}function getGradientColorStops$1(sn){let ln="";for(let cn=1;cn<sn.length-1;cn+=1)ln+=`${sn[cn]} ${cn/(sn.length-1)*100}%, `;return`${sn[0]} 0%, ${ln}${sn[sn.length-1]} 100%`}function linearGradient$1(sn,...ln){return`linear-gradient(${sn}deg, ${getGradientColorStops$1(ln)})`}function radialGradient$1(...sn){return`radial-gradient(circle, ${getGradientColorStops$1(sn)})`}function gradient$1(sn){const ln=themeColor$1(sn),cn=primaryShade$1(sn);return dn=>{const pn={from:(dn==null?void 0:dn.from)||sn.defaultGradient.from,to:(dn==null?void 0:dn.to)||sn.defaultGradient.to,deg:(dn==null?void 0:dn.deg)||sn.defaultGradient.deg};return`linear-gradient(${pn.deg}deg, ${ln(pn.from,cn(),!1)} 0%, ${ln(pn.to,cn(),!1)} 100%)`}}function createConverter$1(sn){return ln=>{if(typeof ln=="number")return`${ln/16}${sn}`;if(typeof ln=="string"){const cn=ln.replace("px","");if(!Number.isNaN(Number(cn)))return`${Number(cn)/16}${sn}`}return ln}}const rem$1=createConverter$1("rem"),em$1=createConverter$1("em");function getSize$1({size:sn,sizes:ln,units:cn}){return sn in ln?ln[sn]:typeof sn=="number"?cn==="em"?em$1(sn):rem$1(sn):sn||ln.md}function getBreakpointValue$1(sn){return typeof sn=="number"?sn:typeof sn=="string"&&sn.includes("rem")?Number(sn.replace("rem",""))*16:typeof sn=="string"&&sn.includes("em")?Number(sn.replace("em",""))*16:Number(sn)}function largerThan$1(sn){return ln=>`@media (min-width: ${em$1(getBreakpointValue$1(getSize$1({size:ln,sizes:sn.breakpoints})))})`}function smallerThan$1(sn){return ln=>`@media (max-width: ${em$1(getBreakpointValue$1(getSize$1({size:ln,sizes:sn.breakpoints}))-1)})`}function isHexColor$1(sn){return/^#?([0-9A-F]{3}){1,2}$/i.test(sn)}function hexToRgba$1(sn){let ln=sn.replace("#","");if(ln.length===3){const Sn=ln.split("");ln=[Sn[0],Sn[0],Sn[1],Sn[1],Sn[2],Sn[2]].join("")}const cn=parseInt(ln,16),dn=cn>>16&255,pn=cn>>8&255,vn=cn&255;return{r:dn,g:pn,b:vn,a:1}}function rgbStringToRgba$1(sn){const[ln,cn,dn,pn]=sn.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:ln,g:cn,b:dn,a:pn||1}}function toRgba$1(sn){return isHexColor$1(sn)?hexToRgba$1(sn):sn.startsWith("rgb")?rgbStringToRgba$1(sn):{r:0,g:0,b:0,a:1}}function rgba$1(sn,ln){if(typeof sn!="string"||ln>1||ln<0)return"rgba(0, 0, 0, 1)";if(sn.startsWith("var(--"))return sn;const{r:cn,g:dn,b:pn}=toRgba$1(sn);return`rgba(${cn}, ${dn}, ${pn}, ${ln})`}function cover$1(sn=0){return{position:"absolute",top:rem$1(sn),right:rem$1(sn),left:rem$1(sn),bottom:rem$1(sn)}}function darken$1(sn,ln){if(typeof sn=="string"&&sn.startsWith("var(--"))return sn;const{r:cn,g:dn,b:pn,a:vn}=toRgba$1(sn),Sn=1-ln,En=Cn=>Math.round(Cn*Sn);return`rgba(${En(cn)}, ${En(dn)}, ${En(pn)}, ${vn})`}function lighten$1(sn,ln){if(typeof sn=="string"&&sn.startsWith("var(--"))return sn;const{r:cn,g:dn,b:pn,a:vn}=toRgba$1(sn),Sn=En=>Math.round(En+(255-En)*ln);return`rgba(${Sn(cn)}, ${Sn(dn)}, ${Sn(pn)}, ${vn})`}function radius$1(sn){return ln=>{if(typeof ln=="number")return rem$1(ln);const cn=typeof sn.defaultRadius=="number"?sn.defaultRadius:sn.radius[sn.defaultRadius]||sn.defaultRadius;return sn.radius[ln]||ln||cn}}function getColorIndexInfo$1(sn,ln){if(typeof sn=="string"&&sn.includes(".")){const[cn,dn]=sn.split("."),pn=parseInt(dn,10);if(cn in ln.colors&&pn>=0&&pn<10)return{isSplittedColor:!0,key:cn,shade:pn}}return{isSplittedColor:!1}}function variant$1(sn){const ln=themeColor$1(sn),cn=primaryShade$1(sn),dn=gradient$1(sn);return({variant:pn,color:vn,gradient:Sn,primaryFallback:En})=>{const Cn=getColorIndexInfo$1(vn,sn);switch(pn){case"light":return{border:"transparent",background:rgba$1(ln(vn,sn.colorScheme==="dark"?8:0,En,!1),sn.colorScheme==="dark"?.2:1),color:vn==="dark"?sn.colorScheme==="dark"?sn.colors.dark[0]:sn.colors.dark[9]:ln(vn,sn.colorScheme==="dark"?2:cn("light")),hover:rgba$1(ln(vn,sn.colorScheme==="dark"?7:1,En,!1),sn.colorScheme==="dark"?.25:.65)};case"subtle":return{border:"transparent",background:"transparent",color:vn==="dark"?sn.colorScheme==="dark"?sn.colors.dark[0]:sn.colors.dark[9]:ln(vn,sn.colorScheme==="dark"?2:cn("light")),hover:rgba$1(ln(vn,sn.colorScheme==="dark"?8:0,En,!1),sn.colorScheme==="dark"?.2:1)};case"outline":return{border:ln(vn,sn.colorScheme==="dark"?5:cn("light")),background:"transparent",color:ln(vn,sn.colorScheme==="dark"?5:cn("light")),hover:sn.colorScheme==="dark"?rgba$1(ln(vn,5,En,!1),.05):rgba$1(ln(vn,0,En,!1),.35)};case"default":return{border:sn.colorScheme==="dark"?sn.colors.dark[4]:sn.colors.gray[4],background:sn.colorScheme==="dark"?sn.colors.dark[6]:sn.white,color:sn.colorScheme==="dark"?sn.white:sn.black,hover:sn.colorScheme==="dark"?sn.colors.dark[5]:sn.colors.gray[0]};case"white":return{border:"transparent",background:sn.white,color:ln(vn,cn()),hover:null};case"transparent":return{border:"transparent",color:vn==="dark"?sn.colorScheme==="dark"?sn.colors.dark[0]:sn.colors.dark[9]:ln(vn,sn.colorScheme==="dark"?2:cn("light")),background:"transparent",hover:null};case"gradient":return{background:dn(Sn),color:sn.white,border:"transparent",hover:null};default:{const Pn=cn(),Rn=Cn.isSplittedColor?Cn.shade:Pn,Ln=Cn.isSplittedColor?Cn.key:vn;return{border:"transparent",background:ln(Ln,Rn,En),color:sn.white,hover:ln(Ln,Rn===9?8:Rn+1)}}}}}function primaryColor$1(sn){return ln=>{const cn=primaryShade$1(sn)(ln);return sn.colors[sn.primaryColor][cn]}}function hover$1(sn){return{"@media (hover: hover)":{"&:hover":sn},"@media (hover: none)":{"&:active":sn}}}function placeholderStyles$1(sn){return()=>({userSelect:"none",color:sn.colorScheme==="dark"?sn.colors.dark[3]:sn.colors.gray[5]})}function dimmed$1(sn){return()=>sn.colorScheme==="dark"?sn.colors.dark[2]:sn.colors.gray[6]}const fns$1={fontStyles:fontStyles$1,themeColor:themeColor$1,focusStyles:focusStyles$1,linearGradient:linearGradient$1,radialGradient:radialGradient$1,smallerThan:smallerThan$1,largerThan:largerThan$1,rgba:rgba$1,cover:cover$1,darken:darken$1,lighten:lighten$1,radius:radius$1,variant:variant$1,primaryShade:primaryShade$1,hover:hover$1,gradient:gradient$1,primaryColor:primaryColor$1,placeholderStyles:placeholderStyles$1,dimmed:dimmed$1};var __defProp$1P=Object.defineProperty,__defProps$K=Object.defineProperties,__getOwnPropDescs$K=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1S=Object.getOwnPropertySymbols,__hasOwnProp$1S=Object.prototype.hasOwnProperty,__propIsEnum$1S=Object.prototype.propertyIsEnumerable,__defNormalProp$1P=(sn,ln,cn)=>ln in sn?__defProp$1P(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1P=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1S.call(ln,cn)&&__defNormalProp$1P(sn,cn,ln[cn]);if(__getOwnPropSymbols$1S)for(var cn of __getOwnPropSymbols$1S(ln))__propIsEnum$1S.call(ln,cn)&&__defNormalProp$1P(sn,cn,ln[cn]);return sn},__spreadProps$K=(sn,ln)=>__defProps$K(sn,__getOwnPropDescs$K(ln));function attachFunctions$1(sn){return __spreadProps$K(__spreadValues$1P({},sn),{fn:{fontStyles:fns$1.fontStyles(sn),themeColor:fns$1.themeColor(sn),focusStyles:fns$1.focusStyles(sn),largerThan:fns$1.largerThan(sn),smallerThan:fns$1.smallerThan(sn),radialGradient:fns$1.radialGradient,linearGradient:fns$1.linearGradient,gradient:fns$1.gradient(sn),rgba:fns$1.rgba,cover:fns$1.cover,lighten:fns$1.lighten,darken:fns$1.darken,primaryShade:fns$1.primaryShade(sn),radius:fns$1.radius(sn),variant:fns$1.variant(sn),hover:fns$1.hover,primaryColor:fns$1.primaryColor(sn),placeholderStyles:fns$1.placeholderStyles(sn),dimmed:fns$1.dimmed(sn)}})}const MANTINE_COLORS$1=Object.keys(DEFAULT_COLORS$1),_DEFAULT_THEME$1={dir:"ltr",primaryShade:{light:6,dark:8},focusRing:"auto",loader:"oval",colorScheme:"light",white:"#fff",black:"#000",defaultRadius:"sm",transitionTimingFunction:"ease",colors:DEFAULT_COLORS$1,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",respectReducedMotion:!0,cursorType:"default",defaultGradient:{from:"indigo",to:"cyan",deg:45},shadows:{xs:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), 0 0.0625rem 0.125rem rgba(0, 0, 0, 0.1)",sm:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 0.625rem 0.9375rem -0.3125rem, rgba(0, 0, 0, 0.04) 0 0.4375rem 0.4375rem -0.3125rem",md:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 1.25rem 1.5625rem -0.3125rem, rgba(0, 0, 0, 0.04) 0 0.625rem 0.625rem -0.3125rem",lg:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 1.75rem 1.4375rem -0.4375rem, rgba(0, 0, 0, 0.04) 0 0.75rem 0.75rem -0.4375rem",xl:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 2.25rem 1.75rem -0.4375rem, rgba(0, 0, 0, 0.04) 0 1.0625rem 1.0625rem -0.4375rem"},fontSizes:{xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem"},radius:{xs:"0.125rem",sm:"0.25rem",md:"0.5rem",lg:"1rem",xl:"2rem"},spacing:{xs:"0.625rem",sm:"0.75rem",md:"1rem",lg:"1.25rem",xl:"1.5rem"},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:"2.125rem",lineHeight:1.3,fontWeight:void 0},h2:{fontSize:"1.625rem",lineHeight:1.35,fontWeight:void 0},h3:{fontSize:"1.375rem",lineHeight:1.4,fontWeight:void 0},h4:{fontSize:"1.125rem",lineHeight:1.45,fontWeight:void 0},h5:{fontSize:"1rem",lineHeight:1.5,fontWeight:void 0},h6:{fontSize:"0.875rem",lineHeight:1.5,fontWeight:void 0}}},other:{},components:{},activeStyles:{transform:"translateY(0.0625rem)"},datesLocale:"en",globalStyles:void 0,focusRingStyles:{styles:sn=>({outlineOffset:"0.125rem",outline:`0.125rem solid ${sn.colors[sn.primaryColor][sn.colorScheme==="dark"?7:5]}`}),resetStyles:()=>({outline:"none"}),inputStyles:sn=>({outline:"none",borderColor:sn.colors[sn.primaryColor][typeof sn.primaryShade=="object"?sn.primaryShade[sn.colorScheme]:sn.primaryShade]})}},DEFAULT_THEME$1=attachFunctions$1(_DEFAULT_THEME$1);var __defProp$1O=Object.defineProperty,__defProps$J=Object.defineProperties,__getOwnPropDescs$J=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1R=Object.getOwnPropertySymbols,__hasOwnProp$1R=Object.prototype.hasOwnProperty,__propIsEnum$1R=Object.prototype.propertyIsEnumerable,__defNormalProp$1O=(sn,ln,cn)=>ln in sn?__defProp$1O(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1O=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1R.call(ln,cn)&&__defNormalProp$1O(sn,cn,ln[cn]);if(__getOwnPropSymbols$1R)for(var cn of __getOwnPropSymbols$1R(ln))__propIsEnum$1R.call(ln,cn)&&__defNormalProp$1O(sn,cn,ln[cn]);return sn},__spreadProps$J=(sn,ln)=>__defProps$J(sn,__getOwnPropDescs$J(ln));function GlobalStyles({theme:sn}){return jsx(Global$1,{styles:{"*, *::before, *::after":{boxSizing:"border-box"},html:{colorScheme:sn.colorScheme==="dark"?"dark":"light"},body:__spreadProps$J(__spreadValues$1O({},sn.fn.fontStyles()),{backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[7]:sn.white,color:sn.colorScheme==="dark"?sn.colors.dark[0]:sn.black,lineHeight:sn.lineHeight,fontSize:sn.fontSizes.md,WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"})}})}function assignSizeVariables(sn,ln,cn,dn=rem$1){Object.keys(ln).forEach(pn=>{sn[`--mantine-${cn}-${pn}`]=dn(ln[pn])})}function MantineCssVariables({theme:sn}){const ln={"--mantine-color-white":sn.white,"--mantine-color-black":sn.black,"--mantine-transition-timing-function":sn.transitionTimingFunction,"--mantine-line-height":`${sn.lineHeight}`,"--mantine-font-family":sn.fontFamily,"--mantine-font-family-monospace":sn.fontFamilyMonospace,"--mantine-font-family-headings":sn.headings.fontFamily,"--mantine-heading-font-weight":`${sn.headings.fontWeight}`};assignSizeVariables(ln,sn.shadows,"shadow"),assignSizeVariables(ln,sn.fontSizes,"font-size"),assignSizeVariables(ln,sn.radius,"radius"),assignSizeVariables(ln,sn.spacing,"spacing"),assignSizeVariables(ln,sn.breakpoints,"breakpoints",em$1),Object.keys(sn.colors).forEach(dn=>{sn.colors[dn].forEach((pn,vn)=>{ln[`--mantine-color-${dn}-${vn}`]=pn})});const cn=sn.headings.sizes;return Object.keys(cn).forEach(dn=>{ln[`--mantine-${dn}-font-size`]=cn[dn].fontSize,ln[`--mantine-${dn}-line-height`]=`${cn[dn].lineHeight}`}),jsx(Global$1,{styles:{":root":ln}})}var __defProp$1N=Object.defineProperty,__defProps$I=Object.defineProperties,__getOwnPropDescs$I=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1Q=Object.getOwnPropertySymbols,__hasOwnProp$1Q=Object.prototype.hasOwnProperty,__propIsEnum$1Q=Object.prototype.propertyIsEnumerable,__defNormalProp$1N=(sn,ln,cn)=>ln in sn?__defProp$1N(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1N=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1Q.call(ln,cn)&&__defNormalProp$1N(sn,cn,ln[cn]);if(__getOwnPropSymbols$1Q)for(var cn of __getOwnPropSymbols$1Q(ln))__propIsEnum$1Q.call(ln,cn)&&__defNormalProp$1N(sn,cn,ln[cn]);return sn},__spreadProps$I=(sn,ln)=>__defProps$I(sn,__getOwnPropDescs$I(ln));function mergeTheme(sn,ln){var cn;if(!ln)return sn;const dn=Object.keys(sn).reduce((pn,vn)=>{if(vn==="headings"&&ln.headings){const Sn=ln.headings.sizes?Object.keys(sn.headings.sizes).reduce((En,Cn)=>(En[Cn]=__spreadValues$1N(__spreadValues$1N({},sn.headings.sizes[Cn]),ln.headings.sizes[Cn]),En),{}):sn.headings.sizes;return __spreadProps$I(__spreadValues$1N({},pn),{headings:__spreadProps$I(__spreadValues$1N(__spreadValues$1N({},sn.headings),ln.headings),{sizes:Sn})})}if(vn==="breakpoints"&&ln.breakpoints){const Sn=__spreadValues$1N(__spreadValues$1N({},sn.breakpoints),ln.breakpoints);return __spreadProps$I(__spreadValues$1N({},pn),{breakpoints:Object.fromEntries(Object.entries(Sn).sort((En,Cn)=>getBreakpointValue$1(En[1])-getBreakpointValue$1(Cn[1])))})}return pn[vn]=typeof ln[vn]=="object"?__spreadValues$1N(__spreadValues$1N({},sn[vn]),ln[vn]):typeof ln[vn]=="number"||typeof ln[vn]=="boolean"||typeof ln[vn]=="function"?ln[vn]:ln[vn]||sn[vn],pn},{});if(ln!=null&&ln.fontFamily&&!((cn=ln==null?void 0:ln.headings)!=null&&cn.fontFamily)&&(dn.headings.fontFamily=ln.fontFamily),!(dn.primaryColor in dn.colors))throw new Error("MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more – https://mantine.dev/theming/colors/#primary-color");return dn}function mergeThemeWithFunctions(sn,ln){return attachFunctions$1(mergeTheme(sn,ln))}function filterProps$1(sn){return Object.keys(sn).reduce((ln,cn)=>(sn[cn]!==void 0&&(ln[cn]=sn[cn]),ln),{})}const styles={html:{fontFamily:"sans-serif",lineHeight:"1.15",textSizeAdjust:"100%"},body:{margin:0},"article, aside, footer, header, nav, section, figcaption, figure, main":{display:"block"},h1:{fontSize:"2em"},hr:{boxSizing:"content-box",height:0,overflow:"visible"},pre:{fontFamily:"monospace, monospace",fontSize:"1em"},a:{background:"transparent",textDecorationSkip:"objects"},"a:active, a:hover":{outlineWidth:0},"abbr[title]":{borderBottom:"none",textDecoration:"underline"},"b, strong":{fontWeight:"bolder"},"code, kbp, samp":{fontFamily:"monospace, monospace",fontSize:"1em"},dfn:{fontStyle:"italic"},mark:{backgroundColor:"#ff0",color:"#000"},small:{fontSize:"80%"},"sub, sup":{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline"},sup:{top:"-0.5em"},sub:{bottom:"-0.25em"},"audio, video":{display:"inline-block"},"audio:not([controls])":{display:"none",height:0},img:{borderStyle:"none",verticalAlign:"middle"},"svg:not(:root)":{overflow:"hidden"},"button, input, optgroup, select, textarea":{fontFamily:"sans-serif",fontSize:"100%",lineHeight:"1.15",margin:0},"button, input":{overflow:"visible"},"button, select":{textTransform:"none"},"button, [type=reset], [type=submit]":{WebkitAppearance:"button"},"button::-moz-focus-inner, [type=button]::-moz-focus-inner, [type=reset]::-moz-focus-inner, [type=submit]::-moz-focus-inner":{borderStyle:"none",padding:0},"button:-moz-focusring, [type=button]:-moz-focusring, [type=reset]:-moz-focusring, [type=submit]:-moz-focusring":{outline:`${rem$1(1)} dotted ButtonText`},legend:{boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:0,whiteSpace:"normal"},progress:{display:"inline-block",verticalAlign:"baseline"},textarea:{overflow:"auto"},"[type=checkbox], [type=radio]":{boxSizing:"border-box",padding:0},"[type=number]::-webkit-inner-spin-button, [type=number]::-webkit-outer-spin-button":{height:"auto"},"[type=search]":{appearance:"none"},"[type=search]::-webkit-search-cancel-button, [type=search]::-webkit-search-decoration":{appearance:"none"},"::-webkit-file-upload-button":{appearance:"button",font:"inherit"},"details, menu":{display:"block"},summary:{display:"list-item"},canvas:{display:"inline-block"},template:{display:"none"}};function NormalizeCSS(){return jsx(Global$1,{styles})}var __defProp$1M=Object.defineProperty,__getOwnPropSymbols$1P=Object.getOwnPropertySymbols,__hasOwnProp$1P=Object.prototype.hasOwnProperty,__propIsEnum$1P=Object.prototype.propertyIsEnumerable,__defNormalProp$1M=(sn,ln,cn)=>ln in sn?__defProp$1M(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1M=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1P.call(ln,cn)&&__defNormalProp$1M(sn,cn,ln[cn]);if(__getOwnPropSymbols$1P)for(var cn of __getOwnPropSymbols$1P(ln))__propIsEnum$1P.call(ln,cn)&&__defNormalProp$1M(sn,cn,ln[cn]);return sn};const MantineProviderContext$1=reactExports.createContext({theme:DEFAULT_THEME$1});function useMantineTheme$1(){var sn;return((sn=reactExports.useContext(MantineProviderContext$1))==null?void 0:sn.theme)||DEFAULT_THEME$1}function useMantineProviderStyles$1(sn){const ln=useMantineTheme$1(),cn=dn=>{var pn,vn,Sn,En;return{styles:((pn=ln.components[dn])==null?void 0:pn.styles)||{},classNames:((vn=ln.components[dn])==null?void 0:vn.classNames)||{},variants:(Sn=ln.components[dn])==null?void 0:Sn.variants,sizes:(En=ln.components[dn])==null?void 0:En.sizes}};return Array.isArray(sn)?sn.map(cn):[cn(sn)]}function useMantineEmotionCache$1(){var sn;return(sn=reactExports.useContext(MantineProviderContext$1))==null?void 0:sn.emotionCache}function useComponentDefaultProps$1(sn,ln,cn){var dn;const pn=useMantineTheme$1(),vn=(dn=pn.components[sn])==null?void 0:dn.defaultProps,Sn=typeof vn=="function"?vn(pn):vn;return __spreadValues$1M(__spreadValues$1M(__spreadValues$1M({},ln),Sn),filterProps$1(cn))}function MantineProvider({theme:sn,emotionCache:ln,withNormalizeCSS:cn=!1,withGlobalStyles:dn=!1,withCSSVariables:pn=!1,inherit:vn=!1,children:Sn}){const En=reactExports.useContext(MantineProviderContext$1),Cn=mergeThemeWithFunctions(DEFAULT_THEME$1,vn?__spreadValues$1M(__spreadValues$1M({},En.theme),sn):sn);return jsx(ThemeProvider,{theme:Cn,children:jsxs(MantineProviderContext$1.Provider,{value:{theme:Cn,emotionCache:ln},children:[cn&&jsx(NormalizeCSS,{}),dn&&jsx(GlobalStyles,{theme:Cn}),pn&&jsx(MantineCssVariables,{theme:Cn}),typeof Cn.globalStyles=="function"&&jsx(Global$1,{styles:Cn.globalStyles(Cn)}),Sn]})})}MantineProvider.displayName="@mantine/core/MantineProvider";const elevations={app:100,modal:200,popover:300,overlay:400,max:9999};function getDefaultZIndex(sn){return elevations[sn]}function useGuaranteedMemo$1(sn,ln){const cn=reactExports.useRef();return(!cn.current||ln.length!==cn.current.prevDeps.length||cn.current.prevDeps.map((dn,pn)=>dn===ln[pn]).indexOf(!1)>=0)&&(cn.current={v:sn(),prevDeps:[...ln]}),cn.current.v}const defaultMantineEmotionCache$1=createCache$1({key:"mantine",prepend:!0});function useEmotionCache$1(){return useMantineEmotionCache$1()||defaultMantineEmotionCache$1}var __defProp$1L=Object.defineProperty,__getOwnPropSymbols$1O=Object.getOwnPropertySymbols,__hasOwnProp$1O=Object.prototype.hasOwnProperty,__propIsEnum$1O=Object.prototype.propertyIsEnumerable,__defNormalProp$1L=(sn,ln,cn)=>ln in sn?__defProp$1L(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1L=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1O.call(ln,cn)&&__defNormalProp$1L(sn,cn,ln[cn]);if(__getOwnPropSymbols$1O)for(var cn of __getOwnPropSymbols$1O(ln))__propIsEnum$1O.call(ln,cn)&&__defNormalProp$1L(sn,cn,ln[cn]);return sn};const refPropertyName$1="ref";function getRef$1(sn){let ln;if(sn.length!==1)return{args:sn,ref:ln};const[cn]=sn;if(!(cn instanceof Object))return{args:sn,ref:ln};if(!(refPropertyName$1 in cn))return{args:sn,ref:ln};ln=cn[refPropertyName$1];const dn=__spreadValues$1L({},cn);return delete dn[refPropertyName$1],{args:[dn],ref:ln}}const{cssFactory:cssFactory$1}=(()=>{function sn(cn,dn,pn){const vn=[],Sn=getRegisteredStyles$1(cn,vn,pn);return vn.length<2?pn:Sn+dn(vn)}function ln(cn){const{cache:dn}=cn,pn=(...Sn)=>{const{ref:En,args:Cn}=getRef$1(Sn),Pn=serializeStyles(Cn,dn.registered);return insertStyles$1(dn,Pn,!1),`${dn.key}-${Pn.name}${En===void 0?"":` ${En}`}`};return{css:pn,cx:(...Sn)=>sn(dn.registered,pn,clsx(Sn))}}return{cssFactory:ln}})();function useCss$1(){const sn=useEmotionCache$1();return useGuaranteedMemo$1(()=>cssFactory$1({cache:sn}),[sn])}function mergeClassNames$1({cx:sn,classes:ln,context:cn,classNames:dn,name:pn,cache:vn}){const Sn=cn.reduce((En,Cn)=>(Object.keys(Cn.classNames).forEach(Pn=>{typeof En[Pn]!="string"?En[Pn]=`${Cn.classNames[Pn]}`:En[Pn]=`${En[Pn]} ${Cn.classNames[Pn]}`}),En),{});return Object.keys(ln).reduce((En,Cn)=>(En[Cn]=sn(ln[Cn],Sn[Cn],dn!=null&&dn[Cn],Array.isArray(pn)?pn.filter(Boolean).map(Pn=>`${(vn==null?void 0:vn.key)||"mantine"}-${Pn}-${Cn}`).join(" "):pn?`${(vn==null?void 0:vn.key)||"mantine"}-${pn}-${Cn}`:null),En),{})}var __defProp$1K=Object.defineProperty,__getOwnPropSymbols$1N=Object.getOwnPropertySymbols,__hasOwnProp$1N=Object.prototype.hasOwnProperty,__propIsEnum$1N=Object.prototype.propertyIsEnumerable,__defNormalProp$1K=(sn,ln,cn)=>ln in sn?__defProp$1K(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1K=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1N.call(ln,cn)&&__defNormalProp$1K(sn,cn,ln[cn]);if(__getOwnPropSymbols$1N)for(var cn of __getOwnPropSymbols$1N(ln))__propIsEnum$1N.call(ln,cn)&&__defNormalProp$1K(sn,cn,ln[cn]);return sn};function assignAccStyles$1(sn,ln){return ln&&Object.keys(ln).forEach(cn=>{sn[cn]?sn[cn]=__spreadValues$1K(__spreadValues$1K({},sn[cn]),ln[cn]):sn[cn]=__spreadValues$1K({},ln[cn])}),sn}function getStyles$1(sn,ln,cn,dn){const pn=vn=>typeof vn=="function"?vn(ln,cn||{},dn):vn||{};return Array.isArray(sn)?sn.map(vn=>pn(vn.styles)).reduce((vn,Sn)=>assignAccStyles$1(vn,Sn),{}):pn(sn)}function getContextVariation$1({ctx:sn,theme:ln,params:cn,variant:dn,size:pn}){return sn.reduce((vn,Sn)=>(Sn.variants&&dn in Sn.variants&&assignAccStyles$1(vn,Sn.variants[dn](ln,cn,{variant:dn,size:pn})),Sn.sizes&&pn in Sn.sizes&&assignAccStyles$1(vn,Sn.sizes[pn](ln,cn,{variant:dn,size:pn})),vn),{})}function createStyles$1(sn){const ln=typeof sn=="function"?sn:()=>sn;function cn(dn,pn){const vn=useMantineTheme$1(),Sn=useMantineProviderStyles$1(pn==null?void 0:pn.name),En=useMantineEmotionCache$1(),Cn={variant:pn==null?void 0:pn.variant,size:pn==null?void 0:pn.size},{css:Pn,cx:Rn}=useCss$1(),Ln=ln(vn,dn,Cn),Fn=getStyles$1(pn==null?void 0:pn.styles,vn,dn,Cn),Gn=getStyles$1(Sn,vn,dn,Cn),Dn=getContextVariation$1({ctx:Sn,theme:vn,params:dn,variant:pn==null?void 0:pn.variant,size:pn==null?void 0:pn.size}),Kn=Object.fromEntries(Object.keys(Ln).map(qn=>{const Zn=Rn({[Pn(Ln[qn])]:!(pn!=null&&pn.unstyled)},Pn(Dn[qn]),Pn(Gn[qn]),Pn(Fn[qn]));return[qn,Zn]}));return{classes:mergeClassNames$1({cx:Rn,classes:Kn,context:Sn,classNames:pn==null?void 0:pn.classNames,name:pn==null?void 0:pn.name,cache:En}),cx:Rn,theme:vn}}return cn}function getStylesRef(sn){return`___ref-${sn||""}`}function Global({styles:sn}){const ln=useMantineTheme$1();return jsx(Global$1,{styles:css$1(typeof sn=="function"?sn(ln):sn)})}var __defProp$1J=Object.defineProperty,__defProps$H=Object.defineProperties,__getOwnPropDescs$H=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1M=Object.getOwnPropertySymbols,__hasOwnProp$1M=Object.prototype.hasOwnProperty,__propIsEnum$1M=Object.prototype.propertyIsEnumerable,__defNormalProp$1J=(sn,ln,cn)=>ln in sn?__defProp$1J(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1J=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1M.call(ln,cn)&&__defNormalProp$1J(sn,cn,ln[cn]);if(__getOwnPropSymbols$1M)for(var cn of __getOwnPropSymbols$1M(ln))__propIsEnum$1M.call(ln,cn)&&__defNormalProp$1J(sn,cn,ln[cn]);return sn},__spreadProps$H=(sn,ln)=>__defProps$H(sn,__getOwnPropDescs$H(ln));const popIn={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${rem$1(10)})`},transitionProperty:"transform, opacity"},transitions={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(-${rem$1(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${rem$1(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${rem$1(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${rem$1(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:__spreadProps$H(__spreadValues$1J({},popIn),{common:{transformOrigin:"center center"}}),"pop-bottom-left":__spreadProps$H(__spreadValues$1J({},popIn),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":__spreadProps$H(__spreadValues$1J({},popIn),{common:{transformOrigin:"bottom right"}}),"pop-top-left":__spreadProps$H(__spreadValues$1J({},popIn),{common:{transformOrigin:"top left"}}),"pop-top-right":__spreadProps$H(__spreadValues$1J({},popIn),{common:{transformOrigin:"top right"}})},DEFAULT_EVENTS=["mousedown","touchstart"];function useClickOutside(sn,ln,cn){const dn=reactExports.useRef();return reactExports.useEffect(()=>{const pn=vn=>{const{target:Sn}=vn??{};if(Array.isArray(cn)){const En=(Sn==null?void 0:Sn.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(Sn)&&Sn.tagName!=="HTML";cn.every(Pn=>!!Pn&&!vn.composedPath().includes(Pn))&&!En&&sn()}else dn.current&&!dn.current.contains(Sn)&&sn()};return(ln||DEFAULT_EVENTS).forEach(vn=>document.addEventListener(vn,pn)),()=>{(ln||DEFAULT_EVENTS).forEach(vn=>document.removeEventListener(vn,pn))}},[dn,sn,cn]),dn}function attachMediaListener(sn,ln){try{return sn.addEventListener("change",ln),()=>sn.removeEventListener("change",ln)}catch{return sn.addListener(ln),()=>sn.removeListener(ln)}}function getInitialValue(sn,ln){return typeof ln=="boolean"?ln:typeof window<"u"&&"matchMedia"in window?window.matchMedia(sn).matches:!1}function useMediaQuery(sn,ln,{getInitialValueInEffect:cn}={getInitialValueInEffect:!0}){const[dn,pn]=reactExports.useState(cn?ln:getInitialValue(sn,ln)),vn=reactExports.useRef();return reactExports.useEffect(()=>{if("matchMedia"in window)return vn.current=window.matchMedia(sn),pn(vn.current.matches),attachMediaListener(vn.current,Sn=>pn(Sn.matches))},[sn]),dn}function clamp(sn,ln,cn){return Math.min(Math.max(sn,ln),cn)}const useIsomorphicEffect$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function useDidUpdate(sn,ln){const cn=reactExports.useRef(!1);reactExports.useEffect(()=>()=>{cn.current=!1},[]),reactExports.useEffect(()=>{if(cn.current)return sn();cn.current=!0},ln)}function useFocusReturn({opened:sn,shouldReturnFocus:ln=!0}){const cn=reactExports.useRef(),dn=()=>{var pn;cn.current&&"focus"in cn.current&&typeof cn.current.focus=="function"&&((pn=cn.current)==null||pn.focus({preventScroll:!0}))};return useDidUpdate(()=>{let pn=-1;const vn=Sn=>{Sn.key==="Tab"&&window.clearTimeout(pn)};return document.addEventListener("keydown",vn),sn?cn.current=document.activeElement:ln&&(pn=window.setTimeout(dn,10)),()=>{window.clearTimeout(pn),document.removeEventListener("keydown",vn)}},[sn,ln]),dn}const TABBABLE_NODES=/input|select|textarea|button|object/,FOCUS_SELECTOR="a, input, select, textarea, button, object, [tabindex]";function hidden(sn){return sn.style.display==="none"}function visible(sn){if(sn.getAttribute("aria-hidden")||sn.getAttribute("hidden")||sn.getAttribute("type")==="hidden")return!1;let cn=sn;for(;cn&&!(cn===document.body||cn.nodeType===11);){if(hidden(cn))return!1;cn=cn.parentNode}return!0}function getElementTabIndex(sn){let ln=sn.getAttribute("tabindex");return ln===null&&(ln=void 0),parseInt(ln,10)}function focusable(sn){const ln=sn.nodeName.toLowerCase(),cn=!Number.isNaN(getElementTabIndex(sn));return(TABBABLE_NODES.test(ln)&&!sn.disabled||sn instanceof HTMLAnchorElement&&sn.href||cn)&&visible(sn)}function tabbable(sn){const ln=getElementTabIndex(sn);return(Number.isNaN(ln)||ln>=0)&&focusable(sn)}function findTabbableDescendants(sn){return Array.from(sn.querySelectorAll(FOCUS_SELECTOR)).filter(tabbable)}function scopeTab(sn,ln){const cn=findTabbableDescendants(sn);if(!cn.length){ln.preventDefault();return}const dn=cn[ln.shiftKey?0:cn.length-1],pn=sn.getRootNode();if(!(dn===pn.activeElement||sn===pn.activeElement))return;ln.preventDefault();const Sn=cn[ln.shiftKey?cn.length-1:0];Sn&&Sn.focus()}function randomId(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function createAriaHider(sn,ln="body > :not(script)"){const cn=randomId(),dn=Array.from(document.querySelectorAll(ln)).map(pn=>{var vn;if((vn=pn==null?void 0:pn.shadowRoot)!=null&&vn.contains(sn)||pn.contains(sn))return;const Sn=pn.getAttribute("aria-hidden"),En=pn.getAttribute("data-hidden"),Cn=pn.getAttribute("data-focus-id");return pn.setAttribute("data-focus-id",cn),Sn===null||Sn==="false"?pn.setAttribute("aria-hidden","true"):!En&&!Cn&&pn.setAttribute("data-hidden",Sn),{node:pn,ariaHidden:En||null}});return()=>{dn.forEach(pn=>{!pn||cn!==pn.node.getAttribute("data-focus-id")||(pn.ariaHidden===null?pn.node.removeAttribute("aria-hidden"):pn.node.setAttribute("aria-hidden",pn.ariaHidden),pn.node.removeAttribute("data-focus-id"),pn.node.removeAttribute("data-hidden"))})}}function useFocusTrap(sn=!0){const ln=reactExports.useRef(),cn=reactExports.useRef(null),dn=vn=>{let Sn=vn.querySelector("[data-autofocus]");if(!Sn){const En=Array.from(vn.querySelectorAll(FOCUS_SELECTOR));Sn=En.find(tabbable)||En.find(focusable)||null,!Sn&&focusable(vn)&&(Sn=vn)}Sn&&Sn.focus({preventScroll:!0})},pn=reactExports.useCallback(vn=>{if(sn){if(vn===null){cn.current&&(cn.current(),cn.current=null);return}cn.current=createAriaHider(vn),ln.current!==vn&&(vn?(setTimeout(()=>{vn.getRootNode()&&dn(vn)}),ln.current=vn):ln.current=null)}},[sn]);return reactExports.useEffect(()=>{if(!sn)return;ln.current&&setTimeout(()=>dn(ln.current));const vn=Sn=>{Sn.key==="Tab"&&ln.current&&scopeTab(ln.current,Sn)};return document.addEventListener("keydown",vn),()=>{document.removeEventListener("keydown",vn),cn.current&&cn.current()}},[sn]),pn}const reducer$1=sn=>(sn+1)%1e6;function useForceUpdate(){const[,sn]=reactExports.useReducer(reducer$1,0);return sn}const __useId=gS["useId".toString()]||(()=>{});function useReactId$1(){const sn=__useId();return sn?`mantine-${sn.replace(/:/g,"")}`:""}function useId$1(sn){const ln=useReactId$1(),[cn,dn]=reactExports.useState(ln);return useIsomorphicEffect$1(()=>{dn(randomId())},[]),typeof sn=="string"?sn:typeof window>"u"?ln:cn}function useWindowEvent(sn,ln,cn){reactExports.useEffect(()=>(window.addEventListener(sn,ln,cn),()=>window.removeEventListener(sn,ln,cn)),[sn,ln])}function assignRef(sn,ln){typeof sn=="function"?sn(ln):typeof sn=="object"&&sn!==null&&"current"in sn&&(sn.current=ln)}function mergeRefs(...sn){return ln=>{sn.forEach(cn=>assignRef(cn,ln))}}function useMergedRef(...sn){return reactExports.useCallback(mergeRefs(...sn),sn)}function useUncontrolled({value:sn,defaultValue:ln,finalValue:cn,onChange:dn=()=>{}}){const[pn,vn]=reactExports.useState(ln!==void 0?ln:cn),Sn=En=>{vn(En),dn==null||dn(En)};return sn!==void 0?[sn,dn,!0]:[pn,Sn,!1]}function useQueue({initialValues:sn=[],limit:ln}){const[{state:cn,queue:dn},pn]=reactExports.useState({state:sn.slice(0,ln),queue:sn.slice(ln)});return{state:cn,queue:dn,add:(...Cn)=>pn(Pn=>{const Rn=[...Pn.state,...Pn.queue,...Cn];return{state:Rn.slice(0,ln),queue:Rn.slice(ln)}}),update:Cn=>pn(Pn=>{const Rn=Cn([...Pn.state,...Pn.queue]);return{state:Rn.slice(0,ln),queue:Rn.slice(ln)}}),cleanQueue:()=>pn(Cn=>({state:Cn.state,queue:[]}))}}function useReducedMotion(sn,ln){return useMediaQuery("(prefers-reduced-motion: reduce)",sn,ln)}function useDisclosure(sn=!1,ln){const{onOpen:cn,onClose:dn}=ln||{},[pn,vn]=reactExports.useState(sn),Sn=reactExports.useCallback(()=>{vn(Pn=>Pn||(cn==null||cn(),!0))},[cn]),En=reactExports.useCallback(()=>{vn(Pn=>Pn&&(dn==null||dn(),!1))},[dn]),Cn=reactExports.useCallback(()=>{pn?En():Sn()},[En,Sn,pn]);return[pn,{open:Sn,close:En,toggle:Cn}]}var __getOwnPropSymbols$1L=Object.getOwnPropertySymbols,__hasOwnProp$1L=Object.prototype.hasOwnProperty,__propIsEnum$1L=Object.prototype.propertyIsEnumerable,__objRest$1c=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1L.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1L)for(var dn of __getOwnPropSymbols$1L(sn))ln.indexOf(dn)<0&&__propIsEnum$1L.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};function extractSystemStyles$1(sn){const ln=sn,{m:cn,mx:dn,my:pn,mt:vn,mb:Sn,ml:En,mr:Cn,p:Pn,px:Rn,py:Ln,pt:Fn,pb:Gn,pl:Dn,pr:Kn,bg:qn,c:Zn,opacity:Yn,ff:Jn,fz:rs,fw:us,lts:as,ta:cs,lh:_s,fs:Es,tt:Qn,td:ms,w:$s,miw:Ms,maw:gs,h:Ss,mih:js,mah:bs,bgsz:Ts,bgp:xs,bgr:zs,bga:Bs,pos:Js,top:tu,left:hs,bottom:lu,right:vu,inset:yu,display:Wu}=ln,Ru=__objRest$1c(ln,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:filterProps$1({m:cn,mx:dn,my:pn,mt:vn,mb:Sn,ml:En,mr:Cn,p:Pn,px:Rn,py:Ln,pt:Fn,pb:Gn,pl:Dn,pr:Kn,bg:qn,c:Zn,opacity:Yn,ff:Jn,fz:rs,fw:us,lts:as,ta:cs,lh:_s,fs:Es,tt:Qn,td:ms,w:$s,miw:Ms,maw:gs,h:Ss,mih:js,mah:bs,bgsz:Ts,bgp:xs,bgr:zs,bga:Bs,pos:Js,top:tu,left:hs,bottom:lu,right:vu,inset:yu,display:Wu}),rest:Ru}}function getSortedKeys$1(sn,ln){const cn=Object.keys(sn).filter(dn=>dn!=="base").sort((dn,pn)=>getBreakpointValue$1(getSize$1({size:dn,sizes:ln.breakpoints}))-getBreakpointValue$1(getSize$1({size:pn,sizes:ln.breakpoints})));return"base"in sn?["base",...cn]:cn}function getResponsiveValue$1({value:sn,theme:ln,getValue:cn,property:dn}){if(sn==null)return;if(typeof sn=="object")return getSortedKeys$1(sn,ln).reduce((Sn,En)=>{if(En==="base"&&sn.base!==void 0){const Pn=cn(sn.base,ln);return Array.isArray(dn)?(dn.forEach(Rn=>{Sn[Rn]=Pn}),Sn):(Sn[dn]=Pn,Sn)}const Cn=cn(sn[En],ln);return Array.isArray(dn)?(Sn[ln.fn.largerThan(En)]={},dn.forEach(Pn=>{Sn[ln.fn.largerThan(En)][Pn]=Cn}),Sn):(Sn[ln.fn.largerThan(En)]={[dn]:Cn},Sn)},{});const pn=cn(sn,ln);return Array.isArray(dn)?dn.reduce((vn,Sn)=>(vn[Sn]=pn,vn),{}):{[dn]:pn}}function getColorValue$1(sn,ln){return sn==="dimmed"?ln.colorScheme==="dark"?ln.colors.dark[2]:ln.colors.gray[6]:ln.fn.variant({variant:"filled",color:sn,primaryFallback:!1}).background}function getSizeValue$1(sn){return rem$1(sn)}function identity$1(sn){return sn}function getFontSizeValue$1(sn,ln){return getSize$1({size:sn,sizes:ln.fontSizes})}const NEGATIVE_VALUES$1=["-xs","-sm","-md","-lg","-xl"];function getSpacingValue$1(sn,ln){return NEGATIVE_VALUES$1.includes(sn)?`calc(${getSize$1({size:sn.replace("-",""),sizes:ln.spacing})} * -1)`:getSize$1({size:sn,sizes:ln.spacing})}const valueGetters$1={identity:identity$1,color:getColorValue$1,size:getSizeValue$1,fontSize:getFontSizeValue$1,spacing:getSpacingValue$1},SYSTEM_PROPS$1={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"identity",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"identity",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"}};var __defProp$1I=Object.defineProperty,__getOwnPropSymbols$1K=Object.getOwnPropertySymbols,__hasOwnProp$1K=Object.prototype.hasOwnProperty,__propIsEnum$1K=Object.prototype.propertyIsEnumerable,__defNormalProp$1I=(sn,ln,cn)=>ln in sn?__defProp$1I(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1I=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1K.call(ln,cn)&&__defNormalProp$1I(sn,cn,ln[cn]);if(__getOwnPropSymbols$1K)for(var cn of __getOwnPropSymbols$1K(ln))__propIsEnum$1K.call(ln,cn)&&__defNormalProp$1I(sn,cn,ln[cn]);return sn};function getSystemStyles$1(sn,ln,cn=SYSTEM_PROPS$1){return Object.keys(cn).reduce((pn,vn)=>(vn in sn&&sn[vn]!==void 0&&pn.push(getResponsiveValue$1({value:sn[vn],getValue:valueGetters$1[cn[vn].type],property:cn[vn].property,theme:ln})),pn),[]).reduce((pn,vn)=>(Object.keys(vn).forEach(Sn=>{typeof vn[Sn]=="object"&&vn[Sn]!==null&&Sn in pn?pn[Sn]=__spreadValues$1I(__spreadValues$1I({},pn[Sn]),vn[Sn]):pn[Sn]=vn[Sn]}),pn),{})}function extractSx$1(sn,ln){return typeof sn=="function"?sn(ln):sn}function useSx$1(sn,ln,cn){const dn=useMantineTheme$1(),{css:pn,cx:vn}=useCss$1();return Array.isArray(sn)?vn(cn,pn(getSystemStyles$1(ln,dn)),sn.map(Sn=>pn(extractSx$1(Sn,dn)))):vn(cn,pn(extractSx$1(sn,dn)),pn(getSystemStyles$1(ln,dn)))}var __defProp$1H=Object.defineProperty,__getOwnPropSymbols$1J=Object.getOwnPropertySymbols,__hasOwnProp$1J=Object.prototype.hasOwnProperty,__propIsEnum$1J=Object.prototype.propertyIsEnumerable,__defNormalProp$1H=(sn,ln,cn)=>ln in sn?__defProp$1H(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1H=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1J.call(ln,cn)&&__defNormalProp$1H(sn,cn,ln[cn]);if(__getOwnPropSymbols$1J)for(var cn of __getOwnPropSymbols$1J(ln))__propIsEnum$1J.call(ln,cn)&&__defNormalProp$1H(sn,cn,ln[cn]);return sn},__objRest$1b=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1J.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1J)for(var dn of __getOwnPropSymbols$1J(sn))ln.indexOf(dn)<0&&__propIsEnum$1J.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const _Box$1=reactExports.forwardRef((sn,ln)=>{var cn=sn,{className:dn,component:pn,style:vn,sx:Sn}=cn,En=__objRest$1b(cn,["className","component","style","sx"]);const{systemStyles:Cn,rest:Pn}=extractSystemStyles$1(En);return jsx$1(pn||"div",{...__spreadValues$1H({ref:ln,className:useSx$1(Sn,Cn,dn),style:vn},Pn)})});_Box$1.displayName="@mantine/core/Box";const Box$1=_Box$1;var __defProp$1G=Object.defineProperty,__defProps$G=Object.defineProperties,__getOwnPropDescs$G=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1I=Object.getOwnPropertySymbols,__hasOwnProp$1I=Object.prototype.hasOwnProperty,__propIsEnum$1I=Object.prototype.propertyIsEnumerable,__defNormalProp$1G=(sn,ln,cn)=>ln in sn?__defProp$1G(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1G=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1I.call(ln,cn)&&__defNormalProp$1G(sn,cn,ln[cn]);if(__getOwnPropSymbols$1I)for(var cn of __getOwnPropSymbols$1I(ln))__propIsEnum$1I.call(ln,cn)&&__defNormalProp$1G(sn,cn,ln[cn]);return sn},__spreadProps$G=(sn,ln)=>__defProps$G(sn,__getOwnPropDescs$G(ln)),useStyles$1w=createStyles$1(sn=>({root:__spreadProps$G(__spreadValues$1G(__spreadValues$1G({},sn.fn.focusStyles()),sn.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:sn.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:sn.colorScheme==="dark"?sn.colors.dark[0]:sn.black,textDecoration:"none",boxSizing:"border-box"})}));const useStyles$1x=useStyles$1w;var __defProp$1F=Object.defineProperty,__getOwnPropSymbols$1H=Object.getOwnPropertySymbols,__hasOwnProp$1H=Object.prototype.hasOwnProperty,__propIsEnum$1H=Object.prototype.propertyIsEnumerable,__defNormalProp$1F=(sn,ln,cn)=>ln in sn?__defProp$1F(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1F=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1H.call(ln,cn)&&__defNormalProp$1F(sn,cn,ln[cn]);if(__getOwnPropSymbols$1H)for(var cn of __getOwnPropSymbols$1H(ln))__propIsEnum$1H.call(ln,cn)&&__defNormalProp$1F(sn,cn,ln[cn]);return sn},__objRest$1a=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1H.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1H)for(var dn of __getOwnPropSymbols$1H(sn))ln.indexOf(dn)<0&&__propIsEnum$1H.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const _UnstyledButton$1=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("UnstyledButton",{},sn),{className:dn,component:pn="button",unstyled:vn,variant:Sn}=cn,En=__objRest$1a(cn,["className","component","unstyled","variant"]),{classes:Cn,cx:Pn}=useStyles$1x(null,{name:"UnstyledButton",unstyled:vn,variant:Sn});return jsx$1(Box$1,{...__spreadValues$1F({component:pn,ref:ln,className:Pn(Cn.root,dn),type:pn==="button"?"button":void 0},En)})});_UnstyledButton$1.displayName="@mantine/core/UnstyledButton";const UnstyledButton$1=_UnstyledButton$1;var __defProp$1E=Object.defineProperty,__defProps$F=Object.defineProperties,__getOwnPropDescs$F=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1G=Object.getOwnPropertySymbols,__hasOwnProp$1G=Object.prototype.hasOwnProperty,__propIsEnum$1G=Object.prototype.propertyIsEnumerable,__defNormalProp$1E=(sn,ln,cn)=>ln in sn?__defProp$1E(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1E=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1G.call(ln,cn)&&__defNormalProp$1E(sn,cn,ln[cn]);if(__getOwnPropSymbols$1G)for(var cn of __getOwnPropSymbols$1G(ln))__propIsEnum$1G.call(ln,cn)&&__defNormalProp$1E(sn,cn,ln[cn]);return sn},__spreadProps$F=(sn,ln)=>__defProps$F(sn,__getOwnPropDescs$F(ln));const ACTION_ICON_VARIANTS$1=["subtle","filled","outline","light","default","transparent","gradient"],sizes$d={xs:rem$1(18),sm:rem$1(22),md:rem$1(28),lg:rem$1(34),xl:rem$1(44)};function getVariantStyles$7({variant:sn,theme:ln,color:cn,gradient:dn}){const pn=ln.fn.variant({color:cn,variant:sn,gradient:dn});return sn==="gradient"?{border:0,backgroundImage:pn.background,color:pn.color,"&:hover":ln.fn.hover({backgroundSize:"200%"})}:ACTION_ICON_VARIANTS$1.includes(sn)?__spreadValues$1E({border:`${rem$1(1)} solid ${pn.border}`,backgroundColor:pn.background,color:pn.color},ln.fn.hover({backgroundColor:pn.hover})):null}var useStyles$1u=createStyles$1((sn,{radius:ln,color:cn,gradient:dn},{variant:pn,size:vn})=>({root:__spreadProps$F(__spreadValues$1E({position:"relative",borderRadius:sn.fn.radius(ln),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center",height:getSize$1({size:vn,sizes:sizes$d}),minHeight:getSize$1({size:vn,sizes:sizes$d}),width:getSize$1({size:vn,sizes:sizes$d}),minWidth:getSize$1({size:vn,sizes:sizes$d})},getVariantStyles$7({variant:pn,theme:sn,color:cn,gradient:dn})),{"&:active":sn.activeStyles,"& [data-action-icon-loader]":{maxWidth:"70%"},"&:disabled, &[data-disabled]":{color:sn.colors.gray[sn.colorScheme==="dark"?6:4],cursor:"not-allowed",backgroundColor:pn==="transparent"?void 0:sn.fn.themeColor("gray",sn.colorScheme==="dark"?8:1),borderColor:pn==="transparent"?void 0:sn.fn.themeColor("gray",sn.colorScheme==="dark"?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":__spreadProps$F(__spreadValues$1E({content:'""'},sn.fn.cover(rem$1(-1))),{backgroundColor:sn.colorScheme==="dark"?sn.fn.rgba(sn.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:sn.fn.radius(ln),cursor:"not-allowed"})}})}));const useStyles$1v=useStyles$1u;var __defProp$1D=Object.defineProperty,__getOwnPropSymbols$1F=Object.getOwnPropertySymbols,__hasOwnProp$1F=Object.prototype.hasOwnProperty,__propIsEnum$1F=Object.prototype.propertyIsEnumerable,__defNormalProp$1D=(sn,ln,cn)=>ln in sn?__defProp$1D(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1D=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1F.call(ln,cn)&&__defNormalProp$1D(sn,cn,ln[cn]);if(__getOwnPropSymbols$1F)for(var cn of __getOwnPropSymbols$1F(ln))__propIsEnum$1F.call(ln,cn)&&__defNormalProp$1D(sn,cn,ln[cn]);return sn},__objRest$19=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1F.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1F)for(var dn of __getOwnPropSymbols$1F(sn))ln.indexOf(dn)<0&&__propIsEnum$1F.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};function Bars$1(sn){var ln=sn,{size:cn,color:dn}=ln,pn=__objRest$19(ln,["size","color"]);return jsxs$1("svg",{...__spreadValues$1D({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:dn,width:cn},pn),children:[jsxs$1("rect",{y:"10",width:"15",height:"120",rx:"6",children:[jsx$1("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),jsx$1("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]}),jsxs$1("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6",children:[jsx$1("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),jsx$1("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]}),jsxs$1("rect",{x:"60",width:"15",height:"140",rx:"6",children:[jsx$1("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),jsx$1("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]}),jsxs$1("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6",children:[jsx$1("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),jsx$1("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]}),jsxs$1("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6",children:[jsx$1("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),jsx$1("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]})]})}var __defProp$1C=Object.defineProperty,__getOwnPropSymbols$1E=Object.getOwnPropertySymbols,__hasOwnProp$1E=Object.prototype.hasOwnProperty,__propIsEnum$1E=Object.prototype.propertyIsEnumerable,__defNormalProp$1C=(sn,ln,cn)=>ln in sn?__defProp$1C(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1C=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1E.call(ln,cn)&&__defNormalProp$1C(sn,cn,ln[cn]);if(__getOwnPropSymbols$1E)for(var cn of __getOwnPropSymbols$1E(ln))__propIsEnum$1E.call(ln,cn)&&__defNormalProp$1C(sn,cn,ln[cn]);return sn},__objRest$18=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1E.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1E)for(var dn of __getOwnPropSymbols$1E(sn))ln.indexOf(dn)<0&&__propIsEnum$1E.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};function Oval$1(sn){var ln=sn,{size:cn,color:dn}=ln,pn=__objRest$18(ln,["size","color"]);return jsx$1("svg",{...__spreadValues$1C({width:cn,height:cn,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:dn},pn),children:jsx$1("g",{fill:"none",fillRule:"evenodd",children:jsxs$1("g",{transform:"translate(2.5 2.5)",strokeWidth:"5",children:[jsx$1("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),jsx$1("path",{d:"M32 16c0-9.94-8.06-16-16-16",children:jsx$1("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})})]})})})}var __defProp$1B=Object.defineProperty,__getOwnPropSymbols$1D=Object.getOwnPropertySymbols,__hasOwnProp$1D=Object.prototype.hasOwnProperty,__propIsEnum$1D=Object.prototype.propertyIsEnumerable,__defNormalProp$1B=(sn,ln,cn)=>ln in sn?__defProp$1B(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1B=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1D.call(ln,cn)&&__defNormalProp$1B(sn,cn,ln[cn]);if(__getOwnPropSymbols$1D)for(var cn of __getOwnPropSymbols$1D(ln))__propIsEnum$1D.call(ln,cn)&&__defNormalProp$1B(sn,cn,ln[cn]);return sn},__objRest$17=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1D.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1D)for(var dn of __getOwnPropSymbols$1D(sn))ln.indexOf(dn)<0&&__propIsEnum$1D.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};function Dots$1(sn){var ln=sn,{size:cn,color:dn}=ln,pn=__objRest$17(ln,["size","color"]);return jsxs$1("svg",{...__spreadValues$1B({width:cn,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:dn},pn),children:[jsxs$1("circle",{cx:"15",cy:"15",r:"15",children:[jsx$1("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),jsx$1("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]}),jsxs$1("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3",children:[jsx$1("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),jsx$1("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})]}),jsxs$1("circle",{cx:"105",cy:"15",r:"15",children:[jsx$1("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),jsx$1("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]})]})}var __defProp$1A=Object.defineProperty,__getOwnPropSymbols$1C=Object.getOwnPropertySymbols,__hasOwnProp$1C=Object.prototype.hasOwnProperty,__propIsEnum$1C=Object.prototype.propertyIsEnumerable,__defNormalProp$1A=(sn,ln,cn)=>ln in sn?__defProp$1A(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1A=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1C.call(ln,cn)&&__defNormalProp$1A(sn,cn,ln[cn]);if(__getOwnPropSymbols$1C)for(var cn of __getOwnPropSymbols$1C(ln))__propIsEnum$1C.call(ln,cn)&&__defNormalProp$1A(sn,cn,ln[cn]);return sn},__objRest$16=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1C.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1C)for(var dn of __getOwnPropSymbols$1C(sn))ln.indexOf(dn)<0&&__propIsEnum$1C.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const LOADERS$1={bars:Bars$1,oval:Oval$1,dots:Dots$1},sizes$c={xs:rem$1(18),sm:rem$1(22),md:rem$1(36),lg:rem$1(44),xl:rem$1(58)},defaultProps$U={size:"md"};function Loader$1(sn){const ln=useComponentDefaultProps$1("Loader",defaultProps$U,sn),{size:cn,color:dn,variant:pn}=ln,vn=__objRest$16(ln,["size","color","variant"]),Sn=useMantineTheme$1(),En=pn in LOADERS$1?pn:Sn.loader;return jsx$1(Box$1,{...__spreadValues$1A({role:"presentation",component:LOADERS$1[En]||LOADERS$1.bars,size:getSize$1({size:cn,sizes:sizes$c}),color:Sn.fn.variant({variant:"filled",primaryFallback:!1,color:dn||Sn.primaryColor}).background},vn)})}Loader$1.displayName="@mantine/core/Loader";var __defProp$1z=Object.defineProperty,__getOwnPropSymbols$1B=Object.getOwnPropertySymbols,__hasOwnProp$1B=Object.prototype.hasOwnProperty,__propIsEnum$1B=Object.prototype.propertyIsEnumerable,__defNormalProp$1z=(sn,ln,cn)=>ln in sn?__defProp$1z(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1z=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1B.call(ln,cn)&&__defNormalProp$1z(sn,cn,ln[cn]);if(__getOwnPropSymbols$1B)for(var cn of __getOwnPropSymbols$1B(ln))__propIsEnum$1B.call(ln,cn)&&__defNormalProp$1z(sn,cn,ln[cn]);return sn},__objRest$15=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1B.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1B)for(var dn of __getOwnPropSymbols$1B(sn))ln.indexOf(dn)<0&&__propIsEnum$1B.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$T={color:"gray",size:"md",variant:"subtle"},_ActionIcon$1=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("ActionIcon",defaultProps$T,sn),{className:dn,color:pn,children:vn,radius:Sn,size:En,variant:Cn,gradient:Pn,disabled:Rn,loaderProps:Ln,loading:Fn,unstyled:Gn,__staticSelector:Dn}=cn,Kn=__objRest$15(cn,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled","__staticSelector"]),{classes:qn,cx:Zn,theme:Yn}=useStyles$1v({radius:Sn,color:pn,gradient:Pn},{name:["ActionIcon",Dn],unstyled:Gn,size:En,variant:Cn}),Jn=jsx$1(Loader$1,{...__spreadValues$1z({color:Yn.fn.variant({color:pn,variant:Cn}).color,size:"100%","data-action-icon-loader":!0},Ln)});return jsx$1(UnstyledButton$1,{...__spreadValues$1z({className:Zn(qn.root,dn),ref:ln,disabled:Rn,"data-disabled":Rn||void 0,"data-loading":Fn||void 0,unstyled:Gn},Kn),children:Fn?Jn:vn})});_ActionIcon$1.displayName="@mantine/core/ActionIcon";const ActionIcon$1=_ActionIcon$1;var __defProp$1y=Object.defineProperty,__defProps$E=Object.defineProperties,__getOwnPropDescs$E=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1A=Object.getOwnPropertySymbols,__hasOwnProp$1A=Object.prototype.hasOwnProperty,__propIsEnum$1A=Object.prototype.propertyIsEnumerable,__defNormalProp$1y=(sn,ln,cn)=>ln in sn?__defProp$1y(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1y=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1A.call(ln,cn)&&__defNormalProp$1y(sn,cn,ln[cn]);if(__getOwnPropSymbols$1A)for(var cn of __getOwnPropSymbols$1A(ln))__propIsEnum$1A.call(ln,cn)&&__defNormalProp$1y(sn,cn,ln[cn]);return sn},__spreadProps$E=(sn,ln)=>__defProps$E(sn,__getOwnPropDescs$E(ln)),__objRest$14=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1A.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1A)for(var dn of __getOwnPropSymbols$1A(sn))ln.indexOf(dn)<0&&__propIsEnum$1A.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};function Portal(sn){const ln=useComponentDefaultProps$1("Portal",{},sn),{children:cn,target:dn,className:pn,innerRef:vn}=ln,Sn=__objRest$14(ln,["children","target","className","innerRef"]),En=useMantineTheme$1(),[Cn,Pn]=reactExports.useState(!1),Rn=reactExports.useRef();return useIsomorphicEffect$1(()=>(Pn(!0),Rn.current=dn?typeof dn=="string"?document.querySelector(dn):dn:document.createElement("div"),dn||document.body.appendChild(Rn.current),()=>{!dn&&document.body.removeChild(Rn.current)}),[dn]),Cn?reactDomExports.createPortal(jsx$1("div",{...__spreadProps$E(__spreadValues$1y({className:pn,dir:En.dir},Sn),{ref:vn}),children:cn}),Rn.current):null}Portal.displayName="@mantine/core/Portal";var __defProp$1x=Object.defineProperty,__getOwnPropSymbols$1z=Object.getOwnPropertySymbols,__hasOwnProp$1z=Object.prototype.hasOwnProperty,__propIsEnum$1z=Object.prototype.propertyIsEnumerable,__defNormalProp$1x=(sn,ln,cn)=>ln in sn?__defProp$1x(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1x=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1z.call(ln,cn)&&__defNormalProp$1x(sn,cn,ln[cn]);if(__getOwnPropSymbols$1z)for(var cn of __getOwnPropSymbols$1z(ln))__propIsEnum$1z.call(ln,cn)&&__defNormalProp$1x(sn,cn,ln[cn]);return sn},__objRest$13=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1z.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1z)for(var dn of __getOwnPropSymbols$1z(sn))ln.indexOf(dn)<0&&__propIsEnum$1z.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};function OptionalPortal(sn){var ln=sn,{withinPortal:cn=!0,children:dn}=ln,pn=__objRest$13(ln,["withinPortal","children"]);return cn?jsx$1(Portal,{...__spreadValues$1x({},pn),children:dn}):jsx$1(Fragment$1,{children:dn})}OptionalPortal.displayName="@mantine/core/OptionalPortal";var __defProp$1w=Object.defineProperty,__defProps$D=Object.defineProperties,__getOwnPropDescs$D=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1y=Object.getOwnPropertySymbols,__hasOwnProp$1y=Object.prototype.hasOwnProperty,__propIsEnum$1y=Object.prototype.propertyIsEnumerable,__defNormalProp$1w=(sn,ln,cn)=>ln in sn?__defProp$1w(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1w=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1y.call(ln,cn)&&__defNormalProp$1w(sn,cn,ln[cn]);if(__getOwnPropSymbols$1y)for(var cn of __getOwnPropSymbols$1y(ln))__propIsEnum$1y.call(ln,cn)&&__defNormalProp$1w(sn,cn,ln[cn]);return sn},__spreadProps$D=(sn,ln)=>__defProps$D(sn,__getOwnPropDescs$D(ln));function getVariantStyles$6({variant:sn,color:ln,theme:cn}){if(sn==="filled")return{backgroundColor:cn.fn.variant({variant:"filled",color:ln}).background,color:cn.white};if(sn==="outline"){const dn=cn.fn.variant({variant:"outline",color:ln});return{color:dn.color,borderColor:dn.border,backgroundColor:cn.colorScheme==="dark"?cn.colors.dark[6]:cn.white}}if(sn==="light"){const dn=cn.fn.variant({variant:"light",color:ln});return{backgroundColor:dn.background,color:dn.color}}return null}var useStyles$1s=createStyles$1((sn,{radius:ln,color:cn},{variant:dn})=>({root:__spreadValues$1w(__spreadProps$D(__spreadValues$1w({},sn.fn.fontStyles()),{position:"relative",overflow:"hidden",paddingTop:sn.spacing.sm,paddingBottom:sn.spacing.sm,paddingLeft:sn.spacing.md,paddingRight:sn.spacing.sm,borderRadius:sn.fn.radius(ln),border:`${rem$1(1)} solid transparent`}),getVariantStyles$6({variant:dn,color:cn,theme:sn})),wrapper:{display:"flex"},body:{flex:1},title:{boxSizing:"border-box",margin:0,marginBottom:sn.spacing.xs,display:"flex",alignItems:"center",justifyContent:"space-between",lineHeight:sn.lineHeight,fontSize:sn.fontSizes.sm,fontWeight:700,"&[data-with-close-button]":{paddingRight:sn.spacing.md}},label:{display:"block",overflow:"hidden",textOverflow:"ellipsis"},icon:{lineHeight:1,width:rem$1(20),height:rem$1(20),display:"flex",alignItems:"center",justifyContent:"flex-start",marginRight:sn.spacing.md,marginTop:1},message:__spreadProps$D(__spreadValues$1w({},sn.fn.fontStyles()),{lineHeight:sn.lineHeight,textOverflow:"ellipsis",overflow:"hidden",fontSize:sn.fontSizes.sm,color:dn==="filled"?sn.white:sn.colorScheme==="dark"?dn==="light"?sn.white:sn.colors.dark[0]:sn.black}),closeButton:{width:rem$1(10),height:rem$1(10)}}));const useStyles$1t=useStyles$1s;var __defProp$1v=Object.defineProperty,__getOwnPropSymbols$1x=Object.getOwnPropertySymbols,__hasOwnProp$1x=Object.prototype.hasOwnProperty,__propIsEnum$1x=Object.prototype.propertyIsEnumerable,__defNormalProp$1v=(sn,ln,cn)=>ln in sn?__defProp$1v(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1v=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1x.call(ln,cn)&&__defNormalProp$1v(sn,cn,ln[cn]);if(__getOwnPropSymbols$1x)for(var cn of __getOwnPropSymbols$1x(ln))__propIsEnum$1x.call(ln,cn)&&__defNormalProp$1v(sn,cn,ln[cn]);return sn};function CloseIcon$1(sn){return jsx$1("svg",{...__spreadValues$1v({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},sn),children:jsx$1("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}CloseIcon$1.displayName="@mantine/core/CloseIcon";var __defProp$1u=Object.defineProperty,__getOwnPropSymbols$1w=Object.getOwnPropertySymbols,__hasOwnProp$1w=Object.prototype.hasOwnProperty,__propIsEnum$1w=Object.prototype.propertyIsEnumerable,__defNormalProp$1u=(sn,ln,cn)=>ln in sn?__defProp$1u(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1u=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1w.call(ln,cn)&&__defNormalProp$1u(sn,cn,ln[cn]);if(__getOwnPropSymbols$1w)for(var cn of __getOwnPropSymbols$1w(ln))__propIsEnum$1w.call(ln,cn)&&__defNormalProp$1u(sn,cn,ln[cn]);return sn},__objRest$12=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1w.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1w)for(var dn of __getOwnPropSymbols$1w(sn))ln.indexOf(dn)<0&&__propIsEnum$1w.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const iconSizes$2={xs:rem$1(12),sm:rem$1(16),md:rem$1(20),lg:rem$1(28),xl:rem$1(34)},defaultProps$S={size:"sm"},_CloseButton$1=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("CloseButton",defaultProps$S,sn),{iconSize:dn,size:pn,children:vn}=cn,Sn=__objRest$12(cn,["iconSize","size","children"]),En=rem$1(dn||iconSizes$2[pn]);return jsx$1(ActionIcon$1,{...__spreadValues$1u({ref:ln,__staticSelector:"CloseButton",size:pn},Sn),children:vn||jsx$1(CloseIcon$1,{width:En,height:En})})});_CloseButton$1.displayName="@mantine/core/CloseButton";const CloseButton$1=_CloseButton$1;var __defProp$1t=Object.defineProperty,__getOwnPropSymbols$1v=Object.getOwnPropertySymbols,__hasOwnProp$1v=Object.prototype.hasOwnProperty,__propIsEnum$1v=Object.prototype.propertyIsEnumerable,__defNormalProp$1t=(sn,ln,cn)=>ln in sn?__defProp$1t(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1t=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1v.call(ln,cn)&&__defNormalProp$1t(sn,cn,ln[cn]);if(__getOwnPropSymbols$1v)for(var cn of __getOwnPropSymbols$1v(ln))__propIsEnum$1v.call(ln,cn)&&__defNormalProp$1t(sn,cn,ln[cn]);return sn},__objRest$11=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1v.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1v)for(var dn of __getOwnPropSymbols$1v(sn))ln.indexOf(dn)<0&&__propIsEnum$1v.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$R={variant:"light"},Alert=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("Alert",defaultProps$R,sn),{id:dn,className:pn,title:vn,variant:Sn,children:En,color:Cn,classNames:Pn,icon:Rn,styles:Ln,onClose:Fn,radius:Gn,withCloseButton:Dn,closeButtonLabel:Kn,unstyled:qn}=cn,Zn=__objRest$11(cn,["id","className","title","variant","children","color","classNames","icon","styles","onClose","radius","withCloseButton","closeButtonLabel","unstyled"]),{classes:Yn,cx:Jn}=useStyles$1t({color:Cn,radius:Gn},{classNames:Pn,styles:Ln,unstyled:qn,variant:Sn,name:"Alert"}),rs=useId$1(dn),us=vn&&`${rs}-title`,as=`${rs}-body`;return jsx$1(Box$1,{...__spreadValues$1t({id:rs,role:"alert","aria-labelledby":us,"aria-describedby":as,className:Jn(Yn.root,Yn[Sn],pn),ref:ln},Zn),children:jsxs$1("div",{className:Yn.wrapper,children:[Rn&&jsx$1("div",{className:Yn.icon,children:Rn}),jsxs$1("div",{className:Yn.body,children:[vn&&jsx$1("div",{className:Yn.title,"data-with-close-button":Dn||void 0,children:jsx$1("span",{id:us,className:Yn.label,children:vn})}),jsx$1("div",{id:as,className:Yn.message,children:En})]}),Dn&&jsx$1(CloseButton$1,{className:Yn.closeButton,onClick:Fn,variant:"transparent",size:16,iconSize:16,"aria-label":Kn})]})})});Alert.displayName="@mantine/core/Alert";var __defProp$1s=Object.defineProperty,__defProps$C=Object.defineProperties,__getOwnPropDescs$C=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1u=Object.getOwnPropertySymbols,__hasOwnProp$1u=Object.prototype.hasOwnProperty,__propIsEnum$1u=Object.prototype.propertyIsEnumerable,__defNormalProp$1s=(sn,ln,cn)=>ln in sn?__defProp$1s(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1s=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1u.call(ln,cn)&&__defNormalProp$1s(sn,cn,ln[cn]);if(__getOwnPropSymbols$1u)for(var cn of __getOwnPropSymbols$1u(ln))__propIsEnum$1u.call(ln,cn)&&__defNormalProp$1s(sn,cn,ln[cn]);return sn},__spreadProps$C=(sn,ln)=>__defProps$C(sn,__getOwnPropDescs$C(ln));function getTextDecoration$1({underline:sn,strikethrough:ln}){const cn=[];return sn&&cn.push("underline"),ln&&cn.push("line-through"),cn.length>0?cn.join(" "):"none"}function getTextColor$1({theme:sn,color:ln}){return ln==="dimmed"?sn.fn.dimmed():typeof ln=="string"&&(ln in sn.colors||ln.split(".")[0]in sn.colors)?sn.fn.variant({variant:"filled",color:ln}).background:ln||"inherit"}function getLineClamp$1(sn){return typeof sn=="number"?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:sn,WebkitBoxOrient:"vertical"}:null}function getTruncate$1({theme:sn,truncate:ln}){return ln==="start"?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",direction:sn.dir==="ltr"?"rtl":"ltr",textAlign:sn.dir==="ltr"?"right":"left"}:ln?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:null}var useStyles$1q=createStyles$1((sn,{color:ln,lineClamp:cn,truncate:dn,inline:pn,inherit:vn,underline:Sn,gradient:En,weight:Cn,transform:Pn,align:Rn,strikethrough:Ln,italic:Fn},{size:Gn})=>{const Dn=sn.fn.variant({variant:"gradient",gradient:En});return{root:__spreadProps$C(__spreadValues$1s(__spreadValues$1s(__spreadValues$1s(__spreadValues$1s({},sn.fn.fontStyles()),sn.fn.focusStyles()),getLineClamp$1(cn)),getTruncate$1({theme:sn,truncate:dn})),{color:getTextColor$1({color:ln,theme:sn}),fontFamily:vn?"inherit":sn.fontFamily,fontSize:vn||Gn===void 0?"inherit":getSize$1({size:Gn,sizes:sn.fontSizes}),lineHeight:vn?"inherit":pn?1:sn.lineHeight,textDecoration:getTextDecoration$1({underline:Sn,strikethrough:Ln}),WebkitTapHighlightColor:"transparent",fontWeight:vn?"inherit":Cn,textTransform:Pn,textAlign:Rn,fontStyle:Fn?"italic":void 0}),gradient:{backgroundImage:Dn.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}});const useStyles$1r=useStyles$1q;var __defProp$1r=Object.defineProperty,__getOwnPropSymbols$1t=Object.getOwnPropertySymbols,__hasOwnProp$1t=Object.prototype.hasOwnProperty,__propIsEnum$1t=Object.prototype.propertyIsEnumerable,__defNormalProp$1r=(sn,ln,cn)=>ln in sn?__defProp$1r(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1r=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1t.call(ln,cn)&&__defNormalProp$1r(sn,cn,ln[cn]);if(__getOwnPropSymbols$1t)for(var cn of __getOwnPropSymbols$1t(ln))__propIsEnum$1t.call(ln,cn)&&__defNormalProp$1r(sn,cn,ln[cn]);return sn},__objRest$10=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1t.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1t)for(var dn of __getOwnPropSymbols$1t(sn))ln.indexOf(dn)<0&&__propIsEnum$1t.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$Q={variant:"text"},_Text$1=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("Text",defaultProps$Q,sn),{className:dn,size:pn,weight:vn,transform:Sn,color:En,align:Cn,variant:Pn,lineClamp:Rn,truncate:Ln,gradient:Fn,inline:Gn,inherit:Dn,underline:Kn,strikethrough:qn,italic:Zn,classNames:Yn,styles:Jn,unstyled:rs,span:us,__staticSelector:as}=cn,cs=__objRest$10(cn,["className","size","weight","transform","color","align","variant","lineClamp","truncate","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span","__staticSelector"]),{classes:_s,cx:Es}=useStyles$1r({color:En,lineClamp:Rn,truncate:Ln,inline:Gn,inherit:Dn,underline:Kn,strikethrough:qn,italic:Zn,weight:vn,transform:Sn,align:Cn,gradient:Fn},{unstyled:rs,name:as||"Text",variant:Pn,size:pn});return jsx$1(Box$1,{...__spreadValues$1r({ref:ln,className:Es(_s.root,{[_s.gradient]:Pn==="gradient"},dn),component:us?"span":"div"},cs)})});_Text$1.displayName="@mantine/core/Text";const Text$1=_Text$1;function t$9(sn){return sn.split("-")[1]}function e$5(sn){return sn==="y"?"height":"width"}function n$b(sn){return sn.split("-")[0]}function o$d(sn){return["top","bottom"].includes(n$b(sn))?"x":"y"}function i$f(sn,ln,cn){let{reference:dn,floating:pn}=sn;const vn=dn.x+dn.width/2-pn.width/2,Sn=dn.y+dn.height/2-pn.height/2,En=o$d(ln),Cn=e$5(En),Pn=dn[Cn]/2-pn[Cn]/2,Rn=En==="x";let Ln;switch(n$b(ln)){case"top":Ln={x:vn,y:dn.y-pn.height};break;case"bottom":Ln={x:vn,y:dn.y+dn.height};break;case"right":Ln={x:dn.x+dn.width,y:Sn};break;case"left":Ln={x:dn.x-pn.width,y:Sn};break;default:Ln={x:dn.x,y:dn.y}}switch(t$9(ln)){case"start":Ln[En]-=Pn*(cn&&Rn?-1:1);break;case"end":Ln[En]+=Pn*(cn&&Rn?-1:1)}return Ln}const r$6=async(sn,ln,cn)=>{const{placement:dn="bottom",strategy:pn="absolute",middleware:vn=[],platform:Sn}=cn,En=vn.filter(Boolean),Cn=await(Sn.isRTL==null?void 0:Sn.isRTL(ln));let Pn=await Sn.getElementRects({reference:sn,floating:ln,strategy:pn}),{x:Rn,y:Ln}=i$f(Pn,dn,Cn),Fn=dn,Gn={},Dn=0;for(let Kn=0;Kn<En.length;Kn++){const{name:qn,fn:Zn}=En[Kn],{x:Yn,y:Jn,data:rs,reset:us}=await Zn({x:Rn,y:Ln,initialPlacement:dn,placement:Fn,strategy:pn,middlewareData:Gn,rects:Pn,platform:Sn,elements:{reference:sn,floating:ln}});Rn=Yn??Rn,Ln=Jn??Ln,Gn={...Gn,[qn]:{...Gn[qn],...rs}},us&&Dn<=50&&(Dn++,typeof us=="object"&&(us.placement&&(Fn=us.placement),us.rects&&(Pn=us.rects===!0?await Sn.getElementRects({reference:sn,floating:ln,strategy:pn}):us.rects),{x:Rn,y:Ln}=i$f(Pn,Fn,Cn)),Kn=-1)}return{x:Rn,y:Ln,placement:Fn,strategy:pn,middlewareData:Gn}};function a$c(sn,ln){return typeof sn=="function"?sn(ln):sn}function l$9(sn){return typeof sn!="number"?function(ln){return{top:0,right:0,bottom:0,left:0,...ln}}(sn):{top:sn,right:sn,bottom:sn,left:sn}}function s$e(sn){return{...sn,top:sn.y,left:sn.x,right:sn.x+sn.width,bottom:sn.y+sn.height}}async function c$j(sn,ln){var cn;ln===void 0&&(ln={});const{x:dn,y:pn,platform:vn,rects:Sn,elements:En,strategy:Cn}=sn,{boundary:Pn="clippingAncestors",rootBoundary:Rn="viewport",elementContext:Ln="floating",altBoundary:Fn=!1,padding:Gn=0}=a$c(ln,sn),Dn=l$9(Gn),Kn=En[Fn?Ln==="floating"?"reference":"floating":Ln],qn=s$e(await vn.getClippingRect({element:(cn=await(vn.isElement==null?void 0:vn.isElement(Kn)))==null||cn?Kn:Kn.contextElement||await(vn.getDocumentElement==null?void 0:vn.getDocumentElement(En.floating)),boundary:Pn,rootBoundary:Rn,strategy:Cn})),Zn=Ln==="floating"?{...Sn.floating,x:dn,y:pn}:Sn.reference,Yn=await(vn.getOffsetParent==null?void 0:vn.getOffsetParent(En.floating)),Jn=await(vn.isElement==null?void 0:vn.isElement(Yn))&&await(vn.getScale==null?void 0:vn.getScale(Yn))||{x:1,y:1},rs=s$e(vn.convertOffsetParentRelativeRectToViewportRelativeRect?await vn.convertOffsetParentRelativeRectToViewportRelativeRect({rect:Zn,offsetParent:Yn,strategy:Cn}):Zn);return{top:(qn.top-rs.top+Dn.top)/Jn.y,bottom:(rs.bottom-qn.bottom+Dn.bottom)/Jn.y,left:(qn.left-rs.left+Dn.left)/Jn.x,right:(rs.right-qn.right+Dn.right)/Jn.x}}const f$8=Math.min,m$d=Math.max;function u$d(sn,ln,cn){return m$d(sn,f$8(ln,cn))}const g$b=sn=>({name:"arrow",options:sn,async fn(ln){const{x:cn,y:dn,placement:pn,rects:vn,platform:Sn,elements:En}=ln,{element:Cn,padding:Pn=0}=a$c(sn,ln)||{};if(Cn==null)return{};const Rn=l$9(Pn),Ln={x:cn,y:dn},Fn=o$d(pn),Gn=e$5(Fn),Dn=await Sn.getDimensions(Cn),Kn=Fn==="y",qn=Kn?"top":"left",Zn=Kn?"bottom":"right",Yn=Kn?"clientHeight":"clientWidth",Jn=vn.reference[Gn]+vn.reference[Fn]-Ln[Fn]-vn.floating[Gn],rs=Ln[Fn]-vn.reference[Fn],us=await(Sn.getOffsetParent==null?void 0:Sn.getOffsetParent(Cn));let as=us?us[Yn]:0;as&&await(Sn.isElement==null?void 0:Sn.isElement(us))||(as=En.floating[Yn]||vn.floating[Gn]);const cs=Jn/2-rs/2,_s=as/2-Dn[Gn]/2-1,Es=f$8(Rn[qn],_s),Qn=f$8(Rn[Zn],_s),ms=Es,$s=as-Dn[Gn]-Qn,Ms=as/2-Dn[Gn]/2+cs,gs=u$d(ms,Ms,$s),Ss=t$9(pn)!=null&&Ms!=gs&&vn.reference[Gn]/2-(Ms<ms?Es:Qn)-Dn[Gn]/2<0;return{[Fn]:Ln[Fn]-(Ss?Ms<ms?ms-Ms:$s-Ms:0),data:{[Fn]:gs,centerOffset:Ms-gs}}}}),d$i=["top","right","bottom","left"];d$i.reduce((sn,ln)=>sn.concat(ln,ln+"-start",ln+"-end"),[]);const h$d={left:"right",right:"left",bottom:"top",top:"bottom"};function y$e(sn){return sn.replace(/left|right|bottom|top/g,ln=>h$d[ln])}function x$k(sn,ln,cn){cn===void 0&&(cn=!1);const dn=t$9(sn),pn=o$d(sn),vn=e$5(pn);let Sn=pn==="x"?dn===(cn?"end":"start")?"right":"left":dn==="start"?"bottom":"top";return ln.reference[vn]>ln.floating[vn]&&(Sn=y$e(Sn)),{main:Sn,cross:y$e(Sn)}}const w$f={start:"end",end:"start"};function v$d(sn){return sn.replace(/start|end/g,ln=>w$f[ln])}const A$c=function(sn){return sn===void 0&&(sn={}),{name:"flip",options:sn,async fn(ln){var cn;const{placement:dn,middlewareData:pn,rects:vn,initialPlacement:Sn,platform:En,elements:Cn}=ln,{mainAxis:Pn=!0,crossAxis:Rn=!0,fallbackPlacements:Ln,fallbackStrategy:Fn="bestFit",fallbackAxisSideDirection:Gn="none",flipAlignment:Dn=!0,...Kn}=a$c(sn,ln),qn=n$b(dn),Zn=n$b(Sn)===Sn,Yn=await(En.isRTL==null?void 0:En.isRTL(Cn.floating)),Jn=Ln||(Zn||!Dn?[y$e(Sn)]:function(ms){const $s=y$e(ms);return[v$d(ms),$s,v$d($s)]}(Sn));Ln||Gn==="none"||Jn.push(...function(ms,$s,Ms,gs){const Ss=t$9(ms);let js=function(bs,Ts,xs){const zs=["left","right"],Bs=["right","left"],Js=["top","bottom"],tu=["bottom","top"];switch(bs){case"top":case"bottom":return xs?Ts?Bs:zs:Ts?zs:Bs;case"left":case"right":return Ts?Js:tu;default:return[]}}(n$b(ms),Ms==="start",gs);return Ss&&(js=js.map(bs=>bs+"-"+Ss),$s&&(js=js.concat(js.map(v$d)))),js}(Sn,Dn,Gn,Yn));const rs=[Sn,...Jn],us=await c$j(ln,Kn),as=[];let cs=((cn=pn.flip)==null?void 0:cn.overflows)||[];if(Pn&&as.push(us[qn]),Rn){const{main:ms,cross:$s}=x$k(dn,vn,Yn);as.push(us[ms],us[$s])}if(cs=[...cs,{placement:dn,overflows:as}],!as.every(ms=>ms<=0)){var _s,Es;const ms=(((_s=pn.flip)==null?void 0:_s.index)||0)+1,$s=rs[ms];if($s)return{data:{index:ms,overflows:cs},reset:{placement:$s}};let Ms=(Es=cs.filter(gs=>gs.overflows[0]<=0).sort((gs,Ss)=>gs.overflows[1]-Ss.overflows[1])[0])==null?void 0:Es.placement;if(!Ms)switch(Fn){case"bestFit":{var Qn;const gs=(Qn=cs.map(Ss=>[Ss.placement,Ss.overflows.filter(js=>js>0).reduce((js,bs)=>js+bs,0)]).sort((Ss,js)=>Ss[1]-js[1])[0])==null?void 0:Qn[0];gs&&(Ms=gs);break}case"initialPlacement":Ms=Sn}if(dn!==Ms)return{reset:{placement:Ms}}}return{}}}};function T$g(sn){const ln=f$8(...sn.map(dn=>dn.left)),cn=f$8(...sn.map(dn=>dn.top));return{x:ln,y:cn,width:m$d(...sn.map(dn=>dn.right))-ln,height:m$d(...sn.map(dn=>dn.bottom))-cn}}const D$d=function(sn){return sn===void 0&&(sn={}),{name:"inline",options:sn,async fn(ln){const{placement:cn,elements:dn,rects:pn,platform:vn,strategy:Sn}=ln,{padding:En=2,x:Cn,y:Pn}=a$c(sn,ln),Rn=Array.from(await(vn.getClientRects==null?void 0:vn.getClientRects(dn.reference))||[]),Ln=function(Kn){const qn=Kn.slice().sort((Jn,rs)=>Jn.y-rs.y),Zn=[];let Yn=null;for(let Jn=0;Jn<qn.length;Jn++){const rs=qn[Jn];!Yn||rs.y-Yn.y>Yn.height/2?Zn.push([rs]):Zn[Zn.length-1].push(rs),Yn=rs}return Zn.map(Jn=>s$e(T$g(Jn)))}(Rn),Fn=s$e(T$g(Rn)),Gn=l$9(En),Dn=await vn.getElementRects({reference:{getBoundingClientRect:function(){if(Ln.length===2&&Ln[0].left>Ln[1].right&&Cn!=null&&Pn!=null)return Ln.find(Kn=>Cn>Kn.left-Gn.left&&Cn<Kn.right+Gn.right&&Pn>Kn.top-Gn.top&&Pn<Kn.bottom+Gn.bottom)||Fn;if(Ln.length>=2){if(o$d(cn)==="x"){const us=Ln[0],as=Ln[Ln.length-1],cs=n$b(cn)==="top",_s=us.top,Es=as.bottom,Qn=cs?us.left:as.left,ms=cs?us.right:as.right;return{top:_s,bottom:Es,left:Qn,right:ms,width:ms-Qn,height:Es-_s,x:Qn,y:_s}}const Kn=n$b(cn)==="left",qn=m$d(...Ln.map(us=>us.right)),Zn=f$8(...Ln.map(us=>us.left)),Yn=Ln.filter(us=>Kn?us.left===Zn:us.right===qn),Jn=Yn[0].top,rs=Yn[Yn.length-1].bottom;return{top:Jn,bottom:rs,left:Zn,right:qn,width:qn-Zn,height:rs-Jn,x:Zn,y:Jn}}return Fn}},floating:dn.floating,strategy:Sn});return pn.reference.x!==Dn.reference.x||pn.reference.y!==Dn.reference.y||pn.reference.width!==Dn.reference.width||pn.reference.height!==Dn.reference.height?{reset:{rects:Dn}}:{}}}},L$e=function(sn){return sn===void 0&&(sn=0),{name:"offset",options:sn,async fn(ln){const{x:cn,y:dn}=ln,pn=await async function(vn,Sn){const{placement:En,platform:Cn,elements:Pn}=vn,Rn=await(Cn.isRTL==null?void 0:Cn.isRTL(Pn.floating)),Ln=n$b(En),Fn=t$9(En),Gn=o$d(En)==="x",Dn=["left","top"].includes(Ln)?-1:1,Kn=Rn&&Gn?-1:1,qn=a$c(Sn,vn);let{mainAxis:Zn,crossAxis:Yn,alignmentAxis:Jn}=typeof qn=="number"?{mainAxis:qn,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...qn};return Fn&&typeof Jn=="number"&&(Yn=Fn==="end"?-1*Jn:Jn),Gn?{x:Yn*Kn,y:Zn*Dn}:{x:Zn*Dn,y:Yn*Kn}}(ln,sn);return{x:cn+pn.x,y:dn+pn.y,data:pn}}}};function k$e(sn){return sn==="x"?"y":"x"}const O$e=function(sn){return sn===void 0&&(sn={}),{name:"shift",options:sn,async fn(ln){const{x:cn,y:dn,placement:pn}=ln,{mainAxis:vn=!0,crossAxis:Sn=!1,limiter:En={fn:qn=>{let{x:Zn,y:Yn}=qn;return{x:Zn,y:Yn}}},...Cn}=a$c(sn,ln),Pn={x:cn,y:dn},Rn=await c$j(ln,Cn),Ln=o$d(n$b(pn)),Fn=k$e(Ln);let Gn=Pn[Ln],Dn=Pn[Fn];if(vn){const qn=Ln==="y"?"bottom":"right";Gn=u$d(Gn+Rn[Ln==="y"?"top":"left"],Gn,Gn-Rn[qn])}if(Sn){const qn=Fn==="y"?"bottom":"right";Dn=u$d(Dn+Rn[Fn==="y"?"top":"left"],Dn,Dn-Rn[qn])}const Kn=En.fn({...ln,[Ln]:Gn,[Fn]:Dn});return{...Kn,data:{x:Kn.x-cn,y:Kn.y-dn}}}}},B$d=function(sn){return sn===void 0&&(sn={}),{options:sn,fn(ln){const{x:cn,y:dn,placement:pn,rects:vn,middlewareData:Sn}=ln,{offset:En=0,mainAxis:Cn=!0,crossAxis:Pn=!0}=a$c(sn,ln),Rn={x:cn,y:dn},Ln=o$d(pn),Fn=k$e(Ln);let Gn=Rn[Ln],Dn=Rn[Fn];const Kn=a$c(En,ln),qn=typeof Kn=="number"?{mainAxis:Kn,crossAxis:0}:{mainAxis:0,crossAxis:0,...Kn};if(Cn){const Jn=Ln==="y"?"height":"width",rs=vn.reference[Ln]-vn.floating[Jn]+qn.mainAxis,us=vn.reference[Ln]+vn.reference[Jn]-qn.mainAxis;Gn<rs?Gn=rs:Gn>us&&(Gn=us)}if(Pn){var Zn,Yn;const Jn=Ln==="y"?"width":"height",rs=["top","left"].includes(n$b(pn)),us=vn.reference[Fn]-vn.floating[Jn]+(rs&&((Zn=Sn.offset)==null?void 0:Zn[Fn])||0)+(rs?0:qn.crossAxis),as=vn.reference[Fn]+vn.reference[Jn]+(rs?0:((Yn=Sn.offset)==null?void 0:Yn[Fn])||0)-(rs?qn.crossAxis:0);Dn<us?Dn=us:Dn>as&&(Dn=as)}return{[Ln]:Gn,[Fn]:Dn}}}},C$c=function(sn){return sn===void 0&&(sn={}),{name:"size",options:sn,async fn(ln){const{placement:cn,rects:dn,platform:pn,elements:vn}=ln,{apply:Sn=()=>{},...En}=a$c(sn,ln),Cn=await c$j(ln,En),Pn=n$b(cn),Rn=t$9(cn),Ln=o$d(cn)==="x",{width:Fn,height:Gn}=dn.floating;let Dn,Kn;Pn==="top"||Pn==="bottom"?(Dn=Pn,Kn=Rn===(await(pn.isRTL==null?void 0:pn.isRTL(vn.floating))?"start":"end")?"left":"right"):(Kn=Pn,Dn=Rn==="end"?"top":"bottom");const qn=Gn-Cn[Dn],Zn=Fn-Cn[Kn],Yn=!ln.middlewareData.shift;let Jn=qn,rs=Zn;if(Ln){const as=Fn-Cn.left-Cn.right;rs=Rn||Yn?f$8(Zn,as):as}else{const as=Gn-Cn.top-Cn.bottom;Jn=Rn||Yn?f$8(qn,as):as}if(Yn&&!Rn){const as=m$d(Cn.left,0),cs=m$d(Cn.right,0),_s=m$d(Cn.top,0),Es=m$d(Cn.bottom,0);Ln?rs=Fn-2*(as!==0||cs!==0?as+cs:m$d(Cn.left,Cn.right)):Jn=Gn-2*(_s!==0||Es!==0?_s+Es:m$d(Cn.top,Cn.bottom))}await Sn({...ln,availableWidth:rs,availableHeight:Jn});const us=await pn.getDimensions(vn.floating);return Fn!==us.width||Gn!==us.height?{reset:{rects:!0}}:{}}}};function n$a(sn){var ln;return((ln=sn.ownerDocument)==null?void 0:ln.defaultView)||window}function o$c(sn){return n$a(sn).getComputedStyle(sn)}function i$e(sn){return sn instanceof n$a(sn).Node}function r$5(sn){return i$e(sn)?(sn.nodeName||"").toLowerCase():""}function l$8(sn){return sn instanceof n$a(sn).HTMLElement}function c$i(sn){return sn instanceof n$a(sn).Element}function s$d(sn){return typeof ShadowRoot>"u"?!1:sn instanceof n$a(sn).ShadowRoot||sn instanceof ShadowRoot}function f$7(sn){const{overflow:ln,overflowX:cn,overflowY:dn,display:pn}=o$c(sn);return/auto|scroll|overlay|hidden|clip/.test(ln+dn+cn)&&!["inline","contents"].includes(pn)}function u$c(sn){return["table","td","th"].includes(r$5(sn))}function a$b(sn){const ln=d$h(),cn=o$c(sn);return cn.transform!=="none"||cn.perspective!=="none"||!ln&&!!cn.backdropFilter&&cn.backdropFilter!=="none"||!ln&&!!cn.filter&&cn.filter!=="none"||["transform","perspective","filter"].some(dn=>(cn.willChange||"").includes(dn))||["paint","layout","strict","content"].some(dn=>(cn.contain||"").includes(dn))}function d$h(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function h$c(sn){return["html","body","#document"].includes(r$5(sn))}const p$9=Math.min,m$c=Math.max,g$a=Math.round;function y$d(sn){const ln=o$c(sn);let cn=parseFloat(ln.width)||0,dn=parseFloat(ln.height)||0;const pn=l$8(sn),vn=pn?sn.offsetWidth:cn,Sn=pn?sn.offsetHeight:dn,En=g$a(cn)!==vn||g$a(dn)!==Sn;return En&&(cn=vn,dn=Sn),{width:cn,height:dn,fallback:En}}function x$j(sn){return c$i(sn)?sn:sn.contextElement}const w$e={x:1,y:1};function v$c(sn){const ln=x$j(sn);if(!l$8(ln))return w$e;const cn=ln.getBoundingClientRect(),{width:dn,height:pn,fallback:vn}=y$d(ln);let Sn=(vn?g$a(cn.width):cn.width)/dn,En=(vn?g$a(cn.height):cn.height)/pn;return Sn&&Number.isFinite(Sn)||(Sn=1),En&&Number.isFinite(En)||(En=1),{x:Sn,y:En}}const b$f={x:0,y:0};function L$d(sn,ln,cn){var dn,pn;if(ln===void 0&&(ln=!0),!d$h())return b$f;const vn=sn?n$a(sn):window;return!cn||ln&&cn!==vn?b$f:{x:((dn=vn.visualViewport)==null?void 0:dn.offsetLeft)||0,y:((pn=vn.visualViewport)==null?void 0:pn.offsetTop)||0}}function E$g(sn,ln,cn,dn){ln===void 0&&(ln=!1),cn===void 0&&(cn=!1);const pn=sn.getBoundingClientRect(),vn=x$j(sn);let Sn=w$e;ln&&(dn?c$i(dn)&&(Sn=v$c(dn)):Sn=v$c(sn));const En=L$d(vn,cn,dn);let Cn=(pn.left+En.x)/Sn.x,Pn=(pn.top+En.y)/Sn.y,Rn=pn.width/Sn.x,Ln=pn.height/Sn.y;if(vn){const Fn=n$a(vn),Gn=dn&&c$i(dn)?n$a(dn):dn;let Dn=Fn.frameElement;for(;Dn&&dn&&Gn!==Fn;){const Kn=v$c(Dn),qn=Dn.getBoundingClientRect(),Zn=getComputedStyle(Dn);qn.x+=(Dn.clientLeft+parseFloat(Zn.paddingLeft))*Kn.x,qn.y+=(Dn.clientTop+parseFloat(Zn.paddingTop))*Kn.y,Cn*=Kn.x,Pn*=Kn.y,Rn*=Kn.x,Ln*=Kn.y,Cn+=qn.x,Pn+=qn.y,Dn=n$a(Dn).frameElement}}return s$e({width:Rn,height:Ln,x:Cn,y:Pn})}function R$c(sn){return((i$e(sn)?sn.ownerDocument:sn.document)||window.document).documentElement}function T$f(sn){return c$i(sn)?{scrollLeft:sn.scrollLeft,scrollTop:sn.scrollTop}:{scrollLeft:sn.pageXOffset,scrollTop:sn.pageYOffset}}function S$d(sn){return E$g(R$c(sn)).left+T$f(sn).scrollLeft}function C$b(sn){if(r$5(sn)==="html")return sn;const ln=sn.assignedSlot||sn.parentNode||s$d(sn)&&sn.host||R$c(sn);return s$d(ln)?ln.host:ln}function F$f(sn){const ln=C$b(sn);return h$c(ln)?ln.ownerDocument.body:l$8(ln)&&f$7(ln)?ln:F$f(ln)}function W$c(sn,ln){var cn;ln===void 0&&(ln=[]);const dn=F$f(sn),pn=dn===((cn=sn.ownerDocument)==null?void 0:cn.body),vn=n$a(dn);return pn?ln.concat(vn,vn.visualViewport||[],f$7(dn)?dn:[]):ln.concat(dn,W$c(dn))}function D$c(sn,ln,cn){let dn;if(ln==="viewport")dn=function(pn,vn){const Sn=n$a(pn),En=R$c(pn),Cn=Sn.visualViewport;let Pn=En.clientWidth,Rn=En.clientHeight,Ln=0,Fn=0;if(Cn){Pn=Cn.width,Rn=Cn.height;const Gn=d$h();(!Gn||Gn&&vn==="fixed")&&(Ln=Cn.offsetLeft,Fn=Cn.offsetTop)}return{width:Pn,height:Rn,x:Ln,y:Fn}}(sn,cn);else if(ln==="document")dn=function(pn){const vn=R$c(pn),Sn=T$f(pn),En=pn.ownerDocument.body,Cn=m$c(vn.scrollWidth,vn.clientWidth,En.scrollWidth,En.clientWidth),Pn=m$c(vn.scrollHeight,vn.clientHeight,En.scrollHeight,En.clientHeight);let Rn=-Sn.scrollLeft+S$d(pn);const Ln=-Sn.scrollTop;return o$c(En).direction==="rtl"&&(Rn+=m$c(vn.clientWidth,En.clientWidth)-Cn),{width:Cn,height:Pn,x:Rn,y:Ln}}(R$c(sn));else if(c$i(ln))dn=function(pn,vn){const Sn=E$g(pn,!0,vn==="fixed"),En=Sn.top+pn.clientTop,Cn=Sn.left+pn.clientLeft,Pn=l$8(pn)?v$c(pn):{x:1,y:1};return{width:pn.clientWidth*Pn.x,height:pn.clientHeight*Pn.y,x:Cn*Pn.x,y:En*Pn.y}}(ln,cn);else{const pn=L$d(sn);dn={...ln,x:ln.x-pn.x,y:ln.y-pn.y}}return s$e(dn)}function H$f(sn,ln){const cn=C$b(sn);return!(cn===ln||!c$i(cn)||h$c(cn))&&(o$c(cn).position==="fixed"||H$f(cn,ln))}function O$d(sn,ln){return l$8(sn)&&o$c(sn).position!=="fixed"?ln?ln(sn):sn.offsetParent:null}function P$9(sn,ln){const cn=n$a(sn);if(!l$8(sn))return cn;let dn=O$d(sn,ln);for(;dn&&u$c(dn)&&o$c(dn).position==="static";)dn=O$d(dn,ln);return dn&&(r$5(dn)==="html"||r$5(dn)==="body"&&o$c(dn).position==="static"&&!a$b(dn))?cn:dn||function(pn){let vn=C$b(pn);for(;l$8(vn)&&!h$c(vn);){if(a$b(vn))return vn;vn=C$b(vn)}return null}(sn)||cn}function V$8(sn,ln,cn){const dn=l$8(ln),pn=R$c(ln),vn=cn==="fixed",Sn=E$g(sn,!0,vn,ln);let En={scrollLeft:0,scrollTop:0};const Cn={x:0,y:0};if(dn||!dn&&!vn)if((r$5(ln)!=="body"||f$7(pn))&&(En=T$f(ln)),l$8(ln)){const Pn=E$g(ln,!0,vn,ln);Cn.x=Pn.x+ln.clientLeft,Cn.y=Pn.y+ln.clientTop}else pn&&(Cn.x=S$d(pn));return{x:Sn.left+En.scrollLeft-Cn.x,y:Sn.top+En.scrollTop-Cn.y,width:Sn.width,height:Sn.height}}const k$d={getClippingRect:function(sn){let{element:ln,boundary:cn,rootBoundary:dn,strategy:pn}=sn;const vn=cn==="clippingAncestors"?function(Pn,Rn){const Ln=Rn.get(Pn);if(Ln)return Ln;let Fn=W$c(Pn).filter(qn=>c$i(qn)&&r$5(qn)!=="body"),Gn=null;const Dn=o$c(Pn).position==="fixed";let Kn=Dn?C$b(Pn):Pn;for(;c$i(Kn)&&!h$c(Kn);){const qn=o$c(Kn),Zn=a$b(Kn);Zn||qn.position!=="fixed"||(Gn=null),(Dn?!Zn&&!Gn:!Zn&&qn.position==="static"&&Gn&&["absolute","fixed"].includes(Gn.position)||f$7(Kn)&&!Zn&&H$f(Pn,Kn))?Fn=Fn.filter(Yn=>Yn!==Kn):Gn=qn,Kn=C$b(Kn)}return Rn.set(Pn,Fn),Fn}(ln,this._c):[].concat(cn),Sn=[...vn,dn],En=Sn[0],Cn=Sn.reduce((Pn,Rn)=>{const Ln=D$c(ln,Rn,pn);return Pn.top=m$c(Ln.top,Pn.top),Pn.right=p$9(Ln.right,Pn.right),Pn.bottom=p$9(Ln.bottom,Pn.bottom),Pn.left=m$c(Ln.left,Pn.left),Pn},D$c(ln,En,pn));return{width:Cn.right-Cn.left,height:Cn.bottom-Cn.top,x:Cn.left,y:Cn.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(sn){let{rect:ln,offsetParent:cn,strategy:dn}=sn;const pn=l$8(cn),vn=R$c(cn);if(cn===vn)return ln;let Sn={scrollLeft:0,scrollTop:0},En={x:1,y:1};const Cn={x:0,y:0};if((pn||!pn&&dn!=="fixed")&&((r$5(cn)!=="body"||f$7(vn))&&(Sn=T$f(cn)),l$8(cn))){const Pn=E$g(cn);En=v$c(cn),Cn.x=Pn.x+cn.clientLeft,Cn.y=Pn.y+cn.clientTop}return{width:ln.width*En.x,height:ln.height*En.y,x:ln.x*En.x-Sn.scrollLeft*En.x+Cn.x,y:ln.y*En.y-Sn.scrollTop*En.y+Cn.y}},isElement:c$i,getDimensions:function(sn){return y$d(sn)},getOffsetParent:P$9,getDocumentElement:R$c,getScale:v$c,async getElementRects(sn){let{reference:ln,floating:cn,strategy:dn}=sn;const pn=this.getOffsetParent||P$9,vn=this.getDimensions;return{reference:V$8(ln,await pn(cn),dn),floating:{x:0,y:0,...await vn(cn)}}},getClientRects:sn=>Array.from(sn.getClientRects()),isRTL:sn=>o$c(sn).direction==="rtl"};function z$b(sn,ln,cn,dn){dn===void 0&&(dn={});const{ancestorScroll:pn=!0,ancestorResize:vn=!0,elementResize:Sn=!0,animationFrame:En=!1}=dn,Cn=pn||vn?[...c$i(sn)?W$c(sn):sn.contextElement?W$c(sn.contextElement):[],...W$c(ln)]:[];Cn.forEach(Fn=>{const Gn=!c$i(Fn)&&Fn.toString().includes("V");!pn||En&&!Gn||Fn.addEventListener("scroll",cn,{passive:!0}),vn&&Fn.addEventListener("resize",cn)});let Pn,Rn=null;Sn&&(Rn=new ResizeObserver(()=>{cn()}),c$i(sn)&&!En&&Rn.observe(sn),c$i(sn)||!sn.contextElement||En||Rn.observe(sn.contextElement),Rn.observe(ln));let Ln=En?E$g(sn):null;return En&&function Fn(){const Gn=E$g(sn);!Ln||Gn.x===Ln.x&&Gn.y===Ln.y&&Gn.width===Ln.width&&Gn.height===Ln.height||cn(),Ln=Gn,Pn=requestAnimationFrame(Fn)}(),cn(),()=>{var Fn;Cn.forEach(Gn=>{pn&&Gn.removeEventListener("scroll",cn),vn&&Gn.removeEventListener("resize",cn)}),(Fn=Rn)==null||Fn.disconnect(),Rn=null,En&&cancelAnimationFrame(Pn)}}const M$c=(sn,ln,cn)=>{const dn=new Map,pn={platform:k$d,...cn},vn={...pn.platform,_c:dn};return r$6(sn,ln,{...pn,platform:vn})},arrow=sn=>{const{element:ln,padding:cn}=sn;function dn(pn){return Object.prototype.hasOwnProperty.call(pn,"current")}return{name:"arrow",options:sn,fn(pn){return dn(ln)?ln.current!=null?g$b({element:ln.current,padding:cn}).fn(pn):{}:ln?g$b({element:ln,padding:cn}).fn(pn):{}}}};var index$4=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(sn,ln){if(sn===ln)return!0;if(typeof sn!=typeof ln)return!1;if(typeof sn=="function"&&sn.toString()===ln.toString())return!0;let cn,dn,pn;if(sn&&ln&&typeof sn=="object"){if(Array.isArray(sn)){if(cn=sn.length,cn!=ln.length)return!1;for(dn=cn;dn--!==0;)if(!deepEqual(sn[dn],ln[dn]))return!1;return!0}if(pn=Object.keys(sn),cn=pn.length,cn!==Object.keys(ln).length)return!1;for(dn=cn;dn--!==0;)if(!Object.prototype.hasOwnProperty.call(ln,pn[dn]))return!1;for(dn=cn;dn--!==0;){const vn=pn[dn];if(!(vn==="_owner"&&sn.$$typeof)&&!deepEqual(sn[vn],ln[vn]))return!1}return!0}return sn!==sn&&ln!==ln}function useLatestRef$1(sn){const ln=reactExports.useRef(sn);return index$4(()=>{ln.current=sn}),ln}function useFloating$1(sn){sn===void 0&&(sn={});const{placement:ln="bottom",strategy:cn="absolute",middleware:dn=[],platform:pn,whileElementsMounted:vn,open:Sn}=sn,[En,Cn]=reactExports.useState({x:null,y:null,strategy:cn,placement:ln,middlewareData:{},isPositioned:!1}),[Pn,Rn]=reactExports.useState(dn);deepEqual(Pn,dn)||Rn(dn);const Ln=reactExports.useRef(null),Fn=reactExports.useRef(null),Gn=reactExports.useRef(En),Dn=useLatestRef$1(vn),Kn=useLatestRef$1(pn),[qn,Zn]=reactExports.useState(null),[Yn,Jn]=reactExports.useState(null),rs=reactExports.useCallback(Qn=>{Ln.current!==Qn&&(Ln.current=Qn,Zn(Qn))},[]),us=reactExports.useCallback(Qn=>{Fn.current!==Qn&&(Fn.current=Qn,Jn(Qn))},[]),as=reactExports.useCallback(()=>{if(!Ln.current||!Fn.current)return;const Qn={placement:ln,strategy:cn,middleware:Pn};Kn.current&&(Qn.platform=Kn.current),M$c(Ln.current,Fn.current,Qn).then(ms=>{const $s={...ms,isPositioned:!0};cs.current&&!deepEqual(Gn.current,$s)&&(Gn.current=$s,reactDomExports.flushSync(()=>{Cn($s)}))})},[Pn,ln,cn,Kn]);index$4(()=>{Sn===!1&&Gn.current.isPositioned&&(Gn.current.isPositioned=!1,Cn(Qn=>({...Qn,isPositioned:!1})))},[Sn]);const cs=reactExports.useRef(!1);index$4(()=>(cs.current=!0,()=>{cs.current=!1}),[]),index$4(()=>{if(qn&&Yn){if(Dn.current)return Dn.current(qn,Yn,as);as()}},[qn,Yn,as,Dn]);const _s=reactExports.useMemo(()=>({reference:Ln,floating:Fn,setReference:rs,setFloating:us}),[rs,us]),Es=reactExports.useMemo(()=>({reference:qn,floating:Yn}),[qn,Yn]);return reactExports.useMemo(()=>({...En,update:as,refs:_s,elements:Es,reference:rs,floating:us}),[En,as,_s,Es,rs,us])}var index$3=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;let serverHandoffComplete=!1,count=0;const genId=()=>"floating-ui-"+count++;function useFloatingId(){const[sn,ln]=reactExports.useState(()=>serverHandoffComplete?genId():void 0);return index$3(()=>{sn==null&&ln(genId())},[]),reactExports.useEffect(()=>{serverHandoffComplete||(serverHandoffComplete=!0)},[]),sn}const useReactId=React["useId".toString()],useId=useReactId||useFloatingId;function createPubSub(){const sn=new Map;return{emit(ln,cn){var dn;(dn=sn.get(ln))==null||dn.forEach(pn=>pn(cn))},on(ln,cn){sn.set(ln,[...sn.get(ln)||[],cn])},off(ln,cn){sn.set(ln,(sn.get(ln)||[]).filter(dn=>dn!==cn))}}}const FloatingNodeContext=reactExports.createContext(null),FloatingTreeContext=reactExports.createContext(null),useFloatingParentNodeId=()=>{var sn;return((sn=reactExports.useContext(FloatingNodeContext))==null?void 0:sn.id)||null},useFloatingTree=()=>reactExports.useContext(FloatingTreeContext);function getDocument(sn){return(sn==null?void 0:sn.ownerDocument)||document}function getPlatform(){const sn=navigator.userAgentData;return sn!=null&&sn.platform?sn.platform:navigator.platform}function getUserAgent(){const sn=navigator.userAgentData;return sn&&Array.isArray(sn.brands)?sn.brands.map(ln=>{let{brand:cn,version:dn}=ln;return cn+"/"+dn}).join(" "):navigator.userAgent}function getWindow(sn){return getDocument(sn).defaultView||window}function isElement(sn){return sn?sn instanceof getWindow(sn).Element:!1}function isHTMLElement(sn){return sn?sn instanceof getWindow(sn).HTMLElement:!1}function isShadowRoot(sn){if(typeof ShadowRoot>"u")return!1;const ln=getWindow(sn).ShadowRoot;return sn instanceof ln||sn instanceof ShadowRoot}function isVirtualClick(sn){if(sn.mozInputSource===0&&sn.isTrusted)return!0;const ln=/Android/i;return(ln.test(getPlatform())||ln.test(getUserAgent()))&&sn.pointerType?sn.type==="click"&&sn.buttons===1:sn.detail===0&&!sn.pointerType}function isVirtualPointerEvent(sn){return sn.width===0&&sn.height===0||sn.width===1&&sn.height===1&&sn.pressure===0&&sn.detail===0&&sn.pointerType!=="mouse"||sn.width<1&&sn.height<1&&sn.pressure===0&&sn.detail===0}function isMouseLikePointerType(sn,ln){const cn=["mouse","pen"];return ln||cn.push("",void 0),cn.includes(sn)}function useLatestRef(sn){const ln=reactExports.useRef(sn);return index$3(()=>{ln.current=sn}),ln}const safePolygonIdentifier="data-floating-ui-safe-polygon";function getDelay(sn,ln,cn){return cn&&!isMouseLikePointerType(cn)?0:typeof sn=="number"?sn:sn==null?void 0:sn[ln]}const useHover=function(sn,ln){let{enabled:cn=!0,delay:dn=0,handleClose:pn=null,mouseOnly:vn=!1,restMs:Sn=0,move:En=!0}=ln===void 0?{}:ln;const{open:Cn,onOpenChange:Pn,dataRef:Rn,events:Ln,elements:{domReference:Fn,floating:Gn},refs:Dn}=sn,Kn=useFloatingTree(),qn=useFloatingParentNodeId(),Zn=useLatestRef(pn),Yn=useLatestRef(dn),Jn=reactExports.useRef(),rs=reactExports.useRef(),us=reactExports.useRef(),as=reactExports.useRef(),cs=reactExports.useRef(!0),_s=reactExports.useRef(!1),Es=reactExports.useRef(()=>{}),Qn=reactExports.useCallback(()=>{var gs;const Ss=(gs=Rn.current.openEvent)==null?void 0:gs.type;return(Ss==null?void 0:Ss.includes("mouse"))&&Ss!=="mousedown"},[Rn]);reactExports.useEffect(()=>{if(!cn)return;function gs(){clearTimeout(rs.current),clearTimeout(as.current),cs.current=!0}return Ln.on("dismiss",gs),()=>{Ln.off("dismiss",gs)}},[cn,Ln]),reactExports.useEffect(()=>{if(!cn||!Zn.current||!Cn)return;function gs(){Qn()&&Pn(!1)}const Ss=getDocument(Gn).documentElement;return Ss.addEventListener("mouseleave",gs),()=>{Ss.removeEventListener("mouseleave",gs)}},[Gn,Cn,Pn,cn,Zn,Rn,Qn]);const ms=reactExports.useCallback(function(gs){gs===void 0&&(gs=!0);const Ss=getDelay(Yn.current,"close",Jn.current);Ss&&!us.current?(clearTimeout(rs.current),rs.current=setTimeout(()=>Pn(!1),Ss)):gs&&(clearTimeout(rs.current),Pn(!1))},[Yn,Pn]),$s=reactExports.useCallback(()=>{Es.current(),us.current=void 0},[]),Ms=reactExports.useCallback(()=>{if(_s.current){const gs=getDocument(Dn.floating.current).body;gs.style.pointerEvents="",gs.removeAttribute(safePolygonIdentifier),_s.current=!1}},[Dn]);return reactExports.useEffect(()=>{if(!cn)return;function gs(){return Rn.current.openEvent?["click","mousedown"].includes(Rn.current.openEvent.type):!1}function Ss(Ts){if(clearTimeout(rs.current),cs.current=!1,vn&&!isMouseLikePointerType(Jn.current)||Sn>0&&getDelay(Yn.current,"open")===0)return;Rn.current.openEvent=Ts;const xs=getDelay(Yn.current,"open",Jn.current);xs?rs.current=setTimeout(()=>{Pn(!0)},xs):Pn(!0)}function js(Ts){if(gs())return;Es.current();const xs=getDocument(Gn);if(clearTimeout(as.current),Zn.current){Cn||clearTimeout(rs.current),us.current=Zn.current({...sn,tree:Kn,x:Ts.clientX,y:Ts.clientY,onClose(){Ms(),$s(),ms()}});const zs=us.current;xs.addEventListener("mousemove",zs),Es.current=()=>{xs.removeEventListener("mousemove",zs)};return}ms()}function bs(Ts){gs()||Zn.current==null||Zn.current({...sn,tree:Kn,x:Ts.clientX,y:Ts.clientY,onClose(){Ms(),$s(),ms()}})(Ts)}if(isElement(Fn)){const Ts=Fn;return Cn&&Ts.addEventListener("mouseleave",bs),Gn==null||Gn.addEventListener("mouseleave",bs),En&&Ts.addEventListener("mousemove",Ss,{once:!0}),Ts.addEventListener("mouseenter",Ss),Ts.addEventListener("mouseleave",js),()=>{Cn&&Ts.removeEventListener("mouseleave",bs),Gn==null||Gn.removeEventListener("mouseleave",bs),En&&Ts.removeEventListener("mousemove",Ss),Ts.removeEventListener("mouseenter",Ss),Ts.removeEventListener("mouseleave",js)}}},[Fn,Gn,cn,sn,vn,Sn,En,ms,$s,Ms,Pn,Cn,Kn,Yn,Zn,Rn]),index$3(()=>{var gs;if(cn&&Cn&&(gs=Zn.current)!=null&&gs.__options.blockPointerEvents&&Qn()){const bs=getDocument(Gn).body;if(bs.setAttribute(safePolygonIdentifier,""),bs.style.pointerEvents="none",_s.current=!0,isElement(Fn)&&Gn){var Ss,js;const Ts=Fn,xs=Kn==null||(Ss=Kn.nodesRef.current.find(zs=>zs.id===qn))==null||(js=Ss.context)==null?void 0:js.elements.floating;return xs&&(xs.style.pointerEvents=""),Ts.style.pointerEvents="auto",Gn.style.pointerEvents="auto",()=>{Ts.style.pointerEvents="",Gn.style.pointerEvents=""}}}},[cn,Cn,qn,Gn,Fn,Kn,Zn,Rn,Qn]),index$3(()=>{Cn||(Jn.current=void 0,$s(),Ms())},[Cn,$s,Ms]),reactExports.useEffect(()=>()=>{$s(),clearTimeout(rs.current),clearTimeout(as.current),Ms()},[cn,$s,Ms]),reactExports.useMemo(()=>{if(!cn)return{};function gs(Ss){Jn.current=Ss.pointerType}return{reference:{onPointerDown:gs,onPointerEnter:gs,onMouseMove(){Cn||Sn===0||(clearTimeout(as.current),as.current=setTimeout(()=>{cs.current||Pn(!0)},Sn))}},floating:{onMouseEnter(){clearTimeout(rs.current)},onMouseLeave(){Ln.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),ms(!1)}}}},[Ln,cn,Sn,Cn,Pn,ms])},FloatingDelayGroupContext=reactExports.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:()=>{},setState:()=>{},isInstantPhase:!1}),useDelayGroupContext=()=>reactExports.useContext(FloatingDelayGroupContext),FloatingDelayGroup=sn=>{let{children:ln,delay:cn,timeoutMs:dn=0}=sn;const[pn,vn]=reactExports.useReducer((Cn,Pn)=>({...Cn,...Pn}),{delay:cn,timeoutMs:dn,initialDelay:cn,currentId:null,isInstantPhase:!1}),Sn=reactExports.useRef(null),En=reactExports.useCallback(Cn=>{vn({currentId:Cn})},[]);return index$3(()=>{pn.currentId?Sn.current===null?Sn.current=pn.currentId:vn({isInstantPhase:!0}):(vn({isInstantPhase:!1}),Sn.current=null)},[pn.currentId]),jsx$1(FloatingDelayGroupContext.Provider,{value:reactExports.useMemo(()=>({...pn,setState:vn,setCurrentId:En}),[pn,vn,En]),children:ln})},useDelayGroup=(sn,ln)=>{let{open:cn,onOpenChange:dn}=sn,{id:pn}=ln;const{currentId:vn,setCurrentId:Sn,initialDelay:En,setState:Cn,timeoutMs:Pn}=useDelayGroupContext();reactExports.useEffect(()=>{vn&&(Cn({delay:{open:1,close:getDelay(En,"close")}}),vn!==pn&&dn(!1))},[pn,dn,Cn,vn,En]),reactExports.useEffect(()=>{function Rn(){dn(!1),Cn({delay:En,currentId:null})}if(!cn&&vn===pn)if(Pn){const Ln=window.setTimeout(Rn,Pn);return()=>{clearTimeout(Ln)}}else Rn()},[cn,Cn,vn,pn,dn,En,Pn]),reactExports.useEffect(()=>{cn&&Sn(pn)},[cn,Sn,pn])};function activeElement$1(sn){let ln=sn.activeElement;for(;((cn=ln)==null||(dn=cn.shadowRoot)==null?void 0:dn.activeElement)!=null;){var cn,dn;ln=ln.shadowRoot.activeElement}return ln}function contains(sn,ln){if(!sn||!ln)return!1;const cn=ln.getRootNode&&ln.getRootNode();if(sn.contains(ln))return!0;if(cn&&isShadowRoot(cn)){let dn=ln;do{if(dn&&sn===dn)return!0;dn=dn.parentNode||dn.host}while(dn)}return!1}function getChildren(sn,ln){let cn=sn.filter(pn=>{var vn;return pn.parentId===ln&&((vn=pn.context)==null?void 0:vn.open)})||[],dn=cn;for(;dn.length;)dn=sn.filter(pn=>{var vn;return(vn=dn)==null?void 0:vn.some(Sn=>{var En;return pn.parentId===Sn.id&&((En=pn.context)==null?void 0:En.open)})})||[],cn=cn.concat(dn);return cn}function getTarget(sn){return"composedPath"in sn?sn.composedPath()[0]:sn.target}const useInsertionEffect=React["useInsertionEffect".toString()],useSafeInsertionEffect=useInsertionEffect||(sn=>sn());function useEvent(sn){const ln=reactExports.useRef(()=>{});return useSafeInsertionEffect(()=>{ln.current=sn}),reactExports.useCallback(function(){for(var cn=arguments.length,dn=new Array(cn),pn=0;pn<cn;pn++)dn[pn]=arguments[pn];return ln.current==null?void 0:ln.current(...dn)},[])}function isEventTargetWithin(sn,ln){if(ln==null)return!1;if("composedPath"in sn)return sn.composedPath().includes(ln);const cn=sn;return cn.target!=null&&ln.contains(cn.target)}const bubbleHandlerKeys={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},captureHandlerKeys={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},normalizeBubblesProp=function(sn){var ln,cn;return sn===void 0&&(sn=!0),{escapeKeyBubbles:typeof sn=="boolean"?sn:(ln=sn.escapeKey)!=null?ln:!0,outsidePressBubbles:typeof sn=="boolean"?sn:(cn=sn.outsidePress)!=null?cn:!0}},useDismiss=function(sn,ln){let{open:cn,onOpenChange:dn,events:pn,nodeId:vn,elements:{reference:Sn,domReference:En,floating:Cn},dataRef:Pn}=sn,{enabled:Rn=!0,escapeKey:Ln=!0,outsidePress:Fn=!0,outsidePressEvent:Gn="pointerdown",referencePress:Dn=!1,referencePressEvent:Kn="pointerdown",ancestorScroll:qn=!1,bubbles:Zn=!0}=ln===void 0?{}:ln;const Yn=useFloatingTree(),Jn=useFloatingParentNodeId()!=null,rs=useEvent(typeof Fn=="function"?Fn:()=>!1),us=typeof Fn=="function"?rs:Fn,as=reactExports.useRef(!1),{escapeKeyBubbles:cs,outsidePressBubbles:_s}=normalizeBubblesProp(Zn);return reactExports.useEffect(()=>{if(!cn||!Rn)return;Pn.current.__escapeKeyBubbles=cs,Pn.current.__outsidePressBubbles=_s;function Es(gs){if(gs.key==="Escape"){const Ss=Yn?getChildren(Yn.nodesRef.current,vn):[];if(Ss.length>0){let js=!0;if(Ss.forEach(bs=>{var Ts;if((Ts=bs.context)!=null&&Ts.open&&!bs.context.dataRef.current.__escapeKeyBubbles){js=!1;return}}),!js)return}pn.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),dn(!1)}}function Qn(gs){const Ss=as.current;if(as.current=!1,Ss||typeof us=="function"&&!us(gs))return;const js=getTarget(gs);if(isHTMLElement(js)&&Cn){const xs=Cn.ownerDocument.defaultView||window,zs=js.scrollWidth>js.clientWidth,Bs=js.scrollHeight>js.clientHeight;let Js=Bs&&gs.offsetX>js.clientWidth;if(Bs&&xs.getComputedStyle(js).direction==="rtl"&&(Js=gs.offsetX<=js.offsetWidth-js.clientWidth),Js||zs&&gs.offsetY>js.clientHeight)return}const bs=Yn&&getChildren(Yn.nodesRef.current,vn).some(xs=>{var zs;return isEventTargetWithin(gs,(zs=xs.context)==null?void 0:zs.elements.floating)});if(isEventTargetWithin(gs,Cn)||isEventTargetWithin(gs,En)||bs)return;const Ts=Yn?getChildren(Yn.nodesRef.current,vn):[];if(Ts.length>0){let xs=!0;if(Ts.forEach(zs=>{var Bs;if((Bs=zs.context)!=null&&Bs.open&&!zs.context.dataRef.current.__outsidePressBubbles){xs=!1;return}}),!xs)return}pn.emit("dismiss",{type:"outsidePress",data:{returnFocus:Jn?{preventScroll:!0}:isVirtualClick(gs)||isVirtualPointerEvent(gs)}}),dn(!1)}function ms(){dn(!1)}const $s=getDocument(Cn);Ln&&$s.addEventListener("keydown",Es),us&&$s.addEventListener(Gn,Qn);let Ms=[];return qn&&(isElement(En)&&(Ms=W$c(En)),isElement(Cn)&&(Ms=Ms.concat(W$c(Cn))),!isElement(Sn)&&Sn&&Sn.contextElement&&(Ms=Ms.concat(W$c(Sn.contextElement)))),Ms=Ms.filter(gs=>{var Ss;return gs!==((Ss=$s.defaultView)==null?void 0:Ss.visualViewport)}),Ms.forEach(gs=>{gs.addEventListener("scroll",ms,{passive:!0})}),()=>{Ln&&$s.removeEventListener("keydown",Es),us&&$s.removeEventListener(Gn,Qn),Ms.forEach(gs=>{gs.removeEventListener("scroll",ms)})}},[Pn,Cn,En,Sn,Ln,us,Gn,pn,Yn,vn,cn,dn,qn,Rn,cs,_s,Jn]),reactExports.useEffect(()=>{as.current=!1},[us,Gn]),reactExports.useMemo(()=>Rn?{reference:{[bubbleHandlerKeys[Kn]]:()=>{Dn&&(pn.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),dn(!1))}},floating:{[captureHandlerKeys[Gn]]:()=>{as.current=!0}}}:{},[Rn,pn,Dn,Gn,Kn,dn])},useFocus=function(sn,ln){let{open:cn,onOpenChange:dn,dataRef:pn,events:vn,refs:Sn,elements:{floating:En,domReference:Cn}}=sn,{enabled:Pn=!0,keyboardOnly:Rn=!0}=ln===void 0?{}:ln;const Ln=reactExports.useRef(""),Fn=reactExports.useRef(!1),Gn=reactExports.useRef();return reactExports.useEffect(()=>{if(!Pn)return;const Kn=getDocument(En).defaultView||window;function qn(){!cn&&isHTMLElement(Cn)&&Cn===activeElement$1(getDocument(Cn))&&(Fn.current=!0)}return Kn.addEventListener("blur",qn),()=>{Kn.removeEventListener("blur",qn)}},[En,Cn,cn,Pn]),reactExports.useEffect(()=>{if(!Pn)return;function Dn(Kn){(Kn.type==="referencePress"||Kn.type==="escapeKey")&&(Fn.current=!0)}return vn.on("dismiss",Dn),()=>{vn.off("dismiss",Dn)}},[vn,Pn]),reactExports.useEffect(()=>()=>{clearTimeout(Gn.current)},[]),reactExports.useMemo(()=>Pn?{reference:{onPointerDown(Dn){let{pointerType:Kn}=Dn;Ln.current=Kn,Fn.current=!!(Kn&&Rn)},onMouseLeave(){Fn.current=!1},onFocus(Dn){var Kn;Fn.current||Dn.type==="focus"&&((Kn=pn.current.openEvent)==null?void 0:Kn.type)==="mousedown"&&pn.current.openEvent&&isEventTargetWithin(pn.current.openEvent,Cn)||(pn.current.openEvent=Dn.nativeEvent,dn(!0))},onBlur(Dn){Fn.current=!1;const Kn=Dn.relatedTarget,qn=isElement(Kn)&&Kn.hasAttribute("data-floating-ui-focus-guard")&&Kn.getAttribute("data-type")==="outside";Gn.current=setTimeout(()=>{contains(Sn.floating.current,Kn)||contains(Cn,Kn)||qn||dn(!1)})}}}:{},[Pn,Rn,Cn,Sn,pn,dn])},useRole=function(sn,ln){let{open:cn}=sn,{enabled:dn=!0,role:pn="dialog"}=ln===void 0?{}:ln;const vn=useId(),Sn=useId();return reactExports.useMemo(()=>{const En={id:vn,role:pn};return dn?pn==="tooltip"?{reference:{"aria-describedby":cn?vn:void 0},floating:En}:{reference:{"aria-expanded":cn?"true":"false","aria-haspopup":pn==="alertdialog"?"dialog":pn,"aria-controls":cn?vn:void 0,...pn==="listbox"&&{role:"combobox"},...pn==="menu"&&{id:Sn}},floating:{...En,...pn==="menu"&&{"aria-labelledby":Sn}}}:{}},[dn,pn,cn,vn,Sn])};function useFloating(sn){sn===void 0&&(sn={});const{open:ln=!1,onOpenChange:cn,nodeId:dn}=sn,pn=useFloating$1(sn),vn=useFloatingTree(),Sn=reactExports.useRef(null),En=reactExports.useRef({}),Cn=reactExports.useState(()=>createPubSub())[0],[Pn,Rn]=reactExports.useState(null),Ln=reactExports.useCallback(Zn=>{const Yn=isElement(Zn)?{getBoundingClientRect:()=>Zn.getBoundingClientRect(),contextElement:Zn}:Zn;pn.refs.setReference(Yn)},[pn.refs]),Fn=reactExports.useCallback(Zn=>{(isElement(Zn)||Zn===null)&&(Sn.current=Zn,Rn(Zn)),(isElement(pn.refs.reference.current)||pn.refs.reference.current===null||Zn!==null&&!isElement(Zn))&&pn.refs.setReference(Zn)},[pn.refs]),Gn=reactExports.useMemo(()=>({...pn.refs,setReference:Fn,setPositionReference:Ln,domReference:Sn}),[pn.refs,Fn,Ln]),Dn=reactExports.useMemo(()=>({...pn.elements,domReference:Pn}),[pn.elements,Pn]),Kn=useEvent(cn),qn=reactExports.useMemo(()=>({...pn,refs:Gn,elements:Dn,dataRef:En,nodeId:dn,events:Cn,open:ln,onOpenChange:Kn}),[pn,dn,Cn,ln,Kn,Gn,Dn]);return index$3(()=>{const Zn=vn==null?void 0:vn.nodesRef.current.find(Yn=>Yn.id===dn);Zn&&(Zn.context=qn)}),reactExports.useMemo(()=>({...pn,context:qn,refs:Gn,reference:Fn,positionReference:Ln}),[pn,Gn,qn,Fn,Ln])}function mergeProps(sn,ln,cn){const dn=new Map;return{...cn==="floating"&&{tabIndex:-1},...sn,...ln.map(pn=>pn?pn[cn]:null).concat(sn).reduce((pn,vn)=>(vn&&Object.entries(vn).forEach(Sn=>{let[En,Cn]=Sn;if(En.indexOf("on")===0){if(dn.has(En)||dn.set(En,[]),typeof Cn=="function"){var Pn;(Pn=dn.get(En))==null||Pn.push(Cn),pn[En]=function(){for(var Rn,Ln=arguments.length,Fn=new Array(Ln),Gn=0;Gn<Ln;Gn++)Fn[Gn]=arguments[Gn];(Rn=dn.get(En))==null||Rn.forEach(Dn=>Dn(...Fn))}}}else pn[En]=Cn}),pn),{})}}const useInteractions=function(sn){sn===void 0&&(sn=[]);const ln=sn,cn=reactExports.useCallback(vn=>mergeProps(vn,sn,"reference"),ln),dn=reactExports.useCallback(vn=>mergeProps(vn,sn,"floating"),ln),pn=reactExports.useCallback(vn=>mergeProps(vn,sn,"item"),sn.map(vn=>vn==null?void 0:vn.item));return reactExports.useMemo(()=>({getReferenceProps:cn,getFloatingProps:dn,getItemProps:pn}),[cn,dn,pn])};function useFloatingAutoUpdate({opened:sn,floating:ln,position:cn,positionDependencies:dn}){const[pn,vn]=reactExports.useState(0);reactExports.useEffect(()=>{if(ln.refs.reference.current&&ln.refs.floating.current)return z$b(ln.refs.reference.current,ln.refs.floating.current,ln.update)},[ln.refs.reference.current,ln.refs.floating.current,sn,pn,cn]),useDidUpdate(()=>{ln.update()},dn),useDidUpdate(()=>{vn(Sn=>Sn+1)},[sn])}function getPopoverMiddlewares(sn){const ln=[L$e(sn.offset)];return sn.middlewares.shift&&ln.push(O$e({limiter:B$d()})),sn.middlewares.flip&&ln.push(A$c()),sn.middlewares.inline&&ln.push(D$d()),ln.push(arrow({element:sn.arrowRef,padding:sn.arrowOffset})),ln}function usePopover(sn){const[ln,cn]=useUncontrolled({value:sn.opened,defaultValue:sn.defaultOpened,finalValue:!1,onChange:sn.onChange}),dn=()=>{var Sn;(Sn=sn.onClose)==null||Sn.call(sn),cn(!1)},pn=()=>{var Sn,En;ln?((Sn=sn.onClose)==null||Sn.call(sn),cn(!1)):((En=sn.onOpen)==null||En.call(sn),cn(!0))},vn=useFloating({placement:sn.position,middleware:[...getPopoverMiddlewares(sn),...sn.width==="target"?[C$c({apply({rects:Sn}){var En,Cn;Object.assign((Cn=(En=vn.refs.floating.current)==null?void 0:En.style)!=null?Cn:{},{width:`${Sn.reference.width}px`})}})]:[]]});return useFloatingAutoUpdate({opened:sn.opened,position:sn.position,positionDependencies:sn.positionDependencies,floating:vn}),useDidUpdate(()=>{var Sn;(Sn=sn.onPositionChange)==null||Sn.call(sn,vn.placement)},[vn.placement]),useDidUpdate(()=>{var Sn,En;sn.opened?(En=sn.onOpen)==null||En.call(sn):(Sn=sn.onClose)==null||Sn.call(sn)},[sn.opened]),{floating:vn,controlled:typeof sn.opened=="boolean",opened:ln,onClose:dn,onToggle:pn}}const POPOVER_ERRORS={context:"Popover component was not found in the tree",children:"Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported"},[PopoverContextProvider,usePopoverContext]=createSafeContext(POPOVER_ERRORS.context);var __defProp$1q=Object.defineProperty,__defProps$B=Object.defineProperties,__getOwnPropDescs$B=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1s=Object.getOwnPropertySymbols,__hasOwnProp$1s=Object.prototype.hasOwnProperty,__propIsEnum$1s=Object.prototype.propertyIsEnumerable,__defNormalProp$1q=(sn,ln,cn)=>ln in sn?__defProp$1q(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1q=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1s.call(ln,cn)&&__defNormalProp$1q(sn,cn,ln[cn]);if(__getOwnPropSymbols$1s)for(var cn of __getOwnPropSymbols$1s(ln))__propIsEnum$1s.call(ln,cn)&&__defNormalProp$1q(sn,cn,ln[cn]);return sn},__spreadProps$B=(sn,ln)=>__defProps$B(sn,__getOwnPropDescs$B(ln)),__objRest$$=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1s.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1s)for(var dn of __getOwnPropSymbols$1s(sn))ln.indexOf(dn)<0&&__propIsEnum$1s.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$P={refProp:"ref",popupType:"dialog"},PopoverTarget=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("PopoverTarget",defaultProps$P,sn),{children:dn,refProp:pn,popupType:vn}=cn,Sn=__objRest$$(cn,["children","refProp","popupType"]);if(!isElement$1(dn))throw new Error(POPOVER_ERRORS.children);const En=Sn,Cn=usePopoverContext(),Pn=useMergedRef(Cn.reference,dn.ref,ln),Rn=Cn.withRoles?{"aria-haspopup":vn,"aria-expanded":Cn.opened,"aria-controls":Cn.getDropdownId(),id:Cn.getTargetId()}:{};return reactExports.cloneElement(dn,__spreadValues$1q(__spreadProps$B(__spreadValues$1q(__spreadValues$1q(__spreadValues$1q({},En),Rn),Cn.targetProps),{className:clsx(Cn.targetProps.className,En.className,dn.props.className),[pn]:Pn}),Cn.controlled?null:{onClick:Cn.onToggle}))});PopoverTarget.displayName="@mantine/core/PopoverTarget";var useStyles$1o=createStyles$1((sn,{radius:ln,shadow:cn})=>({dropdown:{position:"absolute",backgroundColor:sn.white,background:sn.colorScheme==="dark"?sn.colors.dark[6]:sn.white,border:`${rem$1(1)} solid ${sn.colorScheme==="dark"?sn.colors.dark[4]:sn.colors.gray[2]}`,padding:`${sn.spacing.sm} ${sn.spacing.md}`,boxShadow:sn.shadows[cn]||cn||"none",borderRadius:sn.fn.radius(ln),"&:focus":{outline:0}},arrow:{backgroundColor:"inherit",border:`${rem$1(1)} solid ${sn.colorScheme==="dark"?sn.colors.dark[4]:sn.colors.gray[2]}`,zIndex:1}}));const useStyles$1p=useStyles$1o;var __defProp$1p=Object.defineProperty,__getOwnPropSymbols$1r=Object.getOwnPropertySymbols,__hasOwnProp$1r=Object.prototype.hasOwnProperty,__propIsEnum$1r=Object.prototype.propertyIsEnumerable,__defNormalProp$1p=(sn,ln,cn)=>ln in sn?__defProp$1p(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1p=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1r.call(ln,cn)&&__defNormalProp$1p(sn,cn,ln[cn]);if(__getOwnPropSymbols$1r)for(var cn of __getOwnPropSymbols$1r(ln))__propIsEnum$1r.call(ln,cn)&&__defNormalProp$1p(sn,cn,ln[cn]);return sn};const transitionStatuses={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function getTransitionStyles({transition:sn,state:ln,duration:cn,timingFunction:dn}){const pn={transitionDuration:`${cn}ms`,transitionTimingFunction:dn};return typeof sn=="string"?sn in transitions?__spreadValues$1p(__spreadValues$1p(__spreadValues$1p({transitionProperty:transitions[sn].transitionProperty},pn),transitions[sn].common),transitions[sn][transitionStatuses[ln]]):null:__spreadValues$1p(__spreadValues$1p(__spreadValues$1p({transitionProperty:sn.transitionProperty},pn),sn.common),sn[transitionStatuses[ln]])}function useTransition({duration:sn,exitDuration:ln,timingFunction:cn,mounted:dn,onEnter:pn,onExit:vn,onEntered:Sn,onExited:En}){const Cn=useMantineTheme$1(),Pn=useReducedMotion(),Rn=Cn.respectReducedMotion?Pn:!1,[Ln,Fn]=reactExports.useState(Rn?0:sn),[Gn,Dn]=reactExports.useState(dn?"entered":"exited"),Kn=reactExports.useRef(-1),qn=Zn=>{const Yn=Zn?pn:vn,Jn=Zn?Sn:En;Dn(Zn?"pre-entering":"pre-exiting"),window.clearTimeout(Kn.current);const rs=Rn?0:Zn?sn:ln;if(Fn(rs),rs===0)typeof Yn=="function"&&Yn(),typeof Jn=="function"&&Jn(),Dn(Zn?"entered":"exited");else{const us=window.setTimeout(()=>{typeof Yn=="function"&&Yn(),Dn(Zn?"entering":"exiting")},10);Kn.current=window.setTimeout(()=>{window.clearTimeout(us),typeof Jn=="function"&&Jn(),Dn(Zn?"entered":"exited")},rs)}};return useDidUpdate(()=>{qn(dn)},[dn]),reactExports.useEffect(()=>()=>window.clearTimeout(Kn.current),[]),{transitionDuration:Ln,transitionStatus:Gn,transitionTimingFunction:cn||Cn.transitionTimingFunction}}function Transition$2({keepMounted:sn,transition:ln,duration:cn=250,exitDuration:dn=cn,mounted:pn,children:vn,timingFunction:Sn,onExit:En,onEntered:Cn,onEnter:Pn,onExited:Rn}){const{transitionDuration:Ln,transitionStatus:Fn,transitionTimingFunction:Gn}=useTransition({mounted:pn,exitDuration:dn,duration:cn,timingFunction:Sn,onExit:En,onEntered:Cn,onEnter:Pn,onExited:Rn});return Ln===0?pn?jsx$1(Fragment$1,{children:vn({})}):sn?vn({display:"none"}):null:Fn==="exited"?sn?vn({display:"none"}):null:jsx$1(Fragment$1,{children:vn(getTransitionStyles({transition:ln,duration:Ln,state:Fn,timingFunction:Gn}))})}Transition$2.displayName="@mantine/core/Transition";function FocusTrap({children:sn,active:ln=!0,refProp:cn="ref"}){const dn=useFocusTrap(ln),pn=useMergedRef(dn,sn==null?void 0:sn.ref);return isElement$1(sn)?reactExports.cloneElement(sn,{[cn]:pn}):sn}FocusTrap.displayName="@mantine/core/FocusTrap";var __defProp$1o=Object.defineProperty,__defProps$A=Object.defineProperties,__getOwnPropDescs$A=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1q=Object.getOwnPropertySymbols,__hasOwnProp$1q=Object.prototype.hasOwnProperty,__propIsEnum$1q=Object.prototype.propertyIsEnumerable,__defNormalProp$1o=(sn,ln,cn)=>ln in sn?__defProp$1o(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1o=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1q.call(ln,cn)&&__defNormalProp$1o(sn,cn,ln[cn]);if(__getOwnPropSymbols$1q)for(var cn of __getOwnPropSymbols$1q(ln))__propIsEnum$1q.call(ln,cn)&&__defNormalProp$1o(sn,cn,ln[cn]);return sn},__spreadProps$A=(sn,ln)=>__defProps$A(sn,__getOwnPropDescs$A(ln));function horizontalSide(sn,ln,cn,dn){return sn==="center"||dn==="center"?{top:ln}:sn==="end"?{bottom:cn}:sn==="start"?{top:cn}:{}}function verticalSide(sn,ln,cn,dn,pn){return sn==="center"||dn==="center"?{left:ln}:sn==="end"?{[pn==="ltr"?"right":"left"]:cn}:sn==="start"?{[pn==="ltr"?"left":"right"]:cn}:{}}const radiusByFloatingSide={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function getArrowPositionStyles({position:sn,arrowSize:ln,arrowOffset:cn,arrowRadius:dn,arrowPosition:pn,arrowX:vn,arrowY:Sn,dir:En}){const[Cn,Pn="center"]=sn.split("-"),Rn={width:rem$1(ln),height:rem$1(ln),transform:"rotate(45deg)",position:"absolute",[radiusByFloatingSide[Cn]]:rem$1(dn)},Ln=rem$1(-ln/2);return Cn==="left"?__spreadProps$A(__spreadValues$1o(__spreadValues$1o({},Rn),horizontalSide(Pn,Sn,cn,pn)),{right:Ln,borderLeftColor:"transparent",borderBottomColor:"transparent"}):Cn==="right"?__spreadProps$A(__spreadValues$1o(__spreadValues$1o({},Rn),horizontalSide(Pn,Sn,cn,pn)),{left:Ln,borderRightColor:"transparent",borderTopColor:"transparent"}):Cn==="top"?__spreadProps$A(__spreadValues$1o(__spreadValues$1o({},Rn),verticalSide(Pn,vn,cn,pn,En)),{bottom:Ln,borderTopColor:"transparent",borderLeftColor:"transparent"}):Cn==="bottom"?__spreadProps$A(__spreadValues$1o(__spreadValues$1o({},Rn),verticalSide(Pn,vn,cn,pn,En)),{top:Ln,borderBottomColor:"transparent",borderRightColor:"transparent"}):{}}var __defProp$1n=Object.defineProperty,__defProps$z=Object.defineProperties,__getOwnPropDescs$z=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1p=Object.getOwnPropertySymbols,__hasOwnProp$1p=Object.prototype.hasOwnProperty,__propIsEnum$1p=Object.prototype.propertyIsEnumerable,__defNormalProp$1n=(sn,ln,cn)=>ln in sn?__defProp$1n(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1n=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1p.call(ln,cn)&&__defNormalProp$1n(sn,cn,ln[cn]);if(__getOwnPropSymbols$1p)for(var cn of __getOwnPropSymbols$1p(ln))__propIsEnum$1p.call(ln,cn)&&__defNormalProp$1n(sn,cn,ln[cn]);return sn},__spreadProps$z=(sn,ln)=>__defProps$z(sn,__getOwnPropDescs$z(ln)),__objRest$_=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1p.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1p)for(var dn of __getOwnPropSymbols$1p(sn))ln.indexOf(dn)<0&&__propIsEnum$1p.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const FloatingArrow=reactExports.forwardRef((sn,ln)=>{var cn=sn,{position:dn,arrowSize:pn,arrowOffset:vn,arrowRadius:Sn,arrowPosition:En,visible:Cn,arrowX:Pn,arrowY:Rn}=cn,Ln=__objRest$_(cn,["position","arrowSize","arrowOffset","arrowRadius","arrowPosition","visible","arrowX","arrowY"]);const Fn=useMantineTheme$1();return Cn?jsx$1("div",{...__spreadProps$z(__spreadValues$1n({},Ln),{ref:ln,style:getArrowPositionStyles({position:dn,arrowSize:pn,arrowOffset:vn,arrowRadius:Sn,arrowPosition:En,dir:Fn.dir,arrowX:Pn,arrowY:Rn})})}):null});FloatingArrow.displayName="@mantine/core/FloatingArrow";var __defProp$1m=Object.defineProperty,__defProps$y=Object.defineProperties,__getOwnPropDescs$y=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1o=Object.getOwnPropertySymbols,__hasOwnProp$1o=Object.prototype.hasOwnProperty,__propIsEnum$1o=Object.prototype.propertyIsEnumerable,__defNormalProp$1m=(sn,ln,cn)=>ln in sn?__defProp$1m(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1m=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1o.call(ln,cn)&&__defNormalProp$1m(sn,cn,ln[cn]);if(__getOwnPropSymbols$1o)for(var cn of __getOwnPropSymbols$1o(ln))__propIsEnum$1o.call(ln,cn)&&__defNormalProp$1m(sn,cn,ln[cn]);return sn},__spreadProps$y=(sn,ln)=>__defProps$y(sn,__getOwnPropDescs$y(ln)),__objRest$Z=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1o.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1o)for(var dn of __getOwnPropSymbols$1o(sn))ln.indexOf(dn)<0&&__propIsEnum$1o.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$O={};function PopoverDropdown(sn){var ln;const cn=useComponentDefaultProps$1("PopoverDropdown",defaultProps$O,sn),{style:dn,className:pn,children:vn,onKeyDownCapture:Sn}=cn,En=__objRest$Z(cn,["style","className","children","onKeyDownCapture"]),Cn=usePopoverContext(),{classes:Pn,cx:Rn}=useStyles$1p({radius:Cn.radius,shadow:Cn.shadow},{name:Cn.__staticSelector,classNames:Cn.classNames,styles:Cn.styles,unstyled:Cn.unstyled,variant:Cn.variant}),Ln=useFocusReturn({opened:Cn.opened,shouldReturnFocus:Cn.returnFocus}),Fn=Cn.withRoles?{"aria-labelledby":Cn.getTargetId(),id:Cn.getDropdownId(),role:"dialog"}:{};return Cn.disabled?null:jsx$1(OptionalPortal,{...__spreadProps$y(__spreadValues$1m({},Cn.portalProps),{withinPortal:Cn.withinPortal}),children:jsx$1(Transition$2,{...__spreadProps$y(__spreadValues$1m({mounted:Cn.opened},Cn.transitionProps),{transition:Cn.transitionProps.transition||"fade",duration:(ln=Cn.transitionProps.duration)!=null?ln:150,keepMounted:Cn.keepMounted,exitDuration:typeof Cn.transitionProps.exitDuration=="number"?Cn.transitionProps.exitDuration:Cn.transitionProps.duration}),children:Gn=>{var Dn,Kn;return jsx$1(FocusTrap,{active:Cn.trapFocus,children:jsxs$1(Box$1,{...__spreadValues$1m(__spreadProps$y(__spreadValues$1m({},Fn),{tabIndex:-1,ref:Cn.floating,style:__spreadProps$y(__spreadValues$1m(__spreadValues$1m({},dn),Gn),{zIndex:Cn.zIndex,top:(Dn=Cn.y)!=null?Dn:0,left:(Kn=Cn.x)!=null?Kn:0,width:Cn.width==="target"?void 0:rem$1(Cn.width)}),className:Rn(Pn.dropdown,pn),onKeyDownCapture:closeOnEscape(Cn.onClose,{active:Cn.closeOnEscape,onTrigger:Ln,onKeyDown:Sn}),"data-position":Cn.placement}),En),children:[vn,jsx$1(FloatingArrow,{ref:Cn.arrowRef,arrowX:Cn.arrowX,arrowY:Cn.arrowY,visible:Cn.withArrow,position:Cn.placement,arrowSize:Cn.arrowSize,arrowRadius:Cn.arrowRadius,arrowOffset:Cn.arrowOffset,arrowPosition:Cn.arrowPosition,className:Pn.arrow})]})})}})})}PopoverDropdown.displayName="@mantine/core/PopoverDropdown";function getFloatingPosition(sn,ln){if(sn==="rtl"&&(ln.includes("right")||ln.includes("left"))){const[cn,dn]=ln.split("-"),pn=cn==="right"?"left":"right";return dn===void 0?pn:`${pn}-${dn}`}return ln}var __getOwnPropSymbols$1n=Object.getOwnPropertySymbols,__hasOwnProp$1n=Object.prototype.hasOwnProperty,__propIsEnum$1n=Object.prototype.propertyIsEnumerable,__objRest$Y=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1n.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1n)for(var dn of __getOwnPropSymbols$1n(sn))ln.indexOf(dn)<0&&__propIsEnum$1n.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$N={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!1,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:getDefaultZIndex("popover"),__staticSelector:"Popover",width:"max-content"};function Popover(sn){var ln,cn,dn,pn,vn,Sn;const En=reactExports.useRef(null),Cn=useComponentDefaultProps$1("Popover",defaultProps$N,sn),{children:Pn,position:Rn,offset:Ln,onPositionChange:Fn,positionDependencies:Gn,opened:Dn,transitionProps:Kn,width:qn,middlewares:Zn,withArrow:Yn,arrowSize:Jn,arrowOffset:rs,arrowRadius:us,arrowPosition:as,unstyled:cs,classNames:_s,styles:Es,closeOnClickOutside:Qn,withinPortal:ms,portalProps:$s,closeOnEscape:Ms,clickOutsideEvents:gs,trapFocus:Ss,onClose:js,onOpen:bs,onChange:Ts,zIndex:xs,radius:zs,shadow:Bs,id:Js,defaultOpened:tu,__staticSelector:hs,withRoles:lu,disabled:vu,returnFocus:yu,variant:Wu,keepMounted:Ru}=Cn,Ll=__objRest$Y(Cn,["children","position","offset","onPositionChange","positionDependencies","opened","transitionProps","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","unstyled","classNames","styles","closeOnClickOutside","withinPortal","portalProps","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onOpen","onChange","zIndex","radius","shadow","id","defaultOpened","__staticSelector","withRoles","disabled","returnFocus","variant","keepMounted"]),[Vp,Ys]=reactExports.useState(null),[_u,Wl]=reactExports.useState(null),lp=useId$1(Js),am=useMantineTheme$1(),fl=usePopover({middlewares:Zn,width:qn,position:getFloatingPosition(am.dir,Rn),offset:typeof Ln=="number"?Ln+(Yn?Jn/2:0):Ln,arrowRef:En,arrowOffset:rs,onPositionChange:Fn,positionDependencies:Gn,opened:Dn,defaultOpened:tu,onChange:Ts,onOpen:bs,onClose:js});useClickOutside(()=>fl.opened&&Qn&&fl.onClose(),gs,[Vp,_u]);const $u=reactExports.useCallback(Cp=>{Ys(Cp),fl.floating.reference(Cp)},[fl.floating.reference]),cp=reactExports.useCallback(Cp=>{Wl(Cp),fl.floating.floating(Cp)},[fl.floating.floating]);return jsx$1(PopoverContextProvider,{value:{returnFocus:yu,disabled:vu,controlled:fl.controlled,reference:$u,floating:cp,x:fl.floating.x,y:fl.floating.y,arrowX:(dn=(cn=(ln=fl.floating)==null?void 0:ln.middlewareData)==null?void 0:cn.arrow)==null?void 0:dn.x,arrowY:(Sn=(vn=(pn=fl.floating)==null?void 0:pn.middlewareData)==null?void 0:vn.arrow)==null?void 0:Sn.y,opened:fl.opened,arrowRef:En,transitionProps:Kn,width:qn,withArrow:Yn,arrowSize:Jn,arrowOffset:rs,arrowRadius:us,arrowPosition:as,placement:fl.floating.placement,trapFocus:Ss,withinPortal:ms,portalProps:$s,zIndex:xs,radius:zs,shadow:Bs,closeOnEscape:Ms,onClose:fl.onClose,onToggle:fl.onToggle,getTargetId:()=>`${lp}-target`,getDropdownId:()=>`${lp}-dropdown`,withRoles:lu,targetProps:Ll,__staticSelector:hs,classNames:_s,styles:Es,unstyled:cs,variant:Wu,keepMounted:Ru},children:Pn})}Popover.Target=PopoverTarget;Popover.Dropdown=PopoverDropdown;Popover.displayName="@mantine/core/Popover";var useStyles$1m=createStyles$1((sn,ln,{size:cn})=>({label:{display:"inline-block",fontSize:getSize$1({size:cn,sizes:sn.fontSizes}),fontWeight:500,color:sn.colorScheme==="dark"?sn.colors.dark[0]:sn.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},required:{color:sn.fn.variant({variant:"filled",color:"red"}).background}}));const useStyles$1n=useStyles$1m;var __defProp$1l=Object.defineProperty,__getOwnPropSymbols$1m=Object.getOwnPropertySymbols,__hasOwnProp$1m=Object.prototype.hasOwnProperty,__propIsEnum$1m=Object.prototype.propertyIsEnumerable,__defNormalProp$1l=(sn,ln,cn)=>ln in sn?__defProp$1l(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1l=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1m.call(ln,cn)&&__defNormalProp$1l(sn,cn,ln[cn]);if(__getOwnPropSymbols$1m)for(var cn of __getOwnPropSymbols$1m(ln))__propIsEnum$1m.call(ln,cn)&&__defNormalProp$1l(sn,cn,ln[cn]);return sn},__objRest$X=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1m.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1m)for(var dn of __getOwnPropSymbols$1m(sn))ln.indexOf(dn)<0&&__propIsEnum$1m.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$M={labelElement:"label",size:"sm"},InputLabel=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("InputLabel",defaultProps$M,sn),{labelElement:dn,children:pn,required:vn,size:Sn,classNames:En,styles:Cn,unstyled:Pn,className:Rn,htmlFor:Ln,__staticSelector:Fn,variant:Gn,onMouseDown:Dn}=cn,Kn=__objRest$X(cn,["labelElement","children","required","size","classNames","styles","unstyled","className","htmlFor","__staticSelector","variant","onMouseDown"]),{classes:qn,cx:Zn}=useStyles$1n(null,{name:["InputWrapper",Fn],classNames:En,styles:Cn,unstyled:Pn,variant:Gn,size:Sn});return jsxs$1(Box$1,{...__spreadValues$1l({component:dn,ref:ln,className:Zn(qn.label,Rn),htmlFor:dn==="label"?Ln:void 0,onMouseDown:Yn=>{Dn==null||Dn(Yn),!Yn.defaultPrevented&&Yn.detail>1&&Yn.preventDefault()}},Kn),children:[pn,vn&&jsx$1("span",{className:qn.required,"aria-hidden":!0,children:" *"})]})});InputLabel.displayName="@mantine/core/InputLabel";var useStyles$1k=createStyles$1((sn,ln,{size:cn})=>({error:{wordBreak:"break-word",color:sn.fn.variant({variant:"filled",color:"red"}).background,fontSize:`calc(${getSize$1({size:cn,sizes:sn.fontSizes})} - ${rem$1(2)})`,lineHeight:1.2,display:"block"}}));const useStyles$1l=useStyles$1k;var __defProp$1k=Object.defineProperty,__getOwnPropSymbols$1l=Object.getOwnPropertySymbols,__hasOwnProp$1l=Object.prototype.hasOwnProperty,__propIsEnum$1l=Object.prototype.propertyIsEnumerable,__defNormalProp$1k=(sn,ln,cn)=>ln in sn?__defProp$1k(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1k=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1l.call(ln,cn)&&__defNormalProp$1k(sn,cn,ln[cn]);if(__getOwnPropSymbols$1l)for(var cn of __getOwnPropSymbols$1l(ln))__propIsEnum$1l.call(ln,cn)&&__defNormalProp$1k(sn,cn,ln[cn]);return sn},__objRest$W=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1l.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1l)for(var dn of __getOwnPropSymbols$1l(sn))ln.indexOf(dn)<0&&__propIsEnum$1l.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$L={size:"sm"},InputError=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("InputError",defaultProps$L,sn),{children:dn,className:pn,classNames:vn,styles:Sn,unstyled:En,size:Cn,__staticSelector:Pn,variant:Rn}=cn,Ln=__objRest$W(cn,["children","className","classNames","styles","unstyled","size","__staticSelector","variant"]),{classes:Fn,cx:Gn}=useStyles$1l(null,{name:["InputWrapper",Pn],classNames:vn,styles:Sn,unstyled:En,variant:Rn,size:Cn});return jsx$1(Text$1,{...__spreadValues$1k({className:Gn(Fn.error,pn),ref:ln},Ln),children:dn})});InputError.displayName="@mantine/core/InputError";var useStyles$1i=createStyles$1((sn,ln,{size:cn})=>({description:{wordBreak:"break-word",color:sn.colorScheme==="dark"?sn.colors.dark[2]:sn.colors.gray[6],fontSize:`calc(${getSize$1({size:cn,sizes:sn.fontSizes})} - ${rem$1(2)})`,lineHeight:1.2,display:"block"}}));const useStyles$1j=useStyles$1i;var __defProp$1j=Object.defineProperty,__getOwnPropSymbols$1k=Object.getOwnPropertySymbols,__hasOwnProp$1k=Object.prototype.hasOwnProperty,__propIsEnum$1k=Object.prototype.propertyIsEnumerable,__defNormalProp$1j=(sn,ln,cn)=>ln in sn?__defProp$1j(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1j=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1k.call(ln,cn)&&__defNormalProp$1j(sn,cn,ln[cn]);if(__getOwnPropSymbols$1k)for(var cn of __getOwnPropSymbols$1k(ln))__propIsEnum$1k.call(ln,cn)&&__defNormalProp$1j(sn,cn,ln[cn]);return sn},__objRest$V=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1k.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1k)for(var dn of __getOwnPropSymbols$1k(sn))ln.indexOf(dn)<0&&__propIsEnum$1k.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$K={size:"sm"},InputDescription=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("InputDescription",defaultProps$K,sn),{children:dn,className:pn,classNames:vn,styles:Sn,unstyled:En,size:Cn,__staticSelector:Pn,variant:Rn}=cn,Ln=__objRest$V(cn,["children","className","classNames","styles","unstyled","size","__staticSelector","variant"]),{classes:Fn,cx:Gn}=useStyles$1j(null,{name:["InputWrapper",Pn],classNames:vn,styles:Sn,unstyled:En,variant:Rn,size:Cn});return jsx$1(Text$1,{...__spreadValues$1j({color:"dimmed",className:Gn(Fn.description,pn),ref:ln,unstyled:En},Ln),children:dn})});InputDescription.displayName="@mantine/core/InputDescription";const InputWrapperContext=reactExports.createContext({offsetBottom:!1,offsetTop:!1,describedBy:void 0}),InputWrapperProvider=InputWrapperContext.Provider,useInputWrapperContext=()=>reactExports.useContext(InputWrapperContext);function getInputOffsets(sn,{hasDescription:ln,hasError:cn}){const dn=sn.findIndex(Cn=>Cn==="input"),pn=sn[dn-1],vn=sn[dn+1];return{offsetBottom:ln&&vn==="description"||cn&&vn==="error",offsetTop:ln&&pn==="description"||cn&&pn==="error"}}var __defProp$1i=Object.defineProperty,__defProps$x=Object.defineProperties,__getOwnPropDescs$x=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1j=Object.getOwnPropertySymbols,__hasOwnProp$1j=Object.prototype.hasOwnProperty,__propIsEnum$1j=Object.prototype.propertyIsEnumerable,__defNormalProp$1i=(sn,ln,cn)=>ln in sn?__defProp$1i(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1i=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1j.call(ln,cn)&&__defNormalProp$1i(sn,cn,ln[cn]);if(__getOwnPropSymbols$1j)for(var cn of __getOwnPropSymbols$1j(ln))__propIsEnum$1j.call(ln,cn)&&__defNormalProp$1i(sn,cn,ln[cn]);return sn},__spreadProps$x=(sn,ln)=>__defProps$x(sn,__getOwnPropDescs$x(ln)),useStyles$1g=createStyles$1(sn=>({root:__spreadProps$x(__spreadValues$1i({},sn.fn.fontStyles()),{lineHeight:sn.lineHeight})}));const useStyles$1h=useStyles$1g;var __defProp$1h=Object.defineProperty,__defProps$w=Object.defineProperties,__getOwnPropDescs$w=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1i=Object.getOwnPropertySymbols,__hasOwnProp$1i=Object.prototype.hasOwnProperty,__propIsEnum$1i=Object.prototype.propertyIsEnumerable,__defNormalProp$1h=(sn,ln,cn)=>ln in sn?__defProp$1h(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1h=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1i.call(ln,cn)&&__defNormalProp$1h(sn,cn,ln[cn]);if(__getOwnPropSymbols$1i)for(var cn of __getOwnPropSymbols$1i(ln))__propIsEnum$1i.call(ln,cn)&&__defNormalProp$1h(sn,cn,ln[cn]);return sn},__spreadProps$w=(sn,ln)=>__defProps$w(sn,__getOwnPropDescs$w(ln)),__objRest$U=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1i.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1i)for(var dn of __getOwnPropSymbols$1i(sn))ln.indexOf(dn)<0&&__propIsEnum$1i.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$J={labelElement:"label",size:"sm",inputContainer:sn=>sn,inputWrapperOrder:["label","description","input","error"]},InputWrapper=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("InputWrapper",defaultProps$J,sn),{className:dn,label:pn,children:vn,required:Sn,id:En,error:Cn,description:Pn,labelElement:Rn,labelProps:Ln,descriptionProps:Fn,errorProps:Gn,classNames:Dn,styles:Kn,size:qn,inputContainer:Zn,__staticSelector:Yn,unstyled:Jn,inputWrapperOrder:rs,withAsterisk:us,variant:as}=cn,cs=__objRest$U(cn,["className","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","size","inputContainer","__staticSelector","unstyled","inputWrapperOrder","withAsterisk","variant"]),{classes:_s,cx:Es}=useStyles$1h(null,{classNames:Dn,styles:Kn,name:["InputWrapper",Yn],unstyled:Jn,variant:as,size:qn}),Qn={classNames:Dn,styles:Kn,unstyled:Jn,size:qn,variant:as,__staticSelector:Yn},ms=typeof us=="boolean"?us:Sn,$s=En?`${En}-error`:Gn==null?void 0:Gn.id,Ms=En?`${En}-description`:Fn==null?void 0:Fn.id,Ss=`${!!Cn&&typeof Cn!="boolean"?$s:""} ${Pn?Ms:""}`,js=Ss.trim().length>0?Ss.trim():void 0,bs=pn&&jsx$1(InputLabel,{...__spreadValues$1h(__spreadValues$1h({key:"label",labelElement:Rn,id:En?`${En}-label`:void 0,htmlFor:En,required:ms},Qn),Ln),children:pn}),Ts=Pn&&jsx$1(InputDescription,{...__spreadProps$w(__spreadValues$1h(__spreadValues$1h({key:"description"},Fn),Qn),{size:(Fn==null?void 0:Fn.size)||Qn.size,id:(Fn==null?void 0:Fn.id)||Ms}),children:Pn}),xs=jsx$1(reactExports.Fragment,{children:Zn(vn)},"input"),zs=typeof Cn!="boolean"&&Cn&&jsx$1(InputError,{...__spreadProps$w(__spreadValues$1h(__spreadValues$1h({},Gn),Qn),{size:(Gn==null?void 0:Gn.size)||Qn.size,key:"error",id:(Gn==null?void 0:Gn.id)||$s}),children:Cn}),Bs=rs.map(Js=>{switch(Js){case"label":return bs;case"input":return xs;case"description":return Ts;case"error":return zs;default:return null}});return jsx$1(InputWrapperProvider,{value:__spreadValues$1h({describedBy:js},getInputOffsets(rs,{hasDescription:!!Ts,hasError:!!zs})),children:jsx$1(Box$1,{...__spreadValues$1h({className:Es(_s.root,dn),ref:ln},cs),children:Bs})})});InputWrapper.displayName="@mantine/core/InputWrapper";var __defProp$1g=Object.defineProperty,__getOwnPropSymbols$1h=Object.getOwnPropertySymbols,__hasOwnProp$1h=Object.prototype.hasOwnProperty,__propIsEnum$1h=Object.prototype.propertyIsEnumerable,__defNormalProp$1g=(sn,ln,cn)=>ln in sn?__defProp$1g(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1g=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1h.call(ln,cn)&&__defNormalProp$1g(sn,cn,ln[cn]);if(__getOwnPropSymbols$1h)for(var cn of __getOwnPropSymbols$1h(ln))__propIsEnum$1h.call(ln,cn)&&__defNormalProp$1g(sn,cn,ln[cn]);return sn},__objRest$T=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1h.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1h)for(var dn of __getOwnPropSymbols$1h(sn))ln.indexOf(dn)<0&&__propIsEnum$1h.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$I={},InputPlaceholder=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("InputPlaceholder",defaultProps$I,sn),{sx:dn}=cn,pn=__objRest$T(cn,["sx"]);return jsx$1(Box$1,{...__spreadValues$1g({component:"span",sx:[vn=>vn.fn.placeholderStyles(),...packSx$1(dn)],ref:ln},pn)})});InputPlaceholder.displayName="@mantine/core/InputPlaceholder";var __defProp$1f=Object.defineProperty,__defProps$v=Object.defineProperties,__getOwnPropDescs$v=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1g=Object.getOwnPropertySymbols,__hasOwnProp$1g=Object.prototype.hasOwnProperty,__propIsEnum$1g=Object.prototype.propertyIsEnumerable,__defNormalProp$1f=(sn,ln,cn)=>ln in sn?__defProp$1f(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1f=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1g.call(ln,cn)&&__defNormalProp$1f(sn,cn,ln[cn]);if(__getOwnPropSymbols$1g)for(var cn of __getOwnPropSymbols$1g(ln))__propIsEnum$1g.call(ln,cn)&&__defNormalProp$1f(sn,cn,ln[cn]);return sn},__spreadProps$v=(sn,ln)=>__defProps$v(sn,__getOwnPropDescs$v(ln));const sizes$b={xs:rem$1(30),sm:rem$1(36),md:rem$1(42),lg:rem$1(50),xl:rem$1(60)},INPUT_VARIANTS=["default","filled","unstyled"];function getVariantStyles$5({theme:sn,variant:ln}){return INPUT_VARIANTS.includes(ln)?ln==="default"?{border:`${rem$1(1)} solid ${sn.colorScheme==="dark"?sn.colors.dark[4]:sn.colors.gray[4]}`,backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[6]:sn.white,transition:"border-color 100ms ease","&:focus, &:focus-within":sn.focusRingStyles.inputStyles(sn)}:ln==="filled"?{border:`${rem$1(1)} solid transparent`,backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[5]:sn.colors.gray[1],"&:focus, &:focus-within":sn.focusRingStyles.inputStyles(sn)}:{borderWidth:0,color:sn.colorScheme==="dark"?sn.colors.dark[0]:sn.black,backgroundColor:"transparent",minHeight:rem$1(28),outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}}:null}var useStyles$1e=createStyles$1((sn,{multiline:ln,radius:cn,invalid:dn,rightSectionWidth:pn,withRightSection:vn,iconWidth:Sn,offsetBottom:En,offsetTop:Cn,pointer:Pn},{variant:Rn,size:Ln})=>{const Fn=sn.fn.variant({variant:"filled",color:"red"}).background,Gn=Rn==="default"||Rn==="filled"?{minHeight:getSize$1({size:Ln,sizes:sizes$b}),paddingLeft:`calc(${getSize$1({size:Ln,sizes:sizes$b})}  / 3)`,paddingRight:vn?pn||getSize$1({size:Ln,sizes:sizes$b}):`calc(${getSize$1({size:Ln,sizes:sizes$b})}  / 3)`,borderRadius:sn.fn.radius(cn)}:Rn==="unstyled"&&vn?{paddingRight:pn||getSize$1({size:Ln,sizes:sizes$b})}:null;return{wrapper:{position:"relative",marginTop:Cn?`calc(${sn.spacing.xs} / 2)`:void 0,marginBottom:En?`calc(${sn.spacing.xs} / 2)`:void 0,"&:has(input:disabled)":{"& .mantine-Input-rightSection":{display:"none"}}},input:__spreadProps$v(__spreadValues$1f(__spreadValues$1f(__spreadProps$v(__spreadValues$1f({},sn.fn.fontStyles()),{height:ln?Rn==="unstyled"?void 0:"auto":getSize$1({size:Ln,sizes:sizes$b}),WebkitTapHighlightColor:"transparent",lineHeight:ln?sn.lineHeight:`calc(${getSize$1({size:Ln,sizes:sizes$b})} - ${rem$1(2)})`,appearance:"none",resize:"none",boxSizing:"border-box",fontSize:getSize$1({size:Ln,sizes:sn.fontSizes}),width:"100%",color:sn.colorScheme==="dark"?sn.colors.dark[0]:sn.black,display:"block",textAlign:"left",cursor:Pn?"pointer":void 0}),getVariantStyles$5({theme:sn,variant:Rn})),Gn),{"&:disabled, &[data-disabled]":{backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[6]:sn.colors.gray[1],color:sn.colors.dark[2],opacity:.6,cursor:"not-allowed",pointerEvents:"none","&::placeholder":{color:sn.colors.dark[2]}},"&[data-invalid]":{color:Fn,borderColor:Fn,"&::placeholder":{opacity:1,color:Fn}},"&[data-with-icon]":{paddingLeft:typeof Sn=="number"?rem$1(Sn):getSize$1({size:Ln,sizes:sizes$b})},"&::placeholder":__spreadProps$v(__spreadValues$1f({},sn.fn.placeholderStyles()),{opacity:1}),"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:Sn?rem$1(Sn):getSize$1({size:Ln,sizes:sizes$b}),color:dn?sn.colors.red[sn.colorScheme==="dark"?6:7]:sn.colorScheme==="dark"?sn.colors.dark[2]:sn.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",width:pn||getSize$1({size:Ln,sizes:sizes$b})}}});const useStyles$1f=useStyles$1e;var __defProp$1e=Object.defineProperty,__defProps$u=Object.defineProperties,__getOwnPropDescs$u=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1f=Object.getOwnPropertySymbols,__hasOwnProp$1f=Object.prototype.hasOwnProperty,__propIsEnum$1f=Object.prototype.propertyIsEnumerable,__defNormalProp$1e=(sn,ln,cn)=>ln in sn?__defProp$1e(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1e=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1f.call(ln,cn)&&__defNormalProp$1e(sn,cn,ln[cn]);if(__getOwnPropSymbols$1f)for(var cn of __getOwnPropSymbols$1f(ln))__propIsEnum$1f.call(ln,cn)&&__defNormalProp$1e(sn,cn,ln[cn]);return sn},__spreadProps$u=(sn,ln)=>__defProps$u(sn,__getOwnPropDescs$u(ln)),__objRest$S=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1f.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1f)for(var dn of __getOwnPropSymbols$1f(sn))ln.indexOf(dn)<0&&__propIsEnum$1f.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$H={size:"sm",variant:"default"},_Input=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("Input",defaultProps$H,sn),{className:dn,error:pn,required:vn,disabled:Sn,variant:En,icon:Cn,style:Pn,rightSectionWidth:Rn,iconWidth:Ln,rightSection:Fn,rightSectionProps:Gn,radius:Dn,size:Kn,wrapperProps:qn,classNames:Zn,styles:Yn,__staticSelector:Jn,multiline:rs,sx:us,unstyled:as,pointer:cs}=cn,_s=__objRest$S(cn,["className","error","required","disabled","variant","icon","style","rightSectionWidth","iconWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx","unstyled","pointer"]),{offsetBottom:Es,offsetTop:Qn,describedBy:ms}=useInputWrapperContext(),{classes:$s,cx:Ms}=useStyles$1f({radius:Dn,multiline:rs,invalid:!!pn,rightSectionWidth:Rn?rem$1(Rn):void 0,iconWidth:Ln,withRightSection:!!Fn,offsetBottom:Es,offsetTop:Qn,pointer:cs},{classNames:Zn,styles:Yn,name:["Input",Jn],unstyled:as,variant:En,size:Kn}),{systemStyles:gs,rest:Ss}=extractSystemStyles$1(_s);return jsxs$1(Box$1,{...__spreadValues$1e(__spreadValues$1e({className:Ms($s.wrapper,dn),sx:us,style:Pn},gs),qn),children:[Cn&&jsx$1("div",{className:$s.icon,children:Cn}),jsx$1(Box$1,{...__spreadProps$u(__spreadValues$1e({component:"input"},Ss),{ref:ln,required:vn,"aria-invalid":!!pn,"aria-describedby":ms,disabled:Sn,"data-disabled":Sn||void 0,"data-with-icon":!!Cn||void 0,"data-invalid":!!pn||void 0,className:$s.input})}),Fn&&jsx$1("div",{...__spreadProps$u(__spreadValues$1e({},Gn),{className:$s.rightSection}),children:Fn})]})});_Input.displayName="@mantine/core/Input";_Input.Wrapper=InputWrapper;_Input.Label=InputLabel;_Input.Description=InputDescription;_Input.Error=InputError;_Input.Placeholder=InputPlaceholder;const Input=_Input;var useStyles$1c=createStyles$1((sn,{orientation:ln,buttonBorderWidth:cn})=>({root:{display:"flex",flexDirection:ln==="vertical"?"column":"row","& [data-button]":{"&:first-of-type:not(:last-of-type)":{borderBottomRightRadius:0,[ln==="vertical"?"borderBottomLeftRadius":"borderTopRightRadius"]:0,[ln==="vertical"?"borderBottomWidth":"borderRightWidth"]:`calc(${rem$1(cn)} / 2)`},"&:last-of-type:not(:first-of-type)":{borderTopLeftRadius:0,[ln==="vertical"?"borderTopRightRadius":"borderBottomLeftRadius"]:0,[ln==="vertical"?"borderTopWidth":"borderLeftWidth"]:`calc(${rem$1(cn)} / 2)`},"&:not(:first-of-type):not(:last-of-type)":{borderRadius:0,[ln==="vertical"?"borderTopWidth":"borderLeftWidth"]:`calc(${rem$1(cn)} / 2)`,[ln==="vertical"?"borderBottomWidth":"borderRightWidth"]:`calc(${rem$1(cn)} / 2)`},"& + [data-button]":{[ln==="vertical"?"marginTop":"marginLeft"]:`calc(${cn} * -1)`,"@media (min-resolution: 192dpi)":{[ln==="vertical"?"marginTop":"marginLeft"]:0}}}}}));const useStyles$1d=useStyles$1c;var __defProp$1d=Object.defineProperty,__getOwnPropSymbols$1e=Object.getOwnPropertySymbols,__hasOwnProp$1e=Object.prototype.hasOwnProperty,__propIsEnum$1e=Object.prototype.propertyIsEnumerable,__defNormalProp$1d=(sn,ln,cn)=>ln in sn?__defProp$1d(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1d=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1e.call(ln,cn)&&__defNormalProp$1d(sn,cn,ln[cn]);if(__getOwnPropSymbols$1e)for(var cn of __getOwnPropSymbols$1e(ln))__propIsEnum$1e.call(ln,cn)&&__defNormalProp$1d(sn,cn,ln[cn]);return sn},__objRest$R=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1e.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1e)for(var dn of __getOwnPropSymbols$1e(sn))ln.indexOf(dn)<0&&__propIsEnum$1e.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$G={orientation:"horizontal",buttonBorderWidth:1},ButtonGroup$1=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("ButtonGroup",defaultProps$G,sn),{className:dn,orientation:pn,buttonBorderWidth:vn,unstyled:Sn}=cn,En=__objRest$R(cn,["className","orientation","buttonBorderWidth","unstyled"]),{classes:Cn,cx:Pn}=useStyles$1d({orientation:pn,buttonBorderWidth:vn},{name:"ButtonGroup",unstyled:Sn});return jsx$1(Box$1,{...__spreadValues$1d({className:Pn(Cn.root,dn),ref:ln},En)})});ButtonGroup$1.displayName="@mantine/core/ButtonGroup";var __defProp$1c=Object.defineProperty,__defProps$t=Object.defineProperties,__getOwnPropDescs$t=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1d=Object.getOwnPropertySymbols,__hasOwnProp$1d=Object.prototype.hasOwnProperty,__propIsEnum$1d=Object.prototype.propertyIsEnumerable,__defNormalProp$1c=(sn,ln,cn)=>ln in sn?__defProp$1c(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1c=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1d.call(ln,cn)&&__defNormalProp$1c(sn,cn,ln[cn]);if(__getOwnPropSymbols$1d)for(var cn of __getOwnPropSymbols$1d(ln))__propIsEnum$1d.call(ln,cn)&&__defNormalProp$1c(sn,cn,ln[cn]);return sn},__spreadProps$t=(sn,ln)=>__defProps$t(sn,__getOwnPropDescs$t(ln));const BUTTON_VARIANTS$1=["filled","outline","light","white","default","subtle","gradient"],sizes$a={xs:{height:sizes$b.xs,paddingLeft:rem$1(14),paddingRight:rem$1(14)},sm:{height:sizes$b.sm,paddingLeft:rem$1(18),paddingRight:rem$1(18)},md:{height:sizes$b.md,paddingLeft:rem$1(22),paddingRight:rem$1(22)},lg:{height:sizes$b.lg,paddingLeft:rem$1(26),paddingRight:rem$1(26)},xl:{height:sizes$b.xl,paddingLeft:rem$1(32),paddingRight:rem$1(32)},"compact-xs":{height:rem$1(22),paddingLeft:rem$1(7),paddingRight:rem$1(7)},"compact-sm":{height:rem$1(26),paddingLeft:rem$1(8),paddingRight:rem$1(8)},"compact-md":{height:rem$1(30),paddingLeft:rem$1(10),paddingRight:rem$1(10)},"compact-lg":{height:rem$1(34),paddingLeft:rem$1(12),paddingRight:rem$1(12)},"compact-xl":{height:rem$1(40),paddingLeft:rem$1(14),paddingRight:rem$1(14)}};function getSizeStyles$1({compact:sn,size:ln,withLeftIcon:cn,withRightIcon:dn}){if(sn)return sizes$a[`compact-${ln}`];const pn=sizes$a[ln];return pn?__spreadProps$t(__spreadValues$1c({},pn),{paddingLeft:cn?`calc(${pn.paddingLeft}  / 1.5)`:pn.paddingLeft,paddingRight:dn?`calc(${pn.paddingRight}  / 1.5)`:pn.paddingRight}):{}}const getWidthStyles$1=sn=>({display:sn?"block":"inline-block",width:sn?"100%":"auto"});function getVariantStyles$4({variant:sn,theme:ln,color:cn,gradient:dn}){if(!BUTTON_VARIANTS$1.includes(sn))return null;const pn=ln.fn.variant({color:cn,variant:sn,gradient:dn});return sn==="gradient"?__spreadValues$1c({border:0,backgroundImage:pn.background,color:pn.color},ln.fn.hover({backgroundSize:"200%"})):__spreadValues$1c({border:`${rem$1(1)} solid ${pn.border}`,backgroundColor:pn.background,color:pn.color},ln.fn.hover({backgroundColor:pn.hover}))}var useStyles$1a=createStyles$1((sn,{radius:ln,fullWidth:cn,compact:dn,withLeftIcon:pn,withRightIcon:vn,color:Sn,gradient:En},{variant:Cn,size:Pn})=>({root:__spreadProps$t(__spreadValues$1c(__spreadProps$t(__spreadValues$1c(__spreadValues$1c(__spreadValues$1c(__spreadValues$1c({},getSizeStyles$1({compact:dn,size:Pn,withLeftIcon:pn,withRightIcon:vn})),sn.fn.fontStyles()),sn.fn.focusStyles()),getWidthStyles$1(cn)),{borderRadius:sn.fn.radius(ln),fontWeight:600,position:"relative",lineHeight:1,fontSize:getSize$1({size:Pn,sizes:sn.fontSizes}),userSelect:"none",cursor:"pointer"}),getVariantStyles$4({variant:Cn,theme:sn,color:Sn,gradient:En})),{"&:active":sn.activeStyles,"&:disabled, &[data-disabled]":{borderColor:"transparent",backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[4]:sn.colors.gray[2],color:sn.colorScheme==="dark"?sn.colors.dark[6]:sn.colors.gray[5],cursor:"not-allowed",backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":__spreadProps$t(__spreadValues$1c({content:'""'},sn.fn.cover(rem$1(-1))),{backgroundColor:sn.colorScheme==="dark"?sn.fn.rgba(sn.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:sn.fn.radius(ln),cursor:"not-allowed"})}}),icon:{display:"flex",alignItems:"center"},leftIcon:{marginRight:sn.spacing.xs},rightIcon:{marginLeft:sn.spacing.xs},centerLoader:{position:"absolute",left:"50%",transform:"translateX(-50%)",opacity:.5},inner:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",overflow:"visible"},label:{whiteSpace:"nowrap",height:"100%",overflow:"hidden",display:"flex",alignItems:"center"}}));const useStyles$1b=useStyles$1a;var __defProp$1b=Object.defineProperty,__getOwnPropSymbols$1c=Object.getOwnPropertySymbols,__hasOwnProp$1c=Object.prototype.hasOwnProperty,__propIsEnum$1c=Object.prototype.propertyIsEnumerable,__defNormalProp$1b=(sn,ln,cn)=>ln in sn?__defProp$1b(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1b=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1c.call(ln,cn)&&__defNormalProp$1b(sn,cn,ln[cn]);if(__getOwnPropSymbols$1c)for(var cn of __getOwnPropSymbols$1c(ln))__propIsEnum$1c.call(ln,cn)&&__defNormalProp$1b(sn,cn,ln[cn]);return sn},__objRest$Q=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1c.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1c)for(var dn of __getOwnPropSymbols$1c(sn))ln.indexOf(dn)<0&&__propIsEnum$1c.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$F={size:"sm",type:"button",variant:"filled",loaderPosition:"left"},_Button$1=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("Button",defaultProps$F,sn),{className:dn,size:pn,color:vn,type:Sn,disabled:En,children:Cn,leftIcon:Pn,rightIcon:Rn,fullWidth:Ln,variant:Fn,radius:Gn,uppercase:Dn,compact:Kn,loading:qn,loaderPosition:Zn,loaderProps:Yn,gradient:Jn,classNames:rs,styles:us,unstyled:as}=cn,cs=__objRest$Q(cn,["className","size","color","type","disabled","children","leftIcon","rightIcon","fullWidth","variant","radius","uppercase","compact","loading","loaderPosition","loaderProps","gradient","classNames","styles","unstyled"]),{classes:_s,cx:Es,theme:Qn}=useStyles$1b({radius:Gn,color:vn,fullWidth:Ln,compact:Kn,gradient:Jn,withLeftIcon:!!Pn,withRightIcon:!!Rn},{name:"Button",unstyled:as,classNames:rs,styles:us,variant:Fn,size:pn}),ms=Qn.fn.variant({color:vn,variant:Fn}),$s=jsx$1(Loader$1,{...__spreadValues$1b({color:ms.color,size:`calc(${getSize$1({size:pn,sizes:sizes$a}).height} / 2)`},Yn)});return jsx$1(UnstyledButton$1,{...__spreadValues$1b({className:Es(_s.root,dn),type:Sn,disabled:En,"data-button":!0,"data-disabled":En||void 0,"data-loading":qn||void 0,ref:ln,unstyled:as},cs),children:jsxs$1("div",{className:_s.inner,children:[(Pn||qn&&Zn==="left")&&jsx$1("span",{className:Es(_s.icon,_s.leftIcon),children:qn&&Zn==="left"?$s:Pn}),qn&&Zn==="center"&&jsx$1("span",{className:_s.centerLoader,children:$s}),jsx$1("span",{className:_s.label,style:{textTransform:Dn?"uppercase":void 0},children:Cn}),(Rn||qn&&Zn==="right")&&jsx$1("span",{className:Es(_s.icon,_s.rightIcon),children:qn&&Zn==="right"?$s:Rn})]})})});_Button$1.displayName="@mantine/core/Button";_Button$1.Group=ButtonGroup$1;const Button$1=_Button$1;var useStyles$18=createStyles$1((sn,{radius:ln,shadow:cn})=>({root:{outline:0,WebkitTapHighlightColor:"transparent",display:"block",textDecoration:"none",color:sn.colorScheme==="dark"?sn.colors.dark[0]:sn.black,backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[7]:sn.white,boxSizing:"border-box",borderRadius:sn.fn.radius(ln),boxShadow:sn.shadows[cn]||cn||"none","&[data-with-border]":{border:`${rem$1(1)} solid ${sn.colorScheme==="dark"?sn.colors.dark[4]:sn.colors.gray[3]}`}}}));const useStyles$19=useStyles$18;var __defProp$1a=Object.defineProperty,__getOwnPropSymbols$1b=Object.getOwnPropertySymbols,__hasOwnProp$1b=Object.prototype.hasOwnProperty,__propIsEnum$1b=Object.prototype.propertyIsEnumerable,__defNormalProp$1a=(sn,ln,cn)=>ln in sn?__defProp$1a(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1a=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1b.call(ln,cn)&&__defNormalProp$1a(sn,cn,ln[cn]);if(__getOwnPropSymbols$1b)for(var cn of __getOwnPropSymbols$1b(ln))__propIsEnum$1b.call(ln,cn)&&__defNormalProp$1a(sn,cn,ln[cn]);return sn},__objRest$P=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1b.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1b)for(var dn of __getOwnPropSymbols$1b(sn))ln.indexOf(dn)<0&&__propIsEnum$1b.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$E={},_Paper$1=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("Paper",defaultProps$E,sn),{className:dn,children:pn,radius:vn,withBorder:Sn,shadow:En,unstyled:Cn,variant:Pn}=cn,Rn=__objRest$P(cn,["className","children","radius","withBorder","shadow","unstyled","variant"]),{classes:Ln,cx:Fn}=useStyles$19({radius:vn,shadow:En},{name:"Paper",unstyled:Cn,variant:Pn});return jsx$1(Box$1,{...__spreadValues$1a({className:Fn(Ln.root,dn),"data-with-border":Sn||void 0,ref:ln},Rn),children:pn})});_Paper$1.displayName="@mantine/core/Paper";const Paper$1=_Paper$1;var __defProp$19=Object.defineProperty,__getOwnPropSymbols$1a=Object.getOwnPropertySymbols,__hasOwnProp$1a=Object.prototype.hasOwnProperty,__propIsEnum$1a=Object.prototype.propertyIsEnumerable,__defNormalProp$19=(sn,ln,cn)=>ln in sn?__defProp$19(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$19=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1a.call(ln,cn)&&__defNormalProp$19(sn,cn,ln[cn]);if(__getOwnPropSymbols$1a)for(var cn of __getOwnPropSymbols$1a(ln))__propIsEnum$1a.call(ln,cn)&&__defNormalProp$19(sn,cn,ln[cn]);return sn};function CheckIcon(sn){return jsx$1("svg",{...__spreadValues$19({viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},sn),children:jsx$1("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var __defProp$18=Object.defineProperty,__defProps$s=Object.defineProperties,__getOwnPropDescs$s=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$19=Object.getOwnPropertySymbols,__hasOwnProp$19=Object.prototype.hasOwnProperty,__propIsEnum$19=Object.prototype.propertyIsEnumerable,__defNormalProp$18=(sn,ln,cn)=>ln in sn?__defProp$18(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$18=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$19.call(ln,cn)&&__defNormalProp$18(sn,cn,ln[cn]);if(__getOwnPropSymbols$19)for(var cn of __getOwnPropSymbols$19(ln))__propIsEnum$19.call(ln,cn)&&__defNormalProp$18(sn,cn,ln[cn]);return sn},__spreadProps$s=(sn,ln)=>__defProps$s(sn,__getOwnPropDescs$s(ln));const sizes$9={xs:rem$1(16),sm:rem$1(20),md:rem$1(24),lg:rem$1(30),xl:rem$1(36)};var useStyles$16=createStyles$1((sn,{labelPosition:ln},{size:cn})=>({root:{},body:{display:"flex","&:has(input:disabled) label":{color:sn.colorScheme==="dark"?sn.colors.dark[3]:sn.colors.gray[5]}},labelWrapper:__spreadProps$s(__spreadValues$18({},sn.fn.fontStyles()),{display:"inline-flex",flexDirection:"column",WebkitTapHighlightColor:"transparent",fontSize:cn in sizes$9?getSize$1({size:cn,sizes:sn.fontSizes}):void 0,lineHeight:cn in sizes$9?getSize$1({size:cn,sizes:sizes$9}):void 0,color:sn.colorScheme==="dark"?sn.colors.dark[0]:sn.black,cursor:sn.cursorType,order:ln==="left"?1:2}),description:{marginTop:`calc(${sn.spacing.xs} / 2)`,[ln==="left"?"paddingRight":"paddingLeft"]:sn.spacing.sm},error:{marginTop:`calc(${sn.spacing.xs} / 2)`,[ln==="left"?"paddingRight":"paddingLeft"]:sn.spacing.sm},label:{cursor:sn.cursorType,[ln==="left"?"paddingRight":"paddingLeft"]:sn.spacing.sm,"&:disabled, &[data-disabled]":{color:sn.colorScheme==="dark"?sn.colors.dark[3]:sn.colors.gray[5]}}}));const useStyles$17=useStyles$16;var __defProp$17=Object.defineProperty,__getOwnPropSymbols$18=Object.getOwnPropertySymbols,__hasOwnProp$18=Object.prototype.hasOwnProperty,__propIsEnum$18=Object.prototype.propertyIsEnumerable,__defNormalProp$17=(sn,ln,cn)=>ln in sn?__defProp$17(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$17=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$18.call(ln,cn)&&__defNormalProp$17(sn,cn,ln[cn]);if(__getOwnPropSymbols$18)for(var cn of __getOwnPropSymbols$18(ln))__propIsEnum$18.call(ln,cn)&&__defNormalProp$17(sn,cn,ln[cn]);return sn},__objRest$O=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$18.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$18)for(var dn of __getOwnPropSymbols$18(sn))ln.indexOf(dn)<0&&__propIsEnum$18.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const InlineInput=reactExports.forwardRef((sn,ln)=>{var cn=sn,{__staticSelector:dn,className:pn,classNames:vn,styles:Sn,unstyled:En,children:Cn,label:Pn,description:Rn,id:Ln,disabled:Fn,error:Gn,size:Dn,labelPosition:Kn,variant:qn}=cn,Zn=__objRest$O(cn,["__staticSelector","className","classNames","styles","unstyled","children","label","description","id","disabled","error","size","labelPosition","variant"]);const{classes:Yn,cx:Jn}=useStyles$17({labelPosition:Kn},{name:dn,styles:Sn,classNames:vn,unstyled:En,variant:qn,size:Dn});return jsx$1(Box$1,{...__spreadValues$17({className:Jn(Yn.root,pn),ref:ln},Zn),children:jsxs$1("div",{className:Jn(Yn.body),children:[Cn,jsxs$1("div",{className:Yn.labelWrapper,children:[Pn&&jsx$1("label",{className:Yn.label,"data-disabled":Fn||void 0,htmlFor:Ln,children:Pn}),Rn&&jsx$1(Input.Description,{className:Yn.description,children:Rn}),Gn&&Gn!=="boolean"&&jsx$1(Input.Error,{className:Yn.error,children:Gn})]})]})})});InlineInput.displayName="@mantine/core/InlineInput";const ChipGroupContext=reactExports.createContext(null),ChipGroupProvider=ChipGroupContext.Provider,useChipGroup=()=>reactExports.useContext(ChipGroupContext),defaultProps$D={};function ChipGroup(sn){const{value:ln,defaultValue:cn,onChange:dn,multiple:pn,children:vn}=useComponentDefaultProps$1("ChipGroup",defaultProps$D,sn),[Sn,En]=useUncontrolled({value:ln,defaultValue:cn,finalValue:pn?[]:null,onChange:dn});return jsx$1(ChipGroupProvider,{value:{isChipSelected:Rn=>Array.isArray(Sn)?Sn.includes(Rn):Rn===Sn,onChange:Rn=>{const Ln=Rn.currentTarget.value;Array.isArray(Sn)?En(Sn.includes(Ln)?Sn.filter(Fn=>Fn!==Ln):[...Sn,Ln]):En(Ln)},multiple:pn},children:vn})}ChipGroup.displayName="@mantine/core/ChipGroup";var __defProp$16=Object.defineProperty,__defProps$r=Object.defineProperties,__getOwnPropDescs$r=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$17=Object.getOwnPropertySymbols,__hasOwnProp$17=Object.prototype.hasOwnProperty,__propIsEnum$17=Object.prototype.propertyIsEnumerable,__defNormalProp$16=(sn,ln,cn)=>ln in sn?__defProp$16(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$16=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$17.call(ln,cn)&&__defNormalProp$16(sn,cn,ln[cn]);if(__getOwnPropSymbols$17)for(var cn of __getOwnPropSymbols$17(ln))__propIsEnum$17.call(ln,cn)&&__defNormalProp$16(sn,cn,ln[cn]);return sn},__spreadProps$r=(sn,ln)=>__defProps$r(sn,__getOwnPropDescs$r(ln));const sizes$8={xs:rem$1(24),sm:rem$1(28),md:rem$1(32),lg:rem$1(36),xl:rem$1(40)},iconSizes$1={xs:rem$1(10),sm:rem$1(12),md:rem$1(14),lg:rem$1(16),xl:rem$1(18)},padding={xs:rem$1(16),sm:rem$1(20),md:rem$1(24),lg:rem$1(28),xl:rem$1(32)},checkedPadding={xs:rem$1(7.5),sm:rem$1(10),md:rem$1(11.5),lg:rem$1(13),xl:rem$1(15)};function getVariantStyles$3(sn,{color:ln},cn){const dn=sn.fn.variant({variant:"filled",color:ln}),pn=sn.fn.variant({variant:"light",color:ln});return cn==="light"?{label:__spreadValues$16({backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[6]:sn.colors.gray[1]},sn.fn.hover({backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[5]:sn.colors.gray[0]})),checked:__spreadProps$r(__spreadValues$16({color:pn.color,backgroundColor:pn.background},sn.fn.hover({backgroundColor:pn.hover})),{"&, &:hover":{backgroundColor:sn.fn.variant({variant:"light",color:ln}).background}})}:cn==="filled"?{label:__spreadValues$16({backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[6]:sn.colors.gray[1]},sn.fn.hover({backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[5]:sn.colors.gray[0]})),checked:__spreadValues$16({color:dn.color,backgroundColor:dn.background},sn.fn.hover({backgroundColor:dn.hover}))}:cn==="outline"?{label:__spreadValues$16({backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[6]:sn.white,borderColor:sn.colorScheme==="dark"?sn.colors.dark[4]:sn.colors.gray[4]},sn.fn.hover({backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[5]:sn.colors.gray[0]})),checked:{border:`${rem$1(1)} solid ${dn.background}`}}:{label:null,checked:null}}var useStyles$14=createStyles$1((sn,{radius:ln,color:cn},{size:dn,variant:pn})=>{const vn=getVariantStyles$3(sn,{color:cn},pn);return{root:{},label:__spreadProps$r(__spreadValues$16(__spreadProps$r(__spreadValues$16({ref:getStylesRef("label")},sn.fn.fontStyles()),{boxSizing:"border-box",color:sn.colorScheme==="dark"?sn.colors.dark[0]:sn.black,display:"inline-flex",alignItems:"center",userSelect:"none",border:`${rem$1(1)} solid transparent`,borderRadius:sn.fn.radius(ln),height:getSize$1({size:dn,sizes:sizes$8}),fontSize:getSize$1({size:dn,sizes:sn.fontSizes}),lineHeight:`calc(${getSize$1({size:dn,sizes:sizes$8})} - ${rem$1(2)})`,paddingLeft:getSize$1({size:dn,sizes:padding}),paddingRight:getSize$1({size:dn,sizes:padding}),cursor:"pointer",whiteSpace:"nowrap",transition:"background-color 100ms ease",WebkitTapHighlightColor:"transparent"}),vn.label),{"&[data-disabled]":__spreadProps$r(__spreadValues$16({backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[5]:sn.colors.gray[1],borderColor:sn.colorScheme==="dark"?sn.colors.dark[5]:sn.colors.gray[1],color:sn.colorScheme==="dark"?sn.colors.dark[3]:sn.colors.gray[5],cursor:"not-allowed",pointerEvents:"none"},sn.fn.hover({backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[5]:sn.colors.gray[1]})),{[`& .${getStylesRef("iconWrapper")}`]:{color:sn.colorScheme==="dark"?sn.colors.dark[3]:sn.colors.gray[5]}}),"&[data-checked]":{paddingLeft:getSize$1({size:dn,sizes:checkedPadding}),paddingRight:getSize$1({size:dn,sizes:checkedPadding}),"&:not([data-disabled])":vn.checked}}),iconWrapper:{ref:getStylesRef("iconWrapper"),color:pn==="filled"?sn.white:sn.fn.variant({variant:"filled",color:cn}).background,width:`calc(${getSize$1({size:dn,sizes:iconSizes$1})} + (${getSize$1({size:dn,sizes:sn.spacing})} / 1.5))`,maxWidth:`calc(${getSize$1({size:dn,sizes:iconSizes$1})} + (${getSize$1({size:dn,sizes:sn.spacing})} / 1.5))`,height:getSize$1({size:dn,sizes:iconSizes$1}),display:"inline-block",verticalAlign:"middle",overflow:"hidden"},checkIcon:{width:getSize$1({size:dn,sizes:iconSizes$1}),height:`calc(${getSize$1({size:dn,sizes:iconSizes$1})} / 1.1)`,display:"block"},input:{width:0,height:0,padding:0,opacity:0,margin:0,"&:disabled + label":__spreadProps$r(__spreadValues$16({backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[5]:sn.colors.gray[1],borderColor:sn.colorScheme==="dark"?sn.colors.dark[5]:sn.colors.gray[1],color:sn.colorScheme==="dark"?sn.colors.dark[3]:sn.colors.gray[5],cursor:"not-allowed",pointerEvents:"none"},sn.fn.hover({backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[5]:sn.colors.gray[1]})),{[`& .${getStylesRef("iconWrapper")}`]:{color:sn.colorScheme==="dark"?sn.colors.dark[3]:sn.colors.gray[5]},"&[data-checked]":{paddingLeft:getSize$1({size:dn,sizes:checkedPadding}),paddingRight:getSize$1({size:dn,sizes:checkedPadding}),"&:not([data-disabled])":{backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[5]:sn.colors.gray[1],borderColor:sn.colorScheme==="dark"?sn.colors.dark[5]:sn.colors.gray[1],color:sn.colorScheme==="dark"?sn.colors.dark[3]:sn.colors.gray[5]}}}),"&:focus":{outline:"none",[`& + .${getStylesRef("label")}`]:__spreadValues$16({},sn.focusRing==="always"||sn.focusRing==="auto"?sn.focusRingStyles.styles(sn):sn.focusRingStyles.resetStyles(sn)),"&:focus:not(:focus-visible)":{[`& + .${getStylesRef("label")}`]:__spreadValues$16({},sn.focusRing==="auto"||sn.focusRing==="never"?sn.focusRingStyles.resetStyles(sn):null)}}}}});const useStyles$15=useStyles$14;var __defProp$15=Object.defineProperty,__getOwnPropSymbols$16=Object.getOwnPropertySymbols,__hasOwnProp$16=Object.prototype.hasOwnProperty,__propIsEnum$16=Object.prototype.propertyIsEnumerable,__defNormalProp$15=(sn,ln,cn)=>ln in sn?__defProp$15(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$15=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$16.call(ln,cn)&&__defNormalProp$15(sn,cn,ln[cn]);if(__getOwnPropSymbols$16)for(var cn of __getOwnPropSymbols$16(ln))__propIsEnum$16.call(ln,cn)&&__defNormalProp$15(sn,cn,ln[cn]);return sn},__objRest$N=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$16.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$16)for(var dn of __getOwnPropSymbols$16(sn))ln.indexOf(dn)<0&&__propIsEnum$16.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$C={type:"checkbox",size:"sm",radius:"xl",variant:"outline"},Chip=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("Chip",defaultProps$C,sn),{radius:dn,type:pn,size:vn,variant:Sn,disabled:En,id:Cn,color:Pn,children:Rn,className:Ln,classNames:Fn,style:Gn,styles:Dn,checked:Kn,defaultChecked:qn,onChange:Zn,sx:Yn,wrapperProps:Jn,value:rs,unstyled:us}=cn,as=__objRest$N(cn,["radius","type","size","variant","disabled","id","color","children","className","classNames","style","styles","checked","defaultChecked","onChange","sx","wrapperProps","value","unstyled"]),cs=useChipGroup(),_s=useId$1(Cn),{systemStyles:Es,rest:Qn}=extractSystemStyles$1(as),{classes:ms,cx:$s}=useStyles$15({radius:dn,color:Pn},{classNames:Fn,styles:Dn,unstyled:us,name:"Chip",variant:Sn,size:vn}),[Ms,gs]=useUncontrolled({value:Kn,defaultValue:qn,finalValue:!1,onChange:Zn}),Ss=cs?{checked:cs.isChipSelected(rs),onChange:cs.onChange,type:cs.multiple?"checkbox":"radio"}:{},js=Ss.checked||Ms;return jsxs$1(Box$1,{...__spreadValues$15(__spreadValues$15({className:$s(ms.root,Ln),style:Gn,sx:Yn},Es),Jn),children:[jsx$1("input",{...__spreadValues$15(__spreadValues$15({type:pn,className:ms.input,checked:js,onChange:bs=>gs(bs.currentTarget.checked),id:_s,disabled:En,ref:ln,value:rs},Ss),Qn)}),jsxs$1("label",{htmlFor:_s,"data-checked":js||void 0,"data-disabled":En||void 0,className:ms.label,children:[js&&jsx$1("span",{className:ms.iconWrapper,children:jsx$1(CheckIcon,{className:ms.checkIcon})}),Rn]})]})});Chip.displayName="@mantine/core/Chip";Chip.Group=ChipGroup;const[ModalBaseProvider,useModalBaseContext]=createSafeContext("ModalBase component was not found in tree");var useStyles$12=createStyles$1(()=>({close:{marginLeft:"auto",marginRight:0}}));const useStyles$13=useStyles$12;var __defProp$14=Object.defineProperty,__getOwnPropSymbols$15=Object.getOwnPropertySymbols,__hasOwnProp$15=Object.prototype.hasOwnProperty,__propIsEnum$15=Object.prototype.propertyIsEnumerable,__defNormalProp$14=(sn,ln,cn)=>ln in sn?__defProp$14(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$14=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$15.call(ln,cn)&&__defNormalProp$14(sn,cn,ln[cn]);if(__getOwnPropSymbols$15)for(var cn of __getOwnPropSymbols$15(ln))__propIsEnum$15.call(ln,cn)&&__defNormalProp$14(sn,cn,ln[cn]);return sn},__objRest$M=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$15.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$15)for(var dn of __getOwnPropSymbols$15(sn))ln.indexOf(dn)<0&&__propIsEnum$15.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$B={size:"sm"},ModalBaseCloseButton=reactExports.forwardRef((sn,ln)=>{const cn=useModalBaseContext(),dn=useComponentDefaultProps$1(`${cn.__staticSelector}CloseButton`,defaultProps$B,sn),{className:pn}=dn,vn=__objRest$M(dn,["className"]),{classes:Sn,cx:En}=useStyles$13(null,cn.stylesApi);return jsx$1(CloseButton$1,{...__spreadValues$14({className:En(Sn.close,pn),ref:ln,onClick:cn.onClose},vn)})});var useStyles$10=createStyles$1(()=>({overlay:{}}));const useStyles$11=useStyles$10;var __defProp$13=Object.defineProperty,__defProps$q=Object.defineProperties,__getOwnPropDescs$q=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$14=Object.getOwnPropertySymbols,__hasOwnProp$14=Object.prototype.hasOwnProperty,__propIsEnum$14=Object.prototype.propertyIsEnumerable,__defNormalProp$13=(sn,ln,cn)=>ln in sn?__defProp$13(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$13=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$14.call(ln,cn)&&__defNormalProp$13(sn,cn,ln[cn]);if(__getOwnPropSymbols$14)for(var cn of __getOwnPropSymbols$14(ln))__propIsEnum$14.call(ln,cn)&&__defNormalProp$13(sn,cn,ln[cn]);return sn},__spreadProps$q=(sn,ln)=>__defProps$q(sn,__getOwnPropDescs$q(ln)),useStyles$_=createStyles$1((sn,{color:ln,opacity:cn,blur:dn,radius:pn,gradient:vn,fixed:Sn,zIndex:En})=>({root:__spreadProps$q(__spreadValues$13({},sn.fn.cover(0)),{position:Sn?"fixed":"absolute",backgroundColor:vn?void 0:sn.fn.rgba(ln,cn),backgroundImage:vn,backdropFilter:dn?`blur(${rem$1(dn)})`:void 0,borderRadius:sn.fn.radius(pn),zIndex:En,"&[data-center]":{display:"flex",alignItems:"center",justifyContent:"center"}})}));const useStyles$$=useStyles$_;var __defProp$12=Object.defineProperty,__getOwnPropSymbols$13=Object.getOwnPropertySymbols,__hasOwnProp$13=Object.prototype.hasOwnProperty,__propIsEnum$13=Object.prototype.propertyIsEnumerable,__defNormalProp$12=(sn,ln,cn)=>ln in sn?__defProp$12(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$12=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$13.call(ln,cn)&&__defNormalProp$12(sn,cn,ln[cn]);if(__getOwnPropSymbols$13)for(var cn of __getOwnPropSymbols$13(ln))__propIsEnum$13.call(ln,cn)&&__defNormalProp$12(sn,cn,ln[cn]);return sn},__objRest$L=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$13.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$13)for(var dn of __getOwnPropSymbols$13(sn))ln.indexOf(dn)<0&&__propIsEnum$13.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$A={opacity:.6,color:"#000",zIndex:getDefaultZIndex("modal"),radius:0},_Overlay=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("Overlay",defaultProps$A,sn),{variant:dn,opacity:pn,color:vn,blur:Sn,gradient:En,zIndex:Cn,radius:Pn,children:Rn,className:Ln,classNames:Fn,styles:Gn,unstyled:Dn,center:Kn,fixed:qn}=cn,Zn=__objRest$L(cn,["variant","opacity","color","blur","gradient","zIndex","radius","children","className","classNames","styles","unstyled","center","fixed"]),{classes:Yn,cx:Jn}=useStyles$$({color:vn,opacity:pn,blur:Sn,radius:Pn,gradient:En,fixed:qn,zIndex:Cn},{name:"Overlay",classNames:Fn,styles:Gn,unstyled:Dn,variant:dn});return jsx$1(Box$1,{...__spreadValues$12({ref:ln,className:Jn(Yn.root,Ln),"data-center":Kn||void 0},Zn),children:Rn})});_Overlay.displayName="@mantine/core/Overlay";const Overlay=_Overlay;var __defProp$11=Object.defineProperty,__defProps$p=Object.defineProperties,__getOwnPropDescs$p=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$12=Object.getOwnPropertySymbols,__hasOwnProp$12=Object.prototype.hasOwnProperty,__propIsEnum$12=Object.prototype.propertyIsEnumerable,__defNormalProp$11=(sn,ln,cn)=>ln in sn?__defProp$11(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$11=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$12.call(ln,cn)&&__defNormalProp$11(sn,cn,ln[cn]);if(__getOwnPropSymbols$12)for(var cn of __getOwnPropSymbols$12(ln))__propIsEnum$12.call(ln,cn)&&__defNormalProp$11(sn,cn,ln[cn]);return sn},__spreadProps$p=(sn,ln)=>__defProps$p(sn,__getOwnPropDescs$p(ln)),__objRest$K=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$12.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$12)for(var dn of __getOwnPropSymbols$12(sn))ln.indexOf(dn)<0&&__propIsEnum$12.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$z={},ModalBaseOverlay=reactExports.forwardRef((sn,ln)=>{const cn=useModalBaseContext(),dn=useComponentDefaultProps$1(`${cn.__staticSelector}Overlay`,defaultProps$z,sn),{onClick:pn,transitionProps:vn,style:Sn,className:En}=dn,Cn=__objRest$K(dn,["onClick","transitionProps","style","className"]),{classes:Pn,cx:Rn}=useStyles$11(null,cn.stylesApi),Ln=Fn=>{pn==null||pn(Fn),cn.closeOnClickOutside&&cn.onClose()};return jsx$1(Transition$2,{...__spreadProps$p(__spreadValues$11(__spreadValues$11({mounted:cn.opened},cn.transitionProps),vn),{transition:"fade"}),children:Fn=>jsx$1(Overlay,{...__spreadValues$11({ref:ln,onClick:Ln,fixed:!0,style:__spreadValues$11(__spreadValues$11({},Sn),Fn),className:Rn(Pn.overlay,En),zIndex:cn.zIndex},Cn)})})});var useStyles$Y=createStyles$1((sn,{zIndex:ln})=>({inner:{position:"fixed",width:"100%",top:0,bottom:0,maxHeight:"100%",zIndex:ln,pointerEvents:"none"},content:{pointerEvents:"all"}}));const useStyles$Z=useStyles$Y;var __defProp$10=Object.defineProperty,__getOwnPropSymbols$11=Object.getOwnPropertySymbols,__hasOwnProp$11=Object.prototype.hasOwnProperty,__propIsEnum$11=Object.prototype.propertyIsEnumerable,__defNormalProp$10=(sn,ln,cn)=>ln in sn?__defProp$10(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$10=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$11.call(ln,cn)&&__defNormalProp$10(sn,cn,ln[cn]);if(__getOwnPropSymbols$11)for(var cn of __getOwnPropSymbols$11(ln))__propIsEnum$11.call(ln,cn)&&__defNormalProp$10(sn,cn,ln[cn]);return sn},__objRest$J=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$11.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$11)for(var dn of __getOwnPropSymbols$11(sn))ln.indexOf(dn)<0&&__propIsEnum$11.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$y={},ModalBaseContent=reactExports.forwardRef((sn,ln)=>{const cn=useModalBaseContext(),dn=useComponentDefaultProps$1(`${cn.__staticSelector}Content`,defaultProps$y,sn),{className:pn,transitionProps:vn,style:Sn,onKeyDown:En}=dn,Cn=__objRest$J(dn,["className","transitionProps","style","onKeyDown"]),{classes:Pn,cx:Rn}=useStyles$Z({zIndex:cn.zIndex+1},cn.stylesApi),Ln=Fn=>{var Gn;((Gn=Fn.target)==null?void 0:Gn.getAttribute("data-mantine-stop-propagation"))!=="true"&&Fn.key==="Escape"&&cn.closeOnEscape&&cn.onClose(),En==null||En(Fn)};return jsx$1(Transition$2,{...__spreadValues$10(__spreadValues$10({mounted:cn.opened,transition:"pop"},cn.transitionProps),vn),children:Fn=>jsx$1("div",{className:Rn(Pn.inner),children:jsx$1(FocusTrap,{active:cn.opened&&cn.trapFocus,children:jsx$1(Paper$1,{...__spreadValues$10({component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":cn.bodyMounted?cn.getBodyId():void 0,"aria-labelledby":cn.titleMounted?cn.getTitleId():void 0,onKeyDown:Ln,ref:ln,className:Rn(Pn.content,pn),style:__spreadValues$10(__spreadValues$10({},Sn),Fn),shadow:cn.shadow},Cn),children:Cn.children})})})})});var useStyles$W=createStyles$1((sn,{padding:ln})=>{const cn=getSize$1({size:ln,sizes:sn.spacing});return{header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:cn,paddingRight:`calc(${cn} - ${rem$1(5)})`,position:"sticky",top:0,backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[7]:sn.white,zIndex:1e3}}});const useStyles$X=useStyles$W;var __defProp$$=Object.defineProperty,__getOwnPropSymbols$10=Object.getOwnPropertySymbols,__hasOwnProp$10=Object.prototype.hasOwnProperty,__propIsEnum$10=Object.prototype.propertyIsEnumerable,__defNormalProp$$=(sn,ln,cn)=>ln in sn?__defProp$$(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$$=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$10.call(ln,cn)&&__defNormalProp$$(sn,cn,ln[cn]);if(__getOwnPropSymbols$10)for(var cn of __getOwnPropSymbols$10(ln))__propIsEnum$10.call(ln,cn)&&__defNormalProp$$(sn,cn,ln[cn]);return sn},__objRest$I=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$10.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$10)for(var dn of __getOwnPropSymbols$10(sn))ln.indexOf(dn)<0&&__propIsEnum$10.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$x={},ModalBaseHeader=reactExports.forwardRef((sn,ln)=>{const cn=useModalBaseContext(),dn=useComponentDefaultProps$1(`${cn.__staticSelector}Header`,defaultProps$x,sn),{className:pn}=dn,vn=__objRest$I(dn,["className"]),{classes:Sn,cx:En}=useStyles$X({padding:cn.padding},cn.stylesApi);return jsx$1(Box$1,{...__spreadValues$$({ref:ln,className:En(Sn.header,pn)},vn)})});var useStyles$U=createStyles$1(sn=>({title:{lineHeight:1,padding:0,margin:0,fontWeight:400,fontSize:sn.fontSizes.md}}));const useStyles$V=useStyles$U;var __defProp$_=Object.defineProperty,__getOwnPropSymbols$$=Object.getOwnPropertySymbols,__hasOwnProp$$=Object.prototype.hasOwnProperty,__propIsEnum$$=Object.prototype.propertyIsEnumerable,__defNormalProp$_=(sn,ln,cn)=>ln in sn?__defProp$_(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$_=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$$.call(ln,cn)&&__defNormalProp$_(sn,cn,ln[cn]);if(__getOwnPropSymbols$$)for(var cn of __getOwnPropSymbols$$(ln))__propIsEnum$$.call(ln,cn)&&__defNormalProp$_(sn,cn,ln[cn]);return sn},__objRest$H=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$$.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$$)for(var dn of __getOwnPropSymbols$$(sn))ln.indexOf(dn)<0&&__propIsEnum$$.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$w={},ModalBaseTitle=reactExports.forwardRef((sn,ln)=>{const cn=useModalBaseContext(),dn=useComponentDefaultProps$1(`${cn.__staticSelector}Title`,defaultProps$w,sn),{className:pn}=dn,vn=__objRest$H(dn,["className"]),{classes:Sn,cx:En}=useStyles$V(null,cn.stylesApi);return reactExports.useEffect(()=>(cn.setTitleMounted(!0),()=>cn.setTitleMounted(!1)),[]),jsx$1(Box$1,{...__spreadValues$_({component:"h2",id:cn.getTitleId(),className:En(Sn.title,pn),ref:ln},vn)})});var useStyles$S=createStyles$1((sn,{padding:ln})=>({body:{padding:getSize$1({size:ln,sizes:sn.spacing}),"&:not(:only-child)":{paddingTop:0}}}));const useStyles$T=useStyles$S;var __defProp$Z=Object.defineProperty,__getOwnPropSymbols$_=Object.getOwnPropertySymbols,__hasOwnProp$_=Object.prototype.hasOwnProperty,__propIsEnum$_=Object.prototype.propertyIsEnumerable,__defNormalProp$Z=(sn,ln,cn)=>ln in sn?__defProp$Z(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$Z=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$_.call(ln,cn)&&__defNormalProp$Z(sn,cn,ln[cn]);if(__getOwnPropSymbols$_)for(var cn of __getOwnPropSymbols$_(ln))__propIsEnum$_.call(ln,cn)&&__defNormalProp$Z(sn,cn,ln[cn]);return sn},__objRest$G=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$_.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$_)for(var dn of __getOwnPropSymbols$_(sn))ln.indexOf(dn)<0&&__propIsEnum$_.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$v={},ModalBaseBody=reactExports.forwardRef((sn,ln)=>{const cn=useModalBaseContext(),dn=useComponentDefaultProps$1(`${cn.__staticSelector}Body`,defaultProps$v,sn),{className:pn}=dn,vn=__objRest$G(dn,["className"]),{classes:Sn,cx:En}=useStyles$T({padding:cn.padding},cn.stylesApi);return reactExports.useEffect(()=>(cn.setBodyMounted(!0),()=>cn.setBodyMounted(!1)),[]),jsx$1(Box$1,{...__spreadValues$Z({id:cn.getBodyId(),className:En(Sn.body,pn),ref:ln},vn)})});function NativeScrollArea({children:sn}){return jsx$1(Fragment$1,{children:sn})}function useLockScroll({opened:sn,transitionDuration:ln}){const[cn,dn]=reactExports.useState(sn),pn=reactExports.useRef(),Sn=useReducedMotion()?0:ln;return reactExports.useEffect(()=>(sn?(dn(!0),window.clearTimeout(pn.current)):Sn===0?dn(!1):pn.current=window.setTimeout(()=>dn(!1),Sn),()=>window.clearTimeout(pn.current)),[sn,Sn]),cn}var useStyles$Q=createStyles$1(()=>({root:{}}));const useStyles$R=useStyles$Q;var __defProp$Y=Object.defineProperty,__defProps$o=Object.defineProperties,__getOwnPropDescs$o=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$Z=Object.getOwnPropertySymbols,__hasOwnProp$Z=Object.prototype.hasOwnProperty,__propIsEnum$Z=Object.prototype.propertyIsEnumerable,__defNormalProp$Y=(sn,ln,cn)=>ln in sn?__defProp$Y(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$Y=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$Z.call(ln,cn)&&__defNormalProp$Y(sn,cn,ln[cn]);if(__getOwnPropSymbols$Z)for(var cn of __getOwnPropSymbols$Z(ln))__propIsEnum$Z.call(ln,cn)&&__defNormalProp$Y(sn,cn,ln[cn]);return sn},__spreadProps$o=(sn,ln)=>__defProps$o(sn,__getOwnPropDescs$o(ln)),__objRest$F=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$Z.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$Z)for(var dn of __getOwnPropSymbols$Z(sn))ln.indexOf(dn)<0&&__propIsEnum$Z.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const ModalBaseDefaultProps={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:getDefaultZIndex("modal"),padding:"md",size:"md",shadow:"xl"};function ModalBase(sn){const ln=useComponentDefaultProps$1("ModalBase",ModalBaseDefaultProps,sn),{opened:cn,onClose:dn,children:pn,closeOnClickOutside:vn,__staticSelector:Sn,transitionProps:En,withinPortal:Cn,portalProps:Pn,keepMounted:Rn,target:Ln,zIndex:Fn,lockScroll:Gn,trapFocus:Dn,closeOnEscape:Kn,returnFocus:qn,padding:Zn,shadow:Yn,id:Jn,size:rs,variant:us,classNames:as,unstyled:cs,styles:_s,className:Es}=ln,Qn=__objRest$F(ln,["opened","onClose","children","closeOnClickOutside","__staticSelector","transitionProps","withinPortal","portalProps","keepMounted","target","zIndex","lockScroll","trapFocus","closeOnEscape","returnFocus","padding","shadow","id","size","variant","classNames","unstyled","styles","className"]),{classes:ms,cx:$s}=useStyles$R(null,{name:Sn,classNames:as,styles:_s,unstyled:cs,variant:us,size:rs}),Ms=useId$1(Jn),[gs,Ss]=reactExports.useState(!1),[js,bs]=reactExports.useState(!1),Ts=typeof(En==null?void 0:En.duration)=="number"?En==null?void 0:En.duration:200,xs=useLockScroll({opened:cn,transitionDuration:Ts});return useWindowEvent("keydown",zs=>{!Dn&&zs.key==="Escape"&&Kn&&dn()}),useFocusReturn({opened:cn,shouldReturnFocus:Dn&&qn}),jsx$1(OptionalPortal,{...__spreadProps$o(__spreadValues$Y({},Pn),{withinPortal:Cn,target:Ln}),children:jsx$1(ModalBaseProvider,{value:{__staticSelector:Sn,opened:cn,onClose:dn,closeOnClickOutside:vn,transitionProps:__spreadProps$o(__spreadValues$Y({},En),{duration:Ts,keepMounted:Rn}),zIndex:Fn,padding:Zn,id:Ms,getTitleId:()=>`${Ms}-title`,getBodyId:()=>`${Ms}-body`,titleMounted:gs,bodyMounted:js,setTitleMounted:Ss,setBodyMounted:bs,trapFocus:Dn,closeOnEscape:Kn,shadow:Yn,stylesApi:{name:Sn,size:rs,variant:us,classNames:as,styles:_s,unstyled:cs}},children:jsx$1(RemoveScroll,{enabled:xs&&Gn,children:jsx$1(Box$1,{...__spreadValues$Y({className:$s(ms.root,Es)},Qn),children:pn})})})})}ModalBase.CloseButton=ModalBaseCloseButton;ModalBase.Overlay=ModalBaseOverlay;ModalBase.Content=ModalBaseContent;ModalBase.Header=ModalBaseHeader;ModalBase.Title=ModalBaseTitle;ModalBase.Body=ModalBaseBody;ModalBase.NativeScrollArea=NativeScrollArea;function filterFalsyChildren(sn){return reactExports.Children.toArray(sn).filter(Boolean)}const GROUP_POSITIONS={left:"flex-start",center:"center",right:"flex-end",apart:"space-between"};var useStyles$O=createStyles$1((sn,{spacing:ln,position:cn,noWrap:dn,grow:pn,align:vn,count:Sn})=>({root:{boxSizing:"border-box",display:"flex",flexDirection:"row",alignItems:vn||"center",flexWrap:dn?"nowrap":"wrap",justifyContent:GROUP_POSITIONS[cn],gap:getSize$1({size:ln,sizes:sn.spacing}),"& > *":{boxSizing:"border-box",maxWidth:pn?`calc(${100/Sn}% - (${rem$1(getSize$1({size:ln,sizes:sn.spacing}))} - ${getSize$1({size:ln,sizes:sn.spacing})} / ${Sn}))`:void 0,flexGrow:pn?1:0}}}));const useStyles$P=useStyles$O;var __defProp$X=Object.defineProperty,__getOwnPropSymbols$Y=Object.getOwnPropertySymbols,__hasOwnProp$Y=Object.prototype.hasOwnProperty,__propIsEnum$Y=Object.prototype.propertyIsEnumerable,__defNormalProp$X=(sn,ln,cn)=>ln in sn?__defProp$X(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$X=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$Y.call(ln,cn)&&__defNormalProp$X(sn,cn,ln[cn]);if(__getOwnPropSymbols$Y)for(var cn of __getOwnPropSymbols$Y(ln))__propIsEnum$Y.call(ln,cn)&&__defNormalProp$X(sn,cn,ln[cn]);return sn},__objRest$E=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$Y.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$Y)for(var dn of __getOwnPropSymbols$Y(sn))ln.indexOf(dn)<0&&__propIsEnum$Y.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$u={position:"left",spacing:"md"},Group=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("Group",defaultProps$u,sn),{className:dn,position:pn,align:vn,children:Sn,noWrap:En,grow:Cn,spacing:Pn,unstyled:Rn,variant:Ln}=cn,Fn=__objRest$E(cn,["className","position","align","children","noWrap","grow","spacing","unstyled","variant"]),Gn=filterFalsyChildren(Sn),{classes:Dn,cx:Kn}=useStyles$P({align:vn,grow:Cn,noWrap:En,spacing:Pn,position:pn,count:Gn.length},{unstyled:Rn,name:"Group",variant:Ln});return jsx$1(Box$1,{...__spreadValues$X({className:Kn(Dn.root,dn),ref:ln},Fn),children:Gn})});Group.displayName="@mantine/core/Group";function useDelayedHover({open:sn,close:ln,openDelay:cn,closeDelay:dn}){const pn=reactExports.useRef(-1),vn=reactExports.useRef(-1),Sn=()=>{window.clearTimeout(pn.current),window.clearTimeout(vn.current)},En=()=>{Sn(),cn===0?sn():pn.current=window.setTimeout(sn,cn)},Cn=()=>{Sn(),dn===0?ln():vn.current=window.setTimeout(ln,dn)};return reactExports.useEffect(()=>Sn,[]),{openDropdown:En,closeDropdown:Cn}}function _objectWithoutPropertiesLoose(sn,ln){if(sn==null)return{};var cn={},dn=Object.keys(sn),pn,vn;for(vn=0;vn<dn.length;vn++)pn=dn[vn],!(ln.indexOf(pn)>=0)&&(cn[pn]=sn[pn]);return cn}var index$2=reactExports.useLayoutEffect,useLatest=function(ln){var cn=reactExports.useRef(ln);return index$2(function(){cn.current=ln}),cn},updateRef=function(ln,cn){if(typeof ln=="function"){ln(cn);return}ln.current=cn},useComposedRef=function(ln,cn){var dn=reactExports.useRef();return reactExports.useCallback(function(pn){ln.current=pn,dn.current&&updateRef(dn.current,null),dn.current=cn,cn&&updateRef(cn,pn)},[cn])},HIDDEN_TEXTAREA_STYLE={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},forceHiddenStyles=function(ln){Object.keys(HIDDEN_TEXTAREA_STYLE).forEach(function(cn){ln.style.setProperty(cn,HIDDEN_TEXTAREA_STYLE[cn],"important")})},hiddenTextarea=null,getHeight=function(ln,cn){var dn=ln.scrollHeight;return cn.sizingStyle.boxSizing==="border-box"?dn+cn.borderSize:dn-cn.paddingSize};function calculateNodeHeight(sn,ln,cn,dn){cn===void 0&&(cn=1),dn===void 0&&(dn=1/0),hiddenTextarea||(hiddenTextarea=document.createElement("textarea"),hiddenTextarea.setAttribute("tabindex","-1"),hiddenTextarea.setAttribute("aria-hidden","true"),forceHiddenStyles(hiddenTextarea)),hiddenTextarea.parentNode===null&&document.body.appendChild(hiddenTextarea);var pn=sn.paddingSize,vn=sn.borderSize,Sn=sn.sizingStyle,En=Sn.boxSizing;Object.keys(Sn).forEach(function(Fn){var Gn=Fn;hiddenTextarea.style[Gn]=Sn[Gn]}),forceHiddenStyles(hiddenTextarea),hiddenTextarea.value=ln;var Cn=getHeight(hiddenTextarea,sn);hiddenTextarea.value="x";var Pn=hiddenTextarea.scrollHeight-pn,Rn=Pn*cn;En==="border-box"&&(Rn=Rn+pn+vn),Cn=Math.max(Rn,Cn);var Ln=Pn*dn;return En==="border-box"&&(Ln=Ln+pn+vn),Cn=Math.min(Ln,Cn),[Cn,Pn]}var noop$3=function(){},pick=function(ln,cn){return ln.reduce(function(dn,pn){return dn[pn]=cn[pn],dn},{})},SIZING_STYLE=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],isIE=!!document.documentElement.currentStyle,getSizingData=function(ln){var cn=window.getComputedStyle(ln);if(cn===null)return null;var dn=pick(SIZING_STYLE,cn),pn=dn.boxSizing;if(pn==="")return null;isIE&&pn==="border-box"&&(dn.width=parseFloat(dn.width)+parseFloat(dn.borderRightWidth)+parseFloat(dn.borderLeftWidth)+parseFloat(dn.paddingRight)+parseFloat(dn.paddingLeft)+"px");var vn=parseFloat(dn.paddingBottom)+parseFloat(dn.paddingTop),Sn=parseFloat(dn.borderBottomWidth)+parseFloat(dn.borderTopWidth);return{sizingStyle:dn,paddingSize:vn,borderSize:Sn}},useWindowResizeListener=function(ln){var cn=useLatest(ln);reactExports.useLayoutEffect(function(){var dn=function(vn){cn.current(vn)};return window.addEventListener("resize",dn),function(){window.removeEventListener("resize",dn)}},[])},TextareaAutosize=function(ln,cn){var dn=ln.cacheMeasurements,pn=ln.maxRows,vn=ln.minRows,Sn=ln.onChange,En=Sn===void 0?noop$3:Sn,Cn=ln.onHeightChange,Pn=Cn===void 0?noop$3:Cn,Rn=_objectWithoutPropertiesLoose(ln,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),Ln=Rn.value!==void 0,Fn=reactExports.useRef(null),Gn=useComposedRef(Fn,cn),Dn=reactExports.useRef(0),Kn=reactExports.useRef(),qn=function(){var Jn=Fn.current,rs=dn&&Kn.current?Kn.current:getSizingData(Jn);if(rs){Kn.current=rs;var us=calculateNodeHeight(rs,Jn.value||Jn.placeholder||"x",vn,pn),as=us[0],cs=us[1];Dn.current!==as&&(Dn.current=as,Jn.style.setProperty("height",as+"px","important"),Pn(as,{rowHeight:cs}))}},Zn=function(Jn){Ln||qn(),En(Jn)};return reactExports.useLayoutEffect(qn),useWindowResizeListener(qn),reactExports.createElement("textarea",_extends$3({},Rn,{onChange:Zn,ref:Gn}))},index$1=reactExports.forwardRef(TextareaAutosize);const TextareaAutosize$1=index$1;var useStyles$M=createStyles$1(sn=>({input:{paddingTop:sn.spacing.xs,paddingBottom:sn.spacing.xs}}));const useStyles$N=useStyles$M;var __defProp$W=Object.defineProperty,__defProps$n=Object.defineProperties,__getOwnPropDescs$n=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$X=Object.getOwnPropertySymbols,__hasOwnProp$X=Object.prototype.hasOwnProperty,__propIsEnum$X=Object.prototype.propertyIsEnumerable,__defNormalProp$W=(sn,ln,cn)=>ln in sn?__defProp$W(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$W=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$X.call(ln,cn)&&__defNormalProp$W(sn,cn,ln[cn]);if(__getOwnPropSymbols$X)for(var cn of __getOwnPropSymbols$X(ln))__propIsEnum$X.call(ln,cn)&&__defNormalProp$W(sn,cn,ln[cn]);return sn},__spreadProps$n=(sn,ln)=>__defProps$n(sn,__getOwnPropDescs$n(ln)),__objRest$D=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$X.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$X)for(var dn of __getOwnPropSymbols$X(sn))ln.indexOf(dn)<0&&__propIsEnum$X.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$t={autosize:!1,size:"sm",__staticSelector:"Textarea"},Textarea=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("Textarea",defaultProps$t,sn),{autosize:dn,maxRows:pn,minRows:vn,label:Sn,error:En,description:Cn,id:Pn,className:Rn,required:Ln,style:Fn,wrapperProps:Gn,classNames:Dn,styles:Kn,size:qn,__staticSelector:Zn,sx:Yn,errorProps:Jn,descriptionProps:rs,labelProps:us,inputWrapperOrder:as,inputContainer:cs,unstyled:_s,withAsterisk:Es,variant:Qn}=cn,ms=__objRest$D(cn,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled","withAsterisk","variant"]),$s=useId$1(Pn),{classes:Ms,cx:gs}=useStyles$N(),{systemStyles:Ss,rest:js}=extractSystemStyles$1(ms),bs=__spreadValues$W({required:Ln,ref:ln,error:En,id:$s,classNames:__spreadProps$n(__spreadValues$W({},Dn),{input:gs(Ms.input,Dn==null?void 0:Dn.input)}),styles:Kn,__staticSelector:Zn,size:qn,multiline:!0,unstyled:_s,variant:Qn},js);return jsx$1(Input.Wrapper,{...__spreadValues$W(__spreadValues$W({label:Sn,error:En,id:$s,description:Cn,required:Ln,style:Fn,className:Rn,classNames:Dn,styles:Kn,size:qn,__staticSelector:Zn,sx:Yn,errorProps:Jn,labelProps:us,descriptionProps:rs,inputContainer:cs,inputWrapperOrder:as,unstyled:_s,withAsterisk:Es,variant:Qn},Ss),Gn),children:dn?jsx$1(Input,{...__spreadProps$n(__spreadValues$W({},bs),{component:TextareaAutosize$1,maxRows:pn,minRows:vn})}):jsx$1(Input,{...__spreadProps$n(__spreadValues$W({},bs),{component:"textarea",rows:vn})})})});Textarea.displayName="@mantine/core/Textarea";const sizes$7={xs:{padding:`${rem$1(2)} ${rem$1(4)}`,fontSize:rem$1(10)},sm:{padding:`${rem$1(3)} ${rem$1(5)}`,fontSize:rem$1(12)},md:{padding:`${rem$1(4)} ${rem$1(7)}`,fontSize:rem$1(14)},lg:{padding:`${rem$1(5)} ${rem$1(9)}`,fontSize:rem$1(16)},xl:{padding:`${rem$1(8)} ${rem$1(14)}`,fontSize:rem$1(20)}};var useStyles$K=createStyles$1((sn,ln,{size:cn})=>{const dn=cn in sizes$7?sizes$7[cn]:sizes$7.sm;return{root:{lineHeight:sn.lineHeight,fontFamily:sn.fontFamilyMonospace,fontSize:dn.fontSize,fontWeight:700,backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[5]:sn.colors.gray[0],color:sn.colorScheme==="dark"?sn.colors.dark[0]:sn.colors.gray[7],padding:dn.padding,borderRadius:sn.radius.sm,border:`${rem$1(1)} solid ${sn.colorScheme==="dark"?sn.colors.dark[4]:sn.colors.gray[3]}`,borderBottom:`${rem$1(3)} solid ${sn.colorScheme==="dark"?sn.colors.dark[4]:sn.colors.gray[3]}`}}});const useStyles$L=useStyles$K;var __defProp$V=Object.defineProperty,__getOwnPropSymbols$W=Object.getOwnPropertySymbols,__hasOwnProp$W=Object.prototype.hasOwnProperty,__propIsEnum$W=Object.prototype.propertyIsEnumerable,__defNormalProp$V=(sn,ln,cn)=>ln in sn?__defProp$V(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$V=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$W.call(ln,cn)&&__defNormalProp$V(sn,cn,ln[cn]);if(__getOwnPropSymbols$W)for(var cn of __getOwnPropSymbols$W(ln))__propIsEnum$W.call(ln,cn)&&__defNormalProp$V(sn,cn,ln[cn]);return sn},__objRest$C=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$W.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$W)for(var dn of __getOwnPropSymbols$W(sn))ln.indexOf(dn)<0&&__propIsEnum$W.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$s={size:"sm"},Kbd=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("Kbd",defaultProps$s,sn),{className:dn,children:pn,unstyled:vn,variant:Sn,size:En}=cn,Cn=__objRest$C(cn,["className","children","unstyled","variant","size"]),{classes:Pn,cx:Rn}=useStyles$L(null,{name:"Kbd",unstyled:vn,variant:Sn,size:En});return jsx$1(Box$1,{...__spreadValues$V({component:"kbd",className:Rn(Pn.root,dn),ref:ln},Cn),children:pn})});Kbd.displayName="@mantine/core/Kbd";const MENU_ERRORS={context:"Menu component was not found in the tree",children:"Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported"},[MenuContextProvider,useMenuContext]=createSafeContext(MENU_ERRORS.context);var useStyles$I=createStyles$1(sn=>({divider:{marginTop:rem$1(4),marginBottom:rem$1(4),borderTop:`${rem$1(1)} solid ${sn.colorScheme==="dark"?sn.colors.dark[4]:sn.colors.gray[2]}`}}));const useStyles$J=useStyles$I;var __defProp$U=Object.defineProperty,__getOwnPropSymbols$V=Object.getOwnPropertySymbols,__hasOwnProp$V=Object.prototype.hasOwnProperty,__propIsEnum$V=Object.prototype.propertyIsEnumerable,__defNormalProp$U=(sn,ln,cn)=>ln in sn?__defProp$U(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$U=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$V.call(ln,cn)&&__defNormalProp$U(sn,cn,ln[cn]);if(__getOwnPropSymbols$V)for(var cn of __getOwnPropSymbols$V(ln))__propIsEnum$V.call(ln,cn)&&__defNormalProp$U(sn,cn,ln[cn]);return sn},__objRest$B=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$V.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$V)for(var dn of __getOwnPropSymbols$V(sn))ln.indexOf(dn)<0&&__propIsEnum$V.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$r={},MenuDivider=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("MenuDivider",defaultProps$r,sn),{children:dn,className:pn}=cn,vn=__objRest$B(cn,["children","className"]),{classNames:Sn,styles:En,unstyled:Cn,variant:Pn}=useMenuContext(),{classes:Rn,cx:Ln}=useStyles$J(null,{name:"Menu",classNames:Sn,styles:En,unstyled:Cn,variant:Pn});return jsx$1(Box$1,{...__spreadValues$U({className:Ln(Rn.divider,pn),ref:ln},vn)})});MenuDivider.displayName="@mantine/core/MenuDivider";var __defProp$T=Object.defineProperty,__getOwnPropSymbols$U=Object.getOwnPropertySymbols,__hasOwnProp$U=Object.prototype.hasOwnProperty,__propIsEnum$U=Object.prototype.propertyIsEnumerable,__defNormalProp$T=(sn,ln,cn)=>ln in sn?__defProp$T(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$T=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$U.call(ln,cn)&&__defNormalProp$T(sn,cn,ln[cn]);if(__getOwnPropSymbols$U)for(var cn of __getOwnPropSymbols$U(ln))__propIsEnum$U.call(ln,cn)&&__defNormalProp$T(sn,cn,ln[cn]);return sn},__objRest$A=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$U.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$U)for(var dn of __getOwnPropSymbols$U(sn))ln.indexOf(dn)<0&&__propIsEnum$U.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$q={};function MenuDropdown(sn){const ln=useComponentDefaultProps$1("MenuDropdown",defaultProps$q,sn),{children:cn,onMouseEnter:dn,onMouseLeave:pn}=ln,vn=__objRest$A(ln,["children","onMouseEnter","onMouseLeave"]),Sn=reactExports.useRef(),En=useMenuContext(),Cn=Ln=>{(Ln.key==="ArrowUp"||Ln.key==="ArrowDown")&&(Ln.preventDefault(),Sn.current.querySelectorAll("[data-menu-item]")[0].focus())},Pn=createEventHandler(dn,()=>En.trigger==="hover"&&En.openDropdown()),Rn=createEventHandler(pn,()=>En.trigger==="hover"&&En.closeDropdown());return jsx$1(Popover.Dropdown,{...__spreadValues$T({onMouseEnter:Pn,onMouseLeave:Rn,role:"menu","aria-orientation":"vertical"},vn),children:jsx$1("div",{tabIndex:-1,"data-menu-dropdown":!0,"data-autofocus":!0,onKeyDown:Cn,ref:Sn,style:{outline:0},children:cn})})}MenuDropdown.displayName="@mantine/core/MenuDropdown";var __defProp$S=Object.defineProperty,__defProps$m=Object.defineProperties,__getOwnPropDescs$m=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$T=Object.getOwnPropertySymbols,__hasOwnProp$T=Object.prototype.hasOwnProperty,__propIsEnum$T=Object.prototype.propertyIsEnumerable,__defNormalProp$S=(sn,ln,cn)=>ln in sn?__defProp$S(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$S=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$T.call(ln,cn)&&__defNormalProp$S(sn,cn,ln[cn]);if(__getOwnPropSymbols$T)for(var cn of __getOwnPropSymbols$T(ln))__propIsEnum$T.call(ln,cn)&&__defNormalProp$S(sn,cn,ln[cn]);return sn},__spreadProps$m=(sn,ln)=>__defProps$m(sn,__getOwnPropDescs$m(ln)),useStyles$G=createStyles$1((sn,{color:ln,radius:cn})=>({item:__spreadProps$m(__spreadValues$S({},sn.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",fontSize:sn.fontSizes.sm,border:0,backgroundColor:"transparent",outline:0,width:"100%",textAlign:"left",textDecoration:"none",boxSizing:"border-box",padding:`${sn.spacing.xs} ${sn.spacing.sm}`,cursor:"pointer",borderRadius:sn.fn.radius(cn),color:ln?sn.fn.variant({variant:"filled",primaryFallback:!1,color:ln}).background:sn.colorScheme==="dark"?sn.colors.dark[0]:sn.black,display:"flex",alignItems:"center","&:disabled":{color:sn.colorScheme==="dark"?sn.colors.dark[3]:sn.colors.gray[5],pointerEvents:"none",userSelect:"none"},"&[data-hovered]":{backgroundColor:ln?sn.fn.variant({variant:"light",color:ln}).background:sn.colorScheme==="dark"?sn.fn.rgba(sn.colors.dark[3],.35):sn.colors.gray[1]}}),itemLabel:{flex:1},itemIcon:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:sn.spacing.xs},itemRightSection:{}}));const useStyles$H=useStyles$G;var __defProp$R=Object.defineProperty,__defProps$l=Object.defineProperties,__getOwnPropDescs$l=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$S=Object.getOwnPropertySymbols,__hasOwnProp$S=Object.prototype.hasOwnProperty,__propIsEnum$S=Object.prototype.propertyIsEnumerable,__defNormalProp$R=(sn,ln,cn)=>ln in sn?__defProp$R(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$R=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$S.call(ln,cn)&&__defNormalProp$R(sn,cn,ln[cn]);if(__getOwnPropSymbols$S)for(var cn of __getOwnPropSymbols$S(ln))__propIsEnum$S.call(ln,cn)&&__defNormalProp$R(sn,cn,ln[cn]);return sn},__spreadProps$l=(sn,ln)=>__defProps$l(sn,__getOwnPropDescs$l(ln)),__objRest$z=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$S.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$S)for(var dn of __getOwnPropSymbols$S(sn))ln.indexOf(dn)<0&&__propIsEnum$S.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$p={},_MenuItem=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("MenuItem",defaultProps$p,sn),{children:dn,className:pn,color:vn,closeMenuOnClick:Sn,icon:En,rightSection:Cn}=cn,Pn=__objRest$z(cn,["children","className","color","closeMenuOnClick","icon","rightSection"]),Rn=useMenuContext(),{classes:Ln,cx:Fn,theme:Gn}=useStyles$H({radius:Rn.radius,color:vn},{name:"Menu",classNames:Rn.classNames,styles:Rn.styles,unstyled:Rn.unstyled,variant:Rn.variant}),Dn=reactExports.useRef(),Kn=Rn.getItemIndex(Dn.current),qn=Pn,Zn=createEventHandler(qn.onMouseLeave,()=>Rn.setHovered(-1)),Yn=createEventHandler(qn.onMouseEnter,()=>Rn.setHovered(Rn.getItemIndex(Dn.current))),Jn=createEventHandler(qn.onClick,()=>{typeof Sn=="boolean"?Sn&&Rn.closeDropdownImmediately():Rn.closeOnItemClick&&Rn.closeDropdownImmediately()}),rs=createEventHandler(qn.onFocus,()=>Rn.setHovered(Rn.getItemIndex(Dn.current)));return jsxs$1(Box$1,{...__spreadProps$l(__spreadValues$R({component:"button",type:"button"},Pn),{tabIndex:-1,onFocus:rs,className:Fn(Ln.item,pn),ref:useMergedRef(Dn,ln),role:"menuitem","data-menu-item":!0,"data-hovered":Rn.hovered===Kn?!0:void 0,onMouseEnter:Yn,onMouseLeave:Zn,onClick:Jn,onKeyDown:createScopedKeydownHandler({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:Rn.loop,dir:Gn.dir,orientation:"vertical",onKeyDown:qn.onKeydown})}),children:[En&&jsx$1("div",{className:Ln.itemIcon,children:En}),dn&&jsx$1("div",{className:Ln.itemLabel,children:dn}),Cn&&jsx$1("div",{className:Ln.itemRightSection,children:Cn})]})});_MenuItem.displayName="@mantine/core/MenuItem";const MenuItem=_MenuItem;var useStyles$E=createStyles$1(sn=>({label:{color:sn.colorScheme==="dark"?sn.colors.dark[2]:sn.colors.gray[6],fontWeight:500,fontSize:sn.fontSizes.xs,padding:`calc(${sn.spacing.xs} / 2) ${sn.spacing.sm}`,cursor:"default"}}));const useStyles$F=useStyles$E;var __defProp$Q=Object.defineProperty,__getOwnPropSymbols$R=Object.getOwnPropertySymbols,__hasOwnProp$R=Object.prototype.hasOwnProperty,__propIsEnum$R=Object.prototype.propertyIsEnumerable,__defNormalProp$Q=(sn,ln,cn)=>ln in sn?__defProp$Q(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$Q=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$R.call(ln,cn)&&__defNormalProp$Q(sn,cn,ln[cn]);if(__getOwnPropSymbols$R)for(var cn of __getOwnPropSymbols$R(ln))__propIsEnum$R.call(ln,cn)&&__defNormalProp$Q(sn,cn,ln[cn]);return sn},__objRest$y=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$R.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$R)for(var dn of __getOwnPropSymbols$R(sn))ln.indexOf(dn)<0&&__propIsEnum$R.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$o={},MenuLabel=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("MenuLabel",defaultProps$o,sn),{children:dn,className:pn}=cn,vn=__objRest$y(cn,["children","className"]),{classNames:Sn,styles:En,unstyled:Cn,variant:Pn}=useMenuContext(),{classes:Rn,cx:Ln}=useStyles$F(null,{name:"Menu",classNames:Sn,styles:En,unstyled:Cn,variant:Pn});return jsx$1(Text$1,{...__spreadValues$Q({className:Ln(Rn.label,pn),ref:ln},vn),children:dn})});MenuLabel.displayName="@mantine/core/MenuLabel";var __defProp$P=Object.defineProperty,__getOwnPropSymbols$Q=Object.getOwnPropertySymbols,__hasOwnProp$Q=Object.prototype.hasOwnProperty,__propIsEnum$Q=Object.prototype.propertyIsEnumerable,__defNormalProp$P=(sn,ln,cn)=>ln in sn?__defProp$P(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$P=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$Q.call(ln,cn)&&__defNormalProp$P(sn,cn,ln[cn]);if(__getOwnPropSymbols$Q)for(var cn of __getOwnPropSymbols$Q(ln))__propIsEnum$Q.call(ln,cn)&&__defNormalProp$P(sn,cn,ln[cn]);return sn},__objRest$x=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$Q.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$Q)for(var dn of __getOwnPropSymbols$Q(sn))ln.indexOf(dn)<0&&__propIsEnum$Q.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$n={refProp:"ref"},MenuTarget=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("MenuTarget",defaultProps$n,sn),{children:dn,refProp:pn}=cn,vn=__objRest$x(cn,["children","refProp"]);if(!isElement$1(dn))throw new Error(MENU_ERRORS.children);const Sn=useMenuContext(),En=createEventHandler(dn.props.onClick,()=>Sn.trigger==="click"&&Sn.toggleDropdown()),Cn=createEventHandler(dn.props.onMouseEnter,()=>Sn.trigger==="hover"&&Sn.openDropdown()),Pn=createEventHandler(dn.props.onMouseLeave,()=>Sn.trigger==="hover"&&Sn.closeDropdown());return jsx$1(Popover.Target,{...__spreadValues$P({refProp:pn,popupType:"menu",ref:ln},vn),children:reactExports.cloneElement(dn,{onClick:En,onMouseEnter:Cn,onMouseLeave:Pn,"data-expanded":Sn.opened?!0:void 0})})});MenuTarget.displayName="@mantine/core/MenuTarget";var useStyles$C=createStyles$1({dropdown:{padding:rem$1(4)}});const useStyles$D=useStyles$C;var __defProp$O=Object.defineProperty,__defProps$k=Object.defineProperties,__getOwnPropDescs$k=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$P=Object.getOwnPropertySymbols,__hasOwnProp$P=Object.prototype.hasOwnProperty,__propIsEnum$P=Object.prototype.propertyIsEnumerable,__defNormalProp$O=(sn,ln,cn)=>ln in sn?__defProp$O(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$O=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$P.call(ln,cn)&&__defNormalProp$O(sn,cn,ln[cn]);if(__getOwnPropSymbols$P)for(var cn of __getOwnPropSymbols$P(ln))__propIsEnum$P.call(ln,cn)&&__defNormalProp$O(sn,cn,ln[cn]);return sn},__spreadProps$k=(sn,ln)=>__defProps$k(sn,__getOwnPropDescs$k(ln)),__objRest$w=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$P.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$P)for(var dn of __getOwnPropSymbols$P(sn))ln.indexOf(dn)<0&&__propIsEnum$P.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$m={closeOnItemClick:!0,loop:!0,trigger:"click",openDelay:0,closeDelay:100};function Menu(sn){const ln=useComponentDefaultProps$1("Menu",defaultProps$m,sn),{children:cn,onOpen:dn,onClose:pn,opened:vn,defaultOpened:Sn,onChange:En,closeOnItemClick:Cn,loop:Pn,closeOnEscape:Rn,trigger:Ln,openDelay:Fn,closeDelay:Gn,classNames:Dn,styles:Kn,unstyled:qn,radius:Zn,variant:Yn}=ln,Jn=__objRest$w(ln,["children","onOpen","onClose","opened","defaultOpened","onChange","closeOnItemClick","loop","closeOnEscape","trigger","openDelay","closeDelay","classNames","styles","unstyled","radius","variant"]),{classes:rs,cx:us}=useStyles$D(),[as,{setHovered:cs,resetHovered:_s}]=useHovered(),[Es,Qn]=useUncontrolled({value:vn,defaultValue:Sn,finalValue:!1,onChange:En}),ms=()=>{Qn(!1),Es&&(pn==null||pn())},$s=()=>{Qn(!0),!Es&&(dn==null||dn())},Ms=()=>Es?ms():$s(),{openDropdown:gs,closeDropdown:Ss}=useDelayedHover({open:$s,close:ms,closeDelay:Gn,openDelay:Fn}),js=bs=>getContextItemIndex("[data-menu-item]","[data-menu-dropdown]",bs);return useDidUpdate(()=>{_s()},[Es]),jsx$1(MenuContextProvider,{value:{opened:Es,toggleDropdown:Ms,getItemIndex:js,hovered:as,setHovered:cs,closeOnItemClick:Cn,closeDropdown:Ln==="click"?ms:Ss,openDropdown:Ln==="click"?$s:gs,closeDropdownImmediately:ms,loop:Pn,trigger:Ln,radius:Zn,classNames:Dn,styles:Kn,unstyled:qn,variant:Yn},children:jsx$1(Popover,{...__spreadProps$k(__spreadValues$O({},Jn),{radius:Zn,opened:Es,onChange:Ms,defaultOpened:Sn,trapFocus:Ln==="click",closeOnEscape:Rn&&Ln==="click",__staticSelector:"Menu",classNames:__spreadProps$k(__spreadValues$O({},Dn),{dropdown:us(rs.dropdown,Dn==null?void 0:Dn.dropdown)}),styles:Kn,unstyled:qn,variant:Yn}),children:cn})})}Menu.displayName="@mantine/core/Menu";Menu.Item=MenuItem;Menu.Label=MenuLabel;Menu.Dropdown=MenuDropdown;Menu.Target=MenuTarget;Menu.Divider=MenuDivider;const[ModalProvider,useModalContext]=createSafeContext("Modal component was not found in tree"),sizes$6={xs:rem$1(320),sm:rem$1(380),md:rem$1(440),lg:rem$1(620),xl:rem$1(780)};var useStyles$A=createStyles$1((sn,{yOffset:ln,xOffset:cn,centered:dn,fullScreen:pn},{size:vn})=>({content:{flex:pn?"0 0 100%":`0 0 ${getSize$1({size:vn,sizes:sizes$6})}`,maxWidth:"100%",maxHeight:pn?void 0:`calc(100vh - (${rem$1(ln)} * 2))`,height:pn?"100vh":void 0,borderRadius:pn?0:void 0,overflowY:"auto"},inner:{paddingTop:pn?0:ln,paddingBottom:pn?0:ln,paddingLeft:pn?0:cn,paddingRight:pn?0:cn,display:"flex",justifyContent:"center",alignItems:dn?"center":"flex-start"}}));const useStyles$B=useStyles$A;var __defProp$N=Object.defineProperty,__defProps$j=Object.defineProperties,__getOwnPropDescs$j=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$O=Object.getOwnPropertySymbols,__hasOwnProp$O=Object.prototype.hasOwnProperty,__propIsEnum$O=Object.prototype.propertyIsEnumerable,__defNormalProp$N=(sn,ln,cn)=>ln in sn?__defProp$N(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$N=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$O.call(ln,cn)&&__defNormalProp$N(sn,cn,ln[cn]);if(__getOwnPropSymbols$O)for(var cn of __getOwnPropSymbols$O(ln))__propIsEnum$O.call(ln,cn)&&__defNormalProp$N(sn,cn,ln[cn]);return sn},__spreadProps$j=(sn,ln)=>__defProps$j(sn,__getOwnPropDescs$j(ln)),__objRest$v=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$O.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$O)for(var dn of __getOwnPropSymbols$O(sn))ln.indexOf(dn)<0&&__propIsEnum$O.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$l=__spreadProps$j(__spreadValues$N({},ModalBaseDefaultProps),{yOffset:"5vh",xOffset:"5vw"});function ModalRoot(sn){const ln=useComponentDefaultProps$1("ModalRoot",defaultProps$l,sn),{classNames:cn,variant:dn,size:pn,yOffset:vn,xOffset:Sn,scrollAreaComponent:En,radius:Cn,centered:Pn,fullScreen:Rn}=ln,Ln=__objRest$v(ln,["classNames","variant","size","yOffset","xOffset","scrollAreaComponent","radius","centered","fullScreen"]),{classes:Fn,cx:Gn}=useStyles$B({yOffset:vn,xOffset:Sn,centered:Pn,fullScreen:Rn},{name:"Modal",variant:dn,size:pn});return jsx$1(ModalProvider,{value:{yOffset:vn,scrollAreaComponent:En,radius:Cn},children:jsx$1(ModalBase,{...__spreadValues$N({__staticSelector:"Modal",size:pn,variant:dn,classNames:__spreadProps$j(__spreadValues$N({},cn),{content:Gn(Fn.content,cn==null?void 0:cn.content),inner:Gn(Fn.inner,cn==null?void 0:cn.inner)})},Ln)})})}var __defProp$M=Object.defineProperty,__getOwnPropSymbols$N=Object.getOwnPropertySymbols,__hasOwnProp$N=Object.prototype.hasOwnProperty,__propIsEnum$N=Object.prototype.propertyIsEnumerable,__defNormalProp$M=(sn,ln,cn)=>ln in sn?__defProp$M(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$M=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$N.call(ln,cn)&&__defNormalProp$M(sn,cn,ln[cn]);if(__getOwnPropSymbols$N)for(var cn of __getOwnPropSymbols$N(ln))__propIsEnum$N.call(ln,cn)&&__defNormalProp$M(sn,cn,ln[cn]);return sn},__objRest$u=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$N.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$N)for(var dn of __getOwnPropSymbols$N(sn))ln.indexOf(dn)<0&&__propIsEnum$N.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$k={shadow:"xl"},ModalContent=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("ModalContent",defaultProps$k,sn),{children:dn,scrollAreaComponent:pn}=cn,vn=__objRest$u(cn,["children","scrollAreaComponent"]),Sn=useModalContext(),En=pn||Sn.scrollAreaComponent||ModalBase.NativeScrollArea;return jsx$1(ModalBase.Content,{...__spreadValues$M({ref:ln,radius:Sn.radius},vn),children:jsx$1(En,{style:{maxHeight:`calc(100vh - (${rem$1(Sn.yOffset)} * 2))`},children:dn})})});var __defProp$L=Object.defineProperty,__defProps$i=Object.defineProperties,__getOwnPropDescs$i=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$M=Object.getOwnPropertySymbols,__hasOwnProp$M=Object.prototype.hasOwnProperty,__propIsEnum$M=Object.prototype.propertyIsEnumerable,__defNormalProp$L=(sn,ln,cn)=>ln in sn?__defProp$L(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$L=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$M.call(ln,cn)&&__defNormalProp$L(sn,cn,ln[cn]);if(__getOwnPropSymbols$M)for(var cn of __getOwnPropSymbols$M(ln))__propIsEnum$M.call(ln,cn)&&__defNormalProp$L(sn,cn,ln[cn]);return sn},__spreadProps$i=(sn,ln)=>__defProps$i(sn,__getOwnPropDescs$i(ln)),__objRest$t=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$M.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$M)for(var dn of __getOwnPropSymbols$M(sn))ln.indexOf(dn)<0&&__propIsEnum$M.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$j=__spreadProps$i(__spreadValues$L({},ModalBaseDefaultProps),{transitionProps:{duration:200,transition:"pop"},withOverlay:!0,withCloseButton:!0});function Modal(sn){const ln=useComponentDefaultProps$1("Modal",defaultProps$j,sn),{title:cn,withOverlay:dn,overlayProps:pn,withCloseButton:vn,closeButtonProps:Sn,children:En}=ln,Cn=__objRest$t(ln,["title","withOverlay","overlayProps","withCloseButton","closeButtonProps","children"]),Pn=!!cn||vn;return jsxs$1(ModalRoot,{...__spreadValues$L({},Cn),children:[dn&&jsx$1(ModalBase.Overlay,{...__spreadValues$L({},pn)}),jsxs$1(ModalContent,{children:[Pn&&jsxs$1(ModalBase.Header,{children:[cn&&jsx$1(ModalBase.Title,{children:cn}),vn&&jsx$1(ModalBase.CloseButton,{...__spreadValues$L({},Sn)})]}),jsx$1(ModalBase.Body,{children:En})]})]})}Modal.Root=ModalRoot;Modal.CloseButton=ModalBase.CloseButton;Modal.Overlay=ModalBase.Overlay;Modal.Content=ModalContent;Modal.Header=ModalBase.Header;Modal.Title=ModalBase.Title;Modal.Body=ModalBase.Body;Modal.NativeScrollArea=ModalBase.NativeScrollArea;var useStyles$y=createStyles$1((sn,{color:ln,radius:cn,withTitle:dn})=>{const pn=sn.fn.radius(cn),vn=sn.fn.variant({variant:"filled",color:ln});return{closeButton:sn.fn.hover({backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[8]:sn.colors.gray[0]}),icon:{boxSizing:"border-box",marginRight:sn.spacing.md,width:rem$1(28),height:rem$1(28),borderRadius:rem$1(28),display:"flex",flex:"none",alignItems:"center",justifyContent:"center",backgroundColor:vn.background,color:sn.white},root:{overflow:"hidden",boxSizing:"border-box",position:"relative",display:"flex",alignItems:"center",paddingLeft:rem$1(22),paddingRight:sn.spacing.xs,paddingTop:sn.spacing.xs,paddingBottom:sn.spacing.xs,borderRadius:pn,backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[6]:sn.white,boxShadow:sn.shadows.lg,"&::before":{content:'""',display:"block",position:"absolute",width:rem$1(6),top:pn,bottom:pn,left:rem$1(4),borderRadius:pn,backgroundColor:vn.background},"&[data-with-icon]":{paddingLeft:sn.spacing.xs,"&::before":{display:"none"}},"&[data-with-border]":{border:`${rem$1(1)} solid ${sn.colorScheme==="dark"?sn.colors.dark[4]:sn.colors.gray[3]}`}},body:{flex:1,overflow:"hidden",marginRight:sn.spacing.xs},loader:{marginRight:sn.spacing.md},title:{lineHeight:1.4,marginBottom:rem$1(2),overflow:"hidden",textOverflow:"ellipsis",color:sn.colorScheme==="dark"?sn.white:sn.colors.gray[9]},description:{color:dn?sn.colorScheme==="dark"?sn.colors.dark[2]:sn.colors.gray[6]:sn.colorScheme==="dark"?sn.colors.dark[0]:sn.black,lineHeight:1.4,overflow:"hidden",textOverflow:"ellipsis"}}});const useStyles$z=useStyles$y;var __defProp$K=Object.defineProperty,__defProps$h=Object.defineProperties,__getOwnPropDescs$h=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$L=Object.getOwnPropertySymbols,__hasOwnProp$L=Object.prototype.hasOwnProperty,__propIsEnum$L=Object.prototype.propertyIsEnumerable,__defNormalProp$K=(sn,ln,cn)=>ln in sn?__defProp$K(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$K=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$L.call(ln,cn)&&__defNormalProp$K(sn,cn,ln[cn]);if(__getOwnPropSymbols$L)for(var cn of __getOwnPropSymbols$L(ln))__propIsEnum$L.call(ln,cn)&&__defNormalProp$K(sn,cn,ln[cn]);return sn},__spreadProps$h=(sn,ln)=>__defProps$h(sn,__getOwnPropDescs$h(ln)),__objRest$s=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$L.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$L)for(var dn of __getOwnPropSymbols$L(sn))ln.indexOf(dn)<0&&__propIsEnum$L.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$i={withCloseButton:!0},Notification=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("Notification",defaultProps$i,sn),{className:dn,color:pn,radius:vn,loading:Sn,withCloseButton:En,withBorder:Cn,title:Pn,icon:Rn,children:Ln,onClose:Fn,closeButtonProps:Gn,classNames:Dn,styles:Kn,unstyled:qn,variant:Zn}=cn,Yn=__objRest$s(cn,["className","color","radius","loading","withCloseButton","withBorder","title","icon","children","onClose","closeButtonProps","classNames","styles","unstyled","variant"]),{classes:Jn,cx:rs}=useStyles$z({color:pn,radius:vn,withTitle:!!Pn},{name:"Notification",classNames:Dn,styles:Kn,unstyled:qn,variant:Zn});return jsxs$1(Box$1,{...__spreadValues$K({className:rs(Jn.root,dn),"data-with-icon":!!Rn||Sn||void 0,"data-with-border":Cn||void 0,role:"alert",ref:ln},Yn),children:[Rn&&!Sn&&jsx$1("div",{className:Jn.icon,children:Rn}),Sn&&jsx$1(Loader$1,{size:28,color:pn,className:Jn.loader}),jsxs$1("div",{className:Jn.body,children:[Pn&&jsx$1(Text$1,{className:Jn.title,size:"sm",weight:500,children:Pn}),jsx$1(Text$1,{color:"dimmed",className:Jn.description,size:"sm",children:Ln})]}),En&&jsx$1(CloseButton$1,{...__spreadProps$h(__spreadValues$K({iconSize:16,color:"gray"},Gn),{onClick:Fn,className:Jn.closeButton})})]})});Notification.displayName="@mantine/core/Notification";const TooltipGroupContext=reactExports.createContext(!1),TooltipGroupProvider=TooltipGroupContext.Provider,useTooltipGroupContext=()=>reactExports.useContext(TooltipGroupContext);function TooltipGroup({children:sn,openDelay:ln=0,closeDelay:cn=0}){return jsx$1(TooltipGroupProvider,{value:!0,children:jsx$1(FloatingDelayGroup,{delay:{open:ln,close:cn},children:sn})})}TooltipGroup.displayName="@mantine/core/TooltipGroup";var __defProp$J=Object.defineProperty,__defProps$g=Object.defineProperties,__getOwnPropDescs$g=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$K=Object.getOwnPropertySymbols,__hasOwnProp$K=Object.prototype.hasOwnProperty,__propIsEnum$K=Object.prototype.propertyIsEnumerable,__defNormalProp$J=(sn,ln,cn)=>ln in sn?__defProp$J(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$J=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$K.call(ln,cn)&&__defNormalProp$J(sn,cn,ln[cn]);if(__getOwnPropSymbols$K)for(var cn of __getOwnPropSymbols$K(ln))__propIsEnum$K.call(ln,cn)&&__defNormalProp$J(sn,cn,ln[cn]);return sn},__spreadProps$g=(sn,ln)=>__defProps$g(sn,__getOwnPropDescs$g(ln));function getColors(sn,ln){if(!ln)return{backgroundColor:sn.colorScheme==="dark"?sn.colors.gray[2]:sn.colors.gray[9],color:sn.colorScheme==="dark"?sn.black:sn.white};const cn=sn.fn.variant({variant:"filled",color:ln,primaryFallback:!1});return{backgroundColor:cn.background,color:cn.color}}var useStyles$w=createStyles$1((sn,{color:ln,radius:cn,width:dn,multiline:pn})=>({tooltip:__spreadProps$g(__spreadValues$J(__spreadValues$J({},sn.fn.fontStyles()),getColors(sn,ln)),{lineHeight:sn.lineHeight,fontSize:sn.fontSizes.sm,borderRadius:sn.fn.radius(cn),padding:`calc(${sn.spacing.xs} / 2) ${sn.spacing.xs}`,position:"absolute",whiteSpace:pn?"unset":"nowrap",pointerEvents:"none",width:dn}),arrow:{backgroundColor:"inherit",border:0,zIndex:1}}));const useStyles$x=useStyles$w,TOOLTIP_ERRORS={children:"Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"};function useFloatingTooltip({offset:sn,position:ln}){const[cn,dn]=reactExports.useState(!1),pn=reactExports.useRef(),{x:vn,y:Sn,reference:En,floating:Cn,refs:Pn,update:Rn,placement:Ln}=useFloating({placement:ln,middleware:[O$e({crossAxis:!0,padding:5,rootBoundary:"document"})]}),Fn=Ln.includes("right")?sn:ln.includes("left")?sn*-1:0,Gn=Ln.includes("bottom")?sn:ln.includes("top")?sn*-1:0,Dn=reactExports.useCallback(({clientX:Kn,clientY:qn})=>{En({getBoundingClientRect(){return{width:0,height:0,x:Kn,y:qn,left:Kn+Fn,top:qn+Gn,right:Kn,bottom:qn}}})},[En]);return reactExports.useEffect(()=>{if(Pn.floating.current){const Kn=pn.current;Kn.addEventListener("mousemove",Dn);const qn=W$c(Pn.floating.current);return qn.forEach(Zn=>{Zn.addEventListener("scroll",Rn)}),()=>{Kn.removeEventListener("mousemove",Dn),qn.forEach(Zn=>{Zn.removeEventListener("scroll",Rn)})}}},[En,Pn.floating.current,Rn,Dn,cn]),{handleMouseMove:Dn,x:vn,y:Sn,opened:cn,setOpened:dn,boundaryRef:pn,floating:Cn}}var __defProp$I=Object.defineProperty,__defProps$f=Object.defineProperties,__getOwnPropDescs$f=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$J=Object.getOwnPropertySymbols,__hasOwnProp$J=Object.prototype.hasOwnProperty,__propIsEnum$J=Object.prototype.propertyIsEnumerable,__defNormalProp$I=(sn,ln,cn)=>ln in sn?__defProp$I(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$I=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$J.call(ln,cn)&&__defNormalProp$I(sn,cn,ln[cn]);if(__getOwnPropSymbols$J)for(var cn of __getOwnPropSymbols$J(ln))__propIsEnum$J.call(ln,cn)&&__defNormalProp$I(sn,cn,ln[cn]);return sn},__spreadProps$f=(sn,ln)=>__defProps$f(sn,__getOwnPropDescs$f(ln)),__objRest$r=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$J.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$J)for(var dn of __getOwnPropSymbols$J(sn))ln.indexOf(dn)<0&&__propIsEnum$J.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$h={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:getDefaultZIndex("popover")};function TooltipFloating(sn){var ln;const cn=useComponentDefaultProps$1("TooltipFloating",defaultProps$h,sn),{children:dn,refProp:pn,withinPortal:vn,portalProps:Sn,style:En,className:Cn,classNames:Pn,styles:Rn,unstyled:Ln,radius:Fn,color:Gn,label:Dn,offset:Kn,position:qn,multiline:Zn,width:Yn,zIndex:Jn,disabled:rs,variant:us}=cn,as=__objRest$r(cn,["children","refProp","withinPortal","portalProps","style","className","classNames","styles","unstyled","radius","color","label","offset","position","multiline","width","zIndex","disabled","variant"]),{handleMouseMove:cs,x:_s,y:Es,opened:Qn,boundaryRef:ms,floating:$s,setOpened:Ms}=useFloatingTooltip({offset:Kn,position:qn}),{classes:gs,cx:Ss}=useStyles$x({radius:Fn,color:Gn,multiline:Zn,width:Yn},{name:"TooltipFloating",classNames:Pn,styles:Rn,unstyled:Ln,variant:us});if(!isElement$1(dn))throw new Error(TOOLTIP_ERRORS.children);const js=useMergedRef(ms,dn.ref),bs=xs=>{var zs,Bs;(Bs=(zs=dn.props).onMouseEnter)==null||Bs.call(zs,xs),cs(xs),Ms(!0)},Ts=xs=>{var zs,Bs;(Bs=(zs=dn.props).onMouseLeave)==null||Bs.call(zs,xs),Ms(!1)};return jsxs$1(Fragment$1,{children:[jsx$1(OptionalPortal,{...__spreadProps$f(__spreadValues$I({},Sn),{withinPortal:vn}),children:jsx$1(Box$1,{...__spreadProps$f(__spreadValues$I({},as),{ref:$s,className:Ss(gs.tooltip,Cn),style:__spreadProps$f(__spreadValues$I({},En),{zIndex:Jn,display:!rs&&Qn?"block":"none",top:Es??"",left:(ln=Math.round(_s))!=null?ln:""})}),children:Dn})}),reactExports.cloneElement(dn,__spreadProps$f(__spreadValues$I({},dn.props),{[pn]:js,onMouseEnter:bs,onMouseLeave:Ts}))]})}TooltipFloating.displayName="@mantine/core/TooltipFloating";function useTooltip(sn){const[ln,cn]=reactExports.useState(!1),pn=typeof sn.opened=="boolean"?sn.opened:ln,vn=useTooltipGroupContext(),Sn=useId$1(),{delay:En,currentId:Cn,setCurrentId:Pn}=useDelayGroupContext(),Rn=reactExports.useCallback(_s=>{cn(_s),_s&&Pn(Sn)},[Pn,Sn]),{x:Ln,y:Fn,reference:Gn,floating:Dn,context:Kn,refs:qn,update:Zn,placement:Yn,middlewareData:{arrow:{x:Jn,y:rs}={}}}=useFloating({placement:sn.position,open:pn,onOpenChange:Rn,middleware:[L$e(sn.offset),O$e({padding:8}),A$c(),arrow({element:sn.arrowRef,padding:sn.arrowOffset}),...sn.inline?[D$d()]:[]]}),{getReferenceProps:us,getFloatingProps:as}=useInteractions([useHover(Kn,{enabled:sn.events.hover,delay:vn?En:{open:sn.openDelay,close:sn.closeDelay},mouseOnly:!sn.events.touch}),useFocus(Kn,{enabled:sn.events.focus,keyboardOnly:!0}),useRole(Kn,{role:"tooltip"}),useDismiss(Kn,{enabled:typeof sn.opened===void 0}),useDelayGroup(Kn,{id:Sn})]);return useFloatingAutoUpdate({opened:pn,position:sn.position,positionDependencies:sn.positionDependencies,floating:{refs:qn,update:Zn}}),useDidUpdate(()=>{var _s;(_s=sn.onPositionChange)==null||_s.call(sn,Yn)},[Yn]),{x:Ln,y:Fn,arrowX:Jn,arrowY:rs,reference:Gn,floating:Dn,getFloatingProps:as,getReferenceProps:us,isGroupPhase:pn&&Cn&&Cn!==Sn,opened:pn,placement:Yn}}var __defProp$H=Object.defineProperty,__defProps$e=Object.defineProperties,__getOwnPropDescs$e=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$I=Object.getOwnPropertySymbols,__hasOwnProp$I=Object.prototype.hasOwnProperty,__propIsEnum$I=Object.prototype.propertyIsEnumerable,__defNormalProp$H=(sn,ln,cn)=>ln in sn?__defProp$H(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$H=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$I.call(ln,cn)&&__defNormalProp$H(sn,cn,ln[cn]);if(__getOwnPropSymbols$I)for(var cn of __getOwnPropSymbols$I(ln))__propIsEnum$I.call(ln,cn)&&__defNormalProp$H(sn,cn,ln[cn]);return sn},__spreadProps$e=(sn,ln)=>__defProps$e(sn,__getOwnPropDescs$e(ln)),__objRest$q=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$I.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$I)for(var dn of __getOwnPropSymbols$I(sn))ln.indexOf(dn)<0&&__propIsEnum$I.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$g={position:"top",refProp:"ref",withinPortal:!1,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},width:"auto",events:{hover:!0,focus:!1,touch:!1},zIndex:getDefaultZIndex("popover"),positionDependencies:[]},_Tooltip=reactExports.forwardRef((sn,ln)=>{var cn;const dn=reactExports.useRef(null),pn=useComponentDefaultProps$1("Tooltip",defaultProps$g,sn),{children:vn,position:Sn,refProp:En,label:Cn,openDelay:Pn,closeDelay:Rn,onPositionChange:Ln,opened:Fn,withinPortal:Gn,portalProps:Dn,radius:Kn,color:qn,classNames:Zn,styles:Yn,unstyled:Jn,style:rs,className:us,withArrow:as,arrowSize:cs,arrowOffset:_s,arrowRadius:Es,arrowPosition:Qn,offset:ms,transitionProps:$s,multiline:Ms,width:gs,events:Ss,zIndex:js,disabled:bs,positionDependencies:Ts,onClick:xs,onMouseEnter:zs,onMouseLeave:Bs,inline:Js,variant:tu,keepMounted:hs}=pn,lu=__objRest$q(pn,["children","position","refProp","label","openDelay","closeDelay","onPositionChange","opened","withinPortal","portalProps","radius","color","classNames","styles","unstyled","style","className","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","offset","transitionProps","multiline","width","events","zIndex","disabled","positionDependencies","onClick","onMouseEnter","onMouseLeave","inline","variant","keepMounted"]),{classes:vu,cx:yu,theme:Wu}=useStyles$x({radius:Kn,color:qn,width:gs,multiline:Ms},{name:"Tooltip",classNames:Zn,styles:Yn,unstyled:Jn,variant:tu}),Ru=useTooltip({position:getFloatingPosition(Wu.dir,Sn),closeDelay:Rn,openDelay:Pn,onPositionChange:Ln,opened:Fn,events:Ss,arrowRef:dn,arrowOffset:_s,offset:ms+(as?cs/2:0),positionDependencies:[...Ts,vn],inline:Js});if(!isElement$1(vn))throw new Error(TOOLTIP_ERRORS.children);const Ll=useMergedRef(Ru.reference,vn.ref,ln);return jsxs$1(Fragment$1,{children:[jsx$1(OptionalPortal,{...__spreadProps$e(__spreadValues$H({},Dn),{withinPortal:Gn}),children:jsx$1(Transition$2,{...__spreadProps$e(__spreadValues$H({keepMounted:hs,mounted:!bs&&Ru.opened},$s),{transition:$s.transition||"fade",duration:Ru.isGroupPhase?10:(cn=$s.duration)!=null?cn:100}),children:Vp=>{var Ys,_u;return jsxs$1(Box$1,{...__spreadValues$H(__spreadValues$H({},lu),Ru.getFloatingProps({ref:Ru.floating,className:vu.tooltip,style:__spreadProps$e(__spreadValues$H(__spreadValues$H({},rs),Vp),{zIndex:js,top:(Ys=Ru.y)!=null?Ys:0,left:(_u=Ru.x)!=null?_u:0})})),children:[Cn,jsx$1(FloatingArrow,{ref:dn,arrowX:Ru.arrowX,arrowY:Ru.arrowY,visible:as,position:Ru.placement,arrowSize:cs,arrowOffset:_s,arrowRadius:Es,arrowPosition:Qn,className:vu.arrow})]})}})}),reactExports.cloneElement(vn,Ru.getReferenceProps(__spreadValues$H({onClick:xs,onMouseEnter:zs,onMouseLeave:Bs,onMouseMove:sn.onMouseMove,onPointerDown:sn.onPointerDown,onPointerEnter:sn.onPointerEnter,[En]:Ll,className:yu(us,vn.props.className)},vn.props)))]})});_Tooltip.Group=TooltipGroup;_Tooltip.Floating=TooltipFloating;_Tooltip.displayName="@mantine/core/Tooltip";const Tooltip=_Tooltip;var __defProp$G=Object.defineProperty,__getOwnPropSymbols$H=Object.getOwnPropertySymbols,__hasOwnProp$H=Object.prototype.hasOwnProperty,__propIsEnum$H=Object.prototype.propertyIsEnumerable,__defNormalProp$G=(sn,ln,cn)=>ln in sn?__defProp$G(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$G=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$H.call(ln,cn)&&__defNormalProp$G(sn,cn,ln[cn]);if(__getOwnPropSymbols$H)for(var cn of __getOwnPropSymbols$H(ln))__propIsEnum$H.call(ln,cn)&&__defNormalProp$G(sn,cn,ln[cn]);return sn};function StarIcon(sn){return jsx$1("svg",{...__spreadValues$G({viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",xmlns:"http://www.w3.org/2000/svg"},sn),children:jsx$1("path",{d:"M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z"})})}StarIcon.displayName="@mantine/core/StarIcon";const sizes$5={xs:rem$1(14),sm:rem$1(18),md:rem$1(20),lg:rem$1(28),xl:rem$1(32)};var useStyles$u=createStyles$1((sn,{type:ln,color:cn},{size:dn})=>{const pn=sn.colorScheme==="light"?sn.colors.gray[3]:sn.colors.gray[8],vn=sn.fn.variant({variant:"filled",color:cn,primaryFallback:!1}).background;return{icon:{stroke:ln==="empty"?pn:vn,fill:ln==="empty"?pn:vn,width:getSize$1({size:dn,sizes:sizes$5}),height:getSize$1({size:dn,sizes:sizes$5})}}});const useStyles$v=useStyles$u;function StarSymbol({size:sn,type:ln,color:cn}){const{classes:dn}=useStyles$v({type:ln,color:cn},{name:"Rating",size:sn});return jsx$1(StarIcon,{className:dn.icon})}StarSymbol.displayName="@mantine/core/StarSymbol";var useStyles$s=createStyles$1(sn=>({input:{height:0,width:0,position:"absolute",overflow:"hidden",whiteSpace:"nowrap",opacity:0,"&:focus":{[`& + .${getStylesRef("label")}`]:{outline:sn.focusRing==="always"||sn.focusRing==="auto"?`${rem$1(1)} solid ${sn.colors[sn.primaryColor][sn.colorScheme==="dark"?7:5]}`:void 0},"&:focus:not(:focus-visible)":{[`& + .${getStylesRef("label")}`]:{outline:sn.focusRing==="auto"||sn.focusRing==="never"?"none":void 0}}}},label:{ref:getStylesRef("label"),display:"block",boxSizing:"border-box",margin:rem$1(1),top:0,left:0,cursor:"pointer",position:"absolute",zIndex:0,"&[data-read-only]":{cursor:"default"},"&:last-of-type":{position:"relative",zIndex:0}},symbolBody:{display:"grid",placeContent:"center",placeItems:"center"}}));const useStyles$t=useStyles$s;var __defProp$F=Object.defineProperty,__getOwnPropSymbols$G=Object.getOwnPropertySymbols,__hasOwnProp$G=Object.prototype.hasOwnProperty,__propIsEnum$G=Object.prototype.propertyIsEnumerable,__defNormalProp$F=(sn,ln,cn)=>ln in sn?__defProp$F(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$F=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$G.call(ln,cn)&&__defNormalProp$F(sn,cn,ln[cn]);if(__getOwnPropSymbols$G)for(var cn of __getOwnPropSymbols$G(ln))__propIsEnum$G.call(ln,cn)&&__defNormalProp$F(sn,cn,ln[cn]);return sn},__objRest$p=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$G.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$G)for(var dn of __getOwnPropSymbols$G(sn))ln.indexOf(dn)<0&&__propIsEnum$G.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};function RatingItem(sn){var ln=sn,{size:cn,getSymbolLabel:dn,emptyIcon:pn,fullIcon:vn,full:Sn,active:En,value:Cn,readOnly:Pn,fractionValue:Rn,classNames:Ln,styles:Fn,unstyled:Gn,color:Dn,id:Kn,variant:qn,onChange:Zn}=ln,Yn=__objRest$p(ln,["size","getSymbolLabel","emptyIcon","fullIcon","full","active","value","readOnly","fractionValue","classNames","styles","unstyled","color","id","variant","onChange"]);const{classes:Jn}=useStyles$t(null,{name:"Rating",classNames:Ln,styles:Fn,unstyled:Gn,size:cn,variant:qn}),rs=typeof vn=="function"?vn(Cn):vn,us=typeof pn=="function"?pn(Cn):pn;return jsxs$1(Fragment$1,{children:[!Pn&&jsx$1("input",{...__spreadValues$F({onKeyDown:as=>as.key===" "&&Zn(Cn),className:Jn.input,id:Kn,type:"radio","data-active":En,"aria-label":dn(Cn),value:Cn,onChange:Zn},Yn)}),jsx$1(Box$1,{component:Pn?"div":"label",className:Jn.label,"data-read-only":Pn||void 0,htmlFor:Kn,sx:Rn===1?void 0:{zIndex:En?2:0},onClick:()=>Zn(Cn),children:jsx$1(Box$1,{className:Jn.symbolBody,sx:Rn===1?void 0:{clipPath:`inset(0 ${En?100-Rn*100:100}% 0 0)`},children:Sn?rs||jsx$1(StarSymbol,{color:Dn,size:cn,type:"full"}):us||jsx$1(StarSymbol,{color:Dn,size:cn,type:"empty"})})})]})}RatingItem.displayName="@mantine/core/RatingItem";var useStyles$q=createStyles$1(()=>({root:{display:"flex",width:"max-content","&:has(input:disabled)":{pointerEvents:"none",cursor:"not-allowed"}},symbolGroup:{position:"relative",transition:"transform 100ms ease",'&[data-active="true"]':{zIndex:1,transform:"scale(1.2)"}}}));const useStyles$r=useStyles$q;var __defProp$E=Object.defineProperty,__getOwnPropSymbols$F=Object.getOwnPropertySymbols,__hasOwnProp$F=Object.prototype.hasOwnProperty,__propIsEnum$F=Object.prototype.propertyIsEnumerable,__defNormalProp$E=(sn,ln,cn)=>ln in sn?__defProp$E(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$E=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$F.call(ln,cn)&&__defNormalProp$E(sn,cn,ln[cn]);if(__getOwnPropSymbols$F)for(var cn of __getOwnPropSymbols$F(ln))__propIsEnum$F.call(ln,cn)&&__defNormalProp$E(sn,cn,ln[cn]);return sn},__objRest$o=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$F.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$F)for(var dn of __getOwnPropSymbols$F(sn))ln.indexOf(dn)<0&&__propIsEnum$F.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};function roundValueTo(sn,ln){var cn;const dn=Math.round(sn/ln)*ln,pn=((cn=`${ln}`.split(".")[1])==null?void 0:cn.length)||0;return Number(dn.toFixed(pn))}const defaultProps$f={size:"sm",getSymbolLabel:sn=>`${sn}`,count:5,fractions:1,color:"yellow"},Rating=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("Rating",defaultProps$f,sn),{defaultValue:dn,value:pn,emptySymbol:vn,fullSymbol:Sn,size:En,count:Cn,fractions:Pn,onChange:Rn,onHover:Ln,getSymbolLabel:Fn,name:Gn,readOnly:Dn,className:Kn,classNames:qn,styles:Zn,unstyled:Yn,onMouseEnter:Jn,onMouseMove:rs,onMouseLeave:us,highlightSelectedOnly:as,color:cs,id:_s,variant:Es}=cn,Qn=__objRest$o(cn,["defaultValue","value","emptySymbol","fullSymbol","size","count","fractions","onChange","onHover","getSymbolLabel","name","readOnly","className","classNames","styles","unstyled","onMouseEnter","onMouseMove","onMouseLeave","highlightSelectedOnly","color","id","variant"]),{classes:ms,cx:$s,theme:Ms}=useStyles$r(null,{name:"Rating",classNames:qn,styles:Zn,unstyled:Yn,variant:Es,size:En}),gs=useId$1(Gn),Ss=useId$1(_s),js=reactExports.useRef(null),[bs,Ts]=useUncontrolled({value:pn,defaultValue:dn,finalValue:0,onChange:Rn}),[xs,zs]=reactExports.useState(-1),[Bs,Js]=reactExports.useState(!0),tu=Math.floor(Pn),hs=Math.floor(Cn),lu=1/tu,vu=roundValueTo(bs,lu),yu=xs!==-1?xs:vu,Wu=Wl=>{Jn==null||Jn(Wl),!Dn&&Js(!1)},Ru=Wl=>{if(rs==null||rs(Wl),Dn)return;const{left:lp,right:am,width:fl}=js.current.getBoundingClientRect(),$u=fl/hs,Cp=(Ms.dir==="rtl"?am-Wl.clientX:Wl.clientX-lp)/$u,ry=clamp(roundValueTo(Cp+lu/2,lu),lu,hs);zs(ry),ry!==xs&&(Ln==null||Ln(ry))},Ll=Wl=>{us==null||us(Wl),!Dn&&(zs(-1),Js(!0),xs!==-1&&(Ln==null||Ln(-1)))},Vp=()=>Bs&&zs(-1),Ys=Wl=>{Ts(typeof Wl=="number"?Wl:parseFloat(Wl.target.value))},_u=Array(hs).fill(0).map((Wl,lp)=>{const am=lp+1,fl=Array.from(new Array(lp===0?tu+1:tu)),$u=!Dn&&Math.ceil(xs)===am;return jsx$1("div",{"data-active":$u,className:ms.symbolGroup,children:fl.map((cp,Cp)=>{const ry=lu*(lp===0?Cp:Cp+1),vp=roundValueTo(am-1+ry,lu);return jsx$1(RatingItem,{size:En,variant:Es,getSymbolLabel:Fn,emptyIcon:vn,fullIcon:Sn,full:as?vp===yu:vp<=yu,active:vp===yu,checked:vp===vu,readOnly:Dn,fractionValue:ry,value:vp,name:gs,onChange:Ys,onBlur:Vp,classNames:qn,styles:Zn,unstyled:Yn,color:cs,id:`${Ss}-${lp}-${Cp}`},`${am}-${vp}`)})},am)});return jsx$1(Box$1,{...__spreadValues$E({ref:useMergedRef(js,ln),className:$s(ms.root,Kn),onMouseMove:Ru,onMouseEnter:Wu,onMouseLeave:Ll},Qn),children:_u})});Rating.displayName="@mantine/core/Rating";var useStyles$o=createStyles$1((sn,{spacing:ln,align:cn,justify:dn})=>({root:{display:"flex",flexDirection:"column",alignItems:cn,justifyContent:dn,gap:getSize$1({size:ln,sizes:sn.spacing})}}));const useStyles$p=useStyles$o;var __defProp$D=Object.defineProperty,__getOwnPropSymbols$E=Object.getOwnPropertySymbols,__hasOwnProp$E=Object.prototype.hasOwnProperty,__propIsEnum$E=Object.prototype.propertyIsEnumerable,__defNormalProp$D=(sn,ln,cn)=>ln in sn?__defProp$D(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$D=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$E.call(ln,cn)&&__defNormalProp$D(sn,cn,ln[cn]);if(__getOwnPropSymbols$E)for(var cn of __getOwnPropSymbols$E(ln))__propIsEnum$E.call(ln,cn)&&__defNormalProp$D(sn,cn,ln[cn]);return sn},__objRest$n=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$E.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$E)for(var dn of __getOwnPropSymbols$E(sn))ln.indexOf(dn)<0&&__propIsEnum$E.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$e={spacing:"md",align:"stretch",justify:"flex-start"},Stack=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("Stack",defaultProps$e,sn),{spacing:dn,className:pn,align:vn,justify:Sn,unstyled:En,variant:Cn}=cn,Pn=__objRest$n(cn,["spacing","className","align","justify","unstyled","variant"]),{classes:Rn,cx:Ln}=useStyles$p({spacing:dn,align:vn,justify:Sn},{name:"Stack",unstyled:En,variant:Cn});return jsx$1(Box$1,{...__spreadValues$D({className:Ln(Rn.root,pn),ref:ln},Pn)})});Stack.displayName="@mantine/core/Stack";const SwitchGroupContext=reactExports.createContext(null),SwitchGroupProvider=SwitchGroupContext.Provider,useSwitchGroupContext=()=>reactExports.useContext(SwitchGroupContext);var __defProp$C=Object.defineProperty,__getOwnPropSymbols$D=Object.getOwnPropertySymbols,__hasOwnProp$D=Object.prototype.hasOwnProperty,__propIsEnum$D=Object.prototype.propertyIsEnumerable,__defNormalProp$C=(sn,ln,cn)=>ln in sn?__defProp$C(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$C=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$D.call(ln,cn)&&__defNormalProp$C(sn,cn,ln[cn]);if(__getOwnPropSymbols$D)for(var cn of __getOwnPropSymbols$D(ln))__propIsEnum$D.call(ln,cn)&&__defNormalProp$C(sn,cn,ln[cn]);return sn},__objRest$m=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$D.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$D)for(var dn of __getOwnPropSymbols$D(sn))ln.indexOf(dn)<0&&__propIsEnum$D.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$d={size:"sm"},SwitchGroup=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("SwitchGroup",defaultProps$d,sn),{children:dn,value:pn,defaultValue:vn,onChange:Sn,size:En,wrapperProps:Cn}=cn,Pn=__objRest$m(cn,["children","value","defaultValue","onChange","size","wrapperProps"]),[Rn,Ln]=useUncontrolled({value:pn,defaultValue:vn,finalValue:[],onChange:Sn});return jsx$1(SwitchGroupProvider,{value:{value:Rn,onChange:Gn=>{const Dn=Gn.currentTarget.value;Ln(Rn.includes(Dn)?Rn.filter(Kn=>Kn!==Dn):[...Rn,Dn])},size:En},children:jsx$1(Input.Wrapper,{...__spreadValues$C(__spreadValues$C({labelElement:"div",size:En,__staticSelector:"SwitchGroup",ref:ln},Cn),Pn),children:dn})})});SwitchGroup.displayName="@mantine/core/SwitchGroup";var __defProp$B=Object.defineProperty,__defProps$d=Object.defineProperties,__getOwnPropDescs$d=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$C=Object.getOwnPropertySymbols,__hasOwnProp$C=Object.prototype.hasOwnProperty,__propIsEnum$C=Object.prototype.propertyIsEnumerable,__defNormalProp$B=(sn,ln,cn)=>ln in sn?__defProp$B(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$B=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$C.call(ln,cn)&&__defNormalProp$B(sn,cn,ln[cn]);if(__getOwnPropSymbols$C)for(var cn of __getOwnPropSymbols$C(ln))__propIsEnum$C.call(ln,cn)&&__defNormalProp$B(sn,cn,ln[cn]);return sn},__spreadProps$d=(sn,ln)=>__defProps$d(sn,__getOwnPropDescs$d(ln));const switchHeight={xs:rem$1(16),sm:rem$1(20),md:rem$1(24),lg:rem$1(30),xl:rem$1(36)},switchWidth={xs:rem$1(32),sm:rem$1(38),md:rem$1(46),lg:rem$1(56),xl:rem$1(72)},handleSizes={xs:rem$1(12),sm:rem$1(14),md:rem$1(18),lg:rem$1(22),xl:rem$1(28)},labelFontSizes={xs:rem$1(5),sm:rem$1(6),md:rem$1(7),lg:rem$1(9),xl:rem$1(11)},trackLabelPaddings={xs:rem$1(4),sm:rem$1(5),md:rem$1(6),lg:rem$1(8),xl:rem$1(10)};var useStyles$m=createStyles$1((sn,{radius:ln,color:cn,labelPosition:dn,error:pn},{size:vn})=>{const Sn=getSize$1({size:vn,sizes:handleSizes}),En=getSize$1({size:ln,sizes:sn.radius}),Cn=sn.fn.variant({variant:"filled",color:cn}),Pn=getSize$1({size:vn,sizes:switchWidth}),Rn=rem$1(vn==="xs"?1:2),Ln=sn.fn.variant({variant:"filled",color:"red"}).background;return{root:{position:"relative"},input:{height:0,width:0,overflow:"hidden",whiteSpace:"nowrap",padding:0,WebkitClipPath:"inset(50%)",clipPath:"inset(50%)",position:"absolute"},track:__spreadProps$d(__spreadValues$B({},sn.fn.focusStyles("input:focus + &")),{cursor:sn.cursorType,overflow:"hidden",WebkitTapHighlightColor:"transparent",position:"relative",borderRadius:En,backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[6]:sn.colors.gray[2],border:`${rem$1(1)} solid ${pn?Ln:sn.colorScheme==="dark"?sn.colors.dark[4]:sn.colors.gray[3]}`,height:getSize$1({size:vn,sizes:switchHeight}),minWidth:Pn,margin:0,transitionProperty:"background-color, border-color",transitionTimingFunction:sn.transitionTimingFunction,transitionDuration:"150ms",boxSizing:"border-box",appearance:"none",display:"flex",alignItems:"center",fontSize:getSize$1({size:vn,sizes:labelFontSizes}),fontWeight:600,order:dn==="left"?2:1,userSelect:"none",zIndex:0,lineHeight:0,color:sn.colorScheme==="dark"?sn.colors.dark[1]:sn.colors.gray[6],transition:`color 150ms ${sn.transitionTimingFunction}`,"input:checked + &":{backgroundColor:Cn.background,borderColor:Cn.background,color:sn.white,transition:`color 150ms ${sn.transitionTimingFunction}`},"input:disabled + &":{backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[4]:sn.colors.gray[2],borderColor:sn.colorScheme==="dark"?sn.colors.dark[4]:sn.colors.gray[2],cursor:"not-allowed",pointerEvents:"none"}}),thumb:{position:"absolute",zIndex:1,borderRadius:En,boxSizing:"border-box",display:"flex",backgroundColor:sn.white,height:Sn,width:Sn,border:`${rem$1(1)} solid ${sn.colorScheme==="dark"?sn.white:sn.colors.gray[3]}`,left:Rn,transition:`left 150ms ${sn.transitionTimingFunction}`,"& > *":{margin:"auto"},"@media (prefers-reduced-motion)":{transitionDuration:sn.respectReducedMotion?"0ms":""},"input:checked + * > &":{left:`calc(100% - ${Sn} - ${Rn})`,borderColor:sn.white},"input:disabled + * > &":{borderColor:sn.colorScheme==="dark"?sn.colors.dark[4]:sn.colors.gray[2],backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[3]:sn.colors.gray[0]}},trackLabel:{height:"100%",display:"grid",placeContent:"center",minWidth:`calc(${Pn} - ${Sn})`,paddingInline:getSize$1({size:vn,sizes:trackLabelPaddings}),margin:`0 0 0 calc(${Sn} + ${Rn})`,transition:`margin 150ms ${sn.transitionTimingFunction}`,"input:checked + * > &":{margin:`0 calc(${Sn} + ${Rn}) 0 0`}}}});const useStyles$n=useStyles$m;var __defProp$A=Object.defineProperty,__defProps$c=Object.defineProperties,__getOwnPropDescs$c=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$B=Object.getOwnPropertySymbols,__hasOwnProp$B=Object.prototype.hasOwnProperty,__propIsEnum$B=Object.prototype.propertyIsEnumerable,__defNormalProp$A=(sn,ln,cn)=>ln in sn?__defProp$A(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$A=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$B.call(ln,cn)&&__defNormalProp$A(sn,cn,ln[cn]);if(__getOwnPropSymbols$B)for(var cn of __getOwnPropSymbols$B(ln))__propIsEnum$B.call(ln,cn)&&__defNormalProp$A(sn,cn,ln[cn]);return sn},__spreadProps$c=(sn,ln)=>__defProps$c(sn,__getOwnPropDescs$c(ln)),__objRest$l=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$B.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$B)for(var dn of __getOwnPropSymbols$B(sn))ln.indexOf(dn)<0&&__propIsEnum$B.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$c={offLabel:"",onLabel:"",size:"sm",radius:"xl",error:!1},Switch=reactExports.forwardRef((sn,ln)=>{var cn;const dn=useComponentDefaultProps$1("Switch",defaultProps$c,sn),{className:pn,color:vn,label:Sn,offLabel:En,onLabel:Cn,id:Pn,style:Rn,size:Ln,radius:Fn,wrapperProps:Gn,children:Dn,unstyled:Kn,styles:qn,classNames:Zn,thumbIcon:Yn,sx:Jn,checked:rs,defaultChecked:us,onChange:as,labelPosition:cs,description:_s,error:Es,disabled:Qn,variant:ms}=dn,$s=__objRest$l(dn,["className","color","label","offLabel","onLabel","id","style","size","radius","wrapperProps","children","unstyled","styles","classNames","thumbIcon","sx","checked","defaultChecked","onChange","labelPosition","description","error","disabled","variant"]),Ms=useSwitchGroupContext(),gs=(Ms==null?void 0:Ms.size)||Ln,{classes:Ss,cx:js}=useStyles$n({color:vn,radius:Fn,labelPosition:cs,error:!!Es},{name:"Switch",classNames:Zn,styles:qn,unstyled:Kn,size:gs,variant:ms}),{systemStyles:bs,rest:Ts}=extractSystemStyles$1($s),xs=useId$1(Pn),zs=Ms?{checked:Ms.value.includes(Ts.value),onChange:Ms.onChange}:{},[Bs,Js]=useUncontrolled({value:(cn=zs.checked)!=null?cn:rs,defaultValue:us,finalValue:!1});return jsxs$1(InlineInput,{...__spreadValues$A(__spreadValues$A({className:js(pn,Ss.root),sx:Jn,style:Rn,id:xs,size:(Ms==null?void 0:Ms.size)||Ln,labelPosition:cs,label:Sn,description:_s,error:Es,disabled:Qn,__staticSelector:"Switch",classNames:Zn,styles:qn,unstyled:Kn,"data-checked":zs.checked||void 0,variant:ms},bs),Gn),children:[jsx$1("input",{...__spreadProps$c(__spreadValues$A({},Ts),{disabled:Qn,checked:Bs,onChange:tu=>{Ms?zs.onChange(tu):as==null||as(tu),Js(tu.currentTarget.checked)},id:xs,ref:ln,type:"checkbox",className:Ss.input})}),jsxs$1("label",{htmlFor:xs,className:Ss.track,children:[jsx$1("div",{className:Ss.thumb,children:Yn}),jsx$1("div",{className:Ss.trackLabel,children:Bs?Cn:En})]})]})});Switch.displayName="@mantine/core/Switch";Switch.Group=SwitchGroup;var __defProp$z=Object.defineProperty,__defProps$b=Object.defineProperties,__getOwnPropDescs$b=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$A=Object.getOwnPropertySymbols,__hasOwnProp$A=Object.prototype.hasOwnProperty,__propIsEnum$A=Object.prototype.propertyIsEnumerable,__defNormalProp$z=(sn,ln,cn)=>ln in sn?__defProp$z(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$z=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$A.call(ln,cn)&&__defNormalProp$z(sn,cn,ln[cn]);if(__getOwnPropSymbols$A)for(var cn of __getOwnPropSymbols$A(ln))__propIsEnum$A.call(ln,cn)&&__defNormalProp$z(sn,cn,ln[cn]);return sn},__spreadProps$b=(sn,ln)=>__defProps$b(sn,__getOwnPropDescs$b(ln));function getFontSize(sn,ln,cn){return typeof sn<"u"?sn in cn.headings.sizes?cn.headings.sizes[sn].fontSize:rem$1(sn):cn.headings.sizes[ln].fontSize}function getLineHeight(sn,ln,cn){return typeof sn<"u"&&sn in cn.headings.sizes?cn.headings.sizes[sn].lineHeight:cn.headings.sizes[ln].lineHeight}var useStyles$k=createStyles$1((sn,{element:ln,weight:cn,inline:dn},{size:pn})=>({root:__spreadProps$b(__spreadValues$z({},sn.fn.fontStyles()),{fontFamily:sn.headings.fontFamily,fontWeight:cn||sn.headings.sizes[ln].fontWeight||sn.headings.fontWeight,fontSize:getFontSize(pn,ln,sn),lineHeight:dn?1:getLineHeight(pn,ln,sn),margin:0})}));const useStyles$l=useStyles$k;var __defProp$y=Object.defineProperty,__getOwnPropSymbols$z=Object.getOwnPropertySymbols,__hasOwnProp$z=Object.prototype.hasOwnProperty,__propIsEnum$z=Object.prototype.propertyIsEnumerable,__defNormalProp$y=(sn,ln,cn)=>ln in sn?__defProp$y(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$y=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$z.call(ln,cn)&&__defNormalProp$y(sn,cn,ln[cn]);if(__getOwnPropSymbols$z)for(var cn of __getOwnPropSymbols$z(ln))__propIsEnum$z.call(ln,cn)&&__defNormalProp$y(sn,cn,ln[cn]);return sn},__objRest$k=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$z.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$z)for(var dn of __getOwnPropSymbols$z(sn))ln.indexOf(dn)<0&&__propIsEnum$z.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$b={order:1},Title=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps$1("Title",defaultProps$b,sn),{className:dn,order:pn,children:vn,unstyled:Sn,size:En,weight:Cn,inline:Pn,variant:Rn}=cn,Ln=__objRest$k(cn,["className","order","children","unstyled","size","weight","inline","variant"]),{classes:Fn,cx:Gn}=useStyles$l({element:`h${pn}`,weight:Cn,inline:Pn},{name:"Title",unstyled:Sn,variant:Rn,size:En});return[1,2,3,4,5,6].includes(pn)?jsx$1(Text$1,{...__spreadValues$y({variant:Rn,component:`h${pn}`,ref:ln,className:Gn(Fn.root,dn)},Ln),children:vn}):null});Title.displayName="@mantine/core/Title";var P$8={infgreen:["#E5F9F1","#BFF0DB","#99E7C6","#73DFB1","#4CD69C","#26CD86","#00C471","#00A760","#00894F","#006C3E"],rallit:["#E5FAF7","#BFF2EA","#99EBDD","#73E3D0","#4DDBC3","#26D4B7","#00CCAA","#00AD90","#008F77","#00705D"],dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#F8F9FA","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},y$c={xs:576,sm:768,md:1024,lg:1200,xl:1400},nr$5=16,D$b=sn=>`${sn/nr$5}em`,xt$5={xs:D$b(y$c.xs),sm:D$b(y$c.sm),md:D$b(y$c.md),lg:D$b(y$c.lg),xl:D$b(y$c.xl)},A$b={tablet:y$c.md,mobile:y$c.sm,smallMobile:y$c.xs},V$7=sn=>`@media (max-width: ${sn}px)`,pr$5={tablet:V$7(A$b.tablet),mobile:V$7(A$b.mobile),smallMobile:V$7(A$b.smallMobile)},ur$7=typeof global=="object"&&global&&global.Object===Object&&global,Q$a=ur$7,mr$7=typeof self=="object"&&self&&self.Object===Object&&self,dr$7=Q$a||mr$7||Function("return this")(),c$h=dr$7,cr$7=c$h.Symbol,b$e=cr$7,ht$6=Object.prototype,xr$7=ht$6.hasOwnProperty,hr$7=ht$6.toString,W$b=b$e?b$e.toStringTag:void 0;function gr$7(sn){var ln=xr$7.call(sn,W$b),cn=sn[W$b];try{sn[W$b]=void 0;var dn=!0}catch{}var pn=hr$7.call(sn);return dn&&(ln?sn[W$b]=cn:delete sn[W$b]),pn}var gt$7=gr$7,yr$7=Object.prototype,br$7=yr$7.toString;function _r$7(sn){return br$7.call(sn)}var yt$7=_r$7,Tr$5="[object Null]",Sr$5="[object Undefined]",bt$7=b$e?b$e.toStringTag:void 0;function wr$6(sn){return sn==null?sn===void 0?Sr$5:Tr$5:bt$7&&bt$7 in Object(sn)?gt$7(sn):yt$7(sn)}var h$b=wr$6;function vr$5(sn){return sn!=null&&typeof sn=="object"}var x$i=vr$5,Or$3="[object Symbol]";function Pr$5(sn){return typeof sn=="symbol"||x$i(sn)&&h$b(sn)==Or$3}var C$a=Pr$5;function Ar$3(sn,ln){for(var cn=-1,dn=sn==null?0:sn.length,pn=Array(dn);++cn<dn;)pn[cn]=ln(sn[cn],cn,sn);return pn}var _t$6=Ar$3,Cr$5=Array.isArray,d$g=Cr$5,Ir$3=1/0,Tt$6=b$e?b$e.prototype:void 0,St$6=Tt$6?Tt$6.toString:void 0;function wt$5(sn){if(typeof sn=="string")return sn;if(d$g(sn))return _t$6(sn,wt$5)+"";if(C$a(sn))return St$6?St$6.call(sn):"";var ln=sn+"";return ln=="0"&&1/sn==-Ir$3?"-0":ln}var vt$5=wt$5;function Mr$7(sn){var ln=typeof sn;return sn!=null&&(ln=="object"||ln=="function")}var u$b=Mr$7;function Er$5(sn){return sn}var Z$9=Er$5,Rr$7="[object AsyncFunction]",Kr$5="[object Function]",Nr$5="[object GeneratorFunction]",Fr$5="[object Proxy]";function Br$5(sn){if(!u$b(sn))return!1;var ln=h$b(sn);return ln==Kr$5||ln==Nr$5||ln==Rr$7||ln==Fr$5}var I$f=Br$5,Xr$5=c$h["__core-js_shared__"],Y$b=Xr$5,Ot$6=function(){var sn=/[^.]+$/.exec(Y$b&&Y$b.keys&&Y$b.keys.IE_PROTO||"");return sn?"Symbol(src)_1."+sn:""}();function $r$5(sn){return!!Ot$6&&Ot$6 in sn}var Pt$5=$r$5,jr$5=Function.prototype,zr$7=jr$5.toString;function Dr$6(sn){if(sn!=null){try{return zr$7.call(sn)}catch{}try{return sn+""}catch{}}return""}var At$7=Dr$6,Wr$5=/[\\^$.*+?()[\]{}|]/g,Gr$5=/^\[object .+?Constructor\]$/,Ur$5=Function.prototype,Hr$5=Object.prototype,qr$5=Ur$5.toString,Vr$5=Hr$5.hasOwnProperty,Qr$5=RegExp("^"+qr$5.call(Vr$5).replace(Wr$5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Zr$5(sn){if(!u$b(sn)||Pt$5(sn))return!1;var ln=I$f(sn)?Qr$5:Gr$5;return ln.test(At$7(sn))}var Ct$7=Zr$5;function Yr$5(sn,ln){return sn==null?void 0:sn[ln]}var It$7=Yr$5;function Jr$5(sn,ln){var cn=It$7(sn,ln);return Ct$7(cn)?cn:void 0}var M$b=Jr$5,Mt$7=Object.create,Lr$5=function(){function sn(){}return function(ln){if(!u$b(ln))return{};if(Mt$7)return Mt$7(ln);sn.prototype=ln;var cn=new sn;return sn.prototype=void 0,cn}}(),Et$7=Lr$5;function kr$5(sn,ln,cn){switch(cn.length){case 0:return sn.call(ln);case 1:return sn.call(ln,cn[0]);case 2:return sn.call(ln,cn[0],cn[1]);case 3:return sn.call(ln,cn[0],cn[1],cn[2])}return sn.apply(ln,cn)}var Rt$7=kr$5;function to$5(sn,ln){var cn=-1,dn=sn.length;for(ln||(ln=Array(dn));++cn<dn;)ln[cn]=sn[cn];return ln}var Kt$7=to$5,eo$5=800,ro$5=16,oo$5=Date.now;function ao$5(sn){var ln=0,cn=0;return function(){var dn=oo$5(),pn=ro$5-(dn-cn);if(cn=dn,pn>0){if(++ln>=eo$5)return arguments[0]}else ln=0;return sn.apply(void 0,arguments)}}var Nt$7=ao$5;function fo$5(sn){return function(){return sn}}var Ft$7=fo$5,io$5=function(){try{var sn=M$b(Object,"defineProperty");return sn({},"",{}),sn}catch{}}(),E$f=io$5,lo$5=E$f?function(sn,ln){return E$f(sn,"toString",{configurable:!0,enumerable:!1,value:Ft$7(ln),writable:!0})}:Z$9,Bt$7=lo$5,no$5=Nt$7(Bt$7),Xt$7=no$5,so$5=9007199254740991,po$5=/^(?:0|[1-9]\d*)$/;function uo$5(sn,ln){var cn=typeof sn;return ln=ln??so$5,!!ln&&(cn=="number"||cn!="symbol"&&po$5.test(sn))&&sn>-1&&sn%1==0&&sn<ln}var R$b=uo$5;function mo$5(sn,ln,cn){ln=="__proto__"&&E$f?E$f(sn,ln,{configurable:!0,enumerable:!0,value:cn,writable:!0}):sn[ln]=cn}var K$b=mo$5;function co$5(sn,ln){return sn===ln||sn!==sn&&ln!==ln}var T$e=co$5,xo$5=Object.prototype,ho$5=xo$5.hasOwnProperty;function go$5(sn,ln,cn){var dn=sn[ln];(!(ho$5.call(sn,ln)&&T$e(dn,cn))||cn===void 0&&!(ln in sn))&&K$b(sn,ln,cn)}var $t$7=go$5;function yo$5(sn,ln,cn,dn){var pn=!cn;cn||(cn={});for(var vn=-1,Sn=ln.length;++vn<Sn;){var En=ln[vn],Cn=dn?dn(cn[En],sn[En],En,cn,sn):void 0;Cn===void 0&&(Cn=sn[En]),pn?K$b(cn,En,Cn):$t$7(cn,En,Cn)}return cn}var jt$7=yo$5,zt$7=Math.max;function bo$5(sn,ln,cn){return ln=zt$7(ln===void 0?sn.length-1:ln,0),function(){for(var dn=arguments,pn=-1,vn=zt$7(dn.length-ln,0),Sn=Array(vn);++pn<vn;)Sn[pn]=dn[ln+pn];pn=-1;for(var En=Array(ln+1);++pn<ln;)En[pn]=dn[pn];return En[ln]=cn(Sn),Rt$7(sn,this,En)}}var Dt$7=bo$5;function _o$5(sn,ln){return Xt$7(Dt$7(sn,ln,Z$9),sn+"")}var Wt$7=_o$5,To$5=9007199254740991;function So$5(sn){return typeof sn=="number"&&sn>-1&&sn%1==0&&sn<=To$5}var N$f=So$5;function wo$5(sn){return sn!=null&&N$f(sn.length)&&!I$f(sn)}var F$e=wo$5;function vo$5(sn,ln,cn){if(!u$b(cn))return!1;var dn=typeof ln;return(dn=="number"?F$e(cn)&&R$b(ln,cn.length):dn=="string"&&ln in cn)?T$e(cn[ln],sn):!1}var Gt$7=vo$5;function Oo$5(sn){return Wt$7(function(ln,cn){var dn=-1,pn=cn.length,vn=pn>1?cn[pn-1]:void 0,Sn=pn>2?cn[2]:void 0;for(vn=sn.length>3&&typeof vn=="function"?(pn--,vn):void 0,Sn&&Gt$7(cn[0],cn[1],Sn)&&(vn=pn<3?void 0:vn,pn=1),ln=Object(ln);++dn<pn;){var En=cn[dn];En&&sn(ln,En,dn,vn)}return ln})}var Ut$7=Oo$5,Po$5=Object.prototype;function Ao$5(sn){var ln=sn&&sn.constructor,cn=typeof ln=="function"&&ln.prototype||Po$5;return sn===cn}var J$8=Ao$5;function Co$5(sn,ln){for(var cn=-1,dn=Array(sn);++cn<sn;)dn[cn]=ln(cn);return dn}var Ht$7=Co$5,Io$5="[object Arguments]";function Mo$5(sn){return x$i(sn)&&h$b(sn)==Io$5}var it$5=Mo$5,qt$7=Object.prototype,Eo$5=qt$7.hasOwnProperty,Ro$5=qt$7.propertyIsEnumerable,Ko$5=it$5(function(){return arguments}())?it$5:function(sn){return x$i(sn)&&Eo$5.call(sn,"callee")&&!Ro$5.call(sn,"callee")},O$c=Ko$5;function No$5(){return!1}var Vt$7=No$5,Yt$7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Qt$7=Yt$7&&typeof module=="object"&&module&&!module.nodeType&&module,Fo$5=Qt$7&&Qt$7.exports===Yt$7,Zt$7=Fo$5?c$h.Buffer:void 0,Bo$5=Zt$7?Zt$7.isBuffer:void 0,Xo$5=Bo$5||Vt$7,L$c=Xo$5,$o$5="[object Arguments]",jo$5="[object Array]",zo$5="[object Boolean]",Do$5="[object Date]",Wo$5="[object Error]",Go$5="[object Function]",Uo$5="[object Map]",Ho$5="[object Number]",qo$5="[object Object]",Vo$5="[object RegExp]",Qo$5="[object Set]",Zo$5="[object String]",Yo$5="[object WeakMap]",Jo$5="[object ArrayBuffer]",Lo$5="[object DataView]",ko$6="[object Float32Array]",ta$5="[object Float64Array]",ea$5="[object Int8Array]",ra$5="[object Int16Array]",oa$5="[object Int32Array]",aa$5="[object Uint8Array]",fa$5="[object Uint8ClampedArray]",ia$5="[object Uint16Array]",la$5="[object Uint32Array]",s$c={};s$c[ko$6]=s$c[ta$5]=s$c[ea$5]=s$c[ra$5]=s$c[oa$5]=s$c[aa$5]=s$c[fa$5]=s$c[ia$5]=s$c[la$5]=!0;s$c[$o$5]=s$c[jo$5]=s$c[Jo$5]=s$c[zo$5]=s$c[Lo$5]=s$c[Do$5]=s$c[Wo$5]=s$c[Go$5]=s$c[Uo$5]=s$c[Ho$5]=s$c[qo$5]=s$c[Vo$5]=s$c[Qo$5]=s$c[Zo$5]=s$c[Yo$5]=!1;function na$5(sn){return x$i(sn)&&N$f(sn.length)&&!!s$c[h$b(sn)]}var Jt$7=na$5;function sa$5(sn){return function(ln){return sn(ln)}}var Lt$7=sa$5,kt$7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,G$c=kt$7&&typeof module=="object"&&module&&!module.nodeType&&module,pa$5=G$c&&G$c.exports===kt$7,lt$7=pa$5&&Q$a.process,ua$5=function(){try{var sn=G$c&&G$c.require&&G$c.require("util").types;return sn||lt$7&&lt$7.binding&&lt$7.binding("util")}catch{}}(),nt$7=ua$5,te$8=nt$7&&nt$7.isTypedArray,ma$5=te$8?Lt$7(te$8):Jt$7,k$c=ma$5,da$5=Object.prototype,ca$5=da$5.hasOwnProperty;function xa$5(sn,ln){var cn=d$g(sn),dn=!cn&&O$c(sn),pn=!cn&&!dn&&L$c(sn),vn=!cn&&!dn&&!pn&&k$c(sn),Sn=cn||dn||pn||vn,En=Sn?Ht$7(sn.length,String):[],Cn=En.length;for(var Pn in sn)(ln||ca$5.call(sn,Pn))&&!(Sn&&(Pn=="length"||pn&&(Pn=="offset"||Pn=="parent")||vn&&(Pn=="buffer"||Pn=="byteLength"||Pn=="byteOffset")||R$b(Pn,Cn)))&&En.push(Pn);return En}var ee$8=xa$5;function ha$5(sn,ln){return function(cn){return sn(ln(cn))}}var re$8=ha$5;function ga$5(sn){var ln=[];if(sn!=null)for(var cn in Object(sn))ln.push(cn);return ln}var oe$8=ga$5,ya$5=Object.prototype,ba$5=ya$5.hasOwnProperty;function _a$8(sn){if(!u$b(sn))return oe$8(sn);var ln=J$8(sn),cn=[];for(var dn in sn)dn=="constructor"&&(ln||!ba$5.call(sn,dn))||cn.push(dn);return cn}var ae$8=_a$8;function Ta$5(sn){return F$e(sn)?ee$8(sn,!0):ae$8(sn)}var tt$6=Ta$5,Sa$3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wa$3=/^\w*$/;function va$3(sn,ln){if(d$g(sn))return!1;var cn=typeof sn;return cn=="number"||cn=="symbol"||cn=="boolean"||sn==null||C$a(sn)?!0:wa$3.test(sn)||!Sa$3.test(sn)||ln!=null&&sn in Object(ln)}var fe$7=va$3,Oa$5=M$b(Object,"create"),_$b=Oa$5;function Pa$5(){this.__data__=_$b?_$b(null):{},this.size=0}var ie$7=Pa$5;function Aa$5(sn){var ln=this.has(sn)&&delete this.__data__[sn];return this.size-=ln?1:0,ln}var le$8=Aa$5,Ca$5="__lodash_hash_undefined__",Ia$5=Object.prototype,Ma$5=Ia$5.hasOwnProperty;function Ea$5(sn){var ln=this.__data__;if(_$b){var cn=ln[sn];return cn===Ca$5?void 0:cn}return Ma$5.call(ln,sn)?ln[sn]:void 0}var ne$8=Ea$5,Ra$5=Object.prototype,Ka$3=Ra$5.hasOwnProperty;function Na$3(sn){var ln=this.__data__;return _$b?ln[sn]!==void 0:Ka$3.call(ln,sn)}var se$8=Na$3,Fa$3="__lodash_hash_undefined__";function Ba$5(sn,ln){var cn=this.__data__;return this.size+=this.has(sn)?0:1,cn[sn]=_$b&&ln===void 0?Fa$3:ln,this}var pe$8=Ba$5;function B$c(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}B$c.prototype.clear=ie$7;B$c.prototype.delete=le$8;B$c.prototype.get=ne$8;B$c.prototype.has=se$8;B$c.prototype.set=pe$8;var st$7=B$c;function Xa$3(){this.__data__=[],this.size=0}var ue$8=Xa$3;function $a$3(sn,ln){for(var cn=sn.length;cn--;)if(T$e(sn[cn][0],ln))return cn;return-1}var S$c=$a$3,ja$5=Array.prototype,za$5=ja$5.splice;function Da$5(sn){var ln=this.__data__,cn=S$c(ln,sn);if(cn<0)return!1;var dn=ln.length-1;return cn==dn?ln.pop():za$5.call(ln,cn,1),--this.size,!0}var me$8=Da$5;function Wa$3(sn){var ln=this.__data__,cn=S$c(ln,sn);return cn<0?void 0:ln[cn][1]}var de$8=Wa$3;function Ga$3(sn){return S$c(this.__data__,sn)>-1}var ce$8=Ga$3;function Ua$4(sn,ln){var cn=this.__data__,dn=S$c(cn,sn);return dn<0?(++this.size,cn.push([sn,ln])):cn[dn][1]=ln,this}var xe$8=Ua$4;function X$7(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}X$7.prototype.clear=ue$8;X$7.prototype.delete=me$8;X$7.prototype.get=de$8;X$7.prototype.has=ce$8;X$7.prototype.set=xe$8;var w$d=X$7,Ha$4=M$b(c$h,"Map"),et$7=Ha$4;function qa$4(){this.size=0,this.__data__={hash:new st$7,map:new(et$7||w$d),string:new st$7}}var he$8=qa$4;function Va$4(sn){var ln=typeof sn;return ln=="string"||ln=="number"||ln=="symbol"||ln=="boolean"?sn!=="__proto__":sn===null}var ge$8=Va$4;function Qa$2(sn,ln){var cn=sn.__data__;return ge$8(ln)?cn[typeof ln=="string"?"string":"hash"]:cn.map}var v$b=Qa$2;function Za$2(sn){var ln=v$b(this,sn).delete(sn);return this.size-=ln?1:0,ln}var ye$8=Za$2;function Ya$3(sn){return v$b(this,sn).get(sn)}var be$8=Ya$3;function Ja$3(sn){return v$b(this,sn).has(sn)}var _e$8=Ja$3;function La$5(sn,ln){var cn=v$b(this,sn),dn=cn.size;return cn.set(sn,ln),this.size+=cn.size==dn?0:1,this}var Te$8=La$5;function $$12(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}$$12.prototype.clear=he$8;$$12.prototype.delete=ye$8;$$12.prototype.get=be$8;$$12.prototype.has=_e$8;$$12.prototype.set=Te$8;var U$c=$$12,ka$3="Expected a function";function pt$7(sn,ln){if(typeof sn!="function"||ln!=null&&typeof ln!="function")throw new TypeError(ka$3);var cn=function(){var dn=arguments,pn=ln?ln.apply(this,dn):dn[0],vn=cn.cache;if(vn.has(pn))return vn.get(pn);var Sn=sn.apply(this,dn);return cn.cache=vn.set(pn,Sn)||vn,Sn};return cn.cache=new(pt$7.Cache||U$c),cn}pt$7.Cache=U$c;var Se$8=pt$7,tf$2=500;function ef$2(sn){var ln=Se$8(sn,function(dn){return cn.size===tf$2&&cn.clear(),dn}),cn=ln.cache;return ln}var we$8=ef$2,rf$2=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,of$2=/\\(\\)?/g,af$1=we$8(function(sn){var ln=[];return sn.charCodeAt(0)===46&&ln.push(""),sn.replace(rf$2,function(cn,dn,pn,vn){ln.push(pn?vn.replace(of$2,"$1"):dn||cn)}),ln}),ve$7=af$1;function ff$1(sn){return sn==null?"":vt$5(sn)}var Oe$6=ff$1;function lf(sn,ln){return d$g(sn)?sn:fe$7(sn,ln)?[sn]:ve$7(Oe$6(sn))}var Pe$6=lf,nf=1/0;function sf$1(sn){if(typeof sn=="string"||C$a(sn))return sn;var ln=sn+"";return ln=="0"&&1/sn==-nf?"-0":ln}var Ae$6=sf$1,pf$2=re$8(Object.getPrototypeOf,Object),rt$7=pf$2,uf$2="[object Object]",mf$2=Function.prototype,df$2=Object.prototype,Ce$7=mf$2.toString,cf$2=df$2.hasOwnProperty,xf$2=Ce$7.call(Object);function hf$2(sn){if(!x$i(sn)||h$b(sn)!=uf$2)return!1;var ln=rt$7(sn);if(ln===null)return!0;var cn=cf$2.call(ln,"constructor")&&ln.constructor;return typeof cn=="function"&&cn instanceof cn&&Ce$7.call(cn)==xf$2}var Ie$7=hf$2;function gf$2(){this.__data__=new w$d,this.size=0}var Me$8=gf$2;function yf$2(sn){var ln=this.__data__,cn=ln.delete(sn);return this.size=ln.size,cn}var Ee$8=yf$2;function bf$2(sn){return this.__data__.get(sn)}var Re$6=bf$2;function _f$2(sn){return this.__data__.has(sn)}var Ke$7=_f$2,Tf$2=200;function Sf$2(sn,ln){var cn=this.__data__;if(cn instanceof w$d){var dn=cn.__data__;if(!et$7||dn.length<Tf$2-1)return dn.push([sn,ln]),this.size=++cn.size,this;cn=this.__data__=new U$c(dn)}return cn.set(sn,ln),this.size=cn.size,this}var Ne$7=Sf$2;function j$b(sn){var ln=this.__data__=new w$d(sn);this.size=ln.size}j$b.prototype.clear=Me$8;j$b.prototype.delete=Ee$8;j$b.prototype.get=Re$6;j$b.prototype.has=Ke$7;j$b.prototype.set=Ne$7;var Fe$7=j$b,je$8=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Be$7=je$8&&typeof module=="object"&&module&&!module.nodeType&&module,wf$2=Be$7&&Be$7.exports===je$8,Xe$7=wf$2?c$h.Buffer:void 0,$e$7=Xe$7?Xe$7.allocUnsafe:void 0;function vf$2(sn,ln){if(ln)return sn.slice();var cn=sn.length,dn=$e$7?$e$7(cn):new sn.constructor(cn);return sn.copy(dn),dn}var ze$8=vf$2,Of$2=c$h.Uint8Array,ut$7=Of$2;function Pf$2(sn){var ln=new sn.constructor(sn.byteLength);return new ut$7(ln).set(new ut$7(sn)),ln}var De$7=Pf$2;function Af$2(sn,ln){var cn=ln?De$7(sn.buffer):sn.buffer;return new sn.constructor(cn,sn.byteOffset,sn.length)}var We$7=Af$2;function Cf$2(sn){return typeof sn.constructor=="function"&&!J$8(sn)?Et$7(rt$7(sn)):{}}var Ge$7=Cf$2;function If(sn,ln,cn){ln=Pe$6(ln,sn);for(var dn=-1,pn=ln.length,vn=!1;++dn<pn;){var Sn=Ae$6(ln[dn]);if(!(vn=sn!=null&&cn(sn,Sn)))break;sn=sn[Sn]}return vn||++dn!=pn?vn:(pn=sn==null?0:sn.length,!!pn&&N$f(pn)&&R$b(Sn,pn)&&(d$g(sn)||O$c(sn)))}var Ue$7=If;function Mf$2(sn){return function(ln,cn,dn){for(var pn=-1,vn=Object(ln),Sn=dn(ln),En=Sn.length;En--;){var Cn=Sn[sn?En:++pn];if(cn(vn[Cn],Cn,vn)===!1)break}return ln}}var He$6=Mf$2,Ef$2=He$6(),qe$8=Ef$2;function Rf$2(sn,ln,cn){(cn!==void 0&&!T$e(sn[ln],cn)||cn===void 0&&!(ln in sn))&&K$b(sn,ln,cn)}var H$e=Rf$2;function Kf$2(sn){return x$i(sn)&&F$e(sn)}var Ve$8=Kf$2;function Nf$2(sn,ln){if(!(ln==="constructor"&&typeof sn[ln]=="function")&&ln!="__proto__")return sn[ln]}var q$c=Nf$2;function Ff$2(sn){return jt$7(sn,tt$6(sn))}var Qe$7=Ff$2;function Bf$1(sn,ln,cn,dn,pn,vn,Sn){var En=q$c(sn,cn),Cn=q$c(ln,cn),Pn=Sn.get(Cn);if(Pn){H$e(sn,cn,Pn);return}var Rn=vn?vn(En,Cn,cn+"",sn,ln,Sn):void 0,Ln=Rn===void 0;if(Ln){var Fn=d$g(Cn),Gn=!Fn&&L$c(Cn),Dn=!Fn&&!Gn&&k$c(Cn);Rn=Cn,Fn||Gn||Dn?d$g(En)?Rn=En:Ve$8(En)?Rn=Kt$7(En):Gn?(Ln=!1,Rn=ze$8(Cn,!0)):Dn?(Ln=!1,Rn=We$7(Cn,!0)):Rn=[]:Ie$7(Cn)||O$c(Cn)?(Rn=En,O$c(En)?Rn=Qe$7(En):(!u$b(En)||I$f(En))&&(Rn=Ge$7(Cn))):Ln=!1}Ln&&(Sn.set(Cn,Rn),pn(Rn,Cn,dn,vn,Sn),Sn.delete(Cn)),H$e(sn,cn,Rn)}var Ze$7=Bf$1;function Ye$7(sn,ln,cn,dn,pn){sn!==ln&&qe$8(ln,function(vn,Sn){if(pn||(pn=new Fe$7),u$b(vn))Ze$7(sn,ln,Sn,cn,Ye$7,dn,pn);else{var En=dn?dn(q$c(sn,Sn),vn,Sn+"",sn,ln,pn):void 0;En===void 0&&(En=vn),H$e(sn,Sn,En)}},tt$6)}var Je$7=Ye$7,Xf=Object.prototype,$f=Xf.hasOwnProperty;function jf$1(sn,ln){return sn!=null&&$f.call(sn,ln)}var Le$7=jf$1;function zf(sn,ln){return sn!=null&&Ue$7(sn,ln,Le$7)}var mt$6=zf,Df=Ut$7(function(sn,ln,cn){Je$7(sn,ln,cn)}),dt$5=Df,ke$6=sn=>[{"@font-face":{fontFamily:"KaTeX_AMS",fontWeight:400,fontStyle:"normal",src:`url('${sn}/font/KaTeX_AMS-Regular.woff2') format('woff2'), url('${sn}/font/KaTeX_AMS-Regular.woff') format('woff'), url('${sn}/font/KaTeX_AMS-Regular.ttf') format('truetype')`}},{"@font-face":{fontFamily:"KaTeX_Caligraphic",fontWeight:700,fontStyle:"normal",src:`url('${sn}/font/KaTeX_Caligraphic-Bold.woff2') format('woff2'), url('${sn}/font/KaTeX_Caligraphic-Bold.woff') format('woff'), url('${sn}/font/KaTeX_Caligraphic-Bold.ttf') format('truetype')`}},{"@font-face":{fontFamily:"KaTeX_Caligraphic",fontWeight:400,fontStyle:"normal",src:`url('${sn}/font/KaTeX_Caligraphic-Regular.woff2') format('woff2'), url('${sn}/font/KaTeX_Caligraphic-Regular.woff') format('woff'), url('${sn}/font/KaTeX_Caligraphic-Regular.ttf') format('truetype')`}},{"@font-face":{fontFamily:"KaTeX_Fraktur",fontWeight:700,fontStyle:"normal",src:`url('${sn}/font/KaTeX_Fraktur-Bold.woff2') format('woff2'), url('${sn}/font/KaTeX_Fraktur-Bold.woff') format('woff'), url('${sn}/font/KaTeX_Fraktur-Bold.ttf') format('truetype')`}},{"@font-face":{fontFamily:"KaTeX_Fraktur",fontWeight:400,fontStyle:"normal",src:`url('${sn}/font/KaTeX_Fraktur-Regular.woff2') format('woff2'), url('${sn}/font/KaTeX_Fraktur-Regular.woff') format('woff'), url('${sn}/font/KaTeX_Fraktur-Regular.ttf') format('truetype')`}},{"@font-face":{fontFamily:"KaTeX_Main",fontWeight:700,fontStyle:"normal",src:`url('${sn}/font/KaTeX_Main-Bold.woff2') format('woff2'), url('${sn}/font/KaTeX_Main-Bold.woff') format('woff'), url('${sn}/font/KaTeX_Main-Bold.ttf') format('truetype')`}},{"@font-face":{fontFamily:"KaTeX_Main",fontWeight:700,fontStyle:"italic",src:`url('${sn}/font/KaTeX_Main-BoldItalic.woff2') format('woff2'), url('${sn}/font/KaTeX_Main-BoldItalic.woff') format('woff'), url('${sn}/font/KaTeX_Main-BoldItalic.ttf') format('truetype')`}},{"@font-face":{fontFamily:"KaTeX_Main",fontWeight:400,fontStyle:"italic",src:`url('${sn}/font/KaTeX_Main-Italic.woff2') format('woff2'), url('${sn}/font/KaTeX_Main-Italic.woff') format('woff'), url('${sn}/font/KaTeX_Main-Italic.ttf') format('truetype')`}},{"@font-face":{fontFamily:"KaTeX_Main",fontWeight:400,fontStyle:"normal",src:`url('${sn}/font/KaTeX_Main-Regular.woff2') format('woff2'), url('${sn}/font/KaTeX_Main-Regular.woff') format('woff'), url('${sn}/font/KaTeX_Main-Regular.ttf') format('truetype')`}},{"@font-face":{fontFamily:"KaTeX_Math",fontWeight:700,fontStyle:"italic",src:`url('${sn}/font/KaTeX_Math-BoldItalic.woff2') format('woff2'), url('${sn}/font/KaTeX_Math-BoldItalic.woff') format('woff'), url('${sn}/font/KaTeX_Math-BoldItalic.ttf') format('truetype')`}},{"@font-face":{fontFamily:"KaTeX_Math",fontWeight:400,fontStyle:"italic",src:`url('${sn}/font/KaTeX_Math-Italic.woff2') format('woff2'), url('${sn}/font/KaTeX_Math-Italic.woff') format('woff'), url('${sn}/font/KaTeX_Math-Italic.ttf') format('truetype')`}},{"@font-face":{fontFamily:"KaTeX_SansSerif",fontWeight:700,fontStyle:"normal",src:`url('${sn}/font/KaTeX_SansSerif-Bold.woff2') format('woff2'), url('${sn}/font/KaTeX_SansSerif-Bold.woff') format('woff'), url('${sn}/font/KaTeX_SansSerif-Bold.ttf') format('truetype')`}},{"@font-face":{fontFamily:"KaTeX_SansSerif",fontWeight:400,fontStyle:"italic",src:`url('${sn}/font/KaTeX_SansSerif-Italic.woff2') format('woff2'), url('${sn}/font/KaTeX_SansSerif-Italic.woff') format('woff'), url('${sn}/font/KaTeX_SansSerif-Italic.ttf') format('truetype')`}},{"@font-face":{fontFamily:"KaTeX_SansSerif",fontWeight:400,fontStyle:"normal",src:`url('${sn}/font/KaTeX_SansSerif-Regular.woff2') format('woff2'), url('${sn}/font/KaTeX_SansSerif-Regular.woff') format('woff'), url('${sn}/font/KaTeX_SansSerif-Regular.ttf') format('truetype')`}},{"@font-face":{fontFamily:"KaTeX_Script",fontWeight:400,fontStyle:"normal",src:`url('${sn}/font/KaTeX_Script-Regular.woff2') format('woff2'), url('${sn}/font/KaTeX_Script-Regular.woff') format('woff'), url('${sn}/font/KaTeX_Script-Regular.ttf') format('truetype')`}},{"@font-face":{fontFamily:"KaTeX_Size1",fontWeight:400,fontStyle:"normal",src:`url('${sn}/font/KaTeX_Size1-Regular.woff2') format('woff2'), url('${sn}/font/KaTeX_Size1-Regular.woff') format('woff'), url('${sn}/font/KaTeX_Size1-Regular.ttf') format('truetype')`}},{"@font-face":{fontFamily:"KaTeX_Size2",fontWeight:400,fontStyle:"normal",src:`url('${sn}/font/KaTeX_Size2-Regular.woff2') format('woff2'), url('${sn}/font/KaTeX_Size2-Regular.woff') format('woff'), url('${sn}/font/KaTeX_Size2-Regular.ttf') format('truetype')`}},{"@font-face":{fontFamily:"KaTeX_Size3",fontWeight:400,fontStyle:"normal",src:`url('${sn}/font/KaTeX_Size3-Regular.woff2') format('woff2'), url('${sn}/font/KaTeX_Size3-Regular.woff') format('woff'), url('${sn}/font/KaTeX_Size3-Regular.ttf') format('truetype')`}},{"@font-face":{fontFamily:"KaTeX_Size4",fontWeight:400,fontStyle:"normal",src:`url('${sn}/font/KaTeX_Size4-Regular.woff2') format('woff2'), url('${sn}/font/KaTeX_Size4-Regular.woff') format('woff'), url('${sn}/font/KaTeX_Size4-Regular.ttf') format('truetype')`}},{"@font-face":{fontFamily:"KaTeX_Typewriter",fontWeight:400,fontStyle:"normal",src:`url('${sn}/font/KaTeX_Typewriter-Regular.woff2') format('woff2'), url('${sn}/font/KaTeX_Typewriter-Regular.woff') format('woff'), url('${sn}/font/KaTeX_Typewriter-Regular.ttf') format('truetype')`}}],tr$5=sn=>[{"@font-face":{fontFamily:"Pretendard",fontWeight:700,src:`url('${sn}/font/Pretendard-Bold.woff2') format('woff2'), url('${sn}/font/Pretendard-Bold.woff') format('woff')`}},{"@font-face":{fontFamily:"Pretendard",fontWeight:600,src:`url('${sn}/font/Pretendard-SemiBold.woff2') format('woff2'), url('${sn}/font/Pretendard-SemiBold.woff') format('woff')`}},{"@font-face":{fontFamily:"Pretendard",fontWeight:500,src:`url('${sn}/font/Pretendard-Medium.woff2') format('woff2'), url('${sn}/font/Pretendard-Medium.woff') format('woff')`}},{"@font-face":{fontFamily:"Pretendard",fontWeight:400,src:`url('${sn}/font/Pretendard-Regular.woff2') format('woff2'), url('${sn}/font/Pretendard-Regular.woff') format('woff')`}},{"@font-face":{fontFamily:"Pretendard",fontWeight:300,src:`url('${sn}/font/Pretendard-Light.woff2') format('woff2'), url('${sn}/font/Pretendard-Light.woff') format('woff')`}}],er$5=(sn,ln)=>{let[cn]=ln.split(".");return mt$6(sn.colors,cn)?sn.colors[cn][7]:ln},rr$5={"html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video":{margin:"0",padding:"0",border:"0",verticalAlign:"baseline"},"article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section":{display:"block"},"ol, ul":{listStyle:"none"},"blockquote, q":{quotes:"none"},"blockquote:before, blockquote:after, q:before, q:after":{content:"none"},table:{borderCollapse:"collapse",borderSpacing:"0"}},or$7=[...MANTINE_COLORS$1,"infgreen","white","rallit"],Gf$2=Array.from(Array(10).keys());or$7.flatMap(sn=>Gf$2.map(ln=>`${sn}.${ln}`));var ar$5=["subtle","light","outline"],fr$5='Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',ir$5={radius:"lg",centered:!0,zIndex:201},Qf={radius:"md",shadow:"sm"},Zf={closeButtonProps:{variant:"subtle",color:"gray",size:"lg"}},Yf={defaultRadius:"md",breakpoints:xt$5,lineHeight:1.5,focusRingStyles:{styles:sn=>({outlineOffset:"0.125rem",outline:`0.125rem solid ${sn.colors.gray[sn.other.focusRingColorShade[sn.colorScheme]]}`}),resetStyles:()=>({outline:"none"}),inputStyles:sn=>({outline:"none",borderColor:sn.colors.gray[sn.other.focusRingColorShade[sn.colorScheme]]})},components:{Radio:{styles:()=>({root:{display:"flex"},label:{cursor:"pointer"},radio:{cursor:"pointer"}})},Chip:{sizes:{xs:()=>({root:{height:24}}),sm:()=>({root:{height:28}}),md:()=>({root:{height:32}}),lg:()=>({root:{height:36}}),xl:()=>({root:{height:40}})}},Modal:{defaultProps:ir$5,styles:sn=>({title:{width:"100%",fontSize:"18px",fontWeight:700,color:sn.colors.gray[9]},content:{fontSize:"14px",fontWeight:400,color:sn.colors.gray[7],padding:"20px","> *+*":{marginTop:"16px"}},inner:{paddingLeft:"16px",paddingRight:"16px"}})},ModalRoot:{defaultProps:ir$5},ModalHeader:{defaultProps:{p:0}},ModalBody:{defaultProps:{p:0}},ModalCloseButton:{defaultProps:{size:31,iconSize:20}},Notification:{defaultProps:Zf,styles:(sn,{withTitle:ln})=>({root:{padding:"12px 5px 12px 22px",backgroundColor:sn.colors.dark[3],borderColor:"transparent"},title:{color:"white"},icon:{pointerEvents:"none"},description:{color:ln?sn.colors.gray[4]:sn.colors.gray[0]},closeButton:{"&:hover":{backgroundColor:sn.colors.dark[4]}}})},Avatar:{styles:sn=>({root:{border:`1px solid ${sn.colors.gray[3]}`}})},PopOver:{defaultProps:Qf},Button:{styles:(sn,ln,cn)=>({inner:{pointerEvents:"none"},leftIcon:{marginRight:"6px"},rightIcon:{marginLeft:"6px"},...ar$5.includes(cn.variant||"")&&{label:{color:er$5(sn,ln.color??sn.primaryColor)}}})},Badge:{styles:{rightSection:{lineHeight:"100%"},leftSection:{lineHeight:"100%"},inner:{lineHeight:"100%"},root:{textTransform:"none"}}},Alert:{styles:(sn,{color:ln})=>{var cn,dn,pn;return{title:{color:(cn=sn.colors[ln])==null?void 0:cn[8]},icon:{color:(dn=sn.colors[ln])==null?void 0:dn[8]},closeButton:{color:(pn=sn.colors[ln])==null?void 0:pn[8]},message:{color:sn.colors.gray[9]}}}},Input:{styles:(sn,ln,{variant:cn})=>({input:{'&[aria-invalid="true"]':{":focus":cn==="unstyled"?{}:{borderColor:sn.colors.red[6],boxShadow:`0px 0px 0px 1px ${sn.colors.red[6]}`}}},icon:{color:sn.colors.gray[5]}})}},headings:{fontFamily:fr$5},fontFamily:fr$5,colors:P$8,primaryColor:"infgreen",other:{characterPrimary:P$8.gray[9],characterSecondary:P$8.gray[7],characterTertiary:P$8.gray[5],bottomSpacingSmall:"16px",bottomSpacingLarge:"80px",focusRingColorShade:{light:9,dark:4}}};function lr$5(sn){let{children:ln,theme:cn,cdnLink:dn,withGlobalStyles:pn=!0,withNormalizeCSS:vn=!0,withCSSVariables:Sn=!0,...En}=sn;typeof window<"u"&&(window.__DS__||(window.__DS__=!0));let Cn=dt$5(Yf,cn);return jsxs(MantineProvider,{...En,withGlobalStyles:pn,withNormalizeCSS:vn,withCSSVariables:Sn,theme:Cn,children:[jsx(Global,{styles:Pn=>[{body:{color:Pn.colorScheme==="dark"?Pn.colors.dark[0]:Pn.other.characterPrimary},".overflow-hidden":{overflow:"hidden"}},...tr$5(dn),...ke$6(dn),rr$5]}),ln]})}var Jf$1=useMantineTheme$1;/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/var m$b=(sn,ln)=>{if(ln==="white")return"white";let[cn,dn=""]=ln.split("."),pn=parseInt(dn,10);if(!has$1(sn.colors,cn))return ln;let vn=sn.colors[cn];return!Number.isNaN(pn)&&pn<10&&pn>=0?vn[pn]:vn[sn.fn.primaryShade()]},t$8=16,c$g={"2xs":10,xs:12,sm:14,md:16,lg:20,xl:24,"2xl":32,"1x":t$8*1,"2x":t$8*2,"3x":t$8*3,"4x":t$8*4,"5x":t$8*5,"6x":t$8*6,"7x":t$8*7,"8x":t$8*8,"9x":t$8*9,"10x":t$8*10},a$a=[...MANTINE_COLORS$1,"infgreen","white","rallit"],x$h=Array.from(Array(10).keys());a$a.flatMap(sn=>x$h.map(ln=>`${sn}.${ln}`));var l$7=sn=>sn==="inherit"?"inherit":typeof sn=="number"?`${sn}px`:`${c$g[sn]}px`,I$e=reactExports.forwardRef((sn,ln)=>{let{color:cn="inherit",size:dn="1x",style:pn,...vn}=sn,Sn=Jf$1();return jsx(FontAwesomeIcon,{...vn,ref:ln,style:{fontSize:l$7(dn),color:m$b(Sn,cn),...pn}})});I$e.displayName="inflearnDsIcon";var wt$4=typeof global=="object"&&global&&global.Object===Object&&global,M$a=wt$4,Mt$6=typeof self=="object"&&self&&self.Object===Object&&self,Rt$6=M$a||Mt$6||Function("return this")(),x$g=Rt$6,zt$6=x$g.Symbol,l$6=zt$6,R$a=Object.prototype,Dt$6=R$a.hasOwnProperty,jt$6=R$a.toString,b$d=l$6?l$6.toStringTag:void 0;function Wt$6(sn){var ln=Dt$6.call(sn,b$d),cn=sn[b$d];try{sn[b$d]=void 0;var dn=!0}catch{}var pn=jt$6.call(sn);return dn&&(ln?sn[b$d]=cn:delete sn[b$d]),pn}var z$a=Wt$6,Bt$6=Object.prototype,Lt$6=Bt$6.toString;function Ft$6(sn){return Lt$6.call(sn)}var D$a=Ft$6,Ht$6="[object Null]",kt$6="[object Undefined]",j$a=l$6?l$6.toStringTag:void 0;function Gt$6(sn){return sn==null?sn===void 0?kt$6:Ht$6:j$a&&j$a in Object(sn)?z$a(sn):D$a(sn)}var c$f=Gt$6;function Ut$6(sn){return sn!=null&&typeof sn=="object"}var h$a=Ut$6,$t$6="[object Symbol]";function qt$6(sn){return typeof sn=="symbol"||h$a(sn)&&c$f(sn)==$t$6}var y$b=qt$6;function Kt$6(sn,ln){for(var cn=-1,dn=sn==null?0:sn.length,pn=Array(dn);++cn<dn;)pn[cn]=ln(sn[cn],cn,sn);return pn}var W$a=Kt$6,Xt$6=Array.isArray,i$d=Xt$6,Zt$6=1/0,B$b=l$6?l$6.prototype:void 0,L$b=B$b?B$b.toString:void 0;function F$d(sn){if(typeof sn=="string")return sn;if(i$d(sn))return W$a(sn,F$d)+"";if(y$b(sn))return L$b?L$b.call(sn):"";var ln=sn+"";return ln=="0"&&1/sn==-Zt$6?"-0":ln}var H$d=F$d;function Vt$6(sn){var ln=typeof sn;return sn!=null&&(ln=="object"||ln=="function")}var E$e=Vt$6,Jt$6="[object AsyncFunction]",Yt$6="[object Function]",Qt$6="[object GeneratorFunction]",te$7="[object Proxy]";function ee$7(sn){if(!E$e(sn))return!1;var ln=c$f(sn);return ln==Yt$6||ln==Qt$6||ln==Jt$6||ln==te$7}var k$b=ee$7,re$7=x$g["__core-js_shared__"],S$b=re$7,G$b=function(){var sn=/[^.]+$/.exec(S$b&&S$b.keys&&S$b.keys.IE_PROTO||"");return sn?"Symbol(src)_1."+sn:""}();function oe$7(sn){return!!G$b&&G$b in sn}var U$b=oe$7,ae$7=Function.prototype,fe$6=ae$7.toString;function se$7(sn){if(sn!=null){try{return fe$6.call(sn)}catch{}try{return sn+""}catch{}}return""}var $$11=se$7,pe$7=/[\\^$.*+?()[\]{}|]/g,ne$7=/^\[object .+?Constructor\]$/,le$7=Function.prototype,me$7=Object.prototype,ie$6=le$7.toString,ue$7=me$7.hasOwnProperty,de$7=RegExp("^"+ie$6.call(ue$7).replace(pe$7,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xe$7(sn){if(!E$e(sn)||U$b(sn))return!1;var ln=k$b(sn)?de$7:ne$7;return ln.test($$11(sn))}var q$b=xe$7;function ce$7(sn,ln){return sn==null?void 0:sn[ln]}var K$a=ce$7;function he$7(sn,ln){var cn=K$a(sn,ln);return q$b(cn)?cn:void 0}var T$d=he$7,ye$7=9007199254740991,ge$7=/^(?:0|[1-9]\d*)$/;function _e$7(sn,ln){var cn=typeof sn;return ln=ln??ye$7,!!ln&&(cn=="number"||cn!="symbol"&&ge$7.test(sn))&&sn>-1&&sn%1==0&&sn<ln}var X$6=_e$7;function Ie$6(sn,ln){return sn===ln||sn!==sn&&ln!==ln}var Z$8=Ie$6,be$7=9007199254740991;function Oe$5(sn){return typeof sn=="number"&&sn>-1&&sn%1==0&&sn<=be$7}var V$6=Oe$5,Ee$7="[object Arguments]";function Se$7(sn){return h$a(sn)&&c$f(sn)==Ee$7}var N$e=Se$7,J$7=Object.prototype,Te$7=J$7.hasOwnProperty,Ae$5=J$7.propertyIsEnumerable,Ne$6=N$e(function(){return arguments}())?N$e:function(sn){return h$a(sn)&&Te$7.call(sn,"callee")&&!Ae$5.call(sn,"callee")},Y$a=Ne$6,Ce$6=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ve$6=/^\w*$/;function Pe$5(sn,ln){if(i$d(sn))return!1;var cn=typeof sn;return cn=="number"||cn=="symbol"||cn=="boolean"||sn==null||y$b(sn)?!0:ve$6.test(sn)||!Ce$6.test(sn)||ln!=null&&sn in Object(ln)}var Q$9=Pe$5,we$7=T$d(Object,"create"),m$a=we$7;function Me$7(){this.__data__=m$a?m$a(null):{},this.size=0}var tt$5=Me$7;function Re$5(sn){var ln=this.has(sn)&&delete this.__data__[sn];return this.size-=ln?1:0,ln}var et$6=Re$5,ze$7="__lodash_hash_undefined__",De$6=Object.prototype,je$7=De$6.hasOwnProperty;function We$6(sn){var ln=this.__data__;if(m$a){var cn=ln[sn];return cn===ze$7?void 0:cn}return je$7.call(ln,sn)?ln[sn]:void 0}var rt$6=We$6,Be$6=Object.prototype,Le$6=Be$6.hasOwnProperty;function Fe$6(sn){var ln=this.__data__;return m$a?ln[sn]!==void 0:Le$6.call(ln,sn)}var ot$2=Fe$6,He$5="__lodash_hash_undefined__";function ke$5(sn,ln){var cn=this.__data__;return this.size+=this.has(sn)?0:1,cn[sn]=m$a&&ln===void 0?He$5:ln,this}var at$4=ke$5;function g$9(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}g$9.prototype.clear=tt$5;g$9.prototype.delete=et$6;g$9.prototype.get=rt$6;g$9.prototype.has=ot$2;g$9.prototype.set=at$4;var C$9=g$9;function Ge$6(){this.__data__=[],this.size=0}var ft$4=Ge$6;function Ue$6(sn,ln){for(var cn=sn.length;cn--;)if(Z$8(sn[cn][0],ln))return cn;return-1}var u$a=Ue$6,$e$6=Array.prototype,qe$7=$e$6.splice;function Ke$6(sn){var ln=this.__data__,cn=u$a(ln,sn);if(cn<0)return!1;var dn=ln.length-1;return cn==dn?ln.pop():qe$7.call(ln,cn,1),--this.size,!0}var st$6=Ke$6;function Xe$6(sn){var ln=this.__data__,cn=u$a(ln,sn);return cn<0?void 0:ln[cn][1]}var pt$6=Xe$6;function Ze$6(sn){return u$a(this.__data__,sn)>-1}var nt$6=Ze$6;function Ve$7(sn,ln){var cn=this.__data__,dn=u$a(cn,sn);return dn<0?(++this.size,cn.push([sn,ln])):cn[dn][1]=ln,this}var lt$6=Ve$7;function _$a(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}_$a.prototype.clear=ft$4;_$a.prototype.delete=st$6;_$a.prototype.get=pt$6;_$a.prototype.has=nt$6;_$a.prototype.set=lt$6;var mt$5=_$a,Je$6=T$d(x$g,"Map"),it$4=Je$6;function Ye$6(){this.size=0,this.__data__={hash:new C$9,map:new(it$4||mt$5),string:new C$9}}var ut$6=Ye$6;function Qe$6(sn){var ln=typeof sn;return ln=="string"||ln=="number"||ln=="symbol"||ln=="boolean"?sn!=="__proto__":sn===null}var dt$4=Qe$6;function tr$4(sn,ln){var cn=sn.__data__;return dt$4(ln)?cn[typeof ln=="string"?"string":"hash"]:cn.map}var d$f=tr$4;function er$4(sn){var ln=d$f(this,sn).delete(sn);return this.size-=ln?1:0,ln}var xt$4=er$4;function rr$4(sn){return d$f(this,sn).get(sn)}var ct$4=rr$4;function or$6(sn){return d$f(this,sn).has(sn)}var ht$5=or$6;function ar$4(sn,ln){var cn=d$f(this,sn),dn=cn.size;return cn.set(sn,ln),this.size+=cn.size==dn?0:1,this}var yt$6=ar$4;function I$d(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}I$d.prototype.clear=ut$6;I$d.prototype.delete=xt$4;I$d.prototype.get=ct$4;I$d.prototype.has=ht$5;I$d.prototype.set=yt$6;var v$a=I$d,fr$4="Expected a function";function P$7(sn,ln){if(typeof sn!="function"||ln!=null&&typeof ln!="function")throw new TypeError(fr$4);var cn=function(){var dn=arguments,pn=ln?ln.apply(this,dn):dn[0],vn=cn.cache;if(vn.has(pn))return vn.get(pn);var Sn=sn.apply(this,dn);return cn.cache=vn.set(pn,Sn)||vn,Sn};return cn.cache=new(P$7.Cache||v$a),cn}P$7.Cache=v$a;var gt$6=P$7,sr$4=500;function pr$4(sn){var ln=gt$6(sn,function(dn){return cn.size===sr$4&&cn.clear(),dn}),cn=ln.cache;return ln}var _t$5=pr$4,nr$4=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lr$4=/\\(\\)?/g,mr$6=_t$5(function(sn){var ln=[];return sn.charCodeAt(0)===46&&ln.push(""),sn.replace(nr$4,function(cn,dn,pn,vn){ln.push(pn?vn.replace(lr$4,"$1"):dn||cn)}),ln}),It$6=mr$6;function ir$4(sn){return sn==null?"":H$d(sn)}var bt$6=ir$4;function ur$6(sn,ln){return i$d(sn)?sn:Q$9(sn,ln)?[sn]:It$6(bt$6(sn))}var Ot$5=ur$6,dr$6=1/0;function xr$6(sn){if(typeof sn=="string"||y$b(sn))return sn;var ln=sn+"";return ln=="0"&&1/sn==-dr$6?"-0":ln}var Et$6=xr$6;function cr$6(sn,ln,cn){ln=Ot$5(ln,sn);for(var dn=-1,pn=ln.length,vn=!1;++dn<pn;){var Sn=Et$6(ln[dn]);if(!(vn=sn!=null&&cn(sn,Sn)))break;sn=sn[Sn]}return vn||++dn!=pn?vn:(pn=sn==null?0:sn.length,!!pn&&V$6(pn)&&X$6(Sn,pn)&&(i$d(sn)||Y$a(sn)))}var St$5=cr$6,hr$6=Object.prototype,yr$6=hr$6.hasOwnProperty;function gr$6(sn,ln){return sn!=null&&yr$6.call(sn,ln)}var Tt$5=gr$6;function _r$6(sn,ln){return sn!=null&&St$5(sn,ln,Tt$5)}var w$c=_r$6,At$6=[...MANTINE_COLORS$1,"infgreen","white","rallit"],br$6=Array.from(Array(10).keys());At$6.flatMap(sn=>br$6.map(ln=>`${sn}.${ln}`));var Nt$6=["subtle","light","outline"],Pr$4=sn=>reactExports.isValidElement(sn)&&sn.type.displayName==="inflearnDsIcon",Ct$6=reactExports.forwardRef((sn,ln)=>{let cn=Jf$1(),{children:dn,size:pn="md",color:vn="gray",...Sn}=sn,En=Rr$6(pn)?Mr$6[pn]:pn;return jsx(ActionIcon$1,{ref:ln,size:En,color:vn,...Sn,children:reactExports.Children.map(dn,Cn=>Pr$4(Cn)&&typeof pn!="number"?reactExports.cloneElement(Cn,{size:vt$4[pn],...Nt$6.includes(Sn.variant||"")&&{color:zr$6(cn,vn)}}):Cn)})});Ct$6.displayName="ActionIcon";var wr$5=Ct$6,vt$4={xs:"2xs",sm:"xs",md:"sm",lg:"md",xl:"lg","n-xs":"xs","n-sm":"sm","n-md":"md","n-lg":"lg","n-xl":"xl"},Mr$6={"n-xs":rem$1(30),"n-sm":rem$1(36),"n-md":rem$1(42),"n-lg":rem$1(50),"n-xl":rem$1(60)},Rr$6=sn=>sn==="n-xs"||sn==="n-sm"||sn==="n-md"||sn==="n-lg"||sn==="n-xl",zr$6=(sn,ln)=>{let[cn]=ln.split(".");return w$c(sn.colors,cn)?sn.colors[cn][7]:ln},Dr$5=wr$5,O$b=2;rem$1(30-O$b),rem$1(36-O$b),rem$1(42-O$b),rem$1(50-O$b),rem$1(60-O$b);/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/var o$b={default:"gray",success:"infgreen",information:"blue",error:"red",warning:"yellow"},n$9=(sn,ln)=>sn||(ln?o$b[ln]:"infgreen");function p$8(sn){let{children:ln,color:cn,type:dn,...pn}=sn;return jsx(Alert,{...pn,styles:()=>j$c({title:{marginBottom:ln?"":0},icon:{marginTop:ln?"1px":0}},pn.styles),color:n$9(cn,dn),children:ln||null})}var o$a=reactExports.forwardRef((sn,ln)=>jsx(Box$1,{...sn,ref:ln}));o$a.displayName="Box";var B$a=o$a,m$9=B$a,x$f={xs:14,sm:18,md:22,lg:26,xl:32},u$9=({size:sn,compact:ln,leftIcon:cn,rightIcon:dn})=>ln||cn&&dn?{}:cn?{paddingLeft:x$f[sn]}:dn?{paddingRight:x$f[sn]}:{},t$7=16,p$7={"2xs":10,xs:12,sm:14,md:16,lg:20,xl:24,"2xl":32,"1x":t$7*1,"2x":t$7*2,"3x":t$7*3,"4x":t$7*4,"5x":t$7*5,"6x":t$7*6,"7x":t$7*7,"8x":t$7*8,"9x":t$7*9,"10x":t$7*10},N$d=[...MANTINE_COLORS$1,"infgreen","white","rallit"],T$c=Array.from(Array(10).keys());N$d.flatMap(sn=>T$c.map(ln=>`${sn}.${ln}`));var s$b=reactExports.forwardRef((sn,ln)=>{let{children:cn,sx:dn,leftIcon:pn,rightIcon:vn,size:Sn="sm",compact:En,...Cn}=sn,Pn=()=>j$c({icon:{svg:{width:p$7[Sn],height:p$7[Sn]}}},Cn.styles);return jsx(Button$1,{ref:ln,sx:[u$9({size:Sn,compact:En,leftIcon:pn,rightIcon:vn}),...packSx$1(dn)],compact:En,leftIcon:pn,rightIcon:vn,size:Sn,styles:Pn,...Cn,children:cn})}),d$e=reactExports.forwardRef((sn,ln)=>jsx(Button$1.Group,{ref:ln,...sn}));s$b.displayName="Button";d$e.displayName="ButtonGroup";s$b.Group=d$e;var A$a=s$b,i$c=reactExports.forwardRef((sn,ln)=>{let{color:cn="infgreen",variant:dn,children:pn,...vn}=sn;return jsx(Chip,{...vn,color:cn,variant:dn,ref:ln,children:pn})});function e$4(sn){let{children:ln,...cn}=sn;return jsx(Chip.Group,{...cn,children:ln})}i$c.Group=e$4;i$c.displayName="Chip";e$4.displayName="ChipGroup";var f$6=i$c,o$9=reactExports.forwardRef((sn,ln)=>{let{spacing:cn=0,...dn}=sn;return jsx(Group,{spacing:cn,...dn,ref:ln})});o$9.displayName="Group";var a$9=o$9,m$8=a$9;function o$8(sn){let{withBorder:ln=!0,styles:cn,...dn}=sn;return jsx(Menu,{...dn,styles:(pn,vn,Sn)=>j$c(ln?{}:{dropdown:{border:"none"}},typeof cn=="function"?cn(pn,vn,Sn):cn)})}var s$a=reactExports.forwardRef((sn,ln)=>jsx(Menu.Item,{...sn,ref:ln}));s$a.displayName="MenuItem";var f$5=s$a;function y$a(sn){return jsx(Menu.Label,{...sn})}function c$e(sn){return jsx(Menu.Dropdown,{...sn})}var M$9=reactExports.forwardRef((sn,ln)=>jsx(Menu.Target,{...sn,ref:ln}));M$9.displayName="MenuTarget";function D$9(sn){return jsx(Menu.Divider,{...sn})}var w$b=o$8;o$8.Item=f$5;o$8.Label=y$a;o$8.Dropdown=c$e;o$8.Target=M$9;o$8.Divider=D$9;const ModalsContext=reactExports.createContext(null);ModalsContext.displayName="@mantine/modals/ModalsContext";function useModals$1(){const sn=reactExports.useContext(ModalsContext);if(!sn)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return sn}var __defProp$x=Object.defineProperty,__defProps$a=Object.defineProperties,__getOwnPropDescs$a=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$y=Object.getOwnPropertySymbols,__hasOwnProp$y=Object.prototype.hasOwnProperty,__propIsEnum$y=Object.prototype.propertyIsEnumerable,__defNormalProp$x=(sn,ln,cn)=>ln in sn?__defProp$x(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$x=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$y.call(ln,cn)&&__defNormalProp$x(sn,cn,ln[cn]);if(__getOwnPropSymbols$y)for(var cn of __getOwnPropSymbols$y(ln))__propIsEnum$y.call(ln,cn)&&__defNormalProp$x(sn,cn,ln[cn]);return sn},__spreadProps$a=(sn,ln)=>__defProps$a(sn,__getOwnPropDescs$a(ln));function ConfirmModal({id:sn,cancelProps:ln,confirmProps:cn,labels:dn={cancel:"",confirm:""},closeOnConfirm:pn=!0,closeOnCancel:vn=!0,groupProps:Sn,onCancel:En,onConfirm:Cn,children:Pn}){const{cancel:Rn,confirm:Ln}=dn,Fn=useModals$1(),Gn=Kn=>{typeof(ln==null?void 0:ln.onClick)=="function"&&(ln==null||ln.onClick(Kn)),typeof En=="function"&&En(),vn&&Fn.closeModal(sn)},Dn=Kn=>{typeof(cn==null?void 0:cn.onClick)=="function"&&(cn==null||cn.onClick(Kn)),typeof Cn=="function"&&Cn(),pn&&Fn.closeModal(sn)};return jsxs$1(Fragment$1,{children:[Pn&&jsx$1(Box$1,{mb:"md",children:Pn}),jsxs$1(Group,{...__spreadValues$x({position:"right"},Sn),children:[jsx$1(Button$1,{...__spreadProps$a(__spreadValues$x({variant:"default"},ln),{onClick:Gn}),children:(ln==null?void 0:ln.children)||Rn}),jsx$1(Button$1,{...__spreadProps$a(__spreadValues$x({},cn),{onClick:Dn}),children:(cn==null?void 0:cn.children)||Ln})]})]})}function handleCloseModal(sn,ln){var cn,dn,pn,vn;ln&&sn.type==="confirm"&&((dn=(cn=sn.props).onCancel)==null||dn.call(cn)),(vn=(pn=sn.props).onClose)==null||vn.call(pn)}function modalsReducer(sn,ln){switch(ln.type){case"OPEN":return{current:ln.modal,modals:[...sn.modals,ln.modal]};case"CLOSE":{const cn=sn.modals.find(pn=>pn.id===ln.modalId);if(!cn)return sn;handleCloseModal(cn,ln.canceled);const dn=sn.modals.filter(pn=>pn.id!==ln.modalId);return{current:dn[dn.length-1]||sn.current,modals:dn}}case"CLOSE_ALL":return sn.modals.length?(sn.modals.concat().reverse().forEach(cn=>{handleCloseModal(cn,ln.canceled)}),{current:sn.current,modals:[]}):sn;default:return sn}}function dispatchEvent$1(sn,ln){window.dispatchEvent(new CustomEvent(sn,{detail:ln}))}const useIsomorphicEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function createUseExternalEvents(sn){function ln(dn){const pn=Object.keys(dn).reduce((vn,Sn)=>(vn[`${sn}:${Sn}`]=En=>dn[Sn](En.detail),vn),{});useIsomorphicEffect(()=>(Object.keys(pn).forEach(vn=>{window.removeEventListener(vn,pn[vn]),window.addEventListener(vn,pn[vn])}),()=>Object.keys(pn).forEach(vn=>{window.removeEventListener(vn,pn[vn])})),[pn])}function cn(dn){return(...pn)=>dispatchEvent$1(`${sn}:${String(dn)}`,pn[0])}return[ln,cn]}const[useModalsEvents,createEvent$1]=createUseExternalEvents("mantine-modals"),openModal=createEvent$1("openModal");createEvent$1("closeModal");const closeAllModals=createEvent$1("closeAllModals");createEvent$1("openConfirmModal");const openContextModal=sn=>createEvent$1("openContextModal")(sn);var __defProp$w=Object.defineProperty,__defProps$9=Object.defineProperties,__getOwnPropDescs$9=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$x=Object.getOwnPropertySymbols,__hasOwnProp$x=Object.prototype.hasOwnProperty,__propIsEnum$x=Object.prototype.propertyIsEnumerable,__defNormalProp$w=(sn,ln,cn)=>ln in sn?__defProp$w(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$w=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$x.call(ln,cn)&&__defNormalProp$w(sn,cn,ln[cn]);if(__getOwnPropSymbols$x)for(var cn of __getOwnPropSymbols$x(ln))__propIsEnum$x.call(ln,cn)&&__defNormalProp$w(sn,cn,ln[cn]);return sn},__spreadProps$9=(sn,ln)=>__defProps$9(sn,__getOwnPropDescs$9(ln)),__objRest$j=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$x.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$x)for(var dn of __getOwnPropSymbols$x(sn))ln.indexOf(dn)<0&&__propIsEnum$x.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};function separateConfirmModalProps(sn){if(!sn)return{confirmProps:{},modalProps:{}};const ln=sn,{id:cn,children:dn,onCancel:pn,onConfirm:vn,closeOnConfirm:Sn,closeOnCancel:En,cancelProps:Cn,confirmProps:Pn,groupProps:Rn,labels:Ln}=ln,Fn=__objRest$j(ln,["id","children","onCancel","onConfirm","closeOnConfirm","closeOnCancel","cancelProps","confirmProps","groupProps","labels"]);return{confirmProps:{id:cn,children:dn,onCancel:pn,onConfirm:vn,closeOnConfirm:Sn,closeOnCancel:En,cancelProps:Cn,confirmProps:Pn,groupProps:Rn,labels:Ln},modalProps:__spreadValues$w({id:cn},Fn)}}function ModalsProvider({children:sn,modalProps:ln,labels:cn,modals:dn}){const[pn,vn]=reactExports.useReducer(modalsReducer,{modals:[],current:null}),Sn=reactExports.useRef(pn);Sn.current=pn;const En=reactExports.useCallback(qn=>{vn({type:"CLOSE_ALL",canceled:qn})},[Sn,vn]),Cn=reactExports.useCallback(qn=>{var Zn=qn,{modalId:Yn}=Zn,Jn=__objRest$j(Zn,["modalId"]);const rs=Yn||randomId();return vn({type:"OPEN",modal:{id:rs,type:"content",props:Jn}}),rs},[vn]),Pn=reactExports.useCallback(qn=>{var Zn=qn,{modalId:Yn}=Zn,Jn=__objRest$j(Zn,["modalId"]);const rs=Yn||randomId();return vn({type:"OPEN",modal:{id:rs,type:"confirm",props:Jn}}),rs},[vn]),Rn=reactExports.useCallback((qn,Zn)=>{var Yn=Zn,{modalId:Jn}=Yn,rs=__objRest$j(Yn,["modalId"]);const us=Jn||randomId();return vn({type:"OPEN",modal:{id:us,type:"context",props:rs,ctx:qn}}),us},[vn]),Ln=reactExports.useCallback((qn,Zn)=>{vn({type:"CLOSE",modalId:qn,canceled:Zn})},[Sn,vn]);useModalsEvents({openModal:Cn,openConfirmModal:Pn,openContextModal:qn=>{var Zn=qn,{modal:Yn}=Zn,Jn=__objRest$j(Zn,["modal"]);return Rn(Yn,Jn)},closeModal:Ln,closeContextModal:Ln,closeAllModals:En});const Fn={modals:pn.modals,openModal:Cn,openConfirmModal:Pn,openContextModal:Rn,closeModal:Ln,closeContextModal:Ln,closeAll:En},Gn=()=>{const qn=Sn.current.current;switch(qn==null?void 0:qn.type){case"context":{const Zn=qn.props,{innerProps:Yn}=Zn,Jn=__objRest$j(Zn,["innerProps"]),rs=dn[qn.ctx];return{modalProps:Jn,content:jsx$1(rs,{innerProps:Yn,context:Fn,id:qn.id})}}case"confirm":{const{modalProps:Zn,confirmProps:Yn}=separateConfirmModalProps(qn.props);return{modalProps:Zn,content:jsx$1(ConfirmModal,{...__spreadProps$9(__spreadValues$w({},Yn),{id:qn.id,labels:qn.props.labels||cn})})}}case"content":{const Zn=qn.props,{children:Yn}=Zn;return{modalProps:__objRest$j(Zn,["children"]),content:jsx$1(Fragment$1,{children:Yn})}}default:return{modalProps:{},content:null}}},{modalProps:Dn,content:Kn}=Gn();return jsxs$1(ModalsContext.Provider,{value:Fn,children:[jsx$1(Modal,{...__spreadProps$9(__spreadValues$w(__spreadValues$w({zIndex:getDefaultZIndex("modal")+1},ln),Dn),{opened:pn.modals.length>0,onClose:()=>Ln(pn.current.id)}),children:Kn}),sn]})}var s$9={"1.5":1.5,"1.7":1.7};function i$b(sn){let{sx:ln,lineHeight:cn=s$9["1.5"],children:dn,...pn}=sn;return jsx(Text$1,{component:"p",sx:[{lineHeight:cn},...packSx$1(ln)],...pn,children:dn})}var a$8=i$b,c$d=a$8,e$3=reactExports.forwardRef((sn,ln)=>{let{children:cn,...dn}=sn;return jsx(Title,{...dn,ref:ln,children:cn})});e$3.displayName="Title";var n$8=e$3;function x$e({title:sn,withCloseButton:ln=!1,closeOnClickOutside:cn=!0,size:dn=320,...pn}){openContextModal({modal:"confirmModal",title:jsx(n$8,{order:2,color:"dark",size:"h4",children:sn}),withCloseButton:ln,closeOnClickOutside:cn,size:dn,innerProps:{...pn}})}function c$c({context:sn,id:ln,innerProps:{children:cn,labels:dn={cancel:"",confirm:""},onConfirm:pn,onCancel:vn,closeOnConfirm:Sn=!0,closeOnCancel:En=!0}}){let{cancel:Cn,confirm:Pn}=dn,Rn=()=>sn.closeModal(ln);return jsxs(Fragment,{children:[cn&&jsx(m$9,{mb:"md",sx:Ln=>({fontSize:Ln.fontSizes.sm,color:Ln.colors.gray[7]}),children:jsx(c$d,{component:"div",size:"sm",children:cn})}),jsxs(m$8,{position:"right",spacing:16,children:[Cn&&jsx(A$a,{variant:"default",color:"white",size:"md",radius:"md",onClick:()=>{vn&&vn(Rn),En&&sn.closeModal(ln)},children:Cn}),Pn&&jsx(A$a,{variant:"filled",size:"md",radius:"md",onClick:()=>{typeof pn=="function"&&pn(Rn),Sn&&sn.closeModal(ln)},color:"infgreen",children:Pn})]})]})}function y$9({title:sn,withCloseButton:ln=!1,closeOnClickOutside:cn=!0,size:dn=320,...pn}){openContextModal({modal:"contextModal",title:jsx(n$8,{order:2,color:"dark",size:"h4",children:sn}),withCloseButton:ln,closeOnClickOutside:cn,size:dn,innerProps:{...pn}})}function _$9({context:sn,id:ln,innerProps:{children:cn,labels:dn={cancel:"",confirm:""},onConfirm:pn,onCancel:vn,closeOnConfirm:Sn=!0,closeOnCancel:En=!0}}){let{cancel:Cn,confirm:Pn}=dn,Rn=()=>sn.closeModal(ln);return jsxs(Fragment,{children:[cn&&jsx(m$9,{mb:"md",sx:Ln=>({fontSize:Ln.fontSizes.sm,color:Ln.colors.gray[7]}),children:jsx(c$d,{component:"div",size:"sm",children:cn})}),jsxs(m$8,{align:"stretch",spacing:16,noWrap:!0,children:[Cn&&jsx(A$a,{variant:"default",color:"white",size:"md",radius:"md",onClick:()=>{vn&&vn(Rn),En&&sn.closeModal(ln)},sx:{flex:"1 1 50%"},children:Cn}),Pn&&jsx(A$a,{variant:"filled",size:"md",radius:"md",onClick:()=>{typeof pn=="function"&&pn(Rn),Sn&&sn.closeModal(ln)},color:"infgreen",sx:{flex:"1 1 50%"},children:Pn})]})]})}function E$d(sn){let{children:ln,modals:cn,...dn}=sn;return typeof window<"u"&&(window.__DS_MODALS__||(window.__DS_MODALS__=!0)),jsx(ModalsProvider,{modals:{confirmModal:c$c,contextModal:_$9,...cn},...dn,children:ln})}function _setPrototypeOf(sn,ln){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(dn,pn){return dn.__proto__=pn,dn},_setPrototypeOf(sn,ln)}function _inheritsLoose(sn,ln){sn.prototype=Object.create(ln.prototype),sn.prototype.constructor=sn,_setPrototypeOf(sn,ln)}const config$1={disabled:!1},TransitionGroupContext=gS.createContext(null);var UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(sn){_inheritsLoose(ln,sn);function ln(dn,pn){var vn;vn=sn.call(this,dn,pn)||this;var Sn=pn,En=Sn&&!Sn.isMounting?dn.enter:dn.appear,Cn;return vn.appearStatus=null,dn.in?En?(Cn=EXITED,vn.appearStatus=ENTERING):Cn=ENTERED:dn.unmountOnExit||dn.mountOnEnter?Cn=UNMOUNTED:Cn=EXITED,vn.state={status:Cn},vn.nextCallback=null,vn}ln.getDerivedStateFromProps=function(pn,vn){var Sn=pn.in;return Sn&&vn.status===UNMOUNTED?{status:EXITED}:null};var cn=ln.prototype;return cn.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},cn.componentDidUpdate=function(pn){var vn=null;if(pn!==this.props){var Sn=this.state.status;this.props.in?Sn!==ENTERING&&Sn!==ENTERED&&(vn=ENTERING):(Sn===ENTERING||Sn===ENTERED)&&(vn=EXITING)}this.updateStatus(!1,vn)},cn.componentWillUnmount=function(){this.cancelNextCallback()},cn.getTimeouts=function(){var pn=this.props.timeout,vn,Sn,En;return vn=Sn=En=pn,pn!=null&&typeof pn!="number"&&(vn=pn.exit,Sn=pn.enter,En=pn.appear!==void 0?pn.appear:Sn),{exit:vn,enter:Sn,appear:En}},cn.updateStatus=function(pn,vn){pn===void 0&&(pn=!1),vn!==null?(this.cancelNextCallback(),vn===ENTERING?this.performEnter(pn):this.performExit()):this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},cn.performEnter=function(pn){var vn=this,Sn=this.props.enter,En=this.context?this.context.isMounting:pn,Cn=this.props.nodeRef?[En]:[ReactDOM.findDOMNode(this),En],Pn=Cn[0],Rn=Cn[1],Ln=this.getTimeouts(),Fn=En?Ln.appear:Ln.enter;if(!pn&&!Sn||config$1.disabled){this.safeSetState({status:ENTERED},function(){vn.props.onEntered(Pn)});return}this.props.onEnter(Pn,Rn),this.safeSetState({status:ENTERING},function(){vn.props.onEntering(Pn,Rn),vn.onTransitionEnd(Fn,function(){vn.safeSetState({status:ENTERED},function(){vn.props.onEntered(Pn,Rn)})})})},cn.performExit=function(){var pn=this,vn=this.props.exit,Sn=this.getTimeouts(),En=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!vn||config$1.disabled){this.safeSetState({status:EXITED},function(){pn.props.onExited(En)});return}this.props.onExit(En),this.safeSetState({status:EXITING},function(){pn.props.onExiting(En),pn.onTransitionEnd(Sn.exit,function(){pn.safeSetState({status:EXITED},function(){pn.props.onExited(En)})})})},cn.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},cn.safeSetState=function(pn,vn){vn=this.setNextCallback(vn),this.setState(pn,vn)},cn.setNextCallback=function(pn){var vn=this,Sn=!0;return this.nextCallback=function(En){Sn&&(Sn=!1,vn.nextCallback=null,pn(En))},this.nextCallback.cancel=function(){Sn=!1},this.nextCallback},cn.onTransitionEnd=function(pn,vn){this.setNextCallback(vn);var Sn=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),En=pn==null&&!this.props.addEndListener;if(!Sn||En){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var Cn=this.props.nodeRef?[this.nextCallback]:[Sn,this.nextCallback],Pn=Cn[0],Rn=Cn[1];this.props.addEndListener(Pn,Rn)}pn!=null&&setTimeout(this.nextCallback,pn)},cn.render=function(){var pn=this.state.status;if(pn===UNMOUNTED)return null;var vn=this.props,Sn=vn.children;vn.in,vn.mountOnEnter,vn.unmountOnExit,vn.appear,vn.enter,vn.exit,vn.timeout,vn.addEndListener,vn.onEnter,vn.onEntering,vn.onEntered,vn.onExit,vn.onExiting,vn.onExited,vn.nodeRef;var En=_objectWithoutPropertiesLoose(vn,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return jsx$1(TransitionGroupContext.Provider,{value:null,children:typeof Sn=="function"?Sn(pn,En):gS.cloneElement(gS.Children.only(Sn),En)})},ln}(gS.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$2(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$2,onEntering:noop$2,onEntered:noop$2,onExit:noop$2,onExiting:noop$2,onExited:noop$2};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;const Transition$1=Transition;function _assertThisInitialized(sn){if(sn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return sn}function getChildMapping(sn,ln){var cn=function(vn){return ln&&reactExports.isValidElement(vn)?ln(vn):vn},dn=Object.create(null);return sn&&reactExports.Children.map(sn,function(pn){return pn}).forEach(function(pn){dn[pn.key]=cn(pn)}),dn}function mergeChildMappings(sn,ln){sn=sn||{},ln=ln||{};function cn(Rn){return Rn in ln?ln[Rn]:sn[Rn]}var dn=Object.create(null),pn=[];for(var vn in sn)vn in ln?pn.length&&(dn[vn]=pn,pn=[]):pn.push(vn);var Sn,En={};for(var Cn in ln){if(dn[Cn])for(Sn=0;Sn<dn[Cn].length;Sn++){var Pn=dn[Cn][Sn];En[dn[Cn][Sn]]=cn(Pn)}En[Cn]=cn(Cn)}for(Sn=0;Sn<pn.length;Sn++)En[pn[Sn]]=cn(pn[Sn]);return En}function getProp(sn,ln,cn){return cn[ln]!=null?cn[ln]:sn.props[ln]}function getInitialChildMapping(sn,ln){return getChildMapping(sn.children,function(cn){return reactExports.cloneElement(cn,{onExited:ln.bind(null,cn),in:!0,appear:getProp(cn,"appear",sn),enter:getProp(cn,"enter",sn),exit:getProp(cn,"exit",sn)})})}function getNextChildMapping(sn,ln,cn){var dn=getChildMapping(sn.children),pn=mergeChildMappings(ln,dn);return Object.keys(pn).forEach(function(vn){var Sn=pn[vn];if(reactExports.isValidElement(Sn)){var En=vn in ln,Cn=vn in dn,Pn=ln[vn],Rn=reactExports.isValidElement(Pn)&&!Pn.props.in;Cn&&(!En||Rn)?pn[vn]=reactExports.cloneElement(Sn,{onExited:cn.bind(null,Sn),in:!0,exit:getProp(Sn,"exit",sn),enter:getProp(Sn,"enter",sn)}):!Cn&&En&&!Rn?pn[vn]=reactExports.cloneElement(Sn,{in:!1}):Cn&&En&&reactExports.isValidElement(Pn)&&(pn[vn]=reactExports.cloneElement(Sn,{onExited:cn.bind(null,Sn),in:Pn.props.in,exit:getProp(Sn,"exit",sn),enter:getProp(Sn,"enter",sn)}))}}),pn}var values$1=Object.values||function(sn){return Object.keys(sn).map(function(ln){return sn[ln]})},defaultProps$a={component:"div",childFactory:function(ln){return ln}},TransitionGroup=function(sn){_inheritsLoose(ln,sn);function ln(dn,pn){var vn;vn=sn.call(this,dn,pn)||this;var Sn=vn.handleExited.bind(_assertThisInitialized(vn));return vn.state={contextValue:{isMounting:!0},handleExited:Sn,firstRender:!0},vn}var cn=ln.prototype;return cn.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},cn.componentWillUnmount=function(){this.mounted=!1},ln.getDerivedStateFromProps=function(pn,vn){var Sn=vn.children,En=vn.handleExited,Cn=vn.firstRender;return{children:Cn?getInitialChildMapping(pn,En):getNextChildMapping(pn,Sn,En),firstRender:!1}},cn.handleExited=function(pn,vn){var Sn=getChildMapping(this.props.children);pn.key in Sn||(pn.props.onExited&&pn.props.onExited(vn),this.mounted&&this.setState(function(En){var Cn=_extends$3({},En.children);return delete Cn[pn.key],{children:Cn}}))},cn.render=function(){var pn=this.props,vn=pn.component,Sn=pn.childFactory,En=_objectWithoutPropertiesLoose(pn,["component","childFactory"]),Cn=this.state.contextValue,Pn=values$1(this.state.children).map(Sn);return delete En.appear,delete En.enter,delete En.exit,vn===null?jsx$1(TransitionGroupContext.Provider,{value:Cn,children:Pn}):jsx$1(TransitionGroupContext.Provider,{value:Cn,children:jsx$1(vn,{...En,children:Pn})})},ln}(gS.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps$a;const TransitionGroup$1=TransitionGroup,[useNotificationsEvents,createEvent]=createUseExternalEvents("mantine-notifications"),showNotification=createEvent("show"),hideNotification=createEvent("hide"),cleanNotifications=createEvent("clean"),cleanNotificationsQueue=createEvent("cleanQueue"),updateNotification=createEvent("update"),notifications={show:showNotification,hide:hideNotification,clean:cleanNotifications,cleanQueue:cleanNotificationsQueue,update:updateNotification};function getPositionStyles([sn,ln],cn){const dn={};return sn==="top"&&(dn.top=cn),sn==="bottom"&&(dn.bottom=cn),ln==="left"&&(dn.left=cn),ln==="right"&&(dn.right=cn),ln==="center"&&(dn.left="50%",dn.transform="translateX(-50%)"),dn}var __defProp$v=Object.defineProperty,__getOwnPropSymbols$w=Object.getOwnPropertySymbols,__hasOwnProp$w=Object.prototype.hasOwnProperty,__propIsEnum$w=Object.prototype.propertyIsEnumerable,__defNormalProp$v=(sn,ln,cn)=>ln in sn?__defProp$v(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$v=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$w.call(ln,cn)&&__defNormalProp$v(sn,cn,ln[cn]);if(__getOwnPropSymbols$w)for(var cn of __getOwnPropSymbols$w(ln))__propIsEnum$w.call(ln,cn)&&__defNormalProp$v(sn,cn,ln[cn]);return sn};const transforms={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},noTransform={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function getNotificationStateStyles({state:sn,maxHeight:ln,positioning:cn,transitionDuration:dn}){const[pn,vn]=cn,Sn=vn==="center"?`${pn}-center`:vn,En={opacity:0,maxHeight:ln,transform:transforms[Sn],transitionDuration:`${dn}ms, ${dn}ms, ${dn}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},Cn={opacity:1,transform:noTransform[Sn]},Pn={opacity:0,maxHeight:0,transform:transforms[Sn]},Rn={entering:Cn,entered:Cn,exiting:Pn,exited:Pn};return __spreadValues$v(__spreadValues$v({},En),Rn[sn])}function getAutoClose(sn,ln){return typeof ln=="number"?ln:ln===!1||sn===!1?!1:sn}var __defProp$u=Object.defineProperty,__defProps$8=Object.defineProperties,__getOwnPropDescs$8=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$v=Object.getOwnPropertySymbols,__hasOwnProp$v=Object.prototype.hasOwnProperty,__propIsEnum$v=Object.prototype.propertyIsEnumerable,__defNormalProp$u=(sn,ln,cn)=>ln in sn?__defProp$u(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$u=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$v.call(ln,cn)&&__defNormalProp$u(sn,cn,ln[cn]);if(__getOwnPropSymbols$v)for(var cn of __getOwnPropSymbols$v(ln))__propIsEnum$v.call(ln,cn)&&__defNormalProp$u(sn,cn,ln[cn]);return sn},__spreadProps$8=(sn,ln)=>__defProps$8(sn,__getOwnPropDescs$8(ln)),__objRest$i=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$v.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$v)for(var dn of __getOwnPropSymbols$v(sn))ln.indexOf(dn)<0&&__propIsEnum$v.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};function NotificationContainer(sn){var ln=sn,{notification:cn,autoClose:dn,onHide:pn,innerRef:vn}=ln,Sn=__objRest$i(ln,["notification","autoClose","onHide","innerRef"]);const En=cn,{autoClose:Cn,message:Pn}=En,Rn=__objRest$i(En,["autoClose","message"]),Ln=getAutoClose(dn,Cn),Fn=reactExports.useRef(),Gn=()=>{pn(cn.id),window.clearTimeout(Fn.current)},Dn=()=>{clearTimeout(Fn.current)},Kn=()=>{typeof Ln=="number"&&(Fn.current=window.setTimeout(Gn,Ln))};return reactExports.useEffect(()=>{typeof cn.onOpen=="function"&&cn.onOpen(cn)},[]),reactExports.useEffect(()=>(Kn(),Dn),[dn,cn.autoClose]),jsx$1(Notification,{...__spreadProps$8(__spreadValues$u(__spreadValues$u({},Rn),Sn),{onClose:Gn,onMouseEnter:Dn,onMouseLeave:Kn,ref:vn}),children:Pn})}NotificationContainer.displayName="@mantine/notifications/NotificationContainer";var useStyles$i=createStyles$1((sn,{zIndex:ln})=>({notifications:{width:`calc(100% - ${sn.spacing.md} * 2)`,boxSizing:"border-box",position:"fixed",zIndex:ln},notification:{"&:not(:first-of-type)":{marginTop:sn.spacing.sm}}}));const useStyles$j=useStyles$i;var __defProp$t=Object.defineProperty,__defProps$7=Object.defineProperties,__getOwnPropDescs$7=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$u=Object.getOwnPropertySymbols,__hasOwnProp$u=Object.prototype.hasOwnProperty,__propIsEnum$u=Object.prototype.propertyIsEnumerable,__defNormalProp$t=(sn,ln,cn)=>ln in sn?__defProp$t(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$t=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$u.call(ln,cn)&&__defNormalProp$t(sn,cn,ln[cn]);if(__getOwnPropSymbols$u)for(var cn of __getOwnPropSymbols$u(ln))__propIsEnum$u.call(ln,cn)&&__defNormalProp$t(sn,cn,ln[cn]);return sn},__spreadProps$7=(sn,ln)=>__defProps$7(sn,__getOwnPropDescs$7(ln));function useNotificationsState({limit:sn}){const{state:ln,queue:cn,update:dn,cleanQueue:pn}=useQueue({initialValues:[],limit:sn});return{notifications:ln,queue:cn,showNotification:Pn=>{const Rn=Pn.id||randomId();return dn(Ln=>Pn.id&&Ln.some(Fn=>Fn.id===Pn.id)?Ln:[...Ln,__spreadProps$7(__spreadValues$t({},Pn),{id:Rn})]),Rn},updateNotification:Pn=>dn(Rn=>{const Ln=Rn.findIndex(Gn=>Gn.id===Pn.id);if(Ln===-1)return Rn;const Fn=[...Rn];return Fn[Ln]=Pn,Fn}),hideNotification:Pn=>dn(Rn=>Rn.filter(Ln=>Ln.id===Pn?(typeof Ln.onClose=="function"&&Ln.onClose(Ln),!1):!0)),cleanQueue:pn,clean:()=>dn(()=>[])}}var __defProp$s=Object.defineProperty,__getOwnPropSymbols$t=Object.getOwnPropertySymbols,__hasOwnProp$t=Object.prototype.hasOwnProperty,__propIsEnum$t=Object.prototype.propertyIsEnumerable,__defNormalProp$s=(sn,ln,cn)=>ln in sn?__defProp$s(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$s=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$t.call(ln,cn)&&__defNormalProp$s(sn,cn,ln[cn]);if(__getOwnPropSymbols$t)for(var cn of __getOwnPropSymbols$t(ln))__propIsEnum$t.call(ln,cn)&&__defNormalProp$s(sn,cn,ln[cn]);return sn},__objRest$h=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$t.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$t)for(var dn of __getOwnPropSymbols$t(sn))ln.indexOf(dn)<0&&__propIsEnum$t.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const POSITIONS=["top-left","top-right","top-center","bottom-left","bottom-right","bottom-center"],Notifications=sn=>{var ln=sn,{className:cn,position:dn="bottom-right",autoClose:pn=4e3,transitionDuration:vn=250,containerWidth:Sn=rem$1(440),notificationMaxHeight:En=rem$1(200),limit:Cn=5,zIndex:Pn=getDefaultZIndex("overlay"),style:Rn,children:Ln,target:Fn}=ln,Gn=__objRest$h(ln,["className","position","autoClose","transitionDuration","containerWidth","notificationMaxHeight","limit","zIndex","style","children","target"]);const Dn=useForceUpdate(),Kn=reactExports.useRef({}),qn=reactExports.useRef(0),{notifications:Zn,showNotification:Yn,updateNotification:Jn,hideNotification:rs,clean:us,cleanQueue:as}=useNotificationsState({limit:Cn}),{classes:cs,cx:_s,theme:Es}=useStyles$j({zIndex:Pn}),Qn=useReducedMotion(),$s=(Es.respectReducedMotion?Qn:!1)?1:vn,Ms=(POSITIONS.includes(dn)?dn:"bottom-right").split("-");useDidUpdate(()=>{Zn.length>qn.current&&setTimeout(()=>Dn(),0),qn.current=Zn.length},[Zn]),useNotificationsEvents({show:Yn,hide:rs,update:Jn,clean:us,cleanQueue:as});const gs=Zn.map(Ss=>jsx$1(Transition$1,{timeout:$s,onEnter:()=>Kn.current[Ss.id].offsetHeight,nodeRef:{current:Kn.current[Ss.id]},children:js=>jsx$1(NotificationContainer,{innerRef:bs=>{Kn.current[Ss.id]=bs},notification:Ss,onHide:rs,className:cs.notification,autoClose:pn,sx:[__spreadValues$s({},getNotificationStateStyles({state:js,positioning:Ms,transitionDuration:$s,maxHeight:En})),...Array.isArray(Ss.sx)?Ss.sx:[Ss.sx]]})},Ss.id));return jsx$1(Portal,{target:Fn,children:jsx$1(Box$1,{...__spreadValues$s({className:_s(cs.notifications,cn),style:Rn,sx:__spreadValues$s({maxWidth:Sn},getPositionStyles(Ms,Es.spacing.md))},Gn),children:jsx$1(TransitionGroup$1,{children:gs})})})};Notifications.displayName="@mantine/notifications/Notifications";Notifications.show=notifications.show;Notifications.hide=notifications.hide;Notifications.update=notifications.update;Notifications.clean=notifications.clean;Notifications.cleanQueue=notifications.cleanQueue;var faBookmark={prefix:"fas",iconName:"bookmark",icon:[384,512,[128278,61591],"f02e","M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z"]},faStar={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"]},faHeart={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"]},faBell={prefix:"fas",iconName:"bell",icon:[448,512,[128276,61602],"f0f3","M224 0c-17.7 0-32 14.3-32 32V51.2C119 66 64 130.6 64 208v18.8c0 47-17.3 92.4-48.5 127.6l-7.4 8.3c-8.4 9.4-10.4 22.9-5.3 34.4S19.4 416 32 416H416c12.6 0 24-7.4 29.2-18.9s3.1-25-5.3-34.4l-7.4-8.3C401.3 319.2 384 273.9 384 226.8V208c0-77.4-55-142-128-156.8V32c0-17.7-14.3-32-32-32zm45.3 493.3c12-12 18.7-28.3 18.7-45.3H224 160c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7z"]},faXmark={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},faCheck$1={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},d$d="notification-action-button",b$c={variant:"light",color:"dark",size:"sm",styles:()=>({root:{marginLeft:"10px"}})},I$c=reactExports.forwardRef((sn,ln)=>jsx(A$a,{ref:ln,...sn,...b$c,id:d$d}));I$c.displayName="NotificationActionButton";function H$c(sn){return jsx(Notifications,{style:{bottom:0},position:"bottom-center",autoClose:3e3,zIndex:500,...sn})}var K$9=["small","large"],[N$c]=K$9,T$b={success:{color:"infgreen",icon:jsx(I$e,{icon:faCheck$1})},error:{color:"red",icon:jsx(I$e,{icon:faXmark})},information:{color:"blue",icon:jsx(I$e,{icon:faBell})},default:{color:"dark",icon:jsx(I$e,{icon:faBell})}};function g$8(sn){let ln=null,cn=null,dn=70;return{onTouchStart:pn=>{cn=null,ln=pn.targetTouches[0].clientX},onTouchMove:pn=>{cn=pn.targetTouches[0].clientX},onTouchEnd:pn=>{if(!ln||!cn)return;let vn=ln-cn;if(!(vn<0&&Math.abs(vn)>dn))return;if(sn){hideNotification(sn);return}let Sn=pn.currentTarget,En=Sn&&Sn.id;En&&hideNotification(En)}}}function E$c(sn){return{onTouchEnd:ln=>{var cn;if(sn){hideNotification(sn);return}if(ln.target instanceof HTMLElement&&ln.target.id===d$d)return;let dn=(cn=ln.currentTarget)==null?void 0:cn.id;dn&&hideNotification(dn)}}}var A$9=sn=>"title"in sn&&"message"in sn,z$9=()=>{let sn=useMediaQuery(`(max-width: ${y$c.sm}px)`);function ln(dn,pn){let vn=sn&&dn,Sn=g$8(pn),En=E$c(pn);return vn?{...Sn,...En}:{}}function cn({hasIcon:dn=!0,type:pn="default",bottom:vn=N$c,actionButton:Sn,...En}){let Cn=ln(!!Sn,En.id),Pn=Ln=>({bottom:Ln.other.bottomSpacingSmall,[pr$5.tablet]:{bottom:vn===N$c?Ln.other.bottomSpacingSmall:Ln.other.bottomSpacingLarge}}),Rn={icon:dn&&T$b[pn].icon,color:T$b[pn].color,withCloseButton:sn&&Sn?!0:En.withCloseButton};return A$9(En)?showNotification({...Rn,styles:Ln=>({root:Pn(Ln),title:{marginBottom:0}}),...En,message:"",...Cn,title:jsxs(m$8,{position:"apart",noWrap:!0,children:[jsxs("div",{children:[En.title,jsx(c$d,{size:"sm",weight:400,color:"gray.4",m:"2px 0 0 0",children:En.message})]}),!!Sn&&Sn]})}):showNotification({...Rn,message:"",styles:Ln=>({root:Pn(Ln),title:{marginBottom:0}}),...En,...Cn,title:jsxs(m$8,{position:"apart",noWrap:!0,children:[En.title,!!Sn&&Sn]})})}return{showNotification:cn}},t$6=reactExports.forwardRef((sn,ln)=>{let{spacing:cn=0,...dn}=sn;return jsx(Stack,{spacing:cn,...dn,ref:ln})});t$6.displayName="Stack";var k$a=t$6,S$a=k$a,Ce$5=typeof global=="object"&&global&&global.Object===Object&&global,N$b=Ce$5,Pe$4=typeof self=="object"&&self&&self.Object===Object&&self,Me$6=N$b||Pe$4||Function("return this")(),d$c=Me$6,Be$5=d$c.Symbol,_$8=Be$5,at$3=Object.prototype,Le$5=at$3.hasOwnProperty,Ee$6=at$3.toString,B$9=_$8?_$8.toStringTag:void 0;function De$5(sn){var ln=Le$5.call(sn,B$9),cn=sn[B$9];try{sn[B$9]=void 0;var dn=!0}catch{}var pn=Ee$6.call(sn);return dn&&(ln?sn[B$9]=cn:delete sn[B$9]),pn}var ft$3=De$5,Re$4=Object.prototype,Fe$5=Re$4.toString;function Ne$5(sn){return Fe$5.call(sn)}var pt$5=Ne$5,ze$6="[object Null]",We$5="[object Undefined]",st$5=_$8?_$8.toStringTag:void 0;function Ge$5(sn){return sn==null?sn===void 0?We$5:ze$6:st$5&&st$5 in Object(sn)?ft$3(sn):pt$5(sn)}var h$9=Ge$5;function Ue$5(sn){return sn!=null&&typeof sn=="object"}var x$d=Ue$5,He$4=Array.isArray,L$a=He$4;function qe$6(sn){var ln=typeof sn;return sn!=null&&(ln=="object"||ln=="function")}var u$8=qe$6;function Ke$5(sn){return sn}var z$8=Ke$5,Ve$6="[object AsyncFunction]",ke$4="[object Function]",$e$5="[object GeneratorFunction]",Je$5="[object Proxy]";function Xe$5(sn){if(!u$8(sn))return!1;var ln=h$9(sn);return ln==ke$4||ln==$e$5||ln==Ve$6||ln==Je$5}var O$a=Xe$5,Ye$5=d$c["__core-js_shared__"],W$9=Ye$5,it$3=function(){var sn=/[^.]+$/.exec(W$9&&W$9.keys&&W$9.keys.IE_PROTO||"");return sn?"Symbol(src)_1."+sn:""}();function Ze$5(sn){return!!it$3&&it$3 in sn}var nt$5=Ze$5,Qe$5=Function.prototype,tr$3=Qe$5.toString;function er$3(sn){if(sn!=null){try{return tr$3.call(sn)}catch{}try{return sn+""}catch{}}return""}var ut$5=er$3,rr$3=/[\\^$.*+?()[\]{}|]/g,or$5=/^\[object .+?Constructor\]$/,ar$3=Function.prototype,fr$3=Object.prototype,pr$3=ar$3.toString,sr$3=fr$3.hasOwnProperty,ir$3=RegExp("^"+pr$3.call(sr$3).replace(rr$3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function nr$3(sn){if(!u$8(sn)||nt$5(sn))return!1;var ln=O$a(sn)?ir$3:or$5;return ln.test(ut$5(sn))}var lt$5=nr$3;function ur$5(sn,ln){return sn==null?void 0:sn[ln]}var mt$4=ur$5;function lr$3(sn,ln){var cn=mt$4(sn,ln);return lt$5(cn)?cn:void 0}var j$9=lr$3,dt$3=Object.create,mr$5=function(){function sn(){}return function(ln){if(!u$8(ln))return{};if(dt$3)return dt$3(ln);sn.prototype=ln;var cn=new sn;return sn.prototype=void 0,cn}}(),xt$3=mr$5;function dr$5(sn,ln,cn){switch(cn.length){case 0:return sn.call(ln);case 1:return sn.call(ln,cn[0]);case 2:return sn.call(ln,cn[0],cn[1]);case 3:return sn.call(ln,cn[0],cn[1],cn[2])}return sn.apply(ln,cn)}var ct$3=dr$5;function xr$5(sn,ln){var cn=-1,dn=sn.length;for(ln||(ln=Array(dn));++cn<dn;)ln[cn]=sn[cn];return ln}var ht$4=xr$5,cr$5=800,hr$5=16,gr$5=Date.now;function yr$5(sn){var ln=0,cn=0;return function(){var dn=gr$5(),pn=hr$5-(dn-cn);if(cn=dn,pn>0){if(++ln>=cr$5)return arguments[0]}else ln=0;return sn.apply(void 0,arguments)}}var gt$5=yr$5;function br$5(sn){return function(){return sn}}var yt$5=br$5,vr$4=function(){try{var sn=j$9(Object,"defineProperty");return sn({},"",{}),sn}catch{}}(),T$a=vr$4,_r$5=T$a?function(sn,ln){return T$a(sn,"toString",{configurable:!0,enumerable:!1,value:yt$5(ln),writable:!0})}:z$8,bt$5=_r$5,Or$2=gt$5(bt$5),vt$3=Or$2,jr$4=9007199254740991,Tr$4=/^(?:0|[1-9]\d*)$/;function wr$4(sn,ln){var cn=typeof sn;return ln=ln??jr$4,!!ln&&(cn=="number"||cn!="symbol"&&Tr$4.test(sn))&&sn>-1&&sn%1==0&&sn<ln}var G$a=wr$4;function Ar$2(sn,ln,cn){ln=="__proto__"&&T$a?T$a(sn,ln,{configurable:!0,enumerable:!0,value:cn,writable:!0}):sn[ln]=cn}var w$a=Ar$2;function Sr$4(sn,ln){return sn===ln||sn!==sn&&ln!==ln}var g$7=Sr$4,Ir$2=Object.prototype,Cr$4=Ir$2.hasOwnProperty;function Pr$3(sn,ln,cn){var dn=sn[ln];(!(Cr$4.call(sn,ln)&&g$7(dn,cn))||cn===void 0&&!(ln in sn))&&w$a(sn,ln,cn)}var _t$4=Pr$3;function Mr$5(sn,ln,cn,dn){var pn=!cn;cn||(cn={});for(var vn=-1,Sn=ln.length;++vn<Sn;){var En=ln[vn],Cn=dn?dn(cn[En],sn[En],En,cn,sn):void 0;Cn===void 0&&(Cn=sn[En]),pn?w$a(cn,En,Cn):_t$4(cn,En,Cn)}return cn}var Ot$4=Mr$5,jt$5=Math.max;function Br$4(sn,ln,cn){return ln=jt$5(ln===void 0?sn.length-1:ln,0),function(){for(var dn=arguments,pn=-1,vn=jt$5(dn.length-ln,0),Sn=Array(vn);++pn<vn;)Sn[pn]=dn[ln+pn];pn=-1;for(var En=Array(ln+1);++pn<ln;)En[pn]=dn[pn];return En[ln]=cn(Sn),ct$3(sn,this,En)}}var Tt$4=Br$4;function Lr$4(sn,ln){return vt$3(Tt$4(sn,ln,z$8),sn+"")}var wt$3=Lr$4,Er$4=9007199254740991;function Dr$4(sn){return typeof sn=="number"&&sn>-1&&sn%1==0&&sn<=Er$4}var U$a=Dr$4;function Rr$5(sn){return sn!=null&&U$a(sn.length)&&!O$a(sn)}var A$8=Rr$5;function Fr$4(sn,ln,cn){if(!u$8(cn))return!1;var dn=typeof ln;return(dn=="number"?A$8(cn)&&G$a(ln,cn.length):dn=="string"&&ln in cn)?g$7(cn[ln],sn):!1}var At$5=Fr$4;function Nr$4(sn){return wt$3(function(ln,cn){var dn=-1,pn=cn.length,vn=pn>1?cn[pn-1]:void 0,Sn=pn>2?cn[2]:void 0;for(vn=sn.length>3&&typeof vn=="function"?(pn--,vn):void 0,Sn&&At$5(cn[0],cn[1],Sn)&&(vn=pn<3?void 0:vn,pn=1),ln=Object(ln);++dn<pn;){var En=cn[dn];En&&sn(ln,En,dn,vn)}return ln})}var St$4=Nr$4,zr$5=Object.prototype;function Wr$4(sn){var ln=sn&&sn.constructor,cn=typeof ln=="function"&&ln.prototype||zr$5;return sn===cn}var H$b=Wr$4;function Gr$4(sn,ln){for(var cn=-1,dn=Array(sn);++cn<sn;)dn[cn]=ln(cn);return dn}var It$5=Gr$4,Ur$4="[object Arguments]";function Hr$4(sn){return x$d(sn)&&h$9(sn)==Ur$4}var Y$9=Hr$4,Ct$5=Object.prototype,qr$4=Ct$5.hasOwnProperty,Kr$4=Ct$5.propertyIsEnumerable,Vr$4=Y$9(function(){return arguments}())?Y$9:function(sn){return x$d(sn)&&qr$4.call(sn,"callee")&&!Kr$4.call(sn,"callee")},E$b=Vr$4;function kr$4(){return!1}var Pt$4=kr$4,Lt$5=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Mt$5=Lt$5&&typeof module=="object"&&module&&!module.nodeType&&module,$r$4=Mt$5&&Mt$5.exports===Lt$5,Bt$5=$r$4?d$c.Buffer:void 0,Jr$4=Bt$5?Bt$5.isBuffer:void 0,Xr$4=Jr$4||Pt$4,q$a=Xr$4,Yr$4="[object Arguments]",Zr$4="[object Array]",Qr$4="[object Boolean]",to$4="[object Date]",eo$4="[object Error]",ro$4="[object Function]",oo$4="[object Map]",ao$4="[object Number]",fo$4="[object Object]",po$4="[object RegExp]",so$4="[object Set]",io$4="[object String]",no$4="[object WeakMap]",uo$4="[object ArrayBuffer]",lo$4="[object DataView]",mo$4="[object Float32Array]",xo$4="[object Float64Array]",co$4="[object Int8Array]",ho$4="[object Int16Array]",go$4="[object Int32Array]",yo$4="[object Uint8Array]",bo$4="[object Uint8ClampedArray]",vo$4="[object Uint16Array]",_o$4="[object Uint32Array]",s$8={};s$8[mo$4]=s$8[xo$4]=s$8[co$4]=s$8[ho$4]=s$8[go$4]=s$8[yo$4]=s$8[bo$4]=s$8[vo$4]=s$8[_o$4]=!0;s$8[Yr$4]=s$8[Zr$4]=s$8[uo$4]=s$8[Qr$4]=s$8[lo$4]=s$8[to$4]=s$8[eo$4]=s$8[ro$4]=s$8[oo$4]=s$8[ao$4]=s$8[fo$4]=s$8[po$4]=s$8[so$4]=s$8[io$4]=s$8[no$4]=!1;function Oo$4(sn){return x$d(sn)&&U$a(sn.length)&&!!s$8[h$9(sn)]}var Et$5=Oo$4;function jo$4(sn){return function(ln){return sn(ln)}}var Dt$5=jo$4,Rt$5=typeof exports=="object"&&exports&&!exports.nodeType&&exports,D$8=Rt$5&&typeof module=="object"&&module&&!module.nodeType&&module,To$4=D$8&&D$8.exports===Rt$5,Z$7=To$4&&N$b.process,wo$4=function(){try{var sn=D$8&&D$8.require&&D$8.require("util").types;return sn||Z$7&&Z$7.binding&&Z$7.binding("util")}catch{}}(),Q$8=wo$4,Ft$5=Q$8&&Q$8.isTypedArray,Ao$4=Ft$5?Dt$5(Ft$5):Et$5,K$8=Ao$4,So$4=Object.prototype,Io$4=So$4.hasOwnProperty;function Co$4(sn,ln){var cn=L$a(sn),dn=!cn&&E$b(sn),pn=!cn&&!dn&&q$a(sn),vn=!cn&&!dn&&!pn&&K$8(sn),Sn=cn||dn||pn||vn,En=Sn?It$5(sn.length,String):[],Cn=En.length;for(var Pn in sn)(ln||Io$4.call(sn,Pn))&&!(Sn&&(Pn=="length"||pn&&(Pn=="offset"||Pn=="parent")||vn&&(Pn=="buffer"||Pn=="byteLength"||Pn=="byteOffset")||G$a(Pn,Cn)))&&En.push(Pn);return En}var Nt$5=Co$4;function Po$4(sn,ln){return function(cn){return sn(ln(cn))}}var zt$5=Po$4;function Mo$4(sn){var ln=[];if(sn!=null)for(var cn in Object(sn))ln.push(cn);return ln}var Wt$5=Mo$4,Bo$4=Object.prototype,Lo$4=Bo$4.hasOwnProperty;function Eo$4(sn){if(!u$8(sn))return Wt$5(sn);var ln=H$b(sn),cn=[];for(var dn in sn)dn=="constructor"&&(ln||!Lo$4.call(sn,dn))||cn.push(dn);return cn}var Gt$5=Eo$4;function Do$4(sn){return A$8(sn)?Nt$5(sn,!0):Gt$5(sn)}var V$5=Do$4,Ro$4=j$9(Object,"create"),c$b=Ro$4;function Fo$4(){this.__data__=c$b?c$b(null):{},this.size=0}var Ut$5=Fo$4;function No$4(sn){var ln=this.has(sn)&&delete this.__data__[sn];return this.size-=ln?1:0,ln}var Ht$5=No$4,zo$4="__lodash_hash_undefined__",Wo$4=Object.prototype,Go$4=Wo$4.hasOwnProperty;function Uo$4(sn){var ln=this.__data__;if(c$b){var cn=ln[sn];return cn===zo$4?void 0:cn}return Go$4.call(ln,sn)?ln[sn]:void 0}var qt$5=Uo$4,Ho$4=Object.prototype,qo$4=Ho$4.hasOwnProperty;function Ko$4(sn){var ln=this.__data__;return c$b?ln[sn]!==void 0:qo$4.call(ln,sn)}var Kt$5=Ko$4,Vo$4="__lodash_hash_undefined__";function ko$5(sn,ln){var cn=this.__data__;return this.size+=this.has(sn)?0:1,cn[sn]=c$b&&ln===void 0?Vo$4:ln,this}var Vt$5=ko$5;function S$9(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}S$9.prototype.clear=Ut$5;S$9.prototype.delete=Ht$5;S$9.prototype.get=qt$5;S$9.prototype.has=Kt$5;S$9.prototype.set=Vt$5;var tt$4=S$9;function $o$4(){this.__data__=[],this.size=0}var kt$5=$o$4;function Jo$4(sn,ln){for(var cn=sn.length;cn--;)if(g$7(sn[cn][0],ln))return cn;return-1}var y$8=Jo$4,Xo$4=Array.prototype,Yo$4=Xo$4.splice;function Zo$4(sn){var ln=this.__data__,cn=y$8(ln,sn);if(cn<0)return!1;var dn=ln.length-1;return cn==dn?ln.pop():Yo$4.call(ln,cn,1),--this.size,!0}var $t$5=Zo$4;function Qo$4(sn){var ln=this.__data__,cn=y$8(ln,sn);return cn<0?void 0:ln[cn][1]}var Jt$5=Qo$4;function ta$4(sn){return y$8(this.__data__,sn)>-1}var Xt$5=ta$4;function ea$4(sn,ln){var cn=this.__data__,dn=y$8(cn,sn);return dn<0?(++this.size,cn.push([sn,ln])):cn[dn][1]=ln,this}var Yt$5=ea$4;function I$b(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}I$b.prototype.clear=kt$5;I$b.prototype.delete=$t$5;I$b.prototype.get=Jt$5;I$b.prototype.has=Xt$5;I$b.prototype.set=Yt$5;var b$b=I$b,ra$4=j$9(d$c,"Map"),k$9=ra$4;function oa$4(){this.size=0,this.__data__={hash:new tt$4,map:new(k$9||b$b),string:new tt$4}}var Zt$5=oa$4;function aa$4(sn){var ln=typeof sn;return ln=="string"||ln=="number"||ln=="symbol"||ln=="boolean"?sn!=="__proto__":sn===null}var Qt$5=aa$4;function fa$4(sn,ln){var cn=sn.__data__;return Qt$5(ln)?cn[typeof ln=="string"?"string":"hash"]:cn.map}var v$9=fa$4;function pa$4(sn){var ln=v$9(this,sn).delete(sn);return this.size-=ln?1:0,ln}var te$6=pa$4;function sa$4(sn){return v$9(this,sn).get(sn)}var ee$6=sa$4;function ia$4(sn){return v$9(this,sn).has(sn)}var re$6=ia$4;function na$4(sn,ln){var cn=v$9(this,sn),dn=cn.size;return cn.set(sn,ln),this.size+=cn.size==dn?0:1,this}var oe$6=na$4;function C$8(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}C$8.prototype.clear=Zt$5;C$8.prototype.delete=te$6;C$8.prototype.get=ee$6;C$8.prototype.has=re$6;C$8.prototype.set=oe$6;var ae$6=C$8,ua$4=zt$5(Object.getPrototypeOf,Object),$$10=ua$4,la$4="[object Object]",ma$4=Function.prototype,da$4=Object.prototype,fe$5=ma$4.toString,xa$4=da$4.hasOwnProperty,ca$4=fe$5.call(Object);function ha$4(sn){if(!x$d(sn)||h$9(sn)!=la$4)return!1;var ln=$$10(sn);if(ln===null)return!0;var cn=xa$4.call(ln,"constructor")&&ln.constructor;return typeof cn=="function"&&cn instanceof cn&&fe$5.call(cn)==ca$4}var pe$6=ha$4;function ga$4(){this.__data__=new b$b,this.size=0}var se$6=ga$4;function ya$4(sn){var ln=this.__data__,cn=ln.delete(sn);return this.size=ln.size,cn}var ie$5=ya$4;function ba$4(sn){return this.__data__.get(sn)}var ne$6=ba$4;function va$2(sn){return this.__data__.has(sn)}var ue$6=va$2,_a$7=200;function Oa$4(sn,ln){var cn=this.__data__;if(cn instanceof b$b){var dn=cn.__data__;if(!k$9||dn.length<_a$7-1)return dn.push([sn,ln]),this.size=++cn.size,this;cn=this.__data__=new ae$6(dn)}return cn.set(sn,ln),this.size=cn.size,this}var le$6=Oa$4;function P$6(sn){var ln=this.__data__=new b$b(sn);this.size=ln.size}P$6.prototype.clear=se$6;P$6.prototype.delete=ie$5;P$6.prototype.get=ne$6;P$6.prototype.has=ue$6;P$6.prototype.set=le$6;var me$6=P$6,he$6=typeof exports=="object"&&exports&&!exports.nodeType&&exports,de$6=he$6&&typeof module=="object"&&module&&!module.nodeType&&module,ja$4=de$6&&de$6.exports===he$6,xe$6=ja$4?d$c.Buffer:void 0,ce$6=xe$6?xe$6.allocUnsafe:void 0;function Ta$4(sn,ln){if(ln)return sn.slice();var cn=sn.length,dn=ce$6?ce$6(cn):new sn.constructor(cn);return sn.copy(dn),dn}var ge$6=Ta$4,wa$2=d$c.Uint8Array,et$5=wa$2;function Aa$4(sn){var ln=new sn.constructor(sn.byteLength);return new et$5(ln).set(new et$5(sn)),ln}var ye$6=Aa$4;function Sa$2(sn,ln){var cn=ln?ye$6(sn.buffer):sn.buffer;return new sn.constructor(cn,sn.byteOffset,sn.length)}var be$6=Sa$2;function Ia$4(sn){return typeof sn.constructor=="function"&&!H$b(sn)?xt$3($$10(sn)):{}}var ve$5=Ia$4;function Ca$4(sn){return function(ln,cn,dn){for(var pn=-1,vn=Object(ln),Sn=dn(ln),En=Sn.length;En--;){var Cn=Sn[sn?En:++pn];if(cn(vn[Cn],Cn,vn)===!1)break}return ln}}var _e$6=Ca$4,Pa$4=_e$6(),Oe$4=Pa$4;function Ma$4(sn,ln,cn){(cn!==void 0&&!g$7(sn[ln],cn)||cn===void 0&&!(ln in sn))&&w$a(sn,ln,cn)}var R$9=Ma$4;function Ba$4(sn){return x$d(sn)&&A$8(sn)}var je$6=Ba$4;function La$4(sn,ln){if(!(ln==="constructor"&&typeof sn[ln]=="function")&&ln!="__proto__")return sn[ln]}var F$c=La$4;function Ea$4(sn){return Ot$4(sn,V$5(sn))}var Te$6=Ea$4;function Da$4(sn,ln,cn,dn,pn,vn,Sn){var En=F$c(sn,cn),Cn=F$c(ln,cn),Pn=Sn.get(Cn);if(Pn){R$9(sn,cn,Pn);return}var Rn=vn?vn(En,Cn,cn+"",sn,ln,Sn):void 0,Ln=Rn===void 0;if(Ln){var Fn=L$a(Cn),Gn=!Fn&&q$a(Cn),Dn=!Fn&&!Gn&&K$8(Cn);Rn=Cn,Fn||Gn||Dn?L$a(En)?Rn=En:je$6(En)?Rn=ht$4(En):Gn?(Ln=!1,Rn=ge$6(Cn,!0)):Dn?(Ln=!1,Rn=be$6(Cn,!0)):Rn=[]:pe$6(Cn)||E$b(Cn)?(Rn=En,E$b(En)?Rn=Te$6(En):(!u$8(En)||O$a(En))&&(Rn=ve$5(Cn))):Ln=!1}Ln&&(Sn.set(Cn,Rn),pn(Rn,Cn,dn,vn,Sn),Sn.delete(Cn)),R$9(sn,cn,Rn)}var we$6=Da$4;function Ae$4(sn,ln,cn,dn,pn){sn!==ln&&Oe$4(ln,function(vn,Sn){if(pn||(pn=new me$6),u$8(vn))we$6(sn,ln,Sn,cn,Ae$4,dn,pn);else{var En=dn?dn(F$c(sn,Sn),vn,Sn+"",sn,ln,pn):void 0;En===void 0&&(En=vn),R$9(sn,Sn,En)}},V$5)}var Se$6=Ae$4,Ra$4=St$4(function(sn,ln,cn){Se$6(sn,ln,cn)}),rt$5=Ra$4,Ie$5=reactExports.forwardRef((sn,ln)=>{let cn=rt$5({track:{cursor:"pointer"},label:{cursor:"pointer"}},sn.styles);return jsx(Switch,{styles:cn,...sn,ref:ln})}),za$4=Ie$5;Ie$5.displayName="Switch";/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/var e$2=reactExports.forwardRef((sn,ln)=>jsx(Textarea,{...sn,ref:ln})),x$c=e$2;e$2.displayName="Textarea";var T$9=x$c;function o$7(sn){return jsx(Tooltip,{...sn})}var Ve$5=typeof global=="object"&&global&&global.Object===Object&&global,G$9=Ve$5,qe$5=typeof self=="object"&&self&&self.Object===Object&&self,Ke$4=G$9||qe$5||Function("return this")(),d$b=Ke$4,$e$4=d$b.Symbol,M$8=$e$4,nt$4=Object.prototype,ke$3=nt$4.hasOwnProperty,Je$4=nt$4.toString,L$9=M$8?M$8.toStringTag:void 0;function Xe$4(sn){var ln=ke$3.call(sn,L$9),cn=sn[L$9];try{sn[L$9]=void 0;var dn=!0}catch{}var pn=Je$4.call(sn);return dn&&(ln?sn[L$9]=cn:delete sn[L$9]),pn}var ut$4=Xe$4,Ye$4=Object.prototype,Ze$4=Ye$4.toString;function Qe$4(sn){return Ze$4.call(sn)}var mt$3=Qe$4,tr$2="[object Null]",er$2="[object Undefined]",dt$2=M$8?M$8.toStringTag:void 0;function rr$2(sn){return sn==null?sn===void 0?er$2:tr$2:dt$2&&dt$2 in Object(sn)?ut$4(sn):mt$3(sn)}var b$a=rr$2;function or$4(sn){return sn!=null&&typeof sn=="object"}var x$b=or$4,ar$2=Array.isArray,F$b=ar$2;function fr$2(sn){var ln=typeof sn;return sn!=null&&(ln=="object"||ln=="function")}var n$7=fr$2;function sr$2(sn){return sn}var U$9=sr$2,pr$2="[object AsyncFunction]",lr$2="[object Function]",ir$2="[object GeneratorFunction]",nr$2="[object Proxy]";function ur$4(sn){if(!n$7(sn))return!1;var ln=b$a(sn);return ln==lr$2||ln==ir$2||ln==pr$2||ln==nr$2}var A$7=ur$4,mr$4=d$b["__core-js_shared__"],V$4=mr$4,xt$2=function(){var sn=/[^.]+$/.exec(V$4&&V$4.keys&&V$4.keys.IE_PROTO||"");return sn?"Symbol(src)_1."+sn:""}();function dr$4(sn){return!!xt$2&&xt$2 in sn}var ct$2=dr$4,xr$4=Function.prototype,cr$4=xr$4.toString;function hr$4(sn){if(sn!=null){try{return cr$4.call(sn)}catch{}try{return sn+""}catch{}}return""}var ht$3=hr$4,yr$4=/[\\^$.*+?()[\]{}|]/g,gr$4=/^\[object .+?Constructor\]$/,br$4=Function.prototype,vr$3=Object.prototype,_r$4=br$4.toString,Or$1=vr$3.hasOwnProperty,Tr$3=RegExp("^"+_r$4.call(Or$1).replace(yr$4,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Mr$4(sn){if(!n$7(sn)||ct$2(sn))return!1;var ln=A$7(sn)?Tr$3:gr$4;return ln.test(ht$3(sn))}var yt$4=Mr$4;function Ar$1(sn,ln){return sn==null?void 0:sn[ln]}var gt$4=Ar$1;function jr$3(sn,ln){var cn=gt$4(sn,ln);return yt$4(cn)?cn:void 0}var j$8=jr$3,bt$4=Object.create,wr$3=function(){function sn(){}return function(ln){if(!n$7(ln))return{};if(bt$4)return bt$4(ln);sn.prototype=ln;var cn=new sn;return sn.prototype=void 0,cn}}(),vt$2=wr$3;function Sr$3(sn,ln,cn){switch(cn.length){case 0:return sn.call(ln);case 1:return sn.call(ln,cn[0]);case 2:return sn.call(ln,cn[0],cn[1]);case 3:return sn.call(ln,cn[0],cn[1],cn[2])}return sn.apply(ln,cn)}var _t$3=Sr$3;function Pr$2(sn,ln){var cn=-1,dn=sn.length;for(ln||(ln=Array(dn));++cn<dn;)ln[cn]=sn[cn];return ln}var Ot$3=Pr$2,Cr$3=800,Br$3=16,Ir$1=Date.now;function Er$3(sn){var ln=0,cn=0;return function(){var dn=Ir$1(),pn=Br$3-(dn-cn);if(cn=dn,pn>0){if(++ln>=Cr$3)return arguments[0]}else ln=0;return sn.apply(void 0,arguments)}}var Tt$3=Er$3;function Nr$3(sn){return function(){return sn}}var Mt$4=Nr$3,Rr$4=function(){try{var sn=j$8(Object,"defineProperty");return sn({},"",{}),sn}catch{}}(),w$9=Rr$4,Lr$3=w$9?function(sn,ln){return w$9(sn,"toString",{configurable:!0,enumerable:!1,value:Mt$4(ln),writable:!0})}:U$9,At$4=Lr$3,Fr$3=Tt$3(At$4),jt$4=Fr$3,Dr$3=9007199254740991,Hr$3=/^(?:0|[1-9]\d*)$/;function zr$4(sn,ln){var cn=typeof sn;return ln=ln??Dr$3,!!ln&&(cn=="number"||cn!="symbol"&&Hr$3.test(sn))&&sn>-1&&sn%1==0&&sn<ln}var q$9=zr$4;function Wr$3(sn,ln,cn){ln=="__proto__"&&w$9?w$9(sn,ln,{configurable:!0,enumerable:!0,value:cn,writable:!0}):sn[ln]=cn}var S$8=Wr$3;function Gr$3(sn,ln){return sn===ln||sn!==sn&&ln!==ln}var v$8=Gr$3,Ur$3=Object.prototype,Vr$3=Ur$3.hasOwnProperty;function qr$3(sn,ln,cn){var dn=sn[ln];(!(Vr$3.call(sn,ln)&&v$8(dn,cn))||cn===void 0&&!(ln in sn))&&S$8(sn,ln,cn)}var wt$2=qr$3;function Kr$3(sn,ln,cn,dn){var pn=!cn;cn||(cn={});for(var vn=-1,Sn=ln.length;++vn<Sn;){var En=ln[vn],Cn=dn?dn(cn[En],sn[En],En,cn,sn):void 0;Cn===void 0&&(Cn=sn[En]),pn?S$8(cn,En,Cn):wt$2(cn,En,Cn)}return cn}var St$3=Kr$3,Pt$3=Math.max;function $r$3(sn,ln,cn){return ln=Pt$3(ln===void 0?sn.length-1:ln,0),function(){for(var dn=arguments,pn=-1,vn=Pt$3(dn.length-ln,0),Sn=Array(vn);++pn<vn;)Sn[pn]=dn[ln+pn];pn=-1;for(var En=Array(ln+1);++pn<ln;)En[pn]=dn[pn];return En[ln]=cn(Sn),_t$3(sn,this,En)}}var Ct$4=$r$3;function kr$3(sn,ln){return jt$4(Ct$4(sn,ln,U$9),sn+"")}var Bt$4=kr$3,Jr$3=9007199254740991;function Xr$3(sn){return typeof sn=="number"&&sn>-1&&sn%1==0&&sn<=Jr$3}var K$7=Xr$3;function Yr$3(sn){return sn!=null&&K$7(sn.length)&&!A$7(sn)}var P$5=Yr$3;function Zr$3(sn,ln,cn){if(!n$7(cn))return!1;var dn=typeof ln;return(dn=="number"?P$5(cn)&&q$9(ln,cn.length):dn=="string"&&ln in cn)?v$8(cn[ln],sn):!1}var It$4=Zr$3;function Qr$3(sn){return Bt$4(function(ln,cn){var dn=-1,pn=cn.length,vn=pn>1?cn[pn-1]:void 0,Sn=pn>2?cn[2]:void 0;for(vn=sn.length>3&&typeof vn=="function"?(pn--,vn):void 0,Sn&&It$4(cn[0],cn[1],Sn)&&(vn=pn<3?void 0:vn,pn=1),ln=Object(ln);++dn<pn;){var En=cn[dn];En&&sn(ln,En,dn,vn)}return ln})}var Et$4=Qr$3,to$3=Object.prototype;function eo$3(sn){var ln=sn&&sn.constructor,cn=typeof ln=="function"&&ln.prototype||to$3;return sn===cn}var $$$=eo$3;function ro$3(sn,ln){for(var cn=-1,dn=Array(sn);++cn<sn;)dn[cn]=ln(cn);return dn}var Nt$4=ro$3,oo$3="[object Arguments]";function ao$3(sn){return x$b(sn)&&b$a(sn)==oo$3}var et$4=ao$3,Rt$4=Object.prototype,fo$3=Rt$4.hasOwnProperty,so$3=Rt$4.propertyIsEnumerable,po$3=et$4(function(){return arguments}())?et$4:function(sn){return x$b(sn)&&fo$3.call(sn,"callee")&&!so$3.call(sn,"callee")},D$7=po$3;function lo$3(){return!1}var Lt$4=lo$3,Ht$4=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ft$4=Ht$4&&typeof module=="object"&&module&&!module.nodeType&&module,io$3=Ft$4&&Ft$4.exports===Ht$4,Dt$4=io$3?d$b.Buffer:void 0,no$3=Dt$4?Dt$4.isBuffer:void 0,uo$3=no$3||Lt$4,k$8=uo$3,mo$3="[object Arguments]",xo$3="[object Array]",co$3="[object Boolean]",ho$3="[object Date]",yo$3="[object Error]",go$3="[object Function]",bo$3="[object Map]",vo$3="[object Number]",_o$3="[object Object]",Oo$3="[object RegExp]",To$3="[object Set]",Mo$3="[object String]",Ao$3="[object WeakMap]",jo$3="[object ArrayBuffer]",wo$3="[object DataView]",So$3="[object Float32Array]",Po$3="[object Float64Array]",Co$3="[object Int8Array]",Bo$3="[object Int16Array]",Io$3="[object Int32Array]",Eo$3="[object Uint8Array]",No$3="[object Uint8ClampedArray]",Ro$3="[object Uint16Array]",Lo$3="[object Uint32Array]",p$6={};p$6[So$3]=p$6[Po$3]=p$6[Co$3]=p$6[Bo$3]=p$6[Io$3]=p$6[Eo$3]=p$6[No$3]=p$6[Ro$3]=p$6[Lo$3]=!0;p$6[mo$3]=p$6[xo$3]=p$6[jo$3]=p$6[co$3]=p$6[wo$3]=p$6[ho$3]=p$6[yo$3]=p$6[go$3]=p$6[bo$3]=p$6[vo$3]=p$6[_o$3]=p$6[Oo$3]=p$6[To$3]=p$6[Mo$3]=p$6[Ao$3]=!1;function Fo$3(sn){return x$b(sn)&&K$7(sn.length)&&!!p$6[b$a(sn)]}var zt$4=Fo$3;function Do$3(sn){return function(ln){return sn(ln)}}var Wt$4=Do$3,Gt$4=typeof exports=="object"&&exports&&!exports.nodeType&&exports,H$a=Gt$4&&typeof module=="object"&&module&&!module.nodeType&&module,Ho$3=H$a&&H$a.exports===Gt$4,rt$4=Ho$3&&G$9.process,zo$3=function(){try{var sn=H$a&&H$a.require&&H$a.require("util").types;return sn||rt$4&&rt$4.binding&&rt$4.binding("util")}catch{}}(),ot$1=zo$3,Ut$4=ot$1&&ot$1.isTypedArray,Wo$3=Ut$4?Wt$4(Ut$4):zt$4,J$6=Wo$3,Go$3=Object.prototype,Uo$3=Go$3.hasOwnProperty;function Vo$3(sn,ln){var cn=F$b(sn),dn=!cn&&D$7(sn),pn=!cn&&!dn&&k$8(sn),vn=!cn&&!dn&&!pn&&J$6(sn),Sn=cn||dn||pn||vn,En=Sn?Nt$4(sn.length,String):[],Cn=En.length;for(var Pn in sn)(ln||Uo$3.call(sn,Pn))&&!(Sn&&(Pn=="length"||pn&&(Pn=="offset"||Pn=="parent")||vn&&(Pn=="buffer"||Pn=="byteLength"||Pn=="byteOffset")||q$9(Pn,Cn)))&&En.push(Pn);return En}var Vt$4=Vo$3;function qo$3(sn,ln){return function(cn){return sn(ln(cn))}}var qt$4=qo$3;function Ko$3(sn){var ln=[];if(sn!=null)for(var cn in Object(sn))ln.push(cn);return ln}var Kt$4=Ko$3,$o$3=Object.prototype,ko$4=$o$3.hasOwnProperty;function Jo$3(sn){if(!n$7(sn))return Kt$4(sn);var ln=$$$(sn),cn=[];for(var dn in sn)dn=="constructor"&&(ln||!ko$4.call(sn,dn))||cn.push(dn);return cn}var $t$4=Jo$3;function Xo$3(sn){return P$5(sn)?Vt$4(sn,!0):$t$4(sn)}var X$5=Xo$3,Yo$3=j$8(Object,"create"),h$8=Yo$3;function Zo$3(){this.__data__=h$8?h$8(null):{},this.size=0}var kt$4=Zo$3;function Qo$3(sn){var ln=this.has(sn)&&delete this.__data__[sn];return this.size-=ln?1:0,ln}var Jt$4=Qo$3,ta$3="__lodash_hash_undefined__",ea$3=Object.prototype,ra$3=ea$3.hasOwnProperty;function oa$3(sn){var ln=this.__data__;if(h$8){var cn=ln[sn];return cn===ta$3?void 0:cn}return ra$3.call(ln,sn)?ln[sn]:void 0}var Xt$4=oa$3,aa$3=Object.prototype,fa$3=aa$3.hasOwnProperty;function sa$3(sn){var ln=this.__data__;return h$8?ln[sn]!==void 0:fa$3.call(ln,sn)}var Yt$4=sa$3,pa$3="__lodash_hash_undefined__";function la$3(sn,ln){var cn=this.__data__;return this.size+=this.has(sn)?0:1,cn[sn]=h$8&&ln===void 0?pa$3:ln,this}var Zt$4=la$3;function C$7(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}C$7.prototype.clear=kt$4;C$7.prototype.delete=Jt$4;C$7.prototype.get=Xt$4;C$7.prototype.has=Yt$4;C$7.prototype.set=Zt$4;var at$2=C$7;function ia$3(){this.__data__=[],this.size=0}var Qt$4=ia$3;function na$3(sn,ln){for(var cn=sn.length;cn--;)if(v$8(sn[cn][0],ln))return cn;return-1}var _$7=na$3,ua$3=Array.prototype,ma$3=ua$3.splice;function da$3(sn){var ln=this.__data__,cn=_$7(ln,sn);if(cn<0)return!1;var dn=ln.length-1;return cn==dn?ln.pop():ma$3.call(ln,cn,1),--this.size,!0}var te$5=da$3;function xa$3(sn){var ln=this.__data__,cn=_$7(ln,sn);return cn<0?void 0:ln[cn][1]}var ee$5=xa$3;function ca$3(sn){return _$7(this.__data__,sn)>-1}var re$5=ca$3;function ha$3(sn,ln){var cn=this.__data__,dn=_$7(cn,sn);return dn<0?(++this.size,cn.push([sn,ln])):cn[dn][1]=ln,this}var oe$5=ha$3;function B$8(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}B$8.prototype.clear=Qt$4;B$8.prototype.delete=te$5;B$8.prototype.get=ee$5;B$8.prototype.has=re$5;B$8.prototype.set=oe$5;var O$9=B$8,ya$3=j$8(d$b,"Map"),Y$8=ya$3;function ga$3(){this.size=0,this.__data__={hash:new at$2,map:new(Y$8||O$9),string:new at$2}}var ae$5=ga$3;function ba$3(sn){var ln=typeof sn;return ln=="string"||ln=="number"||ln=="symbol"||ln=="boolean"?sn!=="__proto__":sn===null}var fe$4=ba$3;function va$1(sn,ln){var cn=sn.__data__;return fe$4(ln)?cn[typeof ln=="string"?"string":"hash"]:cn.map}var T$8=va$1;function _a$6(sn){var ln=T$8(this,sn).delete(sn);return this.size-=ln?1:0,ln}var se$5=_a$6;function Oa$3(sn){return T$8(this,sn).get(sn)}var pe$5=Oa$3;function Ta$3(sn){return T$8(this,sn).has(sn)}var le$5=Ta$3;function Ma$3(sn,ln){var cn=T$8(this,sn),dn=cn.size;return cn.set(sn,ln),this.size+=cn.size==dn?0:1,this}var ie$4=Ma$3;function I$a(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}I$a.prototype.clear=ae$5;I$a.prototype.delete=se$5;I$a.prototype.get=pe$5;I$a.prototype.has=le$5;I$a.prototype.set=ie$4;var ne$5=I$a,Aa$3=qt$4(Object.getPrototypeOf,Object),Z$6=Aa$3,ja$3="[object Object]",wa$1=Function.prototype,Sa$1=Object.prototype,ue$5=wa$1.toString,Pa$3=Sa$1.hasOwnProperty,Ca$3=ue$5.call(Object);function Ba$3(sn){if(!x$b(sn)||b$a(sn)!=ja$3)return!1;var ln=Z$6(sn);if(ln===null)return!0;var cn=Pa$3.call(ln,"constructor")&&ln.constructor;return typeof cn=="function"&&cn instanceof cn&&ue$5.call(cn)==Ca$3}var me$5=Ba$3;function Ia$3(){this.__data__=new O$9,this.size=0}var de$5=Ia$3;function Ea$3(sn){var ln=this.__data__,cn=ln.delete(sn);return this.size=ln.size,cn}var xe$5=Ea$3;function Na$2(sn){return this.__data__.get(sn)}var ce$5=Na$2;function Ra$3(sn){return this.__data__.has(sn)}var he$5=Ra$3,La$3=200;function Fa$2(sn,ln){var cn=this.__data__;if(cn instanceof O$9){var dn=cn.__data__;if(!Y$8||dn.length<La$3-1)return dn.push([sn,ln]),this.size=++cn.size,this;cn=this.__data__=new ne$5(dn)}return cn.set(sn,ln),this.size=cn.size,this}var ye$5=Fa$2;function E$a(sn){var ln=this.__data__=new O$9(sn);this.size=ln.size}E$a.prototype.clear=de$5;E$a.prototype.delete=xe$5;E$a.prototype.get=ce$5;E$a.prototype.has=he$5;E$a.prototype.set=ye$5;var ge$5=E$a,Oe$3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,be$5=Oe$3&&typeof module=="object"&&module&&!module.nodeType&&module,Da$3=be$5&&be$5.exports===Oe$3,ve$4=Da$3?d$b.Buffer:void 0,_e$5=ve$4?ve$4.allocUnsafe:void 0;function Ha$3(sn,ln){if(ln)return sn.slice();var cn=sn.length,dn=_e$5?_e$5(cn):new sn.constructor(cn);return sn.copy(dn),dn}var Te$5=Ha$3,za$3=d$b.Uint8Array,ft$2=za$3;function Wa$2(sn){var ln=new sn.constructor(sn.byteLength);return new ft$2(ln).set(new ft$2(sn)),ln}var Me$5=Wa$2;function Ga$2(sn,ln){var cn=ln?Me$5(sn.buffer):sn.buffer;return new sn.constructor(cn,sn.byteOffset,sn.length)}var Ae$3=Ga$2;function Ua$3(sn){return typeof sn.constructor=="function"&&!$$$(sn)?vt$2(Z$6(sn)):{}}var je$5=Ua$3;function Va$3(sn){return function(ln,cn,dn){for(var pn=-1,vn=Object(ln),Sn=dn(ln),En=Sn.length;En--;){var Cn=Sn[sn?En:++pn];if(cn(vn[Cn],Cn,vn)===!1)break}return ln}}var we$5=Va$3,qa$3=we$5(),Se$5=qa$3;function Ka$2(sn,ln,cn){(cn!==void 0&&!v$8(sn[ln],cn)||cn===void 0&&!(ln in sn))&&S$8(sn,ln,cn)}var z$7=Ka$2;function $a$2(sn){return x$b(sn)&&P$5(sn)}var Pe$3=$a$2;function ka$2(sn,ln){if(!(ln==="constructor"&&typeof sn[ln]=="function")&&ln!="__proto__")return sn[ln]}var W$8=ka$2;function Ja$2(sn){return St$3(sn,X$5(sn))}var Ce$4=Ja$2;function Xa$2(sn,ln,cn,dn,pn,vn,Sn){var En=W$8(sn,cn),Cn=W$8(ln,cn),Pn=Sn.get(Cn);if(Pn){z$7(sn,cn,Pn);return}var Rn=vn?vn(En,Cn,cn+"",sn,ln,Sn):void 0,Ln=Rn===void 0;if(Ln){var Fn=F$b(Cn),Gn=!Fn&&k$8(Cn),Dn=!Fn&&!Gn&&J$6(Cn);Rn=Cn,Fn||Gn||Dn?F$b(En)?Rn=En:Pe$3(En)?Rn=Ot$3(En):Gn?(Ln=!1,Rn=Te$5(Cn,!0)):Dn?(Ln=!1,Rn=Ae$3(Cn,!0)):Rn=[]:me$5(Cn)||D$7(Cn)?(Rn=En,D$7(En)?Rn=Ce$4(En):(!n$7(En)||A$7(En))&&(Rn=je$5(Cn))):Ln=!1}Ln&&(Sn.set(Cn,Rn),pn(Rn,Cn,dn,vn,Sn),Sn.delete(Cn)),z$7(sn,cn,Rn)}var Be$4=Xa$2;function Ie$4(sn,ln,cn,dn,pn){sn!==ln&&Se$5(ln,function(vn,Sn){if(pn||(pn=new ge$5),n$7(vn))Be$4(sn,ln,Sn,cn,Ie$4,dn,pn);else{var En=dn?dn(W$8(sn,Sn),vn,Sn+"",sn,ln,pn):void 0;En===void 0&&(En=vn),z$7(sn,Sn,En)}},X$5)}var Ee$5=Ie$4,Ya$2=Et$4(function(sn,ln,cn){Ee$5(sn,ln,cn)}),st$4=Ya$2,pt$4=css$1({flexWrap:"nowrap",">*":{width:"100%"}}),lt$4=css$1({flexWrap:"wrap",gap:8,">*":{width:"100%"}});function Le$4({children:sn,styleWrapper:ln,align:cn="right",...dn}){return jsx("footer",{css:[af,ln],children:jsx(m$8,{spacing:16,position:"right",css:[cn==="grow"?pt$4:void 0,cn==="vertical"?lt$4:void 0],...dn,children:reactExports.Children.map(sn,pn=>reactExports.isValidElement(pn)&&reactExports.cloneElement(pn,{size:"md"}))})})}var af=css$1({padding:"0"}),Fe$4=sn=>(ln,cn,dn)=>st$4({content:{display:"flex",flexDirection:"column"},body:{flexGrow:1,overflow:"auto"}},typeof sn=="function"?sn(ln,cn,dn):sn);function c$a(sn){let{styles:ln,...cn}=sn;return jsx(Modal,{...cn,styles:Fe$4(ln)})}function ff(sn){let{styles:ln,...cn}=sn;return jsx(Modal.Root,{...cn,styles:Fe$4(ln)})}var De$4=reactExports.forwardRef((sn,ln)=>jsx(Modal.CloseButton,{...sn,ref:ln})),He$3=reactExports.forwardRef((sn,ln)=>jsx(Modal.Overlay,{...sn,ref:ln})),ze$5=reactExports.forwardRef((sn,ln)=>jsx(Modal.Content,{...sn,ref:ln})),We$4=reactExports.forwardRef((sn,ln)=>jsx(Modal.Header,{...sn,ref:ln})),Ge$4=reactExports.forwardRef((sn,ln)=>jsx(Modal.Title,{...sn,ref:ln})),Ue$4=reactExports.forwardRef((sn,ln)=>jsx(Modal.Body,{...sn,ref:ln}));function sf({children:sn}){return jsx(Modal.NativeScrollArea,{children:sn})}De$4.displayName="ModalCloseButton";He$3.displayName="ModalOverlay";ze$5.displayName="ModalContent";We$4.displayName="ModalHeader";Ge$4.displayName="ModalTitle";Ue$4.displayName="ModalBody";c$a.Root=ff;c$a.CloseButton=De$4;c$a.Overlay=He$3;c$a.Content=ze$5;c$a.Header=We$4;c$a.Title=Ge$4;c$a.Body=Ue$4;c$a.NativeScrollArea=sf;c$a.Footer=Le$4;/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/function r$4(sn){let{children:ln}=sn;return jsx(Popover,{...sn,children:ln})}r$4.Target=Popover.Target;r$4.Dropdown=Popover.Dropdown;var t$5=r$4;function p$5(sn){return jsx(Kbd,{...sn})}var t$4=p$5;function LogoLoading({styleWrapper:sn}){return jsx("div",{"aria-label":"loading",css:[styleContainer,sn,"",""],children:jsx("div",{css:styleSessionLoading})})}const styleContainer={name:"12a04nj",styles:"display:flex;align-items:center;justify-content:center;height:100%"},shadowPulse=keyframes({"0%":{boxShadow:"0 0 0 0px rgba(0, 0, 0, 0.2)"},"100%":{boxShadow:"0 0 0 35px rgba(0, 0, 0, 0)"}}),styleSessionLoading=css$1({animation:`${shadowPulse} 1s infinite`,backgroundImage:"url(https://cdn.inflearn.com/public/main/profile/default_profile.png)",width:"50px",height:"50px",borderRadius:"50%",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"cover"},"",""),styleLogoLoading={name:"tlxyv9",styles:"height:calc(var(--vh, 1vh) * 100)"};function ErrorNotification({errorMessage:sn}){return jsx("div",{children:sn?jsx("p",{children:sn}):jsxs("p",{children:["새로고침을 진행해주세요.",jsx("br",{}),"오류가 지속되면 관리자에게 문의해주세요."]})})}var _ref$8={name:"s1n8ed",styles:"height:100vh"};function AppErrorFallback({resetErrorBoundary:sn}){const{showNotification:ln}=z$9(),cn="app-error",dn=reactExports.useCallback(()=>{hideNotification(cn),setTimeout(()=>{sn()},500)},[]);return reactExports.useEffect(()=>{ln({id:cn,title:"일시적인 오류가 발생했습니다.",autoClose:!1,type:"error",message:jsx(ErrorNotification,{onReset:dn})})},[]),jsx("section",{css:_ref$8,children:jsx(LogoLoading,{})})}const IGNORE_ERRORS=["Network Error","Load failed","TypeError: Load failed","Failed to fetch","TypeError: Failed to fetch","console error: TypeError: Failed to fetch","console error: TypeError: Load failed","NetworkError when attempting to fetch resource.","The network connection was lost.","네트워크 연결이 유실되었습니다.","The operation couldn’t be completed. Software caused connection abort","작업을 완료할 수 없습니다. 소프트웨어에 의한 연결 중단","WebKit encountered an internal error","The Internet connection appears to be offline.","Non-Error promise rejection captured with keys: currentTarget, isTrusted, target, type","취소됨","cannot parse response","Network request failed","Loading chunk","Loading CSS chunk","Could not connect to the server","An SSL error has occurred","checkDomStatus",'Uncaught "Script error."','Uncaught "ResizeObserver loop completed with undelivered notifications."',"null","console error: ApiError: 다른 브라우저에서 학습을 시작했습니다.","console error: InvalidStateError: The object is in an invalid state.","console error: Error fetching data Error: Request error"],URL_VOUCHER="/vouchers",URL_CARTS=()=>`${appConfig.ANTMAN_APP_URL}/carts`,URL_COURSE_DESCRIPTION=(sn,ln)=>{const cn=ln?`?inst=${ln}`:"";return`${appConfig.ANTMAN_APP_URL}/course/${sn}`+cn},URL_COURSE_DASHBOARD=sn=>`${appConfig.ANTMAN_APP_URL}/course/${sn}/dashboard`,URL_SIGNIN=sn=>`${appConfig.ANTMAN_APP_URL}/signin`+(sn?`?referUrl=${encodeURIComponent(sn)}`:""),URL_INFLEARN_FAQ=`${appConfig.ANTMAN_APP_URL}/faq`,URL_LECTURE_V2="/course/lecture";function useSetMobileVh(){const sn=()=>{const ln=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${ln}px`)};reactExports.useEffect(()=>{sn()},[]),useEvent$2("resize",sn),useEvent$2("deviceorientation",sn)}const isBot=sn=>{const ln="(googlebot/|bot|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)";return new RegExp(ln,"i").test(sn)},scriptRel="modulepreload",assetsURL=function(sn){return"https://cdn.inflearn.com/monolith/lecture/"+sn},seen={},__vitePreload=function(ln,cn,dn){if(!cn||cn.length===0)return ln();const pn=document.getElementsByTagName("link");return Promise.all(cn.map(vn=>{if(vn=assetsURL(vn),vn in seen)return;seen[vn]=!0;const Sn=vn.endsWith(".css"),En=Sn?'[rel="stylesheet"]':"";if(!!dn)for(let Rn=pn.length-1;Rn>=0;Rn--){const Ln=pn[Rn];if(Ln.href===vn&&(!Sn||Ln.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${vn}"]${En}`))return;const Pn=document.createElement("link");if(Pn.rel=Sn?"stylesheet":scriptRel,Sn||(Pn.as="script",Pn.crossOrigin=""),Pn.href=vn,document.head.appendChild(Pn),Sn)return new Promise((Rn,Ln)=>{Pn.addEventListener("load",Rn),Pn.addEventListener("error",()=>Ln(new Error(`Unable to preload CSS for ${vn}`)))})})).then(()=>ln())};/*! js-cookie v3.0.5 | MIT */function assign(sn){for(var ln=1;ln<arguments.length;ln++){var cn=arguments[ln];for(var dn in cn)sn[dn]=cn[dn]}return sn}var defaultConverter={read:function(sn){return sn[0]==='"'&&(sn=sn.slice(1,-1)),sn.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(sn){return encodeURIComponent(sn).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function init(sn,ln){function cn(pn,vn,Sn){if(!(typeof document>"u")){Sn=assign({},ln,Sn),typeof Sn.expires=="number"&&(Sn.expires=new Date(Date.now()+Sn.expires*864e5)),Sn.expires&&(Sn.expires=Sn.expires.toUTCString()),pn=encodeURIComponent(pn).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var En="";for(var Cn in Sn)Sn[Cn]&&(En+="; "+Cn,Sn[Cn]!==!0&&(En+="="+Sn[Cn].split(";")[0]));return document.cookie=pn+"="+sn.write(vn,pn)+En}}function dn(pn){if(!(typeof document>"u"||arguments.length&&!pn)){for(var vn=document.cookie?document.cookie.split("; "):[],Sn={},En=0;En<vn.length;En++){var Cn=vn[En].split("="),Pn=Cn.slice(1).join("=");try{var Rn=decodeURIComponent(Cn[0]);if(Sn[Rn]=sn.read(Pn,Rn),pn===Rn)break}catch{}}return pn?Sn[pn]:Sn}}return Object.create({set:cn,get:dn,remove:function(pn,vn){cn(pn,"",assign({},vn,{expires:-1}))},withAttributes:function(pn){return init(this.converter,assign({},this.attributes,pn))},withConverter:function(pn){return init(assign({},this.converter,pn),this.attributes)}},{attributes:{value:Object.freeze(ln)},converter:{value:Object.freeze(sn)}})}var api=init(defaultConverter,{path:"/"}),queryString$1={},strictUriEncode=sn=>encodeURIComponent(sn).replace(/[!'()*]/g,ln=>`%${ln.charCodeAt(0).toString(16).toUpperCase()}`),token="%[a-f0-9]{2}",singleMatcher=new RegExp("("+token+")|([^%]+?)","gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(sn,ln){try{return[decodeURIComponent(sn.join(""))]}catch{}if(sn.length===1)return sn;ln=ln||1;var cn=sn.slice(0,ln),dn=sn.slice(ln);return Array.prototype.concat.call([],decodeComponents(cn),decodeComponents(dn))}function decode$1(sn){try{return decodeURIComponent(sn)}catch{for(var ln=sn.match(singleMatcher)||[],cn=1;cn<ln.length;cn++)sn=decodeComponents(ln,cn).join(""),ln=sn.match(singleMatcher)||[];return sn}}function customDecodeURIComponent(sn){for(var ln={"%FE%FF":"��","%FF%FE":"��"},cn=multiMatcher.exec(sn);cn;){try{ln[cn[0]]=decodeURIComponent(cn[0])}catch{var dn=decode$1(cn[0]);dn!==cn[0]&&(ln[cn[0]]=dn)}cn=multiMatcher.exec(sn)}ln["%C2"]="�";for(var pn=Object.keys(ln),vn=0;vn<pn.length;vn++){var Sn=pn[vn];sn=sn.replace(new RegExp(Sn,"g"),ln[Sn])}return sn}var decodeUriComponent=function(sn){if(typeof sn!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof sn+"`");try{return sn=sn.replace(/\+/g," "),decodeURIComponent(sn)}catch{return customDecodeURIComponent(sn)}},splitOnFirst=(sn,ln)=>{if(!(typeof sn=="string"&&typeof ln=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(ln==="")return[sn];const cn=sn.indexOf(ln);return cn===-1?[sn]:[sn.slice(0,cn),sn.slice(cn+ln.length)]},filterObj=function(sn,ln){for(var cn={},dn=Object.keys(sn),pn=Array.isArray(ln),vn=0;vn<dn.length;vn++){var Sn=dn[vn],En=sn[Sn];(pn?ln.indexOf(Sn)!==-1:ln(Sn,En,sn))&&(cn[Sn]=En)}return cn};(function(sn){const ln=strictUriEncode,cn=decodeUriComponent,dn=splitOnFirst,pn=filterObj,vn=Yn=>Yn==null,Sn=Symbol("encodeFragmentIdentifier");function En(Yn){switch(Yn.arrayFormat){case"index":return Jn=>(rs,us)=>{const as=rs.length;return us===void 0||Yn.skipNull&&us===null||Yn.skipEmptyString&&us===""?rs:us===null?[...rs,[Rn(Jn,Yn),"[",as,"]"].join("")]:[...rs,[Rn(Jn,Yn),"[",Rn(as,Yn),"]=",Rn(us,Yn)].join("")]};case"bracket":return Jn=>(rs,us)=>us===void 0||Yn.skipNull&&us===null||Yn.skipEmptyString&&us===""?rs:us===null?[...rs,[Rn(Jn,Yn),"[]"].join("")]:[...rs,[Rn(Jn,Yn),"[]=",Rn(us,Yn)].join("")];case"colon-list-separator":return Jn=>(rs,us)=>us===void 0||Yn.skipNull&&us===null||Yn.skipEmptyString&&us===""?rs:us===null?[...rs,[Rn(Jn,Yn),":list="].join("")]:[...rs,[Rn(Jn,Yn),":list=",Rn(us,Yn)].join("")];case"comma":case"separator":case"bracket-separator":{const Jn=Yn.arrayFormat==="bracket-separator"?"[]=":"=";return rs=>(us,as)=>as===void 0||Yn.skipNull&&as===null||Yn.skipEmptyString&&as===""?us:(as=as===null?"":as,us.length===0?[[Rn(rs,Yn),Jn,Rn(as,Yn)].join("")]:[[us,Rn(as,Yn)].join(Yn.arrayFormatSeparator)])}default:return Jn=>(rs,us)=>us===void 0||Yn.skipNull&&us===null||Yn.skipEmptyString&&us===""?rs:us===null?[...rs,Rn(Jn,Yn)]:[...rs,[Rn(Jn,Yn),"=",Rn(us,Yn)].join("")]}}function Cn(Yn){let Jn;switch(Yn.arrayFormat){case"index":return(rs,us,as)=>{if(Jn=/\[(\d*)\]$/.exec(rs),rs=rs.replace(/\[\d*\]$/,""),!Jn){as[rs]=us;return}as[rs]===void 0&&(as[rs]={}),as[rs][Jn[1]]=us};case"bracket":return(rs,us,as)=>{if(Jn=/(\[\])$/.exec(rs),rs=rs.replace(/\[\]$/,""),!Jn){as[rs]=us;return}if(as[rs]===void 0){as[rs]=[us];return}as[rs]=[].concat(as[rs],us)};case"colon-list-separator":return(rs,us,as)=>{if(Jn=/(:list)$/.exec(rs),rs=rs.replace(/:list$/,""),!Jn){as[rs]=us;return}if(as[rs]===void 0){as[rs]=[us];return}as[rs]=[].concat(as[rs],us)};case"comma":case"separator":return(rs,us,as)=>{const cs=typeof us=="string"&&us.includes(Yn.arrayFormatSeparator),_s=typeof us=="string"&&!cs&&Ln(us,Yn).includes(Yn.arrayFormatSeparator);us=_s?Ln(us,Yn):us;const Es=cs||_s?us.split(Yn.arrayFormatSeparator).map(Qn=>Ln(Qn,Yn)):us===null?us:Ln(us,Yn);as[rs]=Es};case"bracket-separator":return(rs,us,as)=>{const cs=/(\[\])$/.test(rs);if(rs=rs.replace(/\[\]$/,""),!cs){as[rs]=us&&Ln(us,Yn);return}const _s=us===null?[]:us.split(Yn.arrayFormatSeparator).map(Es=>Ln(Es,Yn));if(as[rs]===void 0){as[rs]=_s;return}as[rs]=[].concat(as[rs],_s)};default:return(rs,us,as)=>{if(as[rs]===void 0){as[rs]=us;return}as[rs]=[].concat(as[rs],us)}}}function Pn(Yn){if(typeof Yn!="string"||Yn.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function Rn(Yn,Jn){return Jn.encode?Jn.strict?ln(Yn):encodeURIComponent(Yn):Yn}function Ln(Yn,Jn){return Jn.decode?cn(Yn):Yn}function Fn(Yn){return Array.isArray(Yn)?Yn.sort():typeof Yn=="object"?Fn(Object.keys(Yn)).sort((Jn,rs)=>Number(Jn)-Number(rs)).map(Jn=>Yn[Jn]):Yn}function Gn(Yn){const Jn=Yn.indexOf("#");return Jn!==-1&&(Yn=Yn.slice(0,Jn)),Yn}function Dn(Yn){let Jn="";const rs=Yn.indexOf("#");return rs!==-1&&(Jn=Yn.slice(rs)),Jn}function Kn(Yn){Yn=Gn(Yn);const Jn=Yn.indexOf("?");return Jn===-1?"":Yn.slice(Jn+1)}function qn(Yn,Jn){return Jn.parseNumbers&&!Number.isNaN(Number(Yn))&&typeof Yn=="string"&&Yn.trim()!==""?Yn=Number(Yn):Jn.parseBooleans&&Yn!==null&&(Yn.toLowerCase()==="true"||Yn.toLowerCase()==="false")&&(Yn=Yn.toLowerCase()==="true"),Yn}function Zn(Yn,Jn){Jn=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},Jn),Pn(Jn.arrayFormatSeparator);const rs=Cn(Jn),us=Object.create(null);if(typeof Yn!="string"||(Yn=Yn.trim().replace(/^[?#&]/,""),!Yn))return us;for(const as of Yn.split("&")){if(as==="")continue;let[cs,_s]=dn(Jn.decode?as.replace(/\+/g," "):as,"=");_s=_s===void 0?null:["comma","separator","bracket-separator"].includes(Jn.arrayFormat)?_s:Ln(_s,Jn),rs(Ln(cs,Jn),_s,us)}for(const as of Object.keys(us)){const cs=us[as];if(typeof cs=="object"&&cs!==null)for(const _s of Object.keys(cs))cs[_s]=qn(cs[_s],Jn);else us[as]=qn(cs,Jn)}return Jn.sort===!1?us:(Jn.sort===!0?Object.keys(us).sort():Object.keys(us).sort(Jn.sort)).reduce((as,cs)=>{const _s=us[cs];return _s&&typeof _s=="object"&&!Array.isArray(_s)?as[cs]=Fn(_s):as[cs]=_s,as},Object.create(null))}sn.extract=Kn,sn.parse=Zn,sn.stringify=(Yn,Jn)=>{if(!Yn)return"";Jn=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},Jn),Pn(Jn.arrayFormatSeparator);const rs=_s=>Jn.skipNull&&vn(Yn[_s])||Jn.skipEmptyString&&Yn[_s]==="",us=En(Jn),as={};for(const _s of Object.keys(Yn))rs(_s)||(as[_s]=Yn[_s]);const cs=Object.keys(as);return Jn.sort!==!1&&cs.sort(Jn.sort),cs.map(_s=>{const Es=Yn[_s];return Es===void 0?"":Es===null?Rn(_s,Jn):Array.isArray(Es)?Es.length===0&&Jn.arrayFormat==="bracket-separator"?Rn(_s,Jn)+"[]":Es.reduce(us(_s),[]).join("&"):Rn(_s,Jn)+"="+Rn(Es,Jn)}).filter(_s=>_s.length>0).join("&")},sn.parseUrl=(Yn,Jn)=>{Jn=Object.assign({decode:!0},Jn);const[rs,us]=dn(Yn,"#");return Object.assign({url:rs.split("?")[0]||"",query:Zn(Kn(Yn),Jn)},Jn&&Jn.parseFragmentIdentifier&&us?{fragmentIdentifier:Ln(us,Jn)}:{})},sn.stringifyUrl=(Yn,Jn)=>{Jn=Object.assign({encode:!0,strict:!0,[Sn]:!0},Jn);const rs=Gn(Yn.url).split("?")[0]||"",us=sn.extract(Yn.url),as=sn.parse(us,{sort:!1}),cs=Object.assign(as,Yn.query);let _s=sn.stringify(cs,Jn);_s&&(_s=`?${_s}`);let Es=Dn(Yn.url);return Yn.fragmentIdentifier&&(Es=`#${Jn[Sn]?Rn(Yn.fragmentIdentifier,Jn):Yn.fragmentIdentifier}`),`${rs}${_s}${Es}`},sn.pick=(Yn,Jn,rs)=>{rs=Object.assign({parseFragmentIdentifier:!0,[Sn]:!1},rs);const{url:us,query:as,fragmentIdentifier:cs}=sn.parseUrl(Yn,rs);return sn.stringifyUrl({url:us,query:pn(as,Jn),fragmentIdentifier:cs},rs)},sn.exclude=(Yn,Jn,rs)=>{const us=Array.isArray(Jn)?as=>!Jn.includes(as):(as,cs)=>!Jn(as,cs);return sn.pick(Yn,us,rs)}})(queryString$1);const queryString=getDefaultExportFromCjs(queryString$1);var ReactReduxContext=gS.createContext(null);function defaultNoopBatch(sn){sn()}var batch=defaultNoopBatch,setBatch=function(ln){return batch=ln},getBatch=function(){return batch};function createListenerCollection(){var sn=getBatch(),ln=null,cn=null;return{clear:function(){ln=null,cn=null},notify:function(){sn(function(){for(var pn=ln;pn;)pn.callback(),pn=pn.next})},get:function(){for(var pn=[],vn=ln;vn;)pn.push(vn),vn=vn.next;return pn},subscribe:function(pn){var vn=!0,Sn=cn={callback:pn,next:null,prev:cn};return Sn.prev?Sn.prev.next=Sn:ln=Sn,function(){!vn||ln===null||(vn=!1,Sn.next?Sn.next.prev=Sn.prev:cn=Sn.prev,Sn.prev?Sn.prev.next=Sn.next:ln=Sn.next)}}}}var nullListeners={notify:function(){},get:function(){return[]}};function createSubscription(sn,ln){var cn,dn=nullListeners;function pn(Ln){return Cn(),dn.subscribe(Ln)}function vn(){dn.notify()}function Sn(){Rn.onStateChange&&Rn.onStateChange()}function En(){return!!cn}function Cn(){cn||(cn=ln?ln.addNestedSub(Sn):sn.subscribe(Sn),dn=createListenerCollection())}function Pn(){cn&&(cn(),cn=void 0,dn.clear(),dn=nullListeners)}var Rn={addNestedSub:pn,notifyNestedSubs:vn,handleChangeWrapper:Sn,isSubscribed:En,trySubscribe:Cn,tryUnsubscribe:Pn,getListeners:function(){return dn}};return Rn}var useIsomorphicLayoutEffect=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function Provider(sn){var ln=sn.store,cn=sn.context,dn=sn.children,pn=reactExports.useMemo(function(){var En=createSubscription(ln);return{store:ln,subscription:En}},[ln]),vn=reactExports.useMemo(function(){return ln.getState()},[ln]);useIsomorphicLayoutEffect(function(){var En=pn.subscription;return En.onStateChange=En.notifyNestedSubs,En.trySubscribe(),vn!==ln.getState()&&En.notifyNestedSubs(),function(){En.tryUnsubscribe(),En.onStateChange=null}},[pn,vn]);var Sn=cn||ReactReduxContext;return jsx$1(Sn.Provider,{value:pn,children:dn})}var reactIs_production_min={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$9=60103,c$9=60106,d$a=60107,e$1=60108,f$4=60114,g$6=60109,h$7=60110,k$7=60112,l$5=60113,m$7=60120,n$6=60115,p$4=60116,q$8=60121,r$3=60122,u$7=60117,v$7=60129,w$8=60131;if(typeof Symbol=="function"&&Symbol.for){var x$a=Symbol.for;b$9=x$a("react.element"),c$9=x$a("react.portal"),d$a=x$a("react.fragment"),e$1=x$a("react.strict_mode"),f$4=x$a("react.profiler"),g$6=x$a("react.provider"),h$7=x$a("react.context"),k$7=x$a("react.forward_ref"),l$5=x$a("react.suspense"),m$7=x$a("react.suspense_list"),n$6=x$a("react.memo"),p$4=x$a("react.lazy"),q$8=x$a("react.block"),r$3=x$a("react.server.block"),u$7=x$a("react.fundamental"),v$7=x$a("react.debug_trace_mode"),w$8=x$a("react.legacy_hidden")}function y$7(sn){if(typeof sn=="object"&&sn!==null){var ln=sn.$$typeof;switch(ln){case b$9:switch(sn=sn.type,sn){case d$a:case f$4:case e$1:case l$5:case m$7:return sn;default:switch(sn=sn&&sn.$$typeof,sn){case h$7:case k$7:case p$4:case n$6:case g$6:return sn;default:return ln}}case c$9:return ln}}}var z$6=g$6,A$6=b$9,B$7=k$7,C$6=d$a,D$6=p$4,E$9=n$6,F$a=c$9,G$8=f$4,H$9=e$1,I$9=l$5;reactIs_production_min.ContextConsumer=h$7;reactIs_production_min.ContextProvider=z$6;reactIs_production_min.Element=A$6;reactIs_production_min.ForwardRef=B$7;reactIs_production_min.Fragment=C$6;reactIs_production_min.Lazy=D$6;reactIs_production_min.Memo=E$9;reactIs_production_min.Portal=F$a;reactIs_production_min.Profiler=G$8;reactIs_production_min.StrictMode=H$9;reactIs_production_min.Suspense=I$9;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(sn){return y$7(sn)===h$7};reactIs_production_min.isContextProvider=function(sn){return y$7(sn)===g$6};reactIs_production_min.isElement=function(sn){return typeof sn=="object"&&sn!==null&&sn.$$typeof===b$9};reactIs_production_min.isForwardRef=function(sn){return y$7(sn)===k$7};reactIs_production_min.isFragment=function(sn){return y$7(sn)===d$a};reactIs_production_min.isLazy=function(sn){return y$7(sn)===p$4};reactIs_production_min.isMemo=function(sn){return y$7(sn)===n$6};reactIs_production_min.isPortal=function(sn){return y$7(sn)===c$9};reactIs_production_min.isProfiler=function(sn){return y$7(sn)===f$4};reactIs_production_min.isStrictMode=function(sn){return y$7(sn)===e$1};reactIs_production_min.isSuspense=function(sn){return y$7(sn)===l$5};reactIs_production_min.isValidElementType=function(sn){return typeof sn=="string"||typeof sn=="function"||sn===d$a||sn===f$4||sn===v$7||sn===e$1||sn===l$5||sn===m$7||sn===w$8||typeof sn=="object"&&sn!==null&&(sn.$$typeof===p$4||sn.$$typeof===n$6||sn.$$typeof===g$6||sn.$$typeof===h$7||sn.$$typeof===k$7||sn.$$typeof===u$7||sn.$$typeof===q$8||sn[0]===r$3)};reactIs_production_min.typeOf=y$7;function useReduxContext(){var sn=reactExports.useContext(ReactReduxContext);return sn}function createStoreHook(sn){sn===void 0&&(sn=ReactReduxContext);var ln=sn===ReactReduxContext?useReduxContext:function(){return reactExports.useContext(sn)};return function(){var dn=ln(),pn=dn.store;return pn}}var useStore=createStoreHook();function createDispatchHook(sn){sn===void 0&&(sn=ReactReduxContext);var ln=sn===ReactReduxContext?useStore:createStoreHook(sn);return function(){var dn=ln();return dn.dispatch}}var useDispatch=createDispatchHook(),refEquality=function(ln,cn){return ln===cn};function useSelectorWithStoreAndSubscription(sn,ln,cn,dn){var pn=reactExports.useReducer(function(Dn){return Dn+1},0),vn=pn[1],Sn=reactExports.useMemo(function(){return createSubscription(cn,dn)},[cn,dn]),En=reactExports.useRef(),Cn=reactExports.useRef(),Pn=reactExports.useRef(),Rn=reactExports.useRef(),Ln=cn.getState(),Fn;try{if(sn!==Cn.current||Ln!==Pn.current||En.current){var Gn=sn(Ln);Rn.current===void 0||!ln(Gn,Rn.current)?Fn=Gn:Fn=Rn.current}else Fn=Rn.current}catch(Dn){throw En.current&&(Dn.message+=`
The error may be correlated with this previous error:
`+En.current.stack+`

`),Dn}return useIsomorphicLayoutEffect(function(){Cn.current=sn,Pn.current=Ln,Rn.current=Fn,En.current=void 0}),useIsomorphicLayoutEffect(function(){function Dn(){try{var Kn=cn.getState();if(Kn===Pn.current)return;var qn=Cn.current(Kn);if(ln(qn,Rn.current))return;Rn.current=qn,Pn.current=Kn}catch(Zn){En.current=Zn}vn()}return Sn.onStateChange=Dn,Sn.trySubscribe(),Dn(),function(){return Sn.tryUnsubscribe()}},[cn,Sn]),Fn}function createSelectorHook(sn){sn===void 0&&(sn=ReactReduxContext);var ln=sn===ReactReduxContext?useReduxContext:function(){return reactExports.useContext(sn)};return function(dn,pn){pn===void 0&&(pn=refEquality);var vn=ln(),Sn=vn.store,En=vn.subscription,Cn=useSelectorWithStoreAndSubscription(dn,pn,Sn,En);return reactExports.useDebugValue(Cn),Cn}}var useSelector=createSelectorHook();setBatch(reactDomExports.unstable_batchedUpdates);const useAppDispatch=()=>useDispatch(),useAppSelector=useSelector,tabletSize=769,laptopSize=1025,desktopSize=1366,queries={tablet:`(min-width: ${tabletSize}px)`,laptop:`(min-width: ${laptopSize}px)`,desktop:`(min-width: ${desktopSize}px)`},mediaQueries={tablet:`@media  ${queries.tablet}`,laptop:`@media  ${queries.laptop}`,desktop:`@media ${queries.desktop} `},PC_REACTIVE_MEDIA_QUERY=mediaQueries.laptop;function useScreen(){const sn=useMedia$1(queries.tablet),ln=useMedia$1(queries.laptop),cn=useMedia$1(queries.desktop);return{isTablet:sn,isLaptop:ln,isDesktop:cn}}function n$5(sn){for(var ln=arguments.length,cn=Array(ln>1?ln-1:0),dn=1;dn<ln;dn++)cn[dn-1]=arguments[dn];throw Error("[Immer] minified error nr: "+sn+(cn.length?" "+cn.map(function(pn){return"'"+pn+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r$2(sn){return!!sn&&!!sn[Q$7]}function t$3(sn){var ln;return!!sn&&(function(cn){if(!cn||typeof cn!="object")return!1;var dn=Object.getPrototypeOf(cn);if(dn===null)return!0;var pn=Object.hasOwnProperty.call(dn,"constructor")&&dn.constructor;return pn===Object||typeof pn=="function"&&Function.toString.call(pn)===Z$5}(sn)||Array.isArray(sn)||!!sn[L$8]||!!(!((ln=sn.constructor)===null||ln===void 0)&&ln[L$8])||s$7(sn)||v$6(sn))}function i$a(sn,ln,cn){cn===void 0&&(cn=!1),o$6(sn)===0?(cn?Object.keys:nn$1)(sn).forEach(function(dn){cn&&typeof dn=="symbol"||ln(dn,sn[dn],sn)}):sn.forEach(function(dn,pn){return ln(pn,dn,sn)})}function o$6(sn){var ln=sn[Q$7];return ln?ln.i>3?ln.i-4:ln.i:Array.isArray(sn)?1:s$7(sn)?2:v$6(sn)?3:0}function u$6(sn,ln){return o$6(sn)===2?sn.has(ln):Object.prototype.hasOwnProperty.call(sn,ln)}function a$7(sn,ln){return o$6(sn)===2?sn.get(ln):sn[ln]}function f$3(sn,ln,cn){var dn=o$6(sn);dn===2?sn.set(ln,cn):dn===3?sn.add(cn):sn[ln]=cn}function c$8(sn,ln){return sn===ln?sn!==0||1/sn==1/ln:sn!=sn&&ln!=ln}function s$7(sn){return X$4&&sn instanceof Map}function v$6(sn){return q$7&&sn instanceof Set}function p$3(sn){return sn.o||sn.t}function l$4(sn){if(Array.isArray(sn))return Array.prototype.slice.call(sn);var ln=rn$1(sn);delete ln[Q$7];for(var cn=nn$1(ln),dn=0;dn<cn.length;dn++){var pn=cn[dn],vn=ln[pn];vn.writable===!1&&(vn.writable=!0,vn.configurable=!0),(vn.get||vn.set)&&(ln[pn]={configurable:!0,writable:!0,enumerable:vn.enumerable,value:sn[pn]})}return Object.create(Object.getPrototypeOf(sn),ln)}function d$9(sn,ln){return ln===void 0&&(ln=!1),y$6(sn)||r$2(sn)||!t$3(sn)||(o$6(sn)>1&&(sn.set=sn.add=sn.clear=sn.delete=h$6),Object.freeze(sn),ln&&i$a(sn,function(cn,dn){return d$9(dn,!0)},!0)),sn}function h$6(){n$5(2)}function y$6(sn){return sn==null||typeof sn!="object"||Object.isFrozen(sn)}function b$8(sn){var ln=tn[sn];return ln||n$5(18,sn),ln}function m$6(sn,ln){tn[sn]||(tn[sn]=ln)}function _$6(){return U$8}function j$7(sn,ln){ln&&(b$8("Patches"),sn.u=[],sn.s=[],sn.v=ln)}function g$5(sn){O$8(sn),sn.p.forEach(S$7),sn.p=null}function O$8(sn){sn===U$8&&(U$8=sn.l)}function w$7(sn){return U$8={p:[],l:U$8,h:sn,m:!0,_:0}}function S$7(sn){var ln=sn[Q$7];ln.i===0||ln.i===1?ln.j():ln.g=!0}function P$4(sn,ln){ln._=ln.p.length;var cn=ln.p[0],dn=sn!==void 0&&sn!==cn;return ln.h.O||b$8("ES5").S(ln,sn,dn),dn?(cn[Q$7].P&&(g$5(ln),n$5(4)),t$3(sn)&&(sn=M$7(ln,sn),ln.l||x$9(ln,sn)),ln.u&&b$8("Patches").M(cn[Q$7].t,sn,ln.u,ln.s)):sn=M$7(ln,cn,[]),g$5(ln),ln.u&&ln.v(ln.u,ln.s),sn!==H$8?sn:void 0}function M$7(sn,ln,cn){if(y$6(ln))return ln;var dn=ln[Q$7];if(!dn)return i$a(ln,function(En,Cn){return A$5(sn,dn,ln,En,Cn,cn)},!0),ln;if(dn.A!==sn)return ln;if(!dn.P)return x$9(sn,dn.t,!0),dn.t;if(!dn.I){dn.I=!0,dn.A._--;var pn=dn.i===4||dn.i===5?dn.o=l$4(dn.k):dn.o,vn=pn,Sn=!1;dn.i===3&&(vn=new Set(pn),pn.clear(),Sn=!0),i$a(vn,function(En,Cn){return A$5(sn,dn,pn,En,Cn,cn,Sn)}),x$9(sn,pn,!1),cn&&sn.u&&b$8("Patches").N(dn,cn,sn.u,sn.s)}return dn.o}function A$5(sn,ln,cn,dn,pn,vn,Sn){if(r$2(pn)){var En=M$7(sn,pn,vn&&ln&&ln.i!==3&&!u$6(ln.R,dn)?vn.concat(dn):void 0);if(f$3(cn,dn,En),!r$2(En))return;sn.m=!1}else Sn&&cn.add(pn);if(t$3(pn)&&!y$6(pn)){if(!sn.h.D&&sn._<1)return;M$7(sn,pn),ln&&ln.A.l||x$9(sn,pn)}}function x$9(sn,ln,cn){cn===void 0&&(cn=!1),!sn.l&&sn.h.D&&sn.m&&d$9(ln,cn)}function z$5(sn,ln){var cn=sn[Q$7];return(cn?p$3(cn):sn)[ln]}function I$8(sn,ln){if(ln in sn)for(var cn=Object.getPrototypeOf(sn);cn;){var dn=Object.getOwnPropertyDescriptor(cn,ln);if(dn)return dn;cn=Object.getPrototypeOf(cn)}}function k$6(sn){sn.P||(sn.P=!0,sn.l&&k$6(sn.l))}function E$8(sn){sn.o||(sn.o=l$4(sn.t))}function N$a(sn,ln,cn){var dn=s$7(ln)?b$8("MapSet").F(ln,cn):v$6(ln)?b$8("MapSet").T(ln,cn):sn.O?function(pn,vn){var Sn=Array.isArray(pn),En={i:Sn?1:0,A:vn?vn.A:_$6(),P:!1,I:!1,R:{},l:vn,t:pn,k:null,o:null,j:null,C:!1},Cn=En,Pn=en;Sn&&(Cn=[En],Pn=on$1);var Rn=Proxy.revocable(Cn,Pn),Ln=Rn.revoke,Fn=Rn.proxy;return En.k=Fn,En.j=Ln,Fn}(ln,cn):b$8("ES5").J(ln,cn);return(cn?cn.A:_$6()).p.push(dn),dn}function R$8(sn){return r$2(sn)||n$5(22,sn),function ln(cn){if(!t$3(cn))return cn;var dn,pn=cn[Q$7],vn=o$6(cn);if(pn){if(!pn.P&&(pn.i<4||!b$8("ES5").K(pn)))return pn.t;pn.I=!0,dn=D$5(cn,vn),pn.I=!1}else dn=D$5(cn,vn);return i$a(dn,function(Sn,En){pn&&a$7(pn.t,Sn)===En||f$3(dn,Sn,ln(En))}),vn===3?new Set(dn):dn}(sn)}function D$5(sn,ln){switch(ln){case 2:return new Map(sn);case 3:return Array.from(sn)}return l$4(sn)}function F$9(){function sn(vn,Sn){var En=pn[vn];return En?En.enumerable=Sn:pn[vn]=En={configurable:!0,enumerable:Sn,get:function(){var Cn=this[Q$7];return en.get(Cn,vn)},set:function(Cn){var Pn=this[Q$7];en.set(Pn,vn,Cn)}},En}function ln(vn){for(var Sn=vn.length-1;Sn>=0;Sn--){var En=vn[Sn][Q$7];if(!En.P)switch(En.i){case 5:dn(En)&&k$6(En);break;case 4:cn(En)&&k$6(En)}}}function cn(vn){for(var Sn=vn.t,En=vn.k,Cn=nn$1(En),Pn=Cn.length-1;Pn>=0;Pn--){var Rn=Cn[Pn];if(Rn!==Q$7){var Ln=Sn[Rn];if(Ln===void 0&&!u$6(Sn,Rn))return!0;var Fn=En[Rn],Gn=Fn&&Fn[Q$7];if(Gn?Gn.t!==Ln:!c$8(Fn,Ln))return!0}}var Dn=!!Sn[Q$7];return Cn.length!==nn$1(Sn).length+(Dn?0:1)}function dn(vn){var Sn=vn.k;if(Sn.length!==vn.t.length)return!0;var En=Object.getOwnPropertyDescriptor(Sn,Sn.length-1);if(En&&!En.get)return!0;for(var Cn=0;Cn<Sn.length;Cn++)if(!Sn.hasOwnProperty(Cn))return!0;return!1}var pn={};m$6("ES5",{J:function(vn,Sn){var En=Array.isArray(vn),Cn=function(Rn,Ln){if(Rn){for(var Fn=Array(Ln.length),Gn=0;Gn<Ln.length;Gn++)Object.defineProperty(Fn,""+Gn,sn(Gn,!0));return Fn}var Dn=rn$1(Ln);delete Dn[Q$7];for(var Kn=nn$1(Dn),qn=0;qn<Kn.length;qn++){var Zn=Kn[qn];Dn[Zn]=sn(Zn,Rn||!!Dn[Zn].enumerable)}return Object.create(Object.getPrototypeOf(Ln),Dn)}(En,vn),Pn={i:En?5:4,A:Sn?Sn.A:_$6(),P:!1,I:!1,R:{},l:Sn,t:vn,k:Cn,o:null,g:!1,C:!1};return Object.defineProperty(Cn,Q$7,{value:Pn,writable:!0}),Cn},S:function(vn,Sn,En){En?r$2(Sn)&&Sn[Q$7].A===vn&&ln(vn.p):(vn.u&&function Cn(Pn){if(Pn&&typeof Pn=="object"){var Rn=Pn[Q$7];if(Rn){var Ln=Rn.t,Fn=Rn.k,Gn=Rn.R,Dn=Rn.i;if(Dn===4)i$a(Fn,function(Jn){Jn!==Q$7&&(Ln[Jn]!==void 0||u$6(Ln,Jn)?Gn[Jn]||Cn(Fn[Jn]):(Gn[Jn]=!0,k$6(Rn)))}),i$a(Ln,function(Jn){Fn[Jn]!==void 0||u$6(Fn,Jn)||(Gn[Jn]=!1,k$6(Rn))});else if(Dn===5){if(dn(Rn)&&(k$6(Rn),Gn.length=!0),Fn.length<Ln.length)for(var Kn=Fn.length;Kn<Ln.length;Kn++)Gn[Kn]=!1;else for(var qn=Ln.length;qn<Fn.length;qn++)Gn[qn]=!0;for(var Zn=Math.min(Fn.length,Ln.length),Yn=0;Yn<Zn;Yn++)Fn.hasOwnProperty(Yn)||(Gn[Yn]=!0),Gn[Yn]===void 0&&Cn(Fn[Yn])}}}}(vn.p[0]),ln(vn.p))},K:function(vn){return vn.i===4?cn(vn):dn(vn)}})}var G$7,U$8,W$7=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",X$4=typeof Map<"u",q$7=typeof Set<"u",B$6=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",H$8=W$7?Symbol.for("immer-nothing"):((G$7={})["immer-nothing"]=!0,G$7),L$8=W$7?Symbol.for("immer-draftable"):"__$immer_draftable",Q$7=W$7?Symbol.for("immer-state"):"__$immer_state",Z$5=""+Object.prototype.constructor,nn$1=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(sn){return Object.getOwnPropertyNames(sn).concat(Object.getOwnPropertySymbols(sn))}:Object.getOwnPropertyNames,rn$1=Object.getOwnPropertyDescriptors||function(sn){var ln={};return nn$1(sn).forEach(function(cn){ln[cn]=Object.getOwnPropertyDescriptor(sn,cn)}),ln},tn={},en={get:function(sn,ln){if(ln===Q$7)return sn;var cn=p$3(sn);if(!u$6(cn,ln))return function(pn,vn,Sn){var En,Cn=I$8(vn,Sn);return Cn?"value"in Cn?Cn.value:(En=Cn.get)===null||En===void 0?void 0:En.call(pn.k):void 0}(sn,cn,ln);var dn=cn[ln];return sn.I||!t$3(dn)?dn:dn===z$5(sn.t,ln)?(E$8(sn),sn.o[ln]=N$a(sn.A.h,dn,sn)):dn},has:function(sn,ln){return ln in p$3(sn)},ownKeys:function(sn){return Reflect.ownKeys(p$3(sn))},set:function(sn,ln,cn){var dn=I$8(p$3(sn),ln);if(dn!=null&&dn.set)return dn.set.call(sn.k,cn),!0;if(!sn.P){var pn=z$5(p$3(sn),ln),vn=pn==null?void 0:pn[Q$7];if(vn&&vn.t===cn)return sn.o[ln]=cn,sn.R[ln]=!1,!0;if(c$8(cn,pn)&&(cn!==void 0||u$6(sn.t,ln)))return!0;E$8(sn),k$6(sn)}return sn.o[ln]===cn&&(cn!==void 0||ln in sn.o)||Number.isNaN(cn)&&Number.isNaN(sn.o[ln])||(sn.o[ln]=cn,sn.R[ln]=!0),!0},deleteProperty:function(sn,ln){return z$5(sn.t,ln)!==void 0||ln in sn.t?(sn.R[ln]=!1,E$8(sn),k$6(sn)):delete sn.R[ln],sn.o&&delete sn.o[ln],!0},getOwnPropertyDescriptor:function(sn,ln){var cn=p$3(sn),dn=Reflect.getOwnPropertyDescriptor(cn,ln);return dn&&{writable:!0,configurable:sn.i!==1||ln!=="length",enumerable:dn.enumerable,value:cn[ln]}},defineProperty:function(){n$5(11)},getPrototypeOf:function(sn){return Object.getPrototypeOf(sn.t)},setPrototypeOf:function(){n$5(12)}},on$1={};i$a(en,function(sn,ln){on$1[sn]=function(){return arguments[0]=arguments[0][0],ln.apply(this,arguments)}}),on$1.deleteProperty=function(sn,ln){return on$1.set.call(this,sn,ln,void 0)},on$1.set=function(sn,ln,cn){return en.set.call(this,sn[0],ln,cn,sn[0])};var un$1=function(){function sn(cn){var dn=this;this.O=B$6,this.D=!0,this.produce=function(pn,vn,Sn){if(typeof pn=="function"&&typeof vn!="function"){var En=vn;vn=pn;var Cn=dn;return function(Kn){var qn=this;Kn===void 0&&(Kn=En);for(var Zn=arguments.length,Yn=Array(Zn>1?Zn-1:0),Jn=1;Jn<Zn;Jn++)Yn[Jn-1]=arguments[Jn];return Cn.produce(Kn,function(rs){var us;return(us=vn).call.apply(us,[qn,rs].concat(Yn))})}}var Pn;if(typeof vn!="function"&&n$5(6),Sn!==void 0&&typeof Sn!="function"&&n$5(7),t$3(pn)){var Rn=w$7(dn),Ln=N$a(dn,pn,void 0),Fn=!0;try{Pn=vn(Ln),Fn=!1}finally{Fn?g$5(Rn):O$8(Rn)}return typeof Promise<"u"&&Pn instanceof Promise?Pn.then(function(Kn){return j$7(Rn,Sn),P$4(Kn,Rn)},function(Kn){throw g$5(Rn),Kn}):(j$7(Rn,Sn),P$4(Pn,Rn))}if(!pn||typeof pn!="object"){if((Pn=vn(pn))===void 0&&(Pn=pn),Pn===H$8&&(Pn=void 0),dn.D&&d$9(Pn,!0),Sn){var Gn=[],Dn=[];b$8("Patches").M(pn,Pn,Gn,Dn),Sn(Gn,Dn)}return Pn}n$5(21,pn)},this.produceWithPatches=function(pn,vn){if(typeof pn=="function")return function(Pn){for(var Rn=arguments.length,Ln=Array(Rn>1?Rn-1:0),Fn=1;Fn<Rn;Fn++)Ln[Fn-1]=arguments[Fn];return dn.produceWithPatches(Pn,function(Gn){return pn.apply(void 0,[Gn].concat(Ln))})};var Sn,En,Cn=dn.produce(pn,vn,function(Pn,Rn){Sn=Pn,En=Rn});return typeof Promise<"u"&&Cn instanceof Promise?Cn.then(function(Pn){return[Pn,Sn,En]}):[Cn,Sn,En]},typeof(cn==null?void 0:cn.useProxies)=="boolean"&&this.setUseProxies(cn.useProxies),typeof(cn==null?void 0:cn.autoFreeze)=="boolean"&&this.setAutoFreeze(cn.autoFreeze)}var ln=sn.prototype;return ln.createDraft=function(cn){t$3(cn)||n$5(8),r$2(cn)&&(cn=R$8(cn));var dn=w$7(this),pn=N$a(this,cn,void 0);return pn[Q$7].C=!0,O$8(dn),pn},ln.finishDraft=function(cn,dn){var pn=cn&&cn[Q$7],vn=pn.A;return j$7(vn,dn),P$4(void 0,vn)},ln.setAutoFreeze=function(cn){this.D=cn},ln.setUseProxies=function(cn){cn&&!B$6&&n$5(20),this.O=cn},ln.applyPatches=function(cn,dn){var pn;for(pn=dn.length-1;pn>=0;pn--){var vn=dn[pn];if(vn.path.length===0&&vn.op==="replace"){cn=vn.value;break}}pn>-1&&(dn=dn.slice(pn+1));var Sn=b$8("Patches").$;return r$2(cn)?Sn(cn,dn):this.produce(cn,function(En){return Sn(En,dn)})},sn}(),an=new un$1,fn=an.produce;an.produceWithPatches.bind(an);an.setAutoFreeze.bind(an);an.setUseProxies.bind(an);an.applyPatches.bind(an);an.createDraft.bind(an);an.finishDraft.bind(an);const produce=fn;function _typeof(sn){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ln){return typeof ln}:function(ln){return ln&&typeof Symbol=="function"&&ln.constructor===Symbol&&ln!==Symbol.prototype?"symbol":typeof ln},_typeof(sn)}function _toPrimitive(sn,ln){if(_typeof(sn)!=="object"||sn===null)return sn;var cn=sn[Symbol.toPrimitive];if(cn!==void 0){var dn=cn.call(sn,ln||"default");if(_typeof(dn)!=="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ln==="string"?String:Number)(sn)}function _toPropertyKey(sn){var ln=_toPrimitive(sn,"string");return _typeof(ln)==="symbol"?ln:String(ln)}function _defineProperty$2(sn,ln,cn){return ln=_toPropertyKey(ln),ln in sn?Object.defineProperty(sn,ln,{value:cn,enumerable:!0,configurable:!0,writable:!0}):sn[ln]=cn,sn}function ownKeys$4(sn,ln){var cn=Object.keys(sn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(sn);ln&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(sn,pn).enumerable})),cn.push.apply(cn,dn)}return cn}function _objectSpread2$1(sn){for(var ln=1;ln<arguments.length;ln++){var cn=arguments[ln]!=null?arguments[ln]:{};ln%2?ownKeys$4(Object(cn),!0).forEach(function(dn){_defineProperty$2(sn,dn,cn[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(sn,Object.getOwnPropertyDescriptors(cn)):ownKeys$4(Object(cn)).forEach(function(dn){Object.defineProperty(sn,dn,Object.getOwnPropertyDescriptor(cn,dn))})}return sn}function formatProdErrorMessage(sn){return"Minified Redux error #"+sn+"; visit https://redux.js.org/Errors?code="+sn+" for the full message or use the non-minified dev environment for full errors. "}var $$observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),randomString=function(){return Math.random().toString(36).substring(7).split("").join(".")},ActionTypes={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function isPlainObject$2(sn){if(typeof sn!="object"||sn===null)return!1;for(var ln=sn;Object.getPrototypeOf(ln)!==null;)ln=Object.getPrototypeOf(ln);return Object.getPrototypeOf(sn)===ln}function createStore(sn,ln,cn){var dn;if(typeof ln=="function"&&typeof cn=="function"||typeof cn=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage(0));if(typeof ln=="function"&&typeof cn>"u"&&(cn=ln,ln=void 0),typeof cn<"u"){if(typeof cn!="function")throw new Error(formatProdErrorMessage(1));return cn(createStore)(sn,ln)}if(typeof sn!="function")throw new Error(formatProdErrorMessage(2));var pn=sn,vn=ln,Sn=[],En=Sn,Cn=!1;function Pn(){En===Sn&&(En=Sn.slice())}function Rn(){if(Cn)throw new Error(formatProdErrorMessage(3));return vn}function Ln(Kn){if(typeof Kn!="function")throw new Error(formatProdErrorMessage(4));if(Cn)throw new Error(formatProdErrorMessage(5));var qn=!0;return Pn(),En.push(Kn),function(){if(qn){if(Cn)throw new Error(formatProdErrorMessage(6));qn=!1,Pn();var Yn=En.indexOf(Kn);En.splice(Yn,1),Sn=null}}}function Fn(Kn){if(!isPlainObject$2(Kn))throw new Error(formatProdErrorMessage(7));if(typeof Kn.type>"u")throw new Error(formatProdErrorMessage(8));if(Cn)throw new Error(formatProdErrorMessage(9));try{Cn=!0,vn=pn(vn,Kn)}finally{Cn=!1}for(var qn=Sn=En,Zn=0;Zn<qn.length;Zn++){var Yn=qn[Zn];Yn()}return Kn}function Gn(Kn){if(typeof Kn!="function")throw new Error(formatProdErrorMessage(10));pn=Kn,Fn({type:ActionTypes.REPLACE})}function Dn(){var Kn,qn=Ln;return Kn={subscribe:function(Yn){if(typeof Yn!="object"||Yn===null)throw new Error(formatProdErrorMessage(11));function Jn(){Yn.next&&Yn.next(Rn())}Jn();var rs=qn(Jn);return{unsubscribe:rs}}},Kn[$$observable]=function(){return this},Kn}return Fn({type:ActionTypes.INIT}),dn={dispatch:Fn,subscribe:Ln,getState:Rn,replaceReducer:Gn},dn[$$observable]=Dn,dn}function assertReducerShape(sn){Object.keys(sn).forEach(function(ln){var cn=sn[ln],dn=cn(void 0,{type:ActionTypes.INIT});if(typeof dn>"u")throw new Error(formatProdErrorMessage(12));if(typeof cn(void 0,{type:ActionTypes.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage(13))})}function combineReducers(sn){for(var ln=Object.keys(sn),cn={},dn=0;dn<ln.length;dn++){var pn=ln[dn];typeof sn[pn]=="function"&&(cn[pn]=sn[pn])}var vn=Object.keys(cn),Sn;try{assertReducerShape(cn)}catch(En){Sn=En}return function(Cn,Pn){if(Cn===void 0&&(Cn={}),Sn)throw Sn;for(var Rn=!1,Ln={},Fn=0;Fn<vn.length;Fn++){var Gn=vn[Fn],Dn=cn[Gn],Kn=Cn[Gn],qn=Dn(Kn,Pn);if(typeof qn>"u")throw Pn&&Pn.type,new Error(formatProdErrorMessage(14));Ln[Gn]=qn,Rn=Rn||qn!==Kn}return Rn=Rn||vn.length!==Object.keys(Cn).length,Rn?Ln:Cn}}function compose(){for(var sn=arguments.length,ln=new Array(sn),cn=0;cn<sn;cn++)ln[cn]=arguments[cn];return ln.length===0?function(dn){return dn}:ln.length===1?ln[0]:ln.reduce(function(dn,pn){return function(){return dn(pn.apply(void 0,arguments))}})}function applyMiddleware(){for(var sn=arguments.length,ln=new Array(sn),cn=0;cn<sn;cn++)ln[cn]=arguments[cn];return function(dn){return function(){var pn=dn.apply(void 0,arguments),vn=function(){throw new Error(formatProdErrorMessage(15))},Sn={getState:pn.getState,dispatch:function(){return vn.apply(void 0,arguments)}},En=ln.map(function(Cn){return Cn(Sn)});return vn=compose.apply(void 0,En)(pn.dispatch),_objectSpread2$1(_objectSpread2$1({},pn),{},{dispatch:vn})}}}function createThunkMiddleware(sn){var ln=function(dn){var pn=dn.dispatch,vn=dn.getState;return function(Sn){return function(En){return typeof En=="function"?En(pn,vn,sn):Sn(En)}}};return ln}var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware;const thunkMiddleware=thunk;var __extends$2=globalThis&&globalThis.__extends||function(){var sn=function(ln,cn){return sn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(dn,pn){dn.__proto__=pn}||function(dn,pn){for(var vn in pn)Object.prototype.hasOwnProperty.call(pn,vn)&&(dn[vn]=pn[vn])},sn(ln,cn)};return function(ln,cn){if(typeof cn!="function"&&cn!==null)throw new TypeError("Class extends value "+String(cn)+" is not a constructor or null");sn(ln,cn);function dn(){this.constructor=ln}ln.prototype=cn===null?Object.create(cn):(dn.prototype=cn.prototype,new dn)}}(),__generator$1=globalThis&&globalThis.__generator||function(sn,ln){var cn={label:0,sent:function(){if(vn[0]&1)throw vn[1];return vn[1]},trys:[],ops:[]},dn,pn,vn,Sn;return Sn={next:En(0),throw:En(1),return:En(2)},typeof Symbol=="function"&&(Sn[Symbol.iterator]=function(){return this}),Sn;function En(Pn){return function(Rn){return Cn([Pn,Rn])}}function Cn(Pn){if(dn)throw new TypeError("Generator is already executing.");for(;cn;)try{if(dn=1,pn&&(vn=Pn[0]&2?pn.return:Pn[0]?pn.throw||((vn=pn.return)&&vn.call(pn),0):pn.next)&&!(vn=vn.call(pn,Pn[1])).done)return vn;switch(pn=0,vn&&(Pn=[Pn[0]&2,vn.value]),Pn[0]){case 0:case 1:vn=Pn;break;case 4:return cn.label++,{value:Pn[1],done:!1};case 5:cn.label++,pn=Pn[1],Pn=[0];continue;case 7:Pn=cn.ops.pop(),cn.trys.pop();continue;default:if(vn=cn.trys,!(vn=vn.length>0&&vn[vn.length-1])&&(Pn[0]===6||Pn[0]===2)){cn=0;continue}if(Pn[0]===3&&(!vn||Pn[1]>vn[0]&&Pn[1]<vn[3])){cn.label=Pn[1];break}if(Pn[0]===6&&cn.label<vn[1]){cn.label=vn[1],vn=Pn;break}if(vn&&cn.label<vn[2]){cn.label=vn[2],cn.ops.push(Pn);break}vn[2]&&cn.ops.pop(),cn.trys.pop();continue}Pn=ln.call(sn,cn)}catch(Rn){Pn=[6,Rn],pn=0}finally{dn=vn=0}if(Pn[0]&5)throw Pn[1];return{value:Pn[0]?Pn[1]:void 0,done:!0}}},__spreadArray=globalThis&&globalThis.__spreadArray||function(sn,ln){for(var cn=0,dn=ln.length,pn=sn.length;cn<dn;cn++,pn++)sn[pn]=ln[cn];return sn},__defProp$r=Object.defineProperty,__defProps$6=Object.defineProperties,__getOwnPropDescs$6=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$s=Object.getOwnPropertySymbols,__hasOwnProp$s=Object.prototype.hasOwnProperty,__propIsEnum$s=Object.prototype.propertyIsEnumerable,__defNormalProp$r=function(sn,ln,cn){return ln in sn?__defProp$r(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn},__spreadValues$r=function(sn,ln){for(var cn in ln||(ln={}))__hasOwnProp$s.call(ln,cn)&&__defNormalProp$r(sn,cn,ln[cn]);if(__getOwnPropSymbols$s)for(var dn=0,pn=__getOwnPropSymbols$s(ln);dn<pn.length;dn++){var cn=pn[dn];__propIsEnum$s.call(ln,cn)&&__defNormalProp$r(sn,cn,ln[cn])}return sn},__spreadProps$6=function(sn,ln){return __defProps$6(sn,__getOwnPropDescs$6(ln))},__async=function(sn,ln,cn){return new Promise(function(dn,pn){var vn=function(Cn){try{En(cn.next(Cn))}catch(Pn){pn(Pn)}},Sn=function(Cn){try{En(cn.throw(Cn))}catch(Pn){pn(Pn)}},En=function(Cn){return Cn.done?dn(Cn.value):Promise.resolve(Cn.value).then(vn,Sn)};En((cn=cn.apply(sn,ln)).next())})},composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose:compose.apply(null,arguments)};function isPlainObject$1(sn){if(typeof sn!="object"||sn===null)return!1;var ln=Object.getPrototypeOf(sn);if(ln===null)return!0;for(var cn=ln;Object.getPrototypeOf(cn)!==null;)cn=Object.getPrototypeOf(cn);return ln===cn}var MiddlewareArray=function(sn){__extends$2(ln,sn);function ln(){for(var cn=[],dn=0;dn<arguments.length;dn++)cn[dn]=arguments[dn];var pn=sn.apply(this,cn)||this;return Object.setPrototypeOf(pn,ln.prototype),pn}return Object.defineProperty(ln,Symbol.species,{get:function(){return ln},enumerable:!1,configurable:!0}),ln.prototype.concat=function(){for(var cn=[],dn=0;dn<arguments.length;dn++)cn[dn]=arguments[dn];return sn.prototype.concat.apply(this,cn)},ln.prototype.prepend=function(){for(var cn=[],dn=0;dn<arguments.length;dn++)cn[dn]=arguments[dn];return cn.length===1&&Array.isArray(cn[0])?new(ln.bind.apply(ln,__spreadArray([void 0],cn[0].concat(this)))):new(ln.bind.apply(ln,__spreadArray([void 0],cn.concat(this))))},ln}(Array),EnhancerArray=function(sn){__extends$2(ln,sn);function ln(){for(var cn=[],dn=0;dn<arguments.length;dn++)cn[dn]=arguments[dn];var pn=sn.apply(this,cn)||this;return Object.setPrototypeOf(pn,ln.prototype),pn}return Object.defineProperty(ln,Symbol.species,{get:function(){return ln},enumerable:!1,configurable:!0}),ln.prototype.concat=function(){for(var cn=[],dn=0;dn<arguments.length;dn++)cn[dn]=arguments[dn];return sn.prototype.concat.apply(this,cn)},ln.prototype.prepend=function(){for(var cn=[],dn=0;dn<arguments.length;dn++)cn[dn]=arguments[dn];return cn.length===1&&Array.isArray(cn[0])?new(ln.bind.apply(ln,__spreadArray([void 0],cn[0].concat(this)))):new(ln.bind.apply(ln,__spreadArray([void 0],cn.concat(this))))},ln}(Array);function freezeDraftable(sn){return t$3(sn)?produce(sn,function(){}):sn}function isBoolean(sn){return typeof sn=="boolean"}function curryGetDefaultMiddleware(){return function(ln){return getDefaultMiddleware(ln)}}function getDefaultMiddleware(sn){sn===void 0&&(sn={});var ln=sn.thunk,cn=ln===void 0?!0:ln;sn.immutableCheck,sn.serializableCheck;var dn=new MiddlewareArray;return cn&&(isBoolean(cn)?dn.push(thunkMiddleware):dn.push(thunkMiddleware.withExtraArgument(cn.extraArgument))),dn}var IS_PRODUCTION=!0;function configureStore(sn){var ln=curryGetDefaultMiddleware(),cn=sn||{},dn=cn.reducer,pn=dn===void 0?void 0:dn,vn=cn.middleware,Sn=vn===void 0?ln():vn,En=cn.devTools,Cn=En===void 0?!0:En,Pn=cn.preloadedState,Rn=Pn===void 0?void 0:Pn,Ln=cn.enhancers,Fn=Ln===void 0?void 0:Ln,Gn;if(typeof pn=="function")Gn=pn;else if(isPlainObject$1(pn))Gn=combineReducers(pn);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var Dn=Sn;typeof Dn=="function"&&(Dn=Dn(ln));var Kn=applyMiddleware.apply(void 0,Dn),qn=compose;Cn&&(qn=composeWithDevTools(__spreadValues$r({trace:!IS_PRODUCTION},typeof Cn=="object"&&Cn)));var Zn=new EnhancerArray(Kn),Yn=Zn;Array.isArray(Fn)?Yn=__spreadArray([Kn],Fn):typeof Fn=="function"&&(Yn=Fn(Zn));var Jn=qn.apply(void 0,Yn);return createStore(Gn,Rn,Jn)}function createAction(sn,ln){function cn(){for(var dn=[],pn=0;pn<arguments.length;pn++)dn[pn]=arguments[pn];if(ln){var vn=ln.apply(void 0,dn);if(!vn)throw new Error("prepareAction did not return an object");return __spreadValues$r(__spreadValues$r({type:sn,payload:vn.payload},"meta"in vn&&{meta:vn.meta}),"error"in vn&&{error:vn.error})}return{type:sn,payload:dn[0]}}return cn.toString=function(){return""+sn},cn.type=sn,cn.match=function(dn){return dn.type===sn},cn}function executeReducerBuilderCallback(sn){var ln={},cn=[],dn,pn={addCase:function(vn,Sn){var En=typeof vn=="string"?vn:vn.type;if(En in ln)throw new Error("addCase cannot be called with two reducers for the same action type");return ln[En]=Sn,pn},addMatcher:function(vn,Sn){return cn.push({matcher:vn,reducer:Sn}),pn},addDefaultCase:function(vn){return dn=vn,pn}};return sn(pn),[ln,cn,dn]}function isStateFunction(sn){return typeof sn=="function"}function createReducer(sn,ln,cn,dn){cn===void 0&&(cn=[]);var pn=typeof ln=="function"?executeReducerBuilderCallback(ln):[ln,cn,dn],vn=pn[0],Sn=pn[1],En=pn[2],Cn;if(isStateFunction(sn))Cn=function(){return freezeDraftable(sn())};else{var Pn=freezeDraftable(sn);Cn=function(){return Pn}}function Rn(Ln,Fn){Ln===void 0&&(Ln=Cn());var Gn=__spreadArray([vn[Fn.type]],Sn.filter(function(Dn){var Kn=Dn.matcher;return Kn(Fn)}).map(function(Dn){var Kn=Dn.reducer;return Kn}));return Gn.filter(function(Dn){return!!Dn}).length===0&&(Gn=[En]),Gn.reduce(function(Dn,Kn){if(Kn)if(r$2(Dn)){var qn=Dn,Zn=Kn(qn,Fn);return Zn===void 0?Dn:Zn}else{if(t$3(Dn))return produce(Dn,function(Yn){return Kn(Yn,Fn)});var Zn=Kn(Dn,Fn);if(Zn===void 0){if(Dn===null)return Dn;throw Error("A case reducer on a non-draftable value must not return undefined")}return Zn}return Dn},Ln)}return Rn.getInitialState=Cn,Rn}function getType2(sn,ln){return sn+"/"+ln}function createSlice(sn){var ln=sn.name;if(!ln)throw new Error("`name` is a required option for createSlice");typeof process<"u";var cn=typeof sn.initialState=="function"?sn.initialState:freezeDraftable(sn.initialState),dn=sn.reducers||{},pn=Object.keys(dn),vn={},Sn={},En={};pn.forEach(function(Rn){var Ln=dn[Rn],Fn=getType2(ln,Rn),Gn,Dn;"reducer"in Ln?(Gn=Ln.reducer,Dn=Ln.prepare):Gn=Ln,vn[Rn]=Gn,Sn[Fn]=Gn,En[Rn]=Dn?createAction(Fn,Dn):createAction(Fn)});function Cn(){var Rn=typeof sn.extraReducers=="function"?executeReducerBuilderCallback(sn.extraReducers):[sn.extraReducers],Ln=Rn[0],Fn=Ln===void 0?{}:Ln,Gn=Rn[1],Dn=Gn===void 0?[]:Gn,Kn=Rn[2],qn=Kn===void 0?void 0:Kn,Zn=__spreadValues$r(__spreadValues$r({},Fn),Sn);return createReducer(cn,function(Yn){for(var Jn in Zn)Yn.addCase(Jn,Zn[Jn]);for(var rs=0,us=Dn;rs<us.length;rs++){var as=us[rs];Yn.addMatcher(as.matcher,as.reducer)}qn&&Yn.addDefaultCase(qn)})}var Pn;return{name:ln,reducer:function(Rn,Ln){return Pn||(Pn=Cn()),Pn(Rn,Ln)},actions:En,caseReducers:vn,getInitialState:function(){return Pn||(Pn=Cn()),Pn.getInitialState()}}}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=function(sn){sn===void 0&&(sn=21);for(var ln="",cn=sn;cn--;)ln+=urlAlphabet[Math.random()*64|0];return ln},commonProperties=["name","message","stack","code"],RejectWithValue=function(){function sn(ln,cn){this.payload=ln,this.meta=cn}return sn}(),FulfillWithMeta=function(){function sn(ln,cn){this.payload=ln,this.meta=cn}return sn}(),miniSerializeError=function(sn){if(typeof sn=="object"&&sn!==null){for(var ln={},cn=0,dn=commonProperties;cn<dn.length;cn++){var pn=dn[cn];typeof sn[pn]=="string"&&(ln[pn]=sn[pn])}return ln}return{message:String(sn)}};(function(){function sn(ln,cn,dn){var pn=createAction(ln+"/fulfilled",function(Pn,Rn,Ln,Fn){return{payload:Pn,meta:__spreadProps$6(__spreadValues$r({},Fn||{}),{arg:Ln,requestId:Rn,requestStatus:"fulfilled"})}}),vn=createAction(ln+"/pending",function(Pn,Rn,Ln){return{payload:void 0,meta:__spreadProps$6(__spreadValues$r({},Ln||{}),{arg:Rn,requestId:Pn,requestStatus:"pending"})}}),Sn=createAction(ln+"/rejected",function(Pn,Rn,Ln,Fn,Gn){return{payload:Fn,error:(dn&&dn.serializeError||miniSerializeError)(Pn||"Rejected"),meta:__spreadProps$6(__spreadValues$r({},Gn||{}),{arg:Ln,requestId:Rn,rejectedWithValue:!!Fn,requestStatus:"rejected",aborted:(Pn==null?void 0:Pn.name)==="AbortError",condition:(Pn==null?void 0:Pn.name)==="ConditionError"})}}),En=typeof AbortController<"u"?AbortController:function(){function Pn(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return Pn.prototype.abort=function(){},Pn}();function Cn(Pn){return function(Rn,Ln,Fn){var Gn=dn!=null&&dn.idGenerator?dn.idGenerator(Pn):nanoid(),Dn=new En,Kn;function qn(Yn){Kn=Yn,Dn.abort()}var Zn=function(){return __async(this,null,function(){var Yn,Jn,rs,us,as,cs,_s;return __generator$1(this,function(Es){switch(Es.label){case 0:return Es.trys.push([0,4,,5]),us=(Yn=dn==null?void 0:dn.condition)==null?void 0:Yn.call(dn,Pn,{getState:Ln,extra:Fn}),isThenable$1(us)?[4,us]:[3,2];case 1:us=Es.sent(),Es.label=2;case 2:if(us===!1||Dn.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return as=new Promise(function(Qn,ms){return Dn.signal.addEventListener("abort",function(){return ms({name:"AbortError",message:Kn||"Aborted"})})}),Rn(vn(Gn,Pn,(Jn=dn==null?void 0:dn.getPendingMeta)==null?void 0:Jn.call(dn,{requestId:Gn,arg:Pn},{getState:Ln,extra:Fn}))),[4,Promise.race([as,Promise.resolve(cn(Pn,{dispatch:Rn,getState:Ln,extra:Fn,requestId:Gn,signal:Dn.signal,abort:qn,rejectWithValue:function(Qn,ms){return new RejectWithValue(Qn,ms)},fulfillWithValue:function(Qn,ms){return new FulfillWithMeta(Qn,ms)}})).then(function(Qn){if(Qn instanceof RejectWithValue)throw Qn;return Qn instanceof FulfillWithMeta?pn(Qn.payload,Gn,Pn,Qn.meta):pn(Qn,Gn,Pn)})])];case 3:return rs=Es.sent(),[3,5];case 4:return cs=Es.sent(),rs=cs instanceof RejectWithValue?Sn(null,Gn,Pn,cs.payload,cs.meta):Sn(cs,Gn,Pn),[3,5];case 5:return _s=dn&&!dn.dispatchConditionRejection&&Sn.match(rs)&&rs.meta.condition,_s||Rn(rs),[2,rs]}})})}();return Object.assign(Zn,{abort:qn,requestId:Gn,arg:Pn,unwrap:function(){return Zn.then(unwrapResult)}})}}return Object.assign(Cn,{pending:vn,rejected:Sn,fulfilled:pn,typePrefix:ln})}return sn.withTypes=function(){return sn},sn})();function unwrapResult(sn){if(sn.meta&&sn.meta.rejectedWithValue)throw sn.payload;if(sn.error)throw sn.error;return sn.payload}function isThenable$1(sn){return sn!==null&&typeof sn=="object"&&typeof sn.then=="function"}var alm="listenerMiddleware";createAction(alm+"/add");createAction(alm+"/removeAll");createAction(alm+"/remove");var promise$6;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);F$9();const initialLecture$1={slug:"",unitId:0,prevRequestTime:0,progress:0,instCode:void 0,isBegin:!1,isMobileView:!1,isCompleteModalOpened:!1,isReviewModalOpened:!1,isRecommendReviewModalOpened:!1},slice$3=createSlice({name:"lecture",initialState:initialLecture$1,reducers:{setLecture(sn,{payload:ln}){sn.slug=ln.slug,sn.unitId=ln.unitId},setUnitId(sn,{payload:ln}){sn.unitId=ln},setPrevRequestTime(sn,{payload:ln}){sn.prevRequestTime=ln},setProgress(sn,{payload:ln}){sn.progress=ln},setInstCode(sn,{payload:ln}){sn.instCode=ln},setIsBegin(sn,{payload:ln}){sn.isBegin=ln},setIsMobileView(sn,{payload:ln}){sn.isMobileView=ln},setIsCompleteModalOpened(sn,{payload:ln}){sn.isCompleteModalOpened=ln},setIsReviewModalOpened(sn,{payload:ln}){sn.isReviewModalOpened=ln},setIsRecommendReviewModalOpened(sn,{payload:ln}){sn.isRecommendReviewModalOpened=ln}}}),{reducer:lectureReducer}=slice$3,lectureActions=slice$3.actions;function DeviceBranch({desktopComponent:sn,mobileComponent:ln}){const cn=useAppSelector(Cn=>Cn.lecture.isMobileView),dn=useAppDispatch(),{isLaptop:pn}=useScreen(),vn=useFirstMountState(),[Sn,En]=reactExports.useState(vn);return reactExports.useEffect(()=>{dn(lectureActions.setIsMobileView(!pn)),En(!1)},[dn]),Sn?null:cn?jsx(Fragment,{children:ln}):jsx(Fragment,{children:sn})}var faCircleExclamation={};const useLectureParams=()=>{const[sn]=useSearchParams(),ln=sn.get("unitId"),cn=sn.get("courseSlug");return{unitId:Number(ln),slug:String(cn)}};var Subscribable=function(){function sn(){this.listeners=[]}var ln=sn.prototype;return ln.subscribe=function(dn){var pn=this,vn=dn||function(){};return this.listeners.push(vn),this.onSubscribe(),function(){pn.listeners=pn.listeners.filter(function(Sn){return Sn!==vn}),pn.onUnsubscribe()}},ln.hasListeners=function(){return this.listeners.length>0},ln.onSubscribe=function(){},ln.onUnsubscribe=function(){},sn}();function _extends(){return _extends=Object.assign?Object.assign.bind():function(sn){for(var ln=1;ln<arguments.length;ln++){var cn=arguments[ln];for(var dn in cn)Object.prototype.hasOwnProperty.call(cn,dn)&&(sn[dn]=cn[dn])}return sn},_extends.apply(this,arguments)}var isServer=typeof window>"u";function noop$1(){}function functionalUpdate(sn,ln){return typeof sn=="function"?sn(ln):sn}function isValidTimeout(sn){return typeof sn=="number"&&sn>=0&&sn!==1/0}function ensureQueryKeyArray(sn){return Array.isArray(sn)?sn:[sn]}function timeUntilStale(sn,ln){return Math.max(sn+(ln||0)-Date.now(),0)}function parseQueryArgs(sn,ln,cn){return isQueryKey(sn)?typeof ln=="function"?_extends({},cn,{queryKey:sn,queryFn:ln}):_extends({},ln,{queryKey:sn}):sn}function parseMutationArgs(sn,ln,cn){return isQueryKey(sn)?typeof ln=="function"?_extends({},cn,{mutationKey:sn,mutationFn:ln}):_extends({},ln,{mutationKey:sn}):typeof sn=="function"?_extends({},ln,{mutationFn:sn}):_extends({},sn)}function parseFilterArgs(sn,ln,cn){return isQueryKey(sn)?[_extends({},ln,{queryKey:sn}),cn]:[sn||{},ln]}function mapQueryStatusFilter(sn,ln){if(sn===!0&&ln===!0||sn==null&&ln==null)return"all";if(sn===!1&&ln===!1)return"none";var cn=sn??!ln;return cn?"active":"inactive"}function matchQuery(sn,ln){var cn=sn.active,dn=sn.exact,pn=sn.fetching,vn=sn.inactive,Sn=sn.predicate,En=sn.queryKey,Cn=sn.stale;if(isQueryKey(En)){if(dn){if(ln.queryHash!==hashQueryKeyByOptions(En,ln.options))return!1}else if(!partialMatchKey(ln.queryKey,En))return!1}var Pn=mapQueryStatusFilter(cn,vn);if(Pn==="none")return!1;if(Pn!=="all"){var Rn=ln.isActive();if(Pn==="active"&&!Rn||Pn==="inactive"&&Rn)return!1}return!(typeof Cn=="boolean"&&ln.isStale()!==Cn||typeof pn=="boolean"&&ln.isFetching()!==pn||Sn&&!Sn(ln))}function matchMutation(sn,ln){var cn=sn.exact,dn=sn.fetching,pn=sn.predicate,vn=sn.mutationKey;if(isQueryKey(vn)){if(!ln.options.mutationKey)return!1;if(cn){if(hashQueryKey(ln.options.mutationKey)!==hashQueryKey(vn))return!1}else if(!partialMatchKey(ln.options.mutationKey,vn))return!1}return!(typeof dn=="boolean"&&ln.state.status==="loading"!==dn||pn&&!pn(ln))}function hashQueryKeyByOptions(sn,ln){var cn=(ln==null?void 0:ln.queryKeyHashFn)||hashQueryKey;return cn(sn)}function hashQueryKey(sn){var ln=ensureQueryKeyArray(sn);return stableValueHash(ln)}function stableValueHash(sn){return JSON.stringify(sn,function(ln,cn){return isPlainObject(cn)?Object.keys(cn).sort().reduce(function(dn,pn){return dn[pn]=cn[pn],dn},{}):cn})}function partialMatchKey(sn,ln){return partialDeepEqual(ensureQueryKeyArray(sn),ensureQueryKeyArray(ln))}function partialDeepEqual(sn,ln){return sn===ln?!0:typeof sn!=typeof ln?!1:sn&&ln&&typeof sn=="object"&&typeof ln=="object"?!Object.keys(ln).some(function(cn){return!partialDeepEqual(sn[cn],ln[cn])}):!1}function replaceEqualDeep(sn,ln){if(sn===ln)return sn;var cn=Array.isArray(sn)&&Array.isArray(ln);if(cn||isPlainObject(sn)&&isPlainObject(ln)){for(var dn=cn?sn.length:Object.keys(sn).length,pn=cn?ln:Object.keys(ln),vn=pn.length,Sn=cn?[]:{},En=0,Cn=0;Cn<vn;Cn++){var Pn=cn?Cn:pn[Cn];Sn[Pn]=replaceEqualDeep(sn[Pn],ln[Pn]),Sn[Pn]===sn[Pn]&&En++}return dn===vn&&En===dn?sn:Sn}return ln}function shallowEqualObjects(sn,ln){if(sn&&!ln||ln&&!sn)return!1;for(var cn in sn)if(sn[cn]!==ln[cn])return!1;return!0}function isPlainObject(sn){if(!hasObjectPrototype(sn))return!1;var ln=sn.constructor;if(typeof ln>"u")return!0;var cn=ln.prototype;return!(!hasObjectPrototype(cn)||!cn.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(sn){return Object.prototype.toString.call(sn)==="[object Object]"}function isQueryKey(sn){return typeof sn=="string"||Array.isArray(sn)}function sleep(sn){return new Promise(function(ln){setTimeout(ln,sn)})}function scheduleMicrotask(sn){Promise.resolve().then(sn).catch(function(ln){return setTimeout(function(){throw ln})})}function getAbortController(){if(typeof AbortController=="function")return new AbortController}var FocusManager=function(sn){_inheritsLoose$1(ln,sn);function ln(){var dn;return dn=sn.call(this)||this,dn.setup=function(pn){var vn;if(!isServer&&((vn=window)!=null&&vn.addEventListener)){var Sn=function(){return pn()};return window.addEventListener("visibilitychange",Sn,!1),window.addEventListener("focus",Sn,!1),function(){window.removeEventListener("visibilitychange",Sn),window.removeEventListener("focus",Sn)}}},dn}var cn=ln.prototype;return cn.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},cn.onUnsubscribe=function(){if(!this.hasListeners()){var pn;(pn=this.cleanup)==null||pn.call(this),this.cleanup=void 0}},cn.setEventListener=function(pn){var vn,Sn=this;this.setup=pn,(vn=this.cleanup)==null||vn.call(this),this.cleanup=pn(function(En){typeof En=="boolean"?Sn.setFocused(En):Sn.onFocus()})},cn.setFocused=function(pn){this.focused=pn,pn&&this.onFocus()},cn.onFocus=function(){this.listeners.forEach(function(pn){pn()})},cn.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},ln}(Subscribable),focusManager=new FocusManager,OnlineManager=function(sn){_inheritsLoose$1(ln,sn);function ln(){var dn;return dn=sn.call(this)||this,dn.setup=function(pn){var vn;if(!isServer&&((vn=window)!=null&&vn.addEventListener)){var Sn=function(){return pn()};return window.addEventListener("online",Sn,!1),window.addEventListener("offline",Sn,!1),function(){window.removeEventListener("online",Sn),window.removeEventListener("offline",Sn)}}},dn}var cn=ln.prototype;return cn.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},cn.onUnsubscribe=function(){if(!this.hasListeners()){var pn;(pn=this.cleanup)==null||pn.call(this),this.cleanup=void 0}},cn.setEventListener=function(pn){var vn,Sn=this;this.setup=pn,(vn=this.cleanup)==null||vn.call(this),this.cleanup=pn(function(En){typeof En=="boolean"?Sn.setOnline(En):Sn.onOnline()})},cn.setOnline=function(pn){this.online=pn,pn&&this.onOnline()},cn.onOnline=function(){this.listeners.forEach(function(pn){pn()})},cn.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},ln}(Subscribable),onlineManager=new OnlineManager;function defaultRetryDelay(sn){return Math.min(1e3*Math.pow(2,sn),3e4)}function isCancelable(sn){return typeof(sn==null?void 0:sn.cancel)=="function"}var CancelledError=function(ln){this.revert=ln==null?void 0:ln.revert,this.silent=ln==null?void 0:ln.silent};function isCancelledError(sn){return sn instanceof CancelledError}var Retryer=function(ln){var cn=this,dn=!1,pn,vn,Sn,En;this.abort=ln.abort,this.cancel=function(Fn){return pn==null?void 0:pn(Fn)},this.cancelRetry=function(){dn=!0},this.continueRetry=function(){dn=!1},this.continue=function(){return vn==null?void 0:vn()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(Fn,Gn){Sn=Fn,En=Gn});var Cn=function(Gn){cn.isResolved||(cn.isResolved=!0,ln.onSuccess==null||ln.onSuccess(Gn),vn==null||vn(),Sn(Gn))},Pn=function(Gn){cn.isResolved||(cn.isResolved=!0,ln.onError==null||ln.onError(Gn),vn==null||vn(),En(Gn))},Rn=function(){return new Promise(function(Gn){vn=Gn,cn.isPaused=!0,ln.onPause==null||ln.onPause()}).then(function(){vn=void 0,cn.isPaused=!1,ln.onContinue==null||ln.onContinue()})},Ln=function Fn(){if(!cn.isResolved){var Gn;try{Gn=ln.fn()}catch(Dn){Gn=Promise.reject(Dn)}pn=function(Kn){if(!cn.isResolved&&(Pn(new CancelledError(Kn)),cn.abort==null||cn.abort(),isCancelable(Gn)))try{Gn.cancel()}catch{}},cn.isTransportCancelable=isCancelable(Gn),Promise.resolve(Gn).then(Cn).catch(function(Dn){var Kn,qn;if(!cn.isResolved){var Zn=(Kn=ln.retry)!=null?Kn:3,Yn=(qn=ln.retryDelay)!=null?qn:defaultRetryDelay,Jn=typeof Yn=="function"?Yn(cn.failureCount,Dn):Yn,rs=Zn===!0||typeof Zn=="number"&&cn.failureCount<Zn||typeof Zn=="function"&&Zn(cn.failureCount,Dn);if(dn||!rs){Pn(Dn);return}cn.failureCount++,ln.onFail==null||ln.onFail(cn.failureCount,Dn),sleep(Jn).then(function(){if(!focusManager.isFocused()||!onlineManager.isOnline())return Rn()}).then(function(){dn?Pn(Dn):Fn()})}})}};Ln()},NotifyManager=function(){function sn(){this.queue=[],this.transactions=0,this.notifyFn=function(cn){cn()},this.batchNotifyFn=function(cn){cn()}}var ln=sn.prototype;return ln.batch=function(dn){var pn;this.transactions++;try{pn=dn()}finally{this.transactions--,this.transactions||this.flush()}return pn},ln.schedule=function(dn){var pn=this;this.transactions?this.queue.push(dn):scheduleMicrotask(function(){pn.notifyFn(dn)})},ln.batchCalls=function(dn){var pn=this;return function(){for(var vn=arguments.length,Sn=new Array(vn),En=0;En<vn;En++)Sn[En]=arguments[En];pn.schedule(function(){dn.apply(void 0,Sn)})}},ln.flush=function(){var dn=this,pn=this.queue;this.queue=[],pn.length&&scheduleMicrotask(function(){dn.batchNotifyFn(function(){pn.forEach(function(vn){dn.notifyFn(vn)})})})},ln.setNotifyFunction=function(dn){this.notifyFn=dn},ln.setBatchNotifyFunction=function(dn){this.batchNotifyFn=dn},sn}(),notifyManager=new NotifyManager,logger$1=console;function getLogger(){return logger$1}function setLogger(sn){logger$1=sn}var Query=function(){function sn(cn){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=cn.defaultOptions,this.setOptions(cn.options),this.observers=[],this.cache=cn.cache,this.queryKey=cn.queryKey,this.queryHash=cn.queryHash,this.initialState=cn.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=cn.meta,this.scheduleGc()}var ln=sn.prototype;return ln.setOptions=function(dn){var pn;this.options=_extends({},this.defaultOptions,dn),this.meta=dn==null?void 0:dn.meta,this.cacheTime=Math.max(this.cacheTime||0,(pn=this.options.cacheTime)!=null?pn:5*60*1e3)},ln.setDefaultOptions=function(dn){this.defaultOptions=dn},ln.scheduleGc=function(){var dn=this;this.clearGcTimeout(),isValidTimeout(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){dn.optionalRemove()},this.cacheTime))},ln.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},ln.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},ln.setData=function(dn,pn){var vn,Sn,En=this.state.data,Cn=functionalUpdate(dn,En);return(vn=(Sn=this.options).isDataEqual)!=null&&vn.call(Sn,En,Cn)?Cn=En:this.options.structuralSharing!==!1&&(Cn=replaceEqualDeep(En,Cn)),this.dispatch({data:Cn,type:"success",dataUpdatedAt:pn==null?void 0:pn.updatedAt}),Cn},ln.setState=function(dn,pn){this.dispatch({type:"setState",state:dn,setStateOptions:pn})},ln.cancel=function(dn){var pn,vn=this.promise;return(pn=this.retryer)==null||pn.cancel(dn),vn?vn.then(noop$1).catch(noop$1):Promise.resolve()},ln.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},ln.reset=function(){this.destroy(),this.setState(this.initialState)},ln.isActive=function(){return this.observers.some(function(dn){return dn.options.enabled!==!1})},ln.isFetching=function(){return this.state.isFetching},ln.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(dn){return dn.getCurrentResult().isStale})},ln.isStaleByTime=function(dn){return dn===void 0&&(dn=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!timeUntilStale(this.state.dataUpdatedAt,dn)},ln.onFocus=function(){var dn,pn=this.observers.find(function(vn){return vn.shouldFetchOnWindowFocus()});pn&&pn.refetch(),(dn=this.retryer)==null||dn.continue()},ln.onOnline=function(){var dn,pn=this.observers.find(function(vn){return vn.shouldFetchOnReconnect()});pn&&pn.refetch(),(dn=this.retryer)==null||dn.continue()},ln.addObserver=function(dn){this.observers.indexOf(dn)===-1&&(this.observers.push(dn),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:dn}))},ln.removeObserver=function(dn){this.observers.indexOf(dn)!==-1&&(this.observers=this.observers.filter(function(pn){return pn!==dn}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:dn}))},ln.getObserversCount=function(){return this.observers.length},ln.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},ln.fetch=function(dn,pn){var vn=this,Sn,En,Cn;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(pn!=null&&pn.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var Pn;return(Pn=this.retryer)==null||Pn.continueRetry(),this.promise}}if(dn&&this.setOptions(dn),!this.options.queryFn){var Rn=this.observers.find(function(Yn){return Yn.options.queryFn});Rn&&this.setOptions(Rn.options)}var Ln=ensureQueryKeyArray(this.queryKey),Fn=getAbortController(),Gn={queryKey:Ln,pageParam:void 0,meta:this.meta};Object.defineProperty(Gn,"signal",{enumerable:!0,get:function(){if(Fn)return vn.abortSignalConsumed=!0,Fn.signal}});var Dn=function(){return vn.options.queryFn?(vn.abortSignalConsumed=!1,vn.options.queryFn(Gn)):Promise.reject("Missing queryFn")},Kn={fetchOptions:pn,options:this.options,queryKey:Ln,state:this.state,fetchFn:Dn,meta:this.meta};if((Sn=this.options.behavior)!=null&&Sn.onFetch){var qn;(qn=this.options.behavior)==null||qn.onFetch(Kn)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((En=Kn.fetchOptions)==null?void 0:En.meta)){var Zn;this.dispatch({type:"fetch",meta:(Zn=Kn.fetchOptions)==null?void 0:Zn.meta})}return this.retryer=new Retryer({fn:Kn.fetchFn,abort:Fn==null||(Cn=Fn.abort)==null?void 0:Cn.bind(Fn),onSuccess:function(Jn){vn.setData(Jn),vn.cache.config.onSuccess==null||vn.cache.config.onSuccess(Jn,vn),vn.cacheTime===0&&vn.optionalRemove()},onError:function(Jn){isCancelledError(Jn)&&Jn.silent||vn.dispatch({type:"error",error:Jn}),isCancelledError(Jn)||(vn.cache.config.onError==null||vn.cache.config.onError(Jn,vn),getLogger().error(Jn)),vn.cacheTime===0&&vn.optionalRemove()},onFail:function(){vn.dispatch({type:"failed"})},onPause:function(){vn.dispatch({type:"pause"})},onContinue:function(){vn.dispatch({type:"continue"})},retry:Kn.options.retry,retryDelay:Kn.options.retryDelay}),this.promise=this.retryer.promise,this.promise},ln.dispatch=function(dn){var pn=this;this.state=this.reducer(this.state,dn),notifyManager.batch(function(){pn.observers.forEach(function(vn){vn.onQueryUpdate(dn)}),pn.cache.notify({query:pn,type:"queryUpdated",action:dn})})},ln.getDefaultState=function(dn){var pn=typeof dn.initialData=="function"?dn.initialData():dn.initialData,vn=typeof dn.initialData<"u",Sn=vn?typeof dn.initialDataUpdatedAt=="function"?dn.initialDataUpdatedAt():dn.initialDataUpdatedAt:0,En=typeof pn<"u";return{data:pn,dataUpdateCount:0,dataUpdatedAt:En?Sn??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:En?"success":"idle"}},ln.reducer=function(dn,pn){var vn,Sn;switch(pn.type){case"failed":return _extends({},dn,{fetchFailureCount:dn.fetchFailureCount+1});case"pause":return _extends({},dn,{isPaused:!0});case"continue":return _extends({},dn,{isPaused:!1});case"fetch":return _extends({},dn,{fetchFailureCount:0,fetchMeta:(vn=pn.meta)!=null?vn:null,isFetching:!0,isPaused:!1},!dn.dataUpdatedAt&&{error:null,status:"loading"});case"success":return _extends({},dn,{data:pn.data,dataUpdateCount:dn.dataUpdateCount+1,dataUpdatedAt:(Sn=pn.dataUpdatedAt)!=null?Sn:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var En=pn.error;return isCancelledError(En)&&En.revert&&this.revertState?_extends({},this.revertState):_extends({},dn,{error:En,errorUpdateCount:dn.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:dn.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return _extends({},dn,{isInvalidated:!0});case"setState":return _extends({},dn,pn.state);default:return dn}},sn}(),QueryCache=function(sn){_inheritsLoose$1(ln,sn);function ln(dn){var pn;return pn=sn.call(this)||this,pn.config=dn||{},pn.queries=[],pn.queriesMap={},pn}var cn=ln.prototype;return cn.build=function(pn,vn,Sn){var En,Cn=vn.queryKey,Pn=(En=vn.queryHash)!=null?En:hashQueryKeyByOptions(Cn,vn),Rn=this.get(Pn);return Rn||(Rn=new Query({cache:this,queryKey:Cn,queryHash:Pn,options:pn.defaultQueryOptions(vn),state:Sn,defaultOptions:pn.getQueryDefaults(Cn),meta:vn.meta}),this.add(Rn)),Rn},cn.add=function(pn){this.queriesMap[pn.queryHash]||(this.queriesMap[pn.queryHash]=pn,this.queries.push(pn),this.notify({type:"queryAdded",query:pn}))},cn.remove=function(pn){var vn=this.queriesMap[pn.queryHash];vn&&(pn.destroy(),this.queries=this.queries.filter(function(Sn){return Sn!==pn}),vn===pn&&delete this.queriesMap[pn.queryHash],this.notify({type:"queryRemoved",query:pn}))},cn.clear=function(){var pn=this;notifyManager.batch(function(){pn.queries.forEach(function(vn){pn.remove(vn)})})},cn.get=function(pn){return this.queriesMap[pn]},cn.getAll=function(){return this.queries},cn.find=function(pn,vn){var Sn=parseFilterArgs(pn,vn),En=Sn[0];return typeof En.exact>"u"&&(En.exact=!0),this.queries.find(function(Cn){return matchQuery(En,Cn)})},cn.findAll=function(pn,vn){var Sn=parseFilterArgs(pn,vn),En=Sn[0];return Object.keys(En).length>0?this.queries.filter(function(Cn){return matchQuery(En,Cn)}):this.queries},cn.notify=function(pn){var vn=this;notifyManager.batch(function(){vn.listeners.forEach(function(Sn){Sn(pn)})})},cn.onFocus=function(){var pn=this;notifyManager.batch(function(){pn.queries.forEach(function(vn){vn.onFocus()})})},cn.onOnline=function(){var pn=this;notifyManager.batch(function(){pn.queries.forEach(function(vn){vn.onOnline()})})},ln}(Subscribable),Mutation=function(){function sn(cn){this.options=_extends({},cn.defaultOptions,cn.options),this.mutationId=cn.mutationId,this.mutationCache=cn.mutationCache,this.observers=[],this.state=cn.state||getDefaultState(),this.meta=cn.meta}var ln=sn.prototype;return ln.setState=function(dn){this.dispatch({type:"setState",state:dn})},ln.addObserver=function(dn){this.observers.indexOf(dn)===-1&&this.observers.push(dn)},ln.removeObserver=function(dn){this.observers=this.observers.filter(function(pn){return pn!==dn})},ln.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(noop$1).catch(noop$1)):Promise.resolve()},ln.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},ln.execute=function(){var dn=this,pn,vn=this.state.status==="loading",Sn=Promise.resolve();return vn||(this.dispatch({type:"loading",variables:this.options.variables}),Sn=Sn.then(function(){dn.mutationCache.config.onMutate==null||dn.mutationCache.config.onMutate(dn.state.variables,dn)}).then(function(){return dn.options.onMutate==null?void 0:dn.options.onMutate(dn.state.variables)}).then(function(En){En!==dn.state.context&&dn.dispatch({type:"loading",context:En,variables:dn.state.variables})})),Sn.then(function(){return dn.executeMutation()}).then(function(En){pn=En,dn.mutationCache.config.onSuccess==null||dn.mutationCache.config.onSuccess(pn,dn.state.variables,dn.state.context,dn)}).then(function(){return dn.options.onSuccess==null?void 0:dn.options.onSuccess(pn,dn.state.variables,dn.state.context)}).then(function(){return dn.options.onSettled==null?void 0:dn.options.onSettled(pn,null,dn.state.variables,dn.state.context)}).then(function(){return dn.dispatch({type:"success",data:pn}),pn}).catch(function(En){return dn.mutationCache.config.onError==null||dn.mutationCache.config.onError(En,dn.state.variables,dn.state.context,dn),getLogger().error(En),Promise.resolve().then(function(){return dn.options.onError==null?void 0:dn.options.onError(En,dn.state.variables,dn.state.context)}).then(function(){return dn.options.onSettled==null?void 0:dn.options.onSettled(void 0,En,dn.state.variables,dn.state.context)}).then(function(){throw dn.dispatch({type:"error",error:En}),En})})},ln.executeMutation=function(){var dn=this,pn;return this.retryer=new Retryer({fn:function(){return dn.options.mutationFn?dn.options.mutationFn(dn.state.variables):Promise.reject("No mutationFn found")},onFail:function(){dn.dispatch({type:"failed"})},onPause:function(){dn.dispatch({type:"pause"})},onContinue:function(){dn.dispatch({type:"continue"})},retry:(pn=this.options.retry)!=null?pn:0,retryDelay:this.options.retryDelay}),this.retryer.promise},ln.dispatch=function(dn){var pn=this;this.state=reducer(this.state,dn),notifyManager.batch(function(){pn.observers.forEach(function(vn){vn.onMutationUpdate(dn)}),pn.mutationCache.notify(pn)})},sn}();function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function reducer(sn,ln){switch(ln.type){case"failed":return _extends({},sn,{failureCount:sn.failureCount+1});case"pause":return _extends({},sn,{isPaused:!0});case"continue":return _extends({},sn,{isPaused:!1});case"loading":return _extends({},sn,{context:ln.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:ln.variables});case"success":return _extends({},sn,{data:ln.data,error:null,status:"success",isPaused:!1});case"error":return _extends({},sn,{data:void 0,error:ln.error,failureCount:sn.failureCount+1,isPaused:!1,status:"error"});case"setState":return _extends({},sn,ln.state);default:return sn}}var MutationCache=function(sn){_inheritsLoose$1(ln,sn);function ln(dn){var pn;return pn=sn.call(this)||this,pn.config=dn||{},pn.mutations=[],pn.mutationId=0,pn}var cn=ln.prototype;return cn.build=function(pn,vn,Sn){var En=new Mutation({mutationCache:this,mutationId:++this.mutationId,options:pn.defaultMutationOptions(vn),state:Sn,defaultOptions:vn.mutationKey?pn.getMutationDefaults(vn.mutationKey):void 0,meta:vn.meta});return this.add(En),En},cn.add=function(pn){this.mutations.push(pn),this.notify(pn)},cn.remove=function(pn){this.mutations=this.mutations.filter(function(vn){return vn!==pn}),pn.cancel(),this.notify(pn)},cn.clear=function(){var pn=this;notifyManager.batch(function(){pn.mutations.forEach(function(vn){pn.remove(vn)})})},cn.getAll=function(){return this.mutations},cn.find=function(pn){return typeof pn.exact>"u"&&(pn.exact=!0),this.mutations.find(function(vn){return matchMutation(pn,vn)})},cn.findAll=function(pn){return this.mutations.filter(function(vn){return matchMutation(pn,vn)})},cn.notify=function(pn){var vn=this;notifyManager.batch(function(){vn.listeners.forEach(function(Sn){Sn(pn)})})},cn.onFocus=function(){this.resumePausedMutations()},cn.onOnline=function(){this.resumePausedMutations()},cn.resumePausedMutations=function(){var pn=this.mutations.filter(function(vn){return vn.state.isPaused});return notifyManager.batch(function(){return pn.reduce(function(vn,Sn){return vn.then(function(){return Sn.continue().catch(noop$1)})},Promise.resolve())})},ln}(Subscribable);function infiniteQueryBehavior(){return{onFetch:function(ln){ln.fetchFn=function(){var cn,dn,pn,vn,Sn,En,Cn=(cn=ln.fetchOptions)==null||(dn=cn.meta)==null?void 0:dn.refetchPage,Pn=(pn=ln.fetchOptions)==null||(vn=pn.meta)==null?void 0:vn.fetchMore,Rn=Pn==null?void 0:Pn.pageParam,Ln=(Pn==null?void 0:Pn.direction)==="forward",Fn=(Pn==null?void 0:Pn.direction)==="backward",Gn=((Sn=ln.state.data)==null?void 0:Sn.pages)||[],Dn=((En=ln.state.data)==null?void 0:En.pageParams)||[],Kn=getAbortController(),qn=Kn==null?void 0:Kn.signal,Zn=Dn,Yn=!1,Jn=ln.options.queryFn||function(){return Promise.reject("Missing queryFn")},rs=function(gs,Ss,js,bs){return Zn=bs?[Ss].concat(Zn):[].concat(Zn,[Ss]),bs?[js].concat(gs):[].concat(gs,[js])},us=function(gs,Ss,js,bs){if(Yn)return Promise.reject("Cancelled");if(typeof js>"u"&&!Ss&&gs.length)return Promise.resolve(gs);var Ts={queryKey:ln.queryKey,signal:qn,pageParam:js,meta:ln.meta},xs=Jn(Ts),zs=Promise.resolve(xs).then(function(Js){return rs(gs,js,Js,bs)});if(isCancelable(xs)){var Bs=zs;Bs.cancel=xs.cancel}return zs},as;if(!Gn.length)as=us([]);else if(Ln){var cs=typeof Rn<"u",_s=cs?Rn:getNextPageParam(ln.options,Gn);as=us(Gn,cs,_s)}else if(Fn){var Es=typeof Rn<"u",Qn=Es?Rn:getPreviousPageParam(ln.options,Gn);as=us(Gn,Es,Qn,!0)}else(function(){Zn=[];var Ms=typeof ln.options.getNextPageParam>"u",gs=Cn&&Gn[0]?Cn(Gn[0],0,Gn):!0;as=gs?us([],Ms,Dn[0]):Promise.resolve(rs([],Dn[0],Gn[0]));for(var Ss=function(Ts){as=as.then(function(xs){var zs=Cn&&Gn[Ts]?Cn(Gn[Ts],Ts,Gn):!0;if(zs){var Bs=Ms?Dn[Ts]:getNextPageParam(ln.options,xs);return us(xs,Ms,Bs)}return Promise.resolve(rs(xs,Dn[Ts],Gn[Ts]))})},js=1;js<Gn.length;js++)Ss(js)})();var ms=as.then(function(Ms){return{pages:Ms,pageParams:Zn}}),$s=ms;return $s.cancel=function(){Yn=!0,Kn==null||Kn.abort(),isCancelable(as)&&as.cancel()},ms}}}}function getNextPageParam(sn,ln){return sn.getNextPageParam==null?void 0:sn.getNextPageParam(ln[ln.length-1],ln)}function getPreviousPageParam(sn,ln){return sn.getPreviousPageParam==null?void 0:sn.getPreviousPageParam(ln[0],ln)}function hasNextPage(sn,ln){if(sn.getNextPageParam&&Array.isArray(ln)){var cn=getNextPageParam(sn,ln);return typeof cn<"u"&&cn!==null&&cn!==!1}}function hasPreviousPage(sn,ln){if(sn.getPreviousPageParam&&Array.isArray(ln)){var cn=getPreviousPageParam(sn,ln);return typeof cn<"u"&&cn!==null&&cn!==!1}}var QueryClient=function(){function sn(cn){cn===void 0&&(cn={}),this.queryCache=cn.queryCache||new QueryCache,this.mutationCache=cn.mutationCache||new MutationCache,this.defaultOptions=cn.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var ln=sn.prototype;return ln.mount=function(){var dn=this;this.unsubscribeFocus=focusManager.subscribe(function(){focusManager.isFocused()&&onlineManager.isOnline()&&(dn.mutationCache.onFocus(),dn.queryCache.onFocus())}),this.unsubscribeOnline=onlineManager.subscribe(function(){focusManager.isFocused()&&onlineManager.isOnline()&&(dn.mutationCache.onOnline(),dn.queryCache.onOnline())})},ln.unmount=function(){var dn,pn;(dn=this.unsubscribeFocus)==null||dn.call(this),(pn=this.unsubscribeOnline)==null||pn.call(this)},ln.isFetching=function(dn,pn){var vn=parseFilterArgs(dn,pn),Sn=vn[0];return Sn.fetching=!0,this.queryCache.findAll(Sn).length},ln.isMutating=function(dn){return this.mutationCache.findAll(_extends({},dn,{fetching:!0})).length},ln.getQueryData=function(dn,pn){var vn;return(vn=this.queryCache.find(dn,pn))==null?void 0:vn.state.data},ln.getQueriesData=function(dn){return this.getQueryCache().findAll(dn).map(function(pn){var vn=pn.queryKey,Sn=pn.state,En=Sn.data;return[vn,En]})},ln.setQueryData=function(dn,pn,vn){var Sn=parseQueryArgs(dn),En=this.defaultQueryOptions(Sn);return this.queryCache.build(this,En).setData(pn,vn)},ln.setQueriesData=function(dn,pn,vn){var Sn=this;return notifyManager.batch(function(){return Sn.getQueryCache().findAll(dn).map(function(En){var Cn=En.queryKey;return[Cn,Sn.setQueryData(Cn,pn,vn)]})})},ln.getQueryState=function(dn,pn){var vn;return(vn=this.queryCache.find(dn,pn))==null?void 0:vn.state},ln.removeQueries=function(dn,pn){var vn=parseFilterArgs(dn,pn),Sn=vn[0],En=this.queryCache;notifyManager.batch(function(){En.findAll(Sn).forEach(function(Cn){En.remove(Cn)})})},ln.resetQueries=function(dn,pn,vn){var Sn=this,En=parseFilterArgs(dn,pn,vn),Cn=En[0],Pn=En[1],Rn=this.queryCache,Ln=_extends({},Cn,{active:!0});return notifyManager.batch(function(){return Rn.findAll(Cn).forEach(function(Fn){Fn.reset()}),Sn.refetchQueries(Ln,Pn)})},ln.cancelQueries=function(dn,pn,vn){var Sn=this,En=parseFilterArgs(dn,pn,vn),Cn=En[0],Pn=En[1],Rn=Pn===void 0?{}:Pn;typeof Rn.revert>"u"&&(Rn.revert=!0);var Ln=notifyManager.batch(function(){return Sn.queryCache.findAll(Cn).map(function(Fn){return Fn.cancel(Rn)})});return Promise.all(Ln).then(noop$1).catch(noop$1)},ln.invalidateQueries=function(dn,pn,vn){var Sn,En,Cn,Pn=this,Rn=parseFilterArgs(dn,pn,vn),Ln=Rn[0],Fn=Rn[1],Gn=_extends({},Ln,{active:(Sn=(En=Ln.refetchActive)!=null?En:Ln.active)!=null?Sn:!0,inactive:(Cn=Ln.refetchInactive)!=null?Cn:!1});return notifyManager.batch(function(){return Pn.queryCache.findAll(Ln).forEach(function(Dn){Dn.invalidate()}),Pn.refetchQueries(Gn,Fn)})},ln.refetchQueries=function(dn,pn,vn){var Sn=this,En=parseFilterArgs(dn,pn,vn),Cn=En[0],Pn=En[1],Rn=notifyManager.batch(function(){return Sn.queryCache.findAll(Cn).map(function(Fn){return Fn.fetch(void 0,_extends({},Pn,{meta:{refetchPage:Cn==null?void 0:Cn.refetchPage}}))})}),Ln=Promise.all(Rn).then(noop$1);return Pn!=null&&Pn.throwOnError||(Ln=Ln.catch(noop$1)),Ln},ln.fetchQuery=function(dn,pn,vn){var Sn=parseQueryArgs(dn,pn,vn),En=this.defaultQueryOptions(Sn);typeof En.retry>"u"&&(En.retry=!1);var Cn=this.queryCache.build(this,En);return Cn.isStaleByTime(En.staleTime)?Cn.fetch(En):Promise.resolve(Cn.state.data)},ln.prefetchQuery=function(dn,pn,vn){return this.fetchQuery(dn,pn,vn).then(noop$1).catch(noop$1)},ln.fetchInfiniteQuery=function(dn,pn,vn){var Sn=parseQueryArgs(dn,pn,vn);return Sn.behavior=infiniteQueryBehavior(),this.fetchQuery(Sn)},ln.prefetchInfiniteQuery=function(dn,pn,vn){return this.fetchInfiniteQuery(dn,pn,vn).then(noop$1).catch(noop$1)},ln.cancelMutations=function(){var dn=this,pn=notifyManager.batch(function(){return dn.mutationCache.getAll().map(function(vn){return vn.cancel()})});return Promise.all(pn).then(noop$1).catch(noop$1)},ln.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},ln.executeMutation=function(dn){return this.mutationCache.build(this,dn).execute()},ln.getQueryCache=function(){return this.queryCache},ln.getMutationCache=function(){return this.mutationCache},ln.getDefaultOptions=function(){return this.defaultOptions},ln.setDefaultOptions=function(dn){this.defaultOptions=dn},ln.setQueryDefaults=function(dn,pn){var vn=this.queryDefaults.find(function(Sn){return hashQueryKey(dn)===hashQueryKey(Sn.queryKey)});vn?vn.defaultOptions=pn:this.queryDefaults.push({queryKey:dn,defaultOptions:pn})},ln.getQueryDefaults=function(dn){var pn;return dn?(pn=this.queryDefaults.find(function(vn){return partialMatchKey(dn,vn.queryKey)}))==null?void 0:pn.defaultOptions:void 0},ln.setMutationDefaults=function(dn,pn){var vn=this.mutationDefaults.find(function(Sn){return hashQueryKey(dn)===hashQueryKey(Sn.mutationKey)});vn?vn.defaultOptions=pn:this.mutationDefaults.push({mutationKey:dn,defaultOptions:pn})},ln.getMutationDefaults=function(dn){var pn;return dn?(pn=this.mutationDefaults.find(function(vn){return partialMatchKey(dn,vn.mutationKey)}))==null?void 0:pn.defaultOptions:void 0},ln.defaultQueryOptions=function(dn){if(dn!=null&&dn._defaulted)return dn;var pn=_extends({},this.defaultOptions.queries,this.getQueryDefaults(dn==null?void 0:dn.queryKey),dn,{_defaulted:!0});return!pn.queryHash&&pn.queryKey&&(pn.queryHash=hashQueryKeyByOptions(pn.queryKey,pn)),pn},ln.defaultQueryObserverOptions=function(dn){return this.defaultQueryOptions(dn)},ln.defaultMutationOptions=function(dn){return dn!=null&&dn._defaulted?dn:_extends({},this.defaultOptions.mutations,this.getMutationDefaults(dn==null?void 0:dn.mutationKey),dn,{_defaulted:!0})},ln.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},sn}(),QueryObserver=function(sn){_inheritsLoose$1(ln,sn);function ln(dn,pn){var vn;return vn=sn.call(this)||this,vn.client=dn,vn.options=pn,vn.trackedProps=[],vn.selectError=null,vn.bindMethods(),vn.setOptions(pn),vn}var cn=ln.prototype;return cn.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},cn.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),shouldFetchOnMount(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},cn.onUnsubscribe=function(){this.listeners.length||this.destroy()},cn.shouldFetchOnReconnect=function(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnReconnect)},cn.shouldFetchOnWindowFocus=function(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},cn.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},cn.setOptions=function(pn,vn){var Sn=this.options,En=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(pn),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=Sn.queryKey),this.updateQuery();var Cn=this.hasListeners();Cn&&shouldFetchOptionally(this.currentQuery,En,this.options,Sn)&&this.executeFetch(),this.updateResult(vn),Cn&&(this.currentQuery!==En||this.options.enabled!==Sn.enabled||this.options.staleTime!==Sn.staleTime)&&this.updateStaleTimeout();var Pn=this.computeRefetchInterval();Cn&&(this.currentQuery!==En||this.options.enabled!==Sn.enabled||Pn!==this.currentRefetchInterval)&&this.updateRefetchInterval(Pn)},cn.getOptimisticResult=function(pn){var vn=this.client.defaultQueryObserverOptions(pn),Sn=this.client.getQueryCache().build(this.client,vn);return this.createResult(Sn,vn)},cn.getCurrentResult=function(){return this.currentResult},cn.trackResult=function(pn,vn){var Sn=this,En={},Cn=function(Rn){Sn.trackedProps.includes(Rn)||Sn.trackedProps.push(Rn)};return Object.keys(pn).forEach(function(Pn){Object.defineProperty(En,Pn,{configurable:!1,enumerable:!0,get:function(){return Cn(Pn),pn[Pn]}})}),(vn.useErrorBoundary||vn.suspense)&&Cn("error"),En},cn.getNextResult=function(pn){var vn=this;return new Promise(function(Sn,En){var Cn=vn.subscribe(function(Pn){Pn.isFetching||(Cn(),Pn.isError&&(pn!=null&&pn.throwOnError)?En(Pn.error):Sn(Pn))})})},cn.getCurrentQuery=function(){return this.currentQuery},cn.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},cn.refetch=function(pn){return this.fetch(_extends({},pn,{meta:{refetchPage:pn==null?void 0:pn.refetchPage}}))},cn.fetchOptimistic=function(pn){var vn=this,Sn=this.client.defaultQueryObserverOptions(pn),En=this.client.getQueryCache().build(this.client,Sn);return En.fetch().then(function(){return vn.createResult(En,Sn)})},cn.fetch=function(pn){var vn=this;return this.executeFetch(pn).then(function(){return vn.updateResult(),vn.currentResult})},cn.executeFetch=function(pn){this.updateQuery();var vn=this.currentQuery.fetch(this.options,pn);return pn!=null&&pn.throwOnError||(vn=vn.catch(noop$1)),vn},cn.updateStaleTimeout=function(){var pn=this;if(this.clearStaleTimeout(),!(isServer||this.currentResult.isStale||!isValidTimeout(this.options.staleTime))){var vn=timeUntilStale(this.currentResult.dataUpdatedAt,this.options.staleTime),Sn=vn+1;this.staleTimeoutId=setTimeout(function(){pn.currentResult.isStale||pn.updateResult()},Sn)}},cn.computeRefetchInterval=function(){var pn;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(pn=this.options.refetchInterval)!=null?pn:!1},cn.updateRefetchInterval=function(pn){var vn=this;this.clearRefetchInterval(),this.currentRefetchInterval=pn,!(isServer||this.options.enabled===!1||!isValidTimeout(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(vn.options.refetchIntervalInBackground||focusManager.isFocused())&&vn.executeFetch()},this.currentRefetchInterval))},cn.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},cn.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},cn.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},cn.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},cn.createResult=function(pn,vn){var Sn=this.currentQuery,En=this.options,Cn=this.currentResult,Pn=this.currentResultState,Rn=this.currentResultOptions,Ln=pn!==Sn,Fn=Ln?pn.state:this.currentQueryInitialState,Gn=Ln?this.currentResult:this.previousQueryResult,Dn=pn.state,Kn=Dn.dataUpdatedAt,qn=Dn.error,Zn=Dn.errorUpdatedAt,Yn=Dn.isFetching,Jn=Dn.status,rs=!1,us=!1,as;if(vn.optimisticResults){var cs=this.hasListeners(),_s=!cs&&shouldFetchOnMount(pn,vn),Es=cs&&shouldFetchOptionally(pn,Sn,vn,En);(_s||Es)&&(Yn=!0,Kn||(Jn="loading"))}if(vn.keepPreviousData&&!Dn.dataUpdateCount&&(Gn!=null&&Gn.isSuccess)&&Jn!=="error")as=Gn.data,Kn=Gn.dataUpdatedAt,Jn=Gn.status,rs=!0;else if(vn.select&&typeof Dn.data<"u")if(Cn&&Dn.data===(Pn==null?void 0:Pn.data)&&vn.select===this.selectFn)as=this.selectResult;else try{this.selectFn=vn.select,as=vn.select(Dn.data),vn.structuralSharing!==!1&&(as=replaceEqualDeep(Cn==null?void 0:Cn.data,as)),this.selectResult=as,this.selectError=null}catch($s){getLogger().error($s),this.selectError=$s}else as=Dn.data;if(typeof vn.placeholderData<"u"&&typeof as>"u"&&(Jn==="loading"||Jn==="idle")){var Qn;if(Cn!=null&&Cn.isPlaceholderData&&vn.placeholderData===(Rn==null?void 0:Rn.placeholderData))Qn=Cn.data;else if(Qn=typeof vn.placeholderData=="function"?vn.placeholderData():vn.placeholderData,vn.select&&typeof Qn<"u")try{Qn=vn.select(Qn),vn.structuralSharing!==!1&&(Qn=replaceEqualDeep(Cn==null?void 0:Cn.data,Qn)),this.selectError=null}catch($s){getLogger().error($s),this.selectError=$s}typeof Qn<"u"&&(Jn="success",as=Qn,us=!0)}this.selectError&&(qn=this.selectError,as=this.selectResult,Zn=Date.now(),Jn="error");var ms={status:Jn,isLoading:Jn==="loading",isSuccess:Jn==="success",isError:Jn==="error",isIdle:Jn==="idle",data:as,dataUpdatedAt:Kn,error:qn,errorUpdatedAt:Zn,failureCount:Dn.fetchFailureCount,errorUpdateCount:Dn.errorUpdateCount,isFetched:Dn.dataUpdateCount>0||Dn.errorUpdateCount>0,isFetchedAfterMount:Dn.dataUpdateCount>Fn.dataUpdateCount||Dn.errorUpdateCount>Fn.errorUpdateCount,isFetching:Yn,isRefetching:Yn&&Jn!=="loading",isLoadingError:Jn==="error"&&Dn.dataUpdatedAt===0,isPlaceholderData:us,isPreviousData:rs,isRefetchError:Jn==="error"&&Dn.dataUpdatedAt!==0,isStale:isStale(pn,vn),refetch:this.refetch,remove:this.remove};return ms},cn.shouldNotifyListeners=function(pn,vn){if(!vn)return!0;var Sn=this.options,En=Sn.notifyOnChangeProps,Cn=Sn.notifyOnChangePropsExclusions;if(!En&&!Cn||En==="tracked"&&!this.trackedProps.length)return!0;var Pn=En==="tracked"?this.trackedProps:En;return Object.keys(pn).some(function(Rn){var Ln=Rn,Fn=pn[Ln]!==vn[Ln],Gn=Pn==null?void 0:Pn.some(function(Kn){return Kn===Rn}),Dn=Cn==null?void 0:Cn.some(function(Kn){return Kn===Rn});return Fn&&!Dn&&(!Pn||Gn)})},cn.updateResult=function(pn){var vn=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!shallowEqualObjects(this.currentResult,vn)){var Sn={cache:!0};(pn==null?void 0:pn.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,vn)&&(Sn.listeners=!0),this.notify(_extends({},Sn,pn))}},cn.updateQuery=function(){var pn=this.client.getQueryCache().build(this.client,this.options);if(pn!==this.currentQuery){var vn=this.currentQuery;this.currentQuery=pn,this.currentQueryInitialState=pn.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(vn==null||vn.removeObserver(this),pn.addObserver(this))}},cn.onQueryUpdate=function(pn){var vn={};pn.type==="success"?vn.onSuccess=!0:pn.type==="error"&&!isCancelledError(pn.error)&&(vn.onError=!0),this.updateResult(vn),this.hasListeners()&&this.updateTimers()},cn.notify=function(pn){var vn=this;notifyManager.batch(function(){pn.onSuccess?(vn.options.onSuccess==null||vn.options.onSuccess(vn.currentResult.data),vn.options.onSettled==null||vn.options.onSettled(vn.currentResult.data,null)):pn.onError&&(vn.options.onError==null||vn.options.onError(vn.currentResult.error),vn.options.onSettled==null||vn.options.onSettled(void 0,vn.currentResult.error)),pn.listeners&&vn.listeners.forEach(function(Sn){Sn(vn.currentResult)}),pn.cache&&vn.client.getQueryCache().notify({query:vn.currentQuery,type:"observerResultsUpdated"})})},ln}(Subscribable);function shouldLoadOnMount(sn,ln){return ln.enabled!==!1&&!sn.state.dataUpdatedAt&&!(sn.state.status==="error"&&ln.retryOnMount===!1)}function shouldFetchOnMount(sn,ln){return shouldLoadOnMount(sn,ln)||sn.state.dataUpdatedAt>0&&shouldFetchOn(sn,ln,ln.refetchOnMount)}function shouldFetchOn(sn,ln,cn){if(ln.enabled!==!1){var dn=typeof cn=="function"?cn(sn):cn;return dn==="always"||dn!==!1&&isStale(sn,ln)}return!1}function shouldFetchOptionally(sn,ln,cn,dn){return cn.enabled!==!1&&(sn!==ln||dn.enabled===!1)&&(!cn.suspense||sn.state.status!=="error")&&isStale(sn,cn)}function isStale(sn,ln){return sn.isStaleByTime(ln.staleTime)}var MutationObserver$2=function(sn){_inheritsLoose$1(ln,sn);function ln(dn,pn){var vn;return vn=sn.call(this)||this,vn.client=dn,vn.setOptions(pn),vn.bindMethods(),vn.updateResult(),vn}var cn=ln.prototype;return cn.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},cn.setOptions=function(pn){this.options=this.client.defaultMutationOptions(pn)},cn.onUnsubscribe=function(){if(!this.listeners.length){var pn;(pn=this.currentMutation)==null||pn.removeObserver(this)}},cn.onMutationUpdate=function(pn){this.updateResult();var vn={listeners:!0};pn.type==="success"?vn.onSuccess=!0:pn.type==="error"&&(vn.onError=!0),this.notify(vn)},cn.getCurrentResult=function(){return this.currentResult},cn.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},cn.mutate=function(pn,vn){return this.mutateOptions=vn,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,_extends({},this.options,{variables:typeof pn<"u"?pn:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},cn.updateResult=function(){var pn=this.currentMutation?this.currentMutation.state:getDefaultState(),vn=_extends({},pn,{isLoading:pn.status==="loading",isSuccess:pn.status==="success",isError:pn.status==="error",isIdle:pn.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=vn},cn.notify=function(pn){var vn=this;notifyManager.batch(function(){vn.mutateOptions&&(pn.onSuccess?(vn.mutateOptions.onSuccess==null||vn.mutateOptions.onSuccess(vn.currentResult.data,vn.currentResult.variables,vn.currentResult.context),vn.mutateOptions.onSettled==null||vn.mutateOptions.onSettled(vn.currentResult.data,null,vn.currentResult.variables,vn.currentResult.context)):pn.onError&&(vn.mutateOptions.onError==null||vn.mutateOptions.onError(vn.currentResult.error,vn.currentResult.variables,vn.currentResult.context),vn.mutateOptions.onSettled==null||vn.mutateOptions.onSettled(void 0,vn.currentResult.error,vn.currentResult.variables,vn.currentResult.context))),pn.listeners&&vn.listeners.forEach(function(Sn){Sn(vn.currentResult)})})},ln}(Subscribable),unstable_batchedUpdates=ReactDOM.unstable_batchedUpdates;notifyManager.setBatchNotifyFunction(unstable_batchedUpdates);var logger=console;setLogger(logger);var defaultContext=gS.createContext(void 0),QueryClientSharingContext=gS.createContext(!1);function getQueryClientContext(sn){return sn&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=defaultContext),window.ReactQueryClientContext):defaultContext}var useQueryClient=function(){var ln=gS.useContext(getQueryClientContext(gS.useContext(QueryClientSharingContext)));if(!ln)throw new Error("No QueryClient set, use QueryClientProvider to set one");return ln},QueryClientProvider=function(ln){var cn=ln.client,dn=ln.contextSharing,pn=dn===void 0?!1:dn,vn=ln.children;gS.useEffect(function(){return cn.mount(),function(){cn.unmount()}},[cn]);var Sn=getQueryClientContext(pn);return jsx$1(QueryClientSharingContext.Provider,{value:pn,children:jsx$1(Sn.Provider,{value:cn,children:vn})})};function createValue(){var sn=!1;return{clearReset:function(){sn=!1},reset:function(){sn=!0},isReset:function(){return sn}}}var QueryErrorResetBoundaryContext=gS.createContext(createValue()),useQueryErrorResetBoundary=function(){return gS.useContext(QueryErrorResetBoundaryContext)};function shouldThrowError(sn,ln,cn){return typeof ln=="function"?ln.apply(void 0,cn):typeof ln=="boolean"?ln:!!sn}function useMutation(sn,ln,cn){var dn=gS.useRef(!1),pn=gS.useState(0),vn=pn[1],Sn=parseMutationArgs(sn,ln,cn),En=useQueryClient(),Cn=gS.useRef();Cn.current?Cn.current.setOptions(Sn):Cn.current=new MutationObserver$2(En,Sn);var Pn=Cn.current.getCurrentResult();gS.useEffect(function(){dn.current=!0;var Ln=Cn.current.subscribe(notifyManager.batchCalls(function(){dn.current&&vn(function(Fn){return Fn+1})}));return function(){dn.current=!1,Ln()}},[]);var Rn=gS.useCallback(function(Ln,Fn){Cn.current.mutate(Ln,Fn).catch(noop$1)},[]);if(Pn.error&&shouldThrowError(void 0,Cn.current.options.useErrorBoundary,[Pn.error]))throw Pn.error;return _extends({},Pn,{mutate:Rn,mutateAsync:Pn.mutate})}function useBaseQuery(sn,ln){var cn=gS.useRef(!1),dn=gS.useState(0),pn=dn[1],vn=useQueryClient(),Sn=useQueryErrorResetBoundary(),En=vn.defaultQueryObserverOptions(sn);En.optimisticResults=!0,En.onError&&(En.onError=notifyManager.batchCalls(En.onError)),En.onSuccess&&(En.onSuccess=notifyManager.batchCalls(En.onSuccess)),En.onSettled&&(En.onSettled=notifyManager.batchCalls(En.onSettled)),En.suspense&&(typeof En.staleTime!="number"&&(En.staleTime=1e3),En.cacheTime===0&&(En.cacheTime=1)),(En.suspense||En.useErrorBoundary)&&(Sn.isReset()||(En.retryOnMount=!1));var Cn=gS.useState(function(){return new ln(vn,En)}),Pn=Cn[0],Rn=Pn.getOptimisticResult(En);if(gS.useEffect(function(){cn.current=!0,Sn.clearReset();var Ln=Pn.subscribe(notifyManager.batchCalls(function(){cn.current&&pn(function(Fn){return Fn+1})}));return Pn.updateResult(),function(){cn.current=!1,Ln()}},[Sn,Pn]),gS.useEffect(function(){Pn.setOptions(En,{listeners:!1})},[En,Pn]),En.suspense&&Rn.isLoading)throw Pn.fetchOptimistic(En).then(function(Ln){var Fn=Ln.data;En.onSuccess==null||En.onSuccess(Fn),En.onSettled==null||En.onSettled(Fn,null)}).catch(function(Ln){Sn.clearReset(),En.onError==null||En.onError(Ln),En.onSettled==null||En.onSettled(void 0,Ln)});if(Rn.isError&&!Sn.isReset()&&!Rn.isFetching&&shouldThrowError(En.suspense,En.useErrorBoundary,[Rn.error,Pn.getCurrentQuery()]))throw Rn.error;return En.notifyOnChangeProps==="tracked"&&(Rn=Pn.trackResult(Rn,En)),Rn}function useQuery(sn,ln,cn){var dn=parseQueryArgs(sn,ln,cn);return useBaseQuery(dn,QueryObserver)}var global$o=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global$o<"u"&&global$o,support={searchParams:"URLSearchParams"in global$o,iterable:"Symbol"in global$o&&"iterator"in Symbol,blob:"FileReader"in global$o&&"Blob"in global$o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in global$o,arrayBuffer:"ArrayBuffer"in global$o};function isDataView(sn){return sn&&DataView.prototype.isPrototypeOf(sn)}if(support.arrayBuffer)var viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],isArrayBufferView=ArrayBuffer.isView||function(sn){return sn&&viewClasses.indexOf(Object.prototype.toString.call(sn))>-1};function normalizeName(sn){if(typeof sn!="string"&&(sn=String(sn)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(sn)||sn==="")throw new TypeError('Invalid character in header field name: "'+sn+'"');return sn.toLowerCase()}function normalizeValue(sn){return typeof sn!="string"&&(sn=String(sn)),sn}function iteratorFor(sn){var ln={next:function(){var cn=sn.shift();return{done:cn===void 0,value:cn}}};return support.iterable&&(ln[Symbol.iterator]=function(){return ln}),ln}function Headers$1(sn){this.map={},sn instanceof Headers$1?sn.forEach(function(ln,cn){this.append(cn,ln)},this):Array.isArray(sn)?sn.forEach(function(ln){this.append(ln[0],ln[1])},this):sn&&Object.getOwnPropertyNames(sn).forEach(function(ln){this.append(ln,sn[ln])},this)}Headers$1.prototype.append=function(sn,ln){sn=normalizeName(sn),ln=normalizeValue(ln);var cn=this.map[sn];this.map[sn]=cn?cn+", "+ln:ln};Headers$1.prototype.delete=function(sn){delete this.map[normalizeName(sn)]};Headers$1.prototype.get=function(sn){return sn=normalizeName(sn),this.has(sn)?this.map[sn]:null};Headers$1.prototype.has=function(sn){return this.map.hasOwnProperty(normalizeName(sn))};Headers$1.prototype.set=function(sn,ln){this.map[normalizeName(sn)]=normalizeValue(ln)};Headers$1.prototype.forEach=function(sn,ln){for(var cn in this.map)this.map.hasOwnProperty(cn)&&sn.call(ln,this.map[cn],cn,this)};Headers$1.prototype.keys=function(){var sn=[];return this.forEach(function(ln,cn){sn.push(cn)}),iteratorFor(sn)};Headers$1.prototype.values=function(){var sn=[];return this.forEach(function(ln){sn.push(ln)}),iteratorFor(sn)};Headers$1.prototype.entries=function(){var sn=[];return this.forEach(function(ln,cn){sn.push([cn,ln])}),iteratorFor(sn)};support.iterable&&(Headers$1.prototype[Symbol.iterator]=Headers$1.prototype.entries);function consumed(sn){if(sn.bodyUsed)return Promise.reject(new TypeError("Already read"));sn.bodyUsed=!0}function fileReaderReady(sn){return new Promise(function(ln,cn){sn.onload=function(){ln(sn.result)},sn.onerror=function(){cn(sn.error)}})}function readBlobAsArrayBuffer(sn){var ln=new FileReader,cn=fileReaderReady(ln);return ln.readAsArrayBuffer(sn),cn}function readBlobAsText(sn){var ln=new FileReader,cn=fileReaderReady(ln);return ln.readAsText(sn),cn}function readArrayBufferAsText(sn){for(var ln=new Uint8Array(sn),cn=new Array(ln.length),dn=0;dn<ln.length;dn++)cn[dn]=String.fromCharCode(ln[dn]);return cn.join("")}function bufferClone(sn){if(sn.slice)return sn.slice(0);var ln=new Uint8Array(sn.byteLength);return ln.set(new Uint8Array(sn)),ln.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(sn){this.bodyUsed=this.bodyUsed,this._bodyInit=sn,sn?typeof sn=="string"?this._bodyText=sn:support.blob&&Blob.prototype.isPrototypeOf(sn)?this._bodyBlob=sn:support.formData&&FormData.prototype.isPrototypeOf(sn)?this._bodyFormData=sn:support.searchParams&&URLSearchParams.prototype.isPrototypeOf(sn)?this._bodyText=sn.toString():support.arrayBuffer&&support.blob&&isDataView(sn)?(this._bodyArrayBuffer=bufferClone(sn.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):support.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(sn)||isArrayBufferView(sn))?this._bodyArrayBuffer=bufferClone(sn):this._bodyText=sn=Object.prototype.toString.call(sn):this._bodyText="",this.headers.get("content-type")||(typeof sn=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):support.searchParams&&URLSearchParams.prototype.isPrototypeOf(sn)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},support.blob&&(this.blob=function(){var sn=consumed(this);if(sn)return sn;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var sn=consumed(this);return sn||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var sn=consumed(this);if(sn)return sn;if(this._bodyBlob)return readBlobAsText(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},support.formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function normalizeMethod(sn){var ln=sn.toUpperCase();return methods.indexOf(ln)>-1?ln:sn}function Request$1(sn,ln){if(!(this instanceof Request$1))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');ln=ln||{};var cn=ln.body;if(sn instanceof Request$1){if(sn.bodyUsed)throw new TypeError("Already read");this.url=sn.url,this.credentials=sn.credentials,ln.headers||(this.headers=new Headers$1(sn.headers)),this.method=sn.method,this.mode=sn.mode,this.signal=sn.signal,!cn&&sn._bodyInit!=null&&(cn=sn._bodyInit,sn.bodyUsed=!0)}else this.url=String(sn);if(this.credentials=ln.credentials||this.credentials||"same-origin",(ln.headers||!this.headers)&&(this.headers=new Headers$1(ln.headers)),this.method=normalizeMethod(ln.method||this.method||"GET"),this.mode=ln.mode||this.mode||null,this.signal=ln.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&cn)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(cn),(this.method==="GET"||this.method==="HEAD")&&(ln.cache==="no-store"||ln.cache==="no-cache")){var dn=/([?&])_=[^&]*/;if(dn.test(this.url))this.url=this.url.replace(dn,"$1_="+new Date().getTime());else{var pn=/\?/;this.url+=(pn.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Request$1.prototype.clone=function(){return new Request$1(this,{body:this._bodyInit})};function decode(sn){var ln=new FormData;return sn.trim().split("&").forEach(function(cn){if(cn){var dn=cn.split("="),pn=dn.shift().replace(/\+/g," "),vn=dn.join("=").replace(/\+/g," ");ln.append(decodeURIComponent(pn),decodeURIComponent(vn))}}),ln}function parseHeaders(sn){var ln=new Headers$1,cn=sn.replace(/\r?\n[\t ]+/g," ");return cn.split("\r").map(function(dn){return dn.indexOf(`
`)===0?dn.substr(1,dn.length):dn}).forEach(function(dn){var pn=dn.split(":"),vn=pn.shift().trim();if(vn){var Sn=pn.join(":").trim();ln.append(vn,Sn)}}),ln}Body.call(Request$1.prototype);function Response$1(sn,ln){if(!(this instanceof Response$1))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');ln||(ln={}),this.type="default",this.status=ln.status===void 0?200:ln.status,this.ok=this.status>=200&&this.status<300,this.statusText=ln.statusText===void 0?"":""+ln.statusText,this.headers=new Headers$1(ln.headers),this.url=ln.url||"",this._initBody(sn)}Body.call(Response$1.prototype);Response$1.prototype.clone=function(){return new Response$1(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers$1(this.headers),url:this.url})};Response$1.error=function(){var sn=new Response$1(null,{status:0,statusText:""});return sn.type="error",sn};var redirectStatuses=[301,302,303,307,308];Response$1.redirect=function(sn,ln){if(redirectStatuses.indexOf(ln)===-1)throw new RangeError("Invalid status code");return new Response$1(null,{status:ln,headers:{location:sn}})};var DOMException$1=global$o.DOMException;try{new DOMException$1}catch{DOMException$1=function(ln,cn){this.message=ln,this.name=cn;var dn=Error(ln);this.stack=dn.stack},DOMException$1.prototype=Object.create(Error.prototype),DOMException$1.prototype.constructor=DOMException$1}function fetch$1(sn,ln){return new Promise(function(cn,dn){var pn=new Request$1(sn,ln);if(pn.signal&&pn.signal.aborted)return dn(new DOMException$1("Aborted","AbortError"));var vn=new XMLHttpRequest;function Sn(){vn.abort()}vn.onload=function(){var Cn={status:vn.status,statusText:vn.statusText,headers:parseHeaders(vn.getAllResponseHeaders()||"")};Cn.url="responseURL"in vn?vn.responseURL:Cn.headers.get("X-Request-URL");var Pn="response"in vn?vn.response:vn.responseText;setTimeout(function(){cn(new Response$1(Pn,Cn))},0)},vn.onerror=function(){setTimeout(function(){dn(new TypeError("Network request failed"))},0)},vn.ontimeout=function(){setTimeout(function(){dn(new TypeError("Network request failed"))},0)},vn.onabort=function(){setTimeout(function(){dn(new DOMException$1("Aborted","AbortError"))},0)};function En(Cn){try{return Cn===""&&global$o.location.href?global$o.location.href:Cn}catch{return Cn}}vn.open(pn.method,En(pn.url),!0),pn.credentials==="include"?vn.withCredentials=!0:pn.credentials==="omit"&&(vn.withCredentials=!1),"responseType"in vn&&(support.blob?vn.responseType="blob":support.arrayBuffer&&pn.headers.get("Content-Type")&&pn.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(vn.responseType="arraybuffer")),ln&&typeof ln.headers=="object"&&!(ln.headers instanceof Headers$1)?Object.getOwnPropertyNames(ln.headers).forEach(function(Cn){vn.setRequestHeader(Cn,normalizeValue(ln.headers[Cn]))}):pn.headers.forEach(function(Cn,Pn){vn.setRequestHeader(Pn,Cn)}),pn.signal&&(pn.signal.addEventListener("abort",Sn),vn.onreadystatechange=function(){vn.readyState===4&&pn.signal.removeEventListener("abort",Sn)}),vn.send(typeof pn._bodyInit>"u"?null:pn._bodyInit)})}fetch$1.polyfill=!0;global$o.fetch||(global$o.fetch=fetch$1,global$o.Headers=Headers$1,global$o.Request=Request$1,global$o.Response=Response$1);self.fetch.bind(self);class ApiError extends Error{constructor(ln){super(),this.response=ln,this.name="ApiError",this.response=ln}get statusCode(){return this.response.statusCode}get message(){return this.response.message}get isNotFound(){return this.statusCode===ResponseStatus.NOT_FOUND}get isUnauthorized(){return this.statusCode===ResponseStatus.UNAUTHORIZED}get idServerError(){return this.statusCode===ResponseStatus.SERVER_ERROR}get isDuplicate(){return this.statusCode===ResponseStatus.DUPLICATE}get isBadRequest(){return this.statusCode===ResponseStatus.BAD_REQUEST}get isBadParameter(){return this.statusCode===ResponseStatus.BAD_PARAMETER}get isConflict(){return this.statusCode===ResponseStatus.CONFLICT}get isForbidden(){return this.statusCode===ResponseStatus.FORBIDDEN}get isPayloadTooLarge(){return this.statusCode===ResponseStatus.PAYLOAD_TOO_LARGE}get isTooManyRequests(){return this.statusCode==="TOO_MANY_REQUESTS"}}function isRecordType(sn){return isPlainObject$3(sn)&&!isEmpty(sn)}const REQUEST_TIME_OUT=10*1e3;class Fetcher{constructor(ln){$l(this,"defaultHeader");$l(this,"BASE_URL");this.defaultHeader={"Content-Type":"application/json"},this.BASE_URL=ln||appConfig.API_ENDPOINT}async get(ln,cn){const dn=await this._request({path:ln,method:"GET",options:cn});return await this.successResponse(dn)}async post(ln,cn,dn){const pn=await this._request({path:ln,method:"POST",body:cn,options:dn});return await this.successResponse(pn)}async patch(ln,cn,dn){const pn=await this._request({path:ln,method:"PATCH",body:cn,options:dn});return await this.successResponse(pn)}async put(ln,cn,dn){const pn=await this._request({path:ln,method:"PUT",body:cn,options:dn});return await this.successResponse(pn)}async delete(ln,cn,dn){const pn=await this._request({path:ln,method:"DELETE",body:cn,options:dn});return await this.successResponse(pn)}abortSignal(ln){var pn;const cn=new AbortController,dn=setTimeout(()=>{cn.abort(),clearTimeout(dn)},ln??REQUEST_TIME_OUT);return(pn=dn==null?void 0:dn.unref)==null||pn.call(dn),cn.signal}isErrorResponse(ln){return isRecordType(ln)&&has$1(ln,"data")&&has$1(ln,"statusCode")&&has$1(ln,"message")&&ln.statusCode!==ResponseStatus.OK}log({level:ln,status:cn,url:dn,data:pn,handled:vn}){const En=`fetch: [${vn?"HANDLED":"UNHANDLED"} ${cn}] *url: ${dn} *data: ${pn??""} *release: ${window.__RELEASE__}`;console[ln](En)}isInfoLevelError(ln){return ln===ResponseStatus.NOT_FOUND||ln===ResponseStatus.UNAUTHORIZED||ln===ResponseStatus.CONFLICT||ln===ResponseStatus.DUPLICATE||ln===ResponseStatus.FORBIDDEN||ln===ResponseStatus.PAYLOAD_TOO_LARGE||ln===ResponseStatus.TOO_MANY_REQUESTS}async successResponse(ln){if(!ln.ok){const dn=await ln.text();try{const pn=JSON.parse(dn);if(this.log({level:"error",status:`${ln.status} error`,url:ln.url,data:dn,handled:!1}),this.isErrorResponse(pn))throw new ApiError({statusCode:pn.statusCode,message:pn.message,data:null})}catch(pn){this.log({level:"info",status:`${ln.status} info`,url:ln.url,data:`${dn}, ${JSON.stringify(pn)}`,handled:!1})}throw new ApiError({statusCode:ln.status.toString(),message:ln.statusText,data:null})}const cn=await ln.json();if(this.isErrorResponse(cn)){const dn=this.isInfoLevelError(cn.statusCode)?"info":"error";throw this.log({level:dn,status:`${ln.status} error ${cn.statusCode}: ${cn.message}`,url:ln.url,handled:!0}),new ApiError({...cn,statusCode:cn.statusCode})}return cn}async _request({path:ln,method:cn,body:dn,options:pn}){const vn=this.abortSignal(pn==null?void 0:pn.timeout),Sn={signal:vn,headers:this.defaultHeader},En=Object.assign(Sn,{body:dn instanceof FormData?dn:JSON.stringify(dn)},omit$1(pn,"baseURL"),{credentials:(pn==null?void 0:pn.credentials)||"include"}),Cn=(pn==null?void 0:pn.baseURL)??this.BASE_URL;return fetch(`${Cn}${ln}`,{method:cn,...En}).catch(Pn=>{throw Pn instanceof DOMException&&Pn.name==="AbortError"&&vn.aborted&&this.log({level:"info",status:`${Pn.name} error ${Pn.message}`,url:ln,handled:!0}),Pn})}}const fetcher=new Fetcher;var ResponseStatus=(sn=>(sn.OK="OK",sn.SERVER_ERROR="SERVER_ERROR",sn.DUPLICATE="DUPLICATE",sn.NOT_FOUND="NOT_FOUND",sn.BAD_REQUEST="BAD_REQUEST",sn.BAD_PARAMETER="BAD_PARAMETER",sn.CONFLICT="CONFLICT",sn.UNAUTHORIZED="UNAUTHORIZED",sn.FORBIDDEN="FORBIDDEN",sn.PAYLOAD_TOO_LARGE="PAYLOAD_TOO_LARGE",sn.TOO_MANY_REQUESTS="TOO_MANY_REQUESTS",sn))(ResponseStatus||{});const API_ENDPOINT={V1_HEALTH:"/v1/health",V2_USER_USERID_INTRODUCE:sn=>`/v2/user/${sn}/introduce`,V2_USER_ID:"/v2/user/id",V2_USER_PROFILE:"/v2/user/profile",V2_USER_USERID_PROFILE:sn=>`/v2/user/${sn}/profile`,V2_USER_USERID_IS_FOLLOWING:sn=>`/v2/user/${sn}/is-following`,V2_USER_ID_SLUG:sn=>`/v2/user/${sn}/slug`,V2_USER_ID_QUESTION_META:sn=>`/v2/user/${sn}/question-meta`,V2_INSTRUCTOR_ID_PROFILE:sn=>`/v2/instructor/${sn}/profile`,V1_SESSION:"/v1/session",V2_SESSION:"/v2/session",V1_UNIT_BY_VOD:"/v1/unit/by-vod",V1_UNIT:"/v1/unit",V1_UNIT_ATTACHMENT:"/v1/unit/attachment",V1_UNIT_COMPLETE:"/v1/unit/complete",V1_UNIT_FIRST:"/v1/unit/first",V1_UNIT_CURRENT:"/v1/unit/current",V1_UNIT_PREVIEW:"/v1/unit/preview",V1_UNIT_ID:sn=>`/v1/unit/${sn}`,V2_UNIT:"/v2/unit",V2_UNIT_COMPLETE:"/v2/unit/complete",V2_UNIT_ATTACHMENT:"/v2/unit/attachment",V2_UNIT_ID:sn=>`/v2/unit/${sn}`,V1_COURSE_ID_REVIEW_STATS:sn=>`/v1/course/${sn}/review-stats`,V1_COURSE_ID_REVIEW:sn=>`/v1/course/${sn}/review`,V1_COURSE_REVIEW:"/v1/course/review",V1_COURSE:"/v1/course",V1_COURSE_ID_PAYMENT_INFO:sn=>`/v1/course/${sn}/payment-info`,V1_COURSE_BY_SLUG:"/v1/course/by-slug",V1_COURSE_MY_VOUCHER:"/v1/course/my-voucher",V2_COURSE_USER_USERID:sn=>`/v2/course/user/${sn}`,V2_COURSE_ID_SKILL_TAG:sn=>`/v2/course/${sn}/skill-tag`,V2_COURSE_MY_VOUCHER:"/v2/course/my-voucher",V2_COURSE_BY_SLUG:"/v2/course/by-slug",V2_COURSE_ID_PAYMENT_INFO:sn=>`/v2/course/${sn}/payment-info`,V2_COURSE_REVIEW:"/v2/course/review",V2_COURSE_COURSEID_LIKE:sn=>`/v2/course/${sn}/like`,V1_AUDIT_LECTURE_UNIT:"/v1/audit/lecture/unit",V2_UNIT_COMPLETE_CURRENT_TIME:"/v2/unit/complete/current-time",V1_POST_ID_SLUG:sn=>`/v1/post/${sn}/slug`,V1_POST_BY_USER:"/v1/post/by-user",V1_POST_BY_ADMIN:"/v1/post/by-admin",V1_POST_QUESTION:"/v1/post/question",V1_POST_CHAT:"/v1/post/chat",V1_POST_STUDY:"/v1/post/study",V1_POST:"/v1/post",V1_POST_POPULAR_TAG:"/v1/post/popular-tag",V1_POST_ID:sn=>`/v1/post/${sn}`,V1_POST_STUDY_ID:sn=>`/v1/post/study/${sn}`,V1_POST_CHAT_ID:sn=>`/v1/post/chat/${sn}`,V1_POST_QUESTION_ID:sn=>`/v1/post/question/${sn}`,V1_POST_ID_IS_SPAM:sn=>`/v1/post/${sn}/is-spam`,V1_SEARCH_ADMIN_POST_ID_IS_SPAM:sn=>`/v1/search-admin/post/${sn}/is-spam`,V1_SEARCH_ADMIN_POST_WRITER_ID_IS_SPAM:sn=>`/v1/search-admin/post/writer/${sn}/is-spam`,V2_POST_USER_USERID:sn=>`/v2/post/user/${sn}`,V2_POST_ID_SIMILAR_POST:sn=>`/v2/post/${sn}/similar-post`,V2_POST_COURSE_REVIEW_USER_USERID:sn=>`/v2/post/course-review/user/${sn}`,V1_COURSE_FAQ:"/v1/course-faq",V2_COURSE_FAQ:"/v2/course-faq",V1_REACTION_POST_ID:sn=>`/v1/reaction/post/${sn}`,V1_REACTION_COMMENT_ID:sn=>`/v1/reaction/comment/${sn}`,V2_REACTION_REVIEW_ID:sn=>`/v2/reaction/review/${sn}`,V2_REACTION_POST_ID:sn=>`/v2/reaction/post/${sn}`,V2_REACTION_COMMENT_ID:sn=>`/v2/reaction/comment/${sn}`,V2_REACTION_RE_COMMENT_ID:sn=>`/v2/reaction/re-comment/${sn}`,V2_REACTION_BLOG_ID:sn=>`/v2/reaction/blog/${sn}`,V1_BOOKMARK:"/v1/bookmark",V2_BOOKMARK_QUESTION_ID:sn=>`/v2/bookmark/question/${sn}`,V1_FILE_HLS_ENCRYPTURL:"/v1/file/hls-encrypt-url",V1_FILE_HLS_ENCRYPTSTATUS:"/v1/file/hls-encrypt-status",V1_FILE_POST_IMAGE:"/v1/file/post-image",V2_FILE_POST_IMAGE:"/v2/file/post-image",V2_FILE_UNIT_VIDEO:"/v2/file/unit-video",V1_COMMENT_BY_ADMIN:"/v1/comment/by-admin",V1_COMMENT_ID_IS_SPAM:sn=>`/v1/comment/${sn}/is-spam`,V1_COMMENT:"/v1/comment",V1_COMMENT_ID:sn=>`/v1/comment/${sn}`,V1_RE_COMMENT:"/v1/re-comment",V1_RE_COMMENT_ID:sn=>`/v1/re-comment/${sn}`,V2_COMMENT_ID:sn=>`/v2/comment/${sn}`,V2_COMMENT_QUESTION_ID:sn=>`/v2/comment/question/${sn}`,V2_COMMENT_QUESTION:"/v2/comment/question",V2_COMMENT_CHAT:"/v2/comment/chat",V2_COMMENT_CHAT_ID:sn=>`/v2/comment/chat/${sn}`,V2_COMMENT_FEED_ID:sn=>`/v2/comment/feed/${sn}`,V2_RE_COMMENT:"/v2/re-comment",V2_RE_COMMENT_ID:sn=>`/v2/re-comment/${sn}`,V1_NOTE_ID:sn=>`/v1/note/${sn}`,V1_NOTE:"/v1/note",V1_NOTE_BY_USER:"/v1/note/by-user",V1_NOTE_BY_USER_SEARCH:"/v1/note/by-user/search",V1_NOTE_BY_ADMIN:"/v1/note/by-admin",V2_NOTE_ID:sn=>`/v2/note/${sn}`,V2_NOTE:"/v2/note",V2_NOTE_ME:"/v2/note/me",V1_CART:"/v1/cart",V2_CART:"/v2/cart",V1_SEARCH_COURSE_SEQUENCE:"/v1/search/course/sequence",V1_SEARCH_COURSE_ID:sn=>`/v1/search/course/${sn}`,V1_SEARCH_USER_ID:sn=>`/v1/search/user/${sn}`,V1_SEARCH_USERS:"/v1/search/users",V1_SEARCH_QUESTION_ID:sn=>`/v1/search/question/${sn}`,V1_SEARCH_CHAT_ID:sn=>`/v1/search/chat/${sn}`,V1_SEARCH_STUDY_ID:sn=>`/v1/search/study/${sn}`,V1_SEARCH_PROJECT_ID:sn=>`/v1/search/project/${sn}`,V1_SEARCH_ROADMAP_ID:sn=>`/v1/search/roadmap/${sn}`,V1_SEARCH_COMMENT_ID:sn=>`/v1/search/comment/${sn}`,V1_QUESTION_COMMUNITY:"/v1/question/community",V1_QUESTION_COURSE:"/v1/question/course",V1_QUESTION_LECTURE:"/v1/question/lecture",V1_QUESTION_STATUS:"/v1/question/status",V1_QUESTION_ID:sn=>`/v1/question/${sn}`,V2_QUESTION_ID_SPAM:sn=>`/v2/question/${sn}/spam`,V2_QUESTION_UNCOMMENTED:"/v2/question/uncommented",V2_QUESTION_ID:sn=>`/v2/question/${sn}`,V2_QUESTION:"/v2/question",V2_QUESTION_ID_STATUS:sn=>`/v2/question/${sn}/status`,V1_COURSE_SKILL_SEARCH:"/v1/course-skill/search",V1_COURSE_SKILL:"/v1/course-skill",V2_COURSE_SKILL_SEARCH:"/v2/course-skill/search",V2_MENTOR_ID:sn=>`/v2/mentor/${sn}`,V2_MENTOR_ID_MENTORING_BYDATE:sn=>`/v2/mentor/${sn}/mentoring-by-date`,V1_STUDY_COMMUNITY:"/v1/study/community",V1_STUDY_COURSE:"/v1/study/course",V1_STUDY_LECTURE:"/v1/study/lecture",V1_STUDY_STATUS:"/v1/study/status",V1_STUDY_ID:sn=>`/v1/study/${sn}`,V1_CHAT_COMMUNITY:"/v1/chat/community",V1_CHAT_COURSE:"/v1/chat/course",V1_CHAT_LECTURE:"/v1/chat/lecture",V1_CHAT_ID:sn=>`/v1/chat/${sn}`,V2_CHAT_ID:sn=>`/v2/chat/${sn}`,V2_CHAT:"/v2/chat",V2_VOTE_QUESTION_ID:sn=>`/v2/vote/question/${sn}`,V2_VOTE_COMMENT_ID:sn=>`/v2/vote/comment/${sn}`,V1_BLOG_ID_IS_SPAM:sn=>`/v1/blog/${sn}/is-spam`,V1_BLOG_BY_ADMIN:"/v1/blog/by-admin",V1_BLOG_BY_ADMIN_ID:sn=>`/v1/blog/by-admin/${sn}`,V2_BLOG_USER_USERID:sn=>`/v2/blog/user/${sn}`,V2_BLOG_USER_USERID_CATEGORY:sn=>`/v2/blog/user/${sn}/category`,V2_BLOG_USER_USERID_TAG:sn=>`/v2/blog/user/${sn}/tag`,V2_BLOG:"/v2/blog",V2_BLOG_ID:sn=>`/v2/blog/${sn}`,V1_MENTORING_BY_ADMIN_IDS:"/v1/mentoring/by-admin/ids",V2_MENTORING_RESERVED:"/v2/mentoring/reserved",V1_ROADMAP:"/v1/roadmap",V1_COMMUNITY_STATS_DAILY:"/v1/community/stats/daily",V1_COMMUNITY_RANK_USER:"/v1/community/rank/user",V1_COMMUNITY_RANK_POST:"/v1/community/rank/post",V1_NOTIFICATION_COUPON_BEFOREEXPIRE:"/v1/notification/coupon-before-expire",V1_NOTIFICATION_COURSE_REVIEWCOMMENT:"/v1/notification/course-review-comment",V1_NOTIFICATION_MENTORING_APPLYFORMENTEE:"/v1/notification/mentoring-apply-for-mentee",V1_NOTIFICATION_MENTORING_APPLYFORMENTOR:"/v1/notification/mentoring-apply-for-mentor",V1_NOTIFICATION_MENTORING_AUTOCANCEL:"/v1/notification/mentoring-auto-cancel",V1_NOTIFICATION_MENTORING_APPROVEDFORMENTEE:"/v1/notification/mentoring-approved-for-mentee",V1_NOTIFICATION_MENTORING_MESSAGEFORMENTEE:"/v1/notification/mentoring-message-for-mentee",V1_NOTIFICATION_MENTORING_CANCELEDBYMENTORFORMENTEE:"/v1/notification/mentoring-canceled-by-mentor-for-mentee",V1_NOTIFICATION_MENTORING_REMINDER:"/v1/notification/mentoring-reminder",V1_NOTIFICATION_MENTORING_AUTOCANCELFORMENTOR:"/v1/notification/mentoring-auto-cancel-for-mentor",V1_NOTIFICATION_MENTORING_REVIEW:"/v1/notification/mentoring-review",V1_NOTIFICATION_MENTORING_CHANGESCHEDULEFORMENTEE:"/v1/notification/mentoring-change-schedule-for-mentee",V1_NOTIFICATION_MENTORING_CANCELFORMENTOR:"/v1/notification/mentoring-cancel-for-mentor",V1_NOTIFICATION_MENTORING_NOSHOWREMINDERFORMENTEE:"/v1/notification/mentoring-no-show-reminder-for-mentee",V1_NOTIFICATION_MENTORING_NOSHOWREMINDERFORMENTOR:"/v1/notification/mentoring-no-show-reminder-for-mentor",V2_BLOG_COMMENT:"/v2/blog-comment",V2_BLOG_COMMENT_ID:sn=>`/v2/blog-comment/${sn}`,V2_BLOG_RECOMMENT:"/v2/blog-re-comment",V2_BLOG_RECOMMENT_ID:sn=>`/v2/blog-re-comment/${sn}`,V2_OFFLINE_COURSE_COURSEID_PRE_OPENNOTIFICATION:sn=>`/v2/offline-course/${sn}/pre-open-notification`,V1_OFFLINE_COURSE_SCHEDULE_PRE_OPENNOTIFICATION:"/v1/offline-course/schedule/pre-open-notification",V1_OFFLINE_COURSE_SCHEDULE_CANCEL_SURVEYUNANSWEREDVOUCHERS:"/v1/offline-course/schedule/cancel-survey-unanswered-vouchers",V1_OFFLINE_COURSE_SCHEDULE_SURVEY_ANSWERREQUESTNOTIFICATION:"/v1/offline-course/schedule/survey-answer-request-notification",V2_PROJECT:"/v2/project",V2_PROJECT_STATUS:"/v2/project/status",V2_PROJECT_ID:sn=>`/v2/project/${sn}`,V2_COURSE_NEWS_PINNED_COUNT:"/v2/course-news/pinned-count",V2_COURSE_NEWS_ID_PIN:sn=>`/v2/course-news/${sn}/pin`,V2_COURSE_NEWS_LATEST:"/v2/course-news/latest",V2_COURSE_NEWS:"/v2/course-news",V2_COURSE_NEWS_ID:sn=>`/v2/course-news/${sn}`,V2_COURSE_NEWS_DRAFT_ID:sn=>`/v2/course-news/draft/${sn}`,V2_COURSE_NEWS_DRAFT:"/v2/course-news/draft",V2_REVIEW_ID_STATUS:sn=>`/v2/review/${sn}/status`,V2_REVIEW_ID_COMMENT:sn=>`/v2/review/${sn}/comment`,V2_REVIEW_COMMENT_ID:sn=>`/v2/review/comment/${sn}`,V2_REVIEW_ID:sn=>`/v2/review/${sn}`,V2_REVIEW:"/v2/review",V2_REVIEW_COURSE_ID:sn=>`/v2/review/course/${sn}`,V2_REVIEW_ID_COURSE:sn=>`/v2/review/${sn}/course`,V2_FOLLOW_USER_ID:sn=>`/v2/follow/user/${sn}`,V2_CHAT_GPT_POST_FOR_SPAM:"/v2/chat-gpt/post/for-spam",V1_VOD_SUBTITLE_BY_VOD:"/v1/vod-subtitle/by-vod",V1_VOD_SUBTITLE_STATUS:"/v1/vod-subtitle/status",V2_VOD_SUBTITLESUGGESTION:"/v2/vod-subtitle-suggestion",V1_VOD_SUBTITLESUGGESTION_FORCE_UPDATEBYADMIN:"/v1/vod-subtitle-suggestion/force-update-by-admin",V1_VOD_SUBTITLESUGGESTION_BY_ADMIN:"/v1/vod-subtitle-suggestion/by-admin",V1_VOD_SUBTITLESUGGESTION_ERROR:"/v1/vod-subtitle-suggestion/error",V1_VOD_SUBTITLESUGGESTION_INVALID:"/v1/vod-subtitle-suggestion/invalid",V1_VOD_SUBTITLESUGGESTION_FORCE_UPDATE:"/v1/vod-subtitle-suggestion/force-update",V1_VOD_SUBTITLESUGGESTION_COMPLETE:"/v1/vod-subtitle-suggestion/complete",V1_VOD_SUBTITLESUGGESTION_REJECT:"/v1/vod-subtitle-suggestion/reject"};function useV2UnitCompleteUpdateMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.put(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}function useV2UnitCompleteCurrentTimeUpdateMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.patch(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}function useV2ReactionPostIdUpdateMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.put(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}function useV2ReactionCommentIdUpdateMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.put(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}function useV2ReactionReCommentIdUpdateMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.put(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}function useV2BookmarkQuestionIdUpdateMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.put(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}function useV2CommentQuestionIdCreateMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.post(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}function useV2CommentQuestionUpdateMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.put(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}function useV2CommentQuestionDeleteMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.delete(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}function useV2CommentChatUpdateMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.put(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}function useV2CommentChatDeleteMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.delete(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}function useV2CommentChatIdCreateMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.post(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}function useV2ReCommentCreateMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.post(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}function useV2ReCommentIdUpdateMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.put(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}function useV2ReCommentIdDeleteMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.delete(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}function useV2NoteIdUpdateMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.patch(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}function useV2NoteIdDeleteMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.delete(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}function useV2NoteCreateMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.post(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}function useV1CartCreateMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.post(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}function useV2QuestionIdUpdateMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.put(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}function useV2QuestionCreateMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.post(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}function useV2ChatIdUpdateMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.put(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}function useV2ChatCreateMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.post(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}function useV2VoteQuestionIdCreateMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.post(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}function useV2VoteCommentIdCreateMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.post(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}function useV2ReviewCreateMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.post(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}function useV2VodSubtitleSuggestionCreateMutation({url:sn,options:ln,requestOptions:cn}){var pn;const dn=useMutation(vn=>fetcher.post(sn,vn,cn),ln);return{...dn,data:(pn=dn.data)==null?void 0:pn.data}}const fetchV2Session=async(sn,ln)=>fetcher.get(sn,ln);function useV2SessionQuery({queryKey:sn,url:ln,options:cn,requestOptions:dn}){var vn;const pn=useQuery(sn,()=>fetchV2Session(ln,dn),cn);return{...pn,data:(vn=pn.data)==null?void 0:vn.data}}const fetchV2Unit=async(sn,ln)=>fetcher.get(sn,ln);function useV2UnitQuery({queryKey:sn,url:ln,options:cn,requestOptions:dn}){var vn;const pn=useQuery(sn,()=>fetchV2Unit(ln,dn),cn);return{...pn,data:(vn=pn.data)==null?void 0:vn.data}}const fetchV2UnitAttachment=async(sn,ln)=>fetcher.get(sn,ln);function useV2UnitAttachmentQuery({queryKey:sn,url:ln,options:cn,requestOptions:dn}){var vn;const pn=useQuery(sn,()=>fetchV2UnitAttachment(ln,dn),cn);return{...pn,data:(vn=pn.data)==null?void 0:vn.data}}const fetchV2UnitId=async(sn,ln)=>fetcher.get(sn,ln);function useV2UnitIdQuery({queryKey:sn,url:ln,options:cn,requestOptions:dn}){var vn;const pn=useQuery(sn,()=>fetchV2UnitId(ln,dn),cn);return{...pn,data:(vn=pn.data)==null?void 0:vn.data}}const fetchV2CourseIdSkillTag=async(sn,ln)=>fetcher.get(sn,ln);function useV2CourseIdSkillTagQuery({queryKey:sn,url:ln,options:cn,requestOptions:dn}){var vn;const pn=useQuery(sn,()=>fetchV2CourseIdSkillTag(ln,dn),cn);return{...pn,data:(vn=pn.data)==null?void 0:vn.data}}const fetchV2CourseMyVoucher=async(sn,ln)=>fetcher.get(sn,ln);function useV2CourseMyVoucherQuery({queryKey:sn,url:ln,options:cn,requestOptions:dn}){var vn;const pn=useQuery(sn,()=>fetchV2CourseMyVoucher(ln,dn),cn);return{...pn,data:(vn=pn.data)==null?void 0:vn.data}}const fetchV2CourseBySlug=async(sn,ln)=>fetcher.get(sn,ln);function useV2CourseBySlugQuery({queryKey:sn,url:ln,options:cn,requestOptions:dn}){var vn;const pn=useQuery(sn,()=>fetchV2CourseBySlug(ln,dn),cn);return{...pn,data:(vn=pn.data)==null?void 0:vn.data}}const fetchV2CourseIdPaymentInfo=async(sn,ln)=>fetcher.get(sn,ln);function useV2CourseIdPaymentInfoQuery({queryKey:sn,url:ln,options:cn,requestOptions:dn}){var vn;const pn=useQuery(sn,()=>fetchV2CourseIdPaymentInfo(ln,dn),cn);return{...pn,data:(vn=pn.data)==null?void 0:vn.data}}const fetchV2CourseFaq=async(sn,ln)=>fetcher.get(sn,ln);function useV2CourseFaqQuery({queryKey:sn,url:ln,options:cn,requestOptions:dn}){var vn;const pn=useQuery(sn,()=>fetchV2CourseFaq(ln,dn),cn);return{...pn,data:(vn=pn.data)==null?void 0:vn.data}}const fetchV2CommentId=async(sn,ln)=>fetcher.get(sn,ln),fetchV2Note=async(sn,ln)=>fetcher.get(sn,ln);function useV2NoteQuery({queryKey:sn,url:ln,options:cn,requestOptions:dn}){var vn;const pn=useQuery(sn,()=>fetchV2Note(ln,dn),cn);return{...pn,data:(vn=pn.data)==null?void 0:vn.data}}const fetchV2QuestionId=async(sn,ln)=>fetcher.get(sn,ln);function useV2QuestionIdQuery({queryKey:sn,url:ln,options:cn,requestOptions:dn}){var vn;const pn=useQuery(sn,()=>fetchV2QuestionId(ln,dn),cn);return{...pn,data:(vn=pn.data)==null?void 0:vn.data}}const fetchV2ChatId=async(sn,ln)=>fetcher.get(sn,ln);function useV2ChatIdQuery({queryKey:sn,url:ln,options:cn,requestOptions:dn}){var vn;const pn=useQuery(sn,()=>fetchV2ChatId(ln,dn),cn);return{...pn,data:(vn=pn.data)==null?void 0:vn.data}}function useCourse(sn){const ln=useNavigate();return useV2CourseBySlugQuery({queryKey:courseQueryKey(sn),url:`${API_ENDPOINT.V2_COURSE_BY_SLUG}?${queryString$1.stringify({slug:sn})}`,options:{enabled:!!sn,onError:cn=>{if(cn instanceof ApiError&&cn.isNotFound)return ln("/not-found"),!1},useErrorBoundary:cn=>cn instanceof ApiError?!cn.isForbidden:!0}})}const courseQueryKey=sn=>["course",sn];function useSession(sn){return useV2SessionQuery({queryKey:["session"],url:API_ENDPOINT.V2_SESSION,options:{useErrorBoundary:ln=>ln instanceof ApiError?!ln.isUnauthorized:!0,...sn}})}function useMyVoucher(sn){const ln=useNavigate();return useV2CourseMyVoucherQuery({queryKey:myVoucherQueryKey,url:`${API_ENDPOINT.V2_COURSE_MY_VOUCHER}?${queryString$1.stringify({slug:sn})}`,options:{enabled:!!sn,useErrorBoundary:cn=>cn instanceof ApiError?cn.statusCode!==ResponseStatus.NOT_FOUND:!0,onError:cn=>{cn instanceof ApiError&&cn.statusCode===ResponseStatus.NOT_FOUND&&ln("/not-found")}}})}const myVoucherQueryKey=["myVoucher"];function ownKeys$3(sn,ln){var cn=Object.keys(sn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(sn);ln&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(sn,pn).enumerable})),cn.push.apply(cn,dn)}return cn}function _objectSpread(sn){for(var ln=1;ln<arguments.length;ln++){var cn=arguments[ln]!=null?arguments[ln]:{};ln%2?ownKeys$3(Object(cn),!0).forEach(function(dn){_defineProperty$1(sn,dn,cn[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(sn,Object.getOwnPropertyDescriptors(cn)):ownKeys$3(Object(cn)).forEach(function(dn){Object.defineProperty(sn,dn,Object.getOwnPropertyDescriptor(cn,dn))})}return sn}function _defineProperty$1(sn,ln,cn){return ln in sn?Object.defineProperty(sn,ln,{value:cn,enumerable:!0,configurable:!0,writable:!0}):sn[ln]=cn,sn}var config={debug:!1,containerId:null,dataLayerName:"dataLayer",dataLayer:void 0,preview:void 0,auth:void 0,execution:"async"},initializedDataLayerName;function googleTagManager(){var sn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ln="https://www.googletagmanager.com/gtm.js";return{name:"google-tag-manager",config:_objectSpread(_objectSpread({},config),sn),initialize:function(dn){var pn=dn.config,vn=pn.containerId,Sn=pn.dataLayerName,En=pn.customScriptSrc,Cn=pn.preview,Pn=pn.auth,Rn=pn.execution;if(!vn)throw new Error("No google tag manager containerId defined");if(Cn&&!Pn)throw new Error("When enabling preview mode, both preview and auth parameters must be defined");var Ln=En||ln;scriptLoaded(vn)||(function(Fn,Gn,Dn,Kn,qn){Fn[Kn]=Fn[Kn]||[],Fn[Kn].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var Zn=Gn.getElementsByTagName(Dn)[0],Yn=Gn.createElement(Dn),Jn=Kn!="dataLayer"?"&l="+Kn:"",rs=Cn?"&gtm_preview="+Cn+"&gtm_auth="+Pn+"&gtm_cookies_win=x":"";Rn&&(Yn[Rn]=!0),Yn.src="".concat(Ln,"?id=")+qn+Jn+rs,Zn.parentNode.insertBefore(Yn,Zn)}(window,document,"script",Sn,vn),initializedDataLayerName=Sn,pn.dataLayer=window[Sn])},page:function(dn){var pn=dn.payload;dn.options,dn.instance;var vn=dn.config;typeof vn.dataLayer<"u"&&vn.dataLayer.push(pn.properties)},track:function(dn){var pn=dn.payload;dn.options;var vn=dn.config;if(typeof vn.dataLayer<"u"){var Sn=pn.anonymousId,En=pn.userId,Cn=pn.properties,Pn=Cn;En&&(Pn.userId=En),Sn&&(Pn.anonymousId=Sn),Cn.category||(Pn.category="All"),vn.debug&&console.log("gtag push",_objectSpread({event:pn.event},Pn)),vn.dataLayer.push(_objectSpread({event:pn.event},Pn))}},loaded:function(){var dn=!!initializedDataLayerName&&!!(window[initializedDataLayerName]&&Array.prototype.push!==window[initializedDataLayerName].push);return scriptLoaded(sn.containerId,sn.customScriptSrc||ln)&&dn}}}var regexCache={};function scriptLoaded(sn,ln){var cn=regexCache[sn];if(!cn){var dn=ln.replace(/^https?:\/\//,"").replace(/[.*+?^${}()|[\]\\]/g,"\\$&");cn=new RegExp(dn+".*[?&]id="+sn),regexCache[sn]=cn}var pn=document.querySelectorAll("script[src]");return!!Object.keys(pn).filter(function(vn){return(pn[vn].src||"").match(cn)}).length}var index=googleTagManager;function i$9(sn,ln,cn,dn,pn){for(ln=ln.split?ln.split("."):ln,dn=0;dn<ln.length;dn++)sn=sn?sn[ln[dn]]:pn;return sn===pn?cn:sn}var e="undefined",o$5="object",g$4="any",m$5="*",j$6="__",F$8=typeof process<"u"?process:{};F$8.env&&F$8.env.NODE_ENV;var $$_=typeof window<"u";F$8.versions!=null&&F$8.versions.node!=null;typeof Deno<"u"&&Deno.core;$$_&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom"));function M$6(sn,ln){return ln.charAt(0)[sn]()+ln.slice(1)}var U$7=M$6.bind(null,"toUpperCase"),H$7=M$6.bind(null,"toLowerCase");function J$5(sn){return Y$7(sn)?U$7("null"):typeof sn=="object"?yn(sn):Object.prototype.toString.call(sn).slice(8,-1)}function R$7(sn,ln){ln===void 0&&(ln=!0);var cn=J$5(sn);return ln?H$7(cn):cn}function V$3(sn,ln){return typeof ln===sn}var W$6=V$3.bind(null,"function"),q$6=V$3.bind(null,"string"),I$7=V$3.bind(null,"undefined"),Q$6=V$3.bind(null,"boolean");V$3.bind(null,"symbol");function Y$7(sn){return sn===null}function nn(sn){return R$7(sn)==="number"&&!isNaN(sn)}function rn(sn){return R$7(sn)==="array"}function on(sn){if(!un(sn))return!1;for(var ln=sn;Object.getPrototypeOf(ln)!==null;)ln=Object.getPrototypeOf(ln);return Object.getPrototypeOf(sn)===ln}function un(sn){return sn&&(typeof sn=="object"||sn!==null)}function yn(sn){return W$6(sn.constructor)?sn.constructor.name:null}function hn(sn){return sn instanceof Error||q$6(sn.message)&&sn.constructor&&nn(sn.constructor.stackTraceLimit)}function On(sn,ln){if(typeof ln!="object"||Y$7(ln))return!1;if(ln instanceof sn)return!0;var cn=R$7(new sn(""));if(hn(ln))for(;ln;){if(R$7(ln)===cn)return!0;ln=Object.getPrototypeOf(ln)}return!1}On.bind(null,TypeError);On.bind(null,SyntaxError);function $n(sn,ln){var cn=sn instanceof Element||sn instanceof HTMLDocument;return cn&&ln?Tn(sn,ln):cn}function Tn(sn,ln){return ln===void 0&&(ln=""),sn&&sn.nodeName===ln.toUpperCase()}function _n(sn){var ln=[].slice.call(arguments,1);return function(){return sn.apply(void 0,[].slice.call(arguments).concat(ln))}}_n($n,"form");_n($n,"button");_n($n,"input");_n($n,"select");function n$4(sn){try{return decodeURIComponent(sn.replace(/\+/g," "))}catch{return null}}function o$4(){if($$_){var sn=navigator,ln=sn.languages;return sn.userLanguage||(ln&&ln.length?ln[0]:sn.language)}}function a$6(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}}function s$6(sn){return function(ln){for(var cn,dn=Object.create(null),pn=/([^&=]+)=?([^&]*)/g;cn=pn.exec(ln);){var vn=n$4(cn[1]),Sn=n$4(cn[2]);vn.substring(vn.length-2)==="[]"?(dn[vn=vn.substring(0,vn.length-2)]||(dn[vn]=[])).push(Sn):dn[vn]=Sn===""||Sn}for(var En in dn){var Cn=En.split("[");Cn.length>1&&(m$4(dn,Cn.map(function(Pn){return Pn.replace(/[?[\]\\ ]/g,"")}),dn[En]),delete dn[En])}return dn}(function(ln){if(ln){var cn=ln.match(/\?(.*)/);return cn&&cn[1]?cn[1].split("#")[0]:""}return $$_&&window.location.search.substring(1)}(sn))}function m$4(sn,ln,cn){for(var dn=ln.length-1,pn=0;pn<dn;++pn){var vn=ln[pn];if(vn==="__proto__"||vn==="constructor")break;vn in sn||(sn[vn]={}),sn=sn[vn]}sn[ln[dn]]=cn}function y$5(){for(var sn="",ln=0,cn=4294967295*Math.random()|0;ln++<36;){var dn="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"[ln-1],pn=15&cn;sn+=dn=="-"||dn=="4"?dn:(dn=="x"?pn:3&pn|8).toString(16),cn=ln%8==0?4294967295*Math.random()|0:cn>>4}return sn}var l$3="global",o$3=j$6+"global"+j$6,n$3=typeof self===o$5&&self.self===self&&self||typeof global===o$5&&global.global===global&&global||void 0;function a$5(sn){return n$3[o$3][sn]}function f$2(sn,ln){return n$3[o$3][sn]=ln}function i$8(sn){delete n$3[o$3][sn]}function u$5(sn,ln,cn){var dn;try{if(b$7(sn)){var pn=window[sn];dn=pn[ln].bind(pn)}}catch{}return dn||cn}n$3[o$3]||(n$3[o$3]={});var c$7={};function b$7(sn){if(typeof c$7[sn]!==e)return c$7[sn];try{var ln=window[sn];ln.setItem(e,e),ln.removeItem(e)}catch{return c$7[sn]=!1}return c$7[sn]=!0}function v$5(){return v$5=Object.assign||function(sn){for(var ln=1;ln<arguments.length;ln++){var cn=arguments[ln];for(var dn in cn)Object.prototype.hasOwnProperty.call(cn,dn)&&(sn[dn]=cn[dn])}return sn},v$5.apply(this,arguments)}var y$4="function",b$6="undefined",I$6="@@redux/"+Math.random().toString(36),w$6=function(){return typeof Symbol===y$4&&Symbol.observable||"@@observable"}(),E$7=" != "+y$4;function P$3(sn,ln,cn){var dn;if(typeof ln===y$4&&typeof cn===b$6&&(cn=ln,ln=void 0),typeof cn!==b$6){if(typeof cn!==y$4)throw new Error("enhancer"+E$7);return cn(P$3)(sn,ln)}if(typeof sn!==y$4)throw new Error("reducer"+E$7);var pn=sn,vn=ln,Sn=[],En=Sn,Cn=!1;function Pn(){En===Sn&&(En=Sn.slice())}function Rn(){return vn}function Ln(Gn){if(typeof Gn!==y$4)throw new Error("Listener"+E$7);var Dn=!0;return Pn(),En.push(Gn),function(){if(Dn){Dn=!1,Pn();var Kn=En.indexOf(Gn);En.splice(Kn,1)}}}function Fn(Gn){if(!on(Gn))throw new Error("Act != obj");if(typeof Gn.type===b$6)throw new Error("ActType "+b$6);if(Cn)throw new Error("Dispatch in reducer");try{Cn=!0,vn=pn(vn,Gn)}finally{Cn=!1}for(var Dn=Sn=En,Kn=0;Kn<Dn.length;Kn++)(0,Dn[Kn])();return Gn}return Fn({type:"@@redux/INIT"}),(dn={dispatch:Fn,subscribe:Ln,getState:Rn,replaceReducer:function(Gn){if(typeof Gn!==y$4)throw new Error("next reducer"+E$7);pn=Gn,Fn({type:"@@redux/INIT"})}})[w$6]=function(){var Gn,Dn=Ln;return(Gn={subscribe:function(Kn){if(typeof Kn!="object")throw new TypeError("Observer != obj");function qn(){Kn.next&&Kn.next(Rn())}return qn(),{unsubscribe:Dn(qn)}}})[w$6]=function(){return this},Gn},dn}function S$6(sn,ln){var cn=ln&&ln.type;return"action "+(cn&&cn.toString()||"?")+"reducer "+sn+" returns "+b$6}function N$9(){var sn=[].slice.call(arguments);return sn.length===0?function(ln){return ln}:sn.length===1?sn[0]:sn.reduce(function(ln,cn){return function(){return ln(cn.apply(void 0,[].slice.call(arguments)))}})}function O$7(){var sn=arguments;return function(ln){return function(cn,dn,pn){var vn,Sn=ln(cn,dn,pn),En=Sn.dispatch,Cn={getState:Sn.getState,dispatch:function(Pn){return En(Pn)}};return vn=[].slice.call(sn).map(function(Pn){return Pn(Cn)}),v$5({},Sn,{dispatch:En=N$9.apply(void 0,vn)(Sn.dispatch)})}}}var A$4=j$6+"anon_id",_$5=j$6+"user_id",x$8=j$6+"user_traits",j$5="userId",T$7="anonymousId",z$4=["bootstrap","params","campaign","initializeStart","initialize","initializeEnd","ready","resetStart","reset","resetEnd","pageStart","page","pageEnd","pageAborted","trackStart","track","trackEnd","trackAborted","identifyStart","identify","identifyEnd","identifyAborted","userIdChanged","registerPlugins","enablePlugin","disablePlugin","online","offline","setItemStart","setItem","setItemEnd","setItemAborted","removeItemStart","removeItem","removeItemEnd","removeItemAborted"],M$5=["name","EVENTS","config","loaded"],q$5=z$4.reduce(function(sn,ln){return sn[ln]=ln,sn},{registerPluginType:function(sn){return"registerPlugin:"+sn},pluginReadyType:function(sn){return"ready:"+sn}}),U$6=/^utm_/,V$2=/^an_prop_/,L$7=/^an_trait_/;function C$5(sn){var ln=sn.storage.setItem;return function(cn){return function(dn){return function(pn){if(pn.type===q$5.bootstrap){var vn=pn.params,Sn=pn.user,En=pn.persistedUser,Cn=pn.initialUser,Pn=En.userId===Sn.userId;En.anonymousId!==Sn.anonymousId&&ln(A$4,Sn.anonymousId),Pn||ln(_$5,Sn.userId),Cn.traits&&ln(x$8,v$5({},Pn&&En.traits?En.traits:{},Cn.traits));var Rn=Object.keys(pn.params);if(Rn.length){var Ln=vn.an_uid,Fn=vn.an_event,Gn=Rn.reduce(function(Dn,Kn){if(Kn.match(U$6)||Kn.match(/^(d|g)clid/)){var qn=Kn.replace(U$6,"");Dn.campaign[qn==="campaign"?"name":qn]=vn[Kn]}return Kn.match(V$2)&&(Dn.props[Kn.replace(V$2,"")]=vn[Kn]),Kn.match(L$7)&&(Dn.traits[Kn.replace(L$7,"")]=vn[Kn]),Dn},{campaign:{},props:{},traits:{}});cn.dispatch(v$5({type:q$5.params,raw:vn},Gn,Ln?{userId:Ln}:{})),Ln&&setTimeout(function(){return sn.identify(Ln,Gn.traits)},0),Fn&&setTimeout(function(){return sn.track(Fn,Gn.props)},0),Object.keys(Gn.campaign).length&&cn.dispatch({type:q$5.campaign,campaign:Gn.campaign})}}return dn(pn)}}}}function R$6(sn){return function(ln,cn){if(ln===void 0&&(ln={}),cn===void 0&&(cn={}),cn.type===q$5.setItemEnd){if(cn.key===A$4)return v$5({},ln,{anonymousId:cn.value});if(cn.key===_$5)return v$5({},ln,{userId:cn.value})}switch(cn.type){case q$5.identify:return Object.assign({},ln,{userId:cn.userId,traits:v$5({},ln.traits,cn.traits)});case q$5.reset:return[_$5,A$4,x$8].forEach(function(dn){sn.removeItem(dn)}),Object.assign({},ln,{userId:null,anonymousId:null,traits:{}});default:return ln}}}function $$Z(sn){return{userId:sn.getItem(_$5),anonymousId:sn.getItem(A$4),traits:sn.getItem(x$8)}}var D$4=function(sn){return j$6+"TEMP"+j$6+sn};function B$5(sn){var ln=sn.storage,cn=ln.setItem,dn=ln.removeItem,pn=ln.getItem;return function(vn){return function(Sn){return function(En){var Cn=En.userId,Pn=En.traits,Rn=En.options;if(En.type===q$5.reset&&([_$5,x$8,A$4].forEach(function(Gn){dn(Gn)}),[j$5,T$7,"traits"].forEach(function(Gn){i$8(D$4(Gn))})),En.type===q$5.identify){pn(A$4)||cn(A$4,y$5());var Ln=pn(_$5),Fn=pn(x$8)||{};Ln&&Ln!==Cn&&vn.dispatch({type:q$5.userIdChanged,old:{userId:Ln,traits:Fn},new:{userId:Cn,traits:Pn},options:Rn}),Cn&&cn(_$5,Cn),Pn&&cn(x$8,v$5({},Fn,Pn))}return Sn(En)}}}}var X$3={};function J$4(sn,ln){X$3[sn]&&W$6(X$3[sn])&&(X$3[sn](ln),delete X$3[sn])}function W$5(sn,ln,cn){return new Promise(function(dn,pn){return ln()?dn(sn):cn<1?pn(v$5({},sn,{queue:!0})):new Promise(function(vn){return setTimeout(vn,10)}).then(function(vn){return W$5(sn,ln,cn-10).then(dn,pn)})})}function H$6(sn,ln,cn){var dn=ln(),pn=sn.getState(),vn=pn.plugins,Sn=pn.queue,En=pn.user;if(!pn.context.offline&&Sn&&Sn.actions&&Sn.actions.length){var Cn=Sn.actions.reduce(function(Rn,Ln,Fn){return vn[Ln.plugin].loaded?(Rn.process.push(Ln),Rn.processIndex.push(Fn)):(Rn.requeue.push(Ln),Rn.requeueIndex.push(Fn)),Rn},{processIndex:[],process:[],requeue:[],requeueIndex:[]});if(Cn.processIndex&&Cn.processIndex.length){Cn.processIndex.forEach(function(Rn){var Ln=Sn.actions[Rn],Fn=Ln.plugin,Gn=Ln.payload.type,Dn=dn[Fn][Gn];if(Dn&&W$6(Dn)){var Kn=function(Zn,Yn){return Zn===void 0&&(Zn={}),Yn===void 0&&(Yn={}),[j$5,T$7].reduce(function(Jn,rs){return Zn.hasOwnProperty(rs)&&Yn[rs]&&Yn[rs]!==Zn[rs]&&(Jn[rs]=Yn[rs]),Jn},Zn)}(Ln.payload,En);Dn({payload:Kn,config:vn[Fn].config,instance:cn});var qn=Gn+":"+Fn;sn.dispatch(v$5({},Kn,{type:qn,_:{called:qn,from:"queueDrain"}}))}});var Pn=Sn.actions.filter(function(Rn,Ln){return!~Cn.processIndex.indexOf(Ln)});Sn.actions=Pn}}}var F$7=function(sn){var ln=sn.data,cn=sn.action,dn=sn.instance,pn=sn.state,vn=sn.allPlugins,Sn=sn.allMatches,En=sn.store,Cn=sn.EVENTS;try{var Pn=pn.plugins,Rn=pn.context,Ln=cn.type,Fn=Ln.match(G$6),Gn=ln.exact.map(function(qn){return qn.pluginName});Fn&&(Gn=Sn.during.map(function(qn){return qn.pluginName}));var Dn=function(qn,Zn){return function(Yn,Jn,rs){var us=Jn.config,as=Jn.name,cs=as+"."+Yn.type;rs&&(cs=rs.event);var _s=Yn.type.match(G$6)?function(Es,Qn,ms,$s,Ms){return function(gs,Ss){var js=$s?$s.name:Es,bs=Ss&&ie$3(Ss)?Ss:ms;if($s&&(!(bs=Ss&&ie$3(Ss)?Ss:[Es]).includes(Es)||bs.length!==1))throw new Error("Method "+Qn+" can only abort "+Es+" plugin. "+JSON.stringify(bs)+" input valid");return v$5({},Ms,{abort:{reason:gs,plugins:bs,caller:Qn,_:js}})}}(as,cs,Zn,rs,Yn):function(Es,Qn){return function(){throw new Error(Es.type+" action not cancellable. Remove abort in "+Qn)}}(Yn,cs);return{payload:ue$4(Yn),instance:qn,config:us||{},abort:_s}}}(dn,Gn),Kn=ln.exact.reduce(function(qn,Zn){var Yn=Zn.pluginName,Jn=Zn.methodName,rs=!1;return Jn.match(/^initialize/)||Jn.match(/^reset/)||(rs=!Pn[Yn].loaded),Rn.offline&&Jn.match(/^(page|track|identify)/)&&(rs=!0),qn[""+Yn]=rs,qn},{});return Promise.resolve(ln.exact.reduce(function(qn,Zn,Yn){var Jn=Zn.pluginName;return Promise.resolve(qn).then(function(rs){function us(){return Promise.resolve(rs)}var as=function(){if(ln.namespaced&&ln.namespaced[Jn])return Promise.resolve(ln.namespaced[Jn].reduce(function(cs,_s,Es){return Promise.resolve(cs).then(function(Qn){return _s.method&&W$6(_s.method)?(function(gs,Ss){var js=oe$4(gs);if(js&&js.name===Ss){var bs=oe$4(js.method);throw new Error([Ss+" plugin is calling method "+gs,"Plugins cant call self","Use "+js.method+" "+(bs?"or "+bs.method:"")+" in "+Ss+" plugin insteadof "+gs].join(`
`))}}(_s.methodName,_s.pluginName),Promise.resolve(_s.method({payload:Qn,instance:dn,abort:(ms=Qn,$s=Jn,Ms=_s.pluginName,function(gs,Ss){return v$5({},ms,{abort:{reason:gs,plugins:Ss||[$s],caller:Ln,from:Ms||$s}})}),config:Z$4(_s.pluginName,Pn,vn),plugins:Pn})).then(function(gs){var Ss=on(gs)?gs:{};return Promise.resolve(v$5({},Qn,Ss))})):Qn;var ms,$s,Ms})},Promise.resolve(cn))).then(function(cs){rs[Jn]=cs});rs[Jn]=cn}();return as&&as.then?as.then(us):us()})},Promise.resolve({}))).then(function(qn){return Promise.resolve(ln.exact.reduce(function(Zn,Yn,Jn){try{var rs=ln.exact.length===Jn+1,us=Yn.pluginName,as=vn[us];return Promise.resolve(Zn).then(function(cs){var _s=qn[us]?qn[us]:{};if(Fn&&(_s=cs),te$4(_s,us))return Y$6({data:_s,method:Ln,instance:dn,pluginName:us,store:En}),Promise.resolve(cs);if(te$4(cs,us))return rs&&Y$6({data:cs,method:Ln,instance:dn,store:En}),Promise.resolve(cs);if(Kn.hasOwnProperty(us)&&Kn[us]===!0)return En.dispatch({type:"queue",plugin:us,payload:_s,_:{called:"queue",from:"queueMechanism"}}),Promise.resolve(cs);var Es=Dn(qn[us],vn[us]);return Promise.resolve(as[Ln]({abort:Es.abort,payload:_s,instance:dn,config:Z$4(us,Pn,vn),plugins:Pn})).then(function(Qn){var ms=on(Qn)?Qn:{},$s=v$5({},cs,ms),Ms=qn[us];if(te$4(Ms,us))Y$6({data:Ms,method:Ln,instance:dn,pluginName:us,store:En});else{var gs=Ln+":"+us;(gs.match(/:/g)||[]).length<2&&!Ln.match(K$6)&&!Ln.match(Q$5)&&dn.dispatch(v$5({},Fn?$s:_s,{type:gs,_:{called:gs,from:"submethod"}}))}return Promise.resolve($s)})})}catch(cs){return Promise.reject(cs)}},Promise.resolve(cn))).then(function(Zn){if(!(Ln.match(G$6)||Ln.match(/^registerPlugin/)||Ln.match(Q$5)||Ln.match(K$6)||Ln.match(/^params/)||Ln.match(/^userIdChanged/))){if(Cn.plugins.includes(Ln),Zn._&&Zn._.originalAction===Ln)return Zn;var Yn=v$5({},Zn,{_:{originalAction:Zn.type,called:Zn.type,from:"engineEnd"}});re$4(Zn,ln.exact.length)&&!Ln.match(/End$/)&&(Yn=v$5({},Yn,{type:Zn.type+"Aborted"})),En.dispatch(Yn)}return Zn})})}catch(qn){return Promise.reject(qn)}},G$6=/Start$/,K$6=/^bootstrap/,Q$5=/^ready/;function Y$6(sn){var ln=sn.pluginName,cn=sn.method+"Aborted"+(ln?":"+ln:"");sn.store.dispatch(v$5({},sn.data,{type:cn,_:{called:cn,from:"abort"}}))}function Z$4(sn,ln,cn){var dn=ln[sn]||cn[sn];return dn&&dn.config?dn.config:{}}function ee$4(sn,ln){return ln.reduce(function(cn,dn){return dn[sn]?cn.concat({methodName:sn,pluginName:dn.name,method:dn[sn]}):cn},[])}function ne$4(sn,ln){var cn=sn.replace(G$6,""),dn=ln?":"+ln:"";return[""+sn+dn,""+cn+dn,cn+"End"+dn]}function te$4(sn,ln){var cn=sn.abort;return!!cn&&(cn===!0||ae$4(cn,ln)||cn&&ae$4(cn.plugins,ln))}function re$4(sn,ln){var cn=sn.abort;if(!cn)return!1;if(cn===!0||q$6(cn))return!0;var dn=cn.plugins;return ie$3(cn)&&cn.length===ln||ie$3(dn)&&dn.length===ln}function ie$3(sn){return Array.isArray(sn)}function ae$4(sn,ln){return!(!sn||!ie$3(sn))&&sn.includes(ln)}function oe$4(sn){var ln=sn.match(/(.*):(.*)/);return!!ln&&{method:ln[1],name:ln[2]}}function ue$4(sn){return Object.keys(sn).reduce(function(ln,cn){return cn==="type"||(ln[cn]=on(sn[cn])?Object.assign({},sn[cn]):sn[cn]),ln},{})}function ce$4(sn,ln,cn){var dn={};return function(pn){return function(vn){return function(Sn){try{var En,Cn=function(rs){return En?rs:vn(Ln)},Pn=Sn.type,Rn=Sn.plugins,Ln=Sn;if(Sn.abort)return Promise.resolve(vn(Sn));if(Pn===q$5.enablePlugin&&pn.dispatch({type:q$5.initializeStart,plugins:Rn,disabled:[],fromEnable:!0,meta:Sn.meta}),Pn===q$5.disablePlugin&&setTimeout(function(){return J$4(Sn.meta.rid,{payload:Sn})},0),Pn===q$5.initializeEnd){var Fn=ln(),Gn=Object.keys(Fn),Dn=Gn.filter(function(rs){return Rn.includes(rs)}).map(function(rs){return Fn[rs]}),Kn=[],qn=[],Zn=Sn.disabled,Yn=Dn.map(function(rs){var us=rs.name;return W$5(rs,rs.loaded,1e4).then(function(as){return dn[us]||(pn.dispatch({type:q$5.pluginReadyType(us),name:us,events:Object.keys(rs).filter(function(cs){return!M$5.includes(cs)})}),dn[us]=!0),Kn=Kn.concat(us),rs}).catch(function(as){if(as instanceof Error)throw new Error(as);return qn=qn.concat(as.name),as})});Promise.all(Yn).then(function(rs){var us={plugins:Kn,failed:qn,disabled:Zn};setTimeout(function(){Gn.length===Yn.length+Zn.length&&pn.dispatch(v$5({},{type:q$5.ready},us))},0)})}var Jn=function(){if(Pn!==q$5.bootstrap)return/^ready:([^:]*)$/.test(Pn)&&setTimeout(function(){return H$6(pn,ln,sn)},0),Promise.resolve(function(rs,us,as,cs,_s){try{var Es=W$6(us)?us():us,Qn=rs.type,ms=Qn.replace(G$6,"");if(rs._&&rs._.called)return Promise.resolve(rs);var $s=as.getState(),Ms=(js=Es,(bs=$s.plugins)===void 0&&(bs={}),(Ts=rs.options)===void 0&&(Ts={}),Object.keys(js).filter(function(xs){var zs=Ts.plugins||{};return Q$6(zs[xs])?zs[xs]:zs.all!==!1&&(!bs[xs]||bs[xs].enabled!==!1)}).map(function(xs){return js[xs]}));Qn===q$5.initializeStart&&rs.fromEnable&&(Ms=Object.keys($s.plugins).filter(function(xs){var zs=$s.plugins[xs];return rs.plugins.includes(xs)&&!zs.initialized}).map(function(xs){return Es[xs]}));var gs=Ms.map(function(xs){return xs.name}),Ss=function(xs,zs,Bs){var Js=ne$4(xs).map(function(tu){return ee$4(tu,zs)});return zs.reduce(function(tu,hs){var lu=hs.name,vu=ne$4(xs,lu).map(function(Ll){return ee$4(Ll,zs)}),yu=vu[0],Wu=vu[1],Ru=vu[2];return yu.length&&(tu.beforeNS[lu]=yu),Wu.length&&(tu.duringNS[lu]=Wu),Ru.length&&(tu.afterNS[lu]=Ru),tu},{before:Js[0],beforeNS:{},during:Js[1],duringNS:{},after:Js[2],afterNS:{}})}(Qn,Ms);return Promise.resolve(F$7({action:rs,data:{exact:Ss.before,namespaced:Ss.beforeNS},state:$s,allPlugins:Es,allMatches:Ss,instance:as,store:cs,EVENTS:_s})).then(function(xs){function zs(){var tu=function(){if(Qn.match(G$6))return Promise.resolve(F$7({action:v$5({},Bs,{type:ms+"End"}),data:{exact:Ss.after,namespaced:Ss.afterNS},state:$s,allPlugins:Es,allMatches:Ss,instance:as,store:cs,EVENTS:_s})).then(function(hs){hs.meta&&hs.meta.hasCallback&&J$4(hs.meta.rid,{payload:hs})})}();return tu&&tu.then?tu.then(function(){return xs}):xs}if(re$4(xs,gs.length))return xs;var Bs,Js=function(){if(Qn!==ms)return Promise.resolve(F$7({action:v$5({},xs,{type:ms}),data:{exact:Ss.during,namespaced:Ss.duringNS},state:$s,allPlugins:Es,allMatches:Ss,instance:as,store:cs,EVENTS:_s})).then(function(tu){Bs=tu});Bs=xs}();return Js&&Js.then?Js.then(zs):zs()})}catch(xs){return Promise.reject(xs)}var js,bs,Ts}(Sn,ln,sn,pn,cn)).then(function(rs){var us=vn(rs);return En=1,us})}();return Promise.resolve(Jn&&Jn.then?Jn.then(Cn):Cn(Jn))}catch(rs){return Promise.reject(rs)}}}}}function se$4(sn){return function(ln){return function(cn){return function(dn){var pn=dn.type,vn=dn.key,Sn=dn.value,En=dn.options;if(pn===q$5.setItem||pn===q$5.removeItem){if(dn.abort)return cn(dn);pn===q$5.setItem?sn.setItem(vn,Sn,En):sn.removeItem(vn,En)}return cn(dn)}}}}var le$4=function(){var sn=this;this.before=[],this.after=[],this.addMiddleware=function(ln,cn){sn[cn]=sn[cn].concat(ln)},this.removeMiddleware=function(ln,cn){var dn=sn[cn].findIndex(function(pn){return pn===ln});dn!==-1&&(sn[cn]=[].concat(sn[cn].slice(0,dn),sn[cn].slice(dn+1)))},this.dynamicMiddlewares=function(ln){return function(cn){return function(dn){return function(pn){var vn={getState:cn.getState,dispatch:function(En){return cn.dispatch(En)}},Sn=sn[ln].map(function(En){return En(vn)});return N$9.apply(void 0,Sn)(dn)(pn)}}}}};function fe$3(sn){return function(ln,cn){ln===void 0&&(ln={});var dn={};if(cn.type==="initialize:aborted")return ln;if(/^registerPlugin:([^:]*)$/.test(cn.type)){var pn=de$4(cn.type,"registerPlugin"),vn=sn()[pn];if(!vn||!pn)return ln;var Sn=cn.enabled;return dn[pn]={enabled:Sn,initialized:!!Sn&&!vn.initialize,loaded:!!Sn&&!!vn.loaded(),config:vn.config||{}},v$5({},ln,dn)}if(/^initialize:([^:]*)$/.test(cn.type)){var En=de$4(cn.type,q$5.initialize),Cn=sn()[En];return Cn&&En?(dn[En]=v$5({},ln[En],{initialized:!0,loaded:!!Cn.loaded()}),v$5({},ln,dn)):ln}if(/^ready:([^:]*)$/.test(cn.type))return dn[cn.name]=v$5({},ln[cn.name],{loaded:!0}),v$5({},ln,dn);switch(cn.type){case q$5.disablePlugin:return v$5({},ln,pe$4(cn.plugins,!1,ln));case q$5.enablePlugin:return v$5({},ln,pe$4(cn.plugins,!0,ln));default:return ln}}}function de$4(sn,ln){return sn.substring(ln.length+1,sn.length)}function pe$4(sn,ln,cn){return sn.reduce(function(dn,pn){return dn[pn]=v$5({},cn[pn],{enabled:ln}),dn},cn)}function me$4(sn){try{return JSON.parse(JSON.stringify(sn))}catch{}return sn}var ge$4={last:{},history:[]};function he$4(sn,ln){sn===void 0&&(sn=ge$4);var cn=ln.options,dn=ln.meta;if(ln.type===q$5.track){var pn=me$4(v$5({event:ln.event,properties:ln.properties},Object.keys(cn).length&&{options:cn},{meta:dn}));return v$5({},sn,{last:pn,history:sn.history.concat(pn)})}return sn}var ve$3={actions:[]};function ye$4(sn,ln){sn===void 0&&(sn=ve$3);var cn=ln.payload;switch(ln.type){case"queue":var dn;return dn=cn&&cn.type&&cn.type===q$5.identify?[ln].concat(sn.actions):sn.actions.concat(ln),v$5({},sn,{actions:dn});case"dequeue":return[];default:return sn}}var be$4=/#.*$/;function Ie$3(sn){var ln=/(http[s]?:\/\/)?([^\/\s]+\/)(.*)/g.exec(sn);return"/"+(ln&&ln[3]?ln[3].split("?")[0].replace(be$4,""):"")}var we$4,Ee$4,Pe$2,Se$4,Ne$4=function(sn){if(sn===void 0&&(sn={}),!$$_)return sn;var ln=document,cn=ln.title,dn=ln.referrer,pn=window,vn=pn.location,Sn=pn.innerWidth,En=pn.innerHeight,Cn=vn.hash,Pn=vn.search,Rn=function(Fn){var Gn=function(){if($$_){for(var Dn,Kn=document.getElementsByTagName("link"),qn=0;Dn=Kn[qn];qn++)if(Dn.getAttribute("rel")==="canonical")return Dn.getAttribute("href")}}();return Gn?Gn.match(/\?/)?Gn:Gn+Fn:window.location.href.replace(be$4,"")}(Pn),Ln={title:cn,url:Rn,path:Ie$3(Rn),hash:Cn,search:Pn,width:Sn,height:En};return dn&&dn!==""&&(Ln.referrer=dn),v$5({},Ln,sn)},Oe$2={last:{},history:[]};function Ae$2(sn,ln){sn===void 0&&(sn=Oe$2);var cn=ln.options;if(ln.type===q$5.page){var dn=me$4(v$5({properties:ln.properties,meta:ln.meta},Object.keys(cn).length&&{options:cn}));return v$5({},sn,{last:dn,history:sn.history.concat(dn)})}return sn}we$4=function(){if(!$$_)return!1;var sn=navigator.appVersion;return~sn.indexOf("Win")?"Windows":~sn.indexOf("Mac")?"MacOS":~sn.indexOf("X11")?"UNIX":~sn.indexOf("Linux")?"Linux":"Unknown OS"}(),Ee$4=$$_?document.referrer:null,Pe$2=o$4(),Se$4=a$6();var _e$4={initialized:!1,sessionId:y$5(),app:null,version:null,debug:!1,offline:!!$$_&&!navigator.onLine,os:{name:we$4},userAgent:$$_?navigator.userAgent:"node",library:{name:"analytics",version:"0.11.0"},timezone:Se$4,locale:Pe$2,campaign:{},referrer:Ee$4};function xe$4(sn,ln){sn===void 0&&(sn=_e$4);var cn=sn.initialized,dn=ln.campaign;switch(ln.type){case q$5.campaign:return v$5({},sn,{campaign:dn});case q$5.offline:return v$5({},sn,{offline:!0});case q$5.online:return v$5({},sn,{offline:!1});default:return cn?sn:v$5({},_e$4,sn,{initialized:!0})}}var ke$2=["plugins","reducers","storage"];function je$4(sn,ln,cn){if($$_){var dn=window[(cn?"add":"remove")+"EventListener"];sn.split(" ").forEach(function(pn){dn(pn,ln)})}}function Te$4(sn){var ln=je$4.bind(null,"online offline",function(cn){return Promise.resolve(!navigator.onLine).then(sn)});return ln(!0),function(cn){return ln(!1)}}function ze$4(){return f$2("analytics",[]),function(sn){return function(ln,cn,dn){var pn=sn(ln,cn,dn),vn=pn.dispatch;return Object.assign(pn,{dispatch:function(Sn){return n$3[o$3].analytics.push(Sn.action||Sn),vn(Sn)}})}}}function Me$4(sn){return function(){return N$9(N$9.apply(null,arguments),ze$4())}}function qe$4(sn){return sn?rn(sn)?sn:[sn]:[]}function Ue$3(sn,ln,cn){sn===void 0&&(sn={});var dn,pn,vn=y$5();return ln&&(X$3[vn]=(dn=ln,pn=function(Sn){for(var En,Cn=Sn||Array.prototype.slice.call(arguments),Pn=0;Pn<Cn.length;Pn++)if(W$6(Cn[Pn])){En=Cn[Pn];break}return En}(cn),function(Sn){pn&&pn(Sn),dn(Sn)})),v$5({},sn,{rid:vn,ts:new Date().getTime()},ln?{hasCallback:!0}:{})}function Ve$4(sn){sn===void 0&&(sn={});var ln=sn.reducers||{},cn=sn.initialUser||{},dn=(sn.plugins||[]).reduce(function(Ts,xs){if(W$6(xs))return Ts.middlewares=Ts.middlewares.concat(xs),Ts;if(xs.NAMESPACE&&(xs.name=xs.NAMESPACE),!xs.name)throw new Error("https://lytics.dev/errors/1");var zs=xs.EVENTS?Object.keys(xs.EVENTS).map(function(tu){return xs.EVENTS[tu]}):[];Ts.pluginEnabled[xs.name]=!(xs.enabled===!1||xs.config&&xs.config.enabled===!1),delete xs.enabled,xs.methods&&(Ts.methods[xs.name]=Object.keys(xs.methods).reduce(function(tu,hs){var lu;return tu[hs]=(lu=xs.methods[hs],function(){for(var vu=Array.prototype.slice.call(arguments),yu=new Array(lu.length),Wu=0;Wu<vu.length;Wu++)yu[Wu]=vu[Wu];return yu[yu.length]=rs,lu.apply({instance:rs},yu)}),tu},{}),delete xs.methods);var Bs=Object.keys(xs).concat(zs),Js=new Set(Ts.events.concat(Bs));if(Ts.events=Array.from(Js),Ts.pluginsArray=Ts.pluginsArray.concat(xs),Ts.plugins[xs.name])throw new Error(xs.name+"AlreadyLoaded");return Ts.plugins[xs.name]=xs,Ts.plugins[xs.name].loaded||(Ts.plugins[xs.name].loaded=function(){return!0}),Ts},{plugins:{},pluginEnabled:{},methods:{},pluginsArray:[],middlewares:[],events:[]}),pn=sn.storage?sn.storage:{getItem:a$5,setItem:f$2,removeItem:i$8},vn=function(Ts){return function(xs,zs,Bs){return zs.getState("user")[xs]||(Bs&&on(Bs)&&Bs[xs]?Bs[xs]:$$Z(Ts)[xs]||a$5(D$4(xs))||null)}}(pn),Sn=dn.plugins,En=dn.events.filter(function(Ts){return!M$5.includes(Ts)}).sort(),Cn=new Set(En.concat(z$4).filter(function(Ts){return!M$5.includes(Ts)})),Pn=Array.from(Cn).sort(),Rn=function(){return Sn},Ln=new le$4,Fn=Ln.addMiddleware,Gn=Ln.removeMiddleware,Dn=Ln.dynamicMiddlewares,Kn=function(){throw new Error("Abort disabled inListener")},qn=s$6(),Zn=$$Z(pn),Yn=v$5({},Zn,cn,qn.an_uid?{userId:qn.an_uid}:{},qn.an_aid?{anonymousId:qn.an_aid}:{});Yn.anonymousId||(Yn.anonymousId=y$5());var Jn=v$5({enable:function(Ts,xs){return new Promise(function(zs){gs.dispatch({type:q$5.enablePlugin,plugins:qe$4(Ts),_:{originalAction:q$5.enablePlugin}},zs,[xs])})},disable:function(Ts,xs){return new Promise(function(zs){gs.dispatch({type:q$5.disablePlugin,plugins:qe$4(Ts),_:{originalAction:q$5.disablePlugin}},zs,[xs])})}},dn.methods),rs={identify:function(Ts,xs,zs,Bs){try{var Js=q$6(Ts)?Ts:null,tu=on(Ts)?Ts:xs,hs=zs||{},lu=rs.user();f$2(D$4(j$5),Js);var vu=Js||tu.userId||vn(j$5,rs,tu);return Promise.resolve(new Promise(function(yu){gs.dispatch(v$5({type:q$5.identifyStart,userId:vu,traits:tu||{},options:hs,anonymousId:lu.anonymousId},lu.id&&lu.id!==Js&&{previousId:lu.id}),yu,[xs,zs,Bs])}))}catch(yu){return Promise.reject(yu)}},track:function(Ts,xs,zs,Bs){try{var Js=on(Ts)?Ts.event:Ts;if(!Js||!q$6(Js))throw new Error("EventMissing");var tu=on(Ts)?Ts:xs||{},hs=on(zs)?zs:{};return Promise.resolve(new Promise(function(lu){gs.dispatch({type:q$5.trackStart,event:Js,properties:tu,options:hs,userId:vn(j$5,rs,xs),anonymousId:vn(T$7,rs,xs)},lu,[xs,zs,Bs])}))}catch(lu){return Promise.reject(lu)}},page:function(Ts,xs,zs){try{var Bs=on(Ts)?Ts:{},Js=on(xs)?xs:{};return Promise.resolve(new Promise(function(tu){gs.dispatch({type:q$5.pageStart,properties:Ne$4(Bs),options:Js,userId:vn(j$5,rs,Bs),anonymousId:vn(T$7,rs,Bs)},tu,[Ts,xs,zs])}))}catch(tu){return Promise.reject(tu)}},user:function(Ts){if(Ts===j$5||Ts==="id")return vn(j$5,rs);if(Ts===T$7||Ts==="anonId")return vn(T$7,rs);var xs=rs.getState("user");return Ts?i$9(xs,Ts):xs},reset:function(Ts){return new Promise(function(xs){gs.dispatch({type:q$5.resetStart},xs,Ts)})},ready:function(Ts){return rs.on(q$5.ready,Ts)},on:function(Ts,xs){if(!Ts||!W$6(xs))return!1;if(Ts===q$5.bootstrap)throw new Error(".on disabled for "+Ts);var zs=/Start$|Start:/;if(Ts==="*"){var Bs=function(lu){return function(vu){return function(yu){return yu.type.match(zs)&&xs({payload:yu,instance:rs,plugins:Sn}),vu(yu)}}},Js=function(lu){return function(vu){return function(yu){return yu.type.match(zs)||xs({payload:yu,instance:rs,plugins:Sn}),vu(yu)}}};return Fn(Bs,Le$3),Fn(Js,Ce$3),function(){Gn(Bs,Le$3),Gn(Js,Ce$3)}}var tu=Ts.match(zs)?Le$3:Ce$3,hs=function(lu){return function(vu){return function(yu){return yu.type===Ts&&xs({payload:yu,instance:rs,plugins:Sn,abort:Kn}),vu(yu)}}};return Fn(hs,tu),function(){return Gn(hs,tu)}},once:function(Ts,xs){if(!Ts||!W$6(xs))return!1;if(Ts===q$5.bootstrap)throw new Error(".once disabled for "+Ts);var zs=rs.on(Ts,function(Bs){xs({payload:Bs.payload,instance:rs,plugins:Sn,abort:Kn}),zs()});return zs},getState:function(Ts){var xs=gs.getState();return Ts?i$9(xs,Ts):Object.assign({},xs)},dispatch:function(Ts){var xs=q$6(Ts)?{type:Ts}:Ts;if(z$4.includes(xs.type))throw new Error("reserved action "+xs.type);var zs=v$5({},xs,{_:v$5({originalAction:xs.type},Ts._||{})});gs.dispatch(zs)},enablePlugin:Jn.enable,disablePlugin:Jn.disable,plugins:Jn,storage:{getItem:pn.getItem,setItem:function(Ts,xs,zs){gs.dispatch({type:q$5.setItemStart,key:Ts,value:xs,options:zs})},removeItem:function(Ts,xs){gs.dispatch({type:q$5.removeItemStart,key:Ts,options:xs})}},setAnonymousId:function(Ts,xs){rs.storage.setItem(A$4,Ts,xs)},events:{core:z$4,plugins:En}},us=dn.middlewares.concat([function(Ts){return function(xs){return function(zs){return zs.meta||(zs.meta=Ue$3()),xs(zs)}}},Dn(Le$3),ce$4(rs,Rn,{all:Pn,plugins:En}),se$4(pn),C$5(rs),B$5(rs),Dn(Ce$3)]),as={context:xe$4,user:R$6(pn),page:Ae$2,track:he$4,plugins:fe$3(Rn),queue:ye$4},cs=N$9,_s=N$9;if($$_&&sn.debug){var Es=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;Es&&(cs=Es({trace:!0,traceLimit:25})),_s=function(){return arguments.length===0?ze$4():on(typeof arguments[0])?Me$4():Me$4().apply(null,arguments)}}var Qn,ms=function(Ts){return Object.keys(Ts).reduce(function(xs,zs){return ke$2.includes(zs)||(xs[zs]=Ts[zs]),xs},{})}(sn),$s=dn.pluginsArray.reduce(function(Ts,xs){var zs=xs.name,Bs=xs.config,Js=xs.loaded,tu=dn.pluginEnabled[zs];return Ts[zs]={enabled:tu,initialized:!!tu&&!xs.initialize,loaded:!!Js(),config:Bs||{}},Ts},{}),Ms={context:ms,user:Yn,plugins:$s},gs=P$3(function(Ts){for(var xs=Object.keys(Ts),zs={},Bs=0;Bs<xs.length;Bs++){var Js=xs[Bs];typeof Ts[Js]===y$4&&(zs[Js]=Ts[Js])}var tu,hs=Object.keys(zs);try{(function(lu){Object.keys(lu).forEach(function(vu){var yu=lu[vu];if(typeof yu(void 0,{type:"@@redux/INIT"})===b$6||typeof yu(void 0,{type:I$6})===b$6)throw new Error("reducer "+vu+" "+b$6)})})(zs)}catch(lu){tu=lu}return function(lu,vu){if(lu===void 0&&(lu={}),tu)throw tu;for(var yu=!1,Wu={},Ru=0;Ru<hs.length;Ru++){var Ll=hs[Ru],Vp=lu[Ll],Ys=(0,zs[Ll])(Vp,vu);if(typeof Ys===b$6){var _u=S$6(Ll,vu);throw new Error(_u)}Wu[Ll]=Ys,yu=yu||Ys!==Vp}return yu?Wu:lu}}(v$5({},as,ln)),Ms,_s(cs(O$7.apply(void 0,us))));gs.dispatch=(Qn=gs.dispatch,function(Ts,xs,zs){var Bs=v$5({},Ts,{meta:Ue$3(Ts.meta,xs,qe$4(zs))});return Qn.apply(null,[Bs])});var Ss=Object.keys(Sn);gs.dispatch({type:q$5.bootstrap,plugins:Ss,config:ms,params:qn,user:Yn,initialUser:cn,persistedUser:Zn});var js=Ss.filter(function(Ts){return dn.pluginEnabled[Ts]}),bs=Ss.filter(function(Ts){return!dn.pluginEnabled[Ts]});return gs.dispatch({type:q$5.registerPlugins,plugins:Ss,enabled:dn.pluginEnabled}),dn.pluginsArray.map(function(Ts,xs){var zs=Ts.bootstrap,Bs=Ts.config,Js=Ts.name;zs&&W$6(zs)&&zs({instance:rs,config:Bs,payload:Ts}),gs.dispatch({type:q$5.registerPluginType(Js),name:Js,enabled:dn.pluginEnabled[Js],plugin:Ts}),dn.pluginsArray.length===xs+1&&gs.dispatch({type:q$5.initializeStart,plugins:js,disabled:bs})}),Te$4(function(Ts){gs.dispatch({type:Ts?q$5.offline:q$5.online})}),function(Ts,xs,zs){setInterval(function(){return H$6(Ts,xs,zs)},3e3)}(gs,Rn,rs),rs}var Le$3="before",Ce$3="after",t$2="cookie",i$7=a$4(),r$1=d$8,c$6=d$8;function u$4(sn){return i$7?d$8(sn,"",-1):i$8(sn)}function a$4(){if(i$7!==void 0)return i$7;var sn="cookiecookie";try{d$8(sn,sn),i$7=document.cookie.indexOf(sn)!==-1,u$4(sn)}catch{i$7=!1}return i$7}function d$8(sn,ln,cn,dn,pn,vn){if(typeof window<"u"){var Sn=arguments.length>1;return i$7===!1&&(Sn?f$2(sn,ln):a$5(sn)),Sn?document.cookie=sn+"="+encodeURIComponent(ln)+(cn?"; expires="+new Date(+new Date+1e3*cn).toUTCString()+(dn?"; path="+dn:"")+(pn?"; domain="+pn:"")+(vn?"; secure":""):""):decodeURIComponent((("; "+document.cookie).split("; "+sn+"=")[1]||"").split(";")[0])}}var r="localStorage",g$3=b$7.bind(null,"localStorage");u$5("localStorage","getItem",a$5);u$5("localStorage","setItem",f$2);u$5("localStorage","removeItem",i$8);var a$3="sessionStorage",i$6=b$7.bind(null,"sessionStorage");u$5("sessionStorage","getItem",a$5);u$5("sessionStorage","setItem",f$2);u$5("sessionStorage","removeItem",i$8);function I$5(sn){var ln=sn;try{if((ln=JSON.parse(sn))==="true")return!0;if(ln==="false")return!1;if(on(ln))return ln;parseFloat(ln)===ln&&(ln=parseFloat(ln))}catch{}if(ln!==null&&ln!=="")return ln}var k$5=g$3(),O$6=i$6(),x$7=a$4();function C$4(sn,ln){if(sn){var cn=A$3(ln),dn=!N$8(cn),pn=d$7(cn)?I$5(localStorage.getItem(sn)):void 0;if(dn&&!I$7(pn))return pn;var vn=h$5(cn)?I$5(r$1(sn)):void 0;if(dn&&vn)return vn;var Sn=E$6(cn)?I$5(sessionStorage.getItem(sn)):void 0;if(dn&&Sn)return Sn;var En=a$5(sn);return dn?En:{localStorage:pn,sessionStorage:Sn,cookie:vn,global:En}}}function L$6(sn,ln,cn){if(sn&&!I$7(ln)){var dn={},pn=A$3(cn),vn=JSON.stringify(ln),Sn=!N$8(pn);return d$7(pn)&&(dn[r]=F$6(r,ln,I$5(localStorage.getItem(sn))),localStorage.setItem(sn,vn),Sn)?dn[r]:h$5(pn)&&(dn[t$2]=F$6(t$2,ln,I$5(r$1(sn))),c$6(sn,vn),Sn)?dn[t$2]:E$6(pn)&&(dn[a$3]=F$6(a$3,ln,I$5(sessionStorage.getItem(sn))),sessionStorage.setItem(sn,vn),Sn)?dn[a$3]:(dn[l$3]=F$6(l$3,ln,a$5(sn)),f$2(sn,ln),Sn?dn[l$3]:dn)}}function b$5(sn,ln){if(sn){var cn=A$3(ln),dn=C$4(sn,m$5),pn={};return!I$7(dn.localStorage)&&d$7(cn)&&(localStorage.removeItem(sn),pn[r]=dn.localStorage),!I$7(dn.cookie)&&h$5(cn)&&(u$4(sn),pn[t$2]=dn.cookie),!I$7(dn.sessionStorage)&&E$6(cn)&&(sessionStorage.removeItem(sn),pn[a$3]=dn.sessionStorage),!I$7(dn.global)&&G$5(cn,l$3)&&(i$8(sn),pn[l$3]=dn.global),pn}}function A$3(sn){return sn?q$6(sn)?sn:sn.storage:g$4}function d$7(sn){return k$5&&G$5(sn,r)}function h$5(sn){return x$7&&G$5(sn,t$2)}function E$6(sn){return O$6&&G$5(sn,a$3)}function N$8(sn){return sn===m$5||sn==="all"}function G$5(sn,ln){return sn===g$4||sn===ln||N$8(sn)}function F$6(sn,ln,cn){return{location:sn,current:ln,previous:cn}}var J$3={setItem:L$6,getItem:C$4,removeItem:b$5};function _defineProperty(sn,ln,cn){return ln in sn?Object.defineProperty(sn,ln,{value:cn,enumerable:!0,configurable:!0,writable:!0}):sn[ln]=cn,sn}function ownKeys$2(sn,ln){var cn=Object.keys(sn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(sn);ln&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(sn,pn).enumerable})),cn.push.apply(cn,dn)}return cn}function _objectSpread2(sn){for(var ln=1;ln<arguments.length;ln++){var cn=arguments[ln]!=null?arguments[ln]:{};ln%2?ownKeys$2(Object(cn),!0).forEach(function(dn){_defineProperty(sn,dn,cn[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(sn,Object.getOwnPropertyDescriptors(cn)):ownKeys$2(Object(cn)).forEach(function(dn){Object.defineProperty(sn,dn,Object.getOwnPropertyDescriptor(cn,dn))})}return sn}function analyticsLib(){var sn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ln={storage:J$3};return Ve$4(_objectSpread2(_objectSpread2({},ln),sn))}const analytics=analyticsLib({app:"inflearn-monolith",plugins:[index({containerId:"GTM-MVM7ZHX"})]}),eventNames={GTM_CUSTOM_INIT:"gtm.customInit",PLAYER_GUIDE_FAQ_CLICK:"Player_Guide_Faq-click",PLAYER_GUIDE_HOTKEY_CLICK:"Player_Guide_Hotkey-click",UNIT__VIDEO_CONTENT_REPLAY_FLOATBTN_CLICK:"Unit_VideoContent_replay-floatbtn-click",UNIT__VIDEO_CONTENT_NEXT_FLOATBTN_CLICK:"Unit_VideoContent_next-floatbtn-click",UNIT__VIDEO_CONTENT_NEXT_BTN_CLICK:"Unit_VideoContent_next-btn-click",UNIT__VIDEO_CONTENT_COMPLETE_BTN_CLICK:"Unit_VideoContent_complete-btn-click",UNIT__VIDEO_CONTENT_PREVIOUS_BTN_CLICK:"Unit_VideoContent_previous-btn-click",UNIT__VIDEO_CONTENT_ADD_REVIEW_BTN_CLICK:"Unit_VideoContent_add-review-btn-click",UNIT__VIDEO_CONTENT_EXIT_BTN_CLICK:"Unit_VideoContent_exit-btn-click",UNIT__COMMUNITY_CHAT_SEARCH:"Unit_Community_chat-search",UNIT__COMMUNITY_STUDIES_SEARCH:"Unit_Community_studies-search",UNIT__COMMUNITY_QUESTION_SEARCH:"Unit_Community_question-search",UNIT__NOTE_DELETE_CLICK:"Unit_Note_delete-click",UNIT__NOTE_MODIFY_CLICK:"Unit_Note_modify-click",UNIT__COMMUNITY_ADD_POST_CLICK:"Unit_Community_addPost-click",UNIT__COMMUNITY_POST_ITEM_CLICK:"Unit_Community_postItem-click",UNIT__VIDEO_CONTENT_PLAYBACK_RATE:"Unit_VideoContent_PlaybackRate-click",TIPTAP__TOOLBAR_BOLD_CLICK:"Tiptap_Toolbar_bold-click",TIPTAP__TOOLBAR_ITALIC_CLICK:"Tiptap_Toolbar_italic-click",TIPTAP__TOOLBAR_STRIKE_CLICK:"Tiptap_Toolbar_strike-click",TIPTAP__TOOLBAR_LINK_CLICK:"Tiptap_Toolbar_link-click",TIPTAP__TOOLBAR_CODE_CLICK:"Tiptap_Toolbar_code-click",TIPTAP__TOOLBAR_CODEBLOCK_CLICK:"Tiptap_Toolbar_codeblock-click",TIPTAP__TOOLBAR_BLOCKQUOTE_CLICK:"Tiptap_Toolbar_blockquote-click",TIPTAP__TOOLBAR_IMAGE_CLICK:"Tiptap_Toolbar_image-click",TIPTAP__TOOLBAR_HEADING1_CLICK:"Tiptap_Toolbar_heading1-click",TIPTAP__TOOLBAR_HEADING2_CLICK:"Tiptap_Toolbar_heading2-click",TIPTAP__TOOLBAR_HEADING3_CLICK:"Tiptap_Toolbar_heading3-click",TIPTAP__TOOLBAR_BULLETLIST_CLICK:"Tiptap_Toolbar_bulletlist-click",TIPTAP__TOOLBAR_NUMBERLIST_CLICK:"Tiptap_Toolbar_numberlist-click",TIPTAP__TOOLBAR_DIVIDER_CLICK:"Tiptap_Toolbar_divider-click",TIPTAP__TOOLBAR_UNDO_CLICK:"Tiptap_Toolbar_undo-click",TIPTAP__TOOLBAR_REDO_CLICK:"Tiptap_Toolbar_redo-click",LECTUREM_FULLSCREEN_CLICK:"lecturem_fullscreen-click",LECTUREM_WRITE_VIEW:"lecturem_write-review",LECTUREM_CURRICULUM_TAB_CLICK:"lecturem_curriculum-tab-click",LECTUREM_REFERENCE_TAB_CLICK:"lecturem_reference-tab-click",LECTUREM_COMMUNITY_TAB_CLICK:"lecturem_community-tab-click",LECTUREM_NOTE_TAB_CLICK:"lecturem_note-tab-click",LECTUREM_REFERENCE_FULLPAGE_CLICK:"lecturem_reference-fullpage-click",LECTURE_SAVE_REVIEW:"lecture_save-review","LECTURE_30%_REVIEW_LATER_CLICK":"lecture_30%review-later-click","LECTURE_30%_REVIEW_SAVE_CLICK":"lecture_30%review-save-click","LECTURE_60%_REVIEW_LATER_CLICK":"lecture_60%review-later-click","LECTURE_60%_REVIEW_SAVE_CLICK":"lecture_60%review-save-click",LECTURE_REVIEW_STARS_CLICK:"lecture_review-stars-click",LECTURE_ROADMAP_EVENT_CLICK:"lecture_roadmap_event-click",LECTUREPC_COMM_TAB_CLICK:"lecturepc_comm-tab-click",LECTUREPC_COMM_UNIT_QUESTION_CLICK:"lecturepc_comm-unit-question-click",LECTUREPC_COMM_COURSE_QUESTION_CLICK:"lecturepc_comm-course-question-click",LECTUREPC_COMM_SEARCH_HAS_RESULT:"lecturepc_comm-search-has-result",LECTUREPC_COMM_SEARCH_NO_RESULT:"lecturepc_comm-search-no-result",LECTUREPC_COMM_SHARE_POST_CLICK:"Unit_Community_Share",LECTURE_VIEW_UNIT:"view_unit",LECTURE_VIEW_UNIT_COMMUNITY_QUESTION_LIST:"view_unit_community_question_list",LECTURE_VIEW_UNIT_COMMUNITY_CHAT_LIST:"view_unit_community_chat_list",LECTURE_VIEW_UNIT_COMMUNITY_QUESTION:"view_unit_community_question",LECTURE_VIEW_UNIT_COMMUNITY_CHAT:"view_unit_community_chat",LECTURE_SUBMIT_REVIEW_ON_UNIT:"submit_review_on_unit",LECTURE_SEARCH_UNIT_COMMUNITY_KEYWORD:"search_unit_community_keyword",LECTURE_SUBMIT_QUESTION_ON_UNIT:"submit_questions_on_unit",LECTURE_SUBMIT_NOTE_ON_UNIT:"submit_note_on_unit",LECTURE_CLICK_COMPLETES:"click_completes",GROWTH_LOG_CLICK_RECENT_LOG:"growth-log-click-recent-log",GROWTH_LOG_CLICK_REFRESH:"growth-log-click-refresh",GROWTH_LOG_CLOSE_LOG_TAB:"growth-log-close-log-tab",GROWTH_LOG_END_TO_SCROLL:"growth-log-end-to-scroll",GROWTH_LOG_INSTITUTION_VERIFY:"growth-log-institution-verify",GROWTH_LOG_OPEN_LOG_TAB:"growth-log-open-log-tab",GROWTH_LOG_SEND_MESSAGE:"growth-log-send-message",GROWTH_LOG_TAB_CLICK_OPEN_CURRICULUM:"growth-log-tab-click-open-curriculum",GROWTH_LOG_TAB_CLICK_OPEN_COMMUNITY:"growth-log-tab-click-open-community",GROWTH_LOG_TAB_CLICK_OPEN_NOTE:"growth-log-tab-click-open-note",GROWTH_LOG_TAB_CLICK_OPEN_LOG:"growth-log-tab-click-open-log",GROWTH_LOG_TAB_CLICK_CLOSE_CURRICULUM:"growth-log-tab-click-close-curriculum",GROWTH_LOG_TAB_CLICK_CLOSE_COMMUNITY:"growth-log-tab-click-close-community",GROWTH_LOG_TAB_CLICK_CLOSE_NOTE:"growth-log-tab-click-close-note",GROWTH_LOG_TAB_CLICK_CLOSE_LOG:"growth-log-tab-click-close-log",GROWTH_LOG_BUTTON_CLICK_CLOSE_CURRICULUM:"growth-log-button-click-close-curriculum",GROWTH_LOG_BUTTON_CLICK_CLOSE_COMMUNITY:"growth-log-button-click-close-community",GROWTH_LOG_BUTTON_CLICK_CLOSE_LOG:"growth-log-button-click-close-log",GROWTH_LOG_BUTTON_CLICK_CLOSE_NOTE:"growth-log-button-click-close-note",UNIT_GROWTHLOG_COMPLETESTATISTICS_TAB_CLICK:"Unit_GrowthLog_completestatistics_tab_click",UNIT_GROWTHLOG_LEARNINGTIME_TAB_CLICK:"Unit_GrowthLog_learningtime_tab_click",UNIT_GROWTHLOG_GOALSETTING_BTN_CLICK:"Unit_GrowthLog_goalsetting_btn_click",UNIT_GROWTHLOG_CLOSE_STATISTICS_CLICK:"Unit_GrowthLog_close-statistics_click",UNIT_GROWTHLOG_OPEN_STATISTICS_CLICK:"Unit_GrowthLog_open-statistics_click",UNIT_GROWTHLOG_GOALSETTING_SAVE_CLICK:"Unit_GrowthLog_goalsetting_save_click",CLICK_SUBTITLE:"click_subtitle",CLICK_SUBTITLE_ON:"click_subtitle_on",CLICK_SUBTITLE_UNDER_PLAYER:"click_subtitle_under_player",CLICK_SCRIPT_OPEN:"click_script_open",CLICK_SCRIPT_CLOSE:"click_script_close",CLICK_SCRIPT_TEXT:"click_script_text",CLICK_SCRIPT_TO_PLAYPOINT:"click_script_to_playpoint",CLICK_SCRIPT_EDIT:"click_script_edit",CLICK_SCRIPT_EDIT_CANCEL:"click_script_edit_cancel",CLICK_SCRIPT_EDIT_APPLY:"click_script_edit_apply"};function trackEvent(sn,ln){return analytics.track(sn,ln)}function trackMixpanelEvent(sn,ln){return analytics.track(sn,{mixpanelToken:appConfig.MIXPANEL_TOKEN,...ln})}function useReviewModal(){const{slug:sn}=useLectureParams(),ln=useAppDispatch(),{data:cn}=useSession(),{data:dn}=useMyVoucher(sn),pn=()=>{trackEvent("Unit_VideoContent_add-review-btn-click"),ln(lectureActions.setIsReviewModalOpened(!0))};return{isReviewable:(dn==null?void 0:dn.hasVoucher)&&!(cn!=null&&cn.isBlocked)&&dn.voucher.isReviewable&&(Number(dn.voucher.progress)===100||dn.voucher.completeCount>=3),openReviewModal:pn}}var _ref$7={name:"l83cut",styles:"position:absolute;height:60px;top:-60px;width:100%;background:linear-gradient(180deg, rgba(255, 255, 255, 0.00) 0%, #FFF 100%)"},_ref2$4={name:"6my24z",styles:"position:sticky;bottom:0;padding:20px 0;background-color:#fff;margin-top:0"},_ref3$1={name:"1sdjnkx",styles:"word-break:break-word"},_ref4$1={name:"1i9vogi",styles:"margin-top:0"},_ref5={name:"1w92ebd",styles:"padding:20px 0"},_ref6={name:"a3z6ut",styles:"padding:0 20px"};function CompleteModal({isOpened:sn,onClose:ln}){const{slug:cn}=useLectureParams(),{data:dn}=useCourse(cn),{openReviewModal:pn,isReviewable:vn}=useReviewModal(),Sn=reactExports.useRef(null),[En,Cn]=reactExports.useState(!1),Pn=()=>{if(!Sn.current)return;const Gn=Sn.current.scrollTop+Sn.current.clientHeight,Dn=Sn.current.scrollHeight;return Cn(Gn<Dn)};reactExports.useEffect(Pn,[Sn.current]),useEvent$2("scroll",throttle(Pn,200),Sn.current);const Rn=(dn==null?void 0:dn.completeMessage)||"강의를 모두 학습하셨습니다.",Fn=vn?jsxs(Fragment,{children:[jsx(A$a,{variant:"default",size:"md",onClick:ln,children:"다음에"}),jsx(A$a,{variant:"filled",size:"md",color:"infgreen.5",onClick:()=>{ln(),pn()},children:"수강평 남기기"})]}):jsx(A$a,{variant:"filled",size:"md",color:"infgreen.5",onClick:ln,children:"확인"});return jsxs(c$a.Root,{id:"complateModal",opened:sn,onClose:ln,closeOnEscape:!0,closeOnClickOutside:!1,children:[jsx(c$a.Overlay,{}),jsxs(c$a.Content,{css:_ref6,ref:Sn,children:[jsxs(c$a.Header,{css:_ref5,children:[jsx(c$a.Title,{children:"완강! 축하합니다. 🎉"}),jsx(c$a.CloseButton,{})]}),jsx(c$a.Body,{css:_ref4$1,children:jsxs(S$a,{h:"100%",children:[jsx(p$8,{className:"alert-instance",withCloseButton:!1,type:"success",icon:jsx(I$e,{icon:faCircleExclamation.faCircleExclamation}),radius:"md",title:"복습을 하면서 다음 수업 자동재생을 이용해보세요!"}),jsx(c$d,{my:16,css:_ref3$1,children:Rn})]})}),jsxs(c$a.Footer,{align:"grow",styleWrapper:_ref2$4,children:[En?jsx(m$9,{css:_ref$7}):null,Fn]})]})]})}function RecommendReviewModal({isOpened:sn,onClose:ln}){const cn=useAppSelector(vn=>vn.lecture.progress),{openReviewModal:dn}=useReviewModal(),pn=()=>{ln(),dn(),cn===30&&trackEvent(eventNames["LECTURE_30%_REVIEW_SAVE_CLICK"]),cn===60&&trackEvent(eventNames["LECTURE_60%_REVIEW_SAVE_CLICK"])};return jsxs(c$a.Root,{opened:sn,onClose:ln,closeOnEscape:!0,children:[jsx(c$a.Overlay,{}),jsxs(c$a.Content,{children:[jsxs(c$a.Header,{children:[jsx(c$a.Title,{children:"강의가 마음에 드셨나요?"}),jsx(c$a.CloseButton,{})]}),jsx(c$a.Body,{children:jsx(c$d,{my:16,children:"강의에 대한 여러분의 생각을 남겨주세요."})}),jsxs(c$a.Footer,{align:"grow",children:[jsx(A$a,{variant:"default",size:"md",onClick:ln,children:"다음에"}),jsx(A$a,{variant:"filled",size:"md",color:"infgreen.5",onClick:pn,children:"수강평 남기기"})]})]})]})}const DEFAULT_VALUE={REASONS:["강의 난이도","사운드 문제","영상 화질 문제","강의 자료 부족","질문 답변 소통","강의 퀄리티"],MIN_STAR_COUNT:1,MIN_REVIEW_BODY_LENGTH:5,validateForm:()=>!0},ReviewFormContext=reactExports.createContext(null);function useReviewFormContext(){const sn=gS.useContext(ReviewFormContext);if(!sn)throw new Error("useReviewFormContext must be used within a ReviewFormContext");return sn}function ReviewModal({form:sn,onClose:ln,isOpened:cn,title:dn="힘이 되는 수강평을 남겨주세요!"}){return jsxs(c$a,{size:"md",radius:"lg",onClose:ln,opened:cn,withCloseButton:!1,centered:!0,children:[jsx(c$d,{size:18,weight:"bold",align:"center",mb:"24px",children:dn}),sn]})}function ReviewForm({formValue:sn,onCancel:ln,onSubmit:cn,isLoading:dn,label:pn={cancel:"취소",submit:"저장하기"},...vn}){const{MIN_STAR_COUNT:Sn,MIN_REVIEW_BODY_LENGTH:En,REASONS:Cn,validateForm:Pn}=useReviewFormContext(),[Rn,Ln]=reactExports.useState((sn==null?void 0:sn.body)||""),[Fn,Gn]=reactExports.useState((sn==null?void 0:sn.star)||0),[Dn,Kn]=reactExports.useState((sn==null?void 0:sn.reasons)||[]),qn=Fn>0&&Fn<=Sn,Zn=cs=>{var _s;Ln(cs.target.value),(_s=vn.onChangeBody)==null||_s.call(vn)},Yn=cs=>{var _s;Gn(cs),Kn([]),(_s=vn.onChangeStars)==null||_s.call(vn)},Jn=cs=>{var _s;Kn(cs),(_s=vn.onChangeReasons)==null||_s.call(vn)},rs=()=>{Gn(0),Kn([]),ln()},us=()=>{cn({body:Rn,star:Fn,reasons:Dn})},as=()=>{const cs=Fn!==0,_s=Dn.length!==0,Es=Rn.trim().length>=En;return qn?!Es||!_s:!Es||!cs};return jsxs(m$9,{children:[jsx(m$8,{spacing:10,position:"center",mb:"24px",children:jsx(Rating,{value:Fn,onChange:Yn,fullSymbol:jsx(I$e,{size:"2xl",color:"yellow.5",icon:faStar}),emptySymbol:jsx(I$e,{size:"2xl",color:"gray.3",icon:faStar})})}),qn&&jsxs("section",{children:[jsx(c$d,{size:"md",weight:"bold",align:"center",mb:"16px",children:"아쉬웠던 점을 1개 이상 선택해 주세요."}),jsx(f$6.Group,{value:Dn,onChange:Jn,multiple:!0,children:jsx(m$8,{position:"center",mb:"24px",spacing:8,children:Cn.map(cs=>jsx(f$6,{value:cs,size:"sm",radius:"xl",variant:"light",children:cs},cs))})})]}),!!Fn&&jsx(T$9,{maxRows:4,minRows:4,size:"sm",variant:"default",value:Rn,onChange:Zn,placeholder:"수강평을 작성해보세요! (5자 이상)"}),jsxs(m$8,{spacing:16,position:"apart",mt:"16px",grow:!0,children:[jsx(A$a,{size:"md",radius:"md",variant:"default",disabled:dn,onClick:rs,children:pn==null?void 0:pn.cancel}),jsx(A$a,{size:"md",radius:"md",variant:"filled",disabled:dn||as()||!(Pn!=null&&Pn({body:Rn,star:Fn,reasons:Dn})),onClick:us,children:pn==null?void 0:pn.submit})]})]})}var faCheckCircle={},faCircleCheck={};(function(sn){Object.defineProperty(sn,"__esModule",{value:!0});var ln="fal",cn="circle-check",dn=512,pn=512,vn=[61533,"check-circle"],Sn="f058",En="M256 32a224 224 0 1 1 0 448 224 224 0 1 1 0-448zm0 480A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM363.3 203.3c6.2-6.2 6.2-16.4 0-22.6s-16.4-6.2-22.6 0L224 297.4l-52.7-52.7c-6.2-6.2-16.4-6.2-22.6 0s-6.2 16.4 0 22.6l64 64c6.2 6.2 16.4 6.2 22.6 0l128-128z";sn.definition={prefix:ln,iconName:cn,icon:[dn,pn,vn,Sn,En]},sn.faCircleCheck=sn.definition,sn.prefix=ln,sn.iconName=cn,sn.width=dn,sn.height=pn,sn.ligatures=vn,sn.unicode=Sn,sn.svgPathData=En,sn.aliases=vn})(faCircleCheck);(function(sn){Object.defineProperty(sn,"__esModule",{value:!0});var ln=faCircleCheck;sn.definition={prefix:ln.prefix,iconName:ln.iconName,icon:[ln.width,ln.height,ln.aliases,ln.unicode,ln.svgPathData]},sn.faCheckCircle=sn.definition,sn.prefix=ln.prefix,sn.iconName=ln.iconName,sn.width=ln.width,sn.height=ln.height,sn.ligatures=ln.aliases,sn.unicode=ln.unicode,sn.svgPathData=ln.svgPathData,sn.aliases=ln.aliases})(faCheckCircle);function useModals(){const{open:sn,close:ln}=reactExports.useContext(ModalsDispatchContext);return{openModal:(pn,vn,Sn)=>{const En=Sn||nanoid();sn({Component:pn,props:{...vn||{},id:En,close:()=>ln(En)}})},closeModal:pn=>{ln(pn)}}}const colors={basicWhite:"#ffffff",basicGray50:"#fcfcfd",basicGray100:"#f8f9fa",basicGray200:"#f1f3f5",basicGray300:"#e9ebee",basicGray400:"#d5dbe2",basicGray500:"#abb0b5",basicGray600:"#858a8d",basicGray700:"#616568",basicGray800:"#3e4042",basicGray900:"#1b1c1d",primary100:"#EBFFF7",primary200:"#D5F5EB",primary300:"#B7EFD7",primary400:"#8BE4BE",primary500:"#00C471",primary600:"#00a65f",primary700:"#028c52",primary800:"#006a3d",primary900:"#07362A",primaryDisabled:"#B3EDD4",point100:"#FFF8B1",point200:"#FFE816",point300:"#FFC816",point400:"#FFA016",point500:"#FF8216",point600:"#FF6F16",point700:"#FF5B16",point800:"#FF645C",point900:"#C93B00",systemSuccess50:"#EBF4FF",systemSuccess100:"#157EFD",systemInfo50:"#EBFFF7",systemInfo100:"#00C471",systemWarning50:"#FFF0DA",systemWarning100:"#FFA016",systemDanger50:"#FFD7C7",systemDanger100:"#FF5B16",secondary:"#E5503C",star:"#FDCC0E",muteBlue:"#639CBF",muteOrange:"#D18E40",muteGreen:"#43D140"},body16={fontSize:"16px",lineHeight:1.5,letterSpacing:"-0.3px"},body15={fontSize:"15px",lineHeight:1.47,letterSpacing:"-0.3px"},body14={fontSize:"14px",lineHeight:1.43,letterSpacing:"-0.3px"},cssCommonButton={display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"0 16px",height:"40px",border:"none",borderRadius:"3px",...body15,fontWeight:500,cursor:"pointer",color:"#000","&:disabled":{backgroundColor:`${colors.basicGray300} !important`,color:`${colors.basicWhite} !important`,border:"0 !important",boxShadow:"none !important",cursor:"default"}},styleCommonButton=css$1({...cssCommonButton},"",""),styleGray800Button=css$1({...cssCommonButton,background:colors.basicGray800,color:colors.basicWhite},"",""),styleOutlinedButton=css$1({...cssCommonButton,borderColor:"#dee2e6",border:"1px solid",background:"none"},"",""),styleResetButton={name:"ru28w9",styles:"margin:0;padding:0;display:inline-flex;align-items:center;justify-content:center;border:none;outline:none;background-color:transparent;cursor:pointer;color:white"},header24={fontSize:"24px",lineHeight:1.25,letterSpacing:"-0.3px"},header22={fontSize:"22px",lineHeight:1.45,letterSpacing:"-0.3px"},header20={fontSize:"20px",lineHeight:1.4,letterSpacing:"-0.3px"},header18={fontSize:"18px",lineHeight:1.4,letterSpacing:"-0.3px"};function UtilModalContent({icon:sn,isConfirm:ln,onCancel:cn,onConfirm:dn,description:pn,title:vn,confirmText:Sn="확인",cancelText:En="취소"}){return jsxs("div",{css:styleModalContainer,children:[jsx("span",{css:styleModalIconWrapper,children:sn}),jsx("p",{css:styleModalTitle(!!pn),children:vn}),pn&&jsx("p",{css:styleModalDescription,children:pn}),jsxs("div",{css:styleModalButtons,children:[ln&&jsx("button",{type:"button",onClick:cn,css:[styleCommonButton,styleModalCancelButton,"",""],children:En}),jsx("button",{type:"button",onClick:dn,css:[styleCommonButton,styleModalConfirmButton,"",""],children:Sn})]})]})}const styleModalContainer={name:"11en623",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center"},styleModalIconWrapper={name:"1uc1l9l",styles:"width:56px;height:56px;margin-bottom:20px"},styleModalTitle=sn=>css$1({marginBottom:sn?"6px":"28px",...header22,fontWeight:500,color:"#212529",wordBreak:"keep-all",textAlign:"center"},"",""),styleModalDescription=css$1({marginBottom:"28px",...body16,color:"#343a40",textAlign:"center",wordBreak:"keep-all"},"",""),styleModalButtons={name:"zjik7",styles:"display:flex"},styleModalCancelButton=css$1({marginRight:"12px",backgroundColor:colors.basicWhite,color:"#454b54"},"",""),styleModalConfirmButton=css$1({backgroundColor:colors.primary500,color:colors.basicWhite,"&:hover":{backgroundColor:colors.primary600}},"",""),FOOTER_BAR_Z_INDEX=100,SIDE_BAR_Z_INDEX=100,TAB_ASIDE_Z_INDEX=99,MODAL_Z_INDEX=401;function BasicModal({contentLabel:sn,onCloseModal:ln,styleContent:cn,children:dn,shouldCloseOnOverlayClick:pn=!0}){return jsx(Modal$1,{shouldCloseOnOverlayClick:pn,isOpen:!0,onRequestClose:ln,contentLabel:sn,ariaHideApp:appConfig.MODE==="production",css:cn,style:{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(11,19,30,.37)",zIndex:MODAL_Z_INDEX}},children:dn})}function UtilModal({isConfirm:sn,contentLabel:ln,onConfirm:cn,onCancel:dn,Icon:pn,title:vn,description:Sn,close:En,confirmText:Cn,cancelText:Pn,shouldCloseOnOverlayClick:Rn=!0}){const Ln=()=>{cn&&cn(),En()},Fn=()=>{dn&&dn(),En()};return jsx(BasicModal,{contentLabel:ln,onCloseModal:()=>{En(),Fn()},styleContent:styleModalWrapper,shouldCloseOnOverlayClick:Rn,children:jsx(UtilModalContent,{icon:pn,title:vn,description:Sn,isConfirm:sn,onCancel:Fn,onConfirm:Ln,confirmText:Cn,cancelText:Pn})})}const styleModalWrapper=css$1({padding:"38px 64px",width:"calc(100% - 40px)",maxWidth:"416px",minWidth:"320px",borderRadius:"4px",backgroundColor:colors.basicWhite},"","");function useCourseReviewThanksModal(){const sn=useAppSelector(Sn=>Sn.lecture.isMobileView),{openModal:ln}=useModals(),cn=useQueryClient(),dn=()=>ln(UtilModal,{isConfirm:!1,contentLabel:"수강평 성공 모달",onConfirm:()=>{cn.invalidateQueries(["myVoucher"])},title:"수강평을 남겨주셔서 감사합니다!",description:"앞으로 더 좋은 지식을 전달하도록 노력하겠습니다. 😊",Icon:jsx(I$e,{color:"infgreen",size:56,icon:faCheckCircle.faCheckCircle})}),pn=()=>y$9({title:"수강평을 남겨주셔서 감사합니다.",children:"앞으로 더 좋은 지식을 전달하도록 노력하겠습니다. ",labels:{confirm:"확인"},onConfirm:()=>{cn.invalidateQueries(["myVoucher"])}});return{openCourseReviewThanksModal:()=>sn?pn():dn()}}function WriteReviewModal({onClose:sn,isOpened:ln}){const{slug:cn,unitId:dn}=useLectureParams(),{data:pn}=useCourse(cn),{mutate:vn,isLoading:Sn}=useV2ReviewCreateMutation({url:API_ENDPOINT.V2_REVIEW}),En=useQueryClient(),{showNotification:Cn}=z$9(),{openCourseReviewThanksModal:Pn}=useCourseReviewThanksModal(),Rn=({body:Ln,star:Fn,reasons:Gn})=>{pn&&vn({content:Ln,rating:Fn,courseId:pn.id,isPost:!1},{onSuccess:()=>{sn(),trackMixpanelEvent(eventNames.LECTURE_SUBMIT_REVIEW_ON_UNIT,{course_identification:pn.id,unit_id:dn,unit_review_tag:Gn||[],my_star_rate:Fn,review_body:Ln}),En.invalidateQueries(["myVoucher"]),Pn(),trackEvent(eventNames.LECTURE_SAVE_REVIEW,{oneStarTag:Gn})},onError:()=>{Cn({id:"review-error",title:"일시적인 오류가 발생했습니다.",autoClose:!1,type:"error",message:jsx(ErrorNotification,{})})}})};return jsx(ReviewModal,{form:jsx(ReviewFormContext.Provider,{value:DEFAULT_VALUE,children:jsx(ReviewForm,{onCancel:sn,isLoading:Sn,onSubmit:Rn,onChangeStars:()=>void trackEvent(eventNames.LECTURE_REVIEW_STARS_CLICK)})}),onClose:sn,isOpened:ln})}function useQueryTab(){const[sn,ln]=useSearchParams(),cn=pn=>{if(!pn||sn.get("tab")===pn){sn.delete("tab"),ln(Object.fromEntries(sn.entries()),{replace:!0});return}ln({...Object.fromEntries(sn.entries()),tab:pn},{replace:!0})},dn=()=>{cn()};return{tab:sn.get("tab"),onChangeTab:cn,closeTab:dn}}function useUnit(sn,ln,cn){const dn=useNavigate();return useV2UnitIdQuery({queryKey:unitQueryKey(sn),url:`${API_ENDPOINT.V2_UNIT_ID(String(sn))}?${queryString$1.stringify({courseSlug:ln})}`,options:{enabled:!!sn,keepPreviousData:!0,onError:pn=>{pn instanceof ApiError&&pn.isNotFound&&dn("/not-found")},useErrorBoundary:pn=>pn instanceof ApiError?!pn.isNotFound:!0,...cn}})}const unitQueryKey=sn=>["units",sn],TAB_LIST={CURRICULUM:"curriculum",COMMUNITY:"community",NOTE:"note",ACTIVITY_LOG:"activity-log",SCRIPT:"script"},tabLookup={커리큘럼:TAB_LIST.CURRICULUM,커뮤니티:TAB_LIST.COMMUNITY,노트:TAB_LIST.NOTE,"성장 로그":TAB_LIST.ACTIVITY_LOG,스크립트:TAB_LIST.SCRIPT};function useSideBarList(){var Ln;const{tab:sn,onChangeTab:ln,closeTab:cn}=useQueryTab(),{unitId:dn,slug:pn}=useLectureParams(),{data:vn,isLoading:Sn}=useMyVoucher(pn),{data:En,isLoading:Cn}=useUnit(dn,pn,{keepPreviousData:!1}),Pn=(Ln=vn==null?void 0:vn.voucher)==null?void 0:Ln.id,Rn=Fn=>{ln(tabLookup[Fn])};return reactExports.useEffect(()=>{if(isValidTab(sn,!!Pn)){window.innerWidth<tabletSize&&ln();return}ln()},[]),{tab:sn,isMyVoucherLoading:Sn,isUnitLoading:Cn,hasVodSubtitle:!!(En!=null&&En.hasVodSubtitle),onChangeTab:Rn,hasBeenVoucher:Pn,closeTab:cn}}const isValidTab=(sn,ln)=>isNil(sn)?!1:Object.values(omit$1(TAB_LIST,"NOTE")).includes(sn)?!0:!!(ln&&sn===TAB_LIST.NOTE);function useShortcutGuide(){return{openShortcutGuideModal:()=>{y$9({title:"단축키",size:380,withCloseButton:!0,closeOnClickOutside:!0,children:jsx(ShortcutTable,{}),labels:{confirm:"확인"}})}}}const SHORTCUTS=[{label:"재생 / 일시정지",shortcut:jsx(t$4,{children:"Space bar"})},{label:"배속 조정",shortcut:jsxs(m$8,{spacing:8,children:[jsx(t$4,{children:"<"}),jsx(t$4,{children:">"}),jsx(c$d,{component:"span",size:"md",weight:400,color:"gray.7",css:{name:"1989ovb",styles:"vertical-align:middle"},children:"Shift + , ."})]})},{label:"5초이동(연속 클릭: 10초)",shortcut:jsxs(m$8,{spacing:8,children:[jsx(t$4,{children:"←"}),jsx(t$4,{children:"→"}),jsx(c$d,{component:"span",size:"md",weight:400,color:"gray.7",ml:8,css:{name:"1989ovb",styles:"vertical-align:middle"},children:"방향키"})]})},{label:"음량 조절",shortcut:jsxs(m$8,{spacing:8,children:[jsx(t$4,{children:"↑"}),jsx(t$4,{children:"↓"}),jsx(c$d,{component:"span",size:"md",weight:400,color:"gray.7",ml:8,css:{name:"1989ovb",styles:"vertical-align:middle"},children:"방향키"})]})},{label:"음소거 ON / OFF",shortcut:jsx(t$4,{children:"m"})},{label:"자막 ON / OFF",shortcut:jsx(t$4,{children:"c"})},{label:"전체화면 / 해제",shortcut:jsxs(m$8,{spacing:8,children:[jsx(t$4,{children:"f"}),jsx("span",{children:"/"}),jsx(t$4,{children:"ESC"})]})},{label:"이전/다음 수업 이동",shortcut:jsxs(m$8,{spacing:8,children:[jsx(t$4,{children:"Shift"}),jsx("span",{children:"+"}),jsx(t$4,{children:"p"}),jsx("span",{children:"/"}),jsx(t$4,{children:"n"})]})},{label:"사이드바 ON / OFF",shortcut:jsx(t$4,{children:"["})}];var _ref$6={name:"1yvqaxf",styles:"width:134px;margin-left:auto"},_ref2$3={name:"1jb4mpp",styles:"padding:4px 0"};function ShortcutTable(){return jsx("div",{"aria-label":"shortcut-table",css:css$1({"& > * + *":{borderTop:`1px solid ${P$8.gray[4]}`}},"",""),children:SHORTCUTS.map(({label:sn,shortcut:ln})=>jsx("dl",{children:jsxs(m$8,{css:_ref2$3,children:[jsx("dt",{children:jsx(c$d,{size:"md",weight:400,color:"gray.7",children:sn})}),jsx("dd",{css:_ref$6,children:ln})]})},sn))})}const isInputElement=sn=>sn.tagName==="INPUT"||sn.tagName==="TEXTAREA"||sn.contentEditable==="true";var faExclamationTriangle={};function useConflictModal(){const sn=useAppSelector(vn=>vn.lecture.isMobileView),{openModal:ln}=useModals(),cn=({href:vn,title:Sn})=>ln(UtilModal,{isConfirm:!1,contentLabel:"로그인 계정이 변경되었을 경우 알림 모달",title:Sn,description:"강의 소개로 이동합니다.",Icon:jsx(I$e,{size:56,color:"orange.4",icon:faExclamationTriangle.faExclamationTriangle}),shouldCloseOnOverlayClick:!1,onConfirm:()=>{window.location.assign(vn)}}),dn=({href:vn,title:Sn})=>y$9({title:Sn,children:"강의 소개로 이동합니다.",labels:{confirm:"확인"},onConfirm:()=>{window.location.assign(vn)}});return{openConflictModal:vn=>sn?dn(vn):cn(vn)}}function useAlertModal(){const{openModal:sn}=useModals();return{warningAlert:({title:dn,description:pn,contentLabel:vn,shouldCloseOnOverlayClick:Sn=!0,onConfirm:En=void 0})=>{sn(UtilModal,{isConfirm:!1,Icon:jsx(I$e,{size:56,color:"orange.4",icon:faExclamationTriangle.faExclamationTriangle}),title:dn,description:pn,contentLabel:vn,shouldCloseOnOverlayClick:Sn,onConfirm:En})},successAlert:({title:dn,description:pn,contentLabel:vn,shouldCloseOnOverlayClick:Sn=!0,onConfirm:En=void 0,onCancel:Cn})=>{sn(UtilModal,{isConfirm:!1,Icon:jsx(I$e,{color:"infgreen",size:56,icon:faCheckCircle.faCheckCircle}),title:dn,description:pn,contentLabel:vn,shouldCloseOnOverlayClick:Sn,onConfirm:En,onCancel:Cn})}}}function useForbiddenModal(){const sn=useAppSelector(vn=>vn.lecture.isMobileView),{warningAlert:ln}=useAlertModal(),cn=()=>ln({title:"로그인 확인",description:"로그인 상태를 확인해주세요.",contentLabel:"로그인 유저가 아닐 시 에러 모달",shouldCloseOnOverlayClick:!0}),dn=()=>y$9({title:"로그인 확인",children:"로그인 후 이용해주세요.",labels:{confirm:"확인"}});return{openForbiddenModal:()=>sn?dn():cn()}}function useMultiStudyBlockModal(){const sn=useAppSelector(vn=>vn.lecture.isMobileView),{openModal:ln}=useModals(),cn=({href:vn,title:Sn})=>ln(UtilModal,{isConfirm:!1,contentLabel:"동시 접속 경고 모달",title:Sn,Icon:jsx(I$e,{size:56,color:"orange.4",icon:faExclamationTriangle.faExclamationTriangle}),onConfirm:()=>{window.location.assign(vn)},shouldCloseOnOverlayClick:!1}),dn=({href:vn,title:Sn})=>y$9({title:Sn,children:"다른 브라우저에서 학습을 시작했습니다. (한 계정으로 여러 명이 수강할 수 없습니다.)",labels:{confirm:"확인"},onConfirm:()=>{window.location.assign(vn)}});return{openMultiStudyBlockModal:vn=>sn?dn(vn):cn(vn)}}const useCompleteModal=()=>{const sn=useAppDispatch();return{openCompleteModal:()=>{sn(lectureActions.setIsCompleteModalOpened(!0))}}};function useRecommendReviewModal(){const sn=useAppDispatch();return{openRecommendReviewModal:cn=>{sn(lectureActions.setProgress(cn)),sn(lectureActions.setIsRecommendReviewModalOpened(!0))}}}var DEFAULT_REQUEST_ERROR_RESPONSE_LENGTH_LIMIT=32*ONE_KIBI_BYTE;function validateAndBuildLogsConfiguration(sn){var ln=validateAndBuildConfiguration(sn),cn=validateAndBuildForwardOption(sn.forwardConsoleLogs,objectValues(ConsoleApiName),"Forward Console Logs"),dn=validateAndBuildForwardOption(sn.forwardReports,objectValues(RawReportType),"Forward Reports");if(!(!ln||!cn||!dn))return sn.forwardErrorsToLogs&&!includes(cn,ConsoleApiName.error)&&cn.push(ConsoleApiName.error),assign$2({forwardErrorsToLogs:sn.forwardErrorsToLogs!==!1,forwardConsoleLogs:cn,forwardReports:dn,requestErrorResponseLengthLimit:DEFAULT_REQUEST_ERROR_RESPONSE_LENGTH_LIMIT},ln)}function validateAndBuildForwardOption(sn,ln,cn){if(sn===void 0)return[];if(!(sn==="all"||Array.isArray(sn)&&sn.every(function(dn){return includes(ln,dn)}))){display.error("".concat(cn,' should be "all" or an array with allowed values "').concat(ln.join('", "'),'"'));return}return sn==="all"?ln:removeDuplicates(sn)}function serializeLogsConfiguration(sn){var ln=serializeConfiguration(sn);return assign$2({forward_errors_to_logs:sn.forwardErrorsToLogs,forward_console_logs:sn.forwardConsoleLogs,forward_reports:sn.forwardReports},ln)}var __decorate=globalThis&&globalThis.__decorate||function(sn,ln,cn,dn){var pn=arguments.length,vn=pn<3?ln:dn===null?dn=Object.getOwnPropertyDescriptor(ln,cn):dn,Sn;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")vn=Reflect.decorate(sn,ln,cn,dn);else for(var En=sn.length-1;En>=0;En--)(Sn=sn[En])&&(vn=(pn<3?Sn(vn):pn>3?Sn(ln,cn,vn):Sn(ln,cn))||vn);return pn>3&&vn&&Object.defineProperty(ln,cn,vn),vn},StatusType={debug:"debug",error:"error",info:"info",warn:"warn"},HandlerType={console:"console",http:"http",silent:"silent"},STATUSES=Object.keys(StatusType),Logger$1=function(){function sn(ln,cn,dn,pn,vn){dn===void 0&&(dn=HandlerType.http),pn===void 0&&(pn=StatusType.debug),vn===void 0&&(vn={}),this.handleLogStrategy=ln,this.handlerType=dn,this.level=pn,this.contextManager=createContextManager("logger context"),this.contextManager.set(assign$2({},vn,cn?{logger:{name:cn}}:void 0))}return sn.prototype.log=function(ln,cn,dn,pn){dn===void 0&&(dn=StatusType.info);var vn;if(dn===StatusType.error&&(vn={origin:ErrorSource.LOGGER}),pn!=null){var Sn=pn instanceof Error?computeStackTrace(pn):void 0,En=computeRawError({stackTrace:Sn,originalError:pn,nonErrorPrefix:"Provided",source:ErrorSource.LOGGER,handling:"handled",startClocks:clocksNow()});vn={origin:ErrorSource.LOGGER,stack:En.stack,kind:En.type,message:En.message}}var Cn=sanitize(cn),Pn=vn?combine$1({error:vn},Cn):Cn;this.handleLogStrategy({message:sanitize(ln),context:Pn,status:dn},this)},sn.prototype.debug=function(ln,cn,dn){this.log(ln,cn,StatusType.debug,dn)},sn.prototype.info=function(ln,cn,dn){this.log(ln,cn,StatusType.info,dn)},sn.prototype.warn=function(ln,cn,dn){this.log(ln,cn,StatusType.warn,dn)},sn.prototype.error=function(ln,cn,dn){this.log(ln,cn,StatusType.error,dn)},sn.prototype.setContext=function(ln){this.contextManager.set(ln)},sn.prototype.getContext=function(){return this.contextManager.get()},sn.prototype.addContext=function(ln,cn){this.contextManager.add(ln,cn)},sn.prototype.removeContext=function(ln){this.contextManager.remove(ln)},sn.prototype.setHandler=function(ln){this.handlerType=ln},sn.prototype.getHandler=function(){return this.handlerType},sn.prototype.setLevel=function(ln){this.level=ln},sn.prototype.getLevel=function(){return this.level},__decorate([monitored],sn.prototype,"log",null),sn}();function makeLogsPublicApi(sn){var ln=!1,cn=createContextManager("global context"),dn=createContextManager("user"),pn={},vn=function(){},Sn=new BoundedBuffer,En=function(Gn,Dn,Kn,qn){Kn===void 0&&(Kn=deepClone(Rn())),qn===void 0&&(qn=timeStampNow()),Sn.add(function(){return En(Gn,Dn,Kn,qn)})},Cn=function(){},Pn=new Logger$1(function(){for(var Gn=[],Dn=0;Dn<arguments.length;Dn++)Gn[Dn]=arguments[Dn];return En.apply(void 0,Gn)});function Rn(){return{view:{referrer:document.referrer,url:window.location.href},context:cn.getContext(),user:dn.getContext()}}return makePublicApi({logger:Pn,init:monitor(function(Gn){var Dn;if(Cn=function(){return deepClone(Gn)},canUseEventBridge()&&(Gn=Ln(Gn)),!!Fn(Gn)){var Kn=validateAndBuildLogsConfiguration(Gn);Kn&&(Dn=sn(Gn,Kn,Rn,Pn),En=Dn.handleLog,vn=Dn.getInternalContext,Sn.drain(),ln=!0)}}),getLoggerGlobalContext:monitor(cn.get),getGlobalContext:monitor(cn.getContext),setLoggerGlobalContext:monitor(cn.set),setGlobalContext:monitor(cn.setContext),addLoggerGlobalContext:monitor(cn.add),setGlobalContextProperty:monitor(cn.setContextProperty),removeLoggerGlobalContext:monitor(cn.remove),removeGlobalContextProperty:monitor(cn.removeContextProperty),clearGlobalContext:monitor(cn.clearContext),createLogger:monitor(function(Gn,Dn){return Dn===void 0&&(Dn={}),pn[Gn]=new Logger$1(function(){for(var Kn=[],qn=0;qn<arguments.length;qn++)Kn[qn]=arguments[qn];return En.apply(void 0,Kn)},sanitize(Gn),Dn.handler,Dn.level,sanitize(Dn.context)),pn[Gn]}),getLogger:monitor(function(Gn){return pn[Gn]}),getInitConfiguration:monitor(function(){return Cn()}),getInternalContext:monitor(function(Gn){return vn(Gn)}),setUser:monitor(function(Gn){checkUser(Gn)&&dn.setContext(sanitizeUser$1(Gn))}),getUser:monitor(dn.getContext),setUserProperty:monitor(function(Gn,Dn){var Kn,qn=sanitizeUser$1((Kn={},Kn[Gn]=Dn,Kn))[Gn];dn.setContextProperty(Gn,qn)}),removeUserProperty:monitor(dn.removeContextProperty),clearUser:monitor(dn.clearContext)});function Ln(Gn){return assign$2({},Gn,{clientToken:"empty"})}function Fn(Gn){return ln?(Gn.silentMultipleInit||display.error("DD_LOGS is already initialized."),!1):!0}}var LOGS_SESSION_KEY="logs";function startLogsSessionManager(sn){var ln=startSessionManager(sn.cookieOptions,LOGS_SESSION_KEY,function(cn){return computeSessionState(sn,cn)});return{findTrackedSession:function(cn){var dn=ln.findActiveSession(cn);return dn&&dn.trackingType==="1"?{id:dn.id}:void 0},expireObservable:ln.expireObservable}}function startLogsSessionManagerStub(sn){var ln=computeTrackingType(sn)==="1",cn=ln?{}:void 0;return{findTrackedSession:function(){return cn},expireObservable:new Observable}}function computeTrackingType(sn){return performDraw(sn.sessionSampleRate)?"1":"0"}function computeSessionState(sn,ln){var cn=hasValidLoggerSession(ln)?ln:computeTrackingType(sn);return{trackingType:cn,isTracked:cn==="1"}}function hasValidLoggerSession(sn){return sn==="0"||sn==="1"}var _a$5,STATUS_PRIORITIES=(_a$5={},_a$5[StatusType.debug]=0,_a$5[StatusType.info]=1,_a$5[StatusType.warn]=2,_a$5[StatusType.error]=3,_a$5);function startLoggerCollection(sn){function ln(cn,dn,pn,vn){var Sn=cn.context;isAuthorized(cn.status,HandlerType.console,dn)&&display(cn.status,cn.message,combine$1(dn.getContext(),Sn)),sn.notify(0,{rawLogsEvent:{date:vn||timeStampNow(),message:cn.message,status:cn.status,origin:ErrorSource.LOGGER},messageContext:Sn,savedCommonContext:pn,logger:dn})}return{handleLog:ln}}function isAuthorized(sn,ln,cn){var dn=cn.getHandler(),pn=Array.isArray(dn)?dn:[dn];return STATUS_PRIORITIES[sn]>=STATUS_PRIORITIES[cn.getLevel()]&&includes(pn,ln)}function startLogsAssembly(sn,ln,cn,dn,pn,vn){var Sn=STATUSES.concat(["custom"]),En={};Sn.forEach(function(Cn){En[Cn]=createEventRateLimiter(Cn,ln.eventRateLimiterThreshold,vn)}),cn.subscribe(0,function(Cn){var Pn,Rn,Ln,Fn=Cn.rawLogsEvent,Gn=Cn.messageContext,Dn=Gn===void 0?void 0:Gn,Kn=Cn.savedCommonContext,qn=Kn===void 0?void 0:Kn,Zn=Cn.logger,Yn=Zn===void 0?pn:Zn,Jn=getRelativeTime(Fn.date),rs=sn.findTrackedSession(Jn);if(rs){var us=qn||dn(),as=combine$1({service:ln.service,session_id:rs.id,usr:isEmptyObject(us.user)?void 0:us.user,view:us.view},us.context,getRUMInternalContext(Jn),Fn,Yn.getContext(),Dn);!isAuthorized(Fn.status,HandlerType.http,Yn)||((Pn=ln.beforeSend)===null||Pn===void 0?void 0:Pn.call(ln,as))===!1||((Rn=as.error)===null||Rn===void 0?void 0:Rn.origin)!==ErrorSource.AGENT&&((Ln=En[as.status])!==null&&Ln!==void 0?Ln:En.custom).isLimitReached()||cn.notify(1,as)}})}var logsSentBeforeRumInjectionTelemetryAdded=!1;function getRUMInternalContext(sn){var ln=window;if(willSyntheticsInjectRum()){var cn=dn(ln.DD_RUM_SYNTHETICS);return!cn&&!logsSentBeforeRumInjectionTelemetryAdded&&(logsSentBeforeRumInjectionTelemetryAdded=!0,addTelemetryDebug("Logs sent before RUM is injected by the synthetics worker",{testId:getSyntheticsTestId(),resultId:getSyntheticsResultId()})),cn}return dn(ln.DD_RUM);function dn(pn){if(pn&&pn.getInternalContext)return pn.getInternalContext(sn)}}var _a$4,LogStatusForApi=(_a$4={},_a$4[ConsoleApiName.log]=StatusType.info,_a$4[ConsoleApiName.debug]=StatusType.debug,_a$4[ConsoleApiName.info]=StatusType.info,_a$4[ConsoleApiName.warn]=StatusType.warn,_a$4[ConsoleApiName.error]=StatusType.error,_a$4);function startConsoleCollection(sn,ln){var cn=initConsoleObservable(sn.forwardConsoleLogs).subscribe(function(dn){ln.notify(0,{rawLogsEvent:{date:timeStampNow(),message:dn.message,origin:ErrorSource.CONSOLE,error:dn.api===ConsoleApiName.error?{origin:ErrorSource.CONSOLE,stack:dn.stack,fingerprint:dn.fingerprint}:void 0,status:LogStatusForApi[dn.api]}})});return{stop:function(){cn.unsubscribe()}}}var _a$3,LogStatusForReport=(_a$3={},_a$3[RawReportType.cspViolation]=StatusType.error,_a$3[RawReportType.intervention]=StatusType.error,_a$3[RawReportType.deprecation]=StatusType.warn,_a$3);function startReportCollection(sn,ln){var cn=initReportObservable(sn.forwardReports).subscribe(function(dn){var pn=dn.message,vn=LogStatusForReport[dn.type],Sn;vn===StatusType.error?Sn={kind:dn.subtype,origin:ErrorSource.REPORT,stack:dn.stack}:dn.stack&&(pn+=" Found in ".concat(getFileFromStackTraceString(dn.stack))),ln.notify(0,{rawLogsEvent:{date:timeStampNow(),message:pn,origin:ErrorSource.REPORT,error:Sn,status:vn}})});return{stop:function(){cn.unsubscribe()}}}function startNetworkErrorCollection(sn,ln){if(!sn.forwardErrorsToLogs)return{stop:noop$7};var cn=initXhrObservable().subscribe(function(vn){vn.state==="complete"&&pn("xhr",vn)}),dn=initFetchObservable().subscribe(function(vn){vn.state==="resolve"&&pn("fetch",vn)});function pn(vn,Sn){!sn.isIntakeUrl(Sn.url)&&(isRejected(Sn)||isServerError(Sn.status))&&("xhr"in Sn?computeXhrResponseData(Sn.xhr,sn,En):Sn.response?computeFetchResponseText(Sn.response,sn,En):Sn.error&&computeFetchErrorText(Sn.error,sn,En));function En(Cn){ln.notify(0,{rawLogsEvent:{message:"".concat(format(vn)," error ").concat(Sn.method," ").concat(Sn.url),date:Sn.startClocks.timeStamp,error:{origin:ErrorSource.NETWORK,stack:Cn||"Failed to load"},http:{method:Sn.method,status_code:Sn.status,url:Sn.url},status:StatusType.error,origin:ErrorSource.NETWORK}})}}return{stop:function(){cn.unsubscribe(),dn.unsubscribe()}}}function computeXhrResponseData(sn,ln,cn){typeof sn.response=="string"?cn(truncateResponseText(sn.response,ln)):cn(sn.response)}function computeFetchErrorText(sn,ln,cn){cn(truncateResponseText(toStackTraceString(computeStackTrace(sn)),ln))}function computeFetchResponseText(sn,ln,cn){var dn=tryToClone(sn);!dn||!dn.body?cn():window.TextDecoder?truncateResponseStream(dn.body,ln.requestErrorResponseLengthLimit,function(pn,vn){cn(pn?"Unable to retrieve response: ".concat(pn):vn)}):dn.text().then(monitor(function(pn){return cn(truncateResponseText(pn,ln))}),monitor(function(pn){return cn("Unable to retrieve response: ".concat(pn))}))}function isRejected(sn){return sn.status===0&&sn.responseType!=="opaque"}function truncateResponseText(sn,ln){return sn.length>ln.requestErrorResponseLengthLimit?"".concat(sn.substring(0,ln.requestErrorResponseLengthLimit),"..."):sn}function format(sn){return sn==="xhr"?"XHR":"Fetch"}function truncateResponseStream(sn,ln,cn){readBytesFromStream(sn,function(dn,pn,vn){if(dn)cn(dn);else{var Sn=new TextDecoder().decode(pn);vn&&(Sn+="..."),cn(void 0,Sn)}},{bytesLimit:ln,collectStreamBody:!0})}function startRuntimeErrorCollection(sn,ln){if(!sn.forwardErrorsToLogs)return{stop:noop$7};var cn=new Observable,dn=trackRuntimeError(cn).stop,pn=cn.subscribe(function(vn){ln.notify(0,{rawLogsEvent:{message:vn.message,date:vn.startClocks.timeStamp,error:{kind:vn.type,origin:ErrorSource.SOURCE,stack:vn.stack},origin:ErrorSource.SOURCE,status:StatusType.error}})});return{stop:function(){dn(),pn.unsubscribe()}}}var LifeCycle=AbstractLifeCycle;function startLogsBatch(sn,ln,cn,dn,pn){var vn,Sn=startBatchWithReplica(sn,sn.logsEndpointBuilder,cn,dn,pn,(vn=sn.replica)===null||vn===void 0?void 0:vn.logsEndpointBuilder);ln.subscribe(1,function(En){Sn.add(En)})}function startLogsBridge(sn){var ln=getEventBridge();sn.subscribe(1,function(cn){ln.send("log",cn)})}function startInternalContext(sn){return{get:function(ln){var cn=sn.findTrackedSession(ln);if(cn)return{session_id:cn.id}}}}function startLogs(sn,ln,cn,dn){var pn=new LifeCycle;pn.subscribe(1,function(Ln){return sendToExtension("logs",Ln)});var vn=function(Ln){return pn.notify(0,{rawLogsEvent:{message:Ln.message,date:Ln.startClocks.timeStamp,error:{origin:ErrorSource.AGENT},origin:ErrorSource.AGENT,status:StatusType.error}})},Sn=createPageExitObservable(),En=areCookiesAuthorized(ln.cookieOptions)&&!canUseEventBridge()&&!willSyntheticsInjectRum()?startLogsSessionManager(ln):startLogsSessionManagerStub(ln),Cn=startLogsTelemetry(ln,vn,Sn,En.expireObservable);Cn.setContextProvider(function(){var Ln,Fn,Gn,Dn,Kn,qn;return{application:{id:(Ln=getRUMInternalContext())===null||Ln===void 0?void 0:Ln.application_id},session:{id:(Fn=En.findTrackedSession())===null||Fn===void 0?void 0:Fn.id},view:{id:(Dn=(Gn=getRUMInternalContext())===null||Gn===void 0?void 0:Gn.view)===null||Dn===void 0?void 0:Dn.id},action:{id:(qn=(Kn=getRUMInternalContext())===null||Kn===void 0?void 0:Kn.user_action)===null||qn===void 0?void 0:qn.id}}}),startNetworkErrorCollection(ln,pn),startRuntimeErrorCollection(ln,pn),startConsoleCollection(ln,pn),startReportCollection(ln,pn);var Pn=startLoggerCollection(pn).handleLog;startLogsAssembly(En,ln,pn,cn,dn,vn),canUseEventBridge()?startLogsBridge(pn):startLogsBatch(ln,pn,vn,Sn,En.expireObservable),addTelemetryConfiguration(serializeLogsConfiguration(sn));var Rn=startInternalContext(En);return{handleLog:Pn,getInternalContext:Rn.get}}function startLogsTelemetry(sn,ln,cn,dn){var pn,vn=startTelemetry("browser-logs-sdk",sn);if(canUseEventBridge()){var Sn=getEventBridge();vn.observable.subscribe(function(Cn){return Sn.send("internal_telemetry",Cn)})}else{var En=startBatchWithReplica(sn,sn.rumEndpointBuilder,ln,cn,dn,(pn=sn.replica)===null||pn===void 0?void 0:pn.rumEndpointBuilder);vn.observable.subscribe(function(Cn){return En.add(Cn,isTelemetryReplicationAllowed(sn))})}return vn}var datadogLogs=makeLogsPublicApi(startLogs);defineGlobal(getGlobalObject(),"DD_LOGS",datadogLogs);const PLAYBACK_OVERLAY_FORWARD_CLASSNAME="forward--on",PLAYBACK_OVERLAY_BACKWARD_CLASSNAME="backward--on",showPlaybackOverlay=({playbackRate:sn,dir:ln})=>{let cn=null;return()=>{const dn=document.querySelector(".overlay__playback-rate"),pn=document.querySelector(".overlay__playback-rate__icon"),vn=document.querySelector(".overlay__playback-rate__speed");if(!pn&&!vn)return;vn.textContent=`${sn}x`;const Sn=pn.cloneNode(!0),En=vn.cloneNode(!0);pn.remove(),vn.remove();const Cn=document.createDocumentFragment();Cn.appendChild(En),Cn.appendChild(Sn),dn==null||dn.appendChild(Cn),Sn&&(cn&&clearTimeout(cn),Sn.classList.remove(PLAYBACK_OVERLAY_FORWARD_CLASSNAME,PLAYBACK_OVERLAY_BACKWARD_CLASSNAME),Sn.classList.add(ln==="forward"?PLAYBACK_OVERLAY_FORWARD_CLASSNAME:PLAYBACK_OVERLAY_BACKWARD_CLASSNAME),Sn.style.display="",En.style.display="",cn=setTimeout(()=>{Sn.style.display="none",En.style.display="none",Sn.classList.remove(ln==="forward"?PLAYBACK_OVERLAY_FORWARD_CLASSNAME:PLAYBACK_OVERLAY_BACKWARD_CLASSNAME),cn=null},500))}},VOD_SUBTITLE_VOD_SUBTITLE_ID=sn=>`${appConfig.APP_URL}/subtitles/${sn}/json`,VOD_SUBTITLE_VTT_VOD_SUBTITLE_ID=sn=>`${appConfig.APP_URL}/subtitles/${sn}/vtt`,fetchVodSubtitleVodSubtitleId=async(sn,ln)=>fetch(sn,ln).then(cn=>cn.json());function useVodSubtitleVodSubtitlesIdQuery({queryKey:sn,url:ln,options:cn,requestOptions:dn}){const pn=useQuery(sn,()=>fetchVodSubtitleVodSubtitleId(ln,dn),cn);return{...pn,data:pn.data}}const PlayerStateContext=reactExports.createContext(null),PlayerDispatchContext=reactExports.createContext({setPlayerContext:()=>{}}),PlayerProvider=({children:sn})=>{const[ln,cn]=reactExports.useState(null);return jsx(PlayerDispatchContext.Provider,{value:{setPlayerContext:cn},children:jsx(PlayerStateContext.Provider,{value:{player:ln},children:sn})})};function usePlayerContext(){const sn=reactExports.useContext(PlayerStateContext);if(!sn)throw new Error("usePlayer must be used within a PlayerProvider");return sn}const useDispatchPlayerContext=()=>{const sn=reactExports.useContext(PlayerDispatchContext);if(!sn)throw new Error("usePlayer must be used within a PlayerProvider");return sn},isIos=(sn,ln)=>!!["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].find(cn=>sn.includes(cn))||sn.includes("Mac")&&"ontouchend"in ln;var uaParser={exports:{}};uaParser.exports;(function(sn,ln){(function(cn,dn){var pn="1.0.35",vn="",Sn="?",En="function",Cn="undefined",Pn="object",Rn="string",Ln="major",Fn="model",Gn="name",Dn="type",Kn="vendor",qn="version",Zn="architecture",Yn="console",Jn="mobile",rs="tablet",us="smarttv",as="wearable",cs="embedded",_s=350,Es="Amazon",Qn="Apple",ms="ASUS",$s="BlackBerry",Ms="Browser",gs="Chrome",Ss="Edge",js="Firefox",bs="Google",Ts="Huawei",xs="LG",zs="Microsoft",Bs="Motorola",Js="Opera",tu="Samsung",hs="Sharp",lu="Sony",vu="Xiaomi",yu="Zebra",Wu="Facebook",Ru="Chromium OS",Ll="Mac OS",Vp=function(Fu,Eu){var el={};for(var pl in Fu)Eu[pl]&&Eu[pl].length%2===0?el[pl]=Eu[pl].concat(Fu[pl]):el[pl]=Fu[pl];return el},Ys=function(Fu){for(var Eu={},el=0;el<Fu.length;el++)Eu[Fu[el].toUpperCase()]=Fu[el];return Eu},_u=function(Fu,Eu){return typeof Fu===Rn?Wl(Eu).indexOf(Wl(Fu))!==-1:!1},Wl=function(Fu){return Fu.toLowerCase()},lp=function(Fu){return typeof Fu===Rn?Fu.replace(/[^\d\.]/g,vn).split(".")[0]:dn},am=function(Fu,Eu){if(typeof Fu===Rn)return Fu=Fu.replace(/^\s\s*/,vn),typeof Eu===Cn?Fu:Fu.substring(0,_s)},fl=function(Fu,Eu){for(var el=0,pl,Xp,_p,wu,Iu,Gp;el<Eu.length&&!Iu;){var Qp=Eu[el],Cy=Eu[el+1];for(pl=Xp=0;pl<Qp.length&&!Iu&&Qp[pl];)if(Iu=Qp[pl++].exec(Fu),Iu)for(_p=0;_p<Cy.length;_p++)Gp=Iu[++Xp],wu=Cy[_p],typeof wu===Pn&&wu.length>0?wu.length===2?typeof wu[1]==En?this[wu[0]]=wu[1].call(this,Gp):this[wu[0]]=wu[1]:wu.length===3?typeof wu[1]===En&&!(wu[1].exec&&wu[1].test)?this[wu[0]]=Gp?wu[1].call(this,Gp,wu[2]):dn:this[wu[0]]=Gp?Gp.replace(wu[1],wu[2]):dn:wu.length===4&&(this[wu[0]]=Gp?wu[3].call(this,Gp.replace(wu[1],wu[2])):dn):this[wu]=Gp||dn;el+=2}},$u=function(Fu,Eu){for(var el in Eu)if(typeof Eu[el]===Pn&&Eu[el].length>0){for(var pl=0;pl<Eu[el].length;pl++)if(_u(Eu[el][pl],Fu))return el===Sn?dn:el}else if(_u(Eu[el],Fu))return el===Sn?dn:el;return Fu},cp={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Cp={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ry={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[qn,[Gn,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[qn,[Gn,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[Gn,qn],[/opios[\/ ]+([\w\.]+)/i],[qn,[Gn,Js+" Mini"]],[/\bopr\/([\w\.]+)/i],[qn,[Gn,Js]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[Gn,qn],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[qn,[Gn,"UC"+Ms]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[qn,[Gn,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[qn,[Gn,"WeChat"]],[/konqueror\/([\w\.]+)/i],[qn,[Gn,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[qn,[Gn,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[qn,[Gn,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[Gn,/(.+)/,"$1 Secure "+Ms],qn],[/\bfocus\/([\w\.]+)/i],[qn,[Gn,js+" Focus"]],[/\bopt\/([\w\.]+)/i],[qn,[Gn,Js+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[qn,[Gn,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[qn,[Gn,"Dolphin"]],[/coast\/([\w\.]+)/i],[qn,[Gn,Js+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[qn,[Gn,"MIUI "+Ms]],[/fxios\/([-\w\.]+)/i],[qn,[Gn,js]],[/\bqihu|(qi?ho?o?|360)browser/i],[[Gn,"360 "+Ms]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[Gn,/(.+)/,"$1 "+Ms],qn],[/(comodo_dragon)\/([\w\.]+)/i],[[Gn,/_/g," "],qn],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[Gn,qn],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[Gn],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[Gn,Wu],qn],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[Gn,qn],[/\bgsa\/([\w\.]+) .*safari\//i],[qn,[Gn,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[qn,[Gn,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[qn,[Gn,gs+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[Gn,gs+" WebView"],qn],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[qn,[Gn,"Android "+Ms]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[Gn,qn],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[qn,[Gn,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[qn,Gn],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[Gn,[qn,$u,cp]],[/(webkit|khtml)\/([\w\.]+)/i],[Gn,qn],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[Gn,"Netscape"],qn],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[qn,[Gn,js+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[Gn,qn],[/(cobalt)\/([\w\.]+)/i],[Gn,[qn,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[Zn,"amd64"]],[/(ia32(?=;))/i],[[Zn,Wl]],[/((?:i[346]|x)86)[;\)]/i],[[Zn,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[Zn,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[Zn,"armhf"]],[/windows (ce|mobile); ppc;/i],[[Zn,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[Zn,/ower/,vn,Wl]],[/(sun4\w)[;\)]/i],[[Zn,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[Zn,Wl]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[Fn,[Kn,tu],[Dn,rs]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[Fn,[Kn,tu],[Dn,Jn]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[Fn,[Kn,Qn],[Dn,Jn]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[Fn,[Kn,Qn],[Dn,rs]],[/(macintosh);/i],[Fn,[Kn,Qn]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[Fn,[Kn,hs],[Dn,Jn]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[Fn,[Kn,Ts],[Dn,rs]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[Fn,[Kn,Ts],[Dn,Jn]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[Fn,/_/g," "],[Kn,vu],[Dn,Jn]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[Fn,/_/g," "],[Kn,vu],[Dn,rs]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[Fn,[Kn,"OPPO"],[Dn,Jn]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[Fn,[Kn,"Vivo"],[Dn,Jn]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[Fn,[Kn,"Realme"],[Dn,Jn]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[Fn,[Kn,Bs],[Dn,Jn]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[Fn,[Kn,Bs],[Dn,rs]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[Fn,[Kn,xs],[Dn,rs]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[Fn,[Kn,xs],[Dn,Jn]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[Fn,[Kn,"Lenovo"],[Dn,rs]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[Fn,/_/g," "],[Kn,"Nokia"],[Dn,Jn]],[/(pixel c)\b/i],[Fn,[Kn,bs],[Dn,rs]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[Fn,[Kn,bs],[Dn,Jn]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[Fn,[Kn,lu],[Dn,Jn]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[Fn,"Xperia Tablet"],[Kn,lu],[Dn,rs]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[Fn,[Kn,"OnePlus"],[Dn,Jn]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[Fn,[Kn,Es],[Dn,rs]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[Fn,/(.+)/g,"Fire Phone $1"],[Kn,Es],[Dn,Jn]],[/(playbook);[-\w\),; ]+(rim)/i],[Fn,Kn,[Dn,rs]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[Fn,[Kn,$s],[Dn,Jn]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[Fn,[Kn,ms],[Dn,rs]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[Fn,[Kn,ms],[Dn,Jn]],[/(nexus 9)/i],[Fn,[Kn,"HTC"],[Dn,rs]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[Kn,[Fn,/_/g," "],[Dn,Jn]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[Fn,[Kn,"Acer"],[Dn,rs]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[Fn,[Kn,"Meizu"],[Dn,Jn]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[Kn,Fn,[Dn,Jn]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[Kn,Fn,[Dn,rs]],[/(surface duo)/i],[Fn,[Kn,zs],[Dn,rs]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[Fn,[Kn,"Fairphone"],[Dn,Jn]],[/(u304aa)/i],[Fn,[Kn,"AT&T"],[Dn,Jn]],[/\bsie-(\w*)/i],[Fn,[Kn,"Siemens"],[Dn,Jn]],[/\b(rct\w+) b/i],[Fn,[Kn,"RCA"],[Dn,rs]],[/\b(venue[\d ]{2,7}) b/i],[Fn,[Kn,"Dell"],[Dn,rs]],[/\b(q(?:mv|ta)\w+) b/i],[Fn,[Kn,"Verizon"],[Dn,rs]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[Fn,[Kn,"Barnes & Noble"],[Dn,rs]],[/\b(tm\d{3}\w+) b/i],[Fn,[Kn,"NuVision"],[Dn,rs]],[/\b(k88) b/i],[Fn,[Kn,"ZTE"],[Dn,rs]],[/\b(nx\d{3}j) b/i],[Fn,[Kn,"ZTE"],[Dn,Jn]],[/\b(gen\d{3}) b.+49h/i],[Fn,[Kn,"Swiss"],[Dn,Jn]],[/\b(zur\d{3}) b/i],[Fn,[Kn,"Swiss"],[Dn,rs]],[/\b((zeki)?tb.*\b) b/i],[Fn,[Kn,"Zeki"],[Dn,rs]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[Kn,"Dragon Touch"],Fn,[Dn,rs]],[/\b(ns-?\w{0,9}) b/i],[Fn,[Kn,"Insignia"],[Dn,rs]],[/\b((nxa|next)-?\w{0,9}) b/i],[Fn,[Kn,"NextBook"],[Dn,rs]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[Kn,"Voice"],Fn,[Dn,Jn]],[/\b(lvtel\-)?(v1[12]) b/i],[[Kn,"LvTel"],Fn,[Dn,Jn]],[/\b(ph-1) /i],[Fn,[Kn,"Essential"],[Dn,Jn]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[Fn,[Kn,"Envizen"],[Dn,rs]],[/\b(trio[-\w\. ]+) b/i],[Fn,[Kn,"MachSpeed"],[Dn,rs]],[/\btu_(1491) b/i],[Fn,[Kn,"Rotor"],[Dn,rs]],[/(shield[\w ]+) b/i],[Fn,[Kn,"Nvidia"],[Dn,rs]],[/(sprint) (\w+)/i],[Kn,Fn,[Dn,Jn]],[/(kin\.[onetw]{3})/i],[[Fn,/\./g," "],[Kn,zs],[Dn,Jn]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[Fn,[Kn,yu],[Dn,rs]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[Fn,[Kn,yu],[Dn,Jn]],[/smart-tv.+(samsung)/i],[Kn,[Dn,us]],[/hbbtv.+maple;(\d+)/i],[[Fn,/^/,"SmartTV"],[Kn,tu],[Dn,us]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[Kn,xs],[Dn,us]],[/(apple) ?tv/i],[Kn,[Fn,Qn+" TV"],[Dn,us]],[/crkey/i],[[Fn,gs+"cast"],[Kn,bs],[Dn,us]],[/droid.+aft(\w)( bui|\))/i],[Fn,[Kn,Es],[Dn,us]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[Fn,[Kn,hs],[Dn,us]],[/(bravia[\w ]+)( bui|\))/i],[Fn,[Kn,lu],[Dn,us]],[/(mitv-\w{5}) bui/i],[Fn,[Kn,vu],[Dn,us]],[/Hbbtv.*(technisat) (.*);/i],[Kn,Fn,[Dn,us]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[Kn,am],[Fn,am],[Dn,us]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[Dn,us]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[Kn,Fn,[Dn,Yn]],[/droid.+; (shield) bui/i],[Fn,[Kn,"Nvidia"],[Dn,Yn]],[/(playstation [345portablevi]+)/i],[Fn,[Kn,lu],[Dn,Yn]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[Fn,[Kn,zs],[Dn,Yn]],[/((pebble))app/i],[Kn,Fn,[Dn,as]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[Fn,[Kn,Qn],[Dn,as]],[/droid.+; (glass) \d/i],[Fn,[Kn,bs],[Dn,as]],[/droid.+; (wt63?0{2,3})\)/i],[Fn,[Kn,yu],[Dn,as]],[/(quest( 2| pro)?)/i],[Fn,[Kn,Wu],[Dn,as]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[Kn,[Dn,cs]],[/(aeobc)\b/i],[Fn,[Kn,Es],[Dn,cs]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[Fn,[Dn,Jn]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[Fn,[Dn,rs]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[Dn,rs]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[Dn,Jn]],[/(android[-\w\. ]{0,9});.+buil/i],[Fn,[Kn,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[qn,[Gn,Ss+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[qn,[Gn,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[Gn,qn],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[qn,Gn]],os:[[/microsoft (windows) (vista|xp)/i],[Gn,qn],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[Gn,[qn,$u,Cp]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[Gn,"Windows"],[qn,$u,Cp]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[qn,/_/g,"."],[Gn,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[Gn,Ll],[qn,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[qn,Gn],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[Gn,qn],[/\(bb(10);/i],[qn,[Gn,$s]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[qn,[Gn,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[qn,[Gn,js+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[qn,[Gn,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[qn,[Gn,"watchOS"]],[/crkey\/([\d\.]+)/i],[qn,[Gn,gs+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[Gn,Ru],qn],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[Gn,qn],[/(sunos) ?([\w\.\d]*)/i],[[Gn,"Solaris"],qn],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[Gn,qn]]},vp=function(Fu,Eu){if(typeof Fu===Pn&&(Eu=Fu,Fu=dn),!(this instanceof vp))return new vp(Fu,Eu).getResult();var el=typeof cn!==Cn&&cn.navigator?cn.navigator:dn,pl=Fu||(el&&el.userAgent?el.userAgent:vn),Xp=el&&el.userAgentData?el.userAgentData:dn,_p=Eu?Vp(ry,Eu):ry,wu=el&&el.userAgent==pl;return this.getBrowser=function(){var Iu={};return Iu[Gn]=dn,Iu[qn]=dn,fl.call(Iu,pl,_p.browser),Iu[Ln]=lp(Iu[qn]),wu&&el&&el.brave&&typeof el.brave.isBrave==En&&(Iu[Gn]="Brave"),Iu},this.getCPU=function(){var Iu={};return Iu[Zn]=dn,fl.call(Iu,pl,_p.cpu),Iu},this.getDevice=function(){var Iu={};return Iu[Kn]=dn,Iu[Fn]=dn,Iu[Dn]=dn,fl.call(Iu,pl,_p.device),wu&&!Iu[Dn]&&Xp&&Xp.mobile&&(Iu[Dn]=Jn),wu&&Iu[Fn]=="Macintosh"&&el&&typeof el.standalone!==Cn&&el.maxTouchPoints&&el.maxTouchPoints>2&&(Iu[Fn]="iPad",Iu[Dn]=rs),Iu},this.getEngine=function(){var Iu={};return Iu[Gn]=dn,Iu[qn]=dn,fl.call(Iu,pl,_p.engine),Iu},this.getOS=function(){var Iu={};return Iu[Gn]=dn,Iu[qn]=dn,fl.call(Iu,pl,_p.os),wu&&!Iu[Gn]&&Xp&&Xp.platform!="Unknown"&&(Iu[Gn]=Xp.platform.replace(/chrome os/i,Ru).replace(/macos/i,Ll)),Iu},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return pl},this.setUA=function(Iu){return pl=typeof Iu===Rn&&Iu.length>_s?am(Iu,_s):Iu,this},this.setUA(pl),this};vp.VERSION=pn,vp.BROWSER=Ys([Gn,qn,Ln]),vp.CPU=Ys([Zn]),vp.DEVICE=Ys([Fn,Kn,Dn,Yn,Jn,us,rs,as,cs]),vp.ENGINE=vp.OS=Ys([Gn,qn]),sn.exports&&(ln=sn.exports=vp),ln.UAParser=vp;var Qv=typeof cn!==Cn&&(cn.jQuery||cn.Zepto);if(Qv&&!Qv.ua){var Jy=new vp;Qv.ua=Jy.getResult(),Qv.ua.get=function(){return Jy.getUA()},Qv.ua.set=function(Fu){Jy.setUA(Fu);var Eu=Jy.getResult();for(var el in Eu)Qv.ua[el]=Eu[el]}}})(typeof window=="object"?window:commonjsGlobal$1)})(uaParser,uaParser.exports);var uaParserExports=uaParser.exports;const UAParser$1=getDefaultExportFromCjs(uaParserExports),isSafari=sn=>{var cn;return(cn=new UAParser$1(sn).getBrowser().name)==null?void 0:cn.toLowerCase().includes("safari")};var shakaPlayer_ui={};/*
 @license
 Shaka Player
 Copyright 2016 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/(function(sn){(function(){var ln=typeof window<"u"?window:commonjsGlobal$1,cn={};(function(pn,vn,Sn){/*
 @license
 Shaka Player
 Copyright 2016 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/var En;function Cn(mn){var kn=0;return function(){return kn<mn.length?{done:!1,value:mn[kn++]}:{done:!0}}}var Pn=typeof Object.defineProperties=="function"?Object.defineProperty:function(mn,kn,xn){return mn==Array.prototype||mn==Object.prototype||(mn[kn]=xn.value),mn};function Rn(mn){mn=[typeof globalThis=="object"&&globalThis,mn,typeof pn=="object"&&pn,typeof self=="object"&&self,typeof vn=="object"&&vn];for(var kn=0;kn<mn.length;++kn){var xn=mn[kn];if(xn&&xn.Math==Math)return xn}throw Error("Cannot find global object")}var Ln=Rn(this);function Fn(mn,kn){if(kn)e:{var xn=Ln;mn=mn.split(".");for(var An=0;An<mn.length-1;An++){var Mn=mn[An];if(!(Mn in xn))break e;xn=xn[Mn]}mn=mn[mn.length-1],An=xn[mn],kn=kn(An),kn!=An&&kn!=null&&Pn(xn,mn,{configurable:!0,writable:!0,value:kn})}}Fn("Symbol",function(mn){function kn(Un){if(this instanceof kn)throw new TypeError("Symbol is not a constructor");return new xn(An+(Un||"")+"_"+Mn++,Un)}function xn(Un,Bn){this.g=Un,Pn(this,"description",{configurable:!0,writable:!0,value:Bn})}if(mn)return mn;xn.prototype.toString=function(){return this.g};var An="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",Mn=0;return kn}),Fn("Symbol.iterator",function(mn){if(mn)return mn;mn=Symbol("Symbol.iterator");for(var kn="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),xn=0;xn<kn.length;xn++){var An=Ln[kn[xn]];typeof An=="function"&&typeof An.prototype[mn]!="function"&&Pn(An.prototype,mn,{configurable:!0,writable:!0,value:function(){return Gn(Cn(this))}})}return mn});function Gn(mn){return mn={next:mn},mn[Symbol.iterator]=function(){return this},mn}function Dn(mn){var kn=typeof Symbol<"u"&&Symbol.iterator&&mn[Symbol.iterator];return kn?kn.call(mn):{next:Cn(mn)}}function Kn(mn){if(!(mn instanceof Array)){mn=Dn(mn);for(var kn,xn=[];!(kn=mn.next()).done;)xn.push(kn.value);mn=xn}return mn}var qn=typeof Object.create=="function"?Object.create:function(mn){function kn(){}return kn.prototype=mn,new kn},Zn;if(typeof Object.setPrototypeOf=="function")Zn=Object.setPrototypeOf;else{var Yn;e:{var Jn={a:!0},rs={};try{rs.__proto__=Jn,Yn=rs.a;break e}catch{}Yn=!1}Zn=Yn?function(mn,kn){if(mn.__proto__=kn,mn.__proto__!==kn)throw new TypeError(mn+" is not extensible");return mn}:null}var us=Zn;function as(mn,kn){if(mn.prototype=qn(kn.prototype),mn.prototype.constructor=mn,us)us(mn,kn);else for(var xn in kn)if(xn!="prototype")if(Object.defineProperties){var An=Object.getOwnPropertyDescriptor(kn,xn);An&&Object.defineProperty(mn,xn,An)}else mn[xn]=kn[xn];mn.uj=kn.prototype}function cs(){this.s=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.m=0,this.C=this.i=null}function _s(mn){if(mn.s)throw new TypeError("Generator is already running");mn.s=!0}cs.prototype.B=function(mn){this.h=mn};function Es(mn,kn){mn.i={Ef:kn,Nf:!0},mn.g=mn.m||mn.j}cs.prototype.return=function(mn){this.i={return:mn},this.g=this.j};function Qn(mn,kn,xn){return mn.g=xn,{value:kn}}cs.prototype.D=function(mn){this.g=mn};function ms(mn){mn.g=0}function $s(mn,kn,xn){mn.m=kn,xn!=null&&(mn.j=xn)}function Ms(mn){mn.m=0,mn.j=2}function gs(mn,kn,xn){mn.g=kn,mn.m=xn||0}function Ss(mn,kn){return mn.m=kn||0,kn=mn.i.Ef,mn.i=null,kn}function js(mn){mn.C=[mn.i],mn.m=0,mn.j=0}function bs(mn,kn){var xn=mn.C.splice(0)[0];(xn=mn.i=mn.i||xn)?xn.Nf?mn.g=mn.m||mn.j:xn.D!=null&&mn.j<xn.D?(mn.g=xn.D,mn.i=null):mn.g=mn.j:mn.g=kn}function Ts(mn){this.g=new cs,this.h=mn}function xs(mn,kn){_s(mn.g);var xn=mn.g.l;return xn?zs(mn,"return"in xn?xn.return:function(An){return{value:An,done:!0}},kn,mn.g.return):(mn.g.return(kn),Bs(mn))}function zs(mn,kn,xn,An){try{var Mn=kn.call(mn.g.l,xn);if(!(Mn instanceof Object))throw new TypeError("Iterator result "+Mn+" is not an object");if(!Mn.done)return mn.g.s=!1,Mn;var Un=Mn.value}catch(Bn){return mn.g.l=null,Es(mn.g,Bn),Bs(mn)}return mn.g.l=null,An.call(mn.g,Un),Bs(mn)}function Bs(mn){for(;mn.g.g;)try{var kn=mn.h(mn.g);if(kn)return mn.g.s=!1,{value:kn.value,done:!1}}catch(xn){mn.g.h=void 0,Es(mn.g,xn)}if(mn.g.s=!1,mn.g.i){if(kn=mn.g.i,mn.g.i=null,kn.Nf)throw kn.Ef;return{value:kn.return,done:!0}}return{value:void 0,done:!0}}function Js(mn){this.next=function(kn){return _s(mn.g),mn.g.l?kn=zs(mn,mn.g.l.next,kn,mn.g.B):(mn.g.B(kn),kn=Bs(mn)),kn},this.throw=function(kn){return _s(mn.g),mn.g.l?kn=zs(mn,mn.g.l.throw,kn,mn.g.B):(Es(mn.g,kn),kn=Bs(mn)),kn},this.return=function(kn){return xs(mn,kn)},this[Symbol.iterator]=function(){return this}}function tu(mn){function kn(An){return mn.next(An)}function xn(An){return mn.throw(An)}return new Promise(function(An,Mn){function Un(Bn){Bn.done?An(Bn.value):Promise.resolve(Bn.value).then(kn,xn).then(Un,Mn)}Un(mn.next())})}function hs(mn){return tu(new Js(new Ts(mn)))}function lu(){for(var mn=Number(this),kn=[],xn=mn;xn<arguments.length;xn++)kn[xn-mn]=arguments[xn];return kn}Fn("Promise",function(mn){function kn(Bn){this.h=0,this.i=void 0,this.g=[],this.s=!1;var zn=this.j();try{Bn(zn.resolve,zn.reject)}catch(Wn){zn.reject(Wn)}}function xn(){this.g=null}function An(Bn){return Bn instanceof kn?Bn:new kn(function(zn){zn(Bn)})}if(mn)return mn;xn.prototype.h=function(Bn){if(this.g==null){this.g=[];var zn=this;this.i(function(){zn.l()})}this.g.push(Bn)};var Mn=Ln.setTimeout;xn.prototype.i=function(Bn){Mn(Bn,0)},xn.prototype.l=function(){for(;this.g&&this.g.length;){var Bn=this.g;this.g=[];for(var zn=0;zn<Bn.length;++zn){var Wn=Bn[zn];Bn[zn]=null;try{Wn()}catch(ts){this.j(ts)}}}this.g=null},xn.prototype.j=function(Bn){this.i(function(){throw Bn})},kn.prototype.j=function(){function Bn(ts){return function(os){Wn||(Wn=!0,ts.call(zn,os))}}var zn=this,Wn=!1;return{resolve:Bn(this.H),reject:Bn(this.l)}},kn.prototype.H=function(Bn){if(Bn===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(Bn instanceof kn)this.J(Bn);else{e:switch(typeof Bn){case"object":var zn=Bn!=null;break e;case"function":zn=!0;break e;default:zn=!1}zn?this.G(Bn):this.m(Bn)}},kn.prototype.G=function(Bn){var zn=void 0;try{zn=Bn.then}catch(Wn){this.l(Wn);return}typeof zn=="function"?this.K(zn,Bn):this.m(Bn)},kn.prototype.l=function(Bn){this.B(2,Bn)},kn.prototype.m=function(Bn){this.B(1,Bn)},kn.prototype.B=function(Bn,zn){if(this.h!=0)throw Error("Cannot settle("+Bn+", "+zn+"): Promise already settled in state"+this.h);this.h=Bn,this.i=zn,this.h===2&&this.I(),this.C()},kn.prototype.I=function(){var Bn=this;Mn(function(){if(Bn.F()){var zn=Ln.console;typeof zn<"u"&&zn.error(Bn.i)}},1)},kn.prototype.F=function(){if(this.s)return!1;var Bn=Ln.CustomEvent,zn=Ln.Event,Wn=Ln.dispatchEvent;return typeof Wn>"u"?!0:(typeof Bn=="function"?Bn=new Bn("unhandledrejection",{cancelable:!0}):typeof zn=="function"?Bn=new zn("unhandledrejection",{cancelable:!0}):(Bn=Ln.document.createEvent("CustomEvent"),Bn.initCustomEvent("unhandledrejection",!1,!0,Bn)),Bn.promise=this,Bn.reason=this.i,Wn(Bn))},kn.prototype.C=function(){if(this.g!=null){for(var Bn=0;Bn<this.g.length;++Bn)Un.h(this.g[Bn]);this.g=null}};var Un=new xn;return kn.prototype.J=function(Bn){var zn=this.j();Bn.od(zn.resolve,zn.reject)},kn.prototype.K=function(Bn,zn){var Wn=this.j();try{Bn.call(zn,Wn.resolve,Wn.reject)}catch(ts){Wn.reject(ts)}},kn.prototype.then=function(Bn,zn){function Wn(ls,ys){return typeof ls=="function"?function(Cs){try{ts(ls(Cs))}catch(Ns){os(Ns)}}:ys}var ts,os,ds=new kn(function(ls,ys){ts=ls,os=ys});return this.od(Wn(Bn,ts),Wn(zn,os)),ds},kn.prototype.catch=function(Bn){return this.then(void 0,Bn)},kn.prototype.od=function(Bn,zn){function Wn(){switch(ts.h){case 1:Bn(ts.i);break;case 2:zn(ts.i);break;default:throw Error("Unexpected state: "+ts.h)}}var ts=this;this.g==null?Un.h(Wn):this.g.push(Wn),this.s=!0},kn.resolve=An,kn.reject=function(Bn){return new kn(function(zn,Wn){Wn(Bn)})},kn.race=function(Bn){return new kn(function(zn,Wn){for(var ts=Dn(Bn),os=ts.next();!os.done;os=ts.next())An(os.value).od(zn,Wn)})},kn.all=function(Bn){var zn=Dn(Bn),Wn=zn.next();return Wn.done?An([]):new kn(function(ts,os){function ds(Cs){return function(Ns){ls[Cs]=Ns,ys--,ys==0&&ts(ls)}}var ls=[],ys=0;do ls.push(void 0),ys++,An(Wn.value).od(ds(ls.length-1),os),Wn=zn.next();while(!Wn.done)})},kn});function vu(mn,kn){return Object.prototype.hasOwnProperty.call(mn,kn)}Fn("WeakMap",function(mn){function kn(Wn){if(this.g=(zn+=Math.random()+1).toString(),Wn){Wn=Dn(Wn);for(var ts;!(ts=Wn.next()).done;)ts=ts.value,this.set(ts[0],ts[1])}}function xn(){}function An(Wn){var ts=typeof Wn;return ts==="object"&&Wn!==null||ts==="function"}function Mn(Wn){if(!vu(Wn,Bn)){var ts=new xn;Pn(Wn,Bn,{value:ts})}}function Un(Wn){var ts=Object[Wn];ts&&(Object[Wn]=function(os){return os instanceof xn?os:(Object.isExtensible(os)&&Mn(os),ts(os))})}if(function(){if(!mn||!Object.seal)return!1;try{var Wn=Object.seal({}),ts=Object.seal({}),os=new mn([[Wn,2],[ts,3]]);return os.get(Wn)!=2||os.get(ts)!=3?!1:(os.delete(Wn),os.set(ts,4),!os.has(Wn)&&os.get(ts)==4)}catch{return!1}}())return mn;var Bn="$jscomp_hidden_"+Math.random();Un("freeze"),Un("preventExtensions"),Un("seal");var zn=0;return kn.prototype.set=function(Wn,ts){if(!An(Wn))throw Error("Invalid WeakMap key");if(Mn(Wn),!vu(Wn,Bn))throw Error("WeakMap key fail: "+Wn);return Wn[Bn][this.g]=ts,this},kn.prototype.get=function(Wn){return An(Wn)&&vu(Wn,Bn)?Wn[Bn][this.g]:void 0},kn.prototype.has=function(Wn){return An(Wn)&&vu(Wn,Bn)&&vu(Wn[Bn],this.g)},kn.prototype.delete=function(Wn){return An(Wn)&&vu(Wn,Bn)&&vu(Wn[Bn],this.g)?delete Wn[Bn][this.g]:!1},kn}),Fn("Map",function(mn){function kn(){var zn={};return zn.mb=zn.next=zn.head=zn}function xn(zn,Wn){var ts=zn.g;return Gn(function(){if(ts){for(;ts.head!=zn.g;)ts=ts.mb;for(;ts.next!=ts.head;)return ts=ts.next,{done:!1,value:Wn(ts)};ts=null}return{done:!0,value:void 0}})}function An(zn,Wn){var ts=Wn&&typeof Wn;ts=="object"||ts=="function"?Un.has(Wn)?ts=Un.get(Wn):(ts=""+ ++Bn,Un.set(Wn,ts)):ts="p_"+Wn;var os=zn.h[ts];if(os&&vu(zn.h,ts))for(zn=0;zn<os.length;zn++){var ds=os[zn];if(Wn!==Wn&&ds.key!==ds.key||Wn===ds.key)return{id:ts,list:os,index:zn,wa:ds}}return{id:ts,list:os,index:-1,wa:void 0}}function Mn(zn){if(this.h={},this.g=kn(),this.size=0,zn){zn=Dn(zn);for(var Wn;!(Wn=zn.next()).done;)Wn=Wn.value,this.set(Wn[0],Wn[1])}}if(function(){if(!mn||typeof mn!="function"||!mn.prototype.entries||typeof Object.seal!="function")return!1;try{var zn=Object.seal({x:4}),Wn=new mn(Dn([[zn,"s"]]));if(Wn.get(zn)!="s"||Wn.size!=1||Wn.get({x:4})||Wn.set({x:4},"t")!=Wn||Wn.size!=2)return!1;var ts=Wn.entries(),os=ts.next();return os.done||os.value[0]!=zn||os.value[1]!="s"?!1:(os=ts.next(),!(os.done||os.value[0].x!=4||os.value[1]!="t"||!ts.next().done))}catch{return!1}}())return mn;var Un=new WeakMap;Mn.prototype.set=function(zn,Wn){zn=zn===0?0:zn;var ts=An(this,zn);return ts.list||(ts.list=this.h[ts.id]=[]),ts.wa?ts.wa.value=Wn:(ts.wa={next:this.g,mb:this.g.mb,head:this.g,key:zn,value:Wn},ts.list.push(ts.wa),this.g.mb.next=ts.wa,this.g.mb=ts.wa,this.size++),this},Mn.prototype.delete=function(zn){return zn=An(this,zn),zn.wa&&zn.list?(zn.list.splice(zn.index,1),zn.list.length||delete this.h[zn.id],zn.wa.mb.next=zn.wa.next,zn.wa.next.mb=zn.wa.mb,zn.wa.head=null,this.size--,!0):!1},Mn.prototype.clear=function(){this.h={},this.g=this.g.mb=kn(),this.size=0},Mn.prototype.has=function(zn){return!!An(this,zn).wa},Mn.prototype.get=function(zn){return(zn=An(this,zn).wa)&&zn.value},Mn.prototype.entries=function(){return xn(this,function(zn){return[zn.key,zn.value]})},Mn.prototype.keys=function(){return xn(this,function(zn){return zn.key})},Mn.prototype.values=function(){return xn(this,function(zn){return zn.value})},Mn.prototype.forEach=function(zn,Wn){for(var ts=this.entries(),os;!(os=ts.next()).done;)os=os.value,zn.call(Wn,os[1],os[0],this)},Mn.prototype[Symbol.iterator]=Mn.prototype.entries;var Bn=0;return Mn});function yu(mn,kn){mn instanceof String&&(mn+="");var xn=0,An=!1,Mn={next:function(){if(!An&&xn<mn.length){var Un=xn++;return{value:kn(Un,mn[Un]),done:!1}}return An=!0,{done:!0,value:void 0}}};return Mn[Symbol.iterator]=function(){return Mn},Mn}Fn("Array.prototype.keys",function(mn){return mn||function(){return yu(this,function(kn){return kn})}}),Fn("Set",function(mn){function kn(xn){if(this.g=new Map,xn){xn=Dn(xn);for(var An;!(An=xn.next()).done;)this.add(An.value)}this.size=this.g.size}return function(){if(!mn||typeof mn!="function"||!mn.prototype.entries||typeof Object.seal!="function")return!1;try{var xn=Object.seal({x:4}),An=new mn(Dn([xn]));if(!An.has(xn)||An.size!=1||An.add(xn)!=An||An.size!=1||An.add({x:4})!=An||An.size!=2)return!1;var Mn=An.entries(),Un=Mn.next();return Un.done||Un.value[0]!=xn||Un.value[1]!=xn?!1:(Un=Mn.next(),Un.done||Un.value[0]==xn||Un.value[0].x!=4||Un.value[1]!=Un.value[0]?!1:Mn.next().done)}catch{return!1}}()?mn:(kn.prototype.add=function(xn){return xn=xn===0?0:xn,this.g.set(xn,xn),this.size=this.g.size,this},kn.prototype.delete=function(xn){return xn=this.g.delete(xn),this.size=this.g.size,xn},kn.prototype.clear=function(){this.g.clear(),this.size=0},kn.prototype.has=function(xn){return this.g.has(xn)},kn.prototype.entries=function(){return this.g.entries()},kn.prototype.values=function(){return this.g.values()},kn.prototype.keys=kn.prototype.values,kn.prototype[Symbol.iterator]=kn.prototype.values,kn.prototype.forEach=function(xn,An){var Mn=this;this.g.forEach(function(Un){return xn.call(An,Un,Un,Mn)})},kn)}),Fn("Array.from",function(mn){return mn||function(kn,xn,An){xn=xn??function(zn){return zn};var Mn=[],Un=typeof Symbol<"u"&&Symbol.iterator&&kn[Symbol.iterator];if(typeof Un=="function"){kn=Un.call(kn);for(var Bn=0;!(Un=kn.next()).done;)Mn.push(xn.call(An,Un.value,Bn++))}else for(Un=kn.length,Bn=0;Bn<Un;Bn++)Mn.push(xn.call(An,kn[Bn],Bn));return Mn}});function Wu(mn,kn,xn){mn instanceof String&&(mn=String(mn));for(var An=mn.length,Mn=0;Mn<An;Mn++){var Un=mn[Mn];if(kn.call(xn,Un,Mn,mn))return{Lf:Mn,v:Un}}return{Lf:-1,v:void 0}}Fn("Array.prototype.findIndex",function(mn){return mn||function(kn,xn){return Wu(this,kn,xn).Lf}}),Fn("Object.is",function(mn){return mn||function(kn,xn){return kn===xn?kn!==0||1/kn===1/xn:kn!==kn&&xn!==xn}}),Fn("Array.prototype.includes",function(mn){return mn||function(kn,xn){var An=this;An instanceof String&&(An=String(An));var Mn=An.length;for(xn=xn||0,0>xn&&(xn=Math.max(xn+Mn,0));xn<Mn;xn++){var Un=An[xn];if(Un===kn||Object.is(Un,kn))return!0}return!1}});function Ru(mn,kn,xn){if(mn==null)throw new TypeError("The 'this' value for String.prototype."+xn+" must not be null or undefined");if(kn instanceof RegExp)throw new TypeError("First argument to String.prototype."+xn+" must not be a regular expression");return mn+""}Fn("String.prototype.includes",function(mn){return mn||function(kn,xn){return Ru(this,kn,"includes").indexOf(kn,xn||0)!==-1}}),Fn("Array.prototype.find",function(mn){return mn||function(kn,xn){return Wu(this,kn,xn).v}}),Fn("String.prototype.startsWith",function(mn){return mn||function(kn,xn){var An=Ru(this,kn,"startsWith"),Mn=An.length,Un=kn.length;xn=Math.max(0,Math.min(xn|0,An.length));for(var Bn=0;Bn<Un&&xn<Mn;)if(An[xn++]!=kn[Bn++])return!1;return Bn>=Un}});var Ll=typeof Object.assign=="function"?Object.assign:function(mn,kn){for(var xn=1;xn<arguments.length;xn++){var An=arguments[xn];if(An)for(var Mn in An)vu(An,Mn)&&(mn[Mn]=An[Mn])}return mn};Fn("Object.assign",function(mn){return mn||Ll}),Fn("Array.prototype.values",function(mn){return mn||function(){return yu(this,function(kn,xn){return xn})}}),Fn("Promise.prototype.finally",function(mn){return mn||function(kn){return this.then(function(xn){return Promise.resolve(kn()).then(function(){return xn})},function(xn){return Promise.resolve(kn()).then(function(){throw xn})})}}),Fn("Array.prototype.entries",function(mn){return mn||function(){return yu(this,function(kn,xn){return[kn,xn]})}}),Fn("String.prototype.repeat",function(mn){return mn||function(kn){var xn=Ru(this,null,"repeat");if(0>kn||1342177279<kn)throw new RangeError("Invalid count value");kn|=0;for(var An="";kn;)kn&1&&(An+=xn),(kn>>>=1)&&(xn+=xn);return An}}),Fn("Number.isNaN",function(mn){return mn||function(kn){return typeof kn=="number"&&isNaN(kn)}}),Fn("Object.values",function(mn){return mn||function(kn){var xn=[],An;for(An in kn)vu(kn,An)&&xn.push(kn[An]);return xn}}),Fn("Math.log2",function(mn){return mn||function(kn){return Math.log(kn)/Math.LN2}}),Fn("Math.trunc",function(mn){return mn||function(kn){if(kn=Number(kn),isNaN(kn)||kn===1/0||kn===-1/0||kn===0)return kn;var xn=Math.floor(Math.abs(kn));return 0>kn?-xn:xn}}),Fn("Object.entries",function(mn){return mn||function(kn){var xn=[],An;for(An in kn)vu(kn,An)&&xn.push([An,kn[An]]);return xn}});var Vp=this||self;function Ys(mn,kn){mn=mn.split(".");var xn=Vp;mn[0]in xn||typeof xn.execScript>"u"||xn.execScript("var "+mn[0]);for(var An;mn.length&&(An=mn.shift());)mn.length||kn===void 0?xn[An]&&xn[An]!==Object.prototype[An]?xn=xn[An]:xn=xn[An]={}:xn[An]=kn}function _u(mn,kn){if(kn)if(kn instanceof Map)for(var xn=Dn(kn.keys()),An=xn.next();!An.done;An=xn.next())An=An.value,Object.defineProperty(this,An,{value:kn.get(An),writable:!0,enumerable:!0});else for(xn in kn)Object.defineProperty(this,xn,{value:kn[xn],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=pn.performance&&pn.performance.now?pn.performance.now():Date.now(),this.type=mn,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function Wl(mn){var kn=new _u(mn.type),xn;for(xn in mn)Object.defineProperty(kn,xn,{value:mn[xn],writable:!0,enumerable:!0});return kn}_u.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},_u.prototype.stopImmediatePropagation=function(){this.g=!0},_u.prototype.stopPropagation=function(){},Ys("shaka.util.FakeEvent",_u);var lp={Vh:"abrstatuschanged",Wh:"adaptation",Xh:"buffering",$h:"downloadfailed",ai:"downloadheadersreceived",bi:"drmsessionupdate",ki:"emsg",Ni:"prft",Error:"error",li:"expirationupdated",oi:"gapjumped",si:"loaded",ti:"loading",Bi:"manifestparsed",Ci:"mediaqualitychanged",Metadata:"metadata",Hi:"onstatechange",Ii:"onstateidle",Si:"ratechange",Yi:"segmentappended",Zi:"sessiondata",$i:"stalldetected",aj:"streaming",bj:"textchanged",cj:"texttrackvisibility",dj:"timelineregionadded",ej:"timelineregionenter",fj:"timelineregionexit",gj:"trackschanged",lj:"unloading",nj:"variantchanged"};function am(){}function fl(){}function $u(){}function cp(mn){var kn=lu.apply(1,arguments);Jy.has(mn)||(Jy.add(mn),$u.apply(am,Kn(kn)))}function Cp(){}function ry(){}function vp(){}function Qv(){}var Jy=new Set;pn.console&&($u=function(){return console.warn.apply(console,Kn(lu.apply(0,arguments)))},fl=function(){console.error.apply(console,Kn(lu.apply(0,arguments)))});function Fu(){this.g={}}En=Fu.prototype,En.push=function(mn,kn){this.g.hasOwnProperty(mn)?this.g[mn].push(kn):this.g[mn]=[kn]},En.get=function(mn){return(mn=this.g[mn])?mn.slice():null},En.remove=function(mn,kn){mn in this.g&&(this.g[mn]=this.g[mn].filter(function(xn){return xn!=kn}),this.g[mn].length==0&&delete this.g[mn])},En.forEach=function(mn){for(var kn in this.g)mn(kn,this.g[kn])},En.size=function(){return Object.keys(this.g).length},En.keys=function(){return Object.keys(this.g)};function Eu(){this.ra=new Fu,this.Hd=this}Eu.prototype.addEventListener=function(mn,kn){this.ra&&this.ra.push(mn,kn)},Eu.prototype.removeEventListener=function(mn,kn){this.ra&&this.ra.remove(mn,kn)},Eu.prototype.dispatchEvent=function(mn){if(!this.ra)return!0;var kn=this.ra.get(mn.type)||[],xn=this.ra.get("All");for(xn&&(kn=kn.concat(xn)),kn=Dn(kn),xn=kn.next();!xn.done;xn=kn.next()){xn=xn.value,mn.target=this.Hd,mn.currentTarget=this.Hd;try{xn.handleEvent?xn.handleEvent(mn):xn.call(this,mn)}catch{}if(mn.g)break}return mn.defaultPrevented},Eu.prototype.release=function(){this.ra=null};function el(mn,kn){var xn=[];mn=Dn(mn);for(var An=mn.next();!An.done;An=mn.next())xn.push(kn(An.value));return xn}function pl(mn,kn){mn=Dn(mn);for(var xn=mn.next();!xn.done;xn=mn.next())if(!kn(xn.value))return!1;return!0}function Xp(mn,kn){mn=Dn(mn);for(var xn=mn.next();!xn.done;xn=mn.next())if(kn(xn.value))return!0;return!1}function _p(mn,kn){var xn=[];mn=Dn(mn);for(var An=mn.next();!An.done;An=mn.next())An=An.value,kn(An)&&xn.push(An);return xn}var wu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");/*
 @license
 Copyright 2006 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/function Iu(mn){var kn;mn instanceof Iu?(Gp(this,mn.Wa),this.Tb=mn.Tb,this.ab=mn.ab,Qp(this,mn.nc),this.Ha=mn.Ha,Cy(this,mn.g.clone()),this.Hb=mn.Hb):mn&&(kn=String(mn).match(wu))?(Gp(this,kn[1]||"",!0),this.Tb=Ay(kn[2]||""),this.ab=Ay(kn[3]||"",!0),Qp(this,kn[4]),this.Ha=Ay(kn[5]||"",!0),Cy(this,kn[6]||"",!0),this.Hb=Ay(kn[7]||"")):this.g=new Py(null)}En=Iu.prototype,En.Wa="",En.Tb="",En.ab="",En.nc=null,En.Ha="",En.Hb="",En.toString=function(){var mn=[],kn=this.Wa;if(kn&&mn.push(ny(kn,$v,!0),":"),kn=this.ab){mn.push("//");var xn=this.Tb;xn&&mn.push(ny(xn,$v,!0),"@"),mn.push(encodeURIComponent(kn).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),kn=this.nc,kn!=null&&mn.push(":",String(kn))}return(kn=this.Ha)&&(this.ab&&kn.charAt(0)!="/"&&mn.push("/"),mn.push(ny(kn,kn.charAt(0)=="/"?Tv:HE,!0))),(kn=this.g.toString())&&mn.push("?",kn),(kn=this.Hb)&&mn.push("#",ny(kn,Iy)),mn.join("")},En.resolve=function(mn){var kn=this.clone();kn.Wa==="data"&&(kn=new Iu);var xn=!!mn.Wa;xn?Gp(kn,mn.Wa):xn=!!mn.Tb,xn?kn.Tb=mn.Tb:xn=!!mn.ab,xn?kn.ab=mn.ab:xn=mn.nc!=null;var An=mn.Ha;if(xn)Qp(kn,mn.nc);else if(xn=!!mn.Ha){if(An.charAt(0)!="/")if(this.ab&&!this.Ha)An="/"+An;else{var Mn=kn.Ha.lastIndexOf("/");Mn!=-1&&(An=kn.Ha.substr(0,Mn+1)+An)}if(An==".."||An==".")An="";else if(An.indexOf("./")!=-1||An.indexOf("/.")!=-1){Mn=An.lastIndexOf("/",0)==0,An=An.split("/");for(var Un=[],Bn=0;Bn<An.length;){var zn=An[Bn++];zn=="."?Mn&&Bn==An.length&&Un.push(""):zn==".."?((1<Un.length||Un.length==1&&Un[0]!="")&&Un.pop(),Mn&&Bn==An.length&&Un.push("")):(Un.push(zn),Mn=!0)}An=Un.join("/")}}return xn?kn.Ha=An:xn=mn.g.toString()!=="",xn?Cy(kn,mn.g.clone()):xn=!!mn.Hb,xn&&(kn.Hb=mn.Hb),kn},En.clone=function(){return new Iu(this)};function Gp(mn,kn,xn){mn.Wa=xn?Ay(kn,!0):kn,mn.Wa&&(mn.Wa=mn.Wa.replace(/:$/,""))}function Qp(mn,kn){if(kn){if(kn=Number(kn),isNaN(kn)||0>kn)throw Error("Bad port number "+kn);mn.nc=kn}else mn.nc=null}function Cy(mn,kn,xn){kn instanceof Py?mn.g=kn:(xn||(kn=ny(kn,KE)),mn.g=new Py(kn))}function Ay(mn,kn){return mn?kn?decodeURI(mn):decodeURIComponent(mn):""}function ny(mn,kn,xn){return mn!=null?(mn=encodeURI(mn).replace(kn,zE),xn&&(mn=mn.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),mn):null}function zE(mn){return mn=mn.charCodeAt(0),"%"+(mn>>4&15).toString(16)+(mn&15).toString(16)}var $v=/[#\/\?@]/g,HE=/[#\?:]/g,Tv=/[#\?]/g,KE=/[#\?@]/g,Iy=/#/g;function Py(mn){this.g=mn||null}function Il(mn){if(!mn.Da&&(mn.Da={},mn.rd=0,mn.g))for(var kn=mn.g.split("&"),xn=0;xn<kn.length;xn++){var An=kn[xn].indexOf("="),Mn=null;if(0<=An){var Un=kn[xn].substring(0,An);Mn=kn[xn].substring(An+1)}else Un=kn[xn];Un=decodeURIComponent(Un.replace(/\+/g," ")),Mn=Mn||"",mn.add(Un,decodeURIComponent(Mn.replace(/\+/g," ")))}}En=Py.prototype,En.Da=null,En.rd=null,En.add=function(mn,kn){Il(this),this.g=null;var xn=this.Da.hasOwnProperty(mn)?this.Da[mn]:null;return xn||(this.Da[mn]=xn=[]),xn.push(kn),this.rd++,this},En.set=function(mn,kn){return Il(this),this.g=null,this.Da.hasOwnProperty(mn)?this.Da[mn]=[kn]:this.add(mn,kn),this},En.toString=function(){if(this.g)return this.g;if(!this.Da)return"";var mn=[],kn;for(kn in this.Da)for(var xn=encodeURIComponent(kn),An=this.Da[kn],Mn=0;Mn<An.length;Mn++){var Un=xn;An[Mn]!==""&&(Un+="="+encodeURIComponent(An[Mn])),mn.push(Un)}return this.g=mn.join("&")},En.clone=function(){var mn=new Py;if(mn.g=this.g,this.Da){var kn={},xn;for(xn in this.Da)kn[xn]=this.Da[xn].concat();mn.Da=kn,mn.rd=this.rd}return mn};function Hs(mn,kn,xn){var An=lu.apply(3,arguments);this.severity=mn,this.category=kn,this.code=xn,this.data=An,this.handled=!1}Hs.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},Ys("shaka.util.Error",Hs),Hs.Severity={RECOVERABLE:1,CRITICAL:2},Hs.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},Hs.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,SEGMENT_MISSING:1011,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,CHAPTERS_TRACK_FAILED:2015,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_SRC_EQUALS:2016,UNSUPPORTED_EXTERNAL_THUMBNAILS_URI:2017,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED:4040,HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4041,NO_WEB_CRYPTO_API:4042,HLS_AES_128_INVALID_IV_LENGTH:4043,HLS_AES_128_INVALID_KEY_LENGTH:4044,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM:4045,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,SERVER_CERTIFICATE_REQUEST_FAILED:6017,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,MODIFY_OPERATION_NOT_SUPPORTED:9016,INDEXED_DB_INIT_TIMED_OUT:9017,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004};function O0(mn,kn){return mn.concat(kn)}function Zv(){}function Zl(mn){return mn!=null}function Zp(mn,kn){if(kn.length==0)return mn;var xn=kn.map(function(An){return new Iu(An)});return mn.map(function(An){return new Iu(An)}).map(function(An){return xn.map(function(Mn){return An.resolve(Mn)})}).reduce(O0,[]).map(function(An){return An.toString()})}function Mp(mn,kn){return{keySystem:mn,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:kn||[],keyIds:new Set}}function Lm(mn,kn){if(kn.length==1)return kn[0];if(mn=ev(mn,kn),mn!=null)return mn;throw new Hs(2,4,4025,kn)}function ev(mn,kn){for(var xn=Dn(rp[mn]),An=xn.next();!An.done;An=xn.next()){An=An.value;for(var Mn=Dn(kn),Un=Mn.next();!Un.done;Un=Mn.next())if(Un=Un.value,An.test(Un.trim()))return Un.trim()}return mn==Vu?"":null}var Vu="text",Pu={Ma:"video",jd:"audio",ba:Vu,Ac:"image",Sh:"application"},rp={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4$/,/^dts[cex]$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av01/,/^dvhe/],text:[/^vtt$/,/^wvtt/,/^stpp/]};function om(){}function Vs(mn,kn){return mn=ol(mn),kn=ol(kn),mn.split("-")[0]==kn.split("-")[0]}function O_(mn,kn){return mn=ol(mn),kn=ol(kn),mn=mn.split("-"),kn=kn.split("-"),mn[0]==kn[0]&&mn.length==1&&kn.length==2}function Rp(mn,kn){return mn=ol(mn),kn=ol(kn),mn=mn.split("-"),kn=kn.split("-"),mn.length==2&&kn.length==2&&mn[0]==kn[0]}function ol(mn){var kn=mn.split("-");return mn=kn[0]||"",kn=kn[1]||"",mn=mn.toLowerCase(),mn=WE.get(mn)||mn,(kn=kn.toUpperCase())?mn+"-"+kn:mn}function M0(mn,kn){var xn=iy(mn),An=iy(kn);return mn!=xn&&kn!=An&&xn==An}function pm(mn,kn){return mn=ol(mn),kn=ol(kn),kn==mn?4:O_(kn,mn)?3:Rp(kn,mn)?2:O_(mn,kn)?1:0}function iy(mn){var kn=mn.indexOf("-");return mn=0<=kn?mn.substring(0,kn):mn,mn=mn.toLowerCase(),mn=WE.get(mn)||mn}function kv(mn){return mn.language?ol(mn.language):mn.audio&&mn.audio.language?ol(mn.audio.language):mn.video&&mn.video.language?ol(mn.video.language):"und"}function R0(mn,kn){mn=ol(mn);var xn=new Set,An=Dn(kn);for(kn=An.next();!kn.done;kn=An.next())xn.add(ol(kn.value));for(An=Dn(xn),kn=An.next();!kn.done;kn=An.next())if(kn=kn.value,kn==mn)return kn;for(An=Dn(xn),kn=An.next();!kn.done;kn=An.next())if(kn=kn.value,O_(kn,mn))return kn;for(An=Dn(xn),kn=An.next();!kn.done;kn=An.next())if(kn=kn.value,Rp(kn,mn))return kn;for(xn=Dn(xn),kn=xn.next();!kn.done;kn=xn.next())if(kn=kn.value,O_(mn,kn))return kn;return null}Ys("shaka.util.LanguageUtils",om),om.findClosestLocale=R0,om.getLocaleForVariant=kv,om.getLocaleForText=function(mn){return ol(mn.language||"und")},om.getBase=iy,om.relatedness=pm,om.areSiblings=M0,om.normalize=ol,om.isSiblingOf=Rp,om.isParentOf=O_,om.areLanguageCompatible=Vs,om.areLocaleCompatible=function(mn,kn){return mn=ol(mn),kn=ol(kn),mn==kn};var WE=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function np(mn){Eu.call(this),this.j=ol(mn),this.i=new Map,this.g=new Set,this.h=new Map}as(np,Eu),En=np.prototype,En.release=function(){Eu.prototype.release.call(this)},En.xf=function(mn){var kn=this;this.g.clear(),mn=Dn(mn);for(var xn=mn.next();!xn.done;xn=mn.next())this.g.add(ol(xn.value));R$(this),mn=_p(this.g,function(An){return!kn.h.has(An)}),mn.length&&this.dispatchEvent(new _u("unknown-locales",new Map().set("locales",mn))),mn=_p(this.g,function(An){return kn.h.has(An)}),mn=new Map().set("locales",mn.length?mn:[this.j]),this.dispatchEvent(new _u("locale-changed",mn))},En.ea=function(mn,kn,xn){mn=ol(mn),xn===void 0&&(xn=qE);var An=this.h.get(mn)||new Map;return kn.forEach(function(Mn,Un){An.has(Un)&&xn!=qE||An.set(Un,Mn)}),this.h.set(mn,An),R$(this),this.dispatchEvent(new _u("locale-updated")),this},En.Ch=function(mn){for(var kn=Dn(mn.keys()),xn=kn.next();!xn.done;xn=kn.next())xn=xn.value,mn.set(xn,this.resolve(xn))},En.resolve=function(mn){var kn=this.i.get(mn);return kn||(mn=new Map().set("locales",Array.from(this.g)).set("missing",mn),this.dispatchEvent(new _u("unknown-localization",mn)),"")};function R$(mn){for(var kn=mn.h,xn=mn.j,An=mn.g,Mn=new Set,Un={},Bn=Dn(An),zn=Bn.next();!zn.done;Un={Xb:Un.Xb},zn=Bn.next()){Un.Xb=zn.value,Mn.add(Un.Xb),Mn.add(iy(Un.Xb)),zn=_p(kn.keys(),function(ts){return function(os){return M0(os,ts.Xb)}}(Un)),zn.sort();var Wn=Dn(zn);for(zn=Wn.next();!zn.done;zn=Wn.next())Mn.add(zn.value);for(zn=_p(kn.keys(),function(ts){return function(os){return iy(os)==ts.Xb}}(Un)),zn.sort(),Wn=Dn(zn),zn=Wn.next();!zn.done;zn=Wn.next())Mn.add(zn.value)}for(Mn.add(xn),xn=[],Mn=Dn(Mn),zn=Mn.next();!zn.done;zn=Mn.next())(zn=kn.get(zn.value))&&xn.push(zn);for(xn.reverse(),mn.i.clear(),kn=Dn(xn),zn=kn.next();!zn.done;zn=kn.next())zn.value.forEach(function(ts,os){mn.i.set(os,ts)});for(kn=mn.i.keys(),Mn=new Set,xn=Dn(mn.g),zn=xn.next();!zn.done;zn=xn.next())zn=mn.h.get(zn.value)||new Map,Hk(zn,kn,Mn);0<Mn.size&&(An=new Map().set("locales",Array.from(An)).set("missing",Array.from(Mn)),mn.dispatchEvent(new _u("missing-localizations",An)))}function Hk(mn,kn,xn){kn=Dn(kn);for(var An=kn.next();!An.done;An=kn.next())An=An.value,mn.get(An)||xn.add(An)}Ys("shaka.ui.Localization",np),np.prototype.resolve=np.prototype.resolve,np.prototype.resolveDictionary=np.prototype.Ch,np.prototype.insert=np.prototype.ea,np.prototype.changeLocale=np.prototype.xf,np.prototype.release=np.prototype.release;var qE=1;np.ConflictResolution={USE_OLD:0,USE_NEW:qE},np.UNKNOWN_LOCALES="unknown-locales",np.UNKNOWN_LOCALIZATION="unknown-localization",np.MISSING_LOCALIZATIONS="missing-localizations",np.LOCALE_CHANGED="locale-changed",np.LOCALE_UPDATED="locale-updated";var Jv={mi:"FAST_FORWARD",Qh:"AD_TIME",Ri:"REWIND",kj:"UNRECOGNIZED_LANGUAGE",Di:"NOT_APPLICABLE",Xi:"STATISTICS",Ph:"AD_DURATION",ri:"LOOP",gi:"EXIT_FULL_SCREEN",Pi:"REPLAY",mj:"VOLUME",Zh:"CAST",gg:"LIVE",xi:"MORE_SETTINGS",di:"ENTER_PICTURE_IN_PICTURE",BACK:"BACK",Mi:"PLAYBACK_RATE",ji:"EXIT_PICTURE_IN_PICTURE",pi:"LANGUAGE",ci:"ENTER_LOOP_MODE",jj:"UNMUTE",Ai:"MUTE",Ji:"PAUSE",Qi:"RESOLUTION",Rh:"AIRPLAY",AD_PROGRESS:"AD_PROGRESS",Th:"AUTO_QUALITY",ij:"UNDETERMINED_LANGUAGE",Ui:"SKIP_AD",ii:"EXIT_LOOP_MODE",Li:"PLAY",ni:"FULL_SCREEN",zi:"MULTIPLE_LANGUAGES",Yh:"CAPTIONS",Ti:"SEEK",Vi:"SKIP_TO_LIVE",hg:"SUBTITLE_FORCED",Oi:"QUALITY",Ei:"OFF",Ki:"PICTURE_IN_PICTURE",Fi:"ON"};function M_(mn){this.g=Math.exp(Math.log(.5)/mn),this.i=this.h=0}M_.prototype.sample=function(mn,kn){var xn=Math.pow(this.g,mn);kn=kn*(1-xn)+xn*this.h,isNaN(kn)||(this.h=kn,this.i+=mn)};function bv(mn){return mn.h/(1-Math.pow(mn.g,mn.i))}function R_(){this.h=new M_(2),this.j=new M_(5),this.g=0,this.i=128e3,this.l=16e3}R_.prototype.configure=function(mn){this.i=mn.minTotalBytes,this.l=mn.minBytes,this.h.g=Math.exp(Math.log(.5)/mn.fastHalfLife),this.j.g=Math.exp(Math.log(.5)/mn.slowHalfLife)},R_.prototype.sample=function(mn,kn){if(!(kn<this.l)){var xn=8e3*kn/mn;mn/=1e3,this.g+=kn,this.h.sample(mn,xn),this.j.sample(mn,xn)}},R_.prototype.getBandwidthEstimate=function(mn){return this.g<this.i?mn:Math.min(bv(this.h),bv(this.j))};function dp(mn){if(zp.has(mn))return zp.get(mn);var kn=MediaSource.isTypeSupported(mn);return zp.set(mn,kn),kn}var zp=new Map;function tv(mn,kn){return typeof mn=="number"&&typeof kn=="number"&&isNaN(mn)&&isNaN(kn)?!0:mn===kn}function qu(mn,kn){kn=mn.indexOf(kn),-1<kn&&mn.splice(kn,1)}function Np(mn,kn,xn){if(xn||(xn=tv),mn.length!=kn.length)return!1;kn=kn.slice();var An={};mn=Dn(mn);for(var Mn=mn.next();!Mn.done;An={Td:An.Td},Mn=mn.next()){if(An.Td=Mn.value,Mn=kn.findIndex(function(Un){return function(Bn){return xn(Un.Td,Bn)}}(An)),Mn==-1)return!1;kn[Mn]=kn[kn.length-1],kn.pop()}return kn.length==0}function Zu(mn,kn,xn){if(xn||(xn=tv),mn.length!=kn.length)return!1;for(var An=0;An<mn.length;An++)if(!xn(mn[An],kn[An]))return!1;return!0}function tl(mn,kn,xn){this.startTime=mn,this.direction=Em,this.endTime=kn,this.payload=xn,this.region=new Jp,this.position=null,this.positionAlign=bl,this.size=0,this.textAlign=Dp,this.writingMode=Yl,this.lineInterpretation=Um,this.line=null,this.lineHeight="",this.lineAlign=Ep,this.displayAlign=Hu,this.fontSize=this.textStrokeWidth=this.textStrokeColor=this.textShadow=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=L_,this.fontStyle=gl,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textDecoration=[],this.wrapLine=!0,this.id="",this.nestedCues=[],this.lineBreak=this.isContainer=!1,this.cellResolution={columns:32,rows:15}}tl.prototype.clone=function(){var mn=new tl(0,0,""),kn;for(kn in this)mn[kn]=this[kn],mn[kn]&&mn[kn].constructor==Array&&(mn[kn]=mn[kn].slice());return mn};function N_(mn,kn){if(mn.startTime!=kn.startTime||mn.endTime!=kn.endTime||mn.payload!=kn.payload)return!1;for(var xn in mn)if(xn!="startTime"&&xn!="endTime"&&xn!="payload"){if(xn=="nestedCues"){if(!Zu(mn.nestedCues,kn.nestedCues,N_))return!1}else if(xn=="region"||xn=="cellResolution"){for(var An in mn[xn])if(mn[xn][An]!=kn[xn][An])return!1}else if(Array.isArray(mn[xn])){if(!Zu(mn[xn],kn[xn]))return!1}else if(mn[xn]!=kn[xn])return!1}return!0}Ys("shaka.text.Cue",tl);var bl="auto";tl.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:bl};var Dp="center",ay={LEFT:"left",RIGHT:"right",CENTER:Dp,START:"start",END:"end"};tl.textAlign=ay;var Hu="after",Ap={BEFORE:"before",CENTER:"center",AFTER:Hu};tl.displayAlign=Ap;var Em="ltr";tl.direction={HORIZONTAL_LEFT_TO_RIGHT:Em,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var Yl="horizontal-tb";tl.writingMode={HORIZONTAL_TOP_TO_BOTTOM:Yl,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var Um=0;tl.lineInterpretation={LINE_NUMBER:Um,PERCENTAGE:1};var Ep="start",Oy={CENTER:"center",START:Ep,END:"end"};tl.lineAlign=Oy;var D_={white:"#FFF",lime:"#0F0",cyan:"#0FF",red:"#F00",yellow:"#FF0",magenta:"#F0F",blue:"#00F",black:"#000"};tl.defaultTextColor=D_;var hm={bg_white:"#FFF",bg_lime:"#0F0",bg_cyan:"#0FF",bg_red:"#F00",bg_yellow:"#FF0",bg_magenta:"#F0F",bg_blue:"#00F",bg_black:"#000"};tl.defaultTextBackgroundColor=hm;var L_=400;tl.fontWeight={NORMAL:L_,BOLD:700};var gl="normal",YE={NORMAL:gl,ITALIC:"italic",OBLIQUE:"oblique"};tl.fontStyle=YE,tl.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"};function Jp(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=ap,this.scroll=Jl}Ys("shaka.text.CueRegion",Jp);var ap=1;Jp.units={PX:0,PERCENTAGE:ap,LINES:2};var Jl="";Jp.scrollMode={NONE:Jl,UP:"up"};function Ou(){}function Ip(mn,kn){if(!mn&&!kn)return!0;if(!mn||!kn||mn.byteLength!=kn.byteLength)return!1;if(My(mn)==My(kn)&&(mn.byteOffset||0)==(kn.byteOffset||0))return!0;var xn=Ku(mn);kn=Ku(kn);for(var An=0;An<mn.byteLength;An++)if(xn[An]!=kn[An])return!1;return!0}function My(mn){return mn instanceof ArrayBuffer?mn:mn.buffer}function fp(mn){return mn instanceof ArrayBuffer?mn:mn.byteOffset==0&&mn.byteLength==mn.buffer.byteLength?mn.buffer:new Uint8Array(mn).buffer}function Ku(mn,kn,xn){return xn=xn===void 0?1/0:xn,jm(mn,kn===void 0?0:kn,xn,Uint8Array)}function Hp(mn,kn,xn){return xn=xn===void 0?1/0:xn,jm(mn,kn===void 0?0:kn,xn,DataView)}function jm(mn,kn,xn,An){var Mn=(mn.byteOffset||0)+mn.byteLength;return kn=Math.max(0,Math.min((mn.byteOffset||0)+kn,Mn)),new An(My(mn),kn,Math.min(kn+Math.max(xn,0),Mn)-kn)}Ys("shaka.util.BufferUtils",Ou),Ou.toDataView=Hp,Ou.toUint8=Ku,Ou.toArrayBuffer=fp,Ou.equal=Ip;function _l(){var mn,kn,xn=new Promise(function(An,Mn){mn=An,kn=Mn});return xn.resolve=mn,xn.reject=kn,xn}_l.prototype.resolve=function(){},_l.prototype.reject=function(){};function Sm(mn){this.h=mn,this.g=void 0}Sm.prototype.value=function(){return this.g==null&&(this.g=this.h()),this.g};function mm(mn){this.h=mn,this.g=null}mm.prototype.R=function(mn){var kn=this;this.stop();var xn=!0,An=null;return this.g=function(){pn.clearTimeout(An),xn=!1},An=pn.setTimeout(function(){xn&&kn.h()},1e3*mn),this},mm.prototype.stop=function(){this.g&&(this.g(),this.g=null)};function Tu(mn){this.h=mn,this.g=null}Tu.prototype.Aa=function(){return this.stop(),this.h(),this},Tu.prototype.R=function(mn){var kn=this;return this.stop(),this.g=new mm(function(){kn.h()}).R(mn),this},Tu.prototype.ha=function(mn){var kn=this;return this.stop(),this.g=new mm(function(){kn.g.R(mn),kn.h()}).R(mn),this},Tu.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},Ys("shaka.util.Timer",Tu),Tu.prototype.stop=Tu.prototype.stop,Tu.prototype.tickEvery=Tu.prototype.ha,Tu.prototype.tickAfter=Tu.prototype.R,Tu.prototype.tickNow=Tu.prototype.Aa;function Sp(){return!!(pn.MediaSource&&MediaSource.isTypeSupported)}function oy(mn){return N$().canPlayType(mn)!=""}function e_(){return!!navigator.userAgent.match(/Edge?\//)}function xv(){return Cl("Xbox One")}function Fm(){return Cl("Tizen")}function XE(){return Cl("Web0S")&&Cl("Chrome/38.0.2125.122 Safari/537.36")}function rv(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!Fm()&&!Cl("PC=EOS")&&!Cl("VirginMedia")&&!t_()&&!Cl("AFT")}function t_(){return Cl("PlayStation 4")}function N0(){if(!rv())return null;var mn=navigator.userAgent.match(/Version\/(\d+)/);return mn||(mn=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(mn[1],10):null}function Cl(mn){return(navigator.userAgent||"").includes(mn)}function N$(){return _h||(D0||(D0=new Tu(function(){_h=null})),(_h=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(_h=document.createElement("video")),D0.R(1),_h)}var D0=null,_h=null;function $m(){}function xl(mn){if(!mn)return"";if(mn=Ku(mn),mn[0]==239&&mn[1]==187&&mn[2]==191&&(mn=mn.subarray(3)),pn.TextDecoder&&!t_())return mn=new TextDecoder().decode(mn),mn.includes("�")&&fl('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),mn;for(var kn="",xn=0;xn<mn.length;++xn){var An=65533;if(mn[xn]&128?mn.length>=xn+2&&(mn[xn]&224)==192&&(mn[xn+1]&192)==128?(An=(mn[xn]&31)<<6|mn[xn+1]&63,xn+=1):mn.length>=xn+3&&(mn[xn]&240)==224&&(mn[xn+1]&192)==128&&(mn[xn+2]&192)==128?(An=(mn[xn]&15)<<12|(mn[xn+1]&63)<<6|mn[xn+2]&63,xn+=2):mn.length>=xn+4&&(mn[xn]&241)==240&&(mn[xn+1]&192)==128&&(mn[xn+2]&192)==128&&(mn[xn+3]&192)==128&&(An=(mn[xn]&7)<<18|(mn[xn+1]&63)<<12|(mn[xn+2]&63)<<6|mn[xn+3]&63,xn+=3):An=mn[xn],65535>=An)kn+=String.fromCharCode(An);else{An-=65536;var Mn=An&1023;kn+=String.fromCharCode(55296+(An>>10)),kn+=String.fromCharCode(56320+Mn)}}return kn}function Ry(mn,kn,xn){if(!mn)return"";if(!xn&&mn.byteLength%2!=0)throw new Hs(2,2,2004);xn=Math.floor(mn.byteLength/2);var An=new Uint16Array(xn);mn=Hp(mn);for(var Mn=0;Mn<xn;Mn++)An[Mn]=mn.getUint16(2*Mn,kn);return QE.value()(An)}function Bm(mn){function kn(An){return xn.byteLength<=An||32<=xn[An]&&126>=xn[An]}if(!mn)return"";var xn=Ku(mn);if(xn[0]==239&&xn[1]==187&&xn[2]==191)return xl(xn);if(xn[0]==254&&xn[1]==255)return Ry(xn.subarray(2),!1);if(xn[0]==255&&xn[1]==254)return Ry(xn.subarray(2),!0);if(xn[0]==0&&xn[2]==0)return Ry(mn,!1);if(xn[1]==0&&xn[3]==0)return Ry(mn,!0);if(kn(0)&&kn(1)&&kn(2)&&kn(3))return xl(mn);throw new Hs(2,2,2003)}function Kp(mn){if(pn.TextEncoder&&!t_()){var kn=new TextEncoder;return fp(kn.encode(mn))}mn=encodeURIComponent(mn),mn=unescape(mn),kn=new Uint8Array(mn.length);for(var xn=0;xn<mn.length;xn++)kn[xn]=mn[xn].charCodeAt(0);return fp(kn)}function r_(mn,kn){for(var xn=new ArrayBuffer(2*mn.length),An=new DataView(xn),Mn=0;Mn<mn.length;++Mn)An.setUint16(2*Mn,mn.charCodeAt(Mn),kn);return xn}Ys("shaka.util.StringUtils",$m),$m.resetFromCharCode=function(){QE.g=void 0},$m.toUTF16=r_,$m.toUTF8=Kp,$m.fromBytesAutoDetect=Bm,$m.fromUTF16=Ry,$m.fromUTF8=xl;var QE=new Sm(function(){function mn(xn){try{var An=new Uint8Array(xn);return 0<String.fromCharCode.apply(null,An).length}catch{return!1}}for(var kn={rb:65536};0<kn.rb;kn={rb:kn.rb},kn.rb/=2)if(mn(kn.rb))return function(xn){return function(An){for(var Mn="",Un=0;Un<An.length;Un+=xn.rb)Mn+=String.fromCharCode.apply(null,An.subarray(Un,Un+xn.rb));return Mn}}(kn);return null});function Tm(){}function ZE(mn){return mn=Ku(mn),mn=QE.value()(mn),btoa(mn)}function Ny(mn,kn){return kn=kn??!0,mn=ZE(mn).replace(/\+/g,"-").replace(/\//g,"_"),kn?mn:mn.replace(/[=]*$/,"")}function Lp(mn){mn=pn.atob(mn.replace(/-/g,"+").replace(/_/g,"/"));for(var kn=new Uint8Array(mn.length),xn=0;xn<mn.length;++xn)kn[xn]=mn.charCodeAt(xn);return kn}function n_(mn){for(var kn=mn.length/2,xn=new Uint8Array(kn),An=0;An<kn;An++)xn[An]=pn.parseInt(mn.substr(2*An,2),16);return xn}function _c(mn){var kn=Ku(mn);mn="",kn=Dn(kn);for(var xn=kn.next();!xn.done;xn=kn.next())xn=xn.value,xn=xn.toString(16),xn.length==1&&(xn="0"+xn),mn+=xn;return mn}function Up(){for(var mn=lu.apply(0,arguments),kn=0,xn=Dn(mn),An=xn.next();!An.done;An=xn.next())kn+=An.value.byteLength;for(kn=new Uint8Array(kn),xn=0,mn=Dn(mn),An=mn.next();!An.done;An=mn.next())An=An.value,kn.set(Ku(An),xn),xn+=An.byteLength;return kn}Ys("shaka.util.Uint8ArrayUtils",Tm),Tm.concat=Up,Tm.toHex=_c,Tm.fromHex=n_,Tm.fromBase64=Lp,Tm.toBase64=Ny,Tm.toStandardBase64=ZE;function wv(){}Ys("shaka.dependencies",wv),wv.has=function(mn){return a_.has(mn)},wv.add=function(mn,kn){if(!i_[mn])throw Error(mn+" is not supported");a_.set(mn,function(){return kn})};var i_={muxjs:"muxjs"};wv.Allowed=i_;var a_=new Map([["muxjs",function(){return pn.muxjs}]]);function ml(mn){var kn=this;this.s=mn,this.m=a_.get("muxjs")(),this.h=this.g=null,this.l=[],this.i=[],this.j=!1,this.m&&(this.g=new this.m.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.g.on("data",function(xn){kn.i=xn.captions,kn.l.push(Up(xn.initSegment,xn.data))}),this.g.on("done",function(){var xn={data:Up.apply(Tm,Kn(kn.l)),captions:kn.i};kn.h.resolve(xn),kn.j=!1}))}ml.prototype.destroy=function(){return this.g&&this.g.dispose(),this.g=null,Promise.resolve()};function km(mn,kn){var xn=L0(mn),An=mn.toLowerCase().split(";")[0]=="audio/aac";return!a_.get("muxjs")()||!xn&&!An?!1:An?dp('audio/mp4; codecs="mp4a.40.2"'):kn?dp(Cv(kn,mn)):(kn=Cv("audio",mn),mn=Cv("video",mn),dp(kn)||dp(mn))}function L0(mn){return mn.toLowerCase().split(";")[0].split("/")[1]=="mp2t"}function U0(mn,kn){return kn.toLowerCase().split(";")[0]=="audio/aac"?'audio/mp4; codecs="mp4a.40.2"':L0(kn)?Cv(mn,kn):kn}function Cv(mn,kn){if(kn=kn.replace(/mp2t/i,"mp4"),mn=="audio"&&(kn=kn.replace("video","audio")),mn=/avc1\.(66|77|100)\.(\d+)/.exec(kn)){var xn="avc1.",An=mn[1],Mn=Number(mn[2]);xn=(An=="66"?xn+"4200":An=="77"?xn+"4d00":xn+"6400")+(Mn>>4).toString(16),xn+=(Mn&15).toString(16),kn=kn.replace(mn[0],xn)}return kn}function D$(mn,kn){return mn.j=!0,mn.h=new _l,mn.l=[],mn.i=[],kn=Ku(kn),mn.g.push(kn),mn.g.flush(),mn.j&&mn.h.reject(new Hs(2,3,3018)),mn.h}function sy(){}function Vm(mn,kn){return kn&&(mn+='; codecs="'+kn+'"'),mn}function su(mn,kn,xn){return kn=Vm(mn,kn),km(kn,xn)?U0(xn,kn):mn!="video/mp2t"&&xn=="audio"?kn.replace("video","audio"):kn}function _i(mn){var kn=Ks(mn);switch(mn=kn[0],kn=kn[1].toLowerCase(),!0){case(mn==="mp4a"&&kn==="69"):case(mn==="mp4a"&&kn==="6b"):return"mp3";case(mn==="mp4a"&&kn==="66"):case(mn==="mp4a"&&kn==="67"):case(mn==="mp4a"&&kn==="68"):case(mn==="mp4a"&&kn==="40.2"):case(mn==="mp4a"&&kn==="40.02"):case(mn==="mp4a"&&kn==="40.5"):case(mn==="mp4a"&&kn==="40.05"):case(mn==="mp4a"&&kn==="40.29"):case(mn==="mp4a"&&kn==="40.42"):return"aac";case(mn==="mp4a"&&kn==="a5"):return"ac-3";case(mn==="mp4a"&&kn==="a6"):return"ec-3";case(mn==="mp4a"&&kn==="b2"):return"dtsx";case(mn==="mp4a"&&kn==="a9"):return"dtsc";case mn==="avc1":case mn==="avc3":return"avc";case mn==="hvc1":case mn==="hev1":return"hevc";case mn==="dvh1":case mn==="dvhe":return"dovi"}return mn}function As(mn){return mn=mn.split(/ *; */),mn.shift(),(mn=mn.find(function(kn){return kn.startsWith("codecs=")}))?mn.split("=")[1].replace(/^"|"$/g,""):""}function Ks(mn){mn=mn.split(".");var kn=mn[0];return mn.shift(),[kn,mn.join(".")]}Ys("shaka.util.MimeUtils",sy),sy.getFullType=Vm,new Map().set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");function Us(mn){this.i=null,this.j=mn,this.C=!1,this.l=this.B=0,this.m=1/0,this.h=this.g=null,this.F="",this.s=new Map}function ks(mn){return!!(Ul[mn]||mn=="application/cea-608"||mn=="application/cea-708")}Us.prototype.destroy=function(){return this.j=this.i=null,this.s.clear(),Promise.resolve()};function mu(mn,kn,xn,An){var Mn,Un,Bn,zn;return hs(function(Wn){if(Wn.g==1)return Qn(Wn,Promise.resolve(),2);if(!mn.i||!mn.j)return Wn.return();if(xn==null||An==null)return mn.i.parseInit(Ku(kn)),Wn.return();Mn=mn.C?xn:mn.B,Un={periodStart:mn.B,segmentStart:xn,segmentEnd:An,vttOffset:Mn},Bn=mn.i.parseMedia(Ku(kn),Un),zn=Bn.filter(function(ts){return ts.startTime>=mn.l&&ts.startTime<mn.m}),mn.j.append(zn),mn.g==null&&(mn.g=Math.max(xn,mn.l)),mn.h=Math.min(An,mn.m),ms(Wn)})}Us.prototype.remove=function(mn,kn){var xn=this;return hs(function(An){if(An.g==1)return Qn(An,Promise.resolve(),2);!xn.j||!xn.j.remove(mn,kn)||xn.g==null||kn<=xn.g||mn>=xn.h||(mn<=xn.g&&kn>=xn.h?xn.g=xn.h=null:mn<=xn.g&&kn<xn.h?xn.g=kn:mn>xn.g&&kn>=xn.h&&(xn.h=mn)),ms(An)})};function uu(mn,kn,xn){mn.l=kn,mn.m=xn}function fu(mn,kn,xn){if(mn.F=kn,kn=mn.s.get(kn))for(var An=Dn(kn.keys()),Mn=An.next();!Mn.done;Mn=An.next())(Mn=kn.get(Mn.value).filter(function(Un){return Un.endTime<=xn}))&&mn.j.append(Mn)}function El(mn){var kn=[];mn=Dn(mn);for(var xn=mn.next();!xn.done;xn=mn.next())xn=xn.value,kn.push({stream:xn.stream,cue:new tl(xn.startTime,xn.endTime,xn.text)});return kn}function Cu(mn,kn,xn){kn.startTime+=xn,kn.endTime+=xn,kn=Dn(kn.nestedCues);for(var An=kn.next();!An.done;An=kn.next())Cu(mn,An.value,xn)}function jp(mn,kn,xn,An,Mn){var Un=xn+" "+An,Bn=new Map;kn=Dn(kn);for(var zn=kn.next();!zn.done;zn=kn.next()){var Wn=zn.value;zn=Wn.stream,Wn=Wn.cue,Bn.has(zn)||Bn.set(zn,new Map),Bn.get(zn).has(Un)||Bn.get(zn).set(Un,[]),Cu(mn,Wn,Mn),Wn.startTime>=mn.l&&Wn.startTime<mn.m&&(Bn.get(zn).get(Un).push(Wn),zn==mn.F&&mn.j.append([Wn]))}for(Mn=Dn(Bn.keys()),Un=Mn.next();!Un.done;Un=Mn.next())for(Un=Un.value,mn.s.has(Un)||mn.s.set(Un,new Map),kn=Dn(Bn.get(Un).keys()),zn=kn.next();!zn.done;zn=kn.next())zn=zn.value,Wn=Bn.get(Un).get(zn),mn.s.get(Un).set(zn,Wn);mn.g=mn.g==null?Math.max(xn,mn.l):Math.min(mn.g,Math.max(xn,mn.l)),mn.h=Math.max(mn.h,Math.min(An,mn.m))}Ys("shaka.text.TextEngine",Us),Us.prototype.destroy=Us.prototype.destroy,Us.findParser=function(mn){return Ul[mn]},Us.unregisterParser=function(mn){delete Ul[mn]},Us.registerParser=function(mn,kn){Ul[mn]=kn};var Ul={};function Bl(mn,kn,xn,An,Mn){var Un=mn.variants;(kn.length||xn.length)&&(Un=U_(Un,kn,xn)),Un=TA(Un,An),kn=Dy(Un),kn=Ly(kn);var Bn=mM(kn,Mn);mn.variants=mn.variants.filter(function(zn){return Kk(zn)==Bn})}function Dy(mn){var kn=new Fu;mn=Dn(mn);for(var xn=mn.next();!xn.done;xn=mn.next()){xn=xn.value;var An=Kk(xn);kn.push(An,xn)}return kn}function Ly(mn){var kn=0,xn=new Map,An=mn.size();return mn.forEach(function(Mn,Un){Un=Dn(Un);for(var Bn=Un.next();!Bn.done;Bn=Un.next()){Bn=Bn.value;var zn=Bn.video;if(zn&&zn.width&&zn.height){zn=zn.width*zn.height*(zn.frameRate||1),xn.has(zn)||xn.set(zn,new Fu);var Wn=xn.get(zn);Wn.push(Mn,Bn),Wn.size()===An&&(kn=Math.max(kn,zn))}}}),kn?xn.get(kn):mn}function U_(mn,kn,xn){var An={};kn=Dn(kn);for(var Mn=kn.next();!Mn.done;An={ee:An.ee},Mn=kn.next())if(An.ee=Mn.value,Mn=mn.filter(function(Un){return function(Bn){return Bn.video&&Bn.video.codecs.startsWith(Un.ee)}}(An)),Mn.length){mn=Mn;break}for(An={},xn=Dn(xn),kn=xn.next();!kn.done;An={Qd:An.Qd},kn=xn.next())if(An.Qd=kn.value,kn=mn.filter(function(Un){return function(Bn){return Bn.audio&&Bn.audio.codecs.startsWith(Un.Qd)}}(An)),kn.length){mn=kn;break}return mn}function mM(mn,kn){kn=Dn(kn);for(var xn=kn.next();!xn.done;xn=kn.next())if(xn=xn.value,xn==F$||xn==tx){if(mn=gM(mn,xn),mn.size()==1)return mn.keys()[0]}else if(xn==wA)break;return yM(mn)}function gM(mn,kn){var xn=0,An=new Fu;return mn.forEach(function(Mn,Un){for(var Bn=0,zn=0,Wn=Dn(Un),ts=Wn.next();!ts.done;ts=Wn.next())ts=ts.value,ts.decodingInfos.length&&(Bn+=ts.decodingInfos[0][kn]?1:0,zn++);Bn/=zn,Bn>xn?(An.g={},An.push(Mn,Un),xn=Bn):Bn==xn&&An.push(Mn,Un)}),An}function yM(mn){var kn="",xn=1/0;return mn.forEach(function(An,Mn){var Un=0,Bn=0;Mn=Dn(Mn);for(var zn=Mn.next();!zn.done;zn=Mn.next())Un+=zn.value.bandwidth||0,++Bn;Un/=Bn,Un<xn&&(kn=An,xn=Un)}),kn}function Kk(mn){var kn="";mn.video&&(kn=_i(mn.video.codecs));var xn="";return mn.audio&&(xn=_i(mn.audio.codecs)),kn+"-"+xn}function j_(mn,kn,xn){mn.variants=mn.variants.filter(function(An){return j0(An,kn,xn)})}function j0(mn,kn,xn){function An(Un,Bn,zn){return Un>=Bn&&Un<=zn}var Mn=mn.video;if(mn.disabledUntilTime!=0){if(mn.disabledUntilTime>Date.now()/1e3)return!1;mn.disabledUntilTime=0}return!(Mn&&Mn.width&&Mn.height&&(!An(Mn.width,kn.minWidth,Math.min(kn.maxWidth,xn.width))||!An(Mn.height,kn.minHeight,Math.min(kn.maxHeight,xn.height))||!An(Mn.width*Mn.height,kn.minPixels,kn.maxPixels))||mn&&mn.video&&mn.video.frameRate&&!An(mn.video.frameRate,kn.minFrameRate,kn.maxFrameRate)||!An(mn.bandwidth,kn.minBandwidth,kn.maxBandwidth))}function JE(mn,kn,xn){var An=!1;mn=Dn(mn);for(var Mn=mn.next();!Mn.done;Mn=mn.next()){Mn=Mn.value;var Un=Mn.allowedByApplication;Mn.allowedByApplication=j0(Mn,kn,xn),Un!=Mn.allowedByApplication&&(An=!0)}return An}function Wk(mn,kn){return hs(function(xn){return xn.g==1?Qn(xn,Yk(kn,0<kn.offlineSessionIds.length),2):(Xk(mn,kn),Qk(kn),Qn(xn,EA(kn),0))})}function Yk(mn,kn){return hs(function(xn){if(xn.g==1)return Qn(xn,eS(mn.variants,kn,!1),2);mn.variants=mn.variants.filter(function(An){var Mn=An.video;if(Mn){var Un=L$(Mn.codecs);if(Mn.codecs.includes(",")){var Bn=Mn.codecs.split(",");Un=Lm("video",Bn),Un=L$(Un),Bn=Lm("audio",Bn),Bn=F_(Bn);var zn=su(Mn.mimeType,Bn,"audio");if(!dp(zn))return!1;Un=[Un,Bn].join()}if(Bn=su(Mn.mimeType,Un,"video"),!dp(Bn))return!1;Mn.codecs=Un}if(Un=An.audio){if(Bn=F_(Un.codecs),zn=su(Un.mimeType,Bn,"audio"),!dp(zn))return!1;Un.codecs=Bn}return xv()&&Mn&&(Mn.width&&1920<Mn.width||Mn.height&&1080<Mn.height)&&(Mn.codecs.includes("avc1.")||Mn.codecs.includes("avc3."))?(kA(An),!1):((Mn=An.decodingInfos.some(function(Wn){return Wn.supported}))||(kA(An),void 0),Mn)}),ms(xn)})}function eS(mn,kn,xn){var An,Mn,Un,Bn,zn,Wn,ts,os,ds,ls;return hs(function(ys){if(mn.some(function(Cs){return Cs.decodingInfos.length}))return ys.return();for(An=navigator.mediaCapabilities,Mn=[],Un=function(Cs,Ns){var Os;return hs(function(Ps){if(Ps.g==1)return $s(Ps,2),Qn(Ps,An.decodingInfo(Ns),4);if(Ps.g!=2)return Os=Ps.h,Cs.decodingInfos.push(Os),gs(Ps,0);Ss(Ps),JSON.stringify(Ns),ms(Ps)})},Bn=Dn(mn),zn=Bn.next();!zn.done;zn=Bn.next())for(Wn=zn.value,ts=_A(Wn,kn,xn),os=Dn(ts),ds=os.next();!ds.done;ds=os.next())ls=ds.value,Mn.push(Un(Wn,ls));return Qn(ys,Promise.all(Mn),0)})}function _A(mn,kn,xn){var An=mn.audio,Mn=mn.video;if(xn={type:xn?"file":"media-source"},Mn){var Un=Mn.codecs;if(Mn.codecs.includes(",")){var Bn=Mn.codecs.split(",");Un=Lm("video",Bn),Un=L$(Un),Bn=Lm("audio",Bn),Bn=su(Mn.mimeType,Bn,"audio"),xn.audio={contentType:Bn,channels:2,bitrate:mn.bandwidth||1,samplerate:1,spatialRendering:!1}}if(Un=L$(Un),Un=su(Mn.mimeType,Un,"video"),xn.video={contentType:Un,width:Mn.width||64,height:Mn.height||64,bitrate:Mn.bandwidth||mn.bandwidth||1,framerate:Mn.frameRate||1},Mn.hdr)switch(Mn.hdr){case"SDR":xn.video.transferFunction="srgb";break;case"PQ":xn.video.transferFunction="pq";break;case"HLG":xn.video.transferFunction="hlg"}}if(An&&(Un=F_(An.codecs),Un=su(An.mimeType,Un,"audio"),xn.audio={contentType:Un,channels:An.channelsCount||2,bitrate:An.bandwidth||mn.bandwidth||1,samplerate:An.audioSamplingRate||1,spatialRendering:An.spatialAudio}),Bn=(mn.video?mn.video.drmInfos:[]).concat(mn.audio?mn.audio.drmInfos:[]),!Bn.length)return[xn];mn=[],Un=new Map,Bn=Dn(Bn);for(var zn=Bn.next();!zn.done;zn=Bn.next()){var Wn=zn.value;Un.get(Wn.keySystem)||Un.set(Wn.keySystem,[]),Un.get(Wn.keySystem).push(Wn)}Bn=kn?"required":"optional",kn=kn?["persistent-license"]:["temporary"],Wn=Dn(Un.keys());for(var ts=Wn.next();!ts.done;ts=Wn.next()){var os=ts.value;ts=Object.assign({},xn);var ds=Un.get(os);for(os={keySystem:os,initDataType:"cenc",persistentState:Bn,distinctiveIdentifier:"optional",sessionTypes:kn},ds=Dn(ds),zn=ds.next();!zn.done;zn=ds.next()){if(zn=zn.value,zn.initData&&zn.initData.length){for(var ls=new Set,ys=Dn(zn.initData),Cs=ys.next();!Cs.done;Cs=ys.next())ls.add(Cs.value.initDataType);os.initDataType=zn.initData[0].initDataType}zn.distinctiveIdentifierRequired&&(os.distinctiveIdentifier="required"),zn.persistentStateRequired&&(os.persistentState="required"),zn.sessionType&&(os.sessionTypes=[zn.sessionType]),An&&(zn.audioRobustness!=""?os.audio?os.audio.robustness=os.audio.robustness||zn.audioRobustness:os.audio={robustness:zn.audioRobustness}:os.audio||(os.audio={})),Mn&&(zn.videoRobustness!=""?os.video?os.video.robustness=os.video.robustness||zn.videoRobustness:os.video={robustness:zn.videoRobustness}:os.video||(os.video={}))}ts.keySystemConfiguration=os,mn.push(ts)}return mn}function F_(mn){return Fm()&&mn.toLowerCase()=="ac-3"?"ec-3":mn}function L$(mn){if(mn.includes("avc1")){var kn=mn.split(".");if(kn.length==3)return mn=kn.shift()+".",mn+=parseInt(kn.shift(),10).toString(16),mn+=("000"+parseInt(kn.shift(),10).toString(16)).slice(-4)}else if(mn=="vp9")return"vp09.00.41.08";return mn}function Xk(mn,kn){kn.variants=kn.variants.filter(function(xn){var An=xn.audio;return xn=xn.video,!(An&&mn&&mn.audio&&!Zk(An,mn.audio)||xn&&mn&&mn.video&&!Zk(xn,mn.video))})}function Qk(mn){mn.textStreams=mn.textStreams.filter(function(kn){return ks(Vm(kn.mimeType,kn.codecs))})}function EA(mn){var kn,xn,An,Mn,Un,Bn,zn;return hs(function(Wn){switch(Wn.g){case 1:kn=[],xn=Dn(mn.imageStreams),An=xn.next();case 2:if(An.done){Wn.D(4);break}if(Mn=An.value,Un=Mn.mimeType,nS.has(Un)){Wn.D(5);break}if(Bn=CA.get(Un),!Bn){nS.set(Un,!1),Wn.D(5);break}return Qn(Wn,SA(Bn),7);case 7:zn=Wn.h,nS.set(Un,zn);case 5:nS.get(Un)&&kn.push(Mn),An=xn.next(),Wn.D(2);break;case 4:mn.imageStreams=kn,ms(Wn)}})}function SA(mn){return new Promise(function(kn){var xn=new Image;xn.src=mn,"decode"in xn?xn.decode().then(function(){kn(!0)}).catch(function(){kn(!1)}):xn.onload=xn.onerror=function(){kn(xn.height===2)}})}function Zk(mn,kn){return!(mn.mimeType!=kn.mimeType||mn.codecs.split(".")[0]!=kn.codecs.split(".")[0])}function B_(mn){var kn=mn.audio,xn=mn.video,An=kn?kn.mimeType:null,Mn=xn?xn.mimeType:null,Un=kn?kn.codecs:null,Bn=xn?xn.codecs:null,zn=[];Bn&&zn.push(Bn),Un&&zn.push(Un);var Wn=[];xn&&Wn.push(xn.mimeType),kn&&Wn.push(kn.mimeType),Wn=Wn[0]||null;var ts=[];kn&&ts.push(kn.kind),xn&&ts.push(xn.kind),ts=ts[0]||null;var os=new Set;if(kn)for(var ds=Dn(kn.roles),ls=ds.next();!ls.done;ls=ds.next())os.add(ls.value);if(xn)for(ds=Dn(xn.roles),ls=ds.next();!ls.done;ls=ds.next())os.add(ls.value);return mn={id:mn.id,active:!1,type:"variant",bandwidth:mn.bandwidth,language:mn.language,label:null,kind:ts,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:Wn,audioMimeType:An,videoMimeType:Mn,codecs:zn.join(", "),audioCodec:Un,videoCodec:Bn,primary:mn.primary,roles:Array.from(os),audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null},xn&&(mn.videoId=xn.id,mn.originalVideoId=xn.originalId,mn.width=xn.width||null,mn.height=xn.height||null,mn.frameRate=xn.frameRate||null,mn.pixelAspectRatio=xn.pixelAspectRatio||null,mn.videoBandwidth=xn.bandwidth||null),kn&&(mn.audioId=kn.id,mn.originalAudioId=kn.originalId,mn.channelsCount=kn.channelsCount,mn.audioSamplingRate=kn.audioSamplingRate,mn.audioBandwidth=kn.bandwidth||null,mn.spatialAudio=kn.spatialAudio,mn.label=kn.label,mn.audioRoles=kn.roles),mn}function U$(mn){return{id:mn.id,active:!1,type:Vu,bandwidth:0,language:mn.language,label:mn.label,kind:mn.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:mn.mimeType,audioMimeType:null,videoMimeType:null,codecs:mn.codecs||null,audioCodec:null,videoCodec:null,primary:mn.primary,roles:mn.roles,audioRoles:null,forced:mn.forced,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:mn.originalId,originalImageId:null}}function Jk(mn){var kn=mn.width||null,xn=mn.height||null,An=null;mn.segmentIndex&&(An=mn.segmentIndex.get(0));var Mn=mn.tilesLayout;return An&&(Mn=An.tilesLayout||Mn),Mn&&kn!=null&&(kn/=Number(Mn.split("x")[0])),Mn&&xn!=null&&(xn/=Number(Mn.split("x")[1])),{id:mn.id,active:!1,type:"image",bandwidth:mn.bandwidth||0,language:"",label:null,kind:null,width:kn,height:xn,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:mn.mimeType,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:Mn||null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:mn.originalId}}function _b(mn){return mn.__shaka_id||(mn.__shaka_id=xA++),mn.__shaka_id}function tS(mn){var kn=ql(mn);return kn.active=mn.mode!="disabled",kn.type="text",kn.originalTextId=mn.id,mn.kind=="captions"&&(kn.mimeType="application/cea-608"),mn.kind&&(kn.roles=[mn.kind]),mn.kind=="forced"&&(kn.forced=!0),kn}function j$(mn){var kn=ql(mn);return kn.active=mn.enabled,kn.type="variant",kn.originalAudioId=mn.id,mn.kind=="main"&&(kn.primary=!0),mn.kind&&(kn.roles=[mn.kind],kn.audioRoles=[mn.kind],kn.label=mn.label),kn}function ql(mn){return{id:_b(mn),active:!1,type:"",bandwidth:0,language:ol(mn.language),label:mn.label,kind:mn.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:null,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null}}function V_(mn){return mn.allowedByApplication&&mn.allowedByKeySystem}function $A(mn){return mn.filter(function(kn){return V_(kn)})}function TA(mn,kn){var xn=mn.filter(function(Bn){return Bn.audio&&Bn.audio.channelsCount}),An=new Map;xn=Dn(xn);for(var Mn=xn.next();!Mn.done;Mn=xn.next()){Mn=Mn.value;var Un=Mn.audio.channelsCount;An.has(Un)||An.set(Un,[]),An.get(Un).push(Mn)}return xn=Array.from(An.keys()),xn.length==0?mn:(mn=xn.filter(function(Bn){return Bn<=kn}),mn.length?An.get(Math.max.apply(Math,Kn(mn))):An.get(Math.min.apply(Math,Kn(xn))))}function rS(mn,kn,xn,An){var Mn=mn,Un=mn.filter(function(Wn){return Wn.primary});Un.length&&(Mn=Un);var Bn=Mn.length?Mn[0].language:"";if(Mn=Mn.filter(function(Wn){return Wn.language==Bn}),kn){var zn=R0(ol(kn),mn.map(function(Wn){return Wn.language}));zn&&(Mn=mn.filter(function(Wn){return ol(Wn.language)==zn}))}if(Mn=Mn.filter(function(Wn){return Wn.forced==An}),xn){if(mn=ex(Mn,xn),mn.length)return mn}else if(mn=Mn.filter(function(Wn){return Wn.roles.length==0}),mn.length)return mn;return mn=Mn.map(function(Wn){return Wn.roles}).reduce(O0,[]),mn.length?ex(Mn,mn[0]):Mn}function ex(mn,kn){return mn.filter(function(xn){return xn.roles.includes(kn)})}function kA(mn){var kn=[];return mn.audio&&kn.push(bA(mn.audio)),mn.video&&kn.push(bA(mn.video)),kn.join(", ")}function bA(mn){return mn.type=="audio"?"type=audio codecs="+mn.codecs+" bandwidth="+mn.bandwidth+" channelsCount="+mn.channelsCount+" audioSamplingRate="+mn.audioSamplingRate:mn.type=="video"?"type=video codecs="+mn.codecs+" bandwidth="+mn.bandwidth+" frameRate="+mn.frameRate+" width="+mn.width+" height="+mn.height:"unexpected stream type"}var xA=0,F$="smooth",tx="powerEfficient",wA="bandwidth",nS=new Map().set("image/svg+xml",!0).set("image/png",!0).set("image/jpeg",!0).set("image/jpg",!0),CA=new Map().set("image/webp","data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA").set("image/avif","data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");function Pl(){var mn=this;this.m=null,this.l=!1,this.i=new R_,navigator.connection&&navigator.connection.addEventListener&&(this.C=function(){if(mn.g.useNetworkInformation&&mn.l){mn.i=new R_,mn.g&&mn.i.configure(mn.g.advanced);var kn=mn.chooseVariant();kn&&mn.m(kn)}},navigator.connection.addEventListener("change",this.C)),this.s=[],this.F=1,this.H=!1,this.C=this.h=this.j=this.g=this.B=null,this.G=new Tu(function(){if(mn.g.restrictToElementSize){var kn=mn.chooseVariant();kn&&mn.m(kn)}})}En=Pl.prototype,En.stop=function(){this.m=null,this.l=!1,this.s=[],this.F=1,this.j=this.B=null,this.h&&(this.h.disconnect(),this.h=null),this.G.stop()},En.release=function(){navigator.connection&&navigator.connection.removeEventListener&&(navigator.connection.removeEventListener("change",this.C),this.C=null),this.G=null},En.init=function(mn){this.m=mn},En.chooseVariant=function(){var mn=1/0,kn=1/0;this.g.restrictToScreenSize&&(kn=this.g.ignoreDevicePixelRatio?1:pn.devicePixelRatio,mn=pn.screen.height*kn,kn*=pn.screen.width),this.h&&this.g.restrictToElementSize&&(kn=this.g.ignoreDevicePixelRatio?1:pn.devicePixelRatio,mn=this.j.clientWidth*kn,kn*=this.j.clientHeight),mn=AA(this.g.restrictions,this.s,mn,kn),kn=this.i.getBandwidthEstimate(rx(this)),this.s.length&&!mn.length&&(mn=AA(null,this.s,1/0,1/0),mn=[mn[0]]);for(var xn=mn[0]||null,An=0;An<mn.length;An++){for(var Mn=mn[An],Un=isNaN(this.F)?1:Math.abs(this.F),Bn=Un*Mn.bandwidth/this.g.bandwidthDowngradeTarget,zn={bandwidth:1/0},Wn=An+1;Wn<mn.length;Wn++)if(Mn.bandwidth!=mn[Wn].bandwidth){zn=mn[Wn];break}Un=Un*zn.bandwidth/this.g.bandwidthUpgradeTarget,kn>=Bn&&kn<=Un&&xn.bandwidth!=Mn.bandwidth&&(xn=Mn)}return this.B=Date.now(),xn},En.enable=function(){this.l=!0},En.disable=function(){this.l=!1},En.segmentDownloaded=function(mn,kn){if(this.i.sample(mn,kn),this.B!=null&&this.l)e:{if(this.H){if(Date.now()-this.B<1e3*this.g.switchInterval)break e}else{if(mn=this.i,!(mn.g>=mn.i))break e;this.H=!0}mn=this.chooseVariant(),this.i.getBandwidthEstimate(rx(this)),mn&&this.m(mn)}},En.getBandwidthEstimate=function(){return this.i.getBandwidthEstimate(rx(this))},En.setVariants=function(mn){this.s=mn},En.playbackRateChanged=function(mn){this.F=mn},En.setMediaElement=function(mn){var kn=this;this.j=mn,this.h&&(this.h.disconnect(),this.h=null),this.j&&"ResizeObserver"in pn&&(this.h=new ResizeObserver(function(){kn.G.R(vM)}),this.h.observe(this.j))},En.configure=function(mn){this.g=mn,this.i&&this.g&&this.i.configure(this.g.advanced)};function rx(mn){var kn=mn.g.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&mn.g.useNetworkInformation&&(kn=1e6*navigator.connection.downlink),kn}function AA(mn,kn,xn,An){return mn&&(kn=kn.filter(function(Mn){return j0(Mn,mn,{width:An,height:xn})})),kn.sort(function(Mn,Un){return Mn.bandwidth-Un.bandwidth})}Ys("shaka.abr.SimpleAbrManager",Pl),Pl.prototype.configure=Pl.prototype.configure,Pl.prototype.setMediaElement=Pl.prototype.setMediaElement,Pl.prototype.playbackRateChanged=Pl.prototype.playbackRateChanged,Pl.prototype.setVariants=Pl.prototype.setVariants,Pl.prototype.getBandwidthEstimate=Pl.prototype.getBandwidthEstimate,Pl.prototype.segmentDownloaded=Pl.prototype.segmentDownloaded,Pl.prototype.disable=Pl.prototype.disable,Pl.prototype.enable=Pl.prototype.enable,Pl.prototype.chooseVariant=Pl.prototype.chooseVariant,Pl.prototype.init=Pl.prototype.init,Pl.prototype.release=Pl.prototype.release,Pl.prototype.stop=Pl.prototype.stop;var vM=1;function nx(mn,kn){this.g=mn,this.h=kn}nx.prototype.toString=function(){return"v"+this.g+"."+this.h};function ix(mn,kn){var xn=new nx(5,0),An=ax,Mn=An.g,Un=xn.h-Mn.h;(0<(xn.g-Mn.g||Un)?An.i:An.h)(An.g,xn,mn,kn)}function F0(mn,kn,xn,An){$u([xn,"has been deprecated and will be removed in",kn,". We are currently at version",mn,". Additional information:",An].join(" "))}function B$(mn,kn,xn,An){fl([xn,"has been deprecated and has been removed in",kn,". We are now at version",mn,". Additional information:",An].join(""))}var ax=null;Ys("shaka.config.AutoShowText",{NEVER:0,ALWAYS:1,IF_PREFERRED_TEXT_LANGUAGE:2,IF_SUBTITLES_MAY_BE_NEEDED:3});function iS(mn,kn){for(this.h=mn,this.g=new Set([mn]),kn=kn||[],mn=Dn(kn),kn=mn.next();!kn.done;kn=mn.next())this.add(kn.value)}iS.prototype.add=function(mn){return o_(this.h,mn)?(this.g.add(mn),!0):!1};function o_(mn,kn){var xn;if(!(xn=!!mn.audio!=!!kn.audio||!!mn.video!=!!kn.video||mn.language!=kn.language)&&(xn=mn.audio&&kn.audio)){xn=mn.audio;var An=kn.audio;xn=!((!(!xn.channelsCount||!An.channelsCount||2<xn.channelsCount||2<An.channelsCount)||xn.channelsCount==An.channelsCount)&&Vl(xn,An)&&s_(xn.roles,An.roles))}return!xn&&(xn=mn.video&&kn.video)&&(mn=mn.video,kn=kn.video,xn=!(Vl(mn,kn)&&s_(mn.roles,kn.roles))),!xn}iS.prototype.values=function(){return this.g.values()};function Vl(mn,kn){if(mn.mimeType!=kn.mimeType||(mn=mn.codecs.split(",").map(function(An){return Ks(An)[0]}),kn=kn.codecs.split(",").map(function(An){return Ks(An)[0]}),mn.length!=kn.length))return!1;mn.sort(),kn.sort();for(var xn=0;xn<mn.length;xn++)if(mn[xn]!=kn[xn])return!1;return!0}function s_(mn,kn){if(mn=new Set(mn),kn=new Set(kn),mn.delete("main"),kn.delete("main"),mn.size!=kn.size)return!1;mn=Dn(mn);for(var xn=mn.next();!xn.done;xn=mn.next())if(!kn.has(xn.value))return!1;return!0}function V$(mn){this.g=mn,this.h=new Uy(mn.language,"",mn.audio&&mn.audio.channelsCount?mn.audio.channelsCount:0,"")}V$.prototype.create=function(mn){var kn=this,xn=mn.filter(function(An){return o_(kn.g,An)});return xn.length?new iS(xn[0],xn):this.h.create(mn)};function Uy(mn,kn,xn,An){this.i=mn,this.j=kn,this.g=xn,this.h=An===void 0?"":An}Uy.prototype.create=function(mn){var kn=[];kn=nv(mn,this.i);var xn=mn.filter(function(An){return An.primary});for(kn=kn.length?kn:xn.length?xn:mn,mn=IA(kn,this.j),mn.length&&(kn=mn),this.g&&(mn=TA(kn,this.g),mn.length&&(kn=mn)),this.h&&(mn=_M(kn,this.h),mn.length&&(kn=mn)),mn=new iS(kn[0]),kn=Dn(kn),xn=kn.next();!xn.done;xn=kn.next())xn=xn.value,o_(mn.h,xn)&&mn.add(xn);return mn};function nv(mn,kn){kn=ol(kn);var xn=R0(kn,mn.map(function(An){return kv(An)}));return xn?mn.filter(function(An){return xn==kv(An)}):[]}function IA(mn,kn){return mn.filter(function(xn){return xn.audio?kn?xn.audio.roles.includes(kn):xn.audio.roles.length==0:!1})}function _M(mn,kn){return mn.filter(function(xn){return xn.audio?xn.audio.label.toLowerCase()==kn.toLowerCase():!1})}function Ju(){this.g=hl,this.h=new Map().set(hl,2).set(Av,1)}function ox(mn,kn,xn){mn.h.set(hl,xn).set(Av,kn)}var Av=0,hl=1;function G_(mn,kn){var xn=Iv();this.l=mn.maxAttempts==null?xn.maxAttempts:mn.maxAttempts,this.j=mn.baseDelay==null?xn.baseDelay:mn.baseDelay,this.s=mn.fuzzFactor==null?xn.fuzzFactor:mn.fuzzFactor,this.m=mn.backoffFactor==null?xn.backoffFactor:mn.backoffFactor,this.g=0,this.h=this.j,(this.i=kn===void 0?!1:kn)&&(this.g=1)}function sx(mn){var kn,xn;return hs(function(An){if(An.g==1){if(mn.g>=mn.l)if(mn.i)mn.g=1,mn.h=mn.j;else throw new Hs(2,7,1010);return kn=mn.g,mn.g++,kn==0?An.return():(xn=mn.h*(1+(2*Math.random()-1)*mn.s),Qn(An,new Promise(function(Mn){new Tu(Mn).R(xn/1e3)}),2))}mn.h*=mn.m,ms(An)})}function Iv(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}}function Al(mn,kn){this.promise=mn,this.i=kn,this.g=!1}function Sl(mn){return new Al(Promise.reject(mn),function(){return Promise.resolve()})}function jy(){var mn=Promise.reject(new Hs(2,7,7001));return mn.catch(function(){}),new Al(mn,function(){return Promise.resolve()})}function tm(mn){return new Al(Promise.resolve(mn),function(){return Promise.resolve()})}function iv(mn){return new Al(mn,function(){return mn.catch(function(){})})}Al.prototype.abort=function(){return this.g=!0,this.i()};function ux(mn){return new Al(Promise.all(mn.map(function(kn){return kn.promise})),function(){return Promise.all(mn.map(function(kn){return kn.abort()}))})}Al.prototype.finally=function(mn){return this.promise.then(function(){return mn(!0)},function(){return mn(!1)}),this},Al.prototype.ia=function(mn,kn){function xn(zn){return function(Wn){if(Mn.g&&zn)Un.reject(Bn);else{var ts=zn?mn:kn;ts?An=EM(ts,Wn,Un):(zn?Un.resolve:Un.reject)(Wn)}}}function An(){return Un.reject(Bn),Mn.abort()}var Mn=this,Un=new _l,Bn=new Hs(2,7,7001);return this.promise.then(xn(!0),xn(!1)),new Al(Un,function(){return An()})};function EM(mn,kn,xn){try{var An=mn(kn);return An&&An.promise&&An.abort?(xn.resolve(An.promise),function(){return An.abort()}):(xn.resolve(An),function(){return Promise.resolve(An).then(function(){},function(){})})}catch(Mn){return xn.reject(Mn),function(){return Promise.resolve()}}}Ys("shaka.util.AbortableOperation",Al),Al.prototype.chain=Al.prototype.ia,Al.prototype.finally=Al.prototype.finally,Al.all=ux,Al.prototype.abort=Al.prototype.abort,Al.notAbortable=iv,Al.completed=tm,Al.aborted=jy,Al.failed=Sl;function z_(mn){function kn(An){switch(typeof An){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return An;default:if(!An||An.buffer&&An.buffer.constructor==ArrayBuffer)return An;if(xn.has(An))return null;var Mn=An.constructor==Array;if(An.constructor!=Object&&!Mn)return null;xn.add(An);var Un=Mn?[]:{},Bn;for(Bn in An)Un[Bn]=kn(An[Bn]);return Mn&&(Un.length=An.length),Un}}var xn=new Set;return kn(mn)}function aS(mn){var kn={},xn;for(xn in mn)kn[xn]=mn[xn];return kn}function Fy(){this.g=[]}function H_(mn,kn){mn.g.push(kn.finally(function(){qu(mn.g,kn)}))}Fy.prototype.destroy=function(){for(var mn=[],kn=Dn(this.g),xn=kn.next();!xn.done;xn=kn.next())xn=xn.value,xn.promise.catch(function(){}),mn.push(xn.abort());return this.g=[],Promise.all(mn)};function wl(mn,kn,xn){Eu.call(this),this.i=!1,this.m=new Fy,this.g=new Set,this.h=new Set,this.l=mn||null,this.j=kn||null,this.B=xn||null,this.s=!1}as(wl,Eu),En=wl.prototype,En.Ne=function(mn){this.s=mn};function gm(mn,kn,xn,An){xn=xn||OA;var Mn=u_[mn];(!Mn||xn>=Mn.priority)&&(u_[mn]={priority:xn,rh:kn,sh:An===void 0?!1:An})}En.uh=function(mn){this.g.add(mn)},En.Kh=function(mn){this.g.delete(mn)},En.pg=function(){this.g.clear()},En.vh=function(mn){this.h.add(mn)},En.Lh=function(mn){this.h.delete(mn)},En.qg=function(){this.h.clear()};function ll(mn,kn,xn){return{uris:mn,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:kn,licenseRequestType:null,sessionId:null,drmInfo:null,initData:null,initDataType:null,streamDataCallback:xn===void 0?null:xn}}En.destroy=function(){return this.i=!0,this.g.clear(),this.h.clear(),Eu.prototype.release.call(this),this.m.destroy()},En.request=function(mn,kn){var xn=this,An=new PA;if(this.i){var Mn=Promise.reject(new Hs(2,7,7001));return Mn.catch(function(){}),new oS(Mn,function(){return Promise.resolve()},An)}kn.method=kn.method||"GET",kn.headers=kn.headers||{},kn.retryParameters=kn.retryParameters?z_(kn.retryParameters):Iv(),kn.uris=z_(kn.uris),Mn=jl(this,mn,kn);var Un=Mn.ia(function(){return lx(xn,mn,kn,new G_(kn.retryParameters,!1),0,null,An)}),Bn=Un.ia(function(ds){return SM(xn,mn,ds)}),zn=Date.now(),Wn=0;Mn.promise.then(function(){Wn=Date.now()-zn},function(){});var ts=0;Un.promise.then(function(){ts=Date.now()},function(){});var os=Bn.ia(function(ds){var ls=Date.now()-ts,ys=ds.response;return ys.timeMs+=Wn,ys.timeMs+=ls,ds.dh||!xn.l||ys.fromCache||kn.method=="HEAD"||mn!=Pv||xn.l(ys.timeMs,ys.data.byteLength),ys},function(ds){throw ds&&(ds.severity=2),ds});return Mn=new oS(os.promise,function(){return os.abort()},An),H_(this.m,Mn),Mn};function jl(mn,kn,xn){var An=tm(void 0),Mn={};mn=Dn(mn.g);for(var Un=mn.next();!Un.done;Mn={Zd:Mn.Zd},Un=mn.next())Mn.Zd=Un.value,An=An.ia(function(Bn){return function(){return xn.body&&(xn.body=fp(xn.body)),Bn.Zd(kn,xn)}}(Mn));return An.ia(void 0,function(Bn){throw Bn instanceof Hs&&Bn.code==7001?Bn:new Hs(2,1,1006,Bn)})}function lx(mn,kn,xn,An,Mn,Un,Bn){mn.s&&(xn.uris[Mn]=xn.uris[Mn].replace("http://","https://"));var zn=new Iu(xn.uris[Mn]),Wn=zn.Wa,ts=!1;Wn||(Wn=location.protocol,Wn=Wn.slice(0,-1),Gp(zn,Wn),xn.uris[Mn]=zn.toString()),Wn=Wn.toLowerCase();var os=(Wn=u_[Wn])?Wn.rh:null;if(!os)return Sl(new Hs(2,1,1e3,zn));var ds=Wn.sh,ls=null,ys=null,Cs=!1,Ns=!1,Os;return iv(sx(An)).ia(function(){if(mn.i)return jy();Os=Date.now();var Ps=os(xn.uris[Mn],xn,kn,function(qs,Qs,ru){ls&&ls.stop(),ys&&ys.R(Ds/1e3),mn.l&&kn==Pv&&(mn.l(qs,Qs),ts=!0,Bn.g=ru)},function(qs){mn.j&&mn.j(qs,xn,kn),Ns=!0});if(!ds)return Ps;var Xs=xn.retryParameters.connectionTimeout;Xs&&(ls=new Tu(function(){Cs=!0,Ps.abort()}),ls.R(Xs/1e3));var Ds=xn.retryParameters.stallTimeout;return Ds&&(ys=new Tu(function(){Cs=!0,Ps.abort()})),Ps}).ia(function(Ps){ls&&ls.stop(),ys&&ys.stop(),Ps.timeMs==null&&(Ps.timeMs=Date.now()-Os);var Xs={response:Ps,dh:ts};return!Ns&&mn.j&&mn.j(Ps.headers,xn,kn),Xs},function(Ps){if(ls&&ls.stop(),ys&&ys.stop(),mn.B){var Xs=null,Ds=0;Ps instanceof Hs&&(Xs=Ps,Ps.code==1001&&(Ds=Ps.data[1])),mn.B(xn,Xs,Ds,Cs)}if(mn.i)return jy();if(Cs&&(Ps=new Hs(1,1,1003,xn.uris[Mn],kn)),Ps instanceof Hs){if(Ps.code==7001)throw Ps;if(Ps.code==1010)throw Un;if(Ps.severity==1)return Xs=new Map().set("error",Ps),Xs=new _u("retry",Xs),mn.dispatchEvent(Xs),Mn=(Mn+1)%xn.uris.length,lx(mn,kn,xn,An,Mn,Ps,Bn)}throw Ps})}function SM(mn,kn,xn){var An=tm(void 0),Mn={};mn=Dn(mn.h);for(var Un=mn.next();!Un.done;Mn={$d:Mn.$d},Un=mn.next())Mn.$d=Un.value,An=An.ia(function(Bn){return function(){var zn=xn.response;return zn.data&&(zn.data=fp(zn.data)),Bn.$d(kn,zn)}}(Mn));return An.ia(function(){return xn},function(Bn){var zn=2;if(Bn instanceof Hs){if(Bn.code==7001)throw Bn;zn=Bn.severity}throw new Hs(zn,1,1007,Bn)})}Ys("shaka.net.NetworkingEngine",wl),wl.prototype.request=wl.prototype.request,wl.prototype.destroy=wl.prototype.destroy,wl.makeRequest=ll,wl.defaultRetryParameters=function(){return Iv()},wl.prototype.clearAllResponseFilters=wl.prototype.qg,wl.prototype.unregisterResponseFilter=wl.prototype.Lh,wl.prototype.registerResponseFilter=wl.prototype.vh,wl.prototype.clearAllRequestFilters=wl.prototype.pg,wl.prototype.unregisterRequestFilter=wl.prototype.Kh,wl.prototype.registerRequestFilter=wl.prototype.uh,wl.unregisterScheme=function(mn){delete u_[mn]},wl.registerScheme=gm,wl.prototype.setForceHTTPS=wl.prototype.Ne;function PA(){this.g=0}wl.NumBytesRemainingClass=PA;function oS(mn,kn,xn){Al.call(this,mn,kn),this.h=xn}as(oS,Al),wl.PendingRequest=oS;var Pv=1;wl.RequestType={MANIFEST:0,SEGMENT:Pv,LICENSE:2,APP:3,TIMING:4,SERVER_CERTIFICATE:5,KEY:6};var OA=3;wl.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:OA};var u_={};function Ov(mn){this.g=!1,this.h=new _l,this.i=mn}Ov.prototype.destroy=function(){var mn=this;return this.g?this.h:(this.g=!0,this.i().then(function(){mn.h.resolve()},function(){mn.h.resolve()}))};function Ol(mn,kn){if(mn.g)throw kn instanceof Hs&&kn.code==7003?kn:new Hs(2,7,7003,kn)}function xu(){this.g=new Fu}En=xu.prototype,En.release=function(){this.Rb(),this.g=null},En.o=function(mn,kn,xn,An){this.g&&(mn=new av(mn,kn,xn,An),this.g.push(kn,mn))},En.ya=function(mn,kn,xn,An){function Mn(Bn){Un.qc(mn,kn,Mn),xn(Bn)}var Un=this;this.o(mn,kn,Mn,An)},En.qc=function(mn,kn,xn){if(this.g){var An=this.g.get(kn)||[];An=Dn(An);for(var Mn=An.next();!Mn.done;Mn=An.next())Mn=Mn.value,Mn.target!=mn||xn!=Mn.listener&&xn||(Mn.qc(),this.g.remove(kn,Mn))}},En.Rb=function(){if(this.g){var mn=this.g,kn=[],xn;for(xn in mn.g)kn.push.apply(kn,Kn(mn.g[xn]));for(mn=Dn(kn),kn=mn.next();!kn.done;kn=mn.next())kn.value.qc();this.g.g={}}},Ys("shaka.util.EventManager",xu),xu.prototype.removeAll=xu.prototype.Rb,xu.prototype.unlisten=xu.prototype.qc,xu.prototype.listenOnce=xu.prototype.ya,xu.prototype.listen=xu.prototype.o,xu.prototype.release=xu.prototype.release;function av(mn,kn,xn,An){this.target=mn,this.type=kn,this.listener=xn,this.g=MA(mn,An),this.target.addEventListener(kn,xn,this.g)}av.prototype.qc=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};function MA(mn,kn){if(kn==null)return!1;if(typeof kn=="boolean")return kn;var xn=new Set(["passive","capture"]);return Object.keys(kn).filter(function(An){return!xn.has(An)}),Rl(mn)?kn:kn.capture||!1}function Rl(mn){var kn=Gl;if(kn==null){kn=!1;try{var xn={},An={get:function(){return kn=!0,!1}};Object.defineProperty(xn,"passive",An),Object.defineProperty(xn,"capture",An),An=function(){},mn.addEventListener("test",An,xn),mn.removeEventListener("test",An,xn)}catch{kn=!1}Gl=kn}return kn||!1}var Gl=void 0;function Mv(mn){for(var kn=new Map,xn=Dn(Object.keys(mn)),An=xn.next();!An.done;An=xn.next())An=An.value,kn.set(An,mn[An]);return kn}function G$(mn){var kn={};return mn.forEach(function(xn,An){kn[An]=xn}),kn}function B0(mn,kn){if(mn||kn){if(mn&&!kn||kn&&!mn)return!1}else return!0;if(mn.size!=kn.size)return!1;mn=Dn(mn);for(var xn=mn.next();!xn.done;xn=mn.next()){var An=Dn(xn.value);if(xn=An.next().value,An=An.next().value,!kn.has(xn)||(xn=kn.get(xn),xn!=An||xn==null))return!1}return!0}function Tl(mn,kn){this.W=Hp(mn),this.h=kn==V0,this.g=0}En=Tl.prototype,En.xa=function(){return this.g<this.W.byteLength},En.ma=function(){return this.g},En.Jg=function(){return this.W.byteLength},En.ob=function(){try{var mn=this.W.getUint8(this.g);return this.g+=1,mn}catch{throw uy()}},En.De=function(){try{var mn=this.W.getUint16(this.g,this.h);return this.g+=2,mn}catch{throw uy()}},En.N=function(){try{var mn=this.W.getUint32(this.g,this.h);return this.g+=4,mn}catch{throw uy()}},En.Qf=function(){try{var mn=this.W.getInt32(this.g,this.h);return this.g+=4,mn}catch{throw uy()}},En.Cb=function(){try{if(this.h)var mn=this.W.getUint32(this.g,!0),kn=this.W.getUint32(this.g+4,!0);else kn=this.W.getUint32(this.g,!1),mn=this.W.getUint32(this.g+4,!1)}catch{throw uy()}if(2097151<kn)throw new Hs(2,3,3001);return this.g+=8,kn*Math.pow(2,32)+mn},En.Bb=function(mn){if(this.g+mn>this.W.byteLength)throw uy();var kn=Ku(this.W,this.g,mn);return this.g+=mn,kn},En.skip=function(mn){if(this.g+mn>this.W.byteLength)throw uy();this.g+=mn},En.Dh=function(mn){if(this.g<mn)throw uy();this.g-=mn},En.seek=function(mn){if(0>mn||mn>this.W.byteLength)throw uy();this.g=mn},En.Vc=function(){for(var mn=this.g;this.xa()&&this.W.getUint8(this.g)!=0;)this.g+=1;return mn=Ku(this.W,mn,this.g-mn),this.g+=1,xl(mn)};function uy(){return new Hs(2,3,3e3)}Ys("shaka.util.DataViewReader",Tl),Tl.prototype.readTerminatedString=Tl.prototype.Vc,Tl.prototype.seek=Tl.prototype.seek,Tl.prototype.rewind=Tl.prototype.Dh,Tl.prototype.skip=Tl.prototype.skip,Tl.prototype.readBytes=Tl.prototype.Bb,Tl.prototype.readUint64=Tl.prototype.Cb,Tl.prototype.readInt32=Tl.prototype.Qf,Tl.prototype.readUint32=Tl.prototype.N,Tl.prototype.readUint16=Tl.prototype.De,Tl.prototype.readUint8=Tl.prototype.ob,Tl.prototype.getLength=Tl.prototype.Jg,Tl.prototype.getPosition=Tl.prototype.ma,Tl.prototype.hasMoreData=Tl.prototype.xa;var V0=1;Tl.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:V0};function Nl(){this.i=[],this.h=[],this.g=!1}En=Nl.prototype,En.box=function(mn,kn){return mn=sS(mn),this.i[mn]=RA,this.h[mn]=kn,this},En.T=function(mn,kn){return mn=sS(mn),this.i[mn]=l_,this.h[mn]=kn,this},En.stop=function(){this.g=!0},En.parse=function(mn,kn,xn){for(mn=new Tl(mn,0),this.g=!1;mn.xa()&&!this.g;)this.Tc(0,mn,kn,xn)},En.Tc=function(mn,kn,xn,An){var Mn=kn.ma();if(An&&Mn+8>kn.W.byteLength)this.g=!0;else{var Un=kn.N(),Bn=kn.N(),zn=Hl(Bn),Wn=!1;switch(Un){case 0:Un=kn.W.byteLength-Mn;break;case 1:if(An&&kn.ma()+8>kn.W.byteLength){this.g=!0;return}Un=kn.Cb(),Wn=!0}var ts=this.h[Bn];if(ts){var os=null,ds=null;if(this.i[Bn]==l_){if(An&&kn.ma()+4>kn.W.byteLength){this.g=!0;return}ds=kn.N(),os=ds>>>24,ds&=16777215}Bn=Mn+Un,xn&&Bn>kn.W.byteLength&&(Bn=kn.W.byteLength),An&&Bn>kn.W.byteLength?this.g=!0:(An=Bn-kn.ma(),kn=0<An?kn.Bb(An):new Uint8Array(0),kn=new Tl(kn,0),ts({name:zn,parser:this,partialOkay:xn||!1,version:os,flags:ds,reader:kn,size:Un,start:Mn+mn,has64BitSize:Wn}))}else kn.skip(Math.min(Mn+Un-kn.ma(),kn.W.byteLength-kn.ma()))}};function zl(mn){for(var kn=uS(mn);mn.reader.xa()&&!mn.parser.g;)mn.parser.Tc(mn.start+kn,mn.reader,mn.partialOkay)}function G0(mn){for(var kn=uS(mn),xn=mn.reader.N(),An=0;An<xn&&(mn.parser.Tc(mn.start+kn,mn.reader,mn.partialOkay),!mn.parser.g);An++);}function z$(mn){var kn=uS(mn);for(mn.reader.skip(78);mn.reader.xa()&&!mn.parser.g;)mn.parser.Tc(mn.start+kn,mn.reader,mn.partialOkay)}function Rv(mn){return function(kn){mn(kn.reader.Bb(kn.reader.W.byteLength-kn.reader.ma()))}}function sS(mn){var kn=0;mn=Dn(mn);for(var xn=mn.next();!xn.done;xn=mn.next())kn=kn<<8|xn.value.charCodeAt(0);return kn}function Hl(mn){return String.fromCharCode(mn>>24&255,mn>>16&255,mn>>8&255,mn&255)}function uS(mn){return 8+(mn.has64BitSize?8:0)+(mn.flags!=null?4:0)}Ys("shaka.util.Mp4Parser",Nl),Nl.headerSize=uS,Nl.typeToString=Hl,Nl.allData=Rv,Nl.visualSampleEntry=z$,Nl.sampleDescription=G0,Nl.children=zl,Nl.prototype.parseNext=Nl.prototype.Tc,Nl.prototype.parse=Nl.prototype.parse,Nl.prototype.stop=Nl.prototype.stop,Nl.prototype.fullBox=Nl.prototype.T,Nl.prototype.box=Nl.prototype.box;var RA=0,l_=1;function ov(mn){var kn=this;this.g=[],this.h=[],this.data=[],new Nl().box("moov",zl).box("moof",zl).T("pssh",function(xn){if(!(1<xn.version)){var An=Ku(xn.reader.W,-12,xn.size);if(kn.data.push(An),kn.g.push(_c(xn.reader.Bb(16))),0<xn.version){An=xn.reader.N();for(var Mn=0;Mn<An;Mn++){var Un=_c(xn.reader.Bb(16));kn.h.push(Un)}}}}).parse(mn)}function z0(mn,kn,xn,An){var Mn=mn.length,Un=kn.length+16+Mn;0<An&&(Un+=4+16*xn.size);var Bn=new Uint8Array(Un),zn=Hp(Bn),Wn=0;if(zn.setUint32(Wn,Un),Wn+=4,zn.setUint32(Wn,1886614376),Wn+=4,1>An?zn.setUint32(Wn,0):zn.setUint32(Wn,16777216),Wn+=4,Bn.set(kn,Wn),Wn+=kn.length,0<An)for(zn.setUint32(Wn,xn.size),Wn+=4,kn=Dn(xn),xn=kn.next();!xn.done;xn=kn.next())xn=n_(xn.value),Bn.set(xn,Wn),Wn+=xn.length;return zn.setUint32(Wn,Mn),Bn.set(mn,Wn+4),Bn}function lS(mn,kn){return mn=Xl(mn,kn),mn.length!=1?null:mn[0]}function Ml(mn,kn,xn){return mn=cS(mn,kn,xn),mn.length!=1?null:mn[0]}function Xl(mn,kn){var xn=[];mn=Dn(mn.childNodes);for(var An=mn.next();!An.done;An=mn.next())An=An.value,An instanceof Element&&An.tagName==kn&&xn.push(An);return xn}function Nv(mn){return Array.from(mn.childNodes).filter(function(kn){return kn instanceof Element})}function cS(mn,kn,xn){var An=[];mn=Dn(mn.childNodes);for(var Mn=mn.next();!Mn.done;Mn=mn.next())Mn=Mn.value,Mn instanceof Element&&Mn.localName==xn&&Mn.namespaceURI==kn&&An.push(Mn);return An}function K_(mn,kn,xn){return mn.hasAttributeNS(kn,xn)?mn.getAttributeNS(kn,xn):null}function ly(mn,kn,xn){kn=Dn(kn);for(var An=kn.next();!An.done;An=kn.next())if(An=An.value,mn.hasAttributeNS(An,xn))return mn.getAttributeNS(An,xn);return null}function Gm(mn){return Array.from(mn.childNodes).every(H0)?mn.textContent.trim():null}function H0(mn){return mn.nodeType==Node.TEXT_NODE||mn.nodeType==Node.CDATA_SECTION_NODE}function Kl(mn,kn,xn,An){An=An===void 0?null:An;var Mn=null;return mn=mn.getAttribute(kn),mn!=null&&(Mn=xn(mn)),Mn??An}function K0(mn){return mn?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(mn)&&(mn+="Z"),mn=Date.parse(mn),isNaN(mn)?null:mn/1e3):null}function sv(mn){return!mn||(mn=RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$").exec(mn),!mn)?null:(mn=31536e3*Number(mn[1]||null)+2592e3*Number(mn[2]||null)+86400*Number(mn[3]||null)+3600*Number(mn[4]||null)+60*Number(mn[5]||null)+Number(mn[6]||null),isFinite(mn)?mn:null)}function H$(mn){var kn=/([0-9]+)-([0-9]+)/.exec(mn);return!kn||(mn=Number(kn[1]),!isFinite(mn))?null:(kn=Number(kn[2]),isFinite(kn)?{start:mn,end:kn}:null)}function K$(mn){return mn=Number(mn),mn%1===0?mn:null}function W$(mn){return mn=Number(mn),mn%1===0&&0<mn?mn:null}function uv(mn){return mn=Number(mn),mn%1===0&&0<=mn?mn:null}function W0(mn){return mn=Number(mn),isNaN(mn)?null:mn}function $M(mn){var kn,xn=(kn=mn.match(/^(\d+)\/(\d+)$/))?Number(kn[1])/Number(kn[2]):Number(mn);return isNaN(xn)?null:xn}function q0(mn,kn){var xn=new DOMParser,An=TM.value()(mn);mn=null;try{mn=xn.parseFromString(An,"text/xml")}catch{return null}if(xn=mn.documentElement,!xn||xn.getElementsByTagName("parsererror").length||xn.tagName!=kn)return null;for(kn=document.createNodeIterator(mn,NodeFilter.SHOW_ALL);mn=kn.nextNode();)if(mn instanceof HTMLElement||mn instanceof SVGElement)return null;return xn}function cx(mn,kn){try{var xn=xl(mn);return q0(xn,kn)}catch{return null}}var TM=new Sm(function(){if(typeof trustedTypes<"u"){var mn=trustedTypes.createPolicy("shaka-player#xml",{createHTML:function(kn){return kn}});return function(kn){return mn.createHTML(kn)}}return function(kn){return kn}});function Y0(mn,kn){var xn=this;kn=kn===void 0?1:kn,this.G=mn,this.I=new Set,this.l=this.C=null,this.ra=this.X=!1,this.J=0,this.g=null,this.B=new xu,this.i=new Map,this.F=[],this.s=new _l,this.h=null,this.m=function(An){xn.s.reject(An),mn.onError(An)},this.aa=new Map,this.Z=new Map,this.P=new Tu(function(){return PM(xn)}),this.M=!1,this.K=[],this.O=!1,this.$=new Tu(function(){Z$(xn)}).ha(kn),this.s.catch(function(){}),this.j=new Ov(function(){return kM(xn)}),this.V=!1,this.H=null}En=Y0.prototype,En.destroy=function(){return this.j.destroy()};function kM(mn){return hs(function(kn){switch(kn.g){case 1:return mn.B.release(),mn.B=null,mn.s.reject(),mn.$.stop(),mn.$=null,mn.P.stop(),mn.P=null,Qn(kn,FA(mn),2);case 2:if(!mn.l){kn.D(3);break}return $s(kn,4),Qn(kn,mn.l.setMediaKeys(null),6);case 6:gs(kn,5);break;case 4:Ss(kn);case 5:mn.l=null;case 3:mn.g=null,mn.I.clear(),mn.C=null,mn.F=[],mn.h=null,mn.m=function(){},mn.G=null,mn.V=!1,mn.H=null,ms(kn)}})}En.configure=function(mn){this.h=mn};function NA(mn,kn,xn){return mn.ra=!0,mn.F=[],mn.M=xn,dx(mn,kn)}function X0(mn,kn,xn){return mn.F=xn,mn.M=0<xn.length,dx(mn,kn)}function DA(mn,kn,xn,An,Mn,Un){var Bn=new Map;return Mn={audioCapabilities:Mn,videoCapabilities:Un,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:kn},Mn.drmInfos=[{keySystem:kn,licenseServerUri:xn,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:An,serverCertificateUri:"",initData:null,keyIds:null}],Bn.set(kn,Mn),mx(mn,Bn,[])}function dx(mn,kn){var xn,An,Mn,Un,Bn,zn,Wn,ts,os,ds,ls,ys,Cs,Ns;return hs(function(Os){if(Os.g==1){if(xn=AM(mn))for(An=Dn(kn),Mn=An.next();!Mn.done;Mn=An.next())Un=Mn.value,Un.video&&(Un.video.drmInfos=[xn]),Un.audio&&(Un.audio.drmInfos=[xn]);for(Bn=kn.some(function(Ps){return!!(Ps.video&&Ps.video.drmInfos.length||Ps.audio&&Ps.audio.drmInfos.length)}),Bn||(zn=Mv(mn.h.servers),VA(kn,zn)),Wn=Dn(kn),Mn=Wn.next();!Mn.done;Mn=Wn.next())for(ts=Mn.value,os=BA(ts),ds=Dn(os),ls=ds.next();!ls.done;ls=ds.next())ys=ls.value,Q0(ys,Mv(mn.h.servers),Mv(mn.h.advanced||{}),mn.h.keySystemsMapping);return Qn(Os,eS(kn,mn.M,mn.V),2)}return Cs=Bn||Object.keys(mn.h.servers).length,Cs?(Ns=mx(mn,void 0,kn),Os.return(Bn?Ns:Ns.catch(function(){}))):(mn.X=!0,Os.return(Promise.resolve()))})}function fx(mn){var kn;return hs(function(xn){switch(xn.g){case 1:if(mn.l.mediaKeys)return xn.return();if(!mn.H){xn.D(2);break}return Qn(xn,mn.H,3);case 3:return Ol(mn.j),xn.return();case 2:return $s(xn,4),mn.H=mn.l.setMediaKeys(mn.C),Qn(xn,mn.H,6);case 6:gs(xn,5);break;case 4:kn=Ss(xn),mn.m(new Hs(2,6,6003,kn.message));case 5:Ol(mn.j),ms(xn)}})}function bM(mn,kn){return hs(function(xn){if(xn.g==1)return Qn(xn,fx(mn),2);dS(mn,kn.initDataType,Ku(kn.initData)),ms(xn)})}En.Bc=function(mn){var kn=this,xn;return hs(function(An){if(An.g==1)return kn.C?(kn.l=mn,kn.B.ya(kn.l,"play",function(){for(var Mn=Dn(kn.K),Un=Mn.next();!Un.done;Un=Mn.next())X$(kn,Un.value);kn.O=!0,kn.K=[]}),"webkitCurrentPlaybackTargetIsWireless"in kn.l&&kn.B.o(kn.l,"webkitcurrentplaybacktargetiswirelesschanged",function(){return FA(kn)}),(xn=kn.g?kn.g.initData.find(function(Mn){return 0<Mn.initData.length}):null)||kn.g.keySystem!=="com.apple.fps"||kn.F.length?Qn(An,fx(kn),2):An.D(2)):(kn.B.ya(mn,"encrypted",function(){kn.m(new Hs(2,6,6010))}),An.return());hx(kn),xn||kn.F.length||kn.h.parseInbandPsshEnabled||kn.B.o(kn.l,"encrypted",function(Mn){return bM(kn,Mn)}),ms(An)})};function px(mn){var kn,xn,An,Mn,Un;return hs(function(Bn){switch(Bn.g){case 1:if(!mn.C||!mn.g)return Bn.return();if(!mn.g.serverCertificateUri||mn.g.serverCertificate&&mn.g.serverCertificate.length){Bn.D(2);break}return kn=ll([mn.g.serverCertificateUri],mn.h.retryParameters),$s(Bn,3),xn=mn.G.Ob.request(5,kn),Qn(Bn,xn.promise,5);case 5:An=Bn.h,mn.g.serverCertificate=Ku(An.data),gs(Bn,4);break;case 3:throw Mn=Ss(Bn),new Hs(2,6,6017,Mn);case 4:if(mn.j.g)return Bn.return();case 2:return!mn.g.serverCertificate||!mn.g.serverCertificate.length?Bn.return():($s(Bn,6),Qn(Bn,mn.C.setServerCertificate(mn.g.serverCertificate),8));case 8:gs(Bn,0);break;case 6:throw Un=Ss(Bn),new Hs(2,6,6004,Un.message)}})}function xM(mn,kn){var xn,An,Mn;return hs(function(Un){if(Un.g==1)return Qn(Un,gx(mn,kn),2);if(Un.g!=3)return xn=Un.h,xn?(An=[],(Mn=mn.i.get(xn))&&(Mn.cb=new _l,An.push(Mn.cb)),An.push(xn.remove()),Qn(Un,Promise.all(An),3)):Un.return();mn.i.delete(xn),ms(Un)})}function hx(mn){for(var kn=(mn.g?mn.g.initData:[])||[],xn=Dn(kn),An=xn.next();!An.done;An=xn.next())An=An.value,dS(mn,An.initDataType,An.initData);for(xn=Dn(mn.F),An=xn.next();!An.done;An=xn.next())gx(mn,An.value);return kn.length||mn.F.length||mn.s.resolve(),mn.s}function dS(mn,kn,xn){if(xn.length){var An=mn.i.values();An=Dn(An);for(var Mn=An.next();!Mn.done;Mn=An.next())if(Ip(xn,Mn.value.initData)&&!Cl("Tizen 2"))return;0<mn.i.size&&W_(mn)&&(mn.s.resolve(),mn.s=new _l,mn.s.catch(function(){})),Y$(mn,kn,xn,mn.g.sessionType)}}function q$(mn){return mn?!!mn.match(/^com\.(microsoft|chromecast)\.playready/):!1}function LA(mn){return mn=mn.i.keys(),mn=el(mn,function(kn){return kn.sessionId}),Array.from(mn)}En.Gc=function(){var mn=1/0,kn=this.i.keys();kn=Dn(kn);for(var xn=kn.next();!xn.done;xn=kn.next())xn=xn.value,isNaN(xn.expiration)||(mn=Math.min(mn,xn.expiration));return mn},En.ud=function(){return G$(this.Z)};function mx(mn,kn,xn){var An,Mn,Un,Bn,zn,Wn,ts,os,ds,ls,ys,Cs,Ns;return hs(function(Os){switch(Os.g){case 1:if(An=new Map,xn.length){Mn=wM(mn,xn,An),Os.D(2);break}return Qn(Os,CM(mn,kn),3);case 3:Mn=Os.h;case 2:if(Un=Mn,!Un)throw new Hs(2,6,6001);for(Ol(mn.j),$s(Os,4),mn.I.clear(),Bn=Un.getConfiguration(),zn=Bn.audioCapabilities||[],Wn=Bn.videoCapabilities||[],ts=Dn(zn),os=ts.next();!os.done;os=ts.next())ds=os.value,mn.I.add(ds.contentType.toLowerCase());for(ls=Dn(Wn),os=ls.next();!os.done;os=ls.next())ys=os.value,mn.I.add(ys.contentType.toLowerCase());if(xn.length){var Ps=Un.keySystem,Xs=An.get(Un.keySystem),Ds=[],qs=[],Qs=[],ru=[],ou=new Set;yx(Xs,Ds,Qs,qs,ru,ou);var hu=mn.M?"persistent-license":"temporary";for(Ps={keySystem:Ps,licenseServerUri:Ds[0],distinctiveIdentifierRequired:Xs[0].distinctiveIdentifierRequired,persistentStateRequired:Xs[0].persistentStateRequired,sessionType:Xs[0].sessionType||hu,audioRobustness:Xs[0].audioRobustness||"",videoRobustness:Xs[0].videoRobustness||"",serverCertificate:Qs[0],serverCertificateUri:qs[0],initData:ru,keyIds:ou},Xs=Dn(Xs),Ds=Xs.next();!Ds.done;Ds=Xs.next())Ds=Ds.value,Ds.distinctiveIdentifierRequired&&(Ps.distinctiveIdentifierRequired=Ds.distinctiveIdentifierRequired),Ds.persistentStateRequired&&(Ps.persistentStateRequired=Ds.persistentStateRequired);Xs=Ps}else Xs=Un.keySystem,Ps=kn.get(Un.keySystem),Ds=[],qs=[],Qs=[],ru=[],ou=new Set,yx(Ps.drmInfos,Ds,Qs,qs,ru,ou),Xs={keySystem:Xs,licenseServerUri:Ds[0],distinctiveIdentifierRequired:Ps.distinctiveIdentifier=="required",persistentStateRequired:Ps.persistentState=="required",sessionType:Ps.sessionTypes[0]||"temporary",audioRobustness:(Ps.audioCapabilities?Ps.audioCapabilities[0].robustness:"")||"",videoRobustness:(Ps.videoCapabilities?Ps.videoCapabilities[0].robustness:"")||"",serverCertificate:Qs[0],serverCertificateUri:qs[0],initData:ru,keyIds:ou};if(mn.g=Xs,!mn.g.licenseServerUri)throw new Hs(2,6,6012,mn.g.keySystem);return Qn(Os,Un.createMediaKeys(),6);case 6:return Cs=Os.h,Ol(mn.j),mn.C=Cs,mn.X=!0,Qn(Os,px(mn),7);case 7:Ol(mn.j),gs(Os,0);break;case 4:throw Ns=Ss(Os),Ol(mn.j,Ns),mn.g=null,mn.I.clear(),Ns instanceof Hs?Ns:new Hs(2,6,6002,Ns.message)}})}function wM(mn,kn,xn){for(var An=Dn(kn),Mn=An.next();!Mn.done;Mn=An.next()){var Un=Dn(BA(Mn.value));for(Mn=Un.next();!Mn.done;Mn=Un.next())Mn=Mn.value,xn.has(Mn.keySystem)||xn.set(Mn.keySystem,[]),xn.get(Mn.keySystem).push(Mn)}if(xn.size==1&&xn.has(""))throw new Hs(2,6,6e3);for(An={},mn=Dn(mn.h.preferredKeySystems),Mn=mn.next();!Mn.done;An={Xd:An.Xd},Mn=mn.next())for(An.Xd=Mn.value,Un=Dn(kn),Mn=Un.next();!Mn.done;Mn=Un.next())if(Mn=Mn.value.decodingInfos.find(function(ts){return function(os){return os.supported&&os.keySystemAccess!=null&&os.keySystemAccess.keySystem==ts.Xd}}(An)))return Mn.keySystemAccess;for(mn=Dn([!0,!1]),Mn=mn.next();!Mn.done;Mn=mn.next())for(An=Mn.value,Un=Dn(kn),Mn=Un.next();!Mn.done;Mn=Un.next()){var Bn=Dn(Mn.value.decodingInfos);for(Mn=Bn.next();!Mn.done;Mn=Bn.next()){var zn=Mn.value;if(zn.supported&&zn.keySystemAccess){Mn=xn.get(zn.keySystemAccess.keySystem);var Wn=Dn(Mn);for(Mn=Wn.next();!Mn.done;Mn=Wn.next())if(!!Mn.value.licenseServerUri==An)return zn.keySystemAccess}}}return null}function CM(mn,kn){var xn,An,Mn,Un,Bn,zn,Wn,ts,os,ds,ls,ys,Cs,Ns,Os;return hs(function(Ps){switch(Ps.g){case 1:if(kn.size==1&&kn.has(""))throw new Hs(2,6,6e3);for(An=Dn(kn.values()),Mn=An.next();!Mn.done;Mn=An.next())Un=Mn.value,Un.audioCapabilities.length==0&&delete Un.audioCapabilities,Un.videoCapabilities.length==0&&delete Un.videoCapabilities;Bn=Dn(mn.h.preferredKeySystems),zn=Bn.next();case 2:if(zn.done){Ps.D(4);break}if(Wn=zn.value,!kn.has(Wn)){Ps.D(3);break}return ts=kn.get(Wn),$s(Ps,6),Qn(Ps,navigator.requestMediaKeySystemAccess(Wn,[ts]),8);case 8:return xn=Ps.h,Ps.return(xn);case 6:Ss(Ps);case 7:Ol(mn.j);case 3:zn=Bn.next(),Ps.D(2);break;case 4:os=Dn([!0,!1]),ds=os.next();case 9:if(ds.done){Ps.D(11);break}ls=ds.value,ys=Dn(kn.keys()),zn=ys.next();case 12:if(zn.done){ds=os.next(),Ps.D(9);break}if(Cs=zn.value,Ns=kn.get(Cs),Os=Ns.drmInfos.some(function(Xs){return!!Xs.licenseServerUri}),Os!=ls){Ps.D(13);break}return $s(Ps,15),Qn(Ps,navigator.requestMediaKeySystemAccess(Cs,[Ns]),17);case 17:return xn=Ps.h,Ps.return(xn);case 15:Ss(Ps);case 16:Ol(mn.j);case 13:zn=ys.next(),Ps.D(12);break;case 11:return Ps.return(xn)}})}function AM(mn){if(mn=Mv(mn.h.clearKeys),mn.size==0)return null;var kn=[],xn=[];mn.forEach(function(Mn,Un){var Bn=Un;Bn.length!=22&&(Bn=Ny(n_(Un),!1)),Un=Mn,Un.length!=22&&(Un=Ny(n_(Mn),!1)),Mn={kty:"oct",kid:Bn,k:Un},kn.push(Mn),xn.push(Mn.kid)}),mn=JSON.stringify({keys:kn});var An=JSON.stringify({kids:xn});return An=[{initData:Ku(Kp(An)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+pn.btoa(mn),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:An,keyIds:new Set(xn)}}function gx(mn,kn){var xn,An,Mn,Un,Bn;return hs(function(zn){switch(zn.g){case 1:try{xn=mn.C.createSession("persistent-license")}catch(Wn){return An=new Hs(2,6,6005,Wn.message),mn.m(An),zn.return(Promise.reject(An))}return mn.B.o(xn,"message",function(Wn){mn.l&&mn.h.delayLicenseRequestUntilPlayed&&mn.l.paused&&!mn.O?mn.K.push(Wn):X$(mn,Wn)}),mn.B.o(xn,"keystatuseschange",function(Wn){return fS(mn,Wn)}),Mn={initData:null,initDataType:null,loaded:!1,Be:1/0,cb:null,type:"persistent-license"},mn.i.set(xn,Mn),$s(zn,2),Qn(zn,xn.load(kn),4);case 4:return Un=zn.h,Ol(mn.j),Un?(Mn.loaded=!0,W_(mn)&&mn.s.resolve(),zn.return(xn)):(mn.i.delete(xn),mn.m(new Hs(2,6,6013)),zn.return(Promise.resolve()));case 2:Bn=Ss(zn),Ol(mn.j,Bn),mn.i.delete(xn),mn.m(new Hs(2,6,6005,Bn.message));case 3:return zn.return(Promise.resolve())}})}function Y$(mn,kn,xn,An){try{var Mn=mn.C.createSession(An)}catch(Un){mn.m(new Hs(2,6,6005,Un.message));return}mn.B.o(Mn,"message",function(Un){mn.l&&mn.h.delayLicenseRequestUntilPlayed&&mn.l.paused&&!mn.O?mn.K.push(Un):X$(mn,Un)}),mn.B.o(Mn,"keystatuseschange",function(Un){return fS(mn,Un)}),mn.i.set(Mn,{initData:xn,initDataType:kn,loaded:!1,Be:1/0,cb:null,type:An});try{xn=mn.h.initDataTransform(xn,kn,mn.g)}catch(Un){kn=Un,Un instanceof Hs||(kn=new Hs(2,6,6016,Un)),mn.m(kn);return}mn.h.logLicenseExchange&&Ny(xn),Mn.generateRequest(kn,xn).catch(function(Un){if(!mn.j.g){mn.i.delete(Mn);var Bn=Un.errorCode;if(Bn&&Bn.systemCode){var zn=Bn.systemCode;0>zn&&(zn+=Math.pow(2,32)),zn="0x"+zn.toString(16)}mn.m(new Hs(2,6,6006,Un.message,Un,zn))}})}function X$(mn,kn){var xn,An,Mn,Un,Bn,zn,Wn,ts,os,ds,ls,ys,Cs,Ns;hs(function(Os){switch(Os.g){case 1:return xn=kn.target,mn.h.logLicenseExchange&&Ny(kn.message),An=mn.i.get(xn),Mn=mn.g.licenseServerUri,Un=mn.h.advanced[mn.g.keySystem],kn.messageType=="individualization-request"&&Un&&Un.individualizationServer&&(Mn=Un.individualizationServer),Bn=ll([Mn],mn.h.retryParameters),Bn.body=kn.message,Bn.method="POST",Bn.licenseRequestType=kn.messageType,Bn.sessionId=xn.sessionId,Bn.drmInfo=mn.g,An&&(Bn.initData=An.initData,Bn.initDataType=An.initDataType),q$(mn.g.keySystem)&&IM(Bn),zn=Date.now(),$s(Os,2),ts=mn.G.Ob.request(2,Bn),Qn(Os,ts.promise,4);case 4:Wn=Os.h,gs(Os,3);break;case 2:return os=Ss(Os),ds=new Hs(2,6,6007,os),mn.m(ds),An&&An.cb&&An.cb.reject(ds),Os.return();case 3:return mn.j.g?Os.return():(mn.J+=(Date.now()-zn)/1e3,mn.h.logLicenseExchange&&Ny(Wn.data),$s(Os,5),Qn(Os,xn.update(Wn.data),7));case 7:gs(Os,6);break;case 5:return ls=Ss(Os),ys=new Hs(2,6,6008,ls.message),mn.m(ys),An&&An.cb&&An.cb.reject(ys),Os.return();case 6:if(mn.j.g)return Os.return();Cs=new _u("drmsessionupdate"),mn.G.onEvent(Cs),An&&(An.cb&&An.cb.resolve(),Ns=new Tu(function(){An.loaded=!0,W_(mn)&&mn.s.resolve()}),Ns.R(q_)),ms(Os)}})}function IM(mn){var kn=Ry(mn.body,!0,!0);if(kn.includes("PlayReadyKeyMessage")){kn=q0(kn,"PlayReadyKeyMessage");for(var xn=Dn(kn.getElementsByTagName("HttpHeader")),An=xn.next();!An.done;An=xn.next())An=An.value,mn.headers[An.getElementsByTagName("name")[0].textContent]=An.getElementsByTagName("value")[0].textContent;mn.body=Lp(kn.getElementsByTagName("Challenge")[0].textContent)}else mn.headers["Content-Type"]="text/xml; charset=utf-8"}function fS(mn,kn){kn=kn.target;var xn=mn.i.get(kn),An=!1;kn.keyStatuses.forEach(function(Un,Bn){if(typeof Bn=="string"){var zn=Bn;Bn=Un,Un=zn}if(q$(mn.g.keySystem)&&Bn.byteLength==16&&(e_()||t_())){zn=Hp(Bn);var Wn=zn.getUint32(0,!0),ts=zn.getUint16(4,!0),os=zn.getUint16(6,!0);zn.setUint32(0,Wn,!1),zn.setUint16(4,ts,!1),zn.setUint16(6,os,!1)}Un!="status-pending"&&(xn.loaded=!0),Un=="expired"&&(An=!0),Bn=_c(Bn).slice(0,32),mn.aa.set(Bn,Un)});var Mn=kn.expiration-Date.now();(0>Mn||An&&1e3>Mn)&&xn&&!xn.cb&&(mn.i.delete(kn),kn.close().catch(function(){})),W_(mn)&&(mn.s.resolve(),mn.P.R(MM))}function PM(mn){var kn=mn.aa,xn=mn.Z;xn.clear(),kn.forEach(function(An,Mn){return xn.set(Mn,An)}),kn=Array.from(xn.values()),kn.length&&kn.every(function(An){return An=="expired"})&&mn.m(new Hs(2,6,6014)),mn.G.Fd(G$(xn))}function jA(){var mn,kn,xn,An,Mn,Un,Bn,zn;return hs(function(Wn){return Wn.g==1?(mn="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.microsoft.playready.recommendation com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" "),kn=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],xn={initDataTypes:["cenc"],videoCapabilities:kn},An={videoCapabilities:kn,persistentState:"required",sessionTypes:["persistent-license"]},Mn=[An,xn],Un=new Map,Bn=function(ts){var os,ds,ls;return hs(function(ys){switch(ys.g){case 1:if($s(ys,2),ts==="org.w3.clearkey"&&N0())throw Error("Unsupported keySystem");return Qn(ys,navigator.requestMediaKeySystemAccess(ts,Mn),4);case 4:return os=ys.h,ls=(ds=os.getConfiguration().sessionTypes)?ds.includes("persistent-license"):!1,Cl("Tizen 3")&&(ls=!1),Un.set(ts,{persistentState:ls}),Qn(ys,os.createMediaKeys(),5);case 5:gs(ys,0);break;case 2:Ss(ys),Un.set(ts,null),ms(ys)}})},zn=mn.map(function(ts){return Bn(ts)}),Qn(Wn,Promise.all(zn),2)):Wn.return(G$(Un))})}function OM(mn){var kn;return hs(function(xn){if(xn.g==1)return kn=new Promise(function(An,Mn){new Tu(Mn).R(cy)}),$s(xn,2),Qn(xn,Promise.race([Promise.all([mn.close(),mn.closed]),kn]),4);if(xn.g!=2)return gs(xn,0);Ss(xn),ms(xn)})}function FA(mn){var kn;return hs(function(xn){return kn=Array.from(mn.i.entries()),mn.i.clear(),Qn(xn,Promise.all(kn.map(function(An){An=Dn(An);var Mn=An.next().value,Un=An.next().value;return hs(function(Bn){if(Bn.g==1)return $s(Bn,2),mn.ra||mn.F.includes(Mn.sessionId)||Un.type!=="persistent-license"?Qn(Bn,OM(Mn),5):Qn(Bn,Mn.remove(),5);if(Bn.g!=2)return gs(Bn,0);Ss(Bn),ms(Bn)})})),0)})}function Q$(mn,kn){if(!mn.length)return kn;if(!kn.length)return mn;var xn=[];mn=Dn(mn);for(var An=mn.next();!An.done;An=mn.next()){An=An.value;for(var Mn={},Un=Dn(kn),Bn=Un.next();!Bn.done;Mn={Ua:Mn.Ua},Bn=Un.next())if(Bn=Bn.value,An.keySystem==Bn.keySystem){Mn.Ua=[],Mn.Ua=Mn.Ua.concat(An.initData||[]),Mn.Ua=Mn.Ua.concat(Bn.initData||[]),Mn.Ua=Mn.Ua.filter(function(zn){return function(Wn,ts){return Wn.keyId===void 0||ts===zn.Ua.findIndex(function(os){return os.keyId===Wn.keyId})}}(Mn)),Un=An.keyIds&&Bn.keyIds?new Set([].concat(Kn(An.keyIds),Kn(Bn.keyIds))):An.keyIds||Bn.keyIds,xn.push({keySystem:An.keySystem,licenseServerUri:An.licenseServerUri||Bn.licenseServerUri,distinctiveIdentifierRequired:An.distinctiveIdentifierRequired||Bn.distinctiveIdentifierRequired,persistentStateRequired:An.persistentStateRequired||Bn.persistentStateRequired,videoRobustness:An.videoRobustness||Bn.videoRobustness,audioRobustness:An.audioRobustness||Bn.audioRobustness,serverCertificate:An.serverCertificate||Bn.serverCertificate,serverCertificateUri:An.serverCertificateUri||Bn.serverCertificateUri,initData:Mn.Ua,keyIds:Un});break}}return xn}function BA(mn){return(mn.video?mn.video.drmInfos:[]).concat(mn.audio?mn.audio.drmInfos:[])}function Z$(mn){mn.i.forEach(function(kn,xn){var An=kn.Be,Mn=xn.expiration;isNaN(Mn)&&(Mn=1/0),Mn!=An&&(mn.G.onExpirationUpdated(xn.sessionId,Mn),kn.Be=Mn)})}function W_(mn){return mn=mn.i.values(),pl(mn,function(kn){return kn.loaded})}function VA(mn,kn){var xn=[];for(kn.forEach(function(An,Mn){xn.push({keySystem:Mn,licenseServerUri:An,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",initData:[],keyIds:new Set})}),mn=Dn(mn),kn=mn.next();!kn.done;kn=mn.next())kn=kn.value,kn.video&&(kn.video.drmInfos=xn),kn.audio&&(kn.audio.drmInfos=xn)}function yx(mn,kn,xn,An,Mn,Un){var Bn={};mn=Dn(mn);for(var zn=mn.next();!zn.done;Bn={Fa:Bn.Fa},zn=mn.next()){if(Bn.Fa=zn.value,kn.includes(Bn.Fa.licenseServerUri)||kn.push(Bn.Fa.licenseServerUri),An.includes(Bn.Fa.serverCertificateUri)||An.push(Bn.Fa.serverCertificateUri),Bn.Fa.serverCertificate&&(xn.some(function(os){return function(ds){return Ip(ds,os.Fa.serverCertificate)}}(Bn))||xn.push(Bn.Fa.serverCertificate)),Bn.Fa.initData){zn={};for(var Wn=Dn(Bn.Fa.initData),ts=Wn.next();!ts.done;zn={ed:zn.ed},ts=Wn.next())zn.ed=ts.value,Mn.some(function(os){return function(ds){var ls=os.ed;return ds.keyId&&ds.keyId==ls.keyId?!0:ds.initDataType==ls.initDataType&&Ip(ds.initData,ls.initData)}}(zn))||Mn.push(zn.ed)}if(Bn.Fa.keyIds)for(zn=Dn(Bn.Fa.keyIds),Wn=zn.next();!Wn.done;Wn=zn.next())Un.add(Wn.value)}}function Q0(mn,kn,xn,An){var Mn=mn.keySystem;Mn&&(Mn!="org.w3.clearkey"||!mn.licenseServerUri)&&(kn.size&&(kn=kn.get(Mn)||"",mn.licenseServerUri=kn),mn.keyIds||(mn.keyIds=new Set),(xn=xn.get(Mn))&&(mn.distinctiveIdentifierRequired||(mn.distinctiveIdentifierRequired=xn.distinctiveIdentifierRequired),mn.persistentStateRequired||(mn.persistentStateRequired=xn.persistentStateRequired),mn.videoRobustness||(mn.videoRobustness=xn.videoRobustness),mn.audioRobustness||(mn.audioRobustness=xn.audioRobustness),mn.serverCertificate||(mn.serverCertificate=xn.serverCertificate),xn.sessionType&&(mn.sessionType=xn.sessionType),mn.serverCertificateUri||(mn.serverCertificateUri=xn.serverCertificateUri)),An[Mn]&&(mn.keySystem=An[Mn]),pn.cast&&pn.cast.__platform__&&Mn=="com.microsoft.playready"&&(mn.keySystem="com.chromecast.playready"))}var cy=1,q_=5,MM=.5,J$=new Sm(function(){return fp(new Uint8Array([0]))});function pS(){}function GA(mn,kn,xn,An){var Mn,Un,Bn,zn;return hs(function(Wn){if(Wn.g==1)return An&&(Mn=zm[An.toLowerCase()])?Wn.return(Mn):(Un=c_(mn))&&(Bn=d_[Un])?Wn.return(Bn):An?Wn.D(2):Qn(Wn,vx(mn,kn,xn),3);if(Wn.g!=2&&(An=Wn.h)&&(zn=zm[An]))return Wn.return(zn);throw new Hs(2,4,4e3,mn)})}function vx(mn,kn,xn){var An,Mn,Un;return hs(function(Bn){return Bn.g==1?(An=ll([mn],xn),An.method="HEAD",Qn(Bn,kn.request(0,An).promise,2)):(Mn=Bn.h,Un=Mn.headers["content-type"],Bn.return(Un?Un.toLowerCase().split(";").shift():""))})}function c_(mn){return mn=new Iu(mn).Ha.split("/").pop().split("."),mn.length==1?"":mn.pop().toLowerCase()}Ys("shaka.media.ManifestParser",pS),pS.unregisterParserByMime=function(mn){delete zm[mn]},pS.registerParserByMime=function(mn,kn){zm[mn]=kn},pS.registerParserByExtension=function(mn,kn){d_[mn]=kn};var zm={},d_={};function _x(mn){function kn(){An=!0}function xn(ts){Un.push(ts),zl(ts)}mn=Ku(mn);var An=!1,Mn,Un=[],Bn=[];if(new Nl().box("moov",xn).box("trak",xn).box("mdia",xn).box("minf",xn).box("stbl",xn).T("stsd",function(ts){Mn=ts,Un.push(ts),G0(ts)}).T("encv",kn).T("enca",kn).T("hev1",function(ts){Bn.push({box:ts,Pb:1701733238})}).T("hvc1",function(ts){Bn.push({box:ts,Pb:1701733238})}).T("avc1",function(ts){Bn.push({box:ts,Pb:1701733238})}).T("avc3",function(ts){Bn.push({box:ts,Pb:1701733238})}).T("ac-3",function(ts){Bn.push({box:ts,Pb:1701733217})}).T("ec-3",function(ts){Bn.push({box:ts,Pb:1701733217})}).T("mp4a",function(ts){Bn.push({box:ts,Pb:1701733217})}).parse(mn),An)return mn;if(Bn.length==0||!Mn)throw _c(mn),new Hs(2,3,3019);Bn.reverse();for(var zn=Dn(Bn),Wn=zn.next();!Wn.done;Wn=zn.next())Wn=Wn.value,mn=eT(mn,Mn,Wn.box,Un,Wn.Pb);return mn}function eT(mn,kn,xn,An,Mn){var Un=J0.value(),Bn=mn.subarray(xn.start,xn.start+xn.size),zn=Hp(Bn),Wn=new Uint8Array(xn.size+Un.byteLength);for(Wn.set(Bn,0),Bn=Hp(Wn),Bn.setUint32(4,Mn),Wn.set(Un,xn.size),Mn=zn.getUint32(4),Bn.setUint32(xn.size+16,Mn),Z0(Wn,0,Wn.byteLength),Mn=new Uint8Array(mn.byteLength+Wn.byteLength),xn=xv()?xn.start:xn.start+xn.size,Un=mn.subarray(xn),Mn.set(mn.subarray(0,xn)),Mn.set(Wn,xn),Mn.set(Un,xn+Wn.byteLength),mn=Dn(An),An=mn.next();!An.done;An=mn.next())An=An.value,Z0(Mn,An.start,An.size+Wn.byteLength);return Wn=Hp(Mn,kn.start),kn=uS(kn),mn=Wn.getUint32(kn),Wn.setUint32(kn,mn+1),Mn}function Z0(mn,kn,xn){mn=Hp(mn,kn),kn=mn.getUint32(0),kn!=0&&(kn==1?(mn.setUint32(8,xn>>32),mn.setUint32(12,xn&4294967295)):mn.setUint32(0,xn))}var J0=new Sm(function(){return new Uint8Array([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])});function Ex(mn,kn,xn,An,Mn){if(An>=Mn)return null;for(var Un=-1,Bn=-1,zn=0;zn<xn.length;zn++)if(xn[zn].some(function(qs){return qs!=null&&qs.g.trim()!=""})){Un=zn;break}for(zn=xn.length-1;0<=zn;zn--)if(xn[zn].some(function(qs){return qs!=null&&qs.g.trim()!=""})){Bn=zn;break}if(Un===-1||Bn===-1)return null;for(var Wn=zn=!1,ts="white",os="black",ds=By(An,Mn,zn,Wn,ts,os);Un<=Bn;Un++){for(var ls=xn[Un],ys=-1,Cs=-1,Ns=0;Ns<ls.length;Ns++)if(ls[Ns]!=null&&ls[Ns].g.trim()!==""){ys=Ns;break}for(Ns=ls.length-1;0<=Ns;Ns--)if(ls[Ns]!=null&&ls[Ns].g.trim()!==""){Cs=Ns;break}if(ys===-1||Cs===-1)ls=eE(An,Mn),mn.nestedCues.push(ls);else{for(;ys<=Cs;ys++)if(Ns=ls[ys]){var Os=Ns.l,Ps=Ns.i,Xs=Ns.j,Ds=Ns.h;(Os!=zn||Ps!=Wn||Xs!=ts||Ds!=os)&&(ds.payload&&mn.nestedCues.push(ds),ds=By(An,Mn,Os,Ps,Xs,Ds),zn=Os,Wn=Ps,ts=Xs,os=Ds),ds.payload+=Ns.g}else ds.payload+=" ";ds.payload&&mn.nestedCues.push(ds),Un!==Bn&&(ds=eE(An,Mn),mn.nestedCues.push(ds)),ds=By(An,Mn,zn,Wn,ts,os)}}return mn.nestedCues.length?{cue:mn,stream:kn}:null}function By(mn,kn,xn,An,Mn,Un){return mn=new tl(mn,kn,""),xn&&mn.textDecoration.push("underline"),An&&(mn.fontStyle="italic"),mn.color=Mn,mn.backgroundColor=Un,mn}function eE(mn,kn){return mn=new tl(mn,kn,""),mn.lineBreak=!0,mn}function Sx(mn,kn,xn,An,Mn){this.g=mn,this.l=kn,this.i=xn,this.h=An,this.j=Mn}function tT(mn,kn){this.i=[],this.g=1,this.h=0,this.C=mn,this.B=kn,this.j=this.m=!1,this.l="white",this.s="black",tE(this)}function hS(mn,kn,xn){return Ex(new tl(kn,xn,""),"CC"+(mn.C<<1|mn.B+1),mn.i,kn,xn)}function tE(mn){Dv(mn,0,15),mn.g=1}function rE(mn,kn,xn){if(!(32>xn||127<xn)){var An="";switch(kn){case f_:An=HA.has(xn)?HA.get(xn):String.fromCharCode(xn);break;case rT:An=RM.get(xn);break;case $x:mn.i[mn.g].pop(),An=nT.get(xn);break;case Tx:mn.i[mn.g].pop(),An=mS.get(xn)}An&&mn.i[mn.g].push(new Sx(An,mn.m,mn.j,mn.s,mn.l))}}function zA(mn,kn,xn,An){if(!(0>xn||0>kn))if(kn>=xn)for(--An;0<=An;An--)mn.i[kn+An]=mn.i[xn+An].map(function(Un){return Un});else for(var Mn=0;Mn<An;Mn++)mn.i[kn+Mn]=mn.i[xn+Mn].map(function(Un){return Un})}function Dv(mn,kn,xn){for(var An=0;An<=xn;An++)mn.i[kn+An]=[]}var f_=0,rT=1,$x=2,Tx=3,HA=new Map([[39,"’"],[42,"á"],[92,"é"],[92,"é"],[94,"í"],[95,"ó"],[96,"ú"],[123,"ç"],[124,"÷"],[125,"Ñ"],[126,"ñ"],[127,"█"]]),RM=new Map([[48,"®"],[49,"°"],[50,"½"],[51,"¿"],[52,"™"],[53,"¢"],[54,"£"],[55,"♪"],[56,"à"],[57,"⠀"],[58,"è"],[59,"â"],[60,"ê"],[61,"î"],[62,"ô"],[63,"û"]]),nT=new Map([[32,"Á"],[33,"É"],[34,"Ó"],[35,"Ú"],[36,"Ü"],[37,"ü"],[38,"‘"],[39,"¡"],[40,"*"],[41,"'"],[42,"─"],[43,"©"],[44,"℠"],[45,"·"],[46,"“"],[47,"”"],[48,"À"],[49,"Â"],[50,"Ç"],[51,"È"],[52,"Ê"],[53,"Ë"],[54,"ë"],[55,"Î"],[56,"Ï"],[57,"ï"],[58,"Ô"],[59,"Ù"],[60,"ù"],[61,"Û"],[62,"«"],[63,"»"]]),mS=new Map([[32,"Ã"],[33,"ã"],[34,"Í"],[35,"Ì"],[36,"ì"],[37,"Ò"],[38,"ò"],[39,"Õ"],[40,"õ"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"Ä"],[49,"ä"],[50,"Ö"],[51,"ö"],[52,"ß"],[53,"¥"],[54,"¤"],[55,"│"],[56,"Å"],[57,"å"],[58,"Ø"],[59,"ø"],[60,"┌"],[61,"┐"],[62,"└"],[63,"┘"]]);function iT(mn,kn){this.h=bx,this.s=new tT(mn,kn),this.i=new tT(mn,kn),this.l=new tT(mn,kn),this.g=this.i,this.j=0,this.m=null}function aT(mn,kn,xn){mn.g=mn.i;var An=mn.g,Mn=null;return mn.h!==yS&&mn.h!==Vy&&(Mn=hS(An,mn.j,xn),xn=mn.i,xn.g=0<xn.h?xn.h:0,Dv(xn,0,15),xn=mn.l,xn.g=0<xn.h?xn.h:0,Dv(xn,0,15),An.g=15),mn.h=yS,An.h=kn,Mn}function kx(mn){mn.h=Y_,mn.g=mn.l,mn.g.h=0}function oT(mn){cp("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),mn.g=mn.s,mn.h=Vy}var bx=0,Y_=1,yS=3,Vy=4,NM="black green blue cyan red yellow magenta black".split(" "),KA="white green blue cyan red yellow magenta white_italics".split(" ");function WA(){this.l=!1,this.F=this.H=0,this.G=qA,this.i=[],this.g=this.h=this.j=0,this.C=this.s=!1,this.B="white",this.m="black",xx(this)}function xx(mn){mn.i=[];for(var kn=0;16>kn;kn++)mn.i.push(wx())}function wx(){for(var mn=[],kn=0;42>kn;kn++)mn.push(null);return mn}function lv(mn,kn){pp(mn)&&(mn.i[mn.h][mn.g]=new Sx(kn,mn.C,mn.s,mn.m,mn.B),mn.g++)}function pp(mn){var kn=mn.g<mn.F&&0<=mn.g;return mn.h<mn.H&&0<=mn.h&&kn}WA.prototype.isVisible=function(){return this.l};function X_(mn,kn,xn){var An=new tl(mn.j,kn,"");return An.textAlign=mn.G===DM?"left":mn.G===vS?"right":Dp,(xn=Ex(An,"svc"+xn,mn.i,mn.j,kn))&&(mn.j=kn),xn}var DM=0,vS=1,qA=2;function YA(){this.i=[],this.h=null,this.g=0}function XA(mn,kn){kn.type===3?(mn.g=2*(kn.value&63)-1,mn.h=[]):mn.h&&(0<mn.g&&(mn.h.push(kn),mn.g--),mn.g===0&&(mn.i.push(new _S(mn.h)),mn.h=null,mn.g=0))}function _S(mn){this.g=0,this.h=mn}_S.prototype.xa=function(){return this.g<this.h.length},_S.prototype.ma=function(){return this.g};function $p(mn){if(!mn.xa())throw new Hs(2,2,3e3);return mn.h[mn.g++]}_S.prototype.skip=function(mn){if(this.g+mn>this.h.length)throw new Hs(2,2,3e3);this.g+=mn};function LM(mn){this.i=mn,this.h=[null,null,null,null,null,null,null,null],this.g=null}function Cx(mn,kn,xn,An){if(128<=xn&&135>=xn)An=xn&7,mn.h[An]&&(mn.g=mn.h[An]);else{if(xn===136){xn=$p(kn).value,kn=null,xn=Dn(ES(mn,xn));for(var Mn=xn.next();!Mn.done;Mn=xn.next())Mn=mn.h[Mn.value],Mn.isVisible()&&(kn=X_(Mn,An,mn.i)),xx(Mn);return kn}if(xn===137)for(kn=$p(kn).value,kn=Dn(ES(mn,kn)),xn=kn.next();!xn.done;xn=kn.next())xn=mn.h[xn.value],xn.isVisible()||(xn.j=An),xn.l=!0;else{if(xn===138){for(xn=$p(kn).value,kn=null,xn=Dn(ES(mn,xn)),Mn=xn.next();!Mn.done;Mn=xn.next())Mn=mn.h[Mn.value],Mn.isVisible()&&(kn=X_(Mn,An,mn.i)),Mn.l=!1;return kn}if(xn===139){for(xn=$p(kn).value,kn=null,xn=Dn(ES(mn,xn)),Mn=xn.next();!Mn.done;Mn=xn.next())Mn=mn.h[Mn.value],Mn.isVisible()?kn=X_(Mn,An,mn.i):Mn.j=An,Mn.l=!Mn.l;return kn}if(xn===140)return kn=$p(kn).value,QA(mn,kn,An);if(xn===143)return An=QA(mn,255,An),ZA(mn),An;if(xn===144)kn.skip(1),An=$p(kn).value,mn.g&&(mn.g.s=0<(An&128),mn.g.C=0<(An&64));else if(xn===145)An=$p(kn).value,xn=$p(kn).value,kn.skip(1),mn.g&&(kn=Ax((xn&48)>>4,(xn&12)>>2,xn&3),mn.g.B=Ax((An&48)>>4,(An&12)>>2,An&3),mn.g.m=kn);else if(xn===146)An=$p(kn).value,kn=$p(kn).value,mn.g&&(mn=mn.g,mn.h=An&15,mn.g=kn&63);else if(xn===151)kn.skip(1),kn.skip(1),An=$p(kn).value,kn.skip(1),mn.g&&(mn.g.G=An&3);else if(152<=xn&&159>=xn){if(xn=(xn&15)-8,Mn=mn.h[xn]!==null,!Mn){var Un=new WA;Un.j=An,mn.h[xn]=Un}An=$p(kn).value,$p(kn),$p(kn),Un=$p(kn).value;var Bn=$p(kn).value;kn=$p(kn).value,Mn&&!(kn&7)||(kn=mn.h[xn],kn.h=0,kn.g=0,kn.C=!1,kn.s=!1,kn.B="white",kn.m="black"),kn=mn.h[xn],kn.l=0<(An&32),kn.H=(Un&15)+1,kn.F=(Bn&63)+1,mn.g=mn.h[xn]}}}return null}function ES(mn,kn){for(var xn=[],An=0;8>An;An++)(kn&1)===1&&mn.h[An]&&xn.push(An),kn>>=1;return xn}function QA(mn,kn,xn){var An=null;kn=Dn(ES(mn,kn));for(var Mn=kn.next();!Mn.done;Mn=kn.next()){Mn=Mn.value;var Un=mn.h[Mn];Un.isVisible()&&(An=X_(Un,xn,mn.i)),mn.h[Mn]=null}return An}function ZA(mn){mn.g=null,mn.h=[null,null,null,null,null,null,null,null]}function Ax(mn,kn,xn){var An={0:0,1:0,2:1,3:1};return mn=An[mn],kn=An[kn],xn=An[xn],JA[mn<<2|kn<<1|xn]}var sT=new Map([[32," "],[33," "],[37,"…"],[42,"Š"],[44,"Œ"],[48,"█"],[49,"‘"],[50,"’"],[51,"“"],[52,"”"],[53,"•"],[57,"™"],[58,"š"],[60,"œ"],[61,"℠"],[63,"Ÿ"],[118,"⅛"],[119,"⅜"],[120,"⅝"],[121,"⅞"],[122,"│"],[123,"┐"],[124,"└"],[125,"─"],[126,"┘"],[127,"┌"]]),JA="black blue green cyan red magenta yellow white".split(" ");function eI(){this.h=[],this.g=[],this.i=new YA,this.l=0,this.B=new Map([["CC1",new iT(0,0)],["CC2",new iT(0,1)],["CC3",new iT(1,0)],["CC4",new iT(1,1)]]),this.s=this.m=0,this.j=new Map,SS(this)}function SS(mn){mn.m=0,mn.s=0,mn=Dn(mn.B.values());for(var kn=mn.next();!kn.done;kn=mn.next())kn=kn.value,kn.h=2,kn.g=kn.i,kn.m=null,tE(kn.i),tE(kn.l),tE(kn.s)}function tI(mn){function kn(Un,Bn){return Un.pts-Bn.pts||Un.order-Bn.order}var xn=[];mn.h.sort(kn),mn.g.sort(kn);for(var An=Dn(mn.h),Mn=An.next();!Mn.done;Mn=An.next())(Mn=Ix(mn,Mn.value))&&xn.push(Mn);for(An=Dn(mn.g),Mn=An.next();!Mn.done;Mn=An.next())XA(mn.i,Mn.value);for(An=Dn(mn.i.i),Mn=An.next();!Mn.done;Mn=An.next())Mn=Px(mn,Mn.value),xn.push.apply(xn,Kn(Mn));return mn.i.i=[],mn.h=[],mn.g=[],xn}function Ix(mn,kn){var xn=kn.type;if((kn.Oa&112)===16){var An=kn.Oa>>3&1;xn===0?mn.m=An:mn.s=An}if(xn=mn.B.get("CC"+(xn<<1|(xn?mn.s:mn.m)+1)),kn.Oa===255&&kn.hb===255||!kn.Oa&&!kn.hb||!uT(kn.Oa)||!uT(kn.hb))return 45<=++mn.l&&SS(mn),null;if(mn.l=0,kn.Oa&=127,kn.hb&=127,!kn.Oa&&!kn.hb)return null;if(mn=null,(kn.Oa&112)===16)e:{if(An=kn.Oa,mn=kn.hb,xn.m===(An<<8|mn))xn.m=null;else if(xn.m=An<<8|mn,(An&240)===16&&(mn&192)===64){kn=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(An&7)<<1|mn>>5&1];var Mn=(mn&30)>>1;An="white";var Un=!1;if(7>Mn?An=KA[Mn]:Mn===7&&(Un=!0),mn=(mn&1)===1,xn.h!==Vy){if(Mn=xn.g,xn.h===yS&&kn!==Mn.g){var Bn=1+kn-Mn.h;zA(Mn,Bn,1+Mn.g-Mn.h,Mn.h),Dv(Mn,0,Bn-1),Dv(Mn,kn+1,15-kn)}Mn.g=kn,xn.g.m=mn,xn.g.j=Un,xn.g.l=An,xn.g.s="black"}}else if((An&247)===17&&(mn&240)===32)xn.g.m=!1,xn.g.j=!1,xn.g.l="white",rE(xn.g,f_,32),An=!1,kn=KA[(mn&14)>>1],kn==="white_italics"&&(kn="white",An=!0),xn.g.m=(mn&1)===1,xn.g.j=An,xn.g.l=kn;else if((An&247)===16&&(mn&240)===32||(An&247)===23&&(mn&255)===45)kn="black",!(An&7)&&(kn=NM[(mn&14)>>1]),xn.g.s=kn;else if((An&247)===17&&(mn&240)===48)rE(xn.g,rT,mn);else if((An&246)===18&&(mn&224)===32)rE(xn.g,An&1?Tx:$x,mn);else if((An&246)===20&&(mn&240)===32){switch(mn=kn.pts,An=null,kn.hb){case 32:kx(xn);break;case 33:xn=xn.g,xn.i[xn.g].pop();break;case 37:An=aT(xn,2,mn);break;case 38:An=aT(xn,3,mn);break;case 39:An=aT(xn,4,mn);break;case 40:rE(xn.g,f_,32);break;case 41:xn.h=2,xn.g=xn.i,xn.g.h=0,xn.j=mn;break;case 42:tE(xn.s),oT(xn);break;case 43:oT(xn);break;case 44:kn=xn.i,An=null,xn.h!==Vy&&(An=hS(kn,xn.j,mn)),Dv(kn,0,15);break;case 45:kn=xn.g,xn.h!==yS?An=null:(An=hS(kn,xn.j,mn),Un=kn.g-kn.h+1,zA(kn,Un-1,Un,kn.h),Dv(kn,0,Un-1),Dv(kn,kn.g,15-kn.g),xn.j=mn);break;case 46:Dv(xn.l,0,15);break;case 47:kn=null,xn.h!==Vy&&(kn=hS(xn.i,xn.j,mn)),An=xn.l,xn.l=xn.i,xn.i=An,kx(xn),xn.j=mn,An=kn}mn=An;break e}mn=null}else An=kn.hb,rE(xn.g,f_,kn.Oa),rE(xn.g,f_,An);return mn}function Px(mn,kn){var xn=[];try{for(;kn.xa();){var An=$p(kn).value,Mn=(An&224)>>5,Un=An&31;if(Mn===7&&Un!=0&&(Mn=$p(kn).value&63),Mn!=0){mn.j.has(Mn)||mn.j.set(Mn,new LM(Mn));for(var Bn=mn.j.get(Mn),zn=kn.ma();kn.ma()-zn<Un;){Mn=kn;var Wn=$p(Mn),ts=Wn.value,os=Wn.pts;if(ts===16){var ds=$p(Mn);ts=ts<<16|ds.value}if(0<=ts&&31>=ts){var ls=os;if(Bn.g){var ys=Bn.g;switch(Mn=null,ts){case 8:!pp(ys)||0>=ys.g&&0>=ys.h||(0>=ys.g?(ys.g=ys.F-1,ys.h--):ys.g--,ys.i[ys.h][ys.g]=null);break;case 13:if(ys.isVisible()&&(Mn=X_(ys,ls,Bn.i)),ys.h+1>=ys.H){ls=ys;for(var Cs=0,Ns=1;16>Ns;Ns++,Cs++)ls.i[Cs]=ls.i[Ns];for(Ns=0;1>Ns;Ns++,Cs++)ls.i[Cs]=wx()}else ys.h++;ys.g=0;break;case 14:ys.isVisible()&&(Mn=X_(ys,ls,Bn.i)),ys.i[ys.h]=wx(),ys.g=0;break;case 12:ys.isVisible()&&(Mn=X_(ys,ls,Bn.i)),xx(ys),ls=ys,ls.h=0,ls.g=0}var Os=Mn}else Os=null}else if(128<=ts&&159>=ts)Os=Cx(Bn,Mn,ts,os);else{if(4096<=ts&&4127>=ts)ls=ts&255,8<=ls&&15>=ls?Mn.skip(1):16<=ls&&23>=ls?Mn.skip(2):24<=ls&&31>=ls&&Mn.skip(3);else if(4224<=ts&&4255>=ts)ls=ts&255,128<=ls&&135>=ls?Mn.skip(4):136<=ls&&143>=ls&&Mn.skip(5);else if(32<=ts&&127>=ts)Mn=ts,Bn.g&&(Mn===127?lv(Bn.g,"♪"):lv(Bn.g,String.fromCharCode(Mn)));else if(160<=ts&&255>=ts)Bn.g&&lv(Bn.g,String.fromCharCode(ts));else if(4128<=ts&&4223>=ts){if(Mn=ts&255,Bn.g)if(sT.has(Mn)){var Ps=sT.get(Mn);lv(Bn.g,Ps)}else lv(Bn.g,"_")}else 4256<=ts&&4351>=ts&&Bn.g&&((ts&255)!=160?lv(Bn.g,"_"):lv(Bn.g,"[CC]"));Os=null}(Mn=Os)&&xn.push(Mn)}}}}catch(Xs){if(Xs instanceof Hs&&Xs.code===3e3)cp("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.");else throw Xs}return xn}function uT(mn){for(var kn=0;mn;)kn^=mn&1,mn>>=1;return kn===1}function Q_(){}Q_.prototype.init=function(){},Q_.prototype.parse=function(){return[]};function $S(mn,kn){var xn=null,An=null,Mn=null,Un=mn.N();return kn&1&&(Mn=mn.Cb()),kn&2&&mn.skip(4),kn&8&&(xn=mn.N()),kn&16&&(An=mn.N()),{trackId:Un,Cf:xn,vg:An,oj:Mn}}function Ox(mn,kn){return{rf:kn==1?mn.Cb():mn.N()}}function Mx(mn,kn){return kn==1?(mn.skip(8),mn.skip(8)):(mn.skip(4),mn.skip(4)),{timescale:mn.N()}}function Hm(mn,kn,xn){var An=mn.N(),Mn=[],Un=null;xn&1&&(Un=mn.N()),xn&4&&mn.skip(4);for(var Bn=0;Bn<An;Bn++){var zn={Ge:null,sampleSize:null,Ld:null};xn&256&&(zn.Ge=mn.N()),xn&512&&(zn.sampleSize=mn.N()),xn&1024&&mn.skip(4),xn&2048&&(zn.Ld=kn==0?mn.N():mn.Qf()),Mn.push(zn)}return{tj:An,Sf:Mn,ug:Un}}function Rx(){this.j=new Map,this.i=this.h=0,this.g=cl}Rx.prototype.init=function(mn){function kn(Un){Un=Un.name,Un in TS&&(xn.g=TS[Un])}var xn=this,An=[],Mn=[];if(new Nl().box("moov",zl).box("mvex",zl).T("trex",function(Un){var Bn=Un.reader;Bn.skip(4),Bn.skip(4),Un=Bn.N(),Bn=Bn.N(),xn.h=Un,xn.i=Bn}).box("trak",zl).T("tkhd",function(Un){var Bn=Un.reader;Un.version==1?(Bn.skip(8),Bn.skip(8)):(Bn.skip(4),Bn.skip(4)),Un=Bn.N(),An.push(Un)}).box("mdia",zl).T("mdhd",function(Un){Un=Mx(Un.reader,Un.version),Mn.push(Un.timescale)}).box("minf",zl).box("stbl",zl).T("stsd",G0).box("avc1",kn).box("avc3",kn).box("hev1",kn).box("hvc1",kn).box("dvh1",kn).box("dvhe",kn).box("encv",z$).box("sinf",zl).box("frma",function(Un){Un=Un.reader.N(),Un=Hl(Un),Un in TS&&(xn.g=TS[Un])}).parse(mn,!0),!An.length||!Mn.length||An.length!=Mn.length)throw new Hs(2,2,2010);this.g==cl&&$u("Unable to determine bitstream format for CEA parsing!"),An.forEach(function(Un,Bn){xn.j.set(Un,Mn[Bn])})},Rx.prototype.parse=function(mn){var kn=this;if(this.g==cl)return[];var xn=[],An=this.h,Mn=this.i,Un=[],Bn=null,zn=null,Wn=null,ts=9e4;return new Nl().box("moof",function(os){Bn=os.start,zl(os)}).box("traf",zl).T("trun",function(os){os=Hm(os.reader,os.version,os.flags),Un=os.Sf,zn=os.ug}).T("tfhd",function(os){os=$S(os.reader,os.flags),An=os.Cf||kn.h,Mn=os.vg||kn.i,os=os.trackId,kn.j.has(os)&&(ts=kn.j.get(os))}).T("tfdt",function(os){Wn=Ox(os.reader,os.version).rf}).box("mdat",function(os){if(Wn===null)throw new Hs(2,2,2010);e:{var ds=os.reader,ls=Wn,ys=ts,Cs=An,Ns=Mn,Os=Un,Ps=0,Xs=Ns;for(Os.length&&(Xs=Os[0].sampleSize||Ns),ds.skip((Bn||0)+(zn||0)-os.start-8);ds.xa();){os=ds.N();var Ds=ds.ob();switch(kn.g){case nE:Ds&=31,Ds=Ds==6;break;case iE:Ds=Ds>>1&63,Ds=Ds==39||Ds==40;break;default:break e}if(Ds){Ds=0,Os.length>Ps&&(Ds=Os[Ps].Ld||0),Ds=(ls+Ds)/ys;for(var qs=[],Qs,ru=ds.Bb(os-1),ou=Qs=0;ou<ru.length;)Qs==2&&ru[ou]==3?(Qs=0,ru=[].concat(Kn(ru)),ru.splice(ou,1),ru=new Uint8Array(ru)):ru[ou]==0?Qs++:Qs=0,ou++;for(Qs=ru,ou=0;ou<Qs.length;){for(ru=0;Qs[ou]==255;)ru+=255,ou++;ru+=Qs[ou++];for(var hu=0;Qs[ou]==255;)hu+=255,ou++;hu+=Qs[ou++],ru==4&&qs.push(Qs.subarray(ou,ou+hu)),ou+=hu}for(qs=Dn(qs),Qs=qs.next();!Qs.done;Qs=qs.next())xn.push({qh:Qs.value,pts:Ds})}else try{ds.skip(os-1)}catch{break}Xs-=os+4,Xs==0&&(ls=Os.length>Ps?ls+(Os[Ps].Ge||Cs):ls+Cs,Ps++,Xs=Os.length>Ps&&Os[Ps].sampleSize||Ns)}}}).parse(mn,!1),xn};var cl=0,nE=1,iE=2,TS={avc1:nE,avc3:nE,hev1:iE,hvc1:iE,dvh1:iE,dvhe:iE};function lT(mn){this.h=new Q_,mn.includes("video/mp4")&&(this.h=new Rx),this.g=new eI}lT.prototype.init=function(mn){this.h.init(mn)};function Nx(mn,kn){kn=mn.h.parse(kn),kn=Dn(kn);for(var xn=kn.next();!xn.done;xn=kn.next()){var An=xn.value,Mn=Ku(An.qh);if(0<Mn.length&&(xn=mn.g,An=An.pts,Mn=new Tl(Mn,0),Mn.ob()===181&&Mn.De()===49&&Mn.N()===1195456820&&Mn.ob()===3)){var Un=Mn.ob();if(Un&64){Un&=31,Mn.skip(1);for(var Bn=0;Bn<Un;Bn++){var zn=Mn.ob(),Wn=(zn&4)>>2,ts=Mn.ob(),os=Mn.ob();Wn&&(zn&=3,zn===0||zn===1?xn.h.push({pts:An,type:zn,Oa:ts,hb:os,order:xn.h.length}):(xn.g.push({pts:An,type:zn,value:ts,order:xn.g.length}),xn.g.push({pts:An,type:2,value:os,order:xn.g.length})))}}}}return tI(mn.g)}function Km(mn,kn,xn,An,Mn){this.Pa=mn,this.Ta=kn,this.Ca=xn,this.we=An===void 0?null:An,this.timescale=Mn}Km.prototype.Jc=function(){return this.Ta},Km.prototype.Fc=function(){return this.Ca};function UM(mn,kn){return mn&&kn?mn.Jc()==kn.Jc()&&mn.Fc()==kn.Fc()&&Zu(mn.Pa(),kn.Pa()):mn==kn}Ys("shaka.media.InitSegmentReference",Km),Km.prototype.getEndByte=Km.prototype.Fc,Km.prototype.getStartByte=Km.prototype.Jc;function rl(mn,kn,xn,An,Mn,Un,Bn,zn,Wn,ts,os,ds,ls,ys,Cs){ts=ts===void 0?[]:ts,ys=ys===void 0?kS:ys,this.startTime=mn,this.l=this.endTime=kn,this.C=xn,this.Ta=An,this.Ca=Mn,this.h=Un,this.timestampOffset=Bn,this.appendWindowStart=zn,this.appendWindowEnd=Wn,this.i=ts,this.tilesLayout=os===void 0?"":os,this.B=ds===void 0?null:ds,this.g=ls===void 0?null:ls,this.status=ys,this.m=Cs===void 0?null:Cs,this.s=null,this.j=0}En=rl.prototype,En.Pa=function(){return this.C()},En.getStartTime=function(){return this.startTime},En.Hg=function(){return this.endTime},En.Jc=function(){return this.Ta},En.Fc=function(){return this.Ca},En.$g=function(){return this.tilesLayout},En.Zg=function(){return this.B},En.ec=function(){return this.status},En.jh=function(){this.status=Dx},En.Zf=function(mn){this.s=mn},En.Xg=function(){return this.s},En.offset=function(mn){this.startTime+=mn,this.endTime+=mn,this.l+=mn;for(var kn=Dn(this.i),xn=kn.next();!xn.done;xn=kn.next())xn=xn.value,xn.startTime+=mn,xn.endTime+=mn,xn.l+=mn},En.Ve=function(mn){this.g==null?fl("Sync attempted without sync time!"):(mn=this.g-mn-this.startTime,.001<=Math.abs(mn)&&this.offset(mn))},Ys("shaka.media.SegmentReference",rl),rl.prototype.syncAgainst=rl.prototype.Ve,rl.prototype.offset=rl.prototype.offset,rl.prototype.getThumbnailSprite=rl.prototype.Xg,rl.prototype.setThumbnailSprite=rl.prototype.Zf,rl.prototype.markAsUnavailable=rl.prototype.jh,rl.prototype.getStatus=rl.prototype.ec,rl.prototype.getTileDuration=rl.prototype.Zg,rl.prototype.getTilesLayout=rl.prototype.$g,rl.prototype.getEndByte=rl.prototype.Fc,rl.prototype.getStartByte=rl.prototype.Jc,rl.prototype.getEndTime=rl.prototype.Hg,rl.prototype.getStartTime=rl.prototype.getStartTime,rl.prototype.getUris=rl.prototype.Pa;var kS=0,Dx=1;rl.Status={Uh:kS,hj:Dx,wi:2};function rI(mn){return!mn||mn.length==1&&1e-6>mn.end(0)-mn.start(0)?null:mn.length==1&&0>mn.start(0)?0:mn.length?mn.start(0):null}function aE(mn){return!mn||mn.length==1&&1e-6>mn.end(0)-mn.start(0)?null:mn.length?mn.end(mn.length-1):null}function oE(mn,kn){return!mn||!mn.length||mn.length==1&&1e-6>mn.end(0)-mn.start(0)||kn>mn.end(mn.length-1)?!1:kn>=mn.start(0)}function cT(mn,kn){if(!mn||!mn.length||mn.length==1&&1e-6>mn.end(0)-mn.start(0))return 0;var xn=0;mn=Dn(Lv(mn));for(var An=mn.next();!An.done;An=mn.next()){var Mn=An.value;An=Mn.start,Mn=Mn.end,Mn>kn&&(xn+=Mn-Math.max(An,kn))}return xn}function jM(mn,kn,xn){return!mn||!mn.length||mn.length==1&&1e-6>mn.end(0)-mn.start(0)?null:(mn=Lv(mn).findIndex(function(An,Mn,Un){return An.start>kn&&(Mn==0||Un[Mn-1].end-kn<=xn)}),0<=mn?mn:null)}function Lv(mn){if(!mn)return[];for(var kn=[],xn=0;xn<mn.length;xn++)kn.push({start:mn.start(xn),end:mn.end(xn)});return kn}function sE(){}function Lx(mn,kn){var xn=(mn[kn]&127)<<21;return xn|=(mn[kn+1]&127)<<14,xn|=(mn[kn+2]&127)<<7,xn|=mn[kn+3]&127}function FM(mn){var kn={key:mn.type,description:"",data:""};if(mn.type==="TXXX"){if(2>mn.size||mn.data[0]!==3)return null;var xn=mn.data.subarray(1).indexOf(0);if(xn===-1)return null;var An=xl(Ku(mn.data,1,xn));return mn=xl(Ku(mn.data,2+xn)).replace(/\0*$/,""),kn.description=An,kn.data=mn,kn}return mn.type==="WXXX"?2>mn.size||mn.data[0]!==3||(xn=mn.data.subarray(1).indexOf(0),xn===-1)?null:(An=xl(Ku(mn.data,1,xn)),mn=xl(Ku(mn.data,2+xn)).replace(/\0*$/,""),kn.description=An,kn.data=mn,kn):mn.type==="PRIV"?2>mn.size||(An=mn.data.indexOf(0),An===-1)?null:(An=xl(Ku(mn.data,0,An)),mn=fp(mn.data.subarray(An.length+1)),kn.description=An,kn.data=mn,kn):mn.type[0]==="T"?2>mn.size||mn.data[0]!==3?null:(mn=xl(mn.data.subarray(1)).replace(/\0*$/,""),kn.data=mn,kn):mn.type[0]==="W"?(mn=xl(mn.data).replace(/\0*$/,""),kn.data=mn,kn):mn.data?(kn.data=fp(mn.data),kn):null}function dT(mn){for(var kn=0,xn=[];kn+10<=mn.length&&mn[kn]===73&&mn[kn+1]===68&&mn[kn+2]===51&&255>mn[kn+3]&&255>mn[kn+4]&&128>mn[kn+6]&&128>mn[kn+7]&&128>mn[kn+8]&&128>mn[kn+9];){var An=Lx(mn,kn+6);for(mn[kn+5]>>6&1&&(kn+=10),kn+=10,An=kn+An;kn+10<An;){var Mn=mn.subarray(kn),Un=Lx(Mn,4);Mn={type:String.fromCharCode(Mn[0],Mn[1],Mn[2],Mn[3]),size:Un,data:Mn.subarray(10,10+Un)},(Un=FM(Mn))&&xn.push(Un),kn+=Mn.size+10}kn+10<=mn.length&&mn[kn]===51&&mn[kn+1]===68&&mn[kn+2]===73&&255>mn[kn+3]&&255>mn[kn+4]&&128>mn[kn+6]&&128>mn[kn+7]&&128>mn[kn+8]&&128>mn[kn+9]&&(kn+=10)}return xn}Ys("shaka.util.Id3Utils",sE),sE.getID3Frames=dT;function fT(){this.s=null,this.B=!1,this.l=this.m=null,this.F=[],this.g=this.h=null,this.C=[],this.j=null,this.i=[]}fT.prototype.parse=function(mn){if(564>mn.length)return this;for(var kn=Math.max(0,nI(mn)),xn=mn.length-(mn.length+kn)%188,An=!1,Mn=kn;Mn<xn;Mn+=188)if(mn[Mn]===71){var Un=!!(mn[Mn+1]&64),Bn=((mn[Mn+1]&31)<<8)+mn[Mn+2];if(1<(mn[Mn+3]&48)>>4){var zn=Mn+5+mn[Mn+4];if(zn===Mn+188)continue}else zn=Mn+4;switch(Bn){case 0:Un&&(zn+=mn[zn]+1),this.s=(mn[zn+10]&31)<<8|mn[zn+11];break;case 17:case 8191:break;case this.s:Un&&(zn+=mn[zn]+1),Un=mn,Bn={audio:-1,video:-1,me:-1,audioCodec:"",videoCodec:""};var Wn=zn+3+((Un[zn+1]&15)<<8|Un[zn+2])-4;for(zn+=12+((Un[zn+10]&15)<<8|Un[zn+11]);zn<Wn;){var ts=(Un[zn+1]&31)<<8|Un[zn+2];switch(Un[zn]){case 15:Bn.audio===-1&&(Bn.audio=ts,Bn.audioCodec="aac");break;case 21:Bn.me===-1&&(Bn.me=ts);break;case 27:Bn.video===-1&&(Bn.video=ts,Bn.videoCodec="avc");break;case 3:case 4:Bn.audio===-1&&(Bn.audio=ts,Bn.audioCodec="mp3");break;case 36:Bn.video===-1&&(Bn.video=ts,Bn.videoCodec="hvc")}zn+=((Un[zn+3]&15)<<8|Un[zn+4])+5}Un=Bn,this.l==null&&(this.l=Un.video),this.g==null&&(this.g=Un.audio),this.j==null&&(this.j=Un.me),An&&!this.B&&(An=!1,Mn=kn-188),this.B=!0;break;case this.l:Un=mn.subarray(zn,Mn+188),this.m==null&&(zn=pT(Un))&&zn.pts!=null&&(this.m=zn.pts/9e4),this.F.push(Un);break;case this.g:Un=mn.subarray(zn,Mn+188),this.h==null&&(zn=pT(Un))&&zn.pts!=null&&(this.h=zn.pts/9e4),this.C.push(Un);break;case this.j:this.i.push(mn.subarray(zn,Mn+188));break;default:An=!0}}return this};function pT(mn){if((mn[0]<<16|mn[1]<<8|mn[2])!==1)return null;var kn={data:new Uint8Array(0),sj:6+(mn[4]<<8|mn[5]),pts:null,dts:null},xn=mn[7];return xn&192&&(kn.pts=536870912*(mn[9]&14)+4194304*(mn[10]&255)+16384*(mn[11]&254)+128*(mn[12]&255)+(mn[13]&254)/2,kn.dts=kn.pts,xn&64&&(kn.dts=536870912*(mn[14]&14)+4194304*(mn[15]&255)+16384*(mn[16]&254)+128*(mn[17]&255)+(mn[18]&254)/2)),kn.data=mn.subarray(9+mn[8]),kn}function BM(mn){for(var kn=[],xn=new Uint8Array(0),An=mn.i.length-1;0<=An;An--){xn=Up(mn.i[An],xn);var Mn=pT(xn);Mn&&(kn.unshift({cueTime:Mn.pts?Mn.pts/9e4:null,data:Mn.data,frames:dT(Mn.data),dts:Mn.dts,pts:Mn.pts}),xn=new Uint8Array(0))}return kn}fT.prototype.getStartTime=function(){return{audio:this.h,video:this.m}};function nI(mn){for(var kn=Math.min(1e3,mn.length-564),xn=0;xn<kn;){if(mn[xn]===71&&mn[xn+188]===71&&mn[xn+376]===71)return xn;xn++}return-1}Ys("shaka.util.TsParser",fT);function Uv(mn,kn,xn){this.g=null,this.i=-1,this.j=mn,this.h=kn,this.l=xn,typeof libDPIModule>"u"&&$u("Could not Find LCEVC Library dependencies on this page"),typeof LcevcDil>"u"?$u("Could not Find LCEVC Library on this page"):LcevcDil.SupportObject.SupportStatus||$u(LcevcDil.SupportObject.SupportError),typeof LcevcDil<"u"&&typeof libDPIModule<"u"&&this.h instanceof HTMLCanvasElement&&LcevcDil.SupportObject.SupportStatus&&!this.g&&LcevcDil.SupportObject.webGLSupport(this.h)&&(this.h.classList.remove("shaka-hidden"),this.g=new LcevcDil.LcevcDil(this.j,this.h,this.l))}Uv.prototype.release=function(){this.g&&(this.g.close(),this.g=null)};function Ux(mn,kn){var xn=iI;switch(kn.mimeType){case"video/webm":xn=hT;break;case"video/mp4":xn=VM}mn.g&&(mn.i=kn.id,mn.g.setLevelSwitching(kn.id,!0),mn.g.setContainerFormat(xn))}Ys("shaka.lcevc.Dil",Uv),Uv.prototype.release=Uv.prototype.release;var iI=0,hT=1,VM=2;function p_(mn,kn,xn,An){var Mn=this;this.l=mn,this.I=null,this.m=kn,this.h={},this.M={},this.P={},this.g=null,this.J=!1,this.V=xn||function(){},this.H=An||null,this.i={},this.C=new xu,this.s={},this.B=null,this.K=new _l,this.j=aI(this,this.K),this.G=new Ov(function(){return GM(Mn)}),this.O="",this.F=!1,this.X=new _l}function aI(mn,kn){var xn=new MediaSource;return mn.C.ya(xn,"sourceopen",function(){URL.revokeObjectURL(mn.O),kn.resolve()}),mn.O=CS(xn),mn.l.src=mn.O,xn}En=p_.prototype,En.destroy=function(){return this.G.destroy()};function GM(mn){var kn,xn,An,Mn,Un,Bn,zn,Wn;return hs(function(ts){if(ts.g==1){kn=[];for(xn in mn.i)for(An=mn.i[xn],Mn=An[0],mn.i[xn]=An.slice(0,1),Mn&&kn.push(Mn.p.catch(Zv)),Un=Dn(An.slice(1)),Bn=Un.next();!Bn.done;Bn=Un.next())zn=Bn.value,zn.p.reject(new Hs(2,7,7003,void 0));mn.g&&kn.push(mn.g.destroy()),mn.m&&kn.push(mn.m.destroy());for(Wn in mn.s)kn.push(mn.s[Wn].destroy());return Qn(ts,Promise.all(kn),2)}mn.C&&(mn.C.release(),mn.C=null),mn.l&&(mn.l.removeAttribute("src"),mn.l.load(),mn.l=null),mn.I=null,mn.j=null,mn.g=null,mn.m=null,mn.h={},mn.s={},mn.B=null,mn.i={},mn.H=null,ms(ts)})}En.init=function(mn,kn,xn){xn=xn===void 0?!1:xn;var An=this,Mn,Un,Bn,zn,Wn,ts,os,ds;return hs(function(ls){if(ls.g==1)return Mn=Pu,Qn(ls,An.K,2);for(An.F=xn,Un={},Bn=Dn(mn.keys()),zn=Bn.next();!zn.done;Un={Ea:Un.Ea},zn=Bn.next())if(Un.Ea=zn.value,Wn=mn.get(Un.Ea),ts=Vm(Wn.mimeType,Wn.codecs),Un.Ea==Mn.ba)bS(An,ts,xn);else{!kn&&dp(ts)||!km(ts,Un.Ea)||(An.s[Un.Ea]=new ml(ts),ts=U0(Un.Ea,ts)),os=ts+An.I.sourceBufferExtraFeatures,Ol(An.G),ds=void 0;try{ds=An.j.addSourceBuffer(os)}catch(ys){throw new Hs(2,3,3015,ys,"The mediaSource_ status was"+An.j.readyState+"expected 'open'")}An.C.o(ds,"error",function(ys){return function(){An.i[ys.Ea][0].p.reject(new Hs(2,3,3014,An.l.error?An.l.error.code:0))}}(Un)),An.C.o(ds,"updateend",function(ys){return function(){return dy(An,ys.Ea)}}(Un)),An.h[Un.Ea]=ds,An.M[Un.Ea]=ts,An.i[Un.Ea]=[],An.P[Un.Ea]=!!Wn.drmInfos.length}ms(ls)})},En.configure=function(mn){this.I=mn};function bS(mn,kn,xn){mn.g||(mn.g=new Us(mn.m));var An=mn.g;mn=mn.J,kn=="application/cea-608"||kn=="application/cea-708"?An.i=null:(An.i=(0,Ul[kn])(),An.i.setSequenceMode?An.i.setSequenceMode(xn):$u('Text parsers should have a "setSequenceMode" method!'),An.C=mn)}function jx(mn){return mn.j?mn.j.readyState=="ended":!0}function oI(mn,kn){return kn==Vu?mn.g.g:rI(jv(mn,kn))}function xS(mn,kn){return kn==Vu?mn.g.h:aE(jv(mn,kn))}function sI(mn,kn,xn){return kn==Vu?(mn=mn.g,mn.h==null||mn.h<xn?0:mn.h-Math.max(xn,mn.g)):(mn=jv(mn,kn),cT(mn,xn))}En.ib=function(){var mn={total:Lv(this.l.buffered),audio:Lv(jv(this,"audio")),video:Lv(jv(this,"video")),text:[]};if(this.g){var kn=this.g.g,xn=this.g.h;kn!=null&&xn!=null&&mn.text.push({start:kn,end:xn})}return mn};function jv(mn,kn){try{return mn.h[kn].buffered}catch{return null}}function wS(mn,kn,xn,An,Mn,Un,Bn){Un=Un===void 0?!1:Un,Bn=Bn===void 0?!1:Bn;var zn,Wn,ts,os,ds,ls,ys,Cs,Ns,Os,Ps,Xs,Ds,qs,Qs,ru,ou,hu,gu,ju,Xu,Qu,dl;return hs(function(Du){switch(Du.g){case 1:if(zn=Pu,kn!=zn.ba){Du.D(2);break}if(!mn.F){Du.D(3);break}return Qn(Du,mn.X,4);case 4:Wn=Du.h,mn.g.B=Wn;case 3:return Qn(Du,mu(mn.g,xn,An?An.startTime:null,An?An.endTime:null),5);case 5:return Du.return();case 2:if(ts=Ku(xn),os=mn.M[kn],mn.s[kn]&&(os=mn.s[kn].s),0>nI(ts)?Gy.includes(os)&&(Cs=dT(ts),Cs.length&&An&&(Ns={cueTime:An.startTime,data:ts,frames:Cs,dts:An.startTime,pts:An.startTime},mn.V([Ns],0,An.endTime))):(ds=new fT().parse(ts),ls=An.startTime-(ds.getStartTime()[kn]||0),ys=BM(ds),ys.length&&mn.V(ys,ls,An?An.endTime:null)),!mn.s[kn]){Mn&&kn==zn.Ma&&(mn.g||bS(mn,"application/cea-608",mn.F),mn.B||(mn.B=new lT(os)),An?(Os=Nx(mn.B,xn),Os.length&&(Ps=mn.h[zn.Ma].timestampOffset,jp(mn.g,Os,An.startTime,An.endTime,Ps))):mn.B.init(xn)),Du.D(6);break}return Un&&mn.s[kn].g.resetCaptions(),Qn(Du,D$(mn.s[kn],xn),7);case 7:Xs=Du.h,mn.g||bS(mn,"application/cea-608",mn.F),Xs.captions&&Xs.captions.length&&(Ds=mn.h[zn.Ma].timestampOffset,qs=El(Xs.captions),jp(mn.g,qs,An?An.startTime:null,An?An.endTime:null,Ds)),xn=Xs.data;case 6:if(xn=cI(mn,xn,An?An.startTime:null,kn),Qs=mn.h[kn],ru=Kx,!mn.F||Qs.mode==ru||!An){Du.D(8);break}if(ou=mn.j.duration,hu=kn==zn.Ma||!(zn.Ma in mn.h),!hu){Du.D(9);break}return gu=[Qs.appendWindowStart,Qs.appendWindowEnd],Qs.appendWindowStart=0,Qs.appendWindowEnd=1/0,ju=Qs.timestampOffset,Qs.timestampOffset=0,Qn(Du,ku(mn,kn,function(){return Bx(mn,kn,xn)}),10);case 10:return Qn(Du,ku(mn,kn,function(){return uE(mn,kn)}),11);case 11:return Qs.timestampOffset=ju,Qs.appendWindowStart=gu[0],Qs.appendWindowEnd=gu[1],Xu=rI(jv(mn,kn)),Qu=(An.startTime||0)-(Xu||0),mn.X.resolve(Qu),Qn(Du,ku(mn,kn,function(){return Vx(mn,kn,0,ou)}),12);case 12:if(kn!=zn.Ma){Du.D(9);break}return Qn(Du,ku(mn,kn,function(){mn.l.currentTime-=.001,dy(mn,kn)}),9);case 9:return Qs.mode=ru,Qn(Du,mn.Sa(ou),8);case 8:return An&&mn.F&&kn!=zn.ba&&(Un||Bn)&&(dl=An.startTime,ku(mn,kn,function(){return uE(mn,kn)}),ku(mn,kn,function(){return Gx(mn,kn,dl)})),Qn(Du,ku(mn,kn,function(){Bx(mn,kn,xn)}),16);case 16:ms(Du)}})}function Fx(mn,kn){var xn=xS(mn,"video")||0;fu(mn.g,kn,xn)}function Z_(mn){mn.g&&fu(mn.g,"",0)}En.remove=function(mn,kn,xn){var An=this,Mn;return hs(function(Un){return Mn=Pu,mn==Mn.ba?Qn(Un,An.g.remove(kn,xn),0):Qn(Un,ku(An,mn,function(){return Vx(An,mn,kn,xn)}),0)})};function sm(mn,kn){var xn;return hs(function(An){return xn=Pu,kn==xn.ba?mn.g?Qn(An,mn.g.remove(0,1/0),0):An.return():Qn(An,ku(mn,kn,function(){return Vx(mn,kn,0,mn.j.duration)}),0)})}En.flush=function(mn){var kn=this,xn;return hs(function(An){return xn=Pu,mn==xn.ba?An.return():Qn(An,ku(kn,mn,function(){kn.l.currentTime-=.001,dy(kn,mn)}),0)})};function uI(mn,kn,xn,An,Mn,Un){var Bn;return hs(function(zn){return Bn=Pu,kn==Bn.ba?(Un||(mn.g.B=xn),uu(mn.g,An,Mn),zn.return()):Qn(zn,Promise.all([ku(mn,kn,function(){return uE(mn,kn)}),Un?Promise.resolve():ku(mn,kn,function(){return Gx(mn,kn,xn)}),ku(mn,kn,function(){mn.h[kn].appendWindowStart=0,mn.h[kn].appendWindowEnd=Mn,mn.h[kn].appendWindowStart=An,dy(mn,kn)})]),0)})}function mT(mn,kn,xn){var An;return hs(function(Mn){return An=Pu,kn==An.ba?Mn.return():(ku(mn,kn,function(){return uE(mn,kn)}),Qn(Mn,ku(mn,kn,function(){return Gx(mn,kn,xn)}),0))})}En.endOfStream=function(mn){var kn=this;return hs(function(xn){return Qn(xn,zx(kn,function(){jx(kn)||kn.j.readyState==="closed"||(mn?kn.j.endOfStream(mn):kn.j.endOfStream())}),0)})},En.Sa=function(mn){var kn=this;return hs(function(xn){return Qn(xn,zx(kn,function(){if(mn<kn.j.duration)for(var An in kn.h){var Mn={start:function(){},p:new _l};kn.i[An].unshift(Mn)}kn.j.duration=mn}),0)})},En.getDuration=function(){return this.j.duration};function Bx(mn,kn,xn){if(kn=="video"&&mn.H){var An=mn.H;An.g&&An.g.appendBuffer(xn,"video",An.i)}mn.h[kn].appendBuffer(xn)}function Vx(mn,kn,xn,An){An<=xn?dy(mn,kn):mn.h[kn].remove(xn,An)}function uE(mn,kn){var xn=mn.h[kn].appendWindowStart,An=mn.h[kn].appendWindowEnd;mn.h[kn].abort(),mn.h[kn].appendWindowStart=xn,mn.h[kn].appendWindowEnd=An,dy(mn,kn)}function Gx(mn,kn,xn){0>xn&&(xn+=.001),mn.h[kn].timestampOffset=xn,dy(mn,kn)}function dy(mn,kn){var xn=mn.i[kn][0];xn&&(xn.p.resolve(),Hx(mn,kn))}function ku(mn,kn,xn){return Ol(mn.G),xn={start:xn,p:new _l},mn.i[kn].push(xn),mn.i[kn].length==1&&lI(mn,kn),xn.p}function zx(mn,kn){var xn,An,Mn,Un,Bn,zn;return hs(function(Wn){switch(Wn.g){case 1:Ol(mn.G),xn=[],An={};for(Mn in mn.h)An.yc=new _l,Un={start:function(ts){return function(){return ts.yc.resolve()}}(An),p:An.yc},mn.i[Mn].push(Un),xn.push(An.yc),mn.i[Mn].length==1&&Un.start(),An={yc:An.yc};return $s(Wn,2),Qn(Wn,Promise.all(xn),4);case 4:gs(Wn,3);break;case 2:throw Bn=Ss(Wn),Bn;case 3:try{kn()}catch(ts){throw new Hs(2,3,3015,ts)}finally{for(zn in mn.h)Hx(mn,zn)}ms(Wn)}})}function Hx(mn,kn){mn.i[kn].shift(),lI(mn,kn)}function lI(mn,kn){var xn=mn.i[kn][0];if(xn)try{xn.start()}catch(An){An.name=="QuotaExceededError"?xn.p.reject(new Hs(2,3,3017,kn)):xn.p.reject(new Hs(2,3,3015,An)),Hx(mn,kn)}}function cI(mn,kn,xn,An){var Mn=mn.P[An];return xn==null&&Mn&&(Fm()||xv())&&mn.M[An].split(";")[0].split("/")[1]=="mp4"&&(kn=_x(kn)),kn}var CS=pn.URL.createObjectURL,Kx="sequence",Gy=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"];function Gu(mn,kn,xn){this.i=mn,this.m=kn,this.s=this.j=1/0,this.g=1,this.h=this.l=null,this.B=0,this.C=!0,this.F=0,this.G=xn===void 0?!0:xn,this.H=0,this.I=!1}En=Gu.prototype,En.getDuration=function(){return this.j},En.Pg=function(){return this.g},En.Yf=function(mn){this.i=mn},En.Sa=function(mn){this.j=mn},En.Tg=function(){return this.i},En.Uf=function(mn){this.B=mn},En.$c=function(mn){this.C=mn},En.Re=function(mn){this.s=mn},En.Vf=function(mn){this.m=mn},En.Gg=function(){return this.m},En.lc=function(mn){if(mn.length!=0){var kn=mn[0].startTime,xn=mn[0].endTime,An=(Date.now()+this.B)/1e3;mn=Dn(mn);for(var Mn=mn.next();!Mn.done;Mn=mn.next())Mn=Mn.value,An<Mn.startTime||(kn=Math.min(kn,Mn.startTime),xn=Math.max(xn,Mn.endTime),this.g=Math.max(this.g,Mn.endTime-Mn.startTime));this.Ae(kn),this.h=Math.max(this.h,xn),this.i!=null&&this.G&&!this.I&&(this.i=An-this.h-this.g)}},En.ve=function(){this.I=!0},En.Ae=function(mn){this.l=this.l==null?mn:Math.min(this.l,mn)},En.ze=function(mn){this.g=Math.max(this.g,mn)},En.offset=function(mn){this.l!=null&&(this.l+=mn),this.h!=null&&(this.h+=mn)},En.U=function(){return this.j==1/0&&!this.C},En.Lb=function(){return this.j!=1/0&&!this.C},En.kb=function(){return Math.max(this.F,this.Ib()-this.s)},En.$f=function(mn){this.F=mn},En.Ib=function(){return this.U()||this.Lb()?Math.min(Math.max(0,(Date.now()+this.B)/1e3-this.g-this.i)+this.H,this.j):this.h?Math.min(this.h,this.j):this.j},En.Ic=function(mn){var kn=Math.max(this.l,this.F);return this.s==1/0?Math.ceil(1e3*kn)/1e3:Math.max(kn,Math.min(this.Ib()-this.s+mn,this.jb()))},En.dc=function(){return this.Ic(0)},En.jb=function(){return Math.max(0,this.Ib()-(this.U()||this.Lb()?this.m:0))},En.eg=function(){return!(this.i==null||this.h!=null&&this.G)},En.Tf=function(mn){this.H=mn},Ys("shaka.media.PresentationTimeline",Gu),Gu.prototype.setAvailabilityTimeOffset=Gu.prototype.Tf,Gu.prototype.usingPresentationStartTime=Gu.prototype.eg,Gu.prototype.getSeekRangeEnd=Gu.prototype.jb,Gu.prototype.getSeekRangeStart=Gu.prototype.dc,Gu.prototype.getSafeSeekRangeStart=Gu.prototype.Ic,Gu.prototype.getSegmentAvailabilityEnd=Gu.prototype.Ib,Gu.prototype.setUserSeekStart=Gu.prototype.$f,Gu.prototype.getSegmentAvailabilityStart=Gu.prototype.kb,Gu.prototype.isInProgress=Gu.prototype.Lb,Gu.prototype.isLive=Gu.prototype.U,Gu.prototype.offset=Gu.prototype.offset,Gu.prototype.notifyMaxSegmentDuration=Gu.prototype.ze,Gu.prototype.notifyMinSegmentStartTime=Gu.prototype.Ae,Gu.prototype.lockStartTime=Gu.prototype.ve,Gu.prototype.notifySegments=Gu.prototype.lc,Gu.prototype.getDelay=Gu.prototype.Gg,Gu.prototype.setDelay=Gu.prototype.Vf,Gu.prototype.setSegmentAvailabilityDuration=Gu.prototype.Re,Gu.prototype.setStatic=Gu.prototype.$c,Gu.prototype.setClockOffset=Gu.prototype.Uf,Gu.prototype.getPresentationStartTime=Gu.prototype.Tg,Gu.prototype.setDuration=Gu.prototype.Sa,Gu.prototype.setPresentationStartTime=Gu.prototype.Yf,Gu.prototype.getMaxSegmentDuration=Gu.prototype.Pg,Gu.prototype.getDuration=Gu.prototype.getDuration;function Wx(mn,kn,xn){this.l=xn,this.j=mn,this.B=Yx(mn),this.g=mn.g.currentTime,this.m=Date.now()/1e3,this.h=!1,this.s=0,this.C=kn,this.i=function(){}}Wx.prototype.release=function(){this.l=this.j=null,this.i=function(){}};function qx(mn,kn){mn.i=kn}function dI(mn){this.g=mn}function Yx(mn){if(mn.g.paused||mn.g.playbackRate==0||mn.g.buffered.length==0)var kn=!1;else e:{kn=mn.g.currentTime,mn=Dn(Lv(mn.g.buffered));for(var xn=mn.next();!xn.done;xn=mn.next())if(xn=xn.value,!(kn<xn.start-.1||kn>xn.end-.5)){kn=!0;break e}kn=!1}return kn}function gT(mn,kn,xn,An,Mn){var Un=this;this.s=Mn,this.g=mn,this.B=kn,this.G=xn,this.i=new xu,this.m=!1,this.F=mn.readyState,this.C=0,this.h=An,this.l=!1,this.i.o(mn,"waiting",function(){return yT(Un)}),this.j=new Tu(function(){yT(Un)}).ha(.25)}gT.prototype.release=function(){this.i&&(this.i.release(),this.i=null),this.j!=null&&(this.j.stop(),this.j=null),this.h&&(this.h.release(),this.h=null),this.g=this.B=this.s=null},gT.prototype.Ce=function(){this.l=!0,yT(this)};function yT(mn){if(mn.g.readyState!=0){if(mn.g.seeking){if(!mn.m)return}else mn.m=!1;if(!mn.g.paused||mn.g.currentTime==0&&(mn.g.autoplay||mn.g.currentTime!=0)){mn.g.readyState!=mn.F&&(mn.F=mn.g.readyState);var kn;if(!(kn=!mn.h)){kn=mn.h;var xn=kn.j,An=Yx(xn),Mn=xn.g.currentTime,Un=Date.now()/1e3;(kn.g!=Mn||kn.B!=An)&&(kn.m=Un,kn.g=Mn,kn.B=An,kn.h=!1),Mn=Un-kn.m,(An=Mn>=kn.C&&An&&!kn.h)&&(kn.i(kn.g,Mn),kn.h=!0,kn.g=xn.g.currentTime,kn.s++,kn.l(new _u("stalldetected"))),kn=!An}kn&&(kn=mn.g.currentTime,xn=mn.g.buffered,An=jM(xn,kn,mn.G.gapDetectionThreshold),An==null||An==0&&!mn.l||(Mn=xn.start(An),Mn>=mn.B.jb()||.001>Mn-kn||(An!=0&&xn.end(An-1),mn.g.currentTime=Mn,mn.C++,mn.s(new _u("gapjumped")))))}}}function J_(mn,kn,xn,An){kn==HTMLMediaElement.HAVE_NOTHING||mn.readyState>=kn?An():(kn=fI.value().get(kn),xn.ya(mn,kn,An))}var fI=new Sm(function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])});function Xx(mn,kn,xn){var An=this;this.g=mn,this.l=kn,this.j=xn,this.m=!1,this.h=new xu,this.i=new pI(mn),J_(this.g,HTMLMediaElement.HAVE_METADATA,this.h,function(){Jx(An,An.j)})}Xx.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.i!=null&&(this.i.release(),this.i=null),this.l=function(){},this.g=null};function Qx(mn){return mn.m?mn.g.currentTime:mn.j}function Zx(mn,kn){0<mn.g.readyState?yl(mn.i,kn):J_(mn.g,HTMLMediaElement.HAVE_METADATA,mn.h,function(){Jx(mn,mn.j)})}function Jx(mn,kn){.001>Math.abs(mn.g.currentTime-kn)?ew(mn):(mn.h.ya(mn.g,"seeking",function(){ew(mn)}),yl(mn.i,mn.g.currentTime&&mn.g.currentTime!=0?mn.g.currentTime:kn))}function ew(mn){mn.m=!0,mn.h.o(mn.g,"seeking",function(){return mn.l()})}function pI(mn){var kn=this;this.h=mn,this.m=10,this.l=this.j=this.i=0,this.g=new Tu(function(){0>=kn.i||kn.h.currentTime!=kn.j?kn.g.stop():(kn.h.currentTime=kn.l,kn.i--)})}pI.prototype.release=function(){this.g&&(this.g.stop(),this.g=null),this.h=null};function yl(mn,kn){mn.j=mn.h.currentTime,mn.l=kn,mn.i=mn.m,mn.h.currentTime=kn,mn.g.ha(.1)}function hI(mn){this.g=mn,this.j=!1,this.h=null,this.i=new xu}En=hI.prototype,En.ge=function(){function mn(){kn.h==null||kn.h==0?kn.j=!0:(kn.i.ya(kn.g,"seeking",function(){kn.j=!0}),kn.g.currentTime=Math.max(0,kn.g.currentTime+kn.h))}var kn=this;J_(this.g,HTMLMediaElement.HAVE_CURRENT_DATA,this.i,function(){mn()})},En.release=function(){this.i&&(this.i.release(),this.i=null),this.g=null},En.ie=function(mn){this.h=this.j?this.h:mn},En.kd=function(){return(this.j?this.g.currentTime:this.h)||0},En.nf=function(){return 0},En.mf=function(){return 0},En.Pf=function(){};function vT(mn,kn,xn,An,Mn,Un){var Bn=this;this.i=mn,this.g=kn.presentationTimeline,this.F=kn.minBufferTime||0,this.l=xn,this.C=Mn,this.B=null,this.s=mI(mn,xn,Un),this.j=new gT(mn,kn.presentationTimeline,xn,this.s,Un),this.h=new Xx(mn,function(){e:{var zn=Bn.j;zn.m=!0,zn.l=!1;var Wn=Qx(Bn.h);if(zn=lE(Bn,Wn),.001<Math.abs(zn-Wn)&&(Wn=Date.now()/1e3,!Bn.B||Bn.B<Wn-1)){Bn.B=Wn,Zx(Bn.h,zn),zn=void 0;break e}Bn.C(),zn=void 0}return zn},zy(this,An)),this.m=new Tu(function(){if(Bn.i.readyState!=0&&!Bn.i.paused){var zn=Qx(Bn.h),Wn=Bn.g.dc(),ts=Bn.g.jb();3>ts-Wn&&(Wn=ts-3),zn<Wn&&(zn=lE(Bn,zn),Bn.i.currentTime=zn)}})}En=vT.prototype,En.ge=function(){this.m.ha(.25)},En.release=function(){this.h&&(this.h.release(),this.h=null),this.j&&(this.j.release(),this.j=null),this.m&&(this.m.stop(),this.m=null),this.i=this.h=this.g=this.l=null,this.C=function(){}},En.ie=function(mn){Zx(this.h,mn)},En.kd=function(){var mn=Qx(this.h);return 0<this.i.readyState&&!this.i.paused?tw(this,mn):mn},En.nf=function(){return this.s?this.s.s:0},En.mf=function(){return this.j.C};function zy(mn,kn){return kn==null?kn=1/0>mn.g.getDuration()?mn.g.dc():mn.g.jb():0>kn&&(kn=mn.g.jb()+kn),_d(mn,tw(mn,kn))}En.Pf=function(){this.j.Ce()};function _d(mn,kn){var xn=mn.g.getDuration();return kn>=xn?xn-mn.l.durationBackoff:kn}function lE(mn,kn){var xn=Math.max(mn.F,mn.l.rebufferingGoal),An=mn.l.safeSeekOffset,Mn=mn.g.dc(),Un=mn.g.jb(),Bn=mn.g.getDuration();3>Un-Mn&&(Mn=Un-3);var zn=mn.g.Ic(xn),Wn=mn.g.Ic(An);return xn=mn.g.Ic(xn+An),kn>=Bn?_d(mn,kn):kn>Un?Un:kn<Mn?oE(mn.i.buffered,Wn)?Wn:xn:kn>=zn||oE(mn.i.buffered,kn)?kn:xn}function tw(mn,kn){var xn=mn.g.dc();return kn<xn?xn:(mn=mn.g.jb(),kn>mn?mn:kn)}function mI(mn,kn,xn){if(!kn.stallEnabled)return null;var An=kn.stallSkip;return kn=new Wx(new dI(mn),kn.stallThreshold,xn),qx(kn,function(){An?mn.currentTime+=An:(mn.pause(),mn.play())}),kn}function vl(mn){this.g=mn,this.h=null,this.i=0,this.j=!1}En=vl.prototype,En.release=function(){this.j||(this.g=[],this.h&&this.h.stop(),this.h=null)},En.kh=function(){this.j=!0};function _T(mn,kn){mn=Dn(mn.g);for(var xn=mn.next();!xn.done;xn=mn.next())kn(xn.value)}En.find=function(mn){for(var kn=this.g.length-1,xn=kn;0<=xn;--xn){var An=this.g[xn],Mn=xn<kn?this.g[xn+1].startTime:An.endTime;if(mn>=An.startTime&&mn<Mn)return xn+this.i}return this.g.length&&mn<this.g[0].startTime?this.i:null},En.get=function(mn){return this.g.length==0?null:(mn-=this.i,0>mn||mn>=this.g.length?null:this.g[mn])},En.offset=function(mn){if(!this.j)for(var kn=Dn(this.g),xn=kn.next();!xn.done;xn=kn.next())xn.value.offset(mn)},En.Sc=function(mn){if(!this.j&&mn.length){var kn=Math.round(1e3*mn[0].startTime)/1e3;this.g=this.g.filter(function(xn){return Math.round(1e3*xn.startTime)/1e3<kn}),this.g.push.apply(this.g,Kn(mn))}},En.kc=function(mn,kn){var xn=this;mn=mn.filter(function(An){return An.endTime>kn&&(xn.g.length==0||An.endTime>xn.g[0].startTime)}),this.Sc(mn),this.Gb(kn)},En.Gb=function(mn){if(!this.j){var kn=this.g.length;this.g=this.g.filter(function(xn){return xn.endTime>mn}),this.i+=kn-this.g.length}},En.wb=function(mn,kn,xn){if(xn=xn===void 0?!1:xn,!this.j){for(;this.g.length&&this.g[this.g.length-1].startTime>=kn;)this.g.pop();for(;this.g.length&&this.g[0].endTime<=mn;)this.g.shift(),xn||this.i++;this.g.length!=0&&(mn=this.g[this.g.length-1],this.g[this.g.length-1]=new rl(mn.startTime,kn,mn.C,mn.Ta,mn.Ca,mn.h,mn.timestampOffset,mn.appendWindowStart,mn.appendWindowEnd,mn.i,mn.tilesLayout,mn.B,mn.g,mn.status,mn.m),this.g[this.g.length-1].j=mn.j)}},En.Nd=function(mn,kn){var xn=this;this.j||(this.h&&this.h.stop(),this.h=new Tu(function(){var An=kn();An?xn.g.push.apply(xn.g,Kn(An)):(xn.h.stop(),xn.h=null)}),this.h.ha(mn))},vl.prototype[Symbol.iterator]=function(){return this.bc(0)},vl.prototype.bc=function(mn){var kn=this.find(mn);if(kn==null)return null;kn--;var xn=this.get(kn+1),An=-1;if(xn&&0<xn.i.length)for(var Mn=xn.i.length-1;0<=Mn;--Mn){var Un=xn.i[Mn];if(mn>=Un.startTime&&mn<Un.endTime){kn++,An=Mn-1;break}}return new Hy(this,kn,An)};function rw(mn,kn,xn){return new vl([new rl(mn,mn+kn,function(){return xn},0,null,null,mn,mn,mn+kn)])}Ys("shaka.media.SegmentIndex",vl),vl.forSingleSegment=rw,vl.prototype.getIteratorForTime=vl.prototype.bc,vl.prototype.updateEvery=vl.prototype.Nd,vl.prototype.fit=vl.prototype.wb,vl.prototype.evict=vl.prototype.Gb,vl.prototype.mergeAndEvict=vl.prototype.kc,vl.prototype.offset=vl.prototype.offset,vl.prototype.get=vl.prototype.get,vl.prototype.find=vl.prototype.find,vl.prototype.markImmutable=vl.prototype.kh,vl.prototype.release=vl.prototype.release;function Hy(mn,kn,xn){this.i=mn,this.g=kn,this.h=xn}Hy.prototype.sg=function(){return this.g},Hy.prototype.current=function(){var mn=this.i.get(this.g);return mn&&0<mn.i.length&&mn.Pa().length&&this.h>=mn.i.length&&(this.g++,this.h=0,mn=this.i.get(this.g)),mn&&0<mn.i.length?mn.i[this.h]:mn},Hy.prototype.next=function(){var mn=this.i.get(this.g);return mn&&0<mn.i.length?(this.h++,mn.Pa().length&&this.h==mn.i.length&&(this.g++,this.h=0)):(this.g++,this.h=0),mn=this.current(),{value:mn,done:!mn}},Ys("shaka.media.SegmentIterator",Hy),Hy.prototype.next=Hy.prototype.next,Hy.prototype.current=Hy.prototype.current,Hy.prototype.currentPosition=Hy.prototype.sg;function ip(){vl.call(this,[]),this.l=[]}as(ip,vl),En=ip.prototype,En.clone=function(){var mn=new ip;return mn.l=this.l.slice(),mn},En.release=function(){for(var mn=Dn(this.l),kn=mn.next();!kn.done;kn=mn.next())kn.value.release();this.l=[]},En.find=function(mn){for(var kn=0,xn=Dn(this.l),An=xn.next();!An.done;An=xn.next()){An=An.value;var Mn=An.find(mn);if(Mn!=null)return Mn+kn;kn+=An.i+An.g.length}return null},En.get=function(mn){for(var kn=0,xn=Dn(this.l),An=xn.next();!An.done;An=xn.next()){An=An.value;var Mn=An.get(mn-kn);if(Mn)return Mn;kn+=An.i+An.g.length}return null},En.offset=function(){},En.Sc=function(){},En.Gb=function(){},En.kc=function(){},En.wb=function(){},En.Nd=function(){},Ys("shaka.media.MetaSegmentIndex",ip),ip.prototype.updateEvery=ip.prototype.Nd,ip.prototype.fit=ip.prototype.wb,ip.prototype.mergeAndEvict=ip.prototype.kc,ip.prototype.evict=ip.prototype.Gb,ip.prototype.merge=ip.prototype.Sc,ip.prototype.offset=ip.prototype.offset,ip.prototype.get=ip.prototype.get,ip.prototype.find=ip.prototype.find,ip.prototype.release=ip.prototype.release;function e0(mn){var kn=this;this.g=mn,this.j=!1,this.i=this.g.wd(),this.h=new Tu(function(){kn.g.Of(.25*kn.i)})}e0.prototype.release=function(){this.h&&(this.h.stop(),this.h=null),this.g=null},e0.prototype.set=function(mn){this.i=mn,AS(this)},e0.prototype.td=function(){return this.g.td()};function AS(mn){mn.h.stop();var kn=mn.j?0:mn.i;if(0<=kn)try{mn.g.wd()!=kn&&mn.g.Pe(kn);return}catch{}mn.h.ha(.25),mn.g.wd()!=0&&mn.g.Pe(0)}function h_(mn){var kn=this;this.h=mn,this.g=new Set,this.i=new Tu(function(){cE(kn,!1)}).ha(.25)}h_.prototype.release=function(){this.i.stop();for(var mn=Dn(this.g),kn=mn.next();!kn.done;kn=mn.next())kn.value.release();this.g.clear()};function cE(mn,kn){for(var xn=Dn(mn.g),An=xn.next();!An.done;An=xn.next())An.value.j(mn.h.currentTime,kn)}function Fv(mn){Eu.call(this),this.g=new Map,this.h=mn}as(Fv,Eu),Fv.prototype.release=function(){this.g.clear(),Eu.prototype.release.call(this)};function IS(mn,kn){var xn=mn.g.get(kn);return xn||(xn={Uc:[],Af:null,contentType:kn},mn.g.set(kn,xn)),xn}function nw(mn,kn,xn){var An=IS(mn,kn.contentType);gI(mn,An),mn={we:kn,position:xn},An=An.Uc,kn=An.findIndex(function(Mn){return Mn.position>=xn}),0<=kn?An.splice(kn,An[kn].position==xn?1:0,mn):An.push(mn)}Fv.prototype.j=function(mn){for(var kn=Dn(this.g.values()),xn=kn.next();!xn.done;xn=kn.next()){xn=xn.value;e:{for(var An=xn.Uc,Mn=An.length-1;0<=Mn;Mn--){var Un=An[Mn];if(Un.position<=mn){An=Un.we;break e}}An=null}if((Mn=An)&&(Mn=xn.Af,Mn=!(Mn===An||Mn&&An&&Mn.bandwidth==An.bandwidth&&Mn.audioSamplingRate==An.audioSamplingRate&&Mn.codecs==An.codecs&&Mn.contentType==An.contentType&&Mn.frameRate==An.frameRate&&Mn.height==An.height&&Mn.mimeType==An.mimeType&&Mn.channelsCount==An.channelsCount&&Mn.pixelAspectRatio==An.pixelAspectRatio&&Mn.width==An.width)),Mn)e:{if(Mn=mn,Un=An.contentType,(Un=this.h()[Un])&&0<Un.length){var Bn=Un[Un.length-1].end;if(Mn>=Un[0].start&&Mn<Bn){Mn=!0;break e}}Mn=!1}Mn&&(xn.Af=An,JSON.stringify(An),xn=new _u("qualitychange",new Map([["quality",An],["position",mn]])),this.dispatchEvent(xn))}};function gI(mn,kn){if((mn=mn.h()[kn.contentType])&&0<mn.length){var xn=mn[0].start,An=mn[mn.length-1].end,Mn=kn.Uc;kn.Uc=Mn.filter(function(Un,Bn){return!(Un.position<=xn&&Bn+1<Mn.length&&Mn[Bn+1].position<=xn||Un.position>=An)})}else kn.Uc=[]}function iw(mn){Eu.call(this);var kn=this;this.g=new Set,this.i=mn,this.h=new Tu(function(){for(var xn=kn.i(),An=Dn(kn.g),Mn=An.next();!Mn.done;Mn=An.next())Mn=Mn.value,Mn.endTime<xn.start&&(kn.g.delete(Mn),Mn=new _u("regionremove",new Map([["region",Mn]])),kn.dispatchEvent(Mn))}).ha(2)}as(iw,Eu),iw.prototype.release=function(){this.g.clear(),this.h.stop(),Eu.prototype.release.call(this)};function ET(mn){Eu.call(this);var kn=this;this.i=mn,this.g=new Map,this.l=[{Vb:null,Ub:r0,Kb:function(xn,An){return t0(kn,"enter",xn,An)}},{Vb:dE,Ub:r0,Kb:function(xn,An){return t0(kn,"enter",xn,An)}},{Vb:m_,Ub:r0,Kb:function(xn,An){return t0(kn,"enter",xn,An)}},{Vb:r0,Ub:dE,Kb:function(xn,An){return t0(kn,"exit",xn,An)}},{Vb:r0,Ub:m_,Kb:function(xn,An){return t0(kn,"exit",xn,An)}},{Vb:dE,Ub:m_,Kb:function(xn,An){return t0(kn,"skip",xn,An)}},{Vb:m_,Ub:dE,Kb:function(xn,An){return t0(kn,"skip",xn,An)}}],this.h=new xu,this.h.o(this.i,"regionremove",function(xn){kn.g.delete(xn.region)})}as(ET,Eu),ET.prototype.release=function(){this.i=null,this.g.clear(),this.h.release(),this.h=null,Eu.prototype.release.call(this)},ET.prototype.j=function(mn,kn){for(var xn=Dn(this.i.g),An=xn.next();!An.done;An=xn.next()){An=An.value;var Mn=this.g.get(An),Un=mn<An.startTime?dE:mn>An.endTime?m_:r0;this.g.set(An,Un);for(var Bn=Dn(this.l),zn=Bn.next();!zn.done;zn=Bn.next())zn=zn.value,zn.Vb==Mn&&zn.Ub==Un&&zn.Kb(An,kn)}};function t0(mn,kn,xn,An){kn=new _u(kn,new Map([["region",xn],["seeking",An]])),mn.dispatchEvent(kn)}var dE=1,r0=2,m_=3;function g_(mn,kn,xn,An,Mn){return mn=ll(mn,An,Mn),(kn!=0||xn!=null)&&(mn.headers.Range=xn?"bytes="+kn+"-"+xn:"bytes="+kn+"-"),mn}function yI(mn,kn){var xn=this;this.g=kn,this.m=mn,this.i=null,this.C=1,this.s=this.l=null,this.H=0,this.G=!1,this.j=new Map,this.F=!1,this.I=null,this.B=!1,this.h=new Ov(function(){return zM(xn)})}En=yI.prototype,En.destroy=function(){return this.h.destroy()};function zM(mn){var kn,xn,An,Mn;return hs(function(Un){if(Un.g==1){for(kn=[],xn=Dn(mn.j.values()),An=xn.next();!An.done;An=xn.next())Mn=An.value,pE(Mn),kn.push(dw(Mn));return Qn(Un,Promise.all(kn),2)}mn.j.clear(),mn.g=null,mn.m=null,mn.i=null,ms(Un)})}En.configure=function(mn){this.i=mn,this.I=new G_({maxAttempts:Math.max(mn.retryParameters.maxAttempts,2),baseDelay:mn.retryParameters.baseDelay,backoffFactor:mn.retryParameters.backoffFactor,fuzzFactor:mn.retryParameters.fuzzFactor,timeout:0,stallTimeout:0,connectionTimeout:0},!0)},En.start=function(){var mn=this;return hs(function(kn){if(kn.g==1)return Qn(kn,qM(mn),2);Ol(mn.h),mn.F=!0,ms(kn)})};function HM(mn,kn){var xn,An,Mn,Un,Bn,zn;hs(function(Wn){switch(Wn.g){case 1:return xn=Pu,mn.H++,An=mn.H,$s(Wn,2),Qn(Wn,sm(mn.g.S,xn.ba),4);case 4:gs(Wn,3);break;case 2:Mn=Ss(Wn),mn.g&&mn.g.onError(Mn);case 3:Un=Vm(kn.mimeType,kn.codecs),bS(mn.g.S,Un,mn.m.sequenceMode),Bn=mn.g.S.m,(Bn.isTextVisible()||mn.i.alwaysStreamText)&&mn.H==An&&(zn=SI(kn),mn.j.set(xn.ba,zn),py(mn,zn,0)),ms(Wn)}})}function vI(mn){var kn=mn.j.get(Vu);kn&&(pE(kn),dw(kn).catch(function(){}),mn.j.delete(Vu)),mn.s=null}function _I(mn,kn){var xn=mn.j.get("video");if(xn){var An=xn.stream;An&&(kn?(kn=An.trickModeVideo)&&!xn.Sb&&(fE(mn,kn,!1,0,!1),xn.Sb=An):(An=xn.Sb)&&(xn.Sb=null,fE(mn,An,!0,0,!1)))}}function EI(mn,kn,xn,An,Mn,Un){xn=xn===void 0?!1:xn,An=An===void 0?0:An,Mn=Mn===void 0?!1:Mn,Un=Un===void 0?!1:Un,mn.l=kn,mn.F&&(kn.video&&fE(mn,kn.video,xn,An,Mn,Un),kn.audio&&fE(mn,kn.audio,xn,An,Mn,Un))}function ST(mn,kn){hs(function(xn){if(xn.g==1)return mn.s=kn,mn.F?kn.segmentIndex?xn.D(2):Qn(xn,kn.createSegmentIndex(),2):xn.return();fE(mn,kn,!0,0,!1),ms(xn)})}function fE(mn,kn,xn,An,Mn,Un){var Bn=mn.j.get(kn.type);Bn||kn.type!=Vu?Bn&&(Bn.Sb&&(kn.trickModeVideo?(Bn.Sb=kn,kn=kn.trickModeVideo):Bn.Sb=null),Bn.stream!=kn||Mn)&&(kn.type==Vu&&bS(mn.g.S,Vm(kn.mimeType,kn.codecs),mn.m.sequenceMode),Bn.stream.closeSegmentIndex&&Bn.stream.closeSegmentIndex(),Bn.stream=kn,Bn.qa=null,Bn.pf=!!Un,xn&&(Bn.Cc?Bn.Pd=!0:Bn.Ia?(Bn.Eb=!0,Bn.qd=An,Bn.Pd=!0):(pE(Bn),cw(mn,Bn,!0,An).catch(function(zn){mn.g&&mn.g.onError(zn)}))),KM(mn,Bn).catch(function(zn){mn.g&&mn.g.onError(zn)})):HM(mn,kn)}function KM(mn,kn){var xn,An;return hs(function(Mn){if(Mn.g==1)return kn.Ka?(xn=kn.stream,An=kn.Ka,xn.segmentIndex?Mn.D(2):Qn(Mn,xn.createSegmentIndex(),2)):Mn.return();if(kn.Ka!=An||kn.stream!=xn)return Mn.return();var Un=mn.g.vd(),Bn=xS(mn.g.S,kn.type),zn=kn.stream.segmentIndex.find(kn.Ga?kn.Ga.endTime:Un),Wn=zn==null?null:kn.stream.segmentIndex.get(zn);zn=Wn&&Wn.Ca?Wn.Ca-Wn.Ta:null,Wn&&!zn&&(zn=(Wn.endTime-Wn.getStartTime())*(kn.stream.bandwidth||0)/8),zn?((Wn=Wn.h)&&(zn+=(Wn.Ca?Wn.Ca-Wn.Ta:null)||0),Wn=mn.g.getBandwidthEstimate(),Un=8*zn/Wn<(Bn||0)-Un-Math.max(mn.m.minBufferTime||0,mn.i.rebufferingGoal)||kn.Ka.h.g>zn):Un=!1,Un&&kn.Ka.abort(),ms(Mn)})}En.Xc=function(){if(this.g)for(var mn=this.g.vd(),kn=Dn(this.j.keys()),xn=kn.next();!xn.done;xn=kn.next()){var An=xn.value;xn=this.j.get(An),xn.qa=null;var Mn=this.g.S;if(An==Vu?(Mn=Mn.g,Mn=Mn.g==null||Mn.h==null?!1:mn>=Mn.g&&mn<Mn.h):(Mn=jv(Mn,An),Mn=oE(Mn,mn)),!Mn){if((xS(this.g.S,An)!=null||xn.Ia)&&WM(this,xn),xn.Ka&&(xn.Ka.abort(),xn.Ka=null),An===Vu&&(An=this.g.S,An.B))for(An=An.B.g,An.l=0,An.h=[],An.g=[],Mn=An.i,Mn.i=[],Mn.h=[],Mn.g=0,SS(An),An=Dn(An.j.values()),Mn=An.next();!Mn.done;Mn=An.next())ZA(Mn.value);xn.Xc=!0}}};function WM(mn,kn){kn.Cc||kn.Eb||(kn.Ia?(kn.Eb=!0,kn.qd=0):oI(mn.g.S,kn.type)==null?kn.eb==null&&py(mn,kn,0):(pE(kn),cw(mn,kn,!1,0).catch(function(xn){mn.g&&mn.g.onError(xn)})))}function qM(mn){var kn,xn,An,Mn,Un,Bn,zn,Wn,ts,os;return hs(function(ds){if(ds.g==1){if(kn=Pu,!mn.l)throw new Hs(2,5,5006);return xn=new Map,An=new Set,mn.l.audio&&(xn.set(kn.jd,mn.l.audio),An.add(mn.l.audio)),mn.l.video&&(xn.set(kn.Ma,mn.l.video),An.add(mn.l.video)),mn.s&&(xn.set(kn.ba,mn.s),An.add(mn.s)),Mn=mn.g.S,Un=mn.i.forceTransmux,Qn(ds,Mn.init(xn,Un,mn.m.sequenceMode),2)}for(Ol(mn.h),mn.updateDuration(),Bn=Dn(xn.keys()),zn=Bn.next();!zn.done;zn=Bn.next())Wn=zn.value,ts=xn.get(Wn),mn.j.has(Wn)||(os=SI(ts),mn.j.set(Wn,os),py(mn,os,0));ms(ds)})}function SI(mn){return{stream:mn,type:mn.type,qa:null,Ga:null,yd:null,se:null,re:null,qe:null,Sb:null,endOfStream:!1,Ia:!1,eb:null,Eb:!1,qd:0,Pd:!1,Cc:!1,Xc:!0,ye:!1,Ee:!1,Mc:!1,Ka:null}}En.updateDuration=function(){var mn=this.m.presentationTimeline.getDuration();1/0>mn?this.g.S.Sa(mn):this.g.S.Sa(Math.pow(2,32))};function aw(mn,kn){var xn,An,Mn,Un,Bn;return hs(function(zn){switch(zn.g){case 1:if(Ol(mn.h),kn.Ia||kn.eb==null||kn.Cc)return zn.return();if(kn.eb=null,!kn.Eb){zn.D(2);break}return Qn(zn,cw(mn,kn,kn.Pd,kn.qd),3);case 3:return zn.return();case 2:if(kn.stream.segmentIndex){zn.D(4);break}return xn=kn.stream,Qn(zn,kn.stream.createSegmentIndex(),5);case 5:if(xn!=kn.stream)return xn.closeSegmentIndex&&xn.closeSegmentIndex(),kn.Ia||kn.eb||py(mn,kn,0),zn.return();case 4:$s(zn,6),An=YM(mn,kn),An!=null&&(py(mn,kn,An),kn.Mc=!1),gs(zn,7);break;case 6:return Mn=Ss(zn),Qn(zn,TT(mn,Mn),8);case 8:return zn.return();case 7:if(Un=Array.from(mn.j.values()),!mn.F||!Un.every(function(Wn){return Wn.endOfStream})){zn.D(0);break}return Qn(zn,mn.g.S.endOfStream(),10);case 10:Ol(mn.h),Bn=mn.g.S.getDuration(),Bn!=0&&Bn<mn.m.presentationTimeline.getDuration()&&mn.m.presentationTimeline.Sa(Bn),ms(zn)}})}function YM(mn,kn){if(lw(kn))return Fx(mn.g.S,kn.stream.originalId||""),null;kn.type==Vu&&Z_(mn.g.S);var xn=mn.g.vd(),An=kn.Ga?kn.Ga.endTime:xn,Mn=sI(mn.g.S,kn.type,xn),Un=Math.max(mn.m.minBufferTime||0,mn.i.rebufferingGoal,mn.i.bufferingGoal)*mn.C,Bn=mn.m.presentationTimeline.getDuration()-An,zn=xS(mn.g.S,kn.type);if(1e-6>Bn&&zn)return kn.endOfStream=!0,kn.type=="video"&&(mn=mn.j.get(Vu))&&lw(mn)&&(mn.endOfStream=!0),null;if(kn.endOfStream=!1,Mn>=Un)return mn.i.updateIntervalSeconds/2;if(Mn=ow(mn,kn,xn,zn),!Mn)return mn.i.updateIntervalSeconds;for(Un=1/0,Bn=Array.from(mn.j.values()),Bn=Dn(Bn),zn=Bn.next();!zn.done;zn=Bn.next())zn=zn.value,lw(zn)||zn.qa&&!zn.qa.current()||(Un=Math.min(Un,zn.Ga?zn.Ga.endTime:xn));return An>=Un+mn.m.presentationTimeline.g?mn.i.updateIntervalSeconds:(sw(mn,kn,xn,Mn).catch(function(){}),null)}function ow(mn,kn,xn,An){if(kn.qa)return kn.qa.current();if(kn.Ga||An)return xn=kn.Ga?kn.Ga.endTime:An,kn.ye=!0,kn.qa=kn.stream.segmentIndex.bc(xn),kn.qa&&kn.qa.next().value;mn=mn.i.inaccurateManifestTolerance,An=Math.max(xn-mn,0);var Mn=null;return mn&&(kn.qa=kn.stream.segmentIndex.bc(An),Mn=kn.qa&&kn.qa.next().value),Mn||(kn.qa=kn.stream.segmentIndex.bc(xn),Mn=kn.qa&&kn.qa.next().value),Mn}function sw(mn,kn,xn,An){var Mn,Un,Bn,zn,Wn,ts,os,ds,ls,ys,Cs,Ns,Os,Ps,Xs;return hs(function(Ds){switch(Ds.g){case 1:if(Mn=Pu,Un=kn.stream,Bn=kn.qa,kn.Ia=!0,$s(Ds,2),An.ec()==2)throw new Hs(1,1,1011);return Qn(Ds,$I(mn,kn,An),4);case 4:return Ol(mn.h),mn.B?Ds.return():(zn=Un.mimeType=="video/mp4"||Un.mimeType=="audio/mp4",Wn=pn.ReadableStream,mn.i.lowLatencyMode&&Wn&&zn&&!An.m?(ds=new Uint8Array(0),ys=ls=!1,Cs=function(qs){var Qs,ru,ou;return hs(function(hu){return ls||(ys=!0,Ol(mn.h),mn.B)?hu.return():(ds=fy(ds,qs),Qs=!1,ru=0,new Nl().box("mdat",function(gu){ru=gu.size+gu.start,Qs=!0}).parse(ds,!1,!0),Qs?(ou=ds.subarray(0,ru),ds=ds.subarray(ru),Qn(hu,$T(mn,kn,xn,Un,An,ou),0)):hu.D(0))})},Qn(Ds,n0(mn,kn,An,Cs),11)):(ts=n0(mn,kn,An),Qn(Ds,ts,7)));case 7:if(os=Ds.h,Ol(mn.h),mn.B)return Ds.return();if(!An.m){Ds.D(8);break}return Qn(Ds,uw(os,An,Bn),9);case 9:os=Ds.h;case 8:return Ol(mn.h),kn.Eb?(kn.Ia=!1,py(mn,kn,0),Ds.return()):Qn(Ds,$T(mn,kn,xn,Un,An,os),6);case 11:if(Ns=Ds.h,ys){Ds.D(6);break}return ls=!0,Ol(mn.h),mn.B?Ds.return():kn.Eb?(kn.Ia=!1,py(mn,kn,0),Ds.return()):Qn(Ds,$T(mn,kn,xn,Un,An,Ns),6);case 6:if(Ol(mn.h),mn.B)return Ds.return();kn.Ga=An,Bn.next(),kn.Ia=!1,kn.Ee=!1,Os=mn.g.S.ib(),Ps=Os[kn.type],JSON.stringify(Ps),kn.Eb||mn.g.Ce(An.startTime,An.endTime,kn.type),py(mn,kn,0),gs(Ds,0);break;case 2:if(Xs=Ss(Ds),Ol(mn.h,Xs),mn.B)return Ds.return();if(kn.Ia=!1,Xs.code==7001)kn.Ia=!1,pE(kn),py(mn,kn,0),Ds.D(0);else if(kn.type==Mn.ba&&mn.i.ignoreTextStreamFailures)mn.j.delete(Mn.ba),Ds.D(0);else if(Xs.code==3017)PS(mn,kn,Xs),Ds.D(0);else return kn.Mc=!0,Xs.severity=2,Qn(Ds,TT(mn,Xs),0)}})}function uw(mn,kn,xn){var An,Mn,Un,Bn;return hs(function(zn){if(zn.g==1)return An=kn.m,An.cryptoKey?zn.D(2):Qn(zn,An.fetchKey(),3);if(Mn=An.iv,!Mn)for(Mn=Ku(new ArrayBuffer(16)),Un=An.firstMediaSequenceNumber+xn.g,Bn=Mn.byteLength-1;0<=Bn;Bn--)Mn[Bn]=Un&255,Un>>=8;return zn.return(pn.crypto.subtle.decrypt({name:"AES-CBC",iv:Mn},An.cryptoKey,mn))})}function fy(mn,kn){var xn=new Uint8Array(mn.length+kn.length);return xn.set(mn),xn.set(kn,mn.length),xn}function PS(mn,kn,xn){if(!Array.from(mn.j.values()).some(function(Mn){return Mn!=kn&&Mn.Ee})){var An=Math.round(100*mn.C);if(20<An)mn.C-=.2;else if(4<An)mn.C-=.04;else{kn.Mc=!0,mn.B=!0,mn.g.onError(xn);return}kn.Ee=!0}py(mn,kn,4)}function $I(mn,kn,xn){var An,Mn,Un,Bn,zn,Wn,ts,os;return hs(function(ds){return An=[],Mn=Math.max(0,xn.appendWindowStart-.1),Un=xn.appendWindowEnd+.01,Bn=xn.timestampOffset,(Bn!=kn.se||Mn!=kn.re||Un!=kn.qe)&&(zn=function(){var ls;return hs(function(ys){if(ys.g==1)return $s(ys,2),kn.re=Mn,kn.qe=Un,kn.se=Bn,Qn(ys,uI(mn.g.S,kn.type,Bn,Mn,Un,mn.m.sequenceMode),4);if(ys.g!=2)return gs(ys,0);throw ls=Ss(ys),kn.re=null,kn.qe=null,kn.se=null,ls})},An.push(zn())),!UM(xn.h,kn.yd)&&(kn.yd=xn.h)&&(Wn=n0(mn,kn,xn.h),ts=function(){var ls,ys,Cs,Ns;return hs(function(Os){switch(Os.g){case 1:return $s(Os,2),Qn(Os,Wn,4);case 4:return ls=Os.h,Ol(mn.h),ys=new Nl,ys.box("moov",zl).box("trak",zl).box("mdia",zl).T("mdhd",function(Ps){Ps=Mx(Ps.reader||0,Ps.version||0),xn.h.timescale=Ps.timescale}).parse(ls),Cs=kn.stream.closedCaptions&&0<kn.stream.closedCaptions.size,Qn(Os,mn.g.tf(kn.type,ls),5);case 5:return Qn(Os,wS(mn.g.S,kn.type,ls,null,Cs),6);case 6:gs(Os,0);break;case 2:throw Ns=Ss(Os),kn.yd=null,Ns}})},mn.g.nh(xn.startTime,xn.h),An.push(ts())),os=kn.Ga?kn.Ga.j:null,mn.m.sequenceMode?(xn.j!=os||kn.ye)&&(kn.ye=!1,An.push(mT(mn.g.S,kn.type,xn.startTime))):xn.j!=os&&An.push(mT(mn.g.S,kn.type,xn.timestampOffset)),Qn(ds,Promise.all(An),0)})}function $T(mn,kn,xn,An,Mn,Un){var Bn,zn,Wn,ts,os,ds;return hs(function(ls){switch(ls.g){case 1:return Bn=An.closedCaptions&&0<An.closedCaptions.size,Wn=An.emsgSchemeIdUris!=null&&0<An.emsgSchemeIdUris.length||mn.i.dispatchAllEmsgBoxes,ts=mn.i.parsePrftBox&&!mn.G,(Wn||ts)&&(zn=new Nl),Wn&&zn.T("emsg",function(ys){var Cs=An.emsgSchemeIdUris;if(ys.version===0)var Ns=ys.reader.Vc(),Os=ys.reader.Vc(),Ps=ys.reader.N(),Xs=ys.reader.N(),Ds=ys.reader.N(),qs=ys.reader.N(),Qs=Mn.startTime+Xs/Ps;else Ps=ys.reader.N(),Qs=ys.reader.Cb()/Ps+Mn.timestampOffset,Xs=Qs-Mn.startTime,Ds=ys.reader.N(),qs=ys.reader.N(),Ns=ys.reader.Vc(),Os=ys.reader.Vc();ys=ys.reader.Bb(ys.reader.W.byteLength-ys.reader.ma()),(Cs&&Cs.includes(Ns)||mn.i.dispatchAllEmsgBoxes)&&(Ns=="urn:mpeg:dash:event:2012"?mn.g.oh():Ns=="https://aomedia.org/emsg/ID3"?(Cs=dT(ys),Cs.length&&Mn&&mn.g.ph([{cueTime:Mn.startTime,data:ys,frames:Cs,dts:Mn.startTime,pts:Mn.startTime}],0,Mn.endTime)):(Cs=new Map().set("detail",{startTime:Qs,endTime:Qs+Ds/Ps,schemeIdUri:Ns,value:Os,timescale:Ps,presentationTimeDelta:Xs,eventDuration:Ds,id:qs,messageData:ys}),Cs=new _u("emsg",Cs),mn.g.onEvent(Cs)))}),ts&&zn.T("prft",function(ys){e:{if(!mn.G&&Mn.h.timescale){ys.reader.N();var Cs=ys.reader.N(),Ns=ys.reader.N();if(Cs=1e3*Cs+Ns/Math.pow(2,32)*1e3,ys.version===0)var Os=ys.reader.N();else try{Os=ys.reader.Cb()}catch{mn.G=!0,Os=void 0;break e}ys=new Date(new Date(Date.UTC(1900,0,1,0,0,0)).getTime()+Cs).getTime(),Os=new Map().set("detail",{wallClockTime:ys,programStartDate:new Date(ys-Os/Mn.h.timescale*1e3)}),Os=new _u("prft",Os),mn.g.onEvent(Os),mn.G=!0}Os=void 0}return Os}),(Wn||ts)&&zn.parse(Un),Qn(ls,TI(mn,kn,xn),2);case 2:return Ol(mn.h),os=kn.Xc,kn.Xc=!1,ds=kn.pf,kn.pf=!1,Qn(ls,mn.g.tf(kn.type,Un),3);case 3:return Qn(ls,wS(mn.g.S,kn.type,Un,Mn,Bn,os,ds),4);case 4:Ol(mn.h),ms(ls)}})}function TI(mn,kn,xn){var An,Mn,Un,Bn;return hs(function(zn){if(zn.g==1)return An=Math.max(mn.i.bufferBehind,mn.m.presentationTimeline.g),Mn=oI(mn.g.S,kn.type),Mn==null?zn.return():(Un=xn-Mn,Bn=Un-An,.01>=Bn?zn.return():Qn(zn,mn.g.S.remove(kn.type,Mn,Mn+Bn),2));Ol(mn.h),ms(zn)})}function lw(mn){return mn&&mn.type==Vu&&(mn.stream.mimeType=="application/cea-608"||mn.stream.mimeType=="application/cea-708")}function n0(mn,kn,xn,An){var Mn,Un,Bn,zn,Wn;return hs(function(ts){return ts.g==1?(Mn=Pv,Un=g_(xn.Pa(),xn.Ta,xn.Ca,mn.i.retryParameters,An),Bn=kn.stream,mn.g.modifySegmentRequest(Un,{type:Bn.type,init:xn instanceof Km,duration:xn.endTime-xn.startTime,mimeType:Bn.mimeType,codecs:Bn.codecs,bandwidth:Bn.bandwidth}),zn=mn.g.Ob.request(Mn,Un),kn.Ka=zn,Qn(ts,zn.promise,2)):(Wn=ts.h,kn.Ka=null,ts.return(Wn.data))})}function cw(mn,kn,xn,An){var Mn,Un;return hs(function(Bn){if(Bn.g==1)return kn.Eb=!1,kn.Pd=!1,kn.qd=0,kn.Cc=!0,kn.Ga=null,kn.yd=null,kn.qa=null,An?(Mn=mn.g.vd(),Un=mn.g.S.getDuration(),Qn(Bn,mn.g.S.remove(kn.type,Mn+An,Un),3)):Qn(Bn,sm(mn.g.S,kn.type),4);if(Bn.g!=3)return Ol(mn.h),xn?Qn(Bn,mn.g.S.flush(kn.type),3):Bn.D(3);Ol(mn.h),kn.Cc=!1,kn.endOfStream=!1,kn.Ia||kn.eb||py(mn,kn,0),ms(Bn)})}function py(mn,kn,xn){var An=kn.type;(An!=Vu||mn.j.has(An))&&(kn.eb=new mm(function(){var Mn;return hs(function(Un){if(Un.g==1)return $s(Un,2),Qn(Un,aw(mn,kn),4);if(Un.g!=2)return gs(Un,0);Mn=Ss(Un),mn.g&&mn.g.onError(Mn),ms(Un)})}).R(xn))}function pE(mn){mn.eb!=null&&(mn.eb.stop(),mn.eb=null)}function dw(mn){return hs(function(kn){return mn.Ka?Qn(kn,mn.Ka.abort(),0):kn.D(0)})}function TT(mn,kn){return hs(function(xn){if(xn.g==1)return Qn(xn,sx(mn.I),2);Ol(mn.h),mn.g.onError(kn),kn.handled||mn.i.failureCallback(kn),ms(xn)})}function bm(mn,kn){var xn=AE(),An=this;this.j=kn,this.i=mn,this.l=xn,this.s=null,this.m=[],this.h=this.g=null,this.C=Promise.resolve().then(function(){return kI(An)}),this.B=new Ov(function(){return XM(An)})}bm.prototype.destroy=function(){return this.B.destroy()};function XM(mn){var kn,xn,An;return hs(function(Mn){if(Mn.g==1)return mn.h&&mn.h.abort(),xm(mn),Qn(Mn,mn.C,2);for(mn.g&&mn.g.bb.Qb(),kn=Dn(mn.m),xn=kn.next();!xn.done;xn=kn.next())An=xn.value,An.bb.Qb();mn.g=null,mn.m=[],mn.j=null,ms(Mn)})}function hE(mn,kn){var xn={mc:function(){},Ed:function(){},Qb:function(){},onError:function(){},Gd:function(){},rj:function(){}};return mn.m.push({create:kn,bb:xn}),mn.h&&mn.h.abort(),xm(mn),xn}function kI(mn){return hs(function(kn){if(mn.B.g)kn=kn.D(0);else{if(mn.m.length==0||mn.g&&!mn.g.Jb)var xn=!1;else{mn.g&&(mn.g.bb.Qb(),mn.g=null),xn=mn.m.shift();var An=xn.create(mn.l);An?(xn.bb.mc(),mn.g={node:An.node,payload:An.payload,Jb:An.Jb,bb:xn.bb}):xn.bb.Gd(),xn=!0}xn?xn=Promise.resolve():mn.g?xn=kT(mn):(mn.j.mh(mn.i),mn.s=new _l,xn=mn.s),kn=Qn(kn,xn,1)}return kn})}function kT(mn){var kn,xn;return hs(function(An){switch(An.g){case 1:return mn.i=mn.j.Rg(mn.i,mn.l,mn.g.node,mn.g.payload),$s(An,2),mn.h=mn.j.wg(mn.i,mn.l,mn.g.payload),Qn(An,mn.h.promise,4);case 4:mn.h=null,mn.i==mn.g.node&&(mn.g.bb.Ed(),mn.g=null),gs(An,0);break;case 2:return kn=Ss(An),kn.code==7001?mn.g.bb.Qb():mn.g.bb.onError(kn),mn.g=null,mn.h=null,xn=mn,Qn(An,mn.j.handleError(mn.l,kn),5);case 5:xn.i=An.h,ms(An)}})}function xm(mn){mn.s&&(mn.s.resolve(),mn.s=null)}function bI(mn){var kn=[],xn=700<=mn.fontWeight,An=mn.fontStyle=="italic",Mn=mn.textDecoration.includes("underline");return xn&&kn.push("b"),An&&kn.push("i"),Mn&&kn.push("u"),xn=kn.reduce(function(Un,Bn){return Un+"<"+Bn+">"},""),kn=kn.reduceRight(function(Un,Bn){return Un+"</"+Bn+">"},""),mn.lineBreak?`
`:mn.nestedCues.length?mn.nestedCues.map(bI).join(""):xn+mn.payload+kn}function bT(mn,kn){mn=Dn(mn);for(var xn=mn.next();!xn.done;xn=mn.next())if(xn=xn.value,xn.isContainer)bT(xn.nestedCues,kn);else{var An=xn.clone();An.nestedCues=[],An.payload=bI(xn),kn.push(An)}return kn}function rm(mn){this.g=null;for(var kn=Dn(Array.from(mn.textTracks)),xn=kn.next();!xn.done;xn=kn.next())xn=xn.value,xn.mode="disabled",xn.label=="Shaka Player TextTrack"&&(this.g=xn);this.g||(this.g=mn.addTextTrack("subtitles","Shaka Player TextTrack")),this.g.mode="hidden"}En=rm.prototype,En.remove=function(mn,kn){return this.g?(xI(this.g,function(xn){return xn.startTime<kn&&xn.endTime>mn}),!0):!1},En.append=function(mn){var kn=bT(mn,[]),xn=[];mn=this.g.cues?Array.from(this.g.cues):[];var An={};kn=Dn(kn);for(var Mn=kn.next();!Mn.done;An={Wb:An.Wb},Mn=kn.next())An.Wb=Mn.value,mn.some(function(Un){return function(Bn){return Bn.startTime==Un.Wb.startTime&&Bn.endTime==Un.Wb.endTime&&Bn.text==Un.Wb.payload}}(An))||(Mn=QM(An.Wb))&&xn.push(Mn);for(mn=xn.slice().sort(function(Un,Bn){return Un.startTime!=Bn.startTime?Un.startTime-Bn.startTime:Un.endTime!=Bn.endTime?Un.endTime-Bn.startTime:"line"in VTTCue.prototype?xn.indexOf(Bn)-xn.indexOf(Un):xn.indexOf(Un)-xn.indexOf(Bn)}),mn=Dn(mn),An=mn.next();!An.done;An=mn.next())this.g.addCue(An.value)},En.destroy=function(){return this.g&&(xI(this.g,function(){return!0}),this.g.mode="disabled"),this.g=null,Promise.resolve()},En.isTextVisible=function(){return this.g.mode=="showing"},En.setTextVisibility=function(mn){this.g.mode=mn?"showing":"hidden"};function QM(mn){if(mn.startTime>=mn.endTime)return null;var kn=new VTTCue(mn.startTime,mn.endTime,mn.payload);kn.lineAlign=mn.lineAlign,kn.positionAlign=mn.positionAlign,mn.size&&(kn.size=mn.size);try{kn.align=mn.textAlign}catch{}return mn.textAlign=="center"&&kn.align!="center"&&(kn.align="middle"),mn.writingMode=="vertical-lr"?kn.vertical="lr":mn.writingMode=="vertical-rl"&&(kn.vertical="rl"),mn.lineInterpretation==1&&(kn.snapToLines=!1),mn.line!=null&&(kn.line=mn.line),mn.position!=null&&(kn.position=mn.position),kn}function xI(mn,kn){var xn=mn.mode;mn.mode=xn=="showing"?"showing":"hidden";for(var An=Dn(Array.from(mn.cues)),Mn=An.next();!Mn.done;Mn=An.next())(Mn=Mn.value)&&kn(Mn)&&mn.removeCue(Mn);mn.mode=xn}Ys("shaka.text.SimpleTextDisplayer",rm),rm.prototype.setTextVisibility=rm.prototype.setTextVisibility,rm.prototype.isTextVisible=rm.prototype.isTextVisible,rm.prototype.destroy=rm.prototype.destroy,rm.prototype.append=rm.prototype.append,rm.prototype.remove=rm.prototype.remove;function xT(){}function Au(mn){return document.createElement(mn)}function Tp(){var mn=document.createElement("button");return mn.setAttribute("type","button"),mn}function i0(mn){for(;mn.firstChild;)mn.removeChild(mn.firstChild)}Ys("shaka.util.Dom",xT),xT.removeAllChildren=i0;function wm(mn,kn){var xn=this;this.j=!1,this.i=[],this.F=mn,this.m=kn,this.g=Au("div"),this.g.classList.add("shaka-text-container"),this.g.style.textAlign="center",this.g.style.display="flex",this.g.style.flexDirection="column",this.g.style.alignItems="center",this.g.style.justifyContent="flex-end",this.m.appendChild(this.g),this.C=new Tu(function(){a0(xn)}).ha(.25),this.h=new Map,this.B=new xu,this.B.o(document,"fullscreenchange",function(){a0(xn,!0)}),this.l=null,"ResizeObserver"in pn&&(this.l=new ResizeObserver(function(){a0(xn,!0)}),this.l.observe(this.g)),this.s=new Map}En=wm.prototype,En.append=function(mn){var kn=[].concat(Kn(this.i)),xn={};mn=Dn(mn);for(var An=mn.next();!An.done;xn={dd:xn.dd},An=mn.next())xn.dd=An.value,kn.some(function(Mn){return function(Un){return N_(Un,Mn.dd)}}(xn))||this.i.push(xn.dd);a0(this)},En.destroy=function(){this.m.removeChild(this.g),this.g=null,this.j=!1,this.i=[],this.C&&this.C.stop(),this.h.clear(),this.B&&(this.B.release(),this.B=null),this.l&&(this.l.disconnect(),this.l=null)},En.remove=function(mn,kn){if(!this.g)return!1;var xn=this.i.length;return this.i=this.i.filter(function(An){return An.startTime<mn||An.endTime>=kn}),a0(this,xn>this.i.length),!0},En.isTextVisible=function(){return this.j},En.setTextVisibility=function(mn){this.j=mn};function ZM(mn,kn){for(;kn!=null;){if(kn==mn.g)return!0;kn=kn.parentElement}return!1}function wT(mn,kn,xn,An,Mn){var Un=!1,Bn=[],zn=[];kn=Dn(kn);for(var Wn=kn.next();!Wn.done;Wn=kn.next()){Wn=Wn.value,Mn.push(Wn);var ts=mn.h.get(Wn),os=Wn.startTime<=An&&Wn.endTime>An,ds=ts?ts.fg:null;ts&&(Bn.push(ts.je),ts.Wc&&Bn.push(ts.Wc),os||(Un=!0,mn.h.delete(Wn),ts=null)),os&&(zn.push(Wn),ts?ZM(mn,ds)||(Un=!0):(JM(mn,Wn,Mn),ts=mn.h.get(Wn),ds=ts.fg,Un=!0)),0<Wn.nestedCues.length&&ds&&wT(mn,Wn.nestedCues,ds,An,Mn),Mn.pop()}if(Un){for(An=Dn(Bn),Mn=An.next();!Mn.done;Mn=An.next())Mn=Mn.value,Mn.parentElement&&Mn.parentElement.removeChild(Mn);for(zn.sort(function(ls,ys){return ls.startTime!=ys.startTime?ls.startTime-ys.startTime:ls.endTime-ys.endTime}),zn=Dn(zn),Wn=zn.next();!Wn.done;Wn=zn.next())An=mn.h.get(Wn.value),An.Wc?(xn.appendChild(An.Wc),An.Wc.appendChild(An.je)):xn.appendChild(An.je)}}function a0(mn,kn){if(mn.g){var xn=mn.F.currentTime;if(!mn.j||kn!==void 0&&kn){kn=Dn(mn.s.values());for(var An=kn.next();!An.done;An=kn.next())i0(An.value);i0(mn.g),mn.h.clear(),mn.s.clear()}if(mn.j){kn=new Map,An=Dn(mn.h.keys());for(var Mn=An.next();!Mn.done;Mn=An.next())Mn=Mn.value,kn.set(Mn,mn.h.get(Mn));wT(mn,mn.i,mn.g,xn,[])}}}function JM(mn,kn,xn){var An=1<xn.length,Mn=An?"span":"div";kn.lineBreak&&(Mn="br"),An=!An&&0<kn.nestedCues.length;var Un=Au(Mn);if(Mn!="br"&&eR(mn,Un,kn,xn,An),xn=null,kn.region&&kn.region.id)if(xn=kn.region,Mn=xn.id+"_"+xn.width+"x"+xn.height+(xn.heightUnits==ap?"%":"px")+"-"+xn.viewportAnchorX+"x"+xn.viewportAnchorY+(xn.viewportAnchorUnits==ap?"%":"px"),mn.s.has(Mn))xn=mn.s.get(Mn);else{var Bn=Au("span"),zn=xn.heightUnits==ap?"%":"px",Wn=xn.widthUnits==ap?"%":"px",ts=xn.viewportAnchorUnits==ap?"%":"px";Bn.id="shaka-text-region---"+Mn,Bn.classList.add("shaka-text-region"),Bn.style.height=xn.height+zn,Bn.style.width=xn.width+Wn,Bn.style.position="absolute",Bn.style.top=xn.viewportAnchorY+ts,Bn.style.left=xn.viewportAnchorX+ts,Bn.style.display="flex",Bn.style.flexDirection="column",Bn.style.alignItems="center",Bn.style.justifyContent=kn.displayAlign=="before"?"flex-start":kn.displayAlign=="center"?"center":"flex-end",mn.s.set(Mn,Bn),xn=Bn}Mn=Un,An&&(Mn=Au("span"),Mn.classList.add("shaka-text-wrapper"),Mn.style.backgroundColor=kn.backgroundColor,Mn.style.lineHeight="normal",Un.appendChild(Mn)),mn.h.set(kn,{je:Un,fg:Mn,Wc:xn})}function eR(mn,kn,xn,An,Mn){var Un=kn.style,Bn=xn.nestedCues.length==0,zn=1<An.length;Un.whiteSpace="pre-wrap";var Wn=xn.payload.replace(/\s+$/g,function(os){return" ".repeat(os.length)});if(Un.webkitTextStrokeColor=xn.textStrokeColor,Un.webkitTextStrokeWidth=xn.textStrokeWidth,Un.color=xn.color,Un.direction=xn.direction,Un.opacity=xn.opacity,Un.paddingLeft=fw(xn.linePadding,xn,mn.m),Un.paddingRight=fw(xn.linePadding,xn,mn.m),Un.textShadow=xn.textShadow,xn.backgroundImage)Un.backgroundImage="url('"+xn.backgroundImage+"')",Un.backgroundRepeat="no-repeat",Un.backgroundSize="contain",Un.backgroundPosition="center",Un.width="100%",Un.height="100%";else{if(xn.nestedCues.length)var ts=kn;else ts=Au("span"),kn.appendChild(ts);xn.border&&(ts.style.border=xn.border),Mn||((kn=CT(An,function(os){return os.backgroundColor}))?ts.style.backgroundColor=kn:Wn&&(ts.style.backgroundColor="rgba(0, 0, 0, 0.8)")),Wn&&(ts.textContent=Wn)}zn&&!An[An.length-1].isContainer?Un.display="inline":(Un.display="flex",Un.flexDirection="column",Un.alignItems="center",Un.justifyContent=xn.displayAlign=="before"?"flex-start":xn.displayAlign=="center"?"center":"flex-end"),Bn||(Un.margin="0"),Un.fontFamily=xn.fontFamily,Un.fontWeight=xn.fontWeight.toString(),Un.fontStyle=xn.fontStyle,Un.letterSpacing=xn.letterSpacing,Un.fontSize=fw(xn.fontSize,xn,mn.m),xn.line!=null&&xn.lineInterpretation==1&&(Un.position="absolute",xn.writingMode==Yl?(Un.width="100%",xn.lineAlign==Ep?Un.top=xn.line+"%":xn.lineAlign=="end"&&(Un.bottom=100-xn.line+"%")):xn.writingMode=="vertical-lr"?(Un.height="100%",xn.lineAlign==Ep?Un.left=xn.line+"%":xn.lineAlign=="end"&&(Un.right=100-xn.line+"%")):(Un.height="100%",xn.lineAlign==Ep?Un.right=xn.line+"%":xn.lineAlign=="end"&&(Un.left=100-xn.line+"%"))),Un.lineHeight=xn.lineHeight,xn.position!=null&&(xn.writingMode==Yl?Un.paddingLeft=xn.position:Un.paddingTop=xn.position),xn.positionAlign=="line-left"?Un.cssFloat="left":xn.positionAlign=="line-right"&&(Un.cssFloat="right"),Un.textAlign=xn.textAlign,Un.textDecoration=xn.textDecoration.join(" "),Un.writingMode=xn.writingMode,"writingMode"in document.documentElement.style&&Un.writingMode==xn.writingMode||(Un.webkitWritingMode=xn.writingMode),xn.size&&(xn.writingMode==Yl?Un.width=xn.size+"%":Un.height=xn.size+"%")}function fw(mn,kn,xn){var An=(An=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(mn))?{value:Number(An[1]),unit:An[2]}:null;if(!An)return mn;var Mn=An.value;switch(An.unit){case"%":return Mn/100*xn.clientHeight/kn.cellResolution.rows+"px";case"c":return xn.clientHeight*Mn/kn.cellResolution.rows+"px";default:return mn}}function CT(mn,kn){for(var xn=mn.length-1;0<=xn;xn--){var An=kn(mn[xn]);if(An||An===0)return An}return null}Ys("shaka.text.UITextDisplayer",wm),wm.prototype.setTextVisibility=wm.prototype.setTextVisibility,wm.prototype.isTextVisible=wm.prototype.isTextVisible,wm.prototype.remove=wm.prototype.remove,wm.prototype.destroy=wm.prototype.destroy,wm.prototype.append=wm.prototype.append;function tR(mn,kn){function xn(Un){for(var Bn=Un,zn=Dn(kn),Wn=zn.next();!Wn.done;Wn=zn.next())Wn=Wn.value,Wn.end&&Wn.start<Un&&(Bn+=Wn.end-Wn.start);return Un=Math.floor(Bn/3600),zn=Math.floor(Bn/60%60),Wn=Math.floor(Bn%60),Bn=Math.floor(1e3*Bn%1e3),(10>Un?"0":"")+Un+":"+(10>zn?"0":"")+zn+":"+(10>Wn?"0":"")+Wn+"."+(100>Bn?10>Bn?"00":"0":"")+Bn}var An=bT(mn,[]);mn=`WEBVTT

`,An=Dn(An);for(var Mn=An.next();!Mn.done;Mn=An.next())Mn=Mn.value,mn+=xn(Mn.startTime)+" --> "+xn(Mn.endTime)+function(Un){var Bn=[];switch(Un.textAlign){case"left":Bn.push("align:left");break;case"right":Bn.push("align:right");break;case Dp:Bn.push("align:middle");break;case"start":Bn.push("align:start");break;case"end":Bn.push("align:end")}switch(Un.writingMode){case"vertical-lr":Bn.push("vertical:lr");break;case"vertical-rl":Bn.push("vertical:rl")}return Bn.length?" "+Bn.join(" "):""}(Mn)+`
`,mn+=Mn.payload+`

`;return mn}Ys("shaka.text.WebVttGenerator",function(){});function pw(mn,kn){this.h=mn,this.g=kn,this.j="",this.s=void 0,this.i=!1,this.m=!0,this.l=!1}function hw(mn,kn,xn){try{if(mn.g.enabled){var An={d:1e3*xn.duration,st:mn.h.U()?_E:vE};An.ot=rR(xn);var Mn=An.ot===yE||An.ot===RS||An.ot===Cm||An.ot===NS;Mn&&(An.bl=gw(mn,xn.type)),xn.bandwidth&&(An.br=xn.bandwidth/1e3),Mn&&An.ot!==NS&&(An.tb=yw(mn,An.ot)/1e3),gE(mn,kn,An)}}catch(Un){cp("CMCD_SEGMENT_ERROR","Could not generate segment CMCD data.",Un)}}function mw(mn,kn,xn){try{if(!mn.g.enabled)return kn;var An=mE(mn);e:{switch(xn){case"video/webm":case"video/mp4":var Mn=Cm;break e;case"application/x-mpegurl":Mn=IT;break e}Mn=void 0}An.ot=Mn,An.su=!0;var Un=AT(An);return OS(kn,Un)}catch(Bn){return cp("CMCD_SRC_ERROR","Could not generate src CMCD data.",Bn),kn}}function mE(mn){return mn.j||(mn.j=mn.g.sessionId||pn.crypto.randomUUID()),{v:1,sf:mn.s,sid:mn.j,cid:mn.g.contentId,mtp:mn.h.getBandwidthEstimate()/1e3}}function gE(mn,kn,xn){xn=xn===void 0?{}:xn;var An=An===void 0?mn.g.useHeaders:An;if(mn.g.enabled){Object.assign(xn,mE(mn)),xn.pr=mn.h.xb();var Mn=xn.ot===yE||xn.ot===Cm;if(mn.l&&Mn&&(xn.bs=!0,xn.su=!0,mn.l=!1),xn.su==null&&(xn.su=mn.m),An)mn=nR(xn),Object.keys(mn).length&&Object.assign(kn.headers,mn);else{var Un=AT(xn);Un&&(kn.uris=kn.uris.map(function(Bn){return OS(Bn,Un)}))}}}function rR(mn){var kn=mn.type;if(mn.init)return wI;if(kn=="video")return mn.codecs.includes(",")?Cm:yE;if(kn=="audio")return RS;if(kn=="text")return mn.mimeType==="application/mp4"?NS:o0}function gw(mn,kn){if(kn=mn.h.ib()[kn],!kn.length)return NaN;var xn=mn.h.getCurrentTime();return(mn=kn.find(function(An){return An.start<=xn&&An.end>=xn}))?1e3*(mn.end-xn):NaN}function yw(mn,kn){var xn=mn.h.Qa();if(!xn.length)return NaN;mn=xn[0],xn=Dn(xn);for(var An=xn.next();!An.done;An=xn.next())An=An.value,An.type==="variant"&&An.bandwidth>mn.bandwidth&&(mn=An);switch(kn){case yE:return mn.videoBandwidth||NaN;case RS:return mn.audioBandwidth||NaN;default:return mn.bandwidth}}function AT(mn){function kn(ds){return 100*xn(ds/100)}function xn(ds){return Math.round(ds)}function An(ds){return!Number.isNaN(ds)&&ds!=null&&ds!==""&&ds!==!1}var Mn=[],Un={br:xn,d:xn,bl:kn,dl:kn,mtp:kn,nor:function(ds){return encodeURIComponent(ds)},rtp:kn,tb:xn},Bn=Object.keys(mn||{}).sort();Bn=Dn(Bn);for(var zn=Bn.next();!zn.done;zn=Bn.next()){zn=zn.value;var Wn=mn[zn];if(An(Wn)&&(zn!=="v"||Wn!==1)&&(zn!="pr"||Wn!==1)){var ts=Un[zn];ts&&(Wn=ts(Wn)),ts=typeof Wn;var os=void 0;os=ts==="string"&&zn!=="ot"&&zn!=="sf"&&zn!=="st"?zn+"="+JSON.stringify(Wn):ts==="boolean"?zn:ts==="symbol"?zn+"="+Wn.description:zn+"="+Wn,Mn.push(os)}}return Mn.join(",")}function nR(mn){var kn=Object.keys(mn),xn={},An=["Object","Request","Session","Status"],Mn=[{},{},{},{}],Un={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};kn=Dn(kn);for(var Bn=kn.next();!Bn.done;Bn=kn.next())Bn=Bn.value,Mn[Un[Bn]!=null?Un[Bn]:1][Bn]=mn[Bn];for(mn=0;mn<Mn.length;mn++)(Un=AT(Mn[mn]))&&(xn["CMCD-"+An[mn]]=Un);return xn}function OS(mn,kn){return!kn||mn.includes("offline:")?mn:(mn=new Iu(mn),mn.g.set("CMCD",kn),mn.toString())}var IT="m",RS="a",yE="v",Cm="av",wI="i",o0="c",NS="tt",vE="v",_E="l";Ys("shaka.util.CmcdManager.StreamingFormat",{DASH:"d",HLS:"h",Wi:"s",Gi:"o"});function vw(){}function DS(mn,kn,xn,An,Mn){var Un=Mn in An,Bn=!0,zn;for(zn in kn){var Wn=Mn+"."+zn,ts=Un?An[Mn]:xn[zn];Un||zn in xn?kn[zn]===void 0?ts===void 0||Un?delete mn[zn]:mn[zn]=z_(ts):ts.constructor==Object&&kn[zn]&&kn[zn].constructor==Object?(mn[zn]||(mn[zn]=z_(ts)),Wn=DS(mn[zn],kn[zn],ts,An,Wn),Bn=Bn&&Wn):typeof kn[zn]!=typeof ts||kn[zn]==null||typeof kn[zn]!="function"&&kn[zn].constructor!=ts.constructor?(fl("Invalid config, wrong type for "+Wn),Bn=!1):(typeof xn[zn]=="function"&&xn[zn].length!=kn[zn].length&&$u("Unexpected number of arguments for "+Wn),mn[zn]=kn[zn]):(fl("Invalid config, unrecognized key "+Wn),Bn=!1)}return Bn}function s0(mn,kn){for(var xn={},An=xn,Mn=0,Un=0;Mn=mn.indexOf(".",Mn),!(0>Mn);)(Mn==0||mn[Mn-1]!="\\")&&(Un=mn.substring(Un,Mn).replace(/\\\./g,"."),An[Un]={},An=An[Un],Un=Mn+1),Mn+=1;return An[mn.substring(Un).replace(/\\\./g,".")]=kn,xn}function LS(mn,kn){return mn&&kn}Ys("shaka.util.ConfigUtils",vw),vw.convertToConfigObject=s0,vw.mergeConfigObjects=DS;function Ky(){}function CI(mn){return mn=Bm(mn),new Iu(mn).ab}function u0(mn,kn,xn){function An(zn){Hp(Un).setUint32(Bn,zn.byteLength,!0),Bn+=4,Un.set(Ku(zn),Bn),Bn+=zn.byteLength}if(!xn||!xn.byteLength)throw new Hs(2,6,6015);var Mn;typeof kn=="string"?Mn=r_(kn,!0):Mn=kn,mn=Bm(mn),mn=r_(mn,!0);var Un=new Uint8Array(12+mn.byteLength+Mn.byteLength+xn.byteLength),Bn=0;return An(mn),An(Mn),An(xn),Un}Ys("shaka.util.FairPlayUtils",Ky),Ky.commonFairPlayResponse=function(mn,kn){if(mn===2){try{var xn=xl(kn.data)}catch{return}mn=!1,xn=xn.trim(),xn.substr(0,5)==="<ckc>"&&xn.substr(-6)==="</ckc>"&&(xn=xn.slice(5,-6),mn=!0);try{var An=JSON.parse(xn);An.ckc&&(xn=An.ckc,mn=!0),An.CkcMessage&&(xn=An.CkcMessage,mn=!0),An.License&&(xn=An.License,mn=!0)}catch{}mn&&(kn.data=fp(Lp(xn)))}},Ky.conaxFairPlayRequest=function(mn,kn){mn===2&&(kn.headers["Content-Type"]="application/octet-stream")},Ky.ezdrmFairPlayRequest=function(mn,kn){mn===2&&(kn.headers["Content-Type"]="application/octet-stream")},Ky.verimatrixFairPlayRequest=function(mn,kn){mn===2&&(mn=Ku(kn.body),mn=Ny(mn),kn.headers["Content-Type"]="application/x-www-form-urlencoded",kn.body=Kp("spc="+mn))},Ky.conaxInitDataTransform=function(mn,kn,xn){if(kn!=="skd")return mn;kn=xn.serverCertificate,xn=Bm(mn).split("skd://").pop().split("?").shift(),xn=pn.atob(xn);var An=new ArrayBuffer(2*xn.length);An=new Uint16Array(An);for(var Mn=0,Un=xn.length;Mn<Un;Mn++)An[Mn]=xn.charCodeAt(Mn);return u0(mn,An,kn)},Ky.ezdrmInitDataTransform=function(mn,kn,xn){return kn!=="skd"?mn:(kn=xn.serverCertificate,xn=Bm(mn).split(";").pop(),u0(mn,xn,kn))},Ky.verimatrixInitDataTransform=function(mn,kn,xn){return kn!=="skd"?mn:(kn=xn.serverCertificate,xn=Bm(mn).split("skd://").pop(),u0(mn,xn,kn))},Ky.initDataTransform=u0,Ky.defaultGetContentId=CI,Ky.isFairPlaySupported=function(){var mn;return hs(function(kn){return kn.g==1?(mn={initDataTypes:["cenc","sinf","skd"],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]},$s(kn,2),Qn(kn,navigator.requestMediaKeySystemAccess("com.apple.fps",[mn]),4)):kn.g!=2?kn.return(!0):(Ss(kn),kn.return(!1))})};function PT(){}function nu(){var mn=1/0;navigator.connection&&navigator.connection.saveData&&(mn=360);var kn={retryParameters:Iv(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,initDataTransform:function(Bn,zn,Wn){return Wn.keySystem=="com.apple.fps.1_0"&&zn=="skd"&&(zn=Wn.serverCertificate,Wn=CI(Bn),Bn=u0(Bn,Wn,zn)),Bn},logLicenseExchange:!1,updateExpirationTime:1,preferredKeySystems:[],keySystemsMapping:{},parseInbandPsshEnabled:xv()},xn={retryParameters:Iv(),availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,defaultPresentationDelay:0,segmentRelativeVttTiming:!1,dash:{clockSyncUri:"",ignoreDrmInfo:!1,disableXlinkProcessing:!1,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},manifestPreprocessor:function(Bn){return LS([Bn],Bn)},sequenceMode:!1},hls:{ignoreTextStreamFailures:!1,ignoreImageStreamFailures:!1,defaultAudioCodec:"mp4a.40.2",defaultVideoCodec:"avc1.42E01E",ignoreManifestProgramDateTime:!1,mediaPlaylistFullMimeType:'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"',useSafariBehaviorForLive:!0,liveSegmentsDelay:3}},An={retryParameters:Iv(),failureCallback:function(Bn){return LS([Bn])},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.5,durationBackoff:1,forceTransmux:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1,autoLowLatencyMode:!1,forceHTTPS:!1,preferNativeHls:!1,updateIntervalSeconds:1,dispatchAllEmsgBoxes:!1,observeQualityChanges:!1,maxDisabledTime:30,parsePrftBox:!1};(Cl("Web0S")||Fm()||Cl("CrKey"))&&(An.stallSkip=0);var Mn={trackSelectionCallback:function(Bn){return hs(function(zn){return zn.return(Bn)})},downloadSizeCallback:function(Bn){var zn;return hs(function(Wn){return Wn.g==1?navigator.storage&&navigator.storage.estimate?Qn(Wn,navigator.storage.estimate(),3):Wn.return(!0):(zn=Wn.h,Wn.return(zn.usage+Bn<.95*zn.quota))})},progressCallback:function(Bn,zn){return LS([Bn,zn])},usePersistentLicense:!0,numberOfParallelDownloads:5},Un={drm:kn,manifest:xn,streaming:An,mediaSource:{sourceBufferExtraFeatures:""},offline:Mn,abrFactory:function(){return new Pl},abr:{enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:mn,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},advanced:{minTotalBytes:128e3,minBytes:16e3,fastHalfLife:2,slowHalfLife:5},restrictToElementSize:!1,restrictToScreenSize:!1,ignoreDevicePixelRatio:!1},autoShowText:3,preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredVideoCodecs:[],preferredAudioCodecs:[],preferForcedSubs:!1,preferredDecodingAttributes:[],restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null},cmcd:{enabled:!1,sessionId:"",contentId:"",useHeaders:!1},lcevc:{enabled:!1,dynamicPerformanceScaling:!0,logLevel:0,drawLogo:!1}};return Mn.trackSelectionCallback=function(Bn){return hs(function(zn){return zn.return(iR(Bn,Un.preferredAudioLanguage))})},Un}function Bv(mn,kn,xn){var An={".drm.keySystemsMapping":"",".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",sessionType:"",serverCertificate:new Uint8Array(0),serverCertificateUri:"",individualizationServer:""}};return DS(mn,kn,xn||nu(),An,"")}function iR(mn,kn){var xn=mn.filter(function(Bn){return Bn.type=="variant"}),An=[],Mn=R0(kn,xn.map(function(Bn){return Bn.language}));Mn&&(An=xn.filter(function(Bn){return ol(Bn.language)==Mn})),An.length==0&&(An=xn.filter(function(Bn){return Bn.primary})),An.length==0&&(xn.map(function(Bn){return Bn.language}),An=xn);var Un=An.filter(function(Bn){return Bn.height&&480>=Bn.height});for(Un.length&&(Un.sort(function(Bn,zn){return zn.height-Bn.height}),An=Un.filter(function(Bn){return Bn.height==Un[0].height})),kn=[],An.length&&(xn=Math.floor(An.length/2),An.sort(function(Bn,zn){return Bn.bandwidth-zn.bandwidth}),kn.push(An[xn])),mn=Dn(mn),An=mn.next();!An.done;An=mn.next())An=An.value,An.type!=Vu&&An.type!="image"||kn.push(An);return kn}Ys("shaka.util.PlayerConfiguration",PT),PT.mergeConfigObjects=Bv,PT.createDefault=nu;function op(){this.g=null,this.h=[]}function OT(mn,kn){if(mn.g==null)mn.g={timestamp:Date.now()/1e3,state:kn,duration:0};else{var xn=Date.now()/1e3;mn.g.duration=xn-mn.g.timestamp,mn.g.state!=kn&&(mn.h.push(mn.g),mn.g={timestamp:xn,state:kn,duration:0})}}function _w(mn,kn){var xn=0;mn.g&&mn.g.state==kn&&(xn+=mn.g.duration),mn=Dn(mn.h);for(var An=mn.next();!An.done;An=mn.next())An=An.value,xn+=An.state==kn?An.duration:0;return xn}function AI(mn){function kn(Un){return{timestamp:Un.timestamp,state:Un.state,duration:Un.duration}}for(var xn=[],An=Dn(mn.h),Mn=An.next();!Mn.done;Mn=An.next())xn.push(kn(Mn.value));return mn.g&&xn.push(kn(mn.g)),xn}function aR(){this.i=this.h=null,this.g=[]}function Ew(mn,kn,xn){mn.i!=kn&&(mn.i=kn,mn.g.push({timestamp:Date.now()/1e3,id:kn.id,type:"text",fromAdaptation:xn,bandwidth:null}))}function II(){this.C=this.F=this.I=this.G=this.B=this.j=this.H=this.m=this.i=this.O=this.P=this.J=this.K=this.M=this.l=this.s=NaN,this.g=new op,this.h=new aR}function iu(mn,kn){Eu.call(this);var xn=this;this.l=GS,this.Bd=this.g=null,this.$=!1,this.Id=new xu,this.gb=new xu,this.C=new xu,this.fb=this.i=this.Kd=this.K=this.j=this.ka=this.M=this.lf=this.V=this.sa=this.O=this.Dd=this.J=this.Za=this.F=this.I=this.m=this.H=null,this.Nc=!1,this.$e=this.B=null,this.hf=1e9,this.h=Vv(this),this.Qc={width:1/0,height:1/0},this.s=null,this.La=new Uy(this.h.preferredAudioLanguage,this.h.preferredVariantRole,this.h.preferredAudioChannelCount),this.Xa=this.h.preferredTextLanguage,this.Kc=this.h.preferredTextRole,this.Ec=this.h.preferForcedSubs,this.ub=[],this.Rc=null,kn&&kn(this),this.H=jI(this),this.H.Ne(this.h.streaming.forceHTTPS),this.G=null,f0&&(this.G=f0()),this.Id.o(pn,"online",function(){xn.Fe()}),this.P={name:"detach"},this.X={name:"attach"},this.aa={name:"unload"},this.jf={name:"manifest-parser"},this.gf={name:"manifest"},this.Ya={name:"media-source"},this.df={name:"drm-engine"},this.Z={name:"load"},this.fe={name:"src-equals-drm-engine"},this.$a={name:"src-equals"};var An=new Map;An.set(this.X,function(Mn,Un){return iv(uR(xn,Mn,Un))}),An.set(this.P,function(Mn){return Mn.mediaElement&&(xn.gb.Rb(),Mn.mediaElement=null),xn.G&&xn.G.release(),xn.g=null,Mn=Promise.resolve(),iv(Mn)}),An.set(this.aa,function(Mn){return iv(Sw(xn,Mn))}),An.set(this.Ya,function(Mn){return Mn=OI(xn,Mn),iv(Mn)}),An.set(this.jf,function(Mn,Un){return Mn=MI(xn,Mn,Un),iv(Mn)}),An.set(this.gf,function(Mn){return lR(xn,Mn)}),An.set(this.df,function(Mn){return Mn=RI(xn,Mn),iv(Mn)}),An.set(this.Z,function(Mn,Un){return iv(cR(xn,Mn,Un))}),An.set(this.fe,function(Mn,Un){return Mn=dR(xn,Mn,Un),iv(Mn)}),An.set(this.$a,function(Mn,Un){return fR(xn,Mn,Un)}),this.ua=new bm(this.P,{Rg:function(Mn,Un,Bn,zn){var Wn=null;return Mn==xn.P&&(Wn=Bn==xn.P?xn.P:xn.X),Mn==xn.X&&(Wn=Bn==xn.P||Un.mediaElement!=zn.mediaElement?xn.P:Bn==xn.X?xn.X:Bn==xn.Ya||Bn==xn.Z?xn.Ya:Bn==xn.$a?xn.fe:null),Mn==xn.Ya&&(Wn=Bn==xn.Z&&Un.mediaElement==zn.mediaElement?xn.jf:xn.aa),Mn==xn.jf&&(Wn=CE(xn.Z,xn.gf,xn.aa,Bn,Un,zn)),Mn==xn.gf&&(Wn=CE(xn.Z,xn.df,xn.aa,Bn,Un,zn)),Mn==xn.df&&(Wn=CE(xn.Z,xn.Z,xn.aa,Bn,Un,zn)),Mn==xn.fe&&(Wn=Bn==xn.$a&&Un.mediaElement==zn.mediaElement?xn.$a:xn.aa),(Mn==xn.Z||Mn==xn.$a)&&(Wn=xn.aa),Mn==xn.aa&&(Wn=zn.mediaElement&&Un.mediaElement==zn.mediaElement?xn.X:xn.P),Wn},wg:function(Mn,Un,Bn){return xn.dispatchEvent(sp("onstatechange",new Map().set("state",Mn.name))),An.get(Mn)(Un,Bn)},handleError:function(Mn){return hs(function(Un){return Un.g==1?Qn(Un,Sw(xn,Mn),2):Un.return(Mn.mediaElement?xn.X:xn.P)})},mh:function(Mn){xn.dispatchEvent(sp("onstateidle",new Map().set("state",Mn.name)))}}),this.kf=new Tu(function(){JE(xn.i.variants,xn.h.restrictions,xn.Qc)&&BT(xn)}),mn&&this.Bc(mn,!0)}as(iu,Eu);function MT(mn){mn.M!=null&&(mn.M.release(),mn.M=null)}function oR(mn,kn){if(kn.lcevc.enabled){var xn=mn.Qa();xn&&xn[0]&&xn[0].videoMimeType==nl.ts&&(e_()||navigator.userAgent.match(/Edge\//))&&(kn.streaming.forceTransmux||$u("LCEVC Warning: For MPEG-2 TS decoding the config.streaming.forceTransmux must be enabled.")),MT(mn),mn.M==null&&(mn.M=new Uv(mn.g,mn.lf,kn.lcevc),mn.I&&(mn.I.H=mn.M))}else MT(mn)}function sp(mn,kn){return new _u(mn,kn)}En=iu.prototype,En.destroy=function(){var mn=this,kn;return hs(function(xn){switch(xn.g){case 1:return mn.l==zu?xn.return():(MT(mn),mn.l=zu,kn=hE(mn.ua,function(){return{node:mn.P,payload:AE(),Jb:!1}}),Qn(xn,new Promise(function(An){kn.mc=function(){},kn.Ed=function(){An()},kn.Qb=function(){An()},kn.onError=function(){An()},kn.Gd=function(){An()}}),2));case 2:return Qn(xn,mn.ua.destroy(),3);case 3:if(mn.Id&&(mn.Id.release(),mn.Id=null),mn.gb&&(mn.gb.release(),mn.gb=null),mn.C&&(mn.C.release(),mn.C=null),mn.$e=null,mn.h=null,mn.s=null,mn.Bd=null,mn.V=null,!mn.H){xn.D(4);break}return Qn(xn,mn.H.destroy(),5);case 5:mn.H=null;case 4:mn.B&&(mn.B.release(),mn.B=null),Eu.prototype.release.call(mn),ms(xn)}})};function PI(){if(pn.Promise||$u("A Promise implementation or polyfill is required"),!(pn.Promise&&pn.Uint8Array&&Array.prototype.forEach)||Cl("Trident/"))return!1;var mn=N0();return mn&&13>mn||!(pn.MediaKeys&&pn.navigator&&pn.navigator.requestMediaKeySystemAccess&&pn.MediaKeySystemAccess&&pn.MediaKeySystemAccess.prototype.getConfiguration)?!1:Sp()?!0:oy("application/x-mpegurl")}En.Bc=function(mn,kn){if(kn=kn===void 0?!0:kn,this.l==zu)return Promise.reject(dv());var xn=AE();xn.mediaElement=mn,Sp()||(kn=!1);var An=kn?this.Ya:this.X;return mn=hE(this.ua,function(){return{node:An,payload:xn,Jb:!1}}),mn.mc=function(){},KT(mn)},En.qf=function(mn){this.lf=mn},En.detach=function(){var mn=this;if(this.l==zu)return Promise.reject(dv());var kn=hE(this.ua,function(){return{node:mn.P,payload:AE(),Jb:!1}});return kn.mc=function(){},KT(kn)},En.bf=function(mn){var kn=this;if(mn=mn===void 0?!0:mn,this.l==zu)return Promise.reject(dv());this.Nc=!1,Sp()||(mn=!1),MT(this);var xn=AE(),An=hE(this.ua,function(Mn){var Un=Mn.mediaElement&&mn?kn.Ya:Mn.mediaElement?kn.X:kn.P;return xn.mediaElement=Mn.mediaElement,{node:Un,payload:xn,Jb:!1}});return An.mc=function(){},KT(An)},En.Oh=function(mn){this.Rc=mn},En.load=function(mn,kn,xn){var An=this;if(this.Rc=null,this.Nc=!1,this.l==zu)return Promise.reject(dv());this.dispatchEvent(sp("loading"));var Mn=AE();Mn.uri=mn,Mn.Ue=Date.now()/1e3,xn&&(Mn.mimeType=xn),kn!==void 0&&(Mn.startTime=kn);var Un=sR(this,Mn)?this.$a:this.Z,Bn=hE(this.ua,function(zn){return zn.mediaElement==null?null:(Mn.mediaElement=zn.mediaElement,{node:Un,payload:Mn,Jb:!0})});return this.s=new II,this.V=hR(this),Bn.mc=function(){},new Promise(function(zn,Wn){Bn.Gd=function(){return Wn(new Hs(2,7,7002))},Bn.Ed=function(){zn(),An.dispatchEvent(sp("loaded"))},Bn.Qb=function(){return Wn(dv())},Bn.onError=function(ts){return Wn(ts)}})};function sR(mn,kn){if(!Sp())return!0;var xn=kn.mimeType,An=kn.uri||"";if(xn||(xn=c_(An),xn=nl[xn]),xn){if((kn.mediaElement||N$()).canPlayType(xn)=="")return!1;if(!Sp()||!(xn in zm||c_(An)in d_)||(xn==="application/x-mpegurl"||xn==="application/vnd.apple.mpegurl")&&mn.h.streaming.preferNativeHls)return!0;if(rv())return mn.h.streaming.useNativeHlsOnSafari}return!1}function uR(mn,kn,xn){return kn.mediaElement==null&&(kn.mediaElement=xn.mediaElement,mn.gb.o(kn.mediaElement,"error",function(){var An=y_(mn);An&&qm(mn,An)})),mn.g=kn.mediaElement,Promise.resolve()}function Sw(mn,kn){var xn,An,Mn,Un,Bn,zn,Wn,ts,os;return hs(function(ds){switch(ds.g){case 1:return mn.l!=zu&&(mn.l=GS),xn=mn.ub.map(function(ls){return ls()}),mn.ub=[],Qn(ds,Promise.all(xn),2);case 2:if(mn.dispatchEvent(sp("unloading")),kn.mimeType=null,kn.startTime=null,kn.uri=null,mn.sa&&(mn.sa.release(),mn.sa=null),kn.mediaElement&&mn.C.Rb(),mn.kf.stop(),mn.Za&&(mn.Za.release(),mn.Za=null),mn.Dd&&(mn.Dd.stop(),mn.Dd=null),!mn.K){ds.D(3);break}return Qn(ds,mn.K.stop(),4);case 4:mn.K=null,mn.Kd=null;case 3:if(!mn.B){ds.D(5);break}return Qn(ds,mn.B.stop(),5);case 5:if(!mn.j){ds.D(7);break}return Qn(ds,mn.j.destroy(),8);case 8:mn.j=null;case 7:if(mn.J&&(mn.J.release(),mn.J=null),mn.F&&(mn.F.release(),mn.F=null),!mn.I){ds.D(9);break}return Qn(ds,mn.I.destroy(),10);case 10:mn.I=null;case 9:if(mn.G&&mn.G.onAssetUnload(),!kn.mediaElement||!kn.mediaElement.src){ds.D(11);break}return Qn(ds,new Promise(function(ls){return new Tu(ls).R(.1)}),12);case 12:for(kn.mediaElement.removeAttribute("src"),kn.mediaElement.load();kn.mediaElement.lastChild;)kn.mediaElement.removeChild(kn.mediaElement.firstChild);case 11:if(!mn.m){ds.D(13);break}return Qn(ds,mn.m.destroy(),14);case 14:mn.m=null;case 13:if(mn.fb=null,mn.O=null,mn.i){for(An=Dn(mn.i.variants),Mn=An.next();!Mn.done;Mn=An.next())for(Un=Mn.value,Bn=Dn([Un.audio,Un.video]),zn=Bn.next();!zn.done;zn=Bn.next())(Wn=zn.value)&&Wn.segmentIndex&&Wn.segmentIndex.release();for(ts=Dn(mn.i.textStreams),zn=ts.next();!zn.done;zn=ts.next())os=zn.value,os.segmentIndex&&os.segmentIndex.release()}mn.i=null,mn.s=new II,mn.ef=null,FT(mn),ms(ds)}})}function OI(mn,kn){var xn,An,Mn,Un,Bn;return hs(function(zn){if(zn.g==1)return xn=mn.h.textDisplayFactory,An=xn(),mn.ef=xn,Mn=SE(kn.mediaElement,An,function(Wn,ts,os){DI(mn,Wn,ts,os)},mn.M),Mn.configure(mn.h.mediaSource),Un=mn.h.manifest,Bn=Un.segmentRelativeVttTiming,Mn.J=Bn,Qn(zn,Mn.K,2);mn.I=Mn,ms(zn)})}function MI(mn,kn,xn){var An,Mn,Un,Bn;return hs(function(zn){if(zn.g==1)return kn.mimeType=xn.mimeType,kn.uri=xn.uri,An=kn.uri,Mn=mn.H,mn.fb=An,Un=mn,Qn(zn,GA(An,Mn,mn.h.manifest.retryParameters,kn.mimeType),2);Un.Kd=zn.h,mn.K=mn.Kd(),Bn=z_(mn.h.manifest),xn.mediaElement&&xn.mediaElement.nodeName==="AUDIO"&&(Bn.disableVideo=!0),mn.K.configure(Bn),ms(zn)})}function lR(mn,kn){var xn=kn.uri;kn=mn.H,mn.sa=new iw(function(){return mn.Ja()}),mn.sa.addEventListener("regionadd",function(Un){Un=Un.region,c0(mn,"timelineregionadded",Un),mn.G&&mn.G.onDashTimedMetadata(Un)}),mn.ka=null,mn.h.streaming.observeQualityChanges&&(mn.ka=new Fv(function(){return mn.ib()}),mn.ka.addEventListener("qualitychange",function(Un){var Bn=Un.quality;Un=Un.position,Bn=new Map().set("mediaQuality",{bandwidth:Bn.bandwidth,audioSamplingRate:Bn.audioSamplingRate,codecs:Bn.codecs,contentType:Bn.contentType,frameRate:Bn.frameRate,height:Bn.height,mimeType:Bn.mimeType,channelsCount:Bn.channelsCount,pixelAspectRatio:Bn.pixelAspectRatio,width:Bn.width}).set("position",Un),mn.dispatchEvent(sp("mediaqualitychanged",Bn))}));var An={networkingEngine:kn,modifyManifestRequest:function(Un,Bn){var zn=mn.V;try{zn.g.enabled&&(zn.s=Bn.format,gE(zn,Un,{ot:IT,su:!zn.i}))}catch(Wn){cp("CMCD_MANIFEST_ERROR","Could not generate manifest CMCD data.",Wn)}},modifySegmentRequest:function(Un,Bn){hw(mn.V,Un,Bn)},filter:function(Un){return bE(mn,Un)},makeTextStreamsForClosedCaptions:function(Un){return DT(mn,Un)},onTimelineRegionAdded:function(Un){var Bn=mn.sa;e:{for(var zn=Dn(Bn.g),Wn=zn.next();!Wn.done;Wn=zn.next())if(Wn=Wn.value,Wn.schemeIdUri==Un.schemeIdUri&&Wn.id==Un.id&&Wn.startTime==Un.startTime&&Wn.endTime==Un.endTime){zn=Wn;break e}zn=null}zn==null&&(Bn.g.add(Un),Un=new _u("regionadd",new Map([["region",Un]])),Bn.dispatchEvent(Un))},onEvent:function(Un){return mn.dispatchEvent(Un)},onError:function(Un){return qm(mn,Un)},isLowLatencyMode:function(){return mn.h.streaming.lowLatencyMode},isAutoLowLatencyMode:function(){return mn.h.streaming.autoLowLatencyMode},enableLowLatencyMode:function(){mn.configure("streaming.lowLatencyMode",!0)},updateDuration:function(){mn.j&&mn.j.updateDuration()},newDrmInfo:function(Un){var Bn=mn.m?mn.m.g:null;Bn&&mn.m.C&&jT(mn,Bn.keySystem,Un)}},Mn=Date.now()/1e3;return new Al(function(){var Un,Bn,zn,Wn;return hs(function(ts){if(ts.g==1)return Un=mn,Qn(ts,mn.K.start(xn,An),2);if(Un.i=ts.h,Bn=sp("manifestparsed"),mn.dispatchEvent(Bn),mn.i.variants.length==0)throw new Hs(2,4,4036);US(mn.i),zn=Date.now()/1e3,Wn=zn-Mn,mn.s.H=Wn,ms(ts)})}(),function(){return mn.K.stop()})}function RI(mn,kn){var xn,An;return hs(function(Mn){return Mn.g==1?(xn=Date.now()/1e3,An=!0,mn.m=UI(mn,{Ob:mn.H,onError:function(Un){qm(mn,Un)},Fd:function(Un){VT(mn,Un)},onExpirationUpdated:function(Un,Bn){my(mn,Un,Bn)},onEvent:function(Un){mn.dispatchEvent(Un),Un.type=="drmsessionupdate"&&An&&(An=!1,mn.s.j=Date.now()/1e3-xn,mn.M&&(Un=mn.M,Un.g&&Un.h.classList.add("shaka-hidden")))}}),mn.m.configure(mn.h.drm),Qn(Mn,X0(mn.m,mn.i.variants,mn.i.offlineSessionIds),2)):Mn.g!=3?Qn(Mn,mn.m.Bc(kn.mediaElement),3):Qn(Mn,bE(mn,mn.i),0)})}function cR(mn,kn,xn){var An,Mn,Un,Bn,zn,Wn,ts,os,ds,ls,ys,Cs,Ns,Os,Ps,Xs,Ds;return hs(function(qs){switch(qs.g){case 1:for(kn.startTime=xn.startTime,mn.Rc!=null&&(kn.startTime=mn.Rc,mn.Rc=null),An=kn.mediaElement,Mn=kn.uri,mn.fb=Mn,mn.J=new e0({wd:function(){return An.playbackRate},td:function(){return An.defaultPlaybackRate},Pe:function(Qs){An.playbackRate=Qs},Of:function(Qs){An.currentTime+=Qs}}),Un=function(){return BS(mn)},Bn=function(){return FS(mn)},mn.C.o(An,"playing",Un),mn.C.o(An,"pause",Un),mn.C.o(An,"ended",Un),mn.C.o(An,"ratechange",Bn),oR(mn,mn.h),zn=mn.h.abrFactory,mn.B&&mn.$e==zn||(mn.$e=zn,mn.B=zn(),typeof mn.B.setMediaElement!="function"&&(ix("AbrManager","Please use an AbrManager with setMediaElement function."),mn.B.setMediaElement=function(){}),mn.B.configure(mn.h.abr)),mn.La=new Uy(mn.h.preferredAudioLanguage,mn.h.preferredVariantRole,mn.h.preferredAudioChannelCount),mn.Xa=mn.h.preferredTextLanguage,mn.Kc=mn.h.preferredTextRole,mn.Ec=mn.h.preferForcedSubs,zT(mn.i.presentationTimeline,mn.h.playRangeStart,mn.h.playRangeEnd),mn.B.init(function(Qs,ru,ou){mn.j&&Qs!=mn.j.l&&Gv(mn,Qs,!0,ru===void 0?!1:ru,ou===void 0?0:ou)}),mn.B.setMediaElement(An),Bl(mn.i,mn.h.preferredVideoCodecs,mn.h.preferredAudioCodecs,mn.h.preferredAudioChannelCount,mn.h.preferredDecodingAttributes),mn.j=BI(mn),mn.j.configure(mn.h.streaming),mn.l=Im,An.textTracks&&mn.C.o(An.textTracks,"addtrack",function(Qs){if(Qs.track)switch(Qs=Qs.track,Qs.kind){case"chapters":Tw(mn,Qs)}}),mn.dispatchEvent(sp("streaming")),Wn=null,(ts=mn.j.l)||(Wn=BT(mn)),os=[],ds=ts||Wn,ls=Dn([ds.video,ds.audio]),ys=ls.next();!ys.done;ys=ls.next())(Cs=ys.value)&&!Cs.segmentIndex&&os.push(Cs.createSegmentIndex());if(!(0<os.length)){qs.D(2);break}return Qn(qs,Promise.all(os),2);case 2:if(mn.F=kw(mn,kn.startTime),mn.Za=FI(mn),Ns=Math.max(mn.i.minBufferTime,mn.h.streaming.rebufferingGoal),RT(mn,Ns),ts){qs.D(4);break}if(Gv(mn,Wn,!0,!1,0),!mn.h.streaming.startAtSegmentBoundary){qs.D(5);break}return Os=mn.F.kd(),Qn(qs,hy(Wn,Os),6);case 6:Ps=qs.h,mn.F.ie(Ps);case 5:ww(mn,null,B_(Wn));case 4:return mn.F.ge(),Xs=mn.yb().find(function(Qs){return Qs.active}),Xs||((Ds=rS(mn.i.textStreams,mn.Xa,mn.Kc,mn.Ec)[0]||null)&&Ew(mn.s.h,Ds,!0),Wn&&(Ds?(Wn.audio&&HI(mn,Wn.audio,Ds)&&(mn.$=!0),mn.$&&mn.I.m.setTextVisibility(!0),l0(mn)):mn.$=!1),Ds&&(mn.h.streaming.alwaysStreamText||mn.Nb())&&ST(mn.j,Ds)),Qn(qs,mn.j.start(),7);case 7:mn.h.abr.enabled&&(mn.B.enable(),Aw(mn)),Xk(mn.j?mn.j.l:null,mn.i),Ym(mn.i),Wm(mn),xE(mn),mn.i.variants.some(function(Qs){return Qs.primary}),mn.Nc=!0,mn.C.ya(An,"loadedmetadata",function(){mn.s.m=Date.now()/1e3-xn.Ue}),ms(qs)}})}function dR(mn,kn,xn){var An,Mn,Un,Bn,zn,Wn,ts;return hs(function(os){return os.g==1?(An=Pu,Mn=Date.now()/1e3,Un=!0,mn.m=UI(mn,{Ob:mn.H,onError:function(ds){qm(mn,ds)},Fd:function(ds){VT(mn,ds)},onExpirationUpdated:function(ds,ls){my(mn,ds,ls)},onEvent:function(ds){mn.dispatchEvent(ds),ds.type=="drmsessionupdate"&&Un&&(Un=!1,mn.s.j=Date.now()/1e3-Mn)}}),mn.m.configure(mn.h.drm),Bn=xn.uri||"",zn=c_(Bn),Wn=nl[zn],Wn=="application/x-mpegurl"&&rv()&&(Wn="application/vnd.apple.mpegurl"),Wn||(Wn="video/mp4"),ts={id:0,language:"und",disabledUntilTime:0,primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:xn.mimeType?xn.mimeType.split(";")[0]:Wn,codecs:xn.mimeType?As(xn.mimeType):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",label:null,type:An.Ma,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},mn.m.V=!0,Qn(os,X0(mn.m,[ts],[]),2)):Qn(os,mn.m.Bc(kn.mediaElement),0)})}function fR(mn,kn,xn){function An(){return BS(mn)}kn.uri=xn.uri,kn.startTime=xn.startTime,mn.fb=kn.uri;var Mn=kn.mediaElement;mn.F=new hI(Mn);var Un=!1;mn.ub.push(function(){Un=!0}),kn.startTime!=null&&mn.F.ie(kn.startTime),mn.J=new e0({wd:function(){return Mn.playbackRate},td:function(){return Mn.defaultPlaybackRate},Pe:function(Wn){Mn.playbackRate=Wn},Of:function(Wn){Mn.currentTime+=Wn}}),RT(mn,mn.h.streaming.rebufferingGoal),mn.C.o(Mn,"playing",An),mn.C.o(Mn,"pause",An),mn.C.o(Mn,"ended",An),mn.C.o(Mn,"ratechange",function(){return FS(mn)}),Mn.preload!="none"&&mn.C.ya(Mn,"loadedmetadata",function(){mn.s.m=Date.now()/1e3-xn.Ue}),Mn.audioTracks&&(mn.C.o(Mn.audioTracks,"addtrack",function(){return Wm(mn)}),mn.C.o(Mn.audioTracks,"removetrack",function(){return Wm(mn)}),mn.C.o(Mn.audioTracks,"change",function(){return Wm(mn)})),Mn.textTracks&&(mn.C.o(Mn.textTracks,"addtrack",function(Wn){if(Wn.track)switch(Wn=Wn.track,Wn.kind){case"metadata":pR(mn,Wn);break;case"chapters":Tw(mn,Wn);break;default:Wm(mn)}}),mn.C.o(Mn.textTracks,"removetrack",function(){return Wm(mn)}),mn.C.o(Mn.textTracks,"change",function(){return Wm(mn)}));var Bn=c_(kn.uri);Mn.src=mw(mn.V,kn.uri,nl[Bn]),(Fm()||Cl("Web0S"))&&Mn.load(),mn.l=Xm,mn.dispatchEvent(sp("streaming"));var zn=new _l;return J_(Mn,HTMLMediaElement.HAVE_METADATA,mn.C,function(){mn.F.ge(),zn.resolve()}),J_(Mn,HTMLMediaElement.HAVE_CURRENT_DATA,mn.C,function(){var Wn;return hs(function(ts){if(ts.g==1)return NI(mn),Wn=$E(mn),Wn.find(function(os){return os.mode!="disabled"})?(0<Wn.length&&(mn.$=!0),ts.D(2)):Qn(ts,new Promise(function(os){mn.C.ya(Mn.textTracks,"change",os),new Tu(os).R(1)}),2);if(Un)return ts.return();$w(mn),ms(ts)})}),Mn.error?zn.reject(y_(mn)):Mn.preload=="none"&&($u('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),zn.resolve()),mn.C.ya(Mn,"error",function(){zn.reject(y_(mn))}),new Al(zn,function(){return zn.reject(new Hs(2,7,7001)),Promise.resolve()}).ia(function(){mn.Nc=!0})}function NI(mn){var kn=mn.h.preferredAudioLanguage;if(kn!=""){mn.Md(kn);var xn=mn.h.preferredVariantRole;xn!=""&&mn.Md(kn,xn)}}function $w(mn){var kn=mn.h.preferredTextLanguage,xn=mn.h.preferForcedSubs;if(kn!=""){mn.Ie(kn,"",xn);var An=mn.h.preferredTextRole;An!=""&&mn.Ie(kn,An,xn)}}function pR(mn,kn){if(kn.kind=="metadata"){kn.mode="hidden",mn.C.o(kn,"cuechange",function(){if(kn.activeCues)for(var An=Dn(kn.activeCues),Mn=An.next();!Mn.done;Mn=An.next())Mn=Mn.value,LI(mn,Mn.startTime,Mn.endTime,Mn.type,Mn.value),mn.G&&mn.G.onCueMetadataChange(Mn.value)});var xn=new Tu(function(){var An=bw(mn);An=Dn(An);for(var Mn=An.next();!Mn.done;Mn=An.next())Mn.value.mode="hidden"}).Aa().R(.5);mn.ub.push(function(){xn.stop()})}}function DI(mn,kn,xn,An){kn=Dn(kn);for(var Mn=kn.next();!Mn.done;Mn=kn.next())if(Mn=Mn.value,Mn.data&&Mn.cueTime&&Mn.frames){var Un=Mn.cueTime+xn,Bn=An;Bn&&Un>Bn&&(Bn=Un);for(var zn=Dn(Mn.frames),Wn=zn.next();!Wn.done;Wn=zn.next())LI(mn,Un,Bn,"org.id3",Wn.value);mn.G&&mn.G.onHlsTimedMetadata(Mn,Un)}}function LI(mn,kn,xn,An,Mn){kn=new Map().set("startTime",kn).set("endTime",xn).set("metadataType",An).set("payload",Mn),mn.dispatchEvent(sp("metadata",kn))}function Tw(mn,kn){if(kn&&kn.kind=="chapters"){kn.mode="hidden";var xn=new Tu(function(){kn.mode="hidden"}).Aa().R(.5);mn.ub.push(function(){xn.stop()})}}function US(mn){function kn(xn){return xn.video&&xn.audio||xn.video&&xn.video.codecs.includes(",")}mn.variants.some(kn)&&(mn.variants=mn.variants.filter(kn))}function UI(mn,kn){return new Y0(kn,mn.h.drm.updateExpirationTime)}function jI(mn){return new wl(function(kn,xn){mn.B&&mn.B.segmentDownloaded(kn,xn)},function(kn,xn,An){kn=new Map().set("headers",kn).set("request",xn).set("requestType",An),mn.dispatchEvent(sp("downloadheadersreceived",kn))},function(kn,xn,An,Mn){kn=new Map().set("request",kn).set("error",xn).set("httpResponseCode",An).set("aborted",Mn),mn.dispatchEvent(sp("downloadfailed",kn))})}function kw(mn,kn){return new vT(mn.g,mn.i,mn.h.streaming,kn,function(){mn.Za&&cE(mn.Za,!0),mn.j&&mn.j.Xc(),mn.O&&NT(mn)},function(xn){return mn.dispatchEvent(xn)})}function FI(mn){var kn=new ET(mn.sa);kn.addEventListener("enter",function(An){c0(mn,"timelineregionenter",An.region)}),kn.addEventListener("exit",function(An){c0(mn,"timelineregionexit",An.region)}),kn.addEventListener("skip",function(An){var Mn=An.region;An.seeking||(c0(mn,"timelineregionenter",Mn),c0(mn,"timelineregionexit",Mn))});var xn=new h_(mn.g);return xn.g.add(kn),mn.ka&&xn.g.add(mn.ka),xn}function RT(mn,kn){mn.O=new Ju,mn.O.g=Av,ox(mn.O,kn,Math.min(.5,kn/2)),FT(mn),mn.Dd=new Tu(function(){NT(mn)}).ha(.25)}function NT(mn){switch(mn.l){case Xm:if(mn.g.ended)var kn=!0;else{var xn=aE(mn.g.buffered);kn=xn!=null&&xn>=mn.g.duration-1}break;case Im:e:if(mn.g.ended||jx(mn.I))kn=!0;else{if(mn.i.presentationTimeline.U()){xn=mn.i.presentationTimeline.Ib();var An=aE(mn.g.buffered);if(An!=null&&An>=xn){kn=!0;break e}}kn=!1}break;default:kn=!1}An=cT(mn.g.buffered,mn.g.currentTime),xn=mn.O;var Mn=kn,Un=xn.h.get(xn.g);kn=xn.g,An=Mn||An>=Un?hl:Av,xn.g=An,kn!=An&&FT(mn)}function SE(mn,kn,xn,An){return new p_(mn,kn,xn,An)}function hR(mn){return new pw({getBandwidthEstimate:function(){return mn.B?mn.B.getBandwidthEstimate():NaN},ib:function(){return mn.ib()},getCurrentTime:function(){return mn.g?mn.g.currentTime:0},Qa:function(){return mn.Qa()},xb:function(){return mn.xb()},U:function(){return mn.U()}},mn.h.cmcd)}function BI(mn){return new yI(mn.i,{vd:function(){return mn.F?mn.F.kd():0},getBandwidthEstimate:function(){return mn.B.getBandwidthEstimate()},modifySegmentRequest:function(kn,xn){hw(mn.V,kn,xn)},S:mn.I,Ob:mn.H,onError:function(kn){return qm(mn,kn)},onEvent:function(kn){return mn.dispatchEvent(kn)},oh:function(){mn.K&&mn.K.update&&mn.K.update()},Ce:function(kn,xn,An){mn.F&&mn.F.Pf(),NT(mn),kn=new Map().set("start",kn).set("end",xn).set("contentType",An),mn.dispatchEvent(sp("segmentappended",kn))},nh:function(kn,xn){(xn=xn.we)&&mn.ka&&nw(mn.ka,xn,kn)},tf:function(kn,xn){var An=mn.m;if(An.h.parseInbandPsshEnabled&&["audio","video"].includes(kn)){xn=new ov(Ku(xn));var Mn=0,Un=Dn(xn.data);for(kn=Un.next();!kn.done;kn=Un.next())Mn+=kn.value.length;if(Mn==0)An=Promise.resolve();else{for(Mn=new Uint8Array(Mn),Un=0,xn=Dn(xn.data),kn=xn.next();!kn.done;kn=xn.next())kn=kn.value,Mn.set(kn,Un),Un+=kn.length;dS(An,"cenc",Mn),An=An.s}}else An=Promise.resolve();return An},ph:function(kn,xn,An){DI(mn,kn,xn,An)}})}En.configure=function(mn,kn){arguments.length==2&&typeof mn=="string"&&(mn=s0(mn,kn)),mn.streaming&&"forceTransmuxTS"in mn.streaming&&(ix("streaming.forceTransmuxTS configuration","Please Use streaming.forceTransmux instead."),mn.streaming.forceTransmux=mn.streaming.forceTransmuxTS,delete mn.streaming.forceTransmuxTS),mn.streaming&&mn.streaming.lowLatencyMode&&(mn.streaming.inaccurateManifestTolerance==null&&(mn.streaming.inaccurateManifestTolerance=0),mn.streaming.rebufferingGoal==null&&(mn.streaming.rebufferingGoal=.01));var xn=Bv(this.h,mn,Vv(this));return VI(this),xn};function VI(mn){if(mn.K){var kn=z_(mn.h.manifest);mn.g&&mn.g.nodeName==="AUDIO"&&(kn.disableVideo=!0),mn.K.configure(kn)}if(mn.m&&mn.m.configure(mn.h.drm),mn.j){mn.j.configure(mn.h.streaming);try{zI(mn,mn.i)}catch(Un){qm(mn,Un)}mn.B&&xE(mn),kn=mn.j.l,!kn||kn.allowedByApplication&&kn.allowedByKeySystem||cv(mn)}if(mn.H&&mn.H.Ne(mn.h.streaming.forceHTTPS),mn.I&&(mn.I.configure(mn.h.mediaSource),mn.I.J=mn.h.manifest.segmentRelativeVttTiming,kn=mn.h.textDisplayFactory,mn.ef!=kn)){var xn=kn(),An=mn.I,Mn=An.m;An.m=xn,Mn&&(xn.setTextVisibility(Mn.isTextVisible()),Mn.destroy()),An.g&&(An.g.j=xn),mn.ef=kn,mn.j&&(kn=mn.j,(xn=kn.j.get(Vu))&&fE(kn,xn.stream,!0,0,!0))}mn.B&&(mn.B.configure(mn.h.abr),mn.h.abr.enabled?mn.B.enable():mn.B.disable(),Aw(mn)),mn.O&&(kn=mn.h.streaming.rebufferingGoal,mn.i&&(kn=Math.max(kn,mn.i.minBufferTime)),ox(mn.O,kn,Math.min(.5,kn/2))),mn.i&&zT(mn.i.presentationTimeline,mn.h.playRangeStart,mn.h.playRangeEnd)}En.getConfiguration=function(){var mn=Vv(this);return Bv(mn,this.h,Vv(this)),mn},En.zg=function(){if(this.g){var mn=this.g.buffered.length;mn=mn?this.g.buffered.end(mn-1):0;var kn=this.getConfiguration().streaming.bufferingGoal;if(kn=Math.min(this.g.currentTime+kn,this.Ja().end),mn>=kn)return 1;if(!(mn<=this.g.currentTime)&&mn<kn)return(mn-this.g.currentTime)/(kn-this.g.currentTime)}return 0},En.Bh=function(){for(var mn in this.h)delete this.h[mn];Bv(this.h,Vv(this),Vv(this)),VI(this)},En.If=function(){return this.l},En.Qg=function(){return this.g},En.Hc=function(){return this.H},En.le=function(){return this.fb},En.sd=function(){return this.G?this.G:null},En.U=function(){return this.i?this.i.presentationTimeline.U():this.g&&this.g.src?this.g.duration==1/0:!1},En.Lb=function(){return this.i?this.i.presentationTimeline.Lb():!1},En.hc=function(){if(this.i){var mn=this.i.variants;return mn.length?!mn[0].video:!1}return this.g&&this.g.src?this.g.videoTracks?this.g.videoTracks.length==0:this.g.videoHeight==0:!1},En.Ja=function(){if(!this.Nc)return{start:0,end:0};if(this.i){var mn=this.i.presentationTimeline;return{start:mn.dc(),end:mn.jb()}}return this.g&&this.g.src&&(mn=this.g.seekable,mn.length)?{start:mn.start(0),end:mn.end(mn.length-1)}:{start:0,end:0}},En.bh=function(){this.U()&&(this.g.currentTime=this.Ja().end)},En.keySystem=function(){var mn=this.drmInfo();return mn?mn.keySystem:""},En.drmInfo=function(){return this.m?this.m.g:null},En.Gc=function(){return this.m?this.m.Gc():1/0},En.ud=function(){return this.m?this.m.ud():{}},En.Pc=function(){return this.O?this.O.g==Av:!1},En.xb=function(){return this.g?this.J?this.J.i:1:0},En.Ze=function(mn){mn==0?$u("A trick play rate of 0 is unsupported!"):(this.g.paused&&this.g.play(),this.J.set(mn),this.l==Im&&(this.B.playbackRateChanged(mn),_I(this.j,1<Math.abs(mn))))},En.vf=function(){var mn=this.J.td();this.l==Xm&&this.J.set(mn),this.l==Im&&(this.J.set(mn),this.B.playbackRateChanged(mn),_I(this.j,!1))},En.Qa=function(){if(this.i){for(var mn=this.j?this.j.l:null,kn=[],xn=0,An=Dn(this.i.variants),Mn=An.next();!Mn.done;Mn=An.next())if(Mn=Mn.value,V_(Mn)){var Un=B_(Mn);Un.active=Mn==mn,Un.active||xn==1||mn==null||Mn.video!=mn.video||Mn.audio!=mn.audio||(Un.active=!0),Un.active&&xn++,kn.push(Un)}return kn}return this.g&&this.g.audioTracks?Array.from(this.g.audioTracks).map(function(Bn){return j$(Bn)}):[]},En.yb=function(){if(this.i){for(var mn=this.j?this.j.s:null,kn=[],xn=Dn(this.i.textStreams),An=xn.next();!An.done;An=xn.next()){An=An.value;var Mn=U$(An);Mn.active=An==mn,kn.push(Mn)}return kn}return this.g&&this.g.src&&this.g.textTracks?$E(this).map(function(Un){return tS(Un)}):[]},En.Ig=function(){return this.i?this.i.imageStreams.map(function(mn){return Jk(mn)}):[]},En.Yg=function(mn,kn){var xn=this,An,Mn,Un,Bn,zn,Wn,ts,os,ds,ls,ys,Cs,Ns,Os,Ps,Xs,Ds,qs,Qs,ru;return hs(function(ou){return ou.g==1?xn.i?(An=xn.i.imageStreams.find(function(hu){return hu.id==mn}))?An.segmentIndex?ou.D(3):Qn(ou,An.createSegmentIndex(),3):ou.return(null):ou.D(2):ou.g!=2?(Mn=An.segmentIndex.find(kn),Mn==null||(Un=An.segmentIndex.get(Mn),Bn=Un.tilesLayout||An.tilesLayout,zn=/(\d+)x(\d+)/.exec(Bn),!zn)?ou.return(null):(Wn=An.width||0,ts=An.height||0,os=parseInt(zn[1],10),ds=parseInt(zn[2],10),ls=Wn/os,ys=ts/ds,Cs=os*ds,Ns=Un.l-Un.startTime,Os=Un.B||Ns/Cs,Ps=Un.startTime,Ds=Xs=0,1<Cs&&(qs=Math.floor((kn-Un.startTime)/Os),Ps=Un.startTime+qs*Os,Xs=qs%os*ls,Ds=Math.floor(qs/os)*ys),Qs=!1,(ru=Un.s)&&(Qs=!0,ys=ru.height,Xs=ru.positionX,Ds=ru.positionY,ls=ru.width),ou.return({imageHeight:ts,imageWidth:Wn,height:ys,positionX:Xs,positionY:Ds,startTime:Ps,duration:Os,uris:Un.Pa(),width:ls,sprite:Qs}))):ou.return(null)})},En.Je=function(mn){if(this.i&&this.j){var kn=this.i.textStreams.find(function(An){return An.id==mn.id});kn&&kn!=this.j.s&&(Ew(this.s.h,kn,!1),ST(this.j,kn),VS(this),this.Xa=kn.language)}else if(this.g&&this.g.src&&this.g.textTracks){kn=$E(this),kn=Dn(kn);for(var xn=kn.next();!xn.done;xn=kn.next())xn=xn.value,_b(xn)==mn.id?xn.mode=this.$?"showing":"hidden":xn.mode="disabled";VS(this)}},En.Ke=function(mn,kn,xn){if(kn=kn===void 0?!1:kn,xn=xn===void 0?0:xn,this.i&&this.j){this.h.abr.enabled&&$u("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var An=this.i.variants.find(function(Mn){return Mn.id==mn.id});An&&V_(An)&&(Gv(this,An,!1,kn,xn),this.La=new V$(An),xE(this))}else if(this.g&&this.g.audioTracks){for(kn=Array.from(this.g.audioTracks),kn=Dn(kn),xn=kn.next();!xn.done;xn=kn.next())if(xn=xn.value,_b(xn)==mn.id){wE(this,xn);break}}},En.yg=function(){return HT(this.Qa())},En.Wg=function(){return HT(this.yb())},En.xg=function(){return Array.from(Iw(this.Qa()))},En.Vg=function(){return Array.from(Iw(this.yb()))},En.Md=function(mn,kn,xn){if(xn=xn===void 0?0:xn,this.i&&this.F){this.La=new Uy(mn,kn||"",xn,""),kn=function(zn,Wn){return zn.video||Wn.video?zn.video&&Wn.video?Math.abs((zn.video.height||0)-(Wn.video.height||0))+Math.abs((zn.video.width||0)-(Wn.video.width||0)):1/0:0},mn=this.j.l;var An=this.La.create(this.i.variants);xn=null,An=Dn(An.values());for(var Mn=An.next();!Mn.done;Mn=An.next())Mn=Mn.value,(!xn||kn(xn,mn)>kn(Mn,mn))&&(xn=Mn);xn?(kn=B_(xn),this.Ke(kn,!0)):cv(this)}else if(this.g&&this.g.audioTracks){Mn=Array.from(this.g.audioTracks),mn=ol(mn),An=xn=null,Mn=Dn(Mn);for(var Un=Mn.next();!Un.done;Un=Mn.next()){Un=Un.value;var Bn=j$(Un);ol(Bn.language)==mn&&(xn=Un,kn?Bn.roles.includes(kn)&&(An=Un):Bn.roles.length==0&&(An=Un))}An?wE(this,An):xn&&wE(this,xn)}},En.Ie=function(mn,kn,xn){if(xn=xn===void 0?!1:xn,this.i&&this.F)this.Xa=mn,this.Kc=kn||"",this.Ec=xn,(mn=rS(this.i.textStreams,this.Xa,this.Kc,this.Ec)[0]||null)&&mn!=this.j.s&&(Ew(this.s.h,mn,!1),this.h.streaming.alwaysStreamText||this.Nb())&&(ST(this.j,mn),VS(this));else{var An=ol(mn);(mn=this.yb().find(function(Mn){return ol(Mn.language)==An&&(!kn||Mn.roles.includes(kn))&&Mn.forced==xn}))&&this.Je(mn)}},En.Eh=function(mn){if(this.i&&this.F){for(var kn=null,xn=Dn(this.i.variants),An=xn.next();!An.done;An=xn.next())if(An=An.value,An.audio.label==mn){kn=An;break}kn!=null&&(this.La=new Uy(kn.language,"",0,mn),cv(this))}else if(this.g&&this.g.audioTracks){for(xn=Array.from(this.g.audioTracks),kn=null,xn=Dn(xn),An=xn.next();!An.done;An=xn.next())An=An.value,An.label==mn&&(kn=An);kn&&wE(this,kn)}},En.Nb=function(){var mn=this.$;return this.I?this.I.m.isTextVisible():this.g&&this.g.src&&this.g.textTracks?$E(this).some(function(kn){return kn.mode=="showing"}):mn},En.Gf=function(){return this.g&&this.g.src&&this.g.textTracks?GI(this).map(function(mn){return tS(mn)}):[]},En.Bg=function(mn){var kn=ol(mn),xn=GI(this).filter(function(zn){return ol(zn.language)==kn});if(!xn||!xn.length)return[];mn=[];var An=new Set;xn=Dn(xn);for(var Mn=xn.next();!Mn.done;Mn=xn.next())if((Mn=Mn.value)&&Mn.cues){Mn=Dn(Mn.cues);for(var Un=Mn.next();!Un.done;Un=Mn.next()){var Bn=Un.value;(Un=Bn.id)&&Un!=""||(Un=Bn.startTime+"-"+Bn.endTime+"-"+Bn.text),Bn={id:Un,title:Bn.text,startTime:Bn.startTime,endTime:Bn.endTime},An.has(Un)||(mn.push(Bn),An.add(Un))}}return mn};function $E(mn){return Array.from(mn.g.textTracks).filter(function(kn){return kn.kind!="metadata"&&kn.kind!="chapters"&&kn.label!="Shaka Player TextTrack"})}function bw(mn){return Array.from(mn.g.textTracks).filter(function(kn){return kn.kind=="metadata"})}function GI(mn){return Array.from(mn.g.textTracks).filter(function(kn){return kn.kind=="chapters"})}En.Se=function(mn){if(mn=!!mn,this.$!=mn){if(this.$=mn,this.l==Im)this.I.m.setTextVisibility(mn),this.h.streaming.alwaysStreamText||(mn?this.j.s||(mn=rS(this.i.textStreams,this.Xa,this.Kc,this.Ec),0<mn.length&&(ST(this.j,mn[0]),VS(this))):vI(this.j));else if(this.g&&this.g.src&&this.g.textTracks){var kn=$E(this);kn=Dn(kn);for(var xn=kn.next();!xn.done;xn=kn.next())xn=xn.value,xn.mode!="disabled"&&(xn.mode=mn?"showing":"hidden")}l0(this)}},En.Sg=function(){if(!this.U())return null;var mn=this.ua.l,kn=0;if(this.F)kn=this.F.kd();else if(mn){if(mn.startTime==null)return new Date;kn=mn.startTime}return this.i?new Date(1e3*(this.i.presentationTimeline.i+kn)):this.g&&this.g.getStartDate?(mn=this.g.getStartDate(),isNaN(mn.getTime())?null:new Date(mn.getTime()+1e3*kn)):null},En.Jf=function(){if(!this.U())return null;if(this.i)return new Date(1e3*this.i.presentationTimeline.i);if(this.g&&this.g.getStartDate){var mn=this.g.getStartDate();return isNaN(mn.getTime())?null:mn}return null},En.ib=function(){if(this.l==Im)return this.I.ib();var mn={total:[],audio:[],video:[],text:[]};return this.l==Xm&&(mn.total=Lv(this.g.buffered)),mn},En.getStats=function(){if(this.l!=Im&&this.l!=Xm)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,stallsDetected:NaN,gapsJumped:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,switchHistory:[],stateHistory:[]};BS(this);var mn=this.g,kn=mn.currentTime/mn.duration;if(!isNaN(kn)){var xn=this.s;kn=Math.round(100*kn),xn.i=isNaN(xn.i)?kn:Math.max(xn.i,kn)}if(this.F&&(this.s.O=this.F.mf(),this.s.P=this.F.nf()),mn.getVideoPlaybackQuality){xn=mn.getVideoPlaybackQuality(),kn=this.s;var An=Number(xn.totalVideoFrames);kn.M=Number(xn.droppedVideoFrames),kn.K=An,this.s.J=Number(xn.corruptedVideoFrames)}this.m?(xn=this.m,xn=xn.J?xn.J:NaN):xn=NaN,this.s.B=xn,this.l==Im&&((xn=this.j.l)&&(this.s.F=(this.J?this.J.i:1)*xn.bandwidth),xn&&xn.video&&(kn=this.s,An=xn.video.height||NaN,kn.s=xn.video.width||NaN,kn.l=An),this.U()&&(xn=this.Jf().valueOf()+1e3*this.Ja().end,this.s.G=(Date.now()-xn)/1e3),this.i&&this.i.presentationTimeline&&(this.s.I=this.i.presentationTimeline.g),xn=this.B.getBandwidthEstimate(),this.s.C=xn),this.l==Xm&&(xn=this.s,kn=mn.videoHeight||NaN,xn.s=mn.videoWidth||NaN,xn.l=kn);var Mn=this.s;mn=Mn.s,xn=Mn.l,kn=Mn.F,An=Mn.K;var Un=Mn.M,Bn=Mn.J,zn=Mn.P,Wn=Mn.O,ts=Mn.C,os=Mn.i,ds=Mn.m,ls=Mn.H,ys=Mn.j,Cs=_w(Mn.g,"playing"),Ns=_w(Mn.g,"paused"),Os=_w(Mn.g,"buffering"),Ps=Mn.B,Xs=Mn.G,Ds=Mn.I,qs=AI(Mn.g),Qs=[];Mn=Dn(Mn.h.g);for(var ru=Mn.next();!ru.done;ru=Mn.next())ru=ru.value,Qs.push({timestamp:ru.timestamp,id:ru.id,type:ru.type,fromAdaptation:ru.fromAdaptation,bandwidth:ru.bandwidth});return{width:mn,height:xn,streamBandwidth:kn,decodedFrames:An,droppedFrames:Un,corruptedFrames:Bn,stallsDetected:zn,gapsJumped:Wn,estimatedBandwidth:ts,completionPercent:os,loadLatency:ds,manifestTimeSeconds:ls,drmTimeSeconds:ys,playTime:Cs,pauseTime:Ns,bufferingTime:Os,licenseTime:Ps,liveLatency:Xs,maxSegmentDuration:Ds,stateHistory:qs,switchHistory:Qs}},En.kg=function(mn,kn,xn,An,Mn,Un,Bn){Bn=Bn===void 0?!1:Bn;var zn=this,Wn,ts,os,ds,ls,ys,Cs,Ns,Os,Ps,Xs;return hs(function(Ds){switch(Ds.g){case 1:if(zn.l!=Im&&zn.l!=Xm)throw new Hs(1,7,7004);if(An){Ds.D(2);break}return Qn(Ds,jS(zn,mn),3);case 3:An=Ds.h;case 2:if(Wn=[],zn.G)try{Wn=zn.G.getServerSideCuePoints()}catch{}if(zn.l!=Xm){Ds.D(4);break}return Bn&&(xn="forced"),Qn(Ds,xw(zn,mn,kn,xn,An,Un||"",Wn),5);case 5:if(ts=zn.yb(),os=ts.find(function(qs){return qs.language==kn&&qs.label==(Un||"")&&qs.kind==xn}))return Wm(zn),Ds.return(os);throw new Hs(1,2,2012);case 4:if(ds=Pu,ls=zn.i.presentationTimeline.getDuration(),ls==1/0)throw new Hs(1,4,4033);if(!Wn.length){Ds.D(6);break}return Qn(Ds,TE(zn,mn,zn.H,zn.h.streaming.retryParameters),7);case 7:ys=Ds.h,Cs=kE(zn,ys,An,Wn),Ns=new Blob([Cs],{type:"text/vtt"}),mn=CS(Ns),An="text/vtt";case 6:if(Os={id:zn.hf++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:rw(0,ls,[mn]),mimeType:An||"",codecs:Mn||"",kind:xn,encrypted:!1,drmInfos:[],keyIds:new Set,language:kn,label:Un||null,type:ds.ba,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!Bn,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},Ps=Vm(Os.mimeType,Os.codecs),Xs=ks(Ps),!Xs)throw new Hs(2,2,2014,An);return zn.i.textStreams.push(Os),Wm(zn),Ds.return(U$(Os))}})},En.lg=function(mn,kn){var xn=this,An,Mn,Un,Bn,zn,Wn,ts,os,ds,ls,ys,Cs,Ns,Os,Ps,Xs;return hs(function(Ds){switch(Ds.g){case 1:if(xn.l!=Im&&xn.l!=Xm)throw new Hs(1,7,7004);if(xn.l==Xm)throw new Hs(1,2,2016);if(kn){Ds.D(2);break}return Qn(Ds,jS(xn,mn),3);case 3:kn=Ds.h;case 2:if(kn!="text/vtt")throw new Hs(1,2,2017,mn);if(An=Pu,Mn=xn.i.presentationTimeline.getDuration(),Mn==1/0)throw new Hs(1,4,4045);return Qn(Ds,TE(xn,mn,xn.H,xn.h.streaming.retryParameters),4);case 4:if(Un=Ds.h,Bn=Ul[kn],!Bn)throw new Hs(2,2,2014,kn);for(zn=Bn(),Wn={periodStart:0,segmentStart:0,segmentEnd:Mn,vttOffset:0},ts=Ku(Un),os=zn.parseMedia(ts,Wn),ds=[],ls={},ys=Dn(os),Cs=ys.next();!Cs.done;ls={uc:ls.uc},Cs=ys.next())Ns=Cs.value,ls.uc=Zp([mn],[Ns.payload])[0],Os=new rl(Ns.startTime,Ns.endTime,function(qs){return function(){return[qs.uc]}}(ls),0,null,null,0,0,1/0),ls.uc.includes("#xywh")&&(Ps=ls.uc.split("#xywh=")[1].split(","),Ps.length===4&&Os.Zf({height:parseInt(Ps[3],10),positionX:parseInt(Ps[0],10),positionY:parseInt(Ps[1],10),width:parseInt(Ps[2],10)})),ds.push(Os);return Xs={id:xn.hf++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new vl(ds),mimeType:kn||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",label:null,type:An.Ac,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1"},xn.i.imageStreams.push(Xs),Wm(xn),Ds.return(Jk(Xs))}})},En.jg=function(mn,kn,xn){var An=this,Mn,Un,Bn,zn;return hs(function(Wn){switch(Wn.g){case 1:if(An.l!=Im&&An.l!=Xm)throw new Hs(1,7,7004);if(xn){Wn.D(2);break}return Qn(Wn,jS(An,mn),3);case 3:xn=Wn.h;case 2:if(Mn=[],An.G)try{Mn=An.G.getServerSideCuePoints()}catch{}return Qn(Wn,xw(An,mn,kn,"chapters",xn,"",Mn),4);case 4:if(Un=Wn.h,Bn=An.Gf(),zn=Bn.find(function(ts){return ts.language==kn}),!zn){Wn.D(5);break}return Qn(Wn,new Promise(function(ts,os){An.C.ya(Un,"load",ts),An.C.ya(Un,"error",function(){os(new Hs(1,2,2015))})}),6);case 6:return Wn.return(zn);case 5:throw new Hs(1,2,2012)}})};function jS(mn,kn){var xn,An;return hs(function(Mn){switch(Mn.g){case 1:return xn=c_(kn),(An=qT[xn])?Mn.return(An):($s(Mn,2),Qn(Mn,vx(kn,mn.H,mn.h.streaming.retryParameters),4));case 4:An=Mn.h,gs(Mn,3);break;case 2:Ss(Mn);case 3:if(An)return Mn.return(An);throw new Hs(1,2,2011,xn)}})}function xw(mn,kn,xn,An,Mn,Un,Bn){var zn,Wn,ts,os;return hs(function(ds){if(ds.g==1)return Mn!="text/vtt"||Bn.length?Qn(ds,TE(mn,kn,mn.H,mn.h.streaming.retryParameters),3):ds.D(2);ds.g!=2&&(zn=ds.h,Wn=kE(mn,zn,Mn,Bn),ts=new Blob([Wn],{type:"text/vtt"}),kn=CS(ts),Mn="text/vtt"),os=document.createElement("track");var ls=mn.V,ys=kn;try{if(ls.g.enabled){var Cs=mE(ls);Cs.ot=o0,Cs.su=!0;var Ns=AT(Cs),Os=OS(ys,Ns)}else Os=ys}catch(Ps){cp("CMCD_TEXT_TRACK_ERROR","Could not generate text track CMCD data.",Ps),Os=ys}return os.src=Os,os.label=Un,os.kind=An,os.srclang=xn,mn.g.getAttribute("crossorigin")||mn.g.setAttribute("crossorigin","anonymous"),mn.g.appendChild(os),ds.return(os)})}function TE(mn,kn,xn,An){var Mn,Un,Bn;return hs(function(zn){if(zn.g==1){Mn=Pv,Un=ll([kn],An),Un.method="GET";var Wn=mn.V;try{Wn.g.enabled&&gE(Wn,Un,{ot:o0,su:!0})}catch(ts){cp("CMCD_TEXT_ERROR","Could not generate text CMCD data.",ts)}return Qn(zn,xn.request(Mn,Un).promise,2)}return Bn=zn.h,zn.return(Bn.data)})}function kE(mn,kn,xn,An){var Mn=Ul[xn];if(Mn)return xn=Mn(),mn={periodStart:0,segmentStart:0,segmentEnd:mn.g.duration,vttOffset:0},kn=Ku(kn),kn=xn.parseMedia(kn,mn),tR(kn,An);throw new Hs(2,2,2014,xn)}En.Oe=function(mn,kn){this.Qc.width=mn,this.Qc.height=kn},En.Fe=function(mn){if(this.l==Im){var kn=this.j;if(mn=mn===void 0?.1:mn,kn.h.g)kn=!1;else if(kn.B)kn=!1;else{for(var xn=Dn(kn.j.values()),An=xn.next();!An.done;An=xn.next())An=An.value,!An.Mc||An.Ia||An.eb||(An.Mc=!1,py(kn,An,mn));kn=!0}}else kn=!1;return kn},En.Ng=function(){return $u("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.i},En.Og=function(){return this.Kd};function Vv(mn){var kn=nu();return kn.streaming.failureCallback=function(xn){if(mn.U()){var An=null;xn.code==1001||xn.code==1002?An=1:xn.code==1003&&(An=.1),An!=null&&(xn.severity=1,mn.Fe(An))}},kn.textDisplayFactory=function(){return mn.Bd?new wm(mn.g,mn.Bd):new rm(mn.g)},kn}En.Te=function(mn){this.Bd=mn};function DT(mn,kn){for(var xn=new Set,An=Dn(kn.textStreams),Mn=An.next();!Mn.done;Mn=An.next())Mn=Mn.value,Mn.mimeType!="application/cea-608"&&Mn.mimeType!="application/cea-708"||xn.add(Mn.originalId);for(An=Dn(kn.variants),Mn=An.next();!Mn.done;Mn=An.next())if((Mn=Mn.value.video)&&Mn.closedCaptions){for(var Un=Dn(Mn.closedCaptions.keys()),Bn=Un.next();!Bn.done;Bn=Un.next())if(Bn=Bn.value,!xn.has(Bn)){var zn=Bn.startsWith("CC")?"application/cea-608":"application/cea-708",Wn=new ip;zn={id:mn.hf++,originalId:Bn,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Wn,mimeType:zn,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:Mn.closedCaptions.get(Bn),label:null,type:Vu,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:Mn.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},kn.textStreams.push(zn),xn.add(Bn)}}}function bE(mn,kn){return hs(function(xn){if(xn.g==1)return Qn(xn,UT(mn,kn),2);zI(mn,kn),ms(xn)})}function UT(mn,kn){var xn;return hs(function(An){if(An.g==1)return xn=mn.j?mn.j.l:null,Qn(An,Wk(xn,kn),2);Ym(kn),ms(An)})}function zI(mn,kn){if(mn.l!=zu){JE(kn.variants,mn.h.restrictions,mn.Qc)&&mn.j&&Wm(mn);var xn=mn.m?mn.m.g:null;if(xn&&mn.m.C)for(var An=Dn(kn.variants),Mn=An.next();!Mn.done;Mn=An.next())Mn=Mn.value,jT(mn,xn.keySystem,Mn.video),jT(mn,xn.keySystem,Mn.audio);Am(mn,kn)}}function jT(mn,kn,xn){if(xn){xn=Dn(xn.drmInfos);for(var An=xn.next();!An.done;An=xn.next())if(An=An.value,An.keySystem==kn){An=Dn(An.initData||[]);for(var Mn=An.next();!Mn.done;Mn=An.next())Mn=Mn.value,dS(mn.m,Mn.initDataType,Mn.initData)}}}function hy(mn,kn){var xn,An,Mn,Un,Bn;return hs(function(zn){return zn.g==1?(xn=mn.audio,An=mn.video,Mn=function(Wn,ts){var os,ds,ls;return hs(function(ys){return ys.g==1?Wn?Qn(ys,Wn.createSegmentIndex(),2):ys.return(null):(ds=(os=Wn.segmentIndex.bc(ts))?os.next().value:null,ds?(ls=ds.startTime,ys.return(ls)):ys.return(null))})},Qn(zn,Mn(xn,kn),2)):zn.g!=3?(Un=zn.h,Qn(zn,Mn(An,kn),3)):(Bn=zn.h,Bn!=null&&Un!=null?zn.return(Math.max(Bn,Un)):Bn!=null?zn.return(Bn):Un!=null?zn.return(Un):zn.return(kn))})}function FT(mn){var kn=mn.Pc();if(mn.s&&mn.O&&mn.F){var xn=mn.J;xn.j=kn,AS(xn),mn.V&&(xn=mn.V,kn||xn.i||(xn.i=!0),xn.i&&kn&&(xn.l=!0),xn.m=kn),BS(mn)}kn=new Map().set("buffering",kn),mn.dispatchEvent(sp("buffering",kn))}function FS(mn){var kn=mn.g.playbackRate;kn!=0&&(mn.J&&mn.J.set(kn),kn=sp("ratechange"),mn.dispatchEvent(kn))}function BS(mn){if(mn.s&&mn.O){var kn=mn.s.g;mn.O.g==Av?OT(kn,"buffering"):mn.g.paused?OT(kn,"paused"):mn.g.ended?OT(kn,"ended"):OT(kn,"playing")}}function xE(mn){try{Am(mn,mn.i)}catch(xn){return qm(mn,xn),!1}var kn=mn.i.variants.filter(function(xn){return V_(xn)});return kn=mn.La.create(kn),mn.B.setVariants(Array.from(kn.values())),!0}function BT(mn){return xE(mn)?mn.B.chooseVariant():null}function cv(mn){var kn=BT(mn);kn&&Gv(mn,kn,!0,!0,0)}function Gv(mn,kn,xn,An,Mn){var Un=mn.j.l;if(kn==Un)An&&EI(mn.j,kn,An,Mn,!0);else{var Bn=mn.s.h;Bn.h!=kn&&(Bn.h=kn,Bn.g.push({timestamp:Date.now()/1e3,id:kn.id,type:"variant",fromAdaptation:xn,bandwidth:kn.bandwidth})),EI(mn.j,kn,An,Mn,void 0,xn),An=null,Un&&(An=B_(Un)),kn=B_(kn),xn?ww(mn,An,kn):Cw(mn,An,kn)}}function wE(mn,kn){var xn=Array.from(mn.g.audioTracks).find(function(An){return An.enabled});kn.enabled=!0,kn.id!==xn.id&&(xn.enabled=!1),xn=j$(xn),kn=j$(kn),Cw(mn,xn,kn)}function HI(mn,kn,xn){if(mn.h.autoShowText==0)return!1;if(mn.h.autoShowText==1)return!0;var An=ol(mn.h.preferredTextLanguage);return xn=ol(xn.language),mn.h.autoShowText==2?Vs(xn,An):mn.h.autoShowText==3?(mn=ol(kn.language),Vs(xn,An)&&!Vs(mn,xn)):($u("Invalid autoShowText setting!"),!1)}function ww(mn,kn,xn){kn=new Map().set("oldTrack",kn).set("newTrack",xn),mn.M&&Ux(mn.M,xn),xn=sp("adaptation",kn),d0(mn,xn)}function Wm(mn){var kn=sp("trackschanged");d0(mn,kn)}function Cw(mn,kn,xn){kn=new Map().set("oldTrack",kn).set("newTrack",xn),mn.M&&Ux(mn.M,xn),xn=sp("variantchanged",kn),d0(mn,xn)}function VS(mn){var kn=sp("textchanged");d0(mn,kn)}function l0(mn){var kn=sp("texttrackvisibility");d0(mn,kn)}function Aw(mn){var kn=new Map().set("newStatus",mn.h.abr.enabled);d0(mn,sp("abrstatuschanged",kn))}function KI(mn,kn){if(kn.code!=1002&&kn.code!=1011||kn.category!=1||!navigator.onLine)return!1;var xn=mn.h.streaming.maxDisabledTime;if(xn==0)if(kn.code==1011)xn=1;else return!1;kn=mn.Qa().find(function(Bn){return Bn.active});for(var An=mn.i,Mn=Dn(An.variants),Un=Mn.next();!Un.done;Un=Mn.next())Un=Un.value,Un.id===kn.id&&(Un.disabledUntilTime=Date.now()/1e3+xn);return JE(An.variants,mn.h.restrictions,mn.Qc),kn=BT(mn),kn?(An=mn.ib().video.reduce(function(Bn,zn){return Bn+zn.end-zn.start},0),Gv(mn,kn,!1,!0,An),mn.kf.R(xn),!0):!1}function qm(mn,kn){if(mn.l!=zu)if(KI(mn,kn))kn.handled=!0;else{var xn=sp("error",new Map().set("detail",kn));mn.dispatchEvent(xn),xn.defaultPrevented&&(kn.handled=!0)}}function c0(mn,kn,xn){xn=new Map().set("detail",{schemeIdUri:xn.schemeIdUri,value:xn.value,startTime:xn.startTime,endTime:xn.endTime,id:xn.id,eventElement:xn.eventElement}),mn.dispatchEvent(sp(kn,xn))}function y_(mn){if(!mn.g.error)return null;var kn=mn.g.error.code;if(kn==1)return null;var xn=mn.g.error.msExtendedCode;return xn&&(0>xn&&(xn+=Math.pow(2,32)),xn=xn.toString(16)),new Hs(2,3,3016,kn,xn,mn.g.error.message)}function VT(mn,kn){if(mn.j){var xn=Object.keys(kn),An=xn.length==1&&xn[0]=="00",Mn=!1;if(xn.length){xn=Dn(mn.i.variants);for(var Un=xn.next();!Un.done;Un=xn.next()){Un=Un.value;var Bn=[];Un.audio&&Bn.push(Un.audio),Un.video&&Bn.push(Un.video),Bn=Dn(Bn);for(var zn=Bn.next();!zn.done;zn=Bn.next()){var Wn=zn.value;if(zn=Un.allowedByKeySystem,Wn.keyIds.size){Un.allowedByKeySystem=!0,Wn=Dn(Wn.keyIds);for(var ts=Wn.next();!ts.done;ts=Wn.next())ts=ts.value,ts=kn[An?"00":ts],Un.allowedByKeySystem=Un.allowedByKeySystem&&!!ts&&!WI.includes(ts)}zn!=Un.allowedByKeySystem&&(Mn=!0)}}}(!Mn||xE(mn))&&((kn=mn.j.l)&&!kn.allowedByKeySystem&&cv(mn),Mn&&Wm(mn))}}function my(mn,kn,xn){mn.K&&mn.K.onExpirationUpdated&&mn.K.onExpirationUpdated(kn,xn),kn=sp("expirationupdated"),mn.dispatchEvent(kn)}function zT(mn,kn,xn){0<kn&&(mn.U()||mn.$f(kn)),kn=mn.getDuration(),xn<kn&&(mn.U()||mn.Sa(xn))}function Am(mn,kn){mn=mn.m?mn.m.ud():{};var xn=Object.keys(mn);xn=xn.length&&xn[0]=="00";var An=!1,Mn=!1,Un=new Set,Bn=new Set;kn=Dn(kn.variants);for(var zn=kn.next();!zn.done;zn=kn.next()){zn=zn.value;var Wn=[];zn.audio&&Wn.push(zn.audio),zn.video&&Wn.push(zn.video),Wn=Dn(Wn);for(var ts=Wn.next();!ts.done;ts=Wn.next())if(ts=ts.value,ts.keyIds.size){ts=Dn(ts.keyIds);for(var os=ts.next();!os.done;os=ts.next()){os=os.value;var ds=mn[xn?"00":os];ds?WI.includes(ds)&&Bn.add(ds):Un.add(os)}}zn.allowedByApplication?zn.allowedByKeySystem&&(An=!0):Mn=!0}if(!An)throw mn={hasAppRestrictions:Mn,missingKeys:Array.from(Un),restrictedKeyStatuses:Array.from(Bn)},new Hs(2,4,4012,mn)}function Ym(mn){if(!mn.variants.some(V_))throw new Hs(2,4,4032)}function d0(mn,kn){hs(function(xn){if(xn.g==1)return Qn(xn,Promise.resolve(),2);mn.l!=zu&&mn.dispatchEvent(kn),ms(xn)})}function Iw(mn){var kn=new Set;mn=Dn(mn);for(var xn=mn.next();!xn.done;xn=mn.next())xn=xn.value,xn.language?kn.add(ol(xn.language)):kn.add("und");return kn}function HT(mn){var kn=new Map,xn=new Map;mn=Dn(mn);for(var An=mn.next();!An.done;An=mn.next()){An=An.value;var Mn="und",Un=[];An.language&&(Mn=ol(An.language)),An.type=="variant"?Un=An.audioRoles:Un=An.roles,Un&&Un.length||(Un=[""]),kn.has(Mn)||kn.set(Mn,new Set),Un=Dn(Un);for(var Bn=Un.next();!Bn.done;Bn=Un.next())Bn=Bn.value,kn.get(Mn).add(Bn),An.label&&(xn.has(Mn)||xn.set(Mn,new Map),xn.get(Mn).set(Bn,An.label))}var zn=[];return kn.forEach(function(Wn,ts){Wn=Dn(Wn);for(var os=Wn.next();!os.done;os=Wn.next()){os=os.value;var ds=null;xn.has(ts)&&xn.get(ts).has(os)&&(ds=xn.get(ts).get(os)),zn.push({language:ts,role:os,label:ds})}}),zn}function dv(){return new Hs(2,7,7e3)}function CE(mn,kn,xn,An,Mn,Un){return An==mn&&Mn.mediaElement==Un.mediaElement&&Mn.uri==Un.uri&&Mn.mimeType==Un.mimeType?kn:xn}function AE(){return{mediaElement:null,mimeType:null,startTime:null,Ue:NaN,uri:null}}function KT(mn){return new Promise(function(kn,xn){mn.Qb=function(){return xn(dv())},mn.Ed=function(){return kn()},mn.onError=function(An){return xn(An)},mn.Gd=function(){return xn(dv())}})}Ys("shaka.Player",iu),iu.prototype.setVideoContainer=iu.prototype.Te,iu.prototype.getManifestParserFactory=iu.prototype.Og,iu.prototype.getManifest=iu.prototype.Ng,iu.prototype.retryStreaming=iu.prototype.Fe,iu.prototype.setMaxHardwareResolution=iu.prototype.Oe,iu.prototype.addChaptersTrack=iu.prototype.jg,iu.prototype.addThumbnailsTrack=iu.prototype.lg,iu.prototype.addTextTrackAsync=iu.prototype.kg,iu.prototype.getStats=iu.prototype.getStats,iu.prototype.getBufferedInfo=iu.prototype.ib,iu.prototype.getPresentationStartTimeAsDate=iu.prototype.Jf,iu.prototype.getPlayheadTimeAsDate=iu.prototype.Sg,iu.prototype.setTextTrackVisibility=iu.prototype.Se,iu.prototype.getChapters=iu.prototype.Bg,iu.prototype.getChaptersTracks=iu.prototype.Gf,iu.prototype.isTextTrackVisible=iu.prototype.Nb,iu.prototype.selectVariantsByLabel=iu.prototype.Eh,iu.prototype.selectTextLanguage=iu.prototype.Ie,iu.prototype.selectAudioLanguage=iu.prototype.Md,iu.prototype.getTextLanguages=iu.prototype.Vg,iu.prototype.getAudioLanguages=iu.prototype.xg,iu.prototype.getTextLanguagesAndRoles=iu.prototype.Wg,iu.prototype.getAudioLanguagesAndRoles=iu.prototype.yg,iu.prototype.selectVariantTrack=iu.prototype.Ke,iu.prototype.selectTextTrack=iu.prototype.Je,iu.prototype.getThumbnails=iu.prototype.Yg,iu.prototype.getImageTracks=iu.prototype.Ig,iu.prototype.getTextTracks=iu.prototype.yb,iu.prototype.getVariantTracks=iu.prototype.Qa,iu.prototype.cancelTrickPlay=iu.prototype.vf,iu.prototype.trickPlay=iu.prototype.Ze,iu.prototype.getPlaybackRate=iu.prototype.xb,iu.prototype.isBuffering=iu.prototype.Pc,iu.prototype.getKeyStatuses=iu.prototype.ud,iu.prototype.getExpiration=iu.prototype.Gc,iu.prototype.drmInfo=iu.prototype.drmInfo,iu.prototype.keySystem=iu.prototype.keySystem,iu.prototype.goToLive=iu.prototype.bh,iu.prototype.seekRange=iu.prototype.Ja,iu.prototype.isAudioOnly=iu.prototype.hc,iu.prototype.isInProgress=iu.prototype.Lb,iu.prototype.isLive=iu.prototype.U,iu.prototype.getAdManager=iu.prototype.sd,iu.prototype.getAssetUri=iu.prototype.le,iu.prototype.getNetworkingEngine=iu.prototype.Hc,iu.prototype.getMediaElement=iu.prototype.Qg,iu.prototype.getLoadMode=iu.prototype.If,iu.prototype.resetConfiguration=iu.prototype.Bh,iu.prototype.getBufferFullness=iu.prototype.zg,iu.prototype.getConfiguration=iu.prototype.getConfiguration,iu.prototype.configure=iu.prototype.configure,iu.prototype.load=iu.prototype.load,iu.prototype.updateStartTime=iu.prototype.Oh,iu.prototype.unload=iu.prototype.bf,iu.prototype.detach=iu.prototype.detach,iu.prototype.attachCanvas=iu.prototype.qf,iu.prototype.attach=iu.prototype.Bc,iu.probeSupport=function(mn){mn=mn===void 0?!0:mn;var kn,xn,An,Mn,Un,Bn;return hs(function(zn){if(zn.g==1)return kn={},mn?Qn(zn,jA(),3):zn.D(2);zn.g!=2&&(kn=zn.h);var Wn={};if(Sp()){for(var ts in zm)Wn[ts]=!0;for(var os in d_)Wn[os]=!0}ts={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"},os=Dn(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"]);for(var ds=os.next();!ds.done;ds=os.next())ds=ds.value,Wn[ds]=Sp()?!!zm[ds]:oy(ds);for(var ls in ts)Wn[ls]=Sp()?!!d_[ls]:oy(ts[ls]);for(xn=Wn,ls='video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",audio/mp4; codecs="dtsc",audio/mp4; codecs="dtse",audio/mp4; codecs="dtsx",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").concat(Kn(Gy)),Wn={},ls=Dn(ls),ts=ls.next();!ts.done;ts=ls.next())ts=ts.value,Wn[ts]=Sp()?ks(ts)?!0:dp(ts)||km(ts):oy(ts),os=ts.split(";")[0],Wn[os]=Wn[os]||Wn[ts];An=Wn,Mn={manifest:xn,media:An,drm:kn},Un=WT;for(Bn in Un)Mn[Bn]=Un[Bn]();return zn.return(Mn)})},iu.isBrowserSupported=PI,iu.setAdManagerFactory=function(mn){f0=mn},iu.registerSupportPlugin=function(mn,kn){WT[mn]=kn},iu.prototype.destroy=iu.prototype.destroy;var zu=0,GS=1,Im=2,Xm=3;iu.LoadMode={DESTROYED:zu,NOT_LOADED:GS,MEDIA_SOURCE:Im,SRC_EQUALS:Xm},iu.version="v4.3.6";var zS=["4","3"];ax=new function(mn){this.g=mn,this.i=F0,this.h=B$}(new nx(Number(zS[0]),Number(zS[1])));var WI=["output-restricted","internal-error"],WT={},f0=null,nl={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mpd:"application/dash+xml",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav"},qT={sbv:"text/x-subviewer",srt:"text/srt",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml",lrc:"application/x-subtitle-lrc",ssa:"text/x-ssa",ass:"text/x-ssa"};function qI(){this.h=[],this.j=this.i=this.g=0}function cu(mn,kn,xn){var An=this;this.h=mn,this.g=kn,this.m=xn,this.i=!1,this.l=this.g.getVolume(),this.j=new xu,this.j.o(this.g,google.ima.AdEvent.Type.PAUSED,function(){An.i=!0}),this.j.o(this.g,google.ima.AdEvent.Type.RESUMED,function(){An.i=!1})}En=cu.prototype,En.getDuration=function(){return this.h.getDuration()},En.getMinSuggestedDuration=function(){return this.h.getMinSuggestedDuration()},En.getRemainingTime=function(){return this.g.getRemainingTime()},En.isPaused=function(){return this.i},En.isSkippable=function(){return 0<=this.h.getSkipTimeOffset()},En.getTimeUntilSkippable=function(){var mn=this.h.getSkipTimeOffset();return mn=this.getRemainingTime()-mn,Math.max(mn,0)},En.canSkipNow=function(){return this.g.getAdSkippableState()},En.skip=function(){return this.g.skip()},En.pause=function(){return this.g.pause()},En.play=function(){return this.g.resume()},En.getVolume=function(){return this.g.getVolume()},En.setVolume=function(mn){return this.g.setVolume(mn)},En.isMuted=function(){return this.g.getVolume()==0},En.isLinear=function(){return this.h.isLinear()},En.resize=function(mn,kn){var xn=!1,An=this.m;document.fullscreenEnabled?xn=!!document.fullscreenElement:An.webkitSupportsFullscreen&&(xn=An.webkitDisplayingFullscreen),this.g.resize(mn,kn,xn?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},En.setMuted=function(mn){mn?(this.l=this.getVolume(),this.setVolume(0)):this.setVolume(this.l)},En.getSequenceLength=function(){var mn=this.h.getAdPodInfo();return mn==null?1:mn.getTotalAds()},En.getPositionInSequence=function(){var mn=this.h.getAdPodInfo();return mn==null?1:mn.getAdPosition()},En.getTitle=function(){return this.h.getTitle()},En.getDescription=function(){return this.h.getDescription()},En.release=function(){this.g=this.h=null},Ys("shaka.ads.ClientSideAd",cu),cu.prototype.release=cu.prototype.release,cu.prototype.getDescription=cu.prototype.getDescription,cu.prototype.getTitle=cu.prototype.getTitle,cu.prototype.getPositionInSequence=cu.prototype.getPositionInSequence,cu.prototype.getSequenceLength=cu.prototype.getSequenceLength,cu.prototype.setMuted=cu.prototype.setMuted,cu.prototype.resize=cu.prototype.resize,cu.prototype.isLinear=cu.prototype.isLinear,cu.prototype.isMuted=cu.prototype.isMuted,cu.prototype.setVolume=cu.prototype.setVolume,cu.prototype.getVolume=cu.prototype.getVolume,cu.prototype.play=cu.prototype.play,cu.prototype.pause=cu.prototype.pause,cu.prototype.skip=cu.prototype.skip,cu.prototype.canSkipNow=cu.prototype.canSkipNow,cu.prototype.getTimeUntilSkippable=cu.prototype.getTimeUntilSkippable,cu.prototype.isSkippable=cu.prototype.isSkippable,cu.prototype.isPaused=cu.prototype.isPaused,cu.prototype.getRemainingTime=cu.prototype.getRemainingTime,cu.prototype.getMinSuggestedDuration=cu.prototype.getMinSuggestedDuration,cu.prototype.getDuration=cu.prototype.getDuration;function YT(mn,kn,xn,An){var Mn=this;this.s=mn,this.i=kn,this.B=null,this.C=NaN,this.l=An,this.j=null,this.h=new xu,google.ima.settings.setLocale(xn),mn=new google.ima.AdDisplayContainer(this.s,this.i),mn.initialize(),this.m=new google.ima.AdsLoader(mn),this.m.getSettings().setPlayerType("shaka-player"),this.m.getSettings().setPlayerVersion("v4.3.6"),this.g=null,this.h.ya(this.m,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(Un){mR(Mn,Un)}),this.h.o(this.m,google.ima.AdErrorEvent.Type.AD_ERROR,function(Un){XT(Mn,Un)}),this.h.o(this.i,"ended",function(){Mn.m.contentComplete()})}YT.prototype.stop=function(){this.g&&this.g.stop(),this.s&&i0(this.s)},YT.prototype.release=function(){this.stop(),this.B&&this.B.disconnect(),this.h&&this.h.release(),this.g&&this.g.destroy(),this.m.destroy()};function XT(mn,kn){kn.getError(),ZT(mn,null),mn.l(new _u("ad-cue-points-changed",new Map().set("cuepoints",[])))}function mR(mn,kn){mn.l(new _u("ads-loaded",new Map().set("loadTime",Date.now()/1e3-mn.C))),mn.g=kn.getAdsManager(mn.i),mn.l(new _u("ima-ad-manager-loaded",new Map().set("imaAdManager",mn.g)));var xn=mn.g.getCuePoints();if(xn.length){kn=[],xn=Dn(xn);for(var An=xn.next();!An.done;An=xn.next())kn.push({start:An.value,end:null});mn.l(new _u("ad-cue-points-changed",new Map().set("cuepoints",kn)))}gR(mn);try{mn.g.init(mn.i.offsetWidth,mn.i.offsetHeight,HS(mn)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),mn.h.o(mn.i,"loadeddata",function(){mn.g.resize(mn.i.offsetWidth,mn.i.offsetHeight,HS(mn)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),"ResizeObserver"in pn?(mn.B=new ResizeObserver(function(){mn.g.resize(mn.i.offsetWidth,mn.i.offsetHeight,HS(mn)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),mn.B.observe(mn.i)):mn.h.o(document,"fullscreenchange",function(){mn.g.resize(mn.i.offsetWidth,mn.i.offsetHeight,HS(mn)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),mn.h.ya(mn.i,"play",function(){mn.g.start()})}catch{ZT(mn,null)}}function HS(mn){return document.fullscreenEnabled?!!document.fullscreenElement:(mn=mn.i,mn.webkitSupportsFullscreen?mn.webkitDisplayingFullscreen:!1)}function gR(mn){function kn(xn,An){xn=new Map().set("originalEvent",xn),mn.l(new _u(An,xn))}mn.h.o(mn.g,google.ima.AdErrorEvent.Type.AD_ERROR,function(xn){XT(mn,xn)}),mn.h.o(mn.g,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(xn){QT(mn,xn)}),mn.h.o(mn.g,google.ima.AdEvent.Type.STARTED,function(xn){QT(mn,xn)}),mn.h.o(mn.g,google.ima.AdEvent.Type.FIRST_QUARTILE,function(xn){kn(xn,"ad-first-quartile")}),mn.h.o(mn.g,google.ima.AdEvent.Type.MIDPOINT,function(xn){kn(xn,"ad-midpoint")}),mn.h.o(mn.g,google.ima.AdEvent.Type.THIRD_QUARTILE,function(xn){kn(xn,"ad-third-quartile")}),mn.h.o(mn.g,google.ima.AdEvent.Type.COMPLETE,function(xn){kn(xn,"ad-complete")}),mn.h.o(mn.g,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(xn){ZT(mn,xn)}),mn.h.o(mn.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(xn){ZT(mn,xn)}),mn.h.o(mn.g,google.ima.AdEvent.Type.SKIPPED,function(xn){kn(xn,"ad-skipped")}),mn.h.o(mn.g,google.ima.AdEvent.Type.VOLUME_CHANGED,function(xn){kn(xn,"ad-volume-changed")}),mn.h.o(mn.g,google.ima.AdEvent.Type.VOLUME_MUTED,function(xn){kn(xn,"ad-muted")}),mn.h.o(mn.g,google.ima.AdEvent.Type.PAUSED,function(xn){mn.j&&(mn.j.i=!0,kn(xn,"ad-paused"))}),mn.h.o(mn.g,google.ima.AdEvent.Type.RESUMED,function(xn){mn.j&&(mn.j.i=!1,kn(xn,"ad-resumed"))}),mn.h.o(mn.g,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,function(xn){mn.j&&kn(xn,"ad-skip-state-changed")}),mn.h.o(mn.g,google.ima.AdEvent.Type.CLICK,function(xn){kn(xn,"ad-clicked")}),mn.h.o(mn.g,google.ima.AdEvent.Type.AD_PROGRESS,function(xn){kn(xn,"ad-progress")}),mn.h.o(mn.g,google.ima.AdEvent.Type.AD_BUFFERING,function(xn){kn(xn,"ad-buffering")}),mn.h.o(mn.g,google.ima.AdEvent.Type.IMPRESSION,function(xn){kn(xn,"ad-impression")}),mn.h.o(mn.g,google.ima.AdEvent.Type.DURATION_CHANGE,function(xn){kn(xn,"ad-duration-changed")}),mn.h.o(mn.g,google.ima.AdEvent.Type.USER_CLOSE,function(xn){kn(xn,"ad-closed")}),mn.h.o(mn.g,google.ima.AdEvent.Type.LOADED,function(xn){kn(xn,"ad-loaded")}),mn.h.o(mn.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(xn){kn(xn,"all-ads-completed")}),mn.h.o(mn.g,google.ima.AdEvent.Type.LINEAR_CHANGED,function(xn){kn(xn,"ad-linear-changed")}),mn.h.o(mn.g,google.ima.AdEvent.Type.AD_METADATA,function(xn){kn(xn,"ad-metadata")}),mn.h.o(mn.g,google.ima.AdEvent.Type.LOG,function(xn){kn(xn,"ad-recoverable-error")}),mn.h.o(mn.g,google.ima.AdEvent.Type.AD_BREAK_READY,function(xn){kn(xn,"ad-break-ready")}),mn.h.o(mn.g,google.ima.AdEvent.Type.INTERACTION,function(xn){kn(xn,"ad-interaction")})}function QT(mn,kn){var xn=kn.getAd();xn?(mn.j=new cu(xn,mn.g,mn.i),kn=new Map().set("ad",mn.j).set("sdkAdObject",xn).set("originalEvent",kn),mn.l(new _u("ad-started",kn)),mn.j.isLinear()&&(mn.s.setAttribute("ad-active","true"),mn.i.pause(),mn.j.setVolume(mn.i.volume),mn.i.muted&&mn.j.setMuted(!0))):$u("The IMA SDK fired a "+kn.type+" event with no associated ad. Unable to play ad!")}function ZT(mn,kn){mn.l(new _u("ad-stopped",new Map().set("originalEvent",kn))),mn.j&&mn.j.isLinear()&&(mn.s.removeAttribute("ad-active"),mn.i.ended||mn.i.play())}function il(mn,kn){this.i=mn,this.h=null,this.g=kn}En=il.prototype,En.getDuration=function(){return this.h?this.h.duration:-1},En.getMinSuggestedDuration=function(){return this.getDuration()},En.getRemainingTime=function(){return this.h?this.h.duration-this.h.currentTime:-1},En.isPaused=function(){return this.g.paused},En.isSkippable=function(){return this.i.isSkippable()},En.getTimeUntilSkippable=function(){var mn=this.i.getSkipTimeOffset();return mn=this.getRemainingTime()-mn,Math.max(mn,0)},En.canSkipNow=function(){return this.getTimeUntilSkippable()==0},En.skip=function(){this.g.currentTime+=this.getRemainingTime()},En.pause=function(){return this.g.pause()},En.play=function(){return this.g.play()},En.getVolume=function(){return this.g.volume},En.setVolume=function(mn){this.g.volume=mn},En.isMuted=function(){return this.g.muted},En.isLinear=function(){return!0},En.resize=function(){},En.setMuted=function(mn){this.g.muted=mn},En.getSequenceLength=function(){var mn=this.i.getAdPodInfo();return mn==null?1:mn.getTotalAds()},En.getPositionInSequence=function(){var mn=this.i.getAdPodInfo();return mn==null?1:mn.getAdPosition()},En.getTitle=function(){return this.i.getTitle()},En.getDescription=function(){return this.i.getDescription()},En.release=function(){this.g=this.h=this.i=null},Ys("shaka.ads.ServerSideAd",il),il.prototype.release=il.prototype.release,il.prototype.getDescription=il.prototype.getDescription,il.prototype.getTitle=il.prototype.getTitle,il.prototype.getPositionInSequence=il.prototype.getPositionInSequence,il.prototype.getSequenceLength=il.prototype.getSequenceLength,il.prototype.setMuted=il.prototype.setMuted,il.prototype.resize=il.prototype.resize,il.prototype.isLinear=il.prototype.isLinear,il.prototype.isMuted=il.prototype.isMuted,il.prototype.setVolume=il.prototype.setVolume,il.prototype.getVolume=il.prototype.getVolume,il.prototype.play=il.prototype.play,il.prototype.pause=il.prototype.pause,il.prototype.skip=il.prototype.skip,il.prototype.canSkipNow=il.prototype.canSkipNow,il.prototype.getTimeUntilSkippable=il.prototype.getTimeUntilSkippable,il.prototype.isSkippable=il.prototype.isSkippable,il.prototype.isPaused=il.prototype.isPaused,il.prototype.getRemainingTime=il.prototype.getRemainingTime,il.prototype.getMinSuggestedDuration=il.prototype.getMinSuggestedDuration,il.prototype.getDuration=il.prototype.getDuration;function p0(mn,kn,xn,An){var Mn=this;this.B=mn,this.l=kn,this.j=null,this.I=NaN,this.i=An,this.H=!1,this.C=this.m=this.s=null,this.F="",this.G=[],this.h=new xu,mn=new google.ima.dai.api.UiSettings,mn.setLocale(xn),this.g=new google.ima.dai.api.StreamManager(this.l,this.B,mn),this.i(new _u("ima-stream-manager-loaded",new Map().set("imaStreamManager",this.g))),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.LOADED,function(Un){Pw(Mn,Un)}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.ERROR,function(){Mn.F.length?Mn.j.resolve(Mn.F):Mn.j.reject("IMA Stream request returned an error and there was no backup asset uri provided."),Mn.j=null}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,function(){}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.STARTED,function(Un){Un=Un.getAd(),Mn.m=new il(Un,Mn.l),Mn.C&&(Mn.m.h=Mn.C),Mn.i(new _u("ad-started",new Map().set("ad",Mn.m))),Mn.B.setAttribute("ad-active","true")}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,function(){Mn.B.removeAttribute("ad-active");var Un=Mn.l.currentTime;Mn.s&&Mn.s>Un&&(Mn.l.currentTime=Mn.s,Mn.s=null)}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,function(Un){Mn.C=Un.getStreamData().adProgressData,Mn.m&&(Mn.m.h=Mn.C)}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,function(){Mn.i(new _u("ad-first-quartile"))}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.MIDPOINT,function(){Mn.i(new _u("ad-midpoint"))}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,function(){Mn.i(new _u("ad-third-quartile"))}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.COMPLETE,function(){Mn.i(new _u("ad-complete")),Mn.i(new _u("ad-stopped")),Mn.B.removeAttribute("ad-active"),Mn.m=null}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.SKIPPED,function(){Mn.i(new _u("ad-skipped")),Mn.i(new _u("ad-stopped"))}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,function(Un){var Bn=Un.getStreamData();Un=[],Bn=Dn(Bn.cuepoints);for(var zn=Bn.next();!zn.done;zn=Bn.next())zn=zn.value,Un.push({start:zn.start,end:zn.end});Mn.G=Un,Mn.i(new _u("ad-cue-points-changed",new Map().set("cuepoints",Un)))})}p0.prototype.stop=function(){this.F="",this.s=null,this.G=[]},p0.prototype.release=function(){this.stop(),this.h&&this.h.release()},p0.prototype.onCueMetadataChange=function(mn){if(mn.key&&mn.data){var kn={};kn[mn.key]=mn.data,this.g.onTimedMetadata(kn)}};function Pw(mn,kn){mn.i(new _u("ads-loaded",new Map().set("loadTime",Date.now()/1e3-mn.I))),kn=kn.getStreamData().url,mn.j.resolve(kn),mn.j=null,mn.H||mn.h.o(mn.l,"seeked",function(){var xn=mn.l.currentTime;if(xn!=0){mn.g.streamTimeForContentTime(xn);var An=mn.g.previousCuePointForStreamTime(xn);An&&!An.played&&(mn.s=xn,mn.l.currentTime=An.start)}})}function Nu(){Eu.call(this),this.g=this.i=null,this.h=new qI,this.j=navigator.language}as(Nu,Eu),En=Nu.prototype,En.setLocale=function(mn){this.j=mn},En.initClientSide=function(mn,kn){var xn=this;if(!pn.google||!google.ima||!google.ima.AdsLoader)throw new Hs(2,10,1e4);this.i&&this.i.release(),this.i=new YT(mn,kn,this.j,function(An){if(An&&An.type)switch(An.type){case"ads-loaded":xn.h.h.push(An.loadTime);break;case"ad-started":xn.h.g++;break;case"ad-complete":xn.h.i++;break;case"ad-skipped":xn.h.j++}xn.dispatchEvent(An)})},En.release=function(){this.i&&(this.i.release(),this.i=null),this.g&&(this.g.release(),this.g=null),Eu.prototype.release.call(this)},En.onAssetUnload=function(){this.i&&this.i.stop(),this.g&&this.g.stop(),this.dispatchEvent(new _u("ad-stopped")),this.h=new qI},En.requestClientSideAds=function(mn){if(!this.i)throw new Hs(1,10,10001);var kn=this.i;kn.C=Date.now()/1e3,kn.m.requestAds(mn)},En.initServerSide=function(mn,kn){var xn=this;if(!pn.google||!google.ima||!google.ima.dai)throw new Hs(2,10,10002);this.g&&this.g.release(),this.g=new p0(mn,kn,this.j,function(An){if(An&&An.type)switch(An.type){case"ads-loaded":xn.h.h.push(An.loadTime);break;case"ad-started":xn.h.g++;break;case"ad-complete":xn.h.i++;break;case"ad-skipped":xn.h.j++}xn.dispatchEvent(An)})},En.requestServerSideStream=function(mn,kn){if(kn=kn===void 0?"":kn,!this.g)throw new Hs(1,10,10003);mn.adTagParameters||(mn.adTagParameters={});var xn=mn.adTagParameters;return(xn.mpt||xn.mpv)&&$u('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),mn.adTagParameters.mpt="shaka-player",mn.adTagParameters.mpv="v4.3.6",xn=this.g,xn.j?mn=Promise.reject(new Hs(1,10,10004)):(mn instanceof google.ima.dai.api.LiveStreamRequest&&(xn.H=!0),xn.j=new _l,xn.g.requestStream(mn),xn.F=kn||"",xn.I=Date.now()/1e3,mn=xn.j),mn},En.replaceServerSideAdTagParameters=function(mn){if(!this.g)throw new Hs(1,10,10003);(mn.mpt||mn.mpv)&&$u('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),mn.mpt="Shaka Player",mn.mpv="v4.3.6",this.g.g.replaceAdTagParameters(mn)},En.getServerSideCuePoints=function(){if(!this.g)throw new Hs(1,10,10003);return this.g.G},En.getStats=function(){var mn=this.h;return{loadTimes:mn.h,started:mn.g,playedCompletely:mn.i,skipped:mn.j}},En.onDashTimedMetadata=function(mn){if(this.g&&mn.schemeIdUri=="urn:google:dai:2018"){var kn=mn.schemeIdUri,xn=mn.eventElement?mn.eventElement.getAttribute("messageData"):null;this.g.g.processMetadata(kn,xn,mn.startTime)}},En.onHlsTimedMetadata=function(mn,kn){this.g&&this.g.g.processMetadata("ID3",mn.data,kn)},En.onCueMetadataChange=function(mn){this.g&&this.g.onCueMetadataChange(mn)},Ys("shaka.ads.AdManager",Nu),Nu.prototype.onCueMetadataChange=Nu.prototype.onCueMetadataChange,Nu.prototype.onHlsTimedMetadata=Nu.prototype.onHlsTimedMetadata,Nu.prototype.onDashTimedMetadata=Nu.prototype.onDashTimedMetadata,Nu.prototype.getStats=Nu.prototype.getStats,Nu.prototype.getServerSideCuePoints=Nu.prototype.getServerSideCuePoints,Nu.prototype.replaceServerSideAdTagParameters=Nu.prototype.replaceServerSideAdTagParameters,Nu.prototype.requestServerSideStream=Nu.prototype.requestServerSideStream,Nu.prototype.initServerSide=Nu.prototype.initServerSide,Nu.prototype.requestClientSideAds=Nu.prototype.requestClientSideAds,Nu.prototype.onAssetUnload=Nu.prototype.onAssetUnload,Nu.prototype.release=Nu.prototype.release,Nu.prototype.initClientSide=Nu.prototype.initClientSide,Nu.prototype.setLocale=Nu.prototype.setLocale,Nu.ADS_LOADED="ads-loaded",Nu.AD_STARTED="ad-started",Nu.AD_FIRST_QUARTILE="ad-first-quartile",Nu.AD_MIDPOINT="ad-midpoint",Nu.AD_THIRD_QUARTILE="ad-third-quartile",Nu.AD_COMPLETE="ad-complete",Nu.AD_STOPPED="ad-stopped",Nu.AD_SKIPPED="ad-skipped",Nu.AD_VOLUME_CHANGED="ad-volume-changed",Nu.AD_MUTED="ad-muted",Nu.AD_PAUSED="ad-paused",Nu.AD_RESUMED="ad-resumed",Nu.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",Nu.CUEPOINTS_CHANGED="ad-cue-points-changed",Nu.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",Nu.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",Nu.AD_CLICKED="ad-clicked",Nu.AD_PROGRESS="ad-progress",Nu.AD_BUFFERING="ad-buffering",Nu.AD_IMPRESSION="ad-impression",Nu.AD_DURATION_CHANGED="ad-duration-changed",Nu.AD_CLOSED="ad-closed",Nu.AD_LOADED="ad-loaded",Nu.ALL_ADS_COMPLETED="all-ads-completed",Nu.AD_LINEAR_CHANGED="ad-linear-changed",Nu.AD_METADATA="ad-metadata",Nu.AD_RECOVERABLE_ERROR="ad-recoverable-error",Nu.AD_BREAK_READY="ad-break-ready",Nu.AD_INTERACTION="ad-interaction",f0=function(){return new Nu};function Ow(mn){return JSON.stringify(mn,function(kn,xn){if(typeof xn!="function"){if(xn instanceof Event||xn instanceof _u){var An={};for(Mn in xn)(kn=xn[Mn])&&typeof kn=="object"?Mn=="detail"&&(An[Mn]=kn):Mn in Event||(An[Mn]=kn);return An}if(xn instanceof Error){var Mn=new Set(["name","message","stack"]);for(An in xn)Mn.add(An);for(kn=Dn(Object.getOwnPropertyNames(xn)),An=kn.next();!An.done;An=kn.next())Mn.add(An.value);for(kn={},Mn=Dn(Mn),An=Mn.next();!An.done;An=Mn.next())An=An.value,kn[An]=xn[An];xn={__type__:"Error",contents:kn}}else if(xn instanceof TimeRanges){for(Mn={__type__:"TimeRanges",length:xn.length,start:[],end:[]},xn=Dn(Lv(xn)),An=xn.next();!An.done;An=xn.next())An=An.value,kn=An.end,Mn.start.push(An.start),Mn.end.push(kn);xn=Mn}else xn=xn instanceof Uint8Array?{__type__:"Uint8Array",entries:Array.from(xn)}:typeof xn=="number"?isNaN(xn)?"NaN":isFinite(xn)?xn:0>xn?"-Infinity":"Infinity":xn;return xn}})}function Mw(mn){return JSON.parse(mn,function(kn,xn){if(xn=="NaN")var An=NaN;else if(xn=="-Infinity")An=-1/0;else if(xn=="Infinity")An=1/0;else if(xn&&typeof xn=="object"&&xn.__type__=="TimeRanges")An=yR(xn);else if(xn&&typeof xn=="object"&&xn.__type__=="Uint8Array")An=new Uint8Array(xn.entries);else if(xn&&typeof xn=="object"&&xn.__type__=="Error"){kn=xn.contents,xn=Error(kn.message);for(An in kn)xn[An]=kn[An];An=xn}else An=xn;return An})}function yR(mn){return{length:mn.length,start:function(kn){return mn.start[kn]},end:function(kn){return mn.end[kn]}}}var JT="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),vR="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),KS=["loop","playbackRate"],YI=["pause","play"],WS={getAssetUri:2,getAudioLanguages:4,getAudioLanguagesAndRoles:4,getBufferFullness:1,getBufferedInfo:2,getExpiration:2,getKeyStatuses:2,getPlaybackRate:2,getTextLanguages:4,getTextLanguagesAndRoles:4,getImageTracks:2,getThumbnails:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,getLoadMode:10},qS={getConfiguration:4,getStats:5,getTextTracks:2,getVariantTracks:2},YS={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},e1=[["getConfiguration","configure"]],IE=[["isTextTrackVisible","setTextTrackVisibility"]],_R="addChaptersTrack addTextTrackAsync addThumbnailsTrack cancelTrickPlay configure getChapters getChaptersTracks resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay updateStartTime goToLive".split(" "),t1=["attach","attachCanvas","detach","load","unload"];function Pm(mn,kn,xn,An,Mn,Un,Bn){var zn=this;this.I=mn,this.O=Bn,this.j=new Tu(kn),this.P=xn,this.C=!1,this.B=An,this.H=Mn,this.K=Un,this.h=this.m=!1,this.M="",this.s=null,this.F=function(){return Nw(zn)},this.G=function(Wn,ts){switch(Wn=Mw(ts),Wn.type){case"event":var os=Wn.targetName,ds=Wl(Wn.event);zn.B(os,ds);break;case"update":os=Wn.update;for(ds in os){Wn=zn.g[ds]||{};for(var ls in os[ds])Wn[ls]=os[ds][ls]}zn.C&&(zn.P(),zn.C=!1);break;case"asyncComplete":if(ds=Wn.id,ls=Wn.error,Wn=zn.i[ds],delete zn.i[ds],Wn)if(ls){ds=new Hs(ls.severity,ls.category,ls.code);for(os in ls)ds[os]=ls[os];Wn.reject(ds)}else Wn.resolve()}},this.g={video:{},player:{}},this.J=0,this.i={},this.l=null,QS.add(this)}En=Pm.prototype,En.destroy=function(){return QS.delete(this),n1(this),Qm&&XI(this),this.j&&(this.j.stop(),this.j=null),this.H=this.B=null,this.h=this.m=!1,this.G=this.F=this.l=this.i=this.g=this.s=null,Promise.resolve()},En.na=function(){return this.h},En.Jd=function(){return this.M},En.init=function(){if(this.I.length)if(pn.chrome&&chrome.cast&&chrome.cast.isAvailable){this.m=!0,this.j.Aa();var mn=new chrome.cast.SessionRequest(this.I,[],null,this.O,null);mn=new chrome.cast.ApiConfig(mn,function(kn){for(var xn=Dn(QS),An=xn.next();!An.done;An=xn.next())ep(An.value,kn)},function(kn){for(var xn=Dn(QS),An=xn.next();!An.done;An=xn.next())An=An.value,XS=kn=="available",An.j.Aa()},"origin_scoped"),chrome.cast.initialize(mn,function(){},function(){}),XS&&this.j.R(QI),(mn=Qm)&&mn.status!=chrome.cast.SessionStatus.STOPPED?ep(this,mn):Qm=null}else pn.__onGCastApiAvailable!==Dw&&(i1=pn.__onGCastApiAvailable||null,pn.__onGCastApiAvailable=Dw)},En.Le=function(mn){this.s=mn,this.h&&m0(this,{type:"appData",appData:this.s})},En.cast=function(mn){var kn=this;return hs(function(xn){if(!kn.m)throw new Hs(1,8,8e3);if(!XS)throw new Hs(1,8,8001);if(kn.h)throw new Hs(1,8,8002);return kn.l=new _l,chrome.cast.requestSession(function(An){return h0(kn,mn,An)},function(An){return Rw(kn,An)}),Qn(xn,kn.l,0)})};function r1(mn){if(mn.h){var kn=mn.K();chrome.cast.requestSession(function(xn){return h0(mn,kn,xn)},function(xn){return Rw(mn,xn)})}}En.$b=function(){if(this.h){if(n1(this),Qm){XI(this);try{Qm.stop(function(){},function(){})}catch{}Qm=null}Nw(this)}},En.get=function(mn,kn){var xn=this;if(mn=="video"){if(YI.includes(kn))return function(){return xn.Rf.apply(xn,[mn,kn].concat(Kn(lu.apply(0,arguments))))}}else if(mn=="player"){if(YS[kn]&&!this.get("player","isLive")())return function(){};if(_R.includes(kn))return function(){return xn.Rf.apply(xn,[mn,kn].concat(Kn(lu.apply(0,arguments))))};if(t1.includes(kn))return function(){return xn.xh.apply(xn,[mn,kn].concat(Kn(lu.apply(0,arguments))))};if(WS[kn]||qS[kn])return function(){return xn.g[mn][kn]}}return this.g[mn][kn]},En.set=function(mn,kn,xn){this.g[mn][kn]=xn,m0(this,{type:"set",targetName:mn,property:kn,value:xn})};function h0(mn,kn,xn){Qm=xn,xn.addUpdateListener(mn.F),xn.addMessageListener("urn:x-cast:com.google.shaka.v2",mn.G),Nw(mn),m0(mn,{type:"init",initState:kn,appData:mn.s}),mn.l.resolve()}function Rw(mn,kn){var xn=8003;switch(kn.code){case"cancel":xn=8004;break;case"timeout":xn=8005;break;case"receiver_unavailable":xn=8006}mn.l.reject(new Hs(2,8,xn,kn))}En.Rf=function(mn,kn){m0(this,{type:"call",targetName:mn,methodName:kn,args:lu.apply(2,arguments)})},En.xh=function(mn,kn){var xn=lu.apply(2,arguments),An=new _l,Mn=this.J.toString();this.J++,this.i[Mn]=An;try{m0(this,{type:"asyncCall",targetName:mn,methodName:kn,args:xn,id:Mn})}catch(Un){An.reject(Un)}return An};function ep(mn,kn){var xn=mn.K();mn.l=new _l,mn.C=!0,h0(mn,xn,kn)}function XI(mn){var kn=Qm;kn.removeUpdateListener(mn.F),kn.removeMessageListener("urn:x-cast:com.google.shaka.v2",mn.G)}function Nw(mn){var kn=Qm?Qm.status=="connected":!1;if(mn.h&&!kn){mn.H();for(var xn in mn.g)mn.g[xn]={};n1(mn)}mn.h=kn,mn.M=kn?Qm.receiver.friendlyName:"",mn.j.Aa()}function n1(mn){for(var kn in mn.i){var xn=mn.i[kn];delete mn.i[kn],xn.reject(new Hs(1,7,7e3))}}function m0(mn,kn){kn=Ow(kn);var xn=Qm;try{xn.sendMessage("urn:x-cast:com.google.shaka.v2",kn,function(){},Cp)}catch(An){throw kn=new Hs(2,8,8005,An),xn=new _u("error",new Map().set("detail",kn)),mn.B("player",xn),mn.$b(),kn}}var QI=.02,XS=!1,Qm=null,i1=null,QS=new Set;function Dw(mn){if(i1?pn.__onGCastApiAvailable=i1:delete pn.__onGCastApiAvailable,i1=null,mn)for(var kn=Dn(QS),xn=kn.next();!xn.done;xn=kn.next())xn.value.init();typeof pn.__onGCastApiAvailable=="function"&&pn.__onGCastApiAvailable(mn)}function sl(mn,kn,xn,An){An=An===void 0?!1:An,Eu.call(this);var Mn=this;this.i=mn,this.h=kn,this.m=this.s=this.j=this.B=this.l=null,this.G=xn,this.F=An,this.C=new Map,this.g=new Pm(xn,function(){return Uw(Mn)},function(){return a1(Mn)},function(Un,Bn){return JI(Mn,Un,Bn)},function(){return jw(Mn)},function(){return Lw(Mn)},An),ER(this)}as(sl,Eu),En=sl.prototype,En.destroy=function(mn){return mn&&this.g.$b(),this.m&&(this.m.release(),this.m=null),mn=[],this.h&&(mn.push(this.h.destroy()),this.h=null),this.g&&(mn.push(this.g.destroy()),this.g=null),this.B=this.l=this.i=null,Eu.prototype.release.call(this),Promise.all(mn)},En.zb=function(){return this.l},En.cc=function(){return this.B},En.uf=function(){return this.g.m&&XS},En.na=function(){return this.g.na()},En.Jd=function(){return this.g.Jd()},En.cast=function(){var mn=this,kn;return hs(function(xn){return xn.g==1?(kn=Lw(mn),Qn(xn,mn.g.cast(kn),2)):mn.h?Qn(xn,mn.h.bf(),0):xn.return()})},En.Le=function(mn){this.g.Le(mn)},En.cg=function(){r1(this.g)},En.$b=function(){this.g.$b()},En.yf=function(mn,kn){kn=kn===void 0?!1:kn;var xn=this;return hs(function(An){if(An.g==1)return mn==xn.G&&kn==xn.F?An.return():(xn.G=mn,xn.F=kn,xn.g.$b(),Qn(An,xn.g.destroy(),2));xn.g=null,xn.g=new Pm(mn,function(){return Uw(xn)},function(){return a1(xn)},function(Mn,Un){return JI(xn,Mn,Un)},function(){return jw(xn)},function(){return Lw(xn)},kn),xn.g.init(),ms(An)})};function ER(mn){mn.g.init(),mn.m=new xu;for(var kn=Dn(JT),xn=kn.next();!xn.done;xn=kn.next())mn.m.o(mn.i,xn.value,function(Un){mn.g.na()||(Un=Wl(Un),mn.j.dispatchEvent(Un))});for(var An in lp)mn.m.o(mn.h,lp[An],function(Un){mn.g.na()||mn.s.dispatchEvent(Un)});mn.l={},kn={};for(var Mn in mn.i)kn.vc=Mn,Object.defineProperty(mn.l,kn.vc,{configurable:!1,enumerable:!0,get:function(Un){return function(){return Fw(mn,Un.vc)}}(kn),set:function(Un){return function(Bn){var zn=Un.vc;mn.g.na()?mn.g.set("video",zn,Bn):mn.i[zn]=Bn}}(kn)}),kn={vc:kn.vc};mn.B={},g0(mn,function(Un){Object.defineProperty(mn.B,Un,{configurable:!1,enumerable:!0,get:function(){return SR(mn,Un)}})}),ZI(mn),mn.j=new Eu,mn.j.Hd=mn.l,mn.s=new Eu,mn.s.Hd=mn.B}function ZI(mn){var kn=new Map;g0(mn,function(xn,An){kn.has(An)?(An=kn.get(An),xn.length<An.length?mn.C.set(xn,An):mn.C.set(An,xn)):kn.set(An,xn)})}function g0(mn,kn){function xn(Wn){return Wn=="constructor"||typeof An[Wn]!="function"?!1:!Mn.has(Wn)}var An=mn.h,Mn=new Set,Un;for(Un in An)xn(Un)&&(Mn.add(Un),kn(Un,An[Un]));for(mn=Object.getPrototypeOf(An),Un=Object.getPrototypeOf({});mn&&mn!=Un;){for(var Bn=Dn(Object.getOwnPropertyNames(mn)),zn=Bn.next();!zn.done;zn=Bn.next())zn=zn.value,xn(zn)&&(Mn.add(zn),kn(zn,An[zn]));mn=Object.getPrototypeOf(mn)}}function Lw(mn){var kn={video:{},player:{},playerAfterLoad:{},manifest:mn.h.le(),startTime:null};mn.i.pause();for(var xn=Dn(KS),An=xn.next();!An.done;An=xn.next())An=An.value,kn.video[An]=mn.i[An];for(mn.i.ended||(kn.startTime=mn.i.currentTime),xn=Dn(e1),An=xn.next();!An.done;An=xn.next()){var Mn=An.value;An=Mn[1],Mn=mn.h[Mn[0]](),kn.player[An]=Mn}for(xn=Dn(IE),An=xn.next();!An.done;An=xn.next())Mn=An.value,An=Mn[1],Mn=mn.h[Mn[0]](),kn.playerAfterLoad[An]=Mn;return kn}function Uw(mn){var kn=new _u("caststatuschanged");mn.dispatchEvent(kn)}function a1(mn){var kn=new _u(mn.l.paused?"pause":"play");mn.j.dispatchEvent(kn)}function jw(mn){for(var kn=Dn(e1),xn=kn.next();!xn.done;xn=kn.next()){var An=xn.value;xn=An[1],An=mn.g.get("player",An[0])(),mn.h[xn](An)}var Mn=mn.g.get("player","getAssetUri")();xn=mn.g.get("video","ended"),kn=Promise.resolve();var Un=mn.i.autoplay;An=null,xn||(An=mn.g.get("video","currentTime")),Mn&&(mn.i.autoplay=!1,kn=mn.h.load(Mn,An));var Bn={};for(xn=Dn(KS),An=xn.next();!An.done;An=xn.next())An=An.value,Bn[An]=mn.g.get("video",An);kn.then(function(){if(mn.i){for(var zn=Dn(KS),Wn=zn.next();!Wn.done;Wn=zn.next())Wn=Wn.value,mn.i[Wn]=Bn[Wn];for(zn=Dn(IE),Wn=zn.next();!Wn.done;Wn=zn.next()){var ts=Wn.value;Wn=ts[1],ts=mn.g.get("player",ts[0])(),mn.h[Wn](ts)}mn.i.autoplay=Un,Mn&&mn.i.play()}},function(zn){zn=new Map().set("detail",zn),zn=new _u("error",zn),mn.h.dispatchEvent(zn)})}function Fw(mn,kn){if(kn=="addEventListener")return function(An,Mn,Un){return mn.j.addEventListener(An,Mn,Un)};if(kn=="removeEventListener")return function(An,Mn,Un){return mn.j.removeEventListener(An,Mn,Un)};if(mn.g.na()&&Object.keys(mn.g.g.video).length==0){var xn=mn.i[kn];if(typeof xn!="function")return xn}return mn.g.na()?mn.g.get("video",kn):(kn=mn.i[kn],typeof kn=="function"&&(kn=kn.bind(mn.i)),kn)}function SR(mn,kn){if(mn.C.has(kn)&&(kn=mn.C.get(kn)),kn=="addEventListener")return function(xn,An,Mn){return mn.s.addEventListener(xn,An,Mn)};if(kn=="removeEventListener")return function(xn,An,Mn){return mn.s.removeEventListener(xn,An,Mn)};if(kn=="getMediaElement")return function(){return mn.l};if(kn=="getSharedConfiguration")return mn.g.get("player","getConfiguration");if(kn=="getNetworkingEngine")return function(){return mn.h.Hc()};if(kn=="getDrmEngine")return function(){return mn.h.m};if(kn=="getAdManager")return function(){return mn.h.sd()};if(kn=="setVideoContainer")return function(xn){return mn.h.Te(xn)};if(mn.g.na()){if(kn=="getManifest"||kn=="drmInfo")return function(){return $u(kn+"() does not work while casting!"),null};if(kn=="attach"||kn=="detach")return function(){return $u(kn+"() does not work while casting!"),Promise.resolve()}}return mn.g.na()&&Object.keys(mn.g.g.video).length==0&&(WS[kn]||qS[kn])||!mn.g.na()?mn.h[kn].bind(mn.h):mn.g.get("player",kn)}function JI(mn,kn,xn){mn.g.na()&&(kn=="video"?mn.j.dispatchEvent(xn):kn=="player"&&mn.s.dispatchEvent(xn))}Ys("shaka.cast.CastProxy",sl),sl.prototype.changeReceiverId=sl.prototype.yf,sl.prototype.forceDisconnect=sl.prototype.$b,sl.prototype.suggestDisconnect=sl.prototype.cg,sl.prototype.setAppData=sl.prototype.Le,sl.prototype.cast=sl.prototype.cast,sl.prototype.receiverName=sl.prototype.Jd,sl.prototype.isCasting=sl.prototype.na,sl.prototype.canCast=sl.prototype.uf,sl.prototype.getPlayer=sl.prototype.cc,sl.prototype.getVideo=sl.prototype.zb,sl.prototype.destroy=sl.prototype.destroy;function Pp(mn,kn,xn,An){Eu.call(this);var Mn=this;this.g=mn,this.h=kn,this.j=new xu,this.J={video:mn,player:kn},this.G=xn||function(){},this.K=An||function(Un){return Un},this.i=null,this.H=!1,this.s=!0,this.m=0,this.F=!1,this.C=!0,this.B=this.l=null,this.I=new Tu(function(){Bw(Mn)}),zv(this)}as(Pp,Eu),En=Pp.prototype,En.isConnected=function(){return this.H},En.fh=function(){return this.s},En.Hh=function(mn){this.i=mn},En.rg=function(){this.i=null},En.Ih=function(mn){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.title=mn},En.Gh=function(mn){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.images=[{url:mn}]},En.Fh=function(mn){this.i||(this.i={}),this.i.artist=mn,this.i.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},En.destroy=function(){var mn=this,kn,xn;return hs(function(An){if(An.g==1)return mn.j&&(mn.j.release(),mn.j=null),kn=[],mn.h&&(kn.push(mn.h.destroy()),mn.h=null),mn.I&&(mn.I.stop(),mn.I=null),mn.g=null,mn.J=null,mn.G=null,mn.H=!1,mn.s=!0,mn.l=null,mn.B=null,Eu.prototype.release.call(mn),Qn(An,Promise.all(kn),2);xn=cast.receiver.CastReceiverManager.getInstance(),xn.stop(),ms(An)})};function zv(mn){var kn=cast.receiver.CastReceiverManager.getInstance();kn.onSenderConnected=function(){return fv(mn)},kn.onSenderDisconnected=function(){return fv(mn)},kn.onSystemVolumeChanged=function(){var Mn=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();Mn&&Hv(mn,{type:"update",update:{video:{volume:Mn.level,muted:Mn.muted}}},mn.l),Hv(mn,{type:"event",targetName:"video",event:{type:"volumechange"}},mn.l)},mn.B=kn.getCastMessageBus("urn:x-cast:com.google.cast.media"),mn.B.onMessage=function(Mn){return TR(mn,Mn)},mn.l=kn.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),mn.l.onMessage=function(Mn){return rP(mn,Mn)},kn.start(),kn=Dn(JT);for(var xn=kn.next();!xn.done;xn=kn.next())mn.j.o(mn.g,xn.value,function(Mn){return eP(mn,"video",Mn)});for(var An in lp)mn.j.o(mn.h,lp[An],function(Mn){return eP(mn,"player",Mn)});cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?mn.h.Oe(3840,2160):mn.h.Oe(1920,1080),mn.j.o(mn.g,"loadeddata",function(){mn.F=!0}),mn.j.o(mn.h,"loading",function(){mn.s=!1,PE(mn)}),mn.j.o(mn.g,"playing",function(){mn.s=!1,PE(mn)}),mn.j.o(mn.g,"pause",function(){PE(mn)}),mn.j.o(mn.h,"unloading",function(){mn.s=!0,PE(mn)}),mn.j.o(mn.g,"ended",function(){new Tu(function(){mn.g&&mn.g.ended&&(mn.s=!0,PE(mn))}).R(bR)})}function fv(mn){mn.m=0,mn.C=!0,mn.H=cast.receiver.CastReceiverManager.getInstance().getSenders().length!=0,PE(mn)}function PE(mn){var kn;hs(function(xn){if(xn.g==1)return Qn(xn,Promise.resolve(),2);if(!mn.h)return xn.return();kn=new _u("caststatuschanged"),mn.dispatchEvent(kn),tP(mn)||gy(mn),ms(xn)})}function $R(mn,kn,xn){var An,Mn,Un,Bn,zn,Wn,ts,os,ds,ls;hs(function(ys){switch(ys.g){case 1:for(An in kn.player)Mn=kn.player[An],mn.h[An](Mn);return mn.G(xn),Un=mn.g.autoplay,kn.manifest?(mn.g.autoplay=!1,$s(ys,5),Qn(ys,mn.h.load(kn.manifest,kn.startTime),7)):Qn(ys,Promise.resolve(),3);case 7:gs(ys,3);break;case 5:return Bn=Ss(ys),zn=new Map().set("detail",Bn),Wn=new _u("error",zn),mn.h&&mn.h.dispatchEvent(Wn),ys.return();case 3:if(!mn.h)return ys.return();for(ts in kn.video)os=kn.video[ts],mn.g[ts]=os;for(ds in kn.playerAfterLoad)ls=kn.playerAfterLoad[ds],mn.h[ds](ls);mn.g.autoplay=Un,kn.manifest&&(mn.g.play(),gy(mn)),ms(ys)}})}function eP(mn,kn,xn){mn.h&&(Bw(mn),Hv(mn,{type:"event",targetName:kn,event:xn},mn.l))}function Bw(mn){mn.I.R(kR);for(var kn={video:{},player:{}},xn=Dn(vR),An=xn.next();!An.done;An=xn.next())An=An.value,kn.video[An]=mn.g[An];if(mn.h.U())for(var Mn in YS)mn.m%YS[Mn]==0&&(kn.player[Mn]=mn.h[Mn]());for(var Un in WS)mn.m%WS[Un]==0&&(kn.player[Un]=mn.h[Un]());(xn=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(kn.video.volume=xn.level,kn.video.muted=xn.muted),Hv(mn,{type:"update",update:kn},mn.l);for(var Bn in qS)mn.m%qS[Bn]==0&&(kn={player:{}},kn.player[Bn]=mn.h[Bn](),Hv(mn,{type:"update",update:kn},mn.l));mn.F&&(mn.m+=1),tP(mn)}function tP(mn){return mn.C&&(mn.g.duration||mn.h.U())?(Vw(mn),mn.C=!1,!0):!1}function Vw(mn,kn){var xn={contentId:mn.h.le(),streamType:mn.h.U()?"LIVE":"BUFFERED",contentType:""};mn.h.U()||(xn.duration=mn.g.duration),mn.i&&(xn.metadata=mn.i),gy(mn,kn===void 0?0:kn,xn)}function rP(mn,kn){var xn=Mw(kn.data);switch(xn.type){case"init":mn.m=0,mn.F=!1,mn.C=!0,$R(mn,xn.initState,xn.appData),Bw(mn);break;case"appData":mn.G(xn.appData);break;case"set":var An=xn.targetName,Mn=xn.property;if(xn=xn.value,An=="video"){if(kn=cast.receiver.CastReceiverManager.getInstance(),Mn=="volume"){kn.setSystemVolumeLevel(xn);break}else if(Mn=="muted"){kn.setSystemVolumeMuted(xn);break}}mn.J[An][Mn]=xn;break;case"call":An=mn.J[xn.targetName],An[xn.methodName].apply(An,xn.args);break;case"asyncCall":An=xn.targetName,Mn=xn.methodName,An=="player"&&Mn=="load"&&(mn.m=0,mn.F=!1);var Un=xn.id,Bn=kn.senderId;kn=mn.J[An],xn=kn[Mn].apply(kn,xn.args),An=="player"&&Mn=="load"&&(xn=xn.then(function(){mn.C=!0})),xn.then(function(){return nP(mn,Bn,Un,null)},function(zn){return nP(mn,Bn,Un,zn)})}}function TR(mn,kn){var xn=Mw(kn.data);switch(xn.type){case"PLAY":mn.g.play(),gy(mn);break;case"PAUSE":mn.g.pause(),gy(mn);break;case"SEEK":kn=xn.currentTime;var An=xn.resumeState;kn!=null&&(mn.g.currentTime=Number(kn)),An&&An=="PLAYBACK_START"?(mn.g.play(),gy(mn)):An&&An=="PLAYBACK_PAUSE"&&(mn.g.pause(),gy(mn));break;case"STOP":mn.h.bf().then(function(){mn.h&&gy(mn)});break;case"GET_STATUS":Vw(mn,Number(xn.requestId));break;case"VOLUME":An=xn.volume,kn=An.level,An=An.muted;var Mn=mn.g.volume,Un=mn.g.muted;kn!=null&&(mn.g.volume=Number(kn)),An!=null&&(mn.g.muted=An),Mn==mn.g.volume&&Un==mn.g.muted||gy(mn);break;case"LOAD":mn.m=0,mn.F=!1,mn.C=!1,kn=xn.media,An=xn.currentTime,Mn=mn.K(kn.contentId),Un=xn.autoplay||!0,mn.G(kn.customData),Un&&(mn.g.autoplay=!0),mn.h.load(Mn,An).then(function(){mn.h&&Vw(mn)}).catch(function(Bn){var zn="LOAD_FAILED";Bn.category==7&&Bn.code==7e3&&(zn="LOAD_CANCELLED"),Hv(mn,{requestId:Number(xn.requestId),type:zn},mn.B)});break;default:Hv(mn,{requestId:Number(xn.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},mn.B)}}function nP(mn,kn,xn,An){mn.h&&Hv(mn,{type:"asyncComplete",id:xn,error:An},mn.l,kn)}function Hv(mn,kn,xn,An){mn.H&&(mn=Ow(kn),An?xn.getCastChannel(An).send(mn):xn.broadcast(mn))}function gy(mn,kn,xn){xn=xn===void 0?null:xn;var An={mediaSessionId:0,playbackRate:mn.g.playbackRate,playerState:mn.s?xR:mn.h.Pc()?CR:mn.g.paused?o1:wR,currentTime:mn.g.currentTime,supportedMediaCommands:63,volume:{level:mn.g.volume,muted:mn.g.muted}};xn&&(An.media=xn),Hv(mn,{requestId:kn===void 0?0:kn,type:"MEDIA_STATUS",status:[An]},mn.B)}Ys("shaka.cast.CastReceiver",Pp),Pp.prototype.destroy=Pp.prototype.destroy,Pp.prototype.setContentArtist=Pp.prototype.Fh,Pp.prototype.setContentImage=Pp.prototype.Gh,Pp.prototype.setContentTitle=Pp.prototype.Ih,Pp.prototype.clearContentMetadata=Pp.prototype.rg,Pp.prototype.setContentMetadata=Pp.prototype.Hh,Pp.prototype.isIdle=Pp.prototype.fh,Pp.prototype.isConnected=Pp.prototype.isConnected;var kR=.5,bR=5,xR="IDLE",wR="PLAYING",CR="BUFFERING",o1="PAUSED";function Gw(mn,kn,xn){var An=PR(mn),Mn=null;mn=[];var Un=[],Bn=new Set(An.map(function(zn){return zn.keyId}));if(Bn.delete(null),1<Bn.size)throw new Hs(2,4,4010);if(kn||(Un=An.filter(function(zn){return zn.He=="urn:mpeg:dash:mp4protection:2011"?(Mn=zn.init||Mn,!1):!0}),Un.length&&(mn=IR(Mn,Un,xn,Bn),mn.length==0&&(mn=[Mp("",Mn)]))),An.length&&(kn||!Un.length))for(mn=[],kn=Dn(Object.values(xn)),xn=kn.next();!xn.done;xn=kn.next())xn=xn.value,xn!="org.w3.clearkey"&&mn.push(Mp(xn,Mn));if(Bn=Array.from(Bn)[0]||null)for(kn=Dn(mn),xn=kn.next();!xn.done;xn=kn.next())for(xn=Dn(xn.value.initData),An=xn.next();!An.done;An=xn.next())An.value.keyId=Bn;return{Bf:Bn,pj:Mn,drmInfos:mn,Ff:!0}}function pv(mn,kn,xn,An){var Mn=Gw(mn,xn,An);if(kn.Ff)mn=kn.drmInfos.length==1&&!kn.drmInfos[0].keySystem,xn=Mn.drmInfos.length==0,(kn.drmInfos.length==0||mn&&!xn)&&(kn.drmInfos=Mn.drmInfos),kn.Ff=!1;else if(0<Mn.drmInfos.length&&(kn.drmInfos=kn.drmInfos.filter(function(Un){return Mn.drmInfos.some(function(Bn){return Bn.keySystem==Un.keySystem})}),kn.drmInfos.length==0))throw new Hs(2,4,4008);return Mn.Bf||kn.Bf}function s1(mn){var kn=0,xn=Hp(mn),An=xn.getUint32(kn,!0);if(An!=mn.byteLength)return[];e:{for(mn=kn+6,kn=[];mn<xn.byteLength-1;){An=xn.getUint16(mn,!0),mn+=2;var Mn=xn.getUint16(mn,!0);if(mn+=2,Mn&1||Mn+mn>xn.byteLength){xn=[];break e}var Un=Ku(xn,mn,Mn);kn.push({type:An,value:Un}),mn+=Mn}xn=kn}return xn}function AR(mn){mn=Dn(mn.getElementsByTagName("DATA"));for(var kn=mn.next();!kn.done;kn=mn.next()){kn=Dn(kn.value.childNodes);for(var xn=kn.next();!xn.done;xn=kn.next())if(xn=xn.value,xn instanceof Element&&xn.tagName=="LA_URL")return xn.textContent}return""}function y0(mn){return mn=Ml(mn.node,"urn:microsoft:playready","pro"),!mn||(mn=Lp(mn.textContent),mn=s1(mn).filter(function(kn){return kn.type===Kv})[0],!mn)?"":(mn=Ry(mn.value,!0),(mn=q0(mn,"WRMHEADER"))?AR(mn):"")}function IR(mn,kn,xn,An){var Mn=[];kn=Dn(kn);for(var Un=kn.next();!Un.done;Un=kn.next()){Un=Un.value;var Bn=xn[Un.He];if(Bn){var zn;if(zn=Ml(Un.node,"urn:microsoft:playready","pro")){zn=Lp(zn.textContent);var Wn=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);zn=[{initData:z0(zn,Wn,new Set,0),initDataType:"cenc",keyId:Un.keyId}]}else zn=null;if(Wn=null,Un.He==="urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e")if(Wn=An,Wn.size==0)Wn=null;else{var ts=new Uint8Array([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]),os=new Uint8Array([]);Wn=[{initData:z0(os,ts,Wn,1),initDataType:"cenc",keyId:Un.keyId}]}zn=Mp(Bn,Un.init||mn||zn||Wn),(Bn=iP.get(Bn))&&(zn.licenseServerUri=Bn(Un)),Mn.push(zn)}}return Mn}function PR(mn){var kn=[];mn=Dn(mn);for(var xn=mn.next();!xn.done;xn=mn.next())(xn=v_(xn.value))&&kn.push(xn);return kn}function v_(mn){var kn=mn.getAttribute("schemeIdUri"),xn=K_(mn,"urn:mpeg:cenc:2013","default_KID"),An=cS(mn,"urn:mpeg:cenc:2013","pssh").map(Gm);if(!kn)return null;if(kn=kn.toLowerCase(),xn&&(xn=xn.replace(/-/g,"").toLowerCase(),xn.includes(" ")))throw new Hs(2,4,4009);var Mn=[];try{Mn=An.map(function(Un){return{initDataType:"cenc",initData:Lp(Un),keyId:null}})}catch{throw new Hs(2,4,4007)}return{node:mn,He:kn,keyId:xn,init:0<Mn.length?Mn:null}}var Kv=1,iP=new Map().set("com.widevine.alpha",function(mn){return(mn=Ml(mn.node,"urn:microsoft","laurl"))&&mn.getAttribute("licenseUrl")||""}).set("com.microsoft.playready",y0).set("com.microsoft.playready.recommendation",y0).set("com.microsoft.playready.software",y0).set("com.microsoft.playready.hardware",y0).set("org.w3.clearkey",function(mn){return(mn=Ml(mn.node,"http://dashif.org/guidelines/clearKey","Laurl"))&&mn.getAttribute("Lic_type")==="EME-1.0"&&mn.textContent?mn.textContent:""});function u1(mn,kn,xn,An,Mn){var Un={RepresentationID:kn,Number:xn,Bandwidth:An,Time:Mn};return mn.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,function(Bn,zn,Wn,ts){if(Bn=="$$")return"$";var os=Un[zn];if(os==null)return Bn;switch(zn=="RepresentationID"&&Wn&&(Wn=void 0),zn=="Time"&&(os=Math.round(os)),ts){case void 0:case"d":case"i":case"u":Bn=os.toString();break;case"o":Bn=os.toString(8);break;case"x":Bn=os.toString(16);break;case"X":Bn=os.toString(16).toUpperCase();break;default:Bn=os.toString()}return Wn=pn.parseInt(Wn,10)||1,Array(Math.max(0,Wn-Bn.length)+1).join("0")+Bn})}function aP(mn,kn){var xn=yy(mn,kn,"timescale"),An=1;xn&&(An=W$(xn)||1);var Mn=yy(mn,kn,"duration");xn=W$(Mn||""),mn.L.contentType=="image"&&(xn=W0(Mn||"")),xn&&(xn/=An);var Un=yy(mn,kn,"startNumber");Mn=Number(yy(mn,kn,"presentationTimeOffset"))||0;var Bn=uv(Un||"");if((Un==null||Bn==null)&&(Bn=1),Un=l1(mn,kn,"SegmentTimeline"),kn=null,Un){kn=An,mn=mn.Y.duration||1/0,Un=Xl(Un,"S");for(var zn=[],Wn=-Mn,ts=0;ts<Un.length;++ts){var os=Un[ts],ds=Un[ts+1],ls=Kl(os,"t",uv),ys=Kl(os,"d",uv);if(os=Kl(os,"r",K$),ls!=null&&(ls-=Mn),!ys)break;if(ls=ls??Wn,os=os||0,0>os)if(ds){if(ds=Kl(ds,"t",uv),ds==null)break;if(ls>=ds)break;os=Math.ceil((ds-ls)/ys)-1}else{if(mn==1/0)break;if(ls/kn>=mn)break;os=Math.ceil((mn*kn-ls)/ys)-1}for(0<zn.length&&ls!=Wn&&(zn[zn.length-1].end=ls/kn),ds=0;ds<=os;++ds)Wn=ls+ys,zn.push({start:ls/kn,end:Wn/kn,Mh:ls}),ls=Wn}kn=zn}return{timescale:An,za:xn,pc:Bn,pb:Mn/An||0,cf:Mn,timeline:kn}}function yy(mn,kn,xn){return[kn(mn.L),kn(mn.va),kn(mn.oa)].filter(Zl).map(function(An){return An.getAttribute(xn)}).reduce(function(An,Mn){return An||Mn})}function l1(mn,kn,xn){return[kn(mn.L),kn(mn.va),kn(mn.oa)].filter(Zl).map(function(An){return lS(An,xn)}).reduce(function(An,Mn){return An||Mn})}function OR(mn,kn,xn,An,Mn,Un){for(var Bn=K_(mn,"http://www.w3.org/1999/xlink","href"),zn=K_(mn,"http://www.w3.org/1999/xlink","actuate")||"onRequest",Wn=Dn(Array.from(mn.attributes)),ts=Wn.next();!ts.done;ts=Wn.next())ts=ts.value,ts.namespaceURI=="http://www.w3.org/1999/xlink"&&mn.removeAttributeNS(ts.namespaceURI,ts.localName);if(5<=Un)return Sl(new Hs(2,4,4028));if(zn!="onLoad")return Sl(new Hs(2,4,4027));var os=Zp([An],[Bn]);return Mn.request(0,ll(os,kn)).ia(function(ds){if(ds=cx(ds.data,mn.tagName),!ds)return Sl(new Hs(2,4,4001,Bn));for(;mn.childNodes.length;)mn.removeChild(mn.childNodes[0]);for(;ds.childNodes.length;){var ls=ds.childNodes[0];ds.removeChild(ls),mn.appendChild(ls)}for(ds=Dn(Array.from(ds.attributes)),ls=ds.next();!ls.done;ls=ds.next())mn.setAttributeNode(ls.value.cloneNode(!1));return ZS(mn,kn,xn,os[0],Mn,Un+1)})}function ZS(mn,kn,xn,An,Mn,Un){if(Un=Un===void 0?0:Un,K_(mn,"http://www.w3.org/1999/xlink","href")){var Bn=OR(mn,kn,xn,An,Mn,Un);return xn&&(Bn=Bn.ia(void 0,function(){return ZS(mn,kn,xn,An,Mn,Un)})),Bn}Bn=[];for(var zn=Dn(Array.from(mn.childNodes)),Wn=zn.next();!Wn.done;Wn=zn.next())Wn=Wn.value,Wn instanceof Element&&(K_(Wn,"http://www.w3.org/1999/xlink","href")=="urn:mpeg:dash:resolve-to-zero:2013"?mn.removeChild(Wn):Wn.tagName!="SegmentTimeline"&&Bn.push(ZS(Wn,kn,xn,An,Mn,Un)));return ux(Bn).ia(function(){return mn})}function MR(mn,kn,xn,An,Mn,Un,Bn){var zn,Wn=new Nl().T("sidx",function(ts){zn=oP(kn,An,Mn,Un,Bn,xn,ts)});if(mn&&Wn.parse(mn),zn)return zn;throw new Hs(2,3,3004)}function oP(mn,kn,xn,An,Mn,Un,Bn){var zn=[];Bn.reader.skip(4);var Wn=Bn.reader.N();if(Wn==0)throw new Hs(2,3,3005);if(Bn.version==0)var ts=Bn.reader.N(),os=Bn.reader.N();else ts=Bn.reader.Cb(),os=Bn.reader.Cb();Bn.reader.skip(2);var ds=Bn.reader.De();for(mn=mn+Bn.size+os,os=0;os<ds;os++){var ls=Bn.reader.N(),ys=(ls&2147483648)>>>31;ls&=2147483647;var Cs=Bn.reader.N();if(Bn.reader.skip(4),ys==1)throw new Hs(2,3,3006);zn.push(new rl(ts/Wn+xn,(ts+Cs)/Wn+xn,function(){return Un},mn,mn+ls-1,kn,xn,An,Mn)),ts+=Cs,mn+=ls}return Bn.parser.stop(),zn}function Zm(mn){this.h=Hp(mn),this.g=new Tl(this.h,0)}Zm.prototype.xa=function(){return this.g.xa()};function hv(mn){var kn=sP(mn);if(7<kn.length)throw new Hs(2,3,3002);var xn=0;kn=Dn(kn);for(var An=kn.next();!An.done;An=kn.next())xn=256*xn+An.value;kn=sP(mn);e:{An=Dn(uP);for(var Mn=An.next();!Mn.done;Mn=An.next())if(Ip(kn,new Uint8Array(Mn.value))){An=!0;break e}An=!1}if(An)kn=mn.h.byteLength-mn.g.ma();else{if(kn.length==8&&kn[1]&224)throw new Hs(2,3,3001);for(Mn=An=0;Mn<kn.length;Mn++){var Un=kn[Mn];An=Mn==0?Un&(1<<8-kn.length)-1:256*An+Un}kn=An}return kn=mn.g.ma()+kn<=mn.h.byteLength?kn:mn.h.byteLength-mn.g.ma(),An=Hp(mn.h,mn.g.ma(),kn),mn.g.skip(kn),new lP(xn,An)}function sP(mn){var kn=mn.g.ma(),xn=mn.g.ob();if(xn==0)throw new Hs(2,3,3002);return xn=8-Math.floor(Math.log2(xn)),mn.g.skip(xn-1),Ku(mn.h,kn,xn)}var uP=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function lP(mn,kn){this.id=mn,this.g=kn}function zw(mn){if(8<mn.g.byteLength)throw new Hs(2,3,3002);if(mn.g.byteLength==8&&mn.g.getUint8(0)&224)throw new Hs(2,3,3001);for(var kn=0,xn=0;xn<mn.g.byteLength;xn++){var An=mn.g.getUint8(xn);kn=256*kn+An}return kn}function cP(mn,kn,xn,An,Mn,Un,Bn,zn,Wn){function ts(){return Mn}var os=[];mn=new Zm(mn.g);for(var ds=null,ls=null;mn.xa();){var ys=hv(mn);if(ys.id==187){var Cs=RR(ys);Cs&&(ys=xn*Cs.Nh,Cs=kn+Cs.wh,ds!=null&&os.push(new rl(ds+Bn,ys+Bn,ts,ls,Cs-1,Un,Bn,zn,Wn)),ds=ys,ls=Cs)}}return ds!=null&&os.push(new rl(ds+Bn,An+Bn,ts,ls,null,Un,Bn,zn,Wn)),os}function RR(mn){var kn=new Zm(mn.g);if(mn=hv(kn),mn.id!=179)throw new Hs(2,3,3013);if(mn=zw(mn),kn=hv(kn),kn.id!=183)throw new Hs(2,3,3012);kn=new Zm(kn.g);for(var xn=0;kn.xa();){var An=hv(kn);if(An.id==241){xn=zw(An);break}}return{Nh:mn,wh:xn}}function dP(mn,kn){if(kn=l1(mn,kn,"Initialization"),!kn)return null;var xn=mn.L.Na,An=kn.getAttribute("sourceURL");An&&(xn=Zp(mn.L.Na,[An])),An=0;var Mn=null;return(kn=Kl(kn,"range",H$))&&(An=kn.start,Mn=kn.end),new Km(function(){return xn},An,Mn,mP(mn))}function NR(mn,kn){var xn=Number(yy(mn,Wv,"presentationTimeOffset"))||0,An=yy(mn,Wv,"timescale"),Mn=1;An&&(Mn=W$(An)||1);var Un=xn/Mn||0,Bn=dP(mn,Wv);DR(mn,Bn);var zn=aS(mn);return{ac:function(){var Wn=l1(zn,Wv,"RepresentationIndex"),ts=zn.L.Na;return Wn&&(Wn=Wn.getAttribute("sourceURL"))&&(ts=Zp(zn.L.Na,[Wn])),Wn=pP(zn),fP(zn,kn,Bn,ts,Wn.start,Wn.end,Un)}}}function fP(mn,kn,xn,An,Mn,Un,Bn){var zn,Wn,ts,os,ds,ls,ys,Cs,Ns,Os,Ps,Xs,Ds,qs,Qs;return hs(function(ru){if(ru.g==1)return zn=mn.presentationTimeline,Wn=!mn.vb||!mn.Y.oe,ts=mn.Y.start,os=mn.Y.duration,ds=mn.L.mimeType.split("/")[1],ls=kn,ys=null,Cs=[ls(An,Mn,Un),ds=="webm"?ls(xn.Pa(),xn.Ta,xn.Ca):null],ls=null,Qn(ru,Promise.all(Cs),2);if(Ns=ru.h,Os=Ns[0],Ps=Ns[1]||null,Xs=null,Ds=ts-Bn,qs=ts,Qs=os?ts+os:1/0,ds=="mp4")var ou=MR(Os,Mn,An,xn,Ds,qs,Qs);else{if(ou=new Zm(Ps),hv(ou).id!=440786851)throw new Hs(2,3,3008);var hu=hv(ou);if(hu.id!=408125543)throw new Hs(2,3,3009);ou=hu.g.byteOffset,hu=new Zm(hu.g);for(var gu=null;hu.xa();){var ju=hv(hu);if(ju.id==357149030){gu=ju;break}}if(!gu)throw new Hs(2,3,3010);for(gu=new Zm(gu.g),ju=1e6,hu=null;gu.xa();){var Xu=hv(gu);if(Xu.id==2807729)ju=zw(Xu);else if(Xu.id==17545)if(Xu.g.byteLength==4)hu=Xu.g.getFloat32(0);else if(Xu.g.byteLength==8)hu=Xu.g.getFloat64(0);else throw new Hs(2,3,3003)}if(hu==null)throw new Hs(2,3,3011);if(gu=ju/1e9,hu*=gu,ju=hv(new Zm(Os)),ju.id!=475249515)throw new Hs(2,3,3007);ou=cP(ju,ou,gu,hu,An,xn,Ds,qs,Qs)}return Xs=ou,zn.lc(Xs),ys=new vl(Xs),Wn&&ys.wb(qs,Qs,!0),ru.return(ys)})}function Wv(mn){return mn.Yc}function pP(mn){var kn=l1(mn,Wv,"RepresentationIndex");return mn=yy(mn,Wv,"indexRange"),mn=H$(mn||""),kn&&(mn=Kl(kn,"range",H$,mn)),mn}function DR(mn,kn){if(hP(mn,kn),!pP(mn))throw new Hs(2,4,4002)}function hP(mn,kn){var xn=mn.L.mimeType.split("/")[1];if(mn.L.contentType!=Vu&&xn!="mp4"&&xn!="webm")throw new Hs(2,4,4006);if(xn=="webm"&&!kn)throw new Hs(2,4,4005)}function mP(mn){var kn=mn.L;return{bandwidth:mn.bandwidth,audioSamplingRate:kn.audioSamplingRate,codecs:kn.codecs,contentType:kn.contentType,frameRate:kn.frameRate||null,height:kn.height||null,mimeType:kn.mimeType,channelsCount:kn.Cd,pixelAspectRatio:kn.pixelAspectRatio||null,width:kn.width||null}}function LR(mn,kn){var xn=dP(mn,Hw),An=UR(mn);if(!An.za&&!An.timeline&&1<An.jc.length)throw new Hs(2,4,4002);if(!An.za&&!mn.Y.duration&&!An.timeline&&An.jc.length==1)throw new Hs(2,4,4002);if(An.timeline&&An.timeline.length==0)throw new Hs(2,4,4002);var Mn=null,Un=null;mn.oa.id&&mn.L.id&&(Un=kn[mn.oa.id+","+mn.L.id])&&(Mn=Un.segmentIndex);var Bn=jR(mn.Y.start,mn.Y.duration,mn.L.Na,An,xn);return kn=!Mn,Mn?Mn.kc(Bn,mn.presentationTimeline.kb()):Mn=new vl(Bn),mn.presentationTimeline.lc(Bn),mn.vb&&mn.Y.oe||Mn.wb(mn.Y.start,mn.Y.duration?mn.Y.start+mn.Y.duration:1/0,kn),Un&&(Un.segmentIndex=Mn),{ac:function(){return Mn&&Mn.g.length!=0||Mn.Sc(Bn),Promise.resolve(Mn)}}}function Hw(mn){return mn.Db}function UR(mn){var kn=FR(mn);mn=aP(mn,Hw);var xn=mn.pc;xn==0&&(xn=1);var An=0;return mn.za?An=mn.za*(xn-1):mn.timeline&&0<mn.timeline.length&&(An=mn.timeline[0].start),{za:mn.za,startTime:An,pc:xn,pb:mn.pb,timeline:mn.timeline,jc:kn}}function jR(mn,kn,xn,An,Mn){var Un=An.jc.length;An.timeline&&An.timeline.length!=An.jc.length&&(Un=Math.min(An.timeline.length,An.jc.length));for(var Bn=mn-An.pb,zn=kn?mn+kn:1/0,Wn=[],ts=An.startTime,os={},ds=0;ds<Un;os={Vd:os.Vd},ds++){var ls=An.jc[ds];os.Vd=Zp(xn,[ls.lh]);var ys=void 0;ys=An.za!=null?ts+An.za:An.timeline?An.timeline[ds].end:ts+kn,Wn.push(new rl(mn+ts,mn+ys,function(Cs){return function(){return Cs.Vd}}(os),ls.start,ls.end,Mn,Bn,mn,zn)),ts=ys}return Wn}function FR(mn){return[mn.L.Db,mn.va.Db,mn.oa.Db].filter(Zl).map(function(kn){return Xl(kn,"SegmentURL")}).reduce(function(kn,xn){return 0<kn.length?kn:xn}).map(function(kn){kn.getAttribute("indexRange")&&!mn.Mf&&(mn.Mf=!0);var xn=kn.getAttribute("media");return kn=Kl(kn,"mediaRange",H$,{start:0,end:null}),{lh:xn,start:kn.start,end:kn.end}})}function BR(mn,kn,xn,An,Mn,Un){var Bn=GR(mn),zn=gP(mn);__(zn);var Wn=aS(mn);if(zn.Oc)return hP(mn,Bn),{ac:function(){var ys=u1(zn.Oc,Wn.L.id,null,Wn.bandwidth||null,null);return ys=Zp(Wn.L.Na,[ys]),fP(Wn,kn,Bn,ys,0,null,zn.pb)}};if(zn.za)return An||mn.va.contentType==="image"||(mn.presentationTimeline.ze(zn.za),mn.presentationTimeline.Ae(mn.Y.start)),{ac:function(){return VR(Wn,zn,Mn,Bn,Un)}};var ts=null;An=An=null,mn.oa.id&&mn.L.id&&(An=mn.oa.id+","+mn.L.id,An=xn[An])&&(ts=An.segmentIndex);var os=yP(Wn,zn,Bn);xn=mn.Y.start;var ds=mn.Y.duration?mn.Y.start+mn.Y.duration:1/0,ls=!(mn.vb&&mn.Y.oe);return ts?(ls&&new vl(os).wb(xn,ds,!0),ts.kc(os,mn.presentationTimeline.kb())):ts=new vl(os),mn.presentationTimeline.lc(os),ls&&ts.wb(xn,ds),An&&mn.vb&&(An.segmentIndex=ts),{ac:function(){return ts&&ts.g.length!=0||ts.Sc(os),Promise.resolve(ts)}}}function c1(mn){return mn.Zc}function gP(mn){var kn=aP(mn,c1),xn=yy(mn,c1,"media");return mn=yy(mn,c1,"index"),{za:kn.za,timescale:kn.timescale,pc:kn.pc,pb:kn.pb,cf:kn.cf,timeline:kn.timeline,xe:xn,Oc:mn}}function __(mn){var kn=mn.Oc?1:0;if(kn+=mn.timeline?1:0,kn+=mn.za?1:0,kn==0)throw new Hs(2,4,4002);if(kn!=1&&(mn.Oc&&(mn.timeline=null),mn.za=null),!mn.Oc&&!mn.xe)throw new Hs(2,4,4002)}function VR(mn,kn,xn,An,Mn){function Un(gu){var ju=(gu-ys)*ls,Xu=ju+kn.pb,Qu=ju+ts;ju=Qu+ls;var dl=Math.min(ju,zn());return Qu=new rl(Qu,dl,function(){var Du=u1(Ns,Ps,gu,Os,Xu*Cs);return Zp(Xs,[Du])},0,null,An,Ds,ts,zn()),Qu.l=ju,Qu}function Bn(){var gu=[Math.max(Wn.kb(),ts),Math.min(Wn.Ib(),zn())].map(function(ju){return ju-ts});return[Math.ceil(gu[0]/ls),Math.ceil(gu[1]/ls)-1].map(function(ju){return ju+ys})}function zn(){var gu=os!=null&&Mn[os]||ds;return gu?ts+gu:1/0}var Wn=mn.presentationTimeline,ts=mn.Y.start,os=mn.oa.id,ds=mn.Y.duration,ls=kn.za,ys=kn.pc,Cs=kn.timescale,Ns=kn.xe,Os=mn.bandwidth||null,Ps=mn.L.id,Xs=mn.L.Na,Ds=ts-kn.pb,qs=Bn();mn=mn.vb?Math.max(qs[0],qs[1]-xn+1):qs[0],qs=qs[1],xn=[];for(var Qs=mn;Qs<=qs;++Qs){var ru=Un(Qs);xn.push(ru)}var ou=new vl(xn);if(xn=Wn.Ib()<zn(),Qs=Wn.U(),xn||Qs){var hu=Math.max(mn,qs+1);ou.Nd(ls,function(){var gu=Wn.kb();ou.Gb(gu);var ju=Dn(Bn());ju.next(),ju=ju.next().value;for(var Xu=[];hu<=ju;){var Qu=Un(hu);Xu.push(Qu),hu++}return gu>zn()&&!Xu.length?null:Xu})}return Promise.resolve(ou)}function yP(mn,kn,xn){var An=mn.Y.start,Mn=mn.Y.duration,Un=An-kn.pb;Mn=Mn?An+Mn:1/0;for(var Bn=[],zn={},Wn=0;Wn<kn.timeline.length;zn={Ud:zn.Ud,Yd:zn.Yd,ae:zn.ae,Rd:zn.Rd,ce:zn.ce,Sd:zn.Sd},Wn++){var ts=kn.timeline[Wn],os=ts.start,ds=ts.Mh;ts=ts.end,zn.ae=Wn+kn.pc,zn.ce=ds+kn.cf,zn.Yd=mn.L.id,zn.Rd=mn.bandwidth||null,zn.Ud=kn.xe,zn.Sd=mn.L.Na,Bn.push(new rl(An+os,An+ts,function(ls){return function(){var ys=u1(ls.Ud,ls.Yd,ls.ae,ls.Rd||null,ls.ce);return Zp(ls.Sd,[ys]).map(function(Cs){return Cs.toString()})}}(zn),0,null,xn,Un,An,Mn))}return Bn}function GR(mn){var kn=yy(mn,c1,"initialization");if(!kn)return null;var xn=mn.L.id,An=mn.bandwidth||null,Mn=mn.L.Na;return new Km(function(){var Un=u1(kn,xn,null,An,null);return Zp(Mn,[Un])},0,null,mP(mn))}function Kw(){this.l=[],this.g=[],this.h=[],this.j=[],this.i=[],this.m=new Set}Kw.prototype.release=function(){for(var mn=Dn(this.g.concat(this.h,this.j,this.i)),kn=mn.next();!kn.done;kn=mn.next())kn=kn.value,kn.segmentIndex&&kn.segmentIndex.release();this.g=[],this.h=[],this.j=[],this.i=[],this.l=[]};function JS(mn,kn,xn){var An,Mn,Un,Bn,zn,Wn,ts,os,ds,ls,ys,Cs,Ns,Os,Ps,Xs,Ds,qs,Qs,ru,ou,hu,gu,ju,Xu,Qu,dl,Du,up,wp;return hs(function(Dl){switch(Dl.g){case 1:if(An=Pu,d1(kn),f1(kn),OE(kn),vP(kn),!xn&&kn.length==1){Mn=kn[0],mn.g=Mn.nd,mn.h=Mn.Od,mn.j=Mn.textStreams,mn.i=Mn.imageStreams,Dl.D(2);break}for(Un=-1,Bn=0;Bn<kn.length;Bn++)zn=kn[Bn],mn.m.has(zn.id)||(mn.m.add(zn.id),Un==-1&&(Un=Bn));if(Un==-1)return Dl.return();for(Wn=kn.map(function(ty){return ty.nd}),ts=kn.map(function(ty){return ty.Od}),os=kn.map(function(ty){return ty.textStreams}),ds=kn.map(function(ty){return ty.imageStreams}),ls=Dn(os),ys=ls.next();!ys.done;ys=ls.next())Cs=ys.value,Cs.push(kP(An.ba));for(Ns=Dn(ds),Os=Ns.next();!Os.done;Os=Ns.next())Ps=Os.value,Ps.push(kP(An.Ac));return Qn(Dl,E_(mn.g,Wn,Un,e$,v0),3);case 3:return Qn(Dl,E_(mn.h,ts,Un,e$,v0),4);case 4:return Qn(Dl,E_(mn.j,os,Un,e$,v0),5);case 5:return Qn(Dl,E_(mn.i,ds,Un,e$,v0),2);case 2:if(Xs=0,Ds=[],mn.h.length&&mn.g.length)for(gu=Dn(mn.g),ju=gu.next();!ju.done;ju=gu.next())for(Xu=ju.value,Qu=Dn(mn.h),dl=Qu.next();!dl.done;dl=Qu.next())Du=dl.value,up=Q$(Xu.drmInfos,Du.drmInfos),Xu.drmInfos.length&&Du.drmInfos.length&&!up.length||(wp=Xs++,Ds.push({id:wp,language:Xu.language,primary:Xu.primary,audio:Xu,video:Du,bandwidth:(Xu.bandwidth||0)+(Du.bandwidth||0),drmInfos:up,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(qs=mn.h.concat(mn.g),Qs=Dn(qs),ru=Qs.next();!ru.done;ru=Qs.next())ou=ru.value,hu=Xs++,Ds.push({id:hu,language:ou.language,primary:ou.primary,audio:ou.type==An.jd?ou:null,video:ou.type==An.Ma?ou:null,bandwidth:ou.bandwidth||0,drmInfos:ou.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});mn.l=Ds,ms(Dl)}})}function d1(mn){mn=Dn(mn);for(var kn=mn.next();!kn.done;kn=mn.next()){kn=kn.value;for(var xn=[],An=Dn(kn.nd),Mn=An.next();!Mn.done;Mn=An.next()){Mn=Mn.value;for(var Un=!1,Bn=Dn(xn),zn=Bn.next();!zn.done;zn=Bn.next())zn=zn.value,Mn.id!=zn.id&&Mn.channelsCount==zn.channelsCount&&Mn.language==zn.language&&Mn.bandwidth==zn.bandwidth&&Mn.label==zn.label&&Mn.codecs==zn.codecs&&Mn.mimeType==zn.mimeType&&Np(Mn.roles,zn.roles)&&Mn.audioSamplingRate==zn.audioSamplingRate&&Mn.primary==zn.primary&&(Un=!0);Un||xn.push(Mn)}kn.nd=xn}}function OE(mn){mn=Dn(mn);for(var kn=mn.next();!kn.done;kn=mn.next()){kn=kn.value;for(var xn=[],An=Dn(kn.textStreams),Mn=An.next();!Mn.done;Mn=An.next()){Mn=Mn.value;for(var Un=!1,Bn=Dn(xn),zn=Bn.next();!zn.done;zn=Bn.next())zn=zn.value,Mn.id!=zn.id&&Mn.language==zn.language&&Mn.label==zn.label&&Mn.codecs==zn.codecs&&Mn.mimeType==zn.mimeType&&Mn.bandwidth==zn.bandwidth&&Np(Mn.roles,zn.roles)&&(Un=!0);Un||xn.push(Mn)}kn.textStreams=xn}}function f1(mn){mn=Dn(mn);for(var kn=mn.next();!kn.done;kn=mn.next()){kn=kn.value;for(var xn=[],An=Dn(kn.Od),Mn=An.next();!Mn.done;Mn=An.next()){Mn=Mn.value;for(var Un=!1,Bn=Dn(xn),zn=Bn.next();!zn.done;zn=Bn.next())zn=zn.value,Mn.id!=zn.id&&Mn.width==zn.width&&Mn.frameRate==zn.frameRate&&Mn.codecs==zn.codecs&&Mn.mimeType==zn.mimeType&&Mn.label==zn.label&&Np(Mn.roles,zn.roles)&&B0(Mn.closedCaptions,zn.closedCaptions)&&Mn.bandwidth==zn.bandwidth&&(Un=!0);Un||xn.push(Mn)}kn.Od=xn}}function vP(mn){mn=Dn(mn);for(var kn=mn.next();!kn.done;kn=mn.next()){kn=kn.value;for(var xn=[],An=Dn(kn.imageStreams),Mn=An.next();!Mn.done;Mn=An.next()){Mn=Mn.value;for(var Un=!1,Bn=Dn(xn),zn=Bn.next();!zn.done;zn=Bn.next())zn=zn.value,Mn.id!=zn.id&&Mn.width==zn.width&&Mn.codecs==zn.codecs&&Mn.mimeType==zn.mimeType&&(Un=!0);Un||xn.push(Mn)}kn.imageStreams=xn}}function Ww(mn){var kn,xn,An,Mn,Un,Bn,zn,Wn,ts,os,ds,ls,ys,Cs,Ns,Os,Ps,Xs,Ds,qs,Qs,ru,ou,hu,gu,ju,Xu;return hs(function(Qu){switch(Qu.g){case 1:if(kn=Pu,mn.length==1)return Qu.return(mn[0]);for(xn=mn.map(function(dl){return dl.filter(function(Du){return Du.type==kn.jd})}),An=mn.map(function(dl){return dl.filter(function(Du){return Du.type==kn.Ma})}),Mn=mn.map(function(dl){return dl.filter(function(Du){return Du.type==kn.ba})}),Un=mn.map(function(dl){return dl.filter(function(Du){return Du.type==kn.Ac})}),Bn=Dn(Mn),zn=Bn.next();!zn.done;zn=Bn.next())Wn=zn.value,Wn.push(TP(kn.ba));for(ts=Dn(Un),os=ts.next();!os.done;os=ts.next())ds=os.value,ds.push(TP(kn.Ac));return Qn(Qu,E_([],xn,0,t$,S_),2);case 2:return ls=Qu.h,Qn(Qu,E_([],An,0,t$,S_),3);case 3:return ys=Qu.h,Qn(Qu,E_([],Mn,0,t$,S_),4);case 4:return Cs=Qu.h,Qn(Qu,E_([],Un,0,t$,S_),5);case 5:if(Ns=Qu.h,Os=0,ys.length&&ls.length)for(Qs=Dn(ls),ru=Qs.next();!ru.done;ru=Qs.next())for(ou=ru.value,hu=Dn(ys),gu=hu.next();!gu.done;gu=hu.next())ju=gu.value,Xu=Os++,ju.variantIds.push(Xu),ou.variantIds.push(Xu);else for(Ps=ys.concat(ls),Xs=Dn(Ps),Ds=Xs.next();!Ds.done;Ds=Xs.next())qs=Ds.value,qs.variantIds=[Os++];return Qu.return(ys.concat(ls).concat(Cs).concat(Ns))}})}function E_(mn,kn,xn,An,Mn){var Un,Bn,zn,Wn,ts,os,ds,ls,ys,Cs,Ns,Os,Ps,Xs,Ds,qs,Qs,ru,ou,hu;return hs(function(gu){switch(gu.g){case 1:for(Un=Pu,Bn=[],zn=0;zn<kn.length;zn++)zn>=xn?Bn.push(new Set(kn[zn])):Bn.push(new Set);Wn=Dn(mn),ts=Wn.next();case 2:if(ts.done){gu.D(4);break}return os=ts.value,Qn(gu,zR(os,kn,xn,Mn,Bn),5);case 5:if(ds=gu.h,!ds)throw new Hs(2,4,4037);ts=Wn.next(),gu.D(2);break;case 4:for(ls=Dn(Bn),ys=ls.next();!ys.done;ys=ls.next())for(Cs=ys.value,Ns=Dn(Cs),Os=Ns.next();!Os.done;Os=Ns.next())Ps=Os.value,(Xs=HR(Ps,kn,An,Mn,Bn))&&mn.push(Xs);for(Ds=Dn(Bn),ys=Ds.next();!ys.done;ys=Ds.next())for(qs=ys.value,Qs={},ru=Dn(qs),Os=ru.next();!Os.done;Qs={sb:Qs.sb},Os=ru.next())if(Qs.sb=Os.value,ou=Qs.sb.type==Un.ba&&!Qs.sb.language,hu=Qs.sb.type==Un.Ac&&!Qs.sb.tilesLayout,!ou&&!hu&&mn.some(function(ju){return function(Xu){return Xu.mimeType==ju.sb.mimeType&&_i(Xu.codecs)==_i(ju.sb.codecs)}}(Qs)))throw new Hs(2,4,4037);return gu.return(mn)}})}function zR(mn,kn,xn,An,Mn){return hs(function(Un){return Un.g==1?(qw(kn,mn),mn.matchedStreams?mn.segmentIndex?Qn(Un,_P(mn,xn),2):Un.D(2):Un.return(!1)):(EP(mn,xn,An,Mn),Un.return(!0))})}function _P(mn,kn){var xn,An,Mn,Un,Bn,zn,Wn;return hs(function(ts){if(ts.g==1){for(xn=[],An=mn.matchedStreams,Mn=Dn(An),Un=Mn.next();!Un.done;Un=Mn.next())Bn=Un.value,xn.push(Bn.createSegmentIndex()),Bn.trickModeVideo&&!Bn.trickModeVideo.segmentIndex&&xn.push(Bn.trickModeVideo.createSegmentIndex());return Qn(ts,Promise.all(xn),2)}if(mn.segmentIndex instanceof ip)for(zn=kn;zn<An.length;zn++)Wn=An[zn],Wn.segmentIndex&&mn.segmentIndex.l.push(Wn.segmentIndex);ms(ts)})}function HR(mn,kn,xn,An,Mn){var Un=xn(mn);return qw(kn,Un),Un.createSegmentIndex&&(Un.createSegmentIndex=function(){return hs(function(Bn){return Un.segmentIndex?Bn.D(0):(Un.segmentIndex=new ip,Qn(Bn,_P(Un,0),0))})}),!Un.matchedStreams||!Un.matchedStreams.length?null:(EP(Un,0,An,Mn),Un)}function EP(mn,kn,xn,An){for(var Mn=mn.matchedStreams,Un=0;Un<Mn.length;Un++)if(Un>=kn){var Bn=Mn[Un];xn(mn,Bn);var zn=!0;mn.type=="audio"&&pm(mn.language,Bn.language)==0&&(zn=!1),zn&&An[Un].delete(Bn)}}function e$(mn){var kn=Object.assign({},mn);return kn.originalId=null,kn.createSegmentIndex=function(){return Promise.resolve()},kn.closeSegmentIndex=function(){if(kn.segmentIndex&&(kn.segmentIndex.release(),kn.segmentIndex=null),kn.matchedStreams)for(var xn=Dn(kn.matchedStreams),An=xn.next();!An.done;An=xn.next())An=An.value,An.segmentIndex&&(An.segmentIndex.release(),An.segmentIndex=null)},kn.segmentIndex=null,kn.emsgSchemeIdUris=[],kn.keyIds=new Set,kn.closedCaptions=null,kn.trickModeVideo=null,kn}function t$(mn){return mn=Object.assign({},mn),mn.keyIds=new Set,mn.segments=[],mn.variantIds=[],mn.closedCaptions=null,mn}function v0(mn,kn){mn.roles=Array.from(new Set(mn.roles.concat(kn.roles))),kn.emsgSchemeIdUris&&(mn.emsgSchemeIdUris=Array.from(new Set(mn.emsgSchemeIdUris.concat(kn.emsgSchemeIdUris)))),mn.keyIds=function(Un,Bn){return new Set([].concat(Kn(Un),Kn(Bn)))}(mn.keyIds,kn.keyIds),mn.originalId==null?mn.originalId=kn.originalId:mn.originalId+=","+(kn.originalId||"");var xn=Q$(mn.drmInfos,kn.drmInfos);if(kn.drmInfos.length&&mn.drmInfos.length&&!xn.length)throw new Hs(2,4,4038);if(mn.drmInfos=xn,mn.encrypted=mn.encrypted||kn.encrypted,kn.closedCaptions){mn.closedCaptions||(mn.closedCaptions=new Map),xn=Dn(kn.closedCaptions);for(var An=xn.next();!An.done;An=xn.next()){var Mn=Dn(An.value);An=Mn.next().value,Mn=Mn.next().value,mn.closedCaptions.set(An,Mn)}}kn.trickModeVideo?(mn.trickModeVideo||(mn.trickModeVideo=e$(kn.trickModeVideo),mn.trickModeVideo.createSegmentIndex=function(){return mn.trickModeVideo.segmentIndex=mn.segmentIndex.clone(),Promise.resolve()}),v0(mn.trickModeVideo,kn.trickModeVideo)):mn.trickModeVideo&&v0(mn.trickModeVideo,kn)}function S_(mn,kn){mn.roles=Array.from(new Set(mn.roles.concat(kn.roles)));var xn=kn.keyIds;if(xn=new Set([].concat(Kn(mn.keyIds),Kn(xn))),mn.keyIds=xn,mn.encrypted=mn.encrypted&&kn.encrypted,mn.segments.push.apply(mn.segments,Kn(kn.segments)),kn.closedCaptions)for(mn.closedCaptions||(mn.closedCaptions=new Map),kn=Dn(kn.closedCaptions),xn=kn.next();!xn.done;xn=kn.next()){var An=Dn(xn.value);xn=An.next().value,An=An.next().value,mn.closedCaptions.set(xn,An)}}function qw(mn,kn){var xn=[];mn=Dn(mn);for(var An=mn.next();!An.done;An=mn.next()){var Mn=kn,Un={audio:vy,video:vy,text:SP,image:qv}[Mn.type],Bn={audio:r$,video:Yw,text:KR,image:$P}[Mn.type],zn=null;An=Dn(An.value);for(var Wn=An.next();!Wn.done;Wn=An.next())Wn=Wn.value,!Un(Mn,Wn)||zn&&!Bn(Mn,zn,Wn)||(zn=Wn);if(Mn=zn,!Mn)return;xn.push(Mn)}kn.matchedStreams=xn}function vy(mn,kn){var xn;return!(xn=kn.mimeType!=mn.mimeType||_i(kn.codecs)!=_i(mn.codecs))&&(xn=mn.drmInfos)&&(mn=mn.drmInfos,kn=kn.drmInfos,xn=!(!(mn.length&&kn.length)||0<Q$(mn,kn).length)),!xn}function SP(mn,kn){return mn.language?kn.language?!(pm(mn.language,kn.language)==0||kn.kind!=mn.kind):!0:!1}function qv(mn){return!!mn.tilesLayout}function r$(mn,kn,xn){if(mn.id==xn.id)return!0;var An=pm(mn.language,kn.language),Mn=pm(mn.language,xn.language);return Mn>An?!0:Mn<An?!1:mn.roles.length?(An=kn.roles.filter(function(Un){return mn.roles.includes(Un)}),Mn=xn.roles.filter(function(Un){return mn.roles.includes(Un)}),Mn.length>An.length?!0:Mn.length<An.length?!1:xn.roles.length<kn.roles.length):!xn.roles.length&&kn.roles.length?!0:xn.roles.length&&!kn.roles.length?!1:!kn.primary&&xn.primary?!0:kn.primary&&!xn.primary?!1:(An=$_(mn.channelsCount,kn.channelsCount,xn.channelsCount),An==Wy?!0:An==mv?!1:(An=$_(mn.audioSamplingRate,kn.audioSamplingRate,xn.audioSamplingRate),An==Wy?!0:An==mv?!1:!!(mn.bandwidth&&bP(mn.bandwidth,kn.bandwidth,xn.bandwidth)==Wy)))}function Yw(mn,kn,xn){if(mn.id==xn.id)return!0;var An=$_(mn.width*mn.height,kn.width*kn.height,xn.width*xn.height);if(An==Wy)return!0;if(An==mv)return!1;if(mn.frameRate){if(An=$_(mn.frameRate,kn.frameRate,xn.frameRate),An==Wy)return!0;if(An==mv)return!1}return!!(mn.bandwidth&&bP(mn.bandwidth,kn.bandwidth,xn.bandwidth)==Wy)}function KR(mn,kn,xn){if(mn.id==xn.id)return!0;var An=pm(mn.language,kn.language),Mn=pm(mn.language,xn.language);if(Mn>An)return!0;if(Mn<An)return!1;if(!kn.primary&&xn.primary)return!0;if(kn.primary&&!xn.primary)return!1;if(mn.roles.length){if(An=kn.roles.filter(function(Un){return mn.roles.includes(Un)}),Mn=xn.roles.filter(function(Un){return mn.roles.includes(Un)}),Mn.length>An.length)return!0;if(Mn.length<An.length)return!1}else{if(!xn.roles.length&&kn.roles.length)return!0;if(xn.roles.length&&!kn.roles.length)return!1}return!(xn.mimeType!=mn.mimeType||xn.codecs!=mn.codecs||kn.mimeType==mn.mimeType&&kn.codecs==mn.codecs)}function $P(mn,kn,xn){return mn.id==xn.id?!0:$_(mn.width*mn.height,kn.width*kn.height,xn.width*xn.height)==Wy}function TP(mn){return{id:0,originalId:"",primary:!1,type:mn,mimeType:"",codecs:"",language:"",label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null}}function kP(mn){return{id:0,originalId:"",createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new vl([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",label:null,type:mn,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null}}function $_(mn,kn,xn){if(kn==mn&&mn!=xn)return mv;if(xn==mn&&mn!=kn)return Wy;if(kn>mn){if(xn<=mn||xn-mn<kn-mn)return Wy;if(xn-mn>kn-mn)return mv}else{if(xn>mn)return mv;if(mn-xn<mn-kn)return Wy;if(mn-xn>mn-kn)return mv}return xP}function bP(mn,kn,xn){return kn=Math.abs(mn-kn),mn=Math.abs(mn-xn),mn<kn?Wy:kn<mn?mv:xP}var Wy=1,xP=0,mv=-1;function _0(){var mn=this;this.h=this.g=null,this.m=[],this.i=null,this.I=1,this.l={},this.M={},this.j=new Kw,this.H=0,this.J=new M_(5),this.G=new Tu(function(){Zw(mn)}),this.s=new Fy,this.B=null,this.K=[],this.C=1/0,this.F=!1}En=_0.prototype,En.configure=function(mn){this.g=mn},En.start=function(mn,kn){var xn=this,An;return hs(function(Mn){if(Mn.g==1)return xn.F=kn.isLowLatencyMode(),xn.m=[mn],xn.h=kn,Qn(Mn,Xw(xn),2);if(An=Mn.h,xn.h&&Yu(xn,An),!xn.h)throw new Hs(2,7,7001);return Mn.return(xn.i)})},En.stop=function(){for(var mn=Dn(Object.values(this.l)),kn=mn.next();!kn.done;kn=mn.next())kn=kn.value,kn.segmentIndex&&kn.segmentIndex.release();return this.j&&this.j.release(),this.g=this.h=null,this.m=[],this.i=null,this.l={},this.j=null,this.G!=null&&(this.G.stop(),this.G=null),this.s.destroy()},En.update=function(){var mn=this,kn;return hs(function(xn){if(xn.g==1)return $s(xn,2),Qn(xn,Xw(mn),4);if(xn.g!=2)return gs(xn,0);if(kn=Ss(xn),!mn.h||!kn)return xn.return();mn.h.onError(kn),ms(xn)})},En.onExpirationUpdated=function(){};function Xw(mn){var kn,xn,An,Mn,Un,Bn,zn;return hs(function(Wn){return Wn.g==1?(kn=ll(mn.m,mn.g.retryParameters),xn=mn.h.networkingEngine,mn.h.modifyManifestRequest(kn,{format:"d"}),An=Date.now(),Mn=xn.request(0,kn),H_(mn.s,Mn),Qn(Wn,Mn.promise,2)):Wn.g!=3?(Un=Wn.h,mn.h?(Un.uri&&!mn.m.includes(Un.uri)&&mn.m.unshift(Un.uri),Qn(Wn,WR(mn,Un.data,Un.uri),3)):Wn.return(0)):(Bn=Date.now(),zn=(Bn-An)/1e3,mn.J.sample(1,zn),Wn.return(zn))})}function WR(mn,kn,xn){var An,Mn,Un,Bn;return hs(function(zn){if(zn.g==1){if(An=cx(kn,"MPD"),!An)throw new Hs(2,4,4001,xn);return mn.g.dash.disableXlinkProcessing?zn.return(Qw(mn,An,xn)):(Mn=mn.g.dash.xlinkFailGracefully,Un=ZS(An,mn.g.retryParameters,Mn,xn,mn.h.networkingEngine),H_(mn.s,Un),Qn(zn,Un.promise,2))}return Bn=zn.h,zn.return(Qw(mn,Bn,xn))})}function Qw(mn,kn,xn){var An,Mn,Un,Bn,zn,Wn,ts,os,ds,ls,ys,Cs,Ns,Os,Ps,Xs,Ds,qs,Qs,ru,ou,hu,gu,ju,Xu,Qu,dl,Du,up,wp;return hs(function(Dl){switch(Dl.g){case 1:if((An=mn.g.dash.manifestPreprocessor)&&An(kn),Mn=[xn],Un=Xl(kn,"Location").map(Gm).filter(Zl),0<Un.length&&(Bn=Zp(Mn,Un),Mn=mn.m=Bn),zn=Xl(kn,"BaseURL"),Wn=zn.map(Gm),ts=Zp(Mn,Wn),os=0,zn&&zn.length&&(os=Kl(zn[0],"availabilityTimeOffset",W0)||0),ds=mn.g.dash.ignoreMinBufferTime,ls=0,ds||(ls=Kl(kn,"minBufferTime",sv)||0),mn.H=Kl(kn,"minimumUpdatePeriod",sv,-1),ys=Kl(kn,"availabilityStartTime",K0),Cs=Kl(kn,"timeShiftBufferDepth",sv),Ns=mn.g.dash.ignoreSuggestedPresentationDelay,Os=null,Ns||(Os=Kl(kn,"suggestedPresentationDelay",sv)),Ps=mn.g.dash.ignoreMaxSegmentDuration,Xs=null,Ps||(Xs=Kl(kn,"maxSegmentDuration",sv)),Ds=kn.getAttribute("type")||"static",mn.i)for(qs=mn.i.presentationTimeline,Qs=Dn(Object.values(mn.l)),ru=Qs.next();!ru.done;ru=Qs.next())ou=ru.value,ou.segmentIndex&&ou.segmentIndex.Gb(qs.kb());else hu=mn.g.defaultPresentationDelay||1.5*ls,gu=Os??hu,qs=new Gu(ys,gu,mn.g.dash.autoCorrectDrift);return qs.$c(Ds=="static"),qs.U()&&!isNaN(mn.g.availabilityWindowOverride)&&(Cs=mn.g.availabilityWindowOverride),Cs==null&&(Cs=1/0),qs.Re(Cs),ju=kn.getAttribute("profiles")||"",Xu={vb:Ds!="static",presentationTimeline:qs,oa:null,Y:null,va:null,L:null,bandwidth:0,Mf:!1,Zb:os,profiles:ju.split(",")},Qu=qR(mn,Xu,ts,kn),dl=Qu.duration,Du=Qu.periods,Ds!="static"&&Qu.Df||qs.Sa(dl||1/0),mn.C&&!mn.F&&mn.h.isAutoLowLatencyMode()&&(mn.h.enableLowLatencyMode(),mn.F=mn.h.isLowLatencyMode()),mn.F?qs.Tf(mn.C):mn.C&&$u("Low-latency DASH live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),qs.ze(Xs||1),Qn(Dl,JS(mn.j,Du,Xu.vb),2);case 2:if(mn.i){mn.i.variants=mn.j.l,mn.i.textStreams=mn.j.j.slice(),mn.i.imageStreams=mn.j.i,mn.h.filter(mn.i),Dl.D(3);break}if(mn.i={presentationTimeline:qs,variants:mn.j.l,textStreams:mn.j.j.slice(),imageStreams:mn.j.i,offlineSessionIds:[],minBufferTime:ls||0,sequenceMode:mn.g.dash.sequenceMode},!qs.eg()){Dl.D(4);break}return up=Xl(kn,"UTCTiming"),Qn(Dl,PP(mn,ts,up),5);case 5:if(wp=Dl.h,!mn.h)return Dl.return();qs.Uf(wp);case 4:qs.ve();case 3:mn.h.makeTextStreamsForClosedCaptions(mn.i),ms(Dl)}})}function qR(mn,kn,xn,An){var Mn=Kl(An,"mediaPresentationDuration",sv),Un=[],Bn=0;An=Xl(An,"Period");for(var zn=0;zn<An.length;zn++){var Wn=An[zn],ts=An[zn+1],os=Kl(Wn,"start",sv,Bn),ds=Wn.id,ls=Kl(Wn,"duration",sv),ys=null;if(ts){var Cs=Kl(ts,"start",sv);Cs!=null&&(ys=Cs-os)}else Mn!=null&&(ys=Mn-os);if(ys==null&&(ys=ls),!(mn.B!==null&&ds!==null&&os!==null&&os<mn.B)||mn.K.includes(ds)||zn+1==An.length){if(os!==null&&(mn.B===null||os>mn.B)&&(mn.B=os),Bn=YR(mn,kn,xn,{start:os,duration:ys,node:Wn,oe:ys==null||!ts}),Un.push(Bn),kn.oa.id&&ys&&(mn.M[kn.oa.id]=ys),ys==null){Bn=null;break}Bn=os+ys}}return mn.K=Un.map(function(Ns){return Ns.id}),Mn!=null?{periods:Un,duration:Mn,Df:!1}:{periods:Un,duration:Bn,Df:!0}}function YR(mn,kn,xn,An){kn.oa=tp(An.node,null,xn),kn.Y=An,kn.oa.Zb=kn.Zb,kn.oa.id||(kn.oa.id="__shaka_period_"+An.start);var Mn=Xl(An.node,"EventStream");xn=kn.presentationTimeline.kb(),Mn=Dn(Mn);for(var Un=Mn.next();!Un.done;Un=Mn.next())um(mn,An.start,An.duration,Un.value,xn);if(xn=Xl(An.node,"AdaptationSet").map(function(os){return wP(mn,kn,os)}).filter(Zl),kn.vb){for(An=[],Mn=Dn(xn),Un=Mn.next();!Un.done;Un=Mn.next()){Un=Dn(Un.value.Ah);for(var Bn=Un.next();!Bn.done;Bn=Un.next())An.push(Bn.value)}if(An.length!=new Set(An).size)throw new Hs(2,4,4018)}for(An=xn.filter(function(os){return!os.Ye}),xn=xn.filter(function(os){return os.Ye}),xn=Dn(xn),Mn=xn.next();!Mn.done;Mn=xn.next()){Mn=Mn.value,Un=Mn.Ye.split(" "),Bn=Dn(An);for(var zn=Bn.next();!zn.done;zn=Bn.next()){var Wn=zn.value;if(Un.includes(Wn.id)){zn={},Wn=Dn(Wn.streams);for(var ts=Wn.next();!ts.done;zn={hd:zn.hd},ts=Wn.next())zn.hd=ts.value,zn.hd.trickModeVideo=Mn.streams.find(function(os){return function(ds){return _i(os.hd.codecs)==_i(ds.codecs)}}(zn))}}}if(Mn=mn.g.disableAudio?[]:p1(An,"audio"),Bn=mn.g.disableVideo?[]:p1(An,"video"),Un=mn.g.disableText?[]:p1(An,Vu),xn=mn.g.disableThumbnails?[]:p1(An,"image"),!Bn.length&&!Mn.length)throw new Hs(2,4,4004);for(An=[],Mn=Dn(Mn),zn=Mn.next();!zn.done;zn=Mn.next())An.push.apply(An,Kn(zn.value.streams));for(Mn=[],Bn=Dn(Bn),zn=Bn.next();!zn.done;zn=Bn.next())Mn.push.apply(Mn,Kn(zn.value.streams));for(Bn=[],Un=Dn(Un),zn=Un.next();!zn.done;zn=Un.next())Bn.push.apply(Bn,Kn(zn.value.streams));for(Un=[],xn=Dn(xn),zn=xn.next();!zn.done;zn=xn.next())Un.push.apply(Un,Kn(zn.value.streams));return{id:kn.oa.id,nd:An,Od:Mn,textStreams:Bn,imageStreams:Un}}function p1(mn,kn){return mn.filter(function(xn){return xn.contentType==kn})}function wP(mn,kn,xn){function An(ru){switch(ru){case 1:case 6:case 13:case 14:case 15:return"SDR";case 16:return"PQ";case 18:return"HLG"}}kn.va=tp(xn,kn.oa,null);var Mn=!1,Un=Xl(xn,"Role"),Bn=Un.map(function(ru){return ru.getAttribute("value")}).filter(Zl),zn=void 0,Wn=kn.va.contentType==Vu;Wn&&(zn="subtitle"),Un=Dn(Un);for(var ts=Un.next();!ts.done;ts=Un.next()){ts=ts.value;var os=ts.getAttribute("schemeIdUri");if(os==null||os=="urn:mpeg:dash:role:2011")switch(ts=ts.getAttribute("value"),ts){case"main":Mn=!0;break;case"caption":case"subtitle":zn=ts}}var ds;os=Xl(xn,"EssentialProperty"),Un=null,ts=!1,os=Dn(os);for(var ls=os.next();!ls.done;ls=os.next()){ls=ls.value;var ys=ls.getAttribute("schemeIdUri");ys=="http://dashif.org/guidelines/trickmode"?Un=ls.getAttribute("value"):ys=="urn:mpeg:mpegB:cicp:TransferCharacteristics"?ds=An(parseInt(ls.getAttribute("value"),10)):ts=!0}for(os=Xl(xn,"SupplementalProperty"),os=Dn(os),ls=os.next();!ls.done;ls=os.next())ls=ls.value,ls.getAttribute("schemeIdUri")=="urn:mpeg:mpegB:cicp:TransferCharacteristics"&&(ds=An(parseInt(ls.getAttribute("value"),10)));os=Xl(xn,"Accessibility");var Cs=new Map;for(os=Dn(os),ls=os.next();!ls.done;ls=os.next())if(ys=ls.value,ls=ys.getAttribute("schemeIdUri"),ys=ys.getAttribute("value"),ls=="urn:scte:dash:cc:cea-608:2015")if(ls=1,ys!=null){ys=ys.split(";");for(var Ns=Dn(ys),Os=Ns.next();!Os.done;Os=Ns.next()){var Ps=Os.value,Xs=Os=void 0;Ps.includes("=")?(Ps=Ps.split("="),Os=Ps[0].startsWith("CC")?Ps[0]:"CC"+Ps[0],Xs=Ps[1]||"und"):(Os="CC"+ls,ys.length==2?ls+=2:ls++,Xs=Ps),Cs.set(Os,ol(Xs))}}else Cs.set("CC1","und");else if(ls=="urn:scte:dash:cc:cea-708:2015")if(ls=1,ys!=null)for(ys=Dn(ys.split(";")),Os=ys.next();!Os.done;Os=ys.next())Os=Os.value,Ps=Ns=void 0,Os.includes("=")?(Os=Os.split("="),Ns="svc"+Os[0],Ps=Os[1].split(",")[0].split(":").pop()):(Ns="svc"+ls,ls++,Ps=Os),Cs.set(Ns,ol(Ps));else Cs.set("svc1","und");else ls=="urn:mpeg:dash:role:2011"&&ys!=null&&(Bn.push(ys),ys=="captions"&&(zn="caption"));if(ts)return null;ts=Xl(xn,"ContentProtection");var Ds=Gw(ts,mn.g.dash.ignoreDrmInfo,mn.g.dash.keySystemsByURI),qs=ol(xn.getAttribute("lang")||"und"),Qs=xn.getAttribute("label");if((ts=Xl(xn,"Label"))&&ts.length&&(ts=ts[0],ts.textContent&&(Qs=ts.textContent)),ts=Xl(xn,"Representation"),xn=ts.map(function(ru){return(ru=CP(mn,kn,Ds,zn,qs,Qs,Mn,Bn,Cs,ru))&&(ru.hdr=ru.hdr||ds),ru}).filter(function(ru){return!!ru}),xn.length==0){if(Un=kn.va.contentType=="image",mn.g.dash.ignoreEmptyAdaptationSet||Wn||Un)return null;throw new Hs(2,4,4003)}if(!kn.va.contentType||kn.va.contentType=="application")for(kn.va.contentType=E0(xn[0].mimeType,xn[0].codecs),Wn=Dn(xn),os=Wn.next();!os.done;os=Wn.next())os.value.type=kn.va.contentType;for(Wn=Dn(xn),os=Wn.next();!os.done;os=Wn.next())for(os=os.value,ls=Dn(Ds.drmInfos),ys=ls.next();!ys.done;ys=ls.next())ys=ys.value,ys.keyIds=ys.keyIds&&os.keyIds?new Set([].concat(Kn(ys.keyIds),Kn(os.keyIds))):ys.keyIds||os.keyIds;return Wn=ts.map(function(ru){return ru.getAttribute("id")}).filter(Zl),{id:kn.va.id||"__fake__"+mn.I++,contentType:kn.va.contentType,language:qs,qj:Mn,streams:xn,drmInfos:Ds.drmInfos,Ye:Un,Ah:Wn}}function CP(mn,kn,xn,An,Mn,Un,Bn,zn,Wn,ts){if(kn.L=tp(ts,kn.va,null),mn.C=Math.min(mn.C,kn.L.Zb),!IP(kn.L))return null;var os=kn.Y.start;kn.bandwidth=Kl(ts,"bandwidth",W$)||0;var ds=kn.L.contentType,ls=ds==Vu||ds=="application";ds=ds=="image";try{var ys=function(ru,ou,hu){return h1(mn,ru,ou,hu)};if(kn.L.Yc)var Cs=NR(kn,ys);else if(kn.L.Db)Cs=LR(kn,mn.l);else if(kn.L.Zc)Cs=BR(kn,ys,mn.l,!!mn.i,mn.g.dash.initialSegmentLimit,mn.M);else{var Ns=kn.L.Na,Os=kn.Y.duration||0;Cs={ac:function(){return Promise.resolve(rw(os,Os,Ns))}}}}catch(ru){if((ls||ds)&&ru.code==4002)return null;throw ru}ys=Xl(ts,"ContentProtection"),ys=pv(ys,xn,mn.g.dash.ignoreDrmInfo,mn.g.dash.keySystemsByURI),ys=new Set(ys?[ys]:[]);var Ps=!1;Xl(ts,"SupplementalProperty").some(function(ru){return ru.getAttribute("schemeIdUri")=="tag:dolby.com,2018:dash:EC3_ExtensionType:2018"&&ru.getAttribute("value")=="JOC"})&&(Ps=!0);var Xs=!1;ls&&(Xs=zn.includes("forced_subtitle")||zn.includes("forced-subtitle"));var Ds;if(ds&&((ts=Xl(ts,"EssentialProperty").find(function(ru){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(ru.getAttribute("schemeIdUri"))}))&&(Ds=ts.getAttribute("value")),!Ds))return null;var qs;ts=kn.L.codecs,kn.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(ts.includes("hvc1.2.4.L153.B0")||ts.includes("hev1.2.4.L153.B0"))&&(qs="PQ"),ts=kn.L.id?kn.oa.id+","+kn.L.id:"";var Qs=ts&&mn.l[ts]?mn.l[ts]:{id:mn.I++,originalId:kn.L.id,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){Qs.segmentIndex&&(Qs.segmentIndex.release(),Qs.segmentIndex=null)},segmentIndex:null,mimeType:kn.L.mimeType,codecs:kn.L.codecs,frameRate:kn.L.frameRate,pixelAspectRatio:kn.L.pixelAspectRatio,bandwidth:kn.bandwidth,width:kn.L.width,height:kn.L.height,kind:An,encrypted:0<xn.drmInfos.length,drmInfos:xn.drmInfos,keyIds:ys,language:Mn,label:Un,type:kn.va.contentType,primary:Bn,trickModeVideo:null,emsgSchemeIdUris:kn.L.emsgSchemeIdUris,roles:zn,forced:Xs,channelsCount:kn.L.Cd,audioSamplingRate:kn.L.audioSamplingRate,spatialAudio:Ps,closedCaptions:Wn,hdr:qs,tilesLayout:Ds,matchedStreams:[]};return Qs.createSegmentIndex=function(){var ru;return hs(function(ou){if(ou.g==1)return Qs.segmentIndex?ou.D(0):(ru=Qs,Qn(ou,Cs.ac(),3));ru.segmentIndex=ou.h,ms(ou)})},ts&&kn.vb&&!mn.l[ts]&&(mn.l[ts]=Qs),Qs}function Zw(mn){var kn,xn;hs(function(An){switch(An.g){case 1:return kn=0,$s(An,2),Qn(An,Xw(mn),4);case 4:kn=An.h,gs(An,3);break;case 2:xn=Ss(An),mn.h&&(xn.severity=1,mn.h.onError(xn));case 3:if(!mn.h)return An.return();Yu(mn,kn),ms(An)}})}function Yu(mn,kn){0>mn.H||mn.G.R(Math.max(3,mn.H-kn,bv(mn.J)))}function tp(mn,kn,xn){kn=kn||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,Cd:null,audioSamplingRate:null,Zb:0},xn=xn||kn.Na;var An=Xl(mn,"BaseURL"),Mn=An.map(Gm),Un=mn.getAttribute("contentType")||kn.contentType,Bn=mn.getAttribute("mimeType")||kn.mimeType,zn=mn.getAttribute("codecs")||kn.codecs,Wn=Kl(mn,"frameRate",$M)||kn.frameRate,ts=mn.getAttribute("sar")||kn.pixelAspectRatio,os=Xl(mn,"InbandEventStream"),ds=kn.emsgSchemeIdUris.slice();os=Dn(os);for(var ls=os.next();!ls.done;ls=os.next())ls=ls.value.getAttribute("schemeIdUri"),ds.includes(ls)||ds.push(ls);os=Xl(mn,"AudioChannelConfiguration"),os=AP(os)||kn.Cd,ls=Kl(mn,"audioSamplingRate",uv)||kn.audioSamplingRate,Un||(Un=E0(Bn,zn));var ys=lS(mn,"SegmentBase"),Cs=lS(mn,"SegmentTemplate"),Ns=ys&&Kl(ys,"availabilityTimeOffset",W0)||0,Os=Cs&&Kl(Cs,"availabilityTimeOffset",W0)||0;return An=An&&An.length&&Kl(An[0],"availabilityTimeOffset",W0)||0,An=kn.Zb+An+Ns+Os,{Na:Zp(xn,Mn),Yc:ys||kn.Yc,Db:lS(mn,"SegmentList")||kn.Db,Zc:Cs||kn.Zc,width:Kl(mn,"width",uv)||kn.width,height:Kl(mn,"height",uv)||kn.height,contentType:Un,mimeType:Bn,codecs:zn,frameRate:Wn,pixelAspectRatio:ts,emsgSchemeIdUris:ds,id:mn.getAttribute("id"),Cd:os,audioSamplingRate:ls,Zb:An}}function AP(mn){mn=Dn(mn);for(var kn=mn.next();!kn.done;kn=mn.next()){var xn=kn.value;if((kn=xn.getAttribute("schemeIdUri"))&&(xn=xn.getAttribute("value")))switch(kn){case"urn:mpeg:dash:outputChannelPositionList:2012":return xn.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(kn=parseInt(xn,10),!kn)continue;return kn;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(kn=parseInt(xn,16),!kn)continue;for(mn=0;kn;)kn&1&&++mn,kn>>=1;return mn;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(kn=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(xn=parseInt(xn,10))&&0<xn&&xn<kn.length)return kn[xn]}}return null}function IP(mn){var kn=mn.Yc?1:0;return kn+=mn.Db?1:0,kn+=mn.Zc?1:0,kn==0?mn.contentType==Vu||mn.contentType=="application":(kn!=1&&(mn.Yc&&(mn.Db=null),mn.Zc=null),!0)}function qy(mn,kn,xn,An){var Mn,Un,Bn,zn,Wn,ts;return hs(function(os){if(os.g==1)return Mn=Zp(kn,[xn]),Un=ll(Mn,mn.g.retryParameters),Un.method=An,Bn=mn.h.networkingEngine.request(4,Un),H_(mn.s,Bn),Qn(os,Bn.promise,2);if(zn=os.h,An=="HEAD"){if(!zn.headers||!zn.headers.date)return os.return(0);Wn=zn.headers.date}else Wn=xl(zn.data);return ts=Date.parse(Wn),isNaN(ts)?os.return(0):os.return(ts-Date.now())})}function PP(mn,kn,xn){var An,Mn,Un,Bn,zn,Wn,ts,os;return hs(function(ds){switch(ds.g){case 1:An=xn.map(function(ls){return{scheme:ls.getAttribute("schemeIdUri"),value:ls.getAttribute("value")}}),Mn=mn.g.dash.clockSyncUri,!An.length&&Mn&&An.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:Mn}),Un=Dn(An),Bn=Un.next();case 2:if(Bn.done){ds.D(4);break}switch(zn=Bn.value,$s(ds,5),Wn=zn.scheme,ts=zn.value,Wn){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return ds.D(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return ds.D(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return os=Date.parse(ts),ds.return(isNaN(os)?0:os-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":$u("NTP UTCTiming scheme is not supported");break;default:$u("Unrecognized scheme in UTCTiming element",Wn)}ds.D(9);break;case 7:return Qn(ds,qy(mn,kn,ts,"HEAD"),10);case 10:return ds.return(ds.h);case 8:return Qn(ds,qy(mn,kn,ts,"GET"),11);case 11:return ds.return(ds.h);case 9:gs(ds,3);break;case 5:Ss(ds);case 3:Bn=Un.next(),ds.D(2);break;case 4:return $u("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),ds.return(0)}})}function um(mn,kn,xn,An,Mn){var Un=An.getAttribute("schemeIdUri")||"",Bn=An.getAttribute("value")||"",zn=Kl(An,"timescale",uv)||1;An=Dn(Xl(An,"Event"));for(var Wn=An.next();!Wn.done;Wn=An.next()){Wn=Wn.value;var ts=Kl(Wn,"presentationTime",uv)||0,os=Kl(Wn,"duration",uv)||0;ts=ts/zn+kn,os=ts+os/zn,xn!=null&&(ts=Math.min(ts,kn+xn),os=Math.min(os,kn+xn)),os<Mn||(Wn={schemeIdUri:Un,value:Bn,startTime:ts,endTime:os,id:Wn.getAttribute("id")||"",eventElement:Wn},mn.h.onTimelineRegionAdded(Wn))}}function h1(mn,kn,xn,An){var Mn,Un,Bn,zn,Wn;return hs(function(ts){return ts.g==1?(Mn=Pv,Un=g_(kn,xn,An,mn.g.retryParameters),Bn=mn.h.networkingEngine,zn=Bn.request(Mn,Un),H_(mn.s,zn),Qn(ts,zn.promise,2)):(Wn=ts.h,ts.return(Wn.data))})}function E0(mn,kn){return ks(Vm(mn,kn))?Vu:mn.split("/")[0]}Ys("shaka.dash.DashParser",_0),d_.mpd=function(){return new _0},zm["application/dash+xml"]=function(){return new _0},zm["video/vnd.mpeg.dash.mpd"]=function(){return new _0};function T_(mn,kn,xn,An){this.h=mn,this.type=kn,this.g=xn,this.segments=An||null}function k_(mn,kn,xn,An){this.id=mn,this.name=kn,this.g=xn,this.value=An===void 0?null:An}k_.prototype.toString=function(){function mn(An){return An.name+"="+(isNaN(Number(An.value))?'"'+An.value+'"':An.value)}var kn="#"+this.name,xn=this.g?this.g.map(mn):[];return this.value&&xn.unshift(this.value),0<xn.length&&(kn+=":"+xn.join(",")),kn},k_.prototype.getAttribute=function(mn){var kn=this.g.filter(function(xn){return xn.name==mn});return kn.length?kn[0]:null};function Lu(mn,kn,xn){return(mn=mn.getAttribute(kn))?mn.value:xn||null}function Fl(mn,kn){if(mn=mn.getAttribute(kn),!mn)throw new Hs(2,4,4023,kn);return mn.value}function OP(mn,kn,xn){xn=xn===void 0?[]:xn,this.g=kn,this.i=mn,this.h=xn}function m1(mn,kn){this.name=mn,this.value=kn}function _y(mn,kn){return mn.filter(function(xn){return xn.name==kn})}function Jw(mn,kn){return mn.filter(function(xn){return Fl(xn,"TYPE")==kn})}function lm(mn,kn){return mn=_y(mn,kn),mn.length?mn[0]:null}function n$(mn,kn){var xn=0;return xn=xn===void 0?0:xn,(mn=lm(mn,kn))?Number(mn.value):xn}function S0(mn,kn){return Zp([mn],[kn])[0]}function Yv(mn){this.h=mn,this.g=0}function gv(mn){yv(mn,/[ \t]+/gm)}function yv(mn,kn){return kn.lastIndex=mn.g,kn=kn.exec(mn.h),kn=kn==null?null:{position:kn.index,length:kn[0].length,results:kn},mn.g==mn.h.length||kn==null||kn.position!=mn.g?null:(mn.g+=kn.length,kn.results)}function $0(mn){return mn.g==mn.h.length?null:(mn=yv(mn,/[^ \t\n]*/gm))?mn[0]:null}function XR(){this.g=0}function eC(mn,kn,xn){kn=xl(kn),kn=kn.replace(/\r\n|\r(?=[^\n]|$)/gm,`
`).trim();var An=kn.split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(An[0]))throw new Hs(2,4,4015);kn=0;for(var Mn=!0,Un=Dn(An),Bn=Un.next();!Bn.done;Bn=Un.next())if(Bn=Bn.value,/^#(?!EXT)/m.test(Bn)||Mn)Mn=!1;else if(Bn=g1(mn,Bn),--mn.g,MP.includes(Bn.name)){kn=1;break}else Bn.name=="EXT-X-STREAM-INF"&&(Mn=!0);for(Un=[],Mn=!0,Bn=0;Bn<An.length;Bn++){var zn=An[Bn],Wn=An[Bn+1];if(/^#(?!EXT)/m.test(zn)||Mn)Mn=!1;else{if(zn=g1(mn,zn),RP.includes(zn.name)){if(kn!=1)throw new Hs(2,4,4017);var ts=An.splice(Bn,An.length-Bn);An=xn,Mn=[],Bn=[],Wn=[],zn=null,ts=Dn(ts);for(var os=ts.next();!os.done;os=ts.next())os=os.value,/^(#EXT)/.test(os)?(os=g1(mn,os),MP.includes(os.name)?Un.push(os):os.name=="EXT-X-MAP"?zn=os:os.name=="EXT-X-PART"?Wn.push(os):os.name=="EXT-X-PRELOAD-HINT"?Lu(os,"TYPE")=="PART"?Wn.push(os):Lu(os,"TYPE")=="MAP"&&(os.name="EXT-X-MAP",zn=os):Bn.push(os)):/^#(?!EXT)/m.test(os)||(os=S0(An,os.trim()),zn&&Bn.push(zn),Mn.push(new OP(os,Bn,Wn)),Bn=[],Wn=[]);return Wn.length&&(zn&&Bn.push(zn),Mn.push(new OP("",Bn,Wn))),new T_(xn,kn,Un,Mn)}Un.push(zn),zn.name=="EXT-X-STREAM-INF"&&(zn.g.push(new m1("URI",Wn)),Mn=!0)}}return new T_(xn,kn,Un)}function g1(mn,kn){mn=mn.g++;var xn=kn.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!xn)throw new Hs(2,4,4016,kn);kn=xn[1];var An=xn[2];xn=[];var Mn;if(An){An=new Yv(An);var Un;(Un=yv(An,/^([^,=]+)(?:,|$)/g))&&(Mn=Un[1]);for(var Bn=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;Un=yv(An,Bn);)xn.push(new m1(Un[1],Un[2]||Un[3])),gv(An)}return new k_(mn,kn,xn,Mn)}var MP="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP".split(" "),RP="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP".split(" ");function tC(){}function NP(mn){try{var kn=rC(mn);return tm({uri:mn,originalUri:mn,data:kn.data,headers:{"content-type":kn.contentType}})}catch(xn){return Sl(xn)}}function rC(mn){var kn=mn.split(":");if(2>kn.length||kn[0]!="data")throw new Hs(2,1,1004,mn);if(kn=kn.slice(1).join(":").split(","),2>kn.length)throw new Hs(2,1,1004,mn);var xn=kn[0];mn=pn.decodeURIComponent(kn.slice(1).join(",")),kn=xn.split(";"),xn=kn[0];var An=!1;1<kn.length&&kn[kn.length-1]=="base64"&&(An=!0,kn.pop());var Mn;return An?Mn=Lp(mn):Mn=Kp(mn),{data:Mn,contentType:xn}}Ys("shaka.net.DataUriPlugin",tC),tC.parse=NP,gm("data",NP);function i$(){var mn=this;this.g=this.i=null,this.sa=1,this.s=new Map,this.C=new Map,this.H=new Map,this.H.set("video",new Map),this.H.set("audio",new Map),this.H.set(Vu,new Map),this.H.set("image",new Map),this.ka=new Set,this.h=new Map,this.j=null,this.O="",this.X=new XR,this.P=0,this.F=-1,this.J=1/0,this.ua=!1,this.m=new Tu(function(){pC(mn)}),this.aa=I1,this.G=null,this.$=0,this.K=1/0,this.V=this.ra=0,this.I=new Fy,this.M=new Map,this.B=new Map,this.Z=new Map,this.l=!1}En=i$.prototype,En.configure=function(mn){this.g=mn},En.start=function(mn,kn){var xn=this,An;return hs(function(Mn){return Mn.g==1?(xn.i=kn,xn.l=kn.isLowLatencyMode(),Qn(Mn,C1(xn,mn),2)):Mn.g!=3?(An=Mn.h,xn.O=An.uri,Qn(Mn,ZR(xn,An.data,mn),3)):Mn.return(xn.G)})},En.stop=function(){this.m&&(this.m.stop(),this.m=null);var mn=[];return this.I&&(mn.push(this.I.destroy()),this.I=null),this.g=this.i=null,this.ka.clear(),this.G=null,this.h.clear(),this.C.clear(),this.B.clear(),this.s.clear(),Promise.all(mn)},En.update=function(){var mn=this,kn,xn,An,Mn,Un,Bn,zn,Wn,ts;return hs(function(os){if(os.g==1){if(!Sy(mn))return os.return();for(kn=[],xn=Array.from(mn.h.values()),An=xn.filter(function(ds){return ds.stream.segmentIndex}),Mn=Dn(An),Un=Mn.next();!Un.done;Un=Mn.next())Bn=Un.value,kn.push(QR(mn,Bn));return Qn(os,Promise.all(kn),2)}GP(mn,An.map(function(ds){return ds.stream})),zn=An.some(function(ds){return ds.Lc==0}),An.length&&!zn&&(Wn=qP,a$(mn,Wn.ig),ts=An.map(function(ds){return ds.Ab}),mn.j.Sa(Math.min.apply(Math,Kn(ts))),mn.i.updateDuration()),ms(os)})};function nC(mn,kn){return Sy(mn)?mn.H.get(kn.type):kn.zd}function QR(mn,kn){var xn,An,Mn,Un,Bn,zn,Wn,ts,os,ds,ls,ys,Cs,Ns,Os,Ps;return hs(function(Xs){if(Xs.g==1)return xn=kn.ld,An=new Iu(xn),mn.l&&kn.pd&&Cy(An,new Py("_HLS_skip=YES")),Qn(Xs,C1(mn,An.toString()),2);if(Mn=Xs.h,!kn.stream.segmentIndex)return Xs.return();if(Un=eC(mn.X,Mn.data,Mn.uri),Un.type!=1)throw new Hs(2,4,4017);Bn=_y(Un.g,"EXT-X-DEFINE"),zn=y1(mn,Bn),Wn=kn.stream,ts=nC(mn,kn),os=S1(Un,Wn.mimeType),ds=os.keyIds,ls=os.drmInfos,ys=function(Ds,qs){return Ds.size===qs.size&&[].concat(Kn(Ds)).every(function(Qs){return qs.has(Qs)})},ys(Wn.keyIds,ds)||(Wn.keyIds=ds,Wn.drmInfos=ls,mn.i.newDrmInfo(Wn)),Cs=k1(mn,Un,Wn.type,ts,zn),Wn.segmentIndex.kc(Cs,mn.j.kb()),Cs.length&&(Ns=n$(Un.g,"EXT-X-MEDIA-SEQUENCE"),Os=ts.get(Ns),Wn.segmentIndex.Gb(Os)),Ps=Cs[Cs.length-1],lm(Un.g,"EXT-X-ENDLIST")&&(kn.Lc=!0,kn.Ab=Ps.endTime),ms(Xs)})}En.onExpirationUpdated=function(){};function DP(mn,kn){for(var xn=mn.F==-1,An=Dn(kn),Mn=An.next();!Mn.done;Mn=An.next()){Mn=Mn.value;var Un=Mn.stream.segmentIndex,Bn=nC(mn,Mn);if(Un=Un.g[0]||null){Bn=Dn(Bn);for(var zn=Bn.next();!zn.done;zn=Bn.next()){zn=Dn(zn.value);var Wn=zn.next().value;if(zn.next().value==Un.startTime){xn&&(mn.F=Math.max(mn.F,Wn)),Mn.ke=Wn;break}}}}if(!(0>mn.F))for(kn=Dn(kn),Mn=kn.next();!Mn.done;Mn=kn.next())xn=Mn.value,(An=xn.stream.segmentIndex)&&(An.g.splice(0,mn.F-xn.ke),(An=An.g[0]||null)&&(An=-An.startTime,xn.stream.segmentIndex.offset(An),aC(mn,xn,An)))}function iC(mn,kn){if(mn.J==1/0){kn=Dn(kn);for(var xn=kn.next();!xn.done;xn=kn.next()){var An=xn.value.stream.segmentIndex.g[0]||null;An!=null&&An.g!=null&&(mn.J=Math.min(mn.J,An.g))}}if(kn=mn.J,kn!=1/0)for(An=Dn(mn.h.values()),xn=An.next();!xn.done;xn=An.next()){xn=xn.value;var Mn=xn.stream.segmentIndex;if(Mn!=null){var Un=Mn.g[0]||null;if(Un.g==null)fl("Missing EXT-X-PROGRAM-DATE-TIME for stream",xn.bd,"Expect AV sync issues!");else for(aC(mn,xn,Un.g-kn-Un.startTime),xn=Dn(Mn),Mn=xn.next();!Mn.done;Mn=xn.next())Mn.value.Ve(kn)}}}function aC(mn,kn,xn){kn.Ab+=xn,mn=nC(mn,kn),kn=Dn(mn);for(var An=kn.next();!An.done;An=kn.next()){var Mn=Dn(An.value);An=Mn.next().value,Mn=Mn.next().value,mn.set(An,Mn+xn)}}function ZR(mn,kn,xn){var An,Mn,Un,Bn,zn,Wn,ts,os,ds,ls,ys,Cs,Ns,Os,Ps,Xs,Ds,qs,Qs,ru,ou,hu,gu,ju,Xu,Qu,dl,Du,up,wp,Dl,ty;return hs(function(Ev){switch(Ev.g){case 1:An=eC(mn.X,kn,mn.O),Mn=_y(An.g,"EXT-X-DEFINE");for(var P_=Dn(Mn),Yp=P_.next();!Yp.done;Yp=P_.next()){var Dm=Yp.value;Yp=Lu(Dm,"NAME"),Dm=Lu(Dm,"VALUE"),Yp&&Dm&&(mn.s.has(Yp)||mn.s.set(Yp,Dm))}if(Un=[],Bn=[],zn=[],An.type==1)return ru=mn.g.hls.mediaPlaylistFullMimeType,An.segments.length&&(ou=new Iu(An.segments[0].i),hu=ou.Ha.split(".").pop(),(gu=s$[hu])?ru=gu:hu!=="ts"&&hu!=="mp4"&&(hC[hu]?(gu=hC[hu],ju=mn.g.hls.defaultAudioCodec,ru=gu+'; codecs="'+ju+'"'):A1[hu]&&(gu=A1[hu],Xu=mn.g.hls.defaultVideoCodec,ru=gu+'; codecs="'+Xu+'"'))),Qu=ru.split(";")[0],dl=Qu.split("/")[0],Du=As(ru),up=new Map,Qn(Ev,T0(mn,An,xn,xn,Du,dl,"",!0,"Media Playlist",null,up,null,!1,!1,Qu),5);for(Wn=_y(An.g,"EXT-X-MEDIA"),ts=_y(An.g,"EXT-X-STREAM-INF"),os=_y(An.g,"EXT-X-IMAGE-STREAM-INF"),ds=_y(An.g,"EXT-X-SESSION-KEY"),P_=Dn(ts),Yp=P_.next();!Yp.done;Yp=P_.next()){var P0=Yp.value;Dm=Lu(P0,"AUDIO"),Yp=Lu(P0,"VIDEO");var Sv=Lu(P0,"SUBTITLES");if(P0=uC(mn,P0),Sv){var X2=ev(Vu,P0);mn.B.set(Sv,X2),qu(P0,X2)}Dm&&(Sv=ev("audio",P0),Sv||(Sv=mn.g.hls.defaultAudioCodec),mn.B.set(Dm,Sv)),Yp&&(Dm=ev("video",P0),Dm||(Dm=mn.g.hls.defaultVideoCodec),mn.B.set(Yp,Dm))}for(ls=_y(An.g,"EXT-X-SESSION-DATA"),ys=Dn(ls),Cs=ys.next();!Cs.done;Cs=ys.next())Ns=Cs.value,Os=Lu(Ns,"DATA-ID"),Ps=Lu(Ns,"URI"),Xs=Lu(Ns,"LANGUAGE"),Ds=Lu(Ns,"VALUE"),qs=new Map().set("id",Os),Ps&&qs.set("uri",S0(mn.O,Ps)),Xs&&qs.set("language",Xs),Ds&&qs.set("value",Ds),Qs=new _u("sessiondata",qs),mn.i&&mn.i.onEvent(Qs);for(sC(mn,Wn),P_=Jw(Wn,"CLOSED-CAPTIONS"),P_=Dn(P_),Yp=P_.next();!Yp.done;Yp=P_.next())Sv=Yp.value,Yp=v1(Sv),Dm=Fl(Sv,"GROUP-ID"),Sv=Fl(Sv,"INSTREAM-ID"),mn.M.get(Dm)||mn.M.set(Dm,new Map),mn.M.get(Dm).set(Sv,Yp);return Un=JR(mn,ts,ds),Bn=oC(mn,Wn),Qn(Ev,UP(mn,os),4);case 4:zn=Ev.h,Ev.D(3);break;case 5:wp=Ev.h,mn.h.set(xn,wp),Un.push({id:0,language:"und",disabledUntilTime:0,primary:!0,audio:dl=="audio"?wp.stream:null,video:dl=="video"?wp.stream:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});case 3:if(!mn.i)throw new Hs(2,7,7001);mn.j=new Gu(null,0),mn.j.$c(!0),An.type==1&&(Sy(mn)&&(HP(mn),Dl=mn.P,mn.m.R(Dl)),ty=Array.from(mn.h.values()),_1(mn,ty),LP(mn)),mn.G={presentationTimeline:mn.j,variants:Un,textStreams:Bn,imageStreams:zn,offlineSessionIds:[],minBufferTime:0,sequenceMode:!0},mn.i.makeTextStreamsForClosedCaptions(mn.G),ms(Ev)}})}function LP(mn){if(Sy(mn)){if(mn.P=mn.K,mn.aa==gC){var kn=cC(mn);mn.g.hls.useSafariBehaviorForLive&&(kn=mn.j.m),isNaN(mn.g.availabilityWindowOverride)||(kn=mn.g.availabilityWindowOverride),mn.j.Re(kn)}}else mn.j.Sa(cC(mn));mn.j.ve()}function y1(mn,kn){var xn=new Map;kn=Dn(kn);for(var An=kn.next();!An.done;An=kn.next()){var Mn=An.value;An=Lu(Mn,"NAME");var Un=Lu(Mn,"VALUE");Mn=Lu(Mn,"IMPORT"),An&&Un&&xn.set(An,Un),Mn&&(An=mn.s.get(Mn))&&xn.set(Mn,An)}return xn}function oC(mn,kn){var xn=Jw(kn,"SUBTITLES");kn=xn.map(function(Bn){if(mn.g.disableText)return null;try{return FP(mn,Bn).stream}catch(zn){if(mn.g.hls.ignoreTextStreamFailures)return null;throw zn}}),xn=Dn(xn);for(var An=xn.next();!An.done;An=xn.next()){var Mn=Fl(An.value,"GROUP-ID");if((An=mn.B.get(Mn))&&(Mn=mn.C.get(Mn))){Mn=Dn(Mn);for(var Un=Mn.next();!Un.done;Un=Mn.next())Un=Un.value,Un.stream.codecs=An,Un.stream.mimeType=b1(Vu,An)||x1(Vu)}}return kn.filter(function(Bn){return Bn})}function UP(mn,kn){var xn,An;return hs(function(Mn){return Mn.g==1?(xn=kn.map(function(Un){var Bn,zn;return hs(function(Wn){if(Wn.g==1)return mn.g.disableThumbnails?Wn.return(null):($s(Wn,2),Qn(Wn,BP(mn,Un),4));if(Wn.g!=2)return Bn=Wn.h,Wn.return(Bn.stream);if(zn=Ss(Wn),mn.g.hls.ignoreImageStreamFailures)return Wn.return(null);throw zn})}),Qn(Mn,Promise.all(xn),2)):(An=Mn.h,Mn.return(An.filter(function(Un){return Un})))})}function sC(mn,kn){kn=kn.filter(function(An){var Mn=Lu(An,"URI")||"";return Lu(An,"TYPE")!="SUBTITLES"&&Mn!=""}),kn=Dn(kn);for(var xn=kn.next();!xn.done;xn=kn.next())FP(mn,xn.value)}function JR(mn,kn,xn){var An=[],Mn=new Set;if(0<xn.length){xn=Dn(xn);for(var Un=xn.next();!Un.done;Un=xn.next()){Un=Un.value;var Bn=Fl(Un,"METHOD");if(Bn!="NONE"&&Bn!="AES-128"&&(Bn=Lu(Un,"KEYFORMAT")||"identity",Un=(Bn=KP[Bn])?Bn(Un,""):null)){if(Un.keyIds){Bn=Dn(Un.keyIds);for(var zn=Bn.next();!zn.done;zn=Bn.next())Mn.add(zn.value)}An.push(Un)}}}return kn=kn.map(function(Wn){var ts=Lu(Wn,"FRAME-RATE"),os=Number(Lu(Wn,"AVERAGE-BANDWIDTH"))||Number(Fl(Wn,"BANDWIDTH")),ds=Lu(Wn,"RESOLUTION");ds=Dn(ds?ds.split("x"):[null,null]);var ls=ds.next().value,ys=ds.next().value,Cs=Lu(Wn,"VIDEO-RANGE");Wn=jP(mn,Wn),ds=Wn.audio,Wn=Wn.video;for(var Ns=Dn(Wn),Os=Ns.next();!Os.done;Os=Ns.next())(Os=Os.value.stream)&&(Os.width=Number(ls)||void 0,Os.height=Number(ys)||void 0,Os.frameRate=Number(ts)||void 0,Os.hdr=Cs||void 0);for(ts=mn.g.disableAudio,(!ds.length||ts)&&(ds=[null]),ts=mn.g.disableVideo,(!Wn.length||ts)&&(Wn=[null]),ts=[],ds=Dn(ds),ls=ds.next();!ls.done;ls=ds.next())for(ls=ls.value,ys=Dn(Wn),Cs=ys.next();!Cs.done;Cs=ys.next()){var Ps=Cs.value;(Cs=ls?ls.stream:null)&&(Cs.drmInfos=An,Cs.keyIds=Mn),(Ns=Ps?Ps.stream:null)&&(Ns.drmInfos=An,Ns.keyIds=Mn),Os=ls?ls.stream.drmInfos:null;var Xs=Ps?Ps.stream.drmInfos:null;Ps=(Ps?Ps.bd:"")+" - "+(ls?ls.bd:""),Cs&&Ns&&Os.length&&Xs.length&&!(0<Q$(Os,Xs).length)||mn.ka.has(Ps)||(Cs={id:mn.sa++,language:Cs?Cs.language:"und",primary:!!Cs&&Cs.primary||!!Ns&&Ns.primary,audio:Cs,video:Ns,bandwidth:os,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},ts.push(Cs),mn.ka.add(Ps))}return ts}).reduce(O0,[]),kn=kn.filter(function(Wn){return Wn!=null})}function jP(mn,kn){var xn=uC(mn,kn),An=Lu(kn,"AUDIO"),Mn=Lu(kn,"VIDEO"),Un=An||Mn;Un=Un&&mn.C.has(Un)?mn.C.get(Un):[],An={audio:An?Un:[],video:Mn?Un:[]},Mn=!1;var Bn=Fl(kn,"URI"),zn=An.audio.find(function(os){return os&&os.bd==Bn}),Wn=ev("video",xn),ts=ev("audio",xn);return ts&&!Wn?Un="audio":!Un.length&&ts&&Wn?(Un="video",xn=[[Wn,ts].join()]):An.audio.length&&zn?(Un="audio",Mn=!0):Un=An.video.length&&!An.audio.length?"audio":"video",Mn||(mn=VP(mn,kn,xn,Un),An[mn.stream.type]=[mn]),An}function uC(mn,kn){var xn=[];mn.g.disableVideo||xn.push(mn.g.hls.defaultVideoCodec),mn.g.disableAudio||xn.push(mn.g.hls.defaultAudioCodec),xn=Lu(kn,"CODECS",xn.join(",")).split(/\s*,\s*/),mn=new Set,kn=[],xn=Dn(xn);for(var An=xn.next();!An.done;An=xn.next()){An=An.value;var Mn=Ks(An)[0];mn.has(Mn)||(kn.push(An),mn.add(Mn))}return kn}function v1(mn){return mn=Lu(mn,"LANGUAGE")||"und",ol(mn)}function FP(mn,kn){var xn=Fl(kn,"GROUP-ID"),An="",Mn=Fl(kn,"TYPE").toLowerCase();Mn=="subtitles"&&(Mn=Vu);var Un=Mn;if(Un==Vu?An=Lu(kn,"CODECS")||"":xn&&mn.B.has(xn)&&(An=mn.B.get(xn)),Mn=b_(Fl(kn,"URI"),mn.s),mn.h.has(Mn))return mn.h.get(Mn);var Bn=v1(kn),zn=Lu(kn,"NAME"),Wn=Lu(kn,"DEFAULT")=="YES",ts=Un=="audio"&&(ts=Lu(kn,"CHANNELS"))?parseInt(ts.split("/")[0],10):null,os=Un=="audio"&&(os=Lu(kn,"CHANNELS"))?os.includes("/JOC"):!1,ds=Lu(kn,"CHARACTERISTICS");return kn=Lu(kn,"FORCED")=="YES",An=lC(mn,Mn,An,Un,Bn,Wn,zn,ts,null,ds,kn,os),mn.C.has(xn)?mn.C.get(xn).push(An):mn.C.set(xn,[An]),mn.h.has(Mn)?mn.h.get(Mn):(mn.h.set(Mn,An),An)}function BP(mn,kn){var xn,An,Mn,Un,Bn,zn,Wn,ts,os,ds;return hs(function(ls){return ls.g==1?(xn=b_(Fl(kn,"URI"),mn.s),An=Lu(kn,"CODECS","jpeg")||"",mn.h.has(xn)?ls.return(mn.h.get(xn)):(Mn=v1(kn),Un=Lu(kn,"NAME"),Bn=Lu(kn,"CHARACTERISTICS"),zn=lC(mn,xn,An,"image",Mn,!1,Un,null,null,Bn,!1,!1),mn.h.has(xn)?ls.return(mn.h.get(xn)):(Wn=Lu(kn,"RESOLUTION"))?Qn(ls,zn.stream.createSegmentIndex(),3):ls.D(2))):(ls.g!=2&&(ts=zn.stream.segmentIndex.get(0),os=ts.tilesLayout)&&(zn.stream.width=Number(Wn.split("x")[0])*Number(os.split("x")[0]),zn.stream.height=Number(Wn.split("x")[1])*Number(os.split("x")[1])),(ds=Lu(kn,"BANDWIDTH"))&&(zn.stream.bandwidth=Number(ds)),mn.h.set(xn,zn),ls.return(zn))})}function VP(mn,kn,xn,An){var Mn=b_(Fl(kn,"URI"),mn.s);return mn.h.has(Mn)||(kn=Lu(kn,"CLOSED-CAPTIONS"),kn=An=="video"&&kn&&kn!="NONE"?mn.M.get(kn):null,xn=Lm(An,xn),An=lC(mn,Mn,xn,An,"und",!1,null,null,kn,null,!1,!1),mn.h.has(Mn))?mn.h.get(Mn):(mn.h.set(Mn,An),An)}function lC(mn,kn,xn,An,Mn,Un,Bn,zn,Wn,ts,os,ds){function ls(Xs){var Ds,qs,Qs,ru,ou,hu,gu,ju,Xu,Qu,dl,Du,up,wp;return hs(function(Dl){if(Dl.g==1)return Qn(Dl,C1(mn,Ns.ld),2);if(Dl.g!=3)return Ds=Dl.h,Xs.aborted?Dl.return():(qs=Ds.uri,Qs=eC(mn.X,Ds.data,qs),ru=Sy(mn),Qn(Dl,T0(mn,Qs,kn,qs,xn,An,Mn,Un,Bn,zn,Wn,ts,os,ds),3));if(ou=Dl.h,Xs.aborted)return Dl.return();if(hu=ou.stream,Sy(mn)&&!ru&&HP(mn),Ns.ld=qs,Ns.Ab=ou.Ab,Ns.pd=ou.pd,Ns.Lc=ou.Lc,Ns.zd=ou.zd,Ns.ue=!0,Cs.segmentIndex=hu.segmentIndex,Cs.encrypted=hu.encrypted,Cs.drmInfos=hu.drmInfos,Cs.keyIds=hu.keyIds,Cs.mimeType=hu.mimeType,Gy.includes(Cs.mimeType)&&(Cs.codecs=""),Cs.drmInfos.length&&mn.i.newDrmInfo(Cs),gu=Pu,An==gu.Ma||An==gu.jd)for(ju=Dn(mn.h.values()),Xu=ju.next();!Xu.done;Xu=ju.next())Qu=Xu.value,Qu.ue||Qu.type!=An||(Qu.stream.mimeType=hu.mimeType,Gy.includes(Qu.stream.mimeType)&&(Qu.stream.codecs=""));An==gu.ba&&(dl=hu.segmentIndex.get(0))&&dl.h&&(Cs.mimeType="application/mp4"),zP(mn)&&(mn.ua?_1(mn,[Ns]):(mn.ua=!0,Du=Array.from(mn.h.values()),up=Du.filter(function(ty){return ty.stream.segmentIndex}),_1(mn,up),LP(mn),wp=mn.P,0<wp&&mn.m.R(wp))),ms(Dl)})}var ys=S0(mn.O,kn),Cs=E1(mn,xn,An,Mn,Un,Bn,zn,Wn,ts,os,ds);Gy.includes(Cs.mimeType)&&(Cs.codecs="");var Ns={stream:Cs,type:An,bd:kn,ld:ys,Ab:0,zd:new Map,pd:!1,Lc:!1,ke:-1,ue:!1},Os=null,Ps=new AbortController;return Cs.createSegmentIndex=function(){return Os||(Ps=new AbortController,Os=new Promise(function(Xs){Xs(ls(Ps.signal))}))},Cs.closeSegmentIndex=function(){Os&&!Cs.segmentIndex&&Ps.abort(),Cs.segmentIndex&&(Cs.segmentIndex.release(),Cs.segmentIndex=null),Os=null},Ns}function cC(mn){var kn=1/0;mn=Dn(mn.h.values());for(var xn=mn.next();!xn.done;xn=mn.next())xn=xn.value,xn.stream.segmentIndex&&xn.stream.type!="text"&&(kn=Math.min(kn,xn.Ab));return kn}function GP(mn,kn){var xn=[];kn=Dn(kn);for(var An=kn.next();!An.done;An=kn.next())An=An.value,An.segmentIndex&&_T(An.segmentIndex,function(Mn){xn.push(Mn)});mn.j.lc(xn)}function _1(mn,kn){if(!Sy(mn))for(var xn=cC(mn),An=Dn(kn),Mn=An.next();!Mn.done;Mn=An.next())Mn.value.stream.segmentIndex.wb(0,xn);for(xn=Dn(kn),Mn=xn.next();!Mn.done;Mn=xn.next())Mn=Mn.value.stream,Gy.includes(Mn.mimeType)&&(Mn.codecs="");GP(mn,kn.map(function(Un){return Un.stream})),mn.g.hls.ignoreManifestProgramDateTime?DP(mn,kn):iC(mn,kn)}function zP(mn){if(!mn.G)return!1;var kn=[],xn=[];mn=Dn(mn.G.variants);for(var An=mn.next();!An.done;An=mn.next())An=An.value,An.video&&kn.push(An.video),An.audio&&xn.push(An.audio);return!(0<kn.length&&!kn.some(function(Mn){return Mn.segmentIndex})||0<xn.length&&!xn.some(function(Mn){return Mn.segmentIndex}))}function T0(mn,kn,xn,An,Mn,Un,Bn,zn,Wn,ts,os,ds,ls,ys,Cs){var Ns,Os,Ps,Xs,Ds,qs,Qs,ru,ou,hu,gu,ju,Xu,Qu,dl;return hs(function(Du){if(Du.g==1){if(kn.type!=1)throw new Hs(2,4,4017);return Ns=_y(kn.g,"EXT-X-DEFINE"),Os=y1(mn,Ns),$1(mn,kn),Cs?Du.D(2):Qn(Du,w1(mn,Un,Mn,kn,Os),3)}if(Du.g!=2&&(Cs=Du.h),Ps=S1(kn,Cs),Xs=Ps.drmInfos,Ds=Ps.keyIds,qs=Ps.encrypted,Qs=Ps.mg,qs&&!Xs.length&&!Qs)throw new Hs(2,4,4026);return ru=Sy(mn)?mn.H.get(Un):new Map,ou=mn.l,hu=k1(mn,kn,Un,ru,Os),ou!=mn.l&&$1(mn,kn),gu=hu[hu.length-1].endTime,ju=new vl(hu),Qu=(Xu=lm(kn.g,"EXT-X-SERVER-CONTROL"))?Xu.getAttribute("CAN-SKIP-UNTIL")!=null:!1,dl=E1(mn,Mn,Un,Bn,zn,Wn,ts,os,ds,ls,ys),dl.segmentIndex=ju,dl.encrypted=qs,dl.drmInfos=Xs,dl.keyIds=Ds,dl.mimeType=Cs,Du.return({stream:dl,type:Un,bd:xn,ld:An,Ab:gu,pd:Qu,Lc:!1,ke:-1,zd:ru,ue:!1})})}function E1(mn,kn,xn,An,Mn,Un,Bn,zn,Wn,ts,os){var ds=b1(xn,kn)||x1(xn);return{id:mn.sa++,originalId:Un,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:ds,codecs:kn,kind:xn==Vu?"subtitle":void 0,encrypted:!1,drmInfos:[],keyIds:new Set,language:An,label:Un,type:xn,primary:Mn,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:Wn?Wn.split(","):[],forced:ts,channelsCount:Bn,audioSamplingRate:null,spatialAudio:os,closedCaptions:zn,hdr:void 0,tilesLayout:void 0}}function S1(mn,kn){var xn=[];if(mn.segments){mn=Dn(mn.segments);for(var An=mn.next();!An.done;An=mn.next())An=_y(An.value.g,"EXT-X-KEY"),xn.push.apply(xn,Kn(An))}An=mn=!1;var Mn=[],Un=new Set;xn=Dn(xn);for(var Bn=xn.next();!Bn.done;Bn=xn.next()){Bn=Bn.value;var zn=Fl(Bn,"METHOD");if(zn!="NONE"){if(mn=!0,zn=="AES-128")An=!0;else if(zn=Lu(Bn,"KEYFORMAT")||"identity",Bn=(zn=KP[zn])?zn(Bn,kn):null){if(Bn.keyIds){zn=Dn(Bn.keyIds);for(var Wn=zn.next();!Wn.done;Wn=zn.next())Un.add(Wn.value)}Mn.push(Bn)}}}return{drmInfos:Mn,keyIds:Un,encrypted:mn,mg:An}}function eN(mn,kn,xn){if(!pn.crypto||!pn.crypto.subtle)throw $u("Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"),new Hs(2,4,4042);var An=0,Mn=Lu(kn,"IV","");if(Mn){var Un=n_(Mn.substr(2));if(Un.byteLength!=16)throw new Hs(2,4,4043)}else An=n$(xn.g,"EXT-X-MEDIA-SEQUENCE");kn=S0(xn.h,Fl(kn,"URI"));var Bn=ll([kn],mn.g.retryParameters),zn={method:"AES-128",iv:Un,firstMediaSequenceNumber:An,fetchKey:function(){var Wn,ts,os;return hs(function(ds){if(ds.g==1)return Qn(ds,o$(mn,Bn,6),2);if(ds.g!=3){if(Wn=ds.h,!Wn.data||Wn.data.byteLength!=16)throw new Hs(2,4,4044);return ts={name:"AES-CBC"},os=zn,Qn(ds,pn.crypto.subtle.importKey("raw",Wn.data,ts,!0,["decrypt"]),3)}os.cryptoKey=ds.h,zn.fetchKey=void 0,ms(ds)})}};return zn}function $1(mn,kn){var xn=lm(kn.g,"EXT-X-PLAYLIST-TYPE"),An=lm(kn.g,"EXT-X-ENDLIST");if(An=xn&&xn.value=="VOD"||An,xn=xn&&xn.value=="EVENT"&&!An,xn=!An&&!xn,An)a$(mn,I1);else{if(xn?a$(mn,gC):a$(mn,WP),An=lm(kn.g,"EXT-X-TARGETDURATION"),!An)throw new Hs(2,4,4024,"EXT-X-TARGETDURATION");An=Number(An.value),xn=lm(kn.g,"EXT-X-PART-INF"),mn.l&&xn?(mn.ra=Number(Fl(xn,"PART-TARGET")),mn.K=Math.min(mn.ra,mn.K),kn=lm(kn.g,"EXT-X-SERVER-CONTROL"),mn.V=kn?Number(Fl(kn,"PART-HOLD-BACK")):0):mn.K=Math.min(An,mn.K),mn.$=Math.max(An,mn.$)}}function HP(mn){var kn=mn.g.defaultPresentationDelay?mn.g.defaultPresentationDelay:mn.V?mn.V:mn.$*mn.g.hls.liveSegmentsDelay;mn.j.Yf(0),mn.j.Vf(kn),mn.j.$c(!1)}function Ey(mn,kn,xn,An){if(xn=lm(xn,"EXT-X-MAP"),!xn)return null;var Mn=Fl(xn,"URI");return An=b_(S0(kn,Mn),An),kn=[An,Lu(xn,"BYTERANGE","")].join("-"),mn.Z.has(kn)||(xn=T1(An,xn),mn.Z.set(kn,xn)),mn.Z.get(kn)}function T1(mn,kn){var xn=0,An=null;return(kn=Lu(kn,"BYTERANGE"))&&(xn=kn.split("@"),An=Number(xn[0]),xn=Number(xn[1]),An=xn+An-1),new Km(function(){return[mn]},xn,An)}function dC(mn,kn,xn,An,Mn,Un,Bn,zn,Wn,ts){var os=An.g,ds=b_(An.i,Un),ls=lm(os,"EXTINF"),ys=Un=0,Cs=null;An.h.length&&!mn.l&&$u("Low-latency HLS live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details.");var Ns=null;if(!mn.g.hls.ignoreManifestProgramDateTime){var Os=lm(os,"EXT-X-PROGRAM-DATE-TIME");Os&&Os.value&&(Ns=K0(Os.value))}if(Os=kS,lm(os,"EXT-X-GAP")&&(Os=2),!ls){if(An.h.length==0)throw new Hs(2,4,4024,"EXTINF");if(!mn.l)return null}var Ps=[];if(mn.l)for(var Xs={},Ds=0;Ds<An.h.length;Xs={Wd:Xs.Wd},Ds++){var qs=An.h[Ds],Qs=Ds==0?xn:Ps[Ps.length-1],ru=Ds==0?Mn:Qs.endTime,ou=Number(Lu(qs,"DURATION"))||mn.ra;if(ou){ou=ru+ou;var hu=0,gu=null;qs.name=="EXT-X-PRELOAD-HINT"?hu=(hu=Lu(qs,"BYTERANGE-START"))?Number(hu):0:(hu=Lu(qs,"BYTERANGE"),gu=Dn(fC(Qs,hu)),hu=gu.next().value,gu=gu.next().value),(Qs=Lu(qs,"URI"))&&(Xs.Wd=S0(Bn,Qs),Qs=kS,Lu(qs,"GAP")=="YES"&&(Qs=2),Ps.push(new rl(ru,ou,function(ju){return function(){return[ju.Wd]}}(Xs),hu,gu,kn,0,0,1/0,[],"",null,null,Qs)))}}return ls?Un=Mn+Number(ls.value.split(",")[0]):Un=Ps[Ps.length-1].endTime,(mn=lm(os,"EXT-X-BYTERANGE"))?(Cs=Dn(fC(xn,mn.value)),ys=Cs.next().value,Cs=Cs.next().value):Ps.length&&(ys=Ps[0].Ta,Cs=Ps[Ps.length-1].Ca),xn="",mn=null,zn=="image"&&(xn="1x1",zn=lm(os,"EXT-X-TILES"))&&(xn=Fl(zn,"LAYOUT"),(zn=Lu(zn,"DURATION"))&&(mn=Number(zn))),new rl(Mn,Un,function(){return ds.length?[ds]:[]},ys,Cs,kn,Wn,0,1/0,Ps,xn,mn,Ns,Os,ts)}function fC(mn,kn){var xn=0,An=null;return kn&&(xn=kn.split("@"),kn=Number(xn[0]),xn=xn[1]?Number(xn[1]):mn.Ca+1,An=xn+kn-1),[xn,An]}function k1(mn,kn,xn,An,Mn){var Un=kn.segments,Bn=void 0,zn=n$(kn.g,"EXT-X-DISCONTINUITY-SEQUENCE"),Wn=n$(kn.g,"EXT-X-MEDIA-SEQUENCE"),ts=lm(kn.g,"EXT-X-SKIP");ts=ts?Number(Lu(ts,"SKIPPED-SEGMENTS")):0;var os=Wn+ts,ds=0;Sy(mn)&&An.has(os)&&(ds=An.get(os));for(var ls=[],ys=null,Cs=ds,Ns=0;Ns<Un.length;Ns++){var Os=Un[Ns],Ps=Ns==0?ds:ys.endTime;os=Wn+ts+Ns,lm(Os.g,"EXT-X-DISCONTINUITY")&&(zn++,Cs=Ps);for(var Xs=Dn(Os.g),Ds=Xs.next();!Ds.done;Ds=Xs.next())Ds=Ds.value,Ds.name=="EXT-X-KEY"&&(Fl(Ds,"METHOD")=="AES-128"?Bn=eN(mn,Ds,kn):Bn=void 0);An.set(os,Ps),Xs=Ey(mn,kn.h,Os.g,Mn),!mn.l&&mn.i.isAutoLowLatencyMode()&&(mn.i.enableLowLatencyMode(),mn.l=mn.i.isLowLatencyMode()),(ys=Os=dC(mn,Xs,ys,Os,Ps,Mn,kn.h,xn,Cs,Bn))&&(Os.j=zn,mn.g.hls.ignoreManifestProgramDateTime&&mn.F!=null&&os<mn.F||ls.push(Os))}if(kn=ls.some(function(qs){return qs.g!=null})){for(xn={},An=0;An<ls.length;xn={tc:xn.tc,sc:xn.sc,cd:xn.cd,qb:xn.qb,rc:xn.rc},An++)if(xn.qb=ls[An],xn.qb.g==null)for(xn.sc=0,xn.tc=An,Mn=function(qs){return function(){var Qs=ls[qs.tc];if(Qs){if(Qs.g!=null)return Qs.g+qs.sc;qs.sc-=Qs.endTime-Qs.startTime,qs.tc+=1}return null}}(xn),xn.rc=0,xn.cd=An,Un=function(qs){return function(){var Qs=ls[qs.cd];if(Qs){if(Qs!=qs.qb&&(qs.rc+=Qs.endTime-Qs.startTime),Qs.g!=null)return Qs.g+qs.rc;--qs.cd}return null}}(xn);xn.qb.g==null;)xn.qb.g=Un(),xn.qb.g==null&&(xn.qb.g=Mn())}if(kn)for(xn=Dn(ls),An=xn.next();!An.done;An=xn.next())for(Mn=An.value,An=Mn.g,Mn=Dn(Mn.i),Un=Mn.next();!Un.done;Un=Mn.next())Un=Un.value,Un.g=An,An+=Un.endTime-Un.startTime;if(mn=mn.J,kn&&mn!=1/0)for(kn=Dn(ls),An=kn.next();!An.done;An=kn.next())An.value.Ve(mn);return ls}function b_(mn,kn){mn=String(mn).replace(/%7B/g,"{").replace(/%7D/g,"}");var xn=mn.match(/{\$\w*}/g);if(xn){xn=Dn(xn);for(var An=xn.next();!An.done;An=xn.next()){An=An.value;var Mn=An.slice(2,An.length-1),Un=kn.get(Mn);if(Un)mn=mn.replace(An,Un);else throw new Hs(2,4,4039,Mn)}}return mn}function b1(mn,kn){if(mn==Vu){if(kn=="vtt"||kn=="wvtt")return"text/vtt";if(kn&&kn!=="")return"application/mp4"}return mn!="image"||kn&&kn!="jpeg"?mn=="audio"&&kn=="mp4a.40.34"?"audio/mpeg":null:"image/jpeg"}function x1(mn){return mn==Vu?"text/vtt":mC[mn].mp4}function w1(mn,kn,xn,An,Mn){var Un,Bn,zn,Wn,ts,os,ds,ls,ys,Cs;return hs(function(Ns){return Ns.g==1?(Un=Pv,Bn=Math.trunc((An.segments.length-1)/2),zn=b_(An.segments[Bn].i,Mn),Wn=new Iu(zn),ts=Wn.Ha.split(".").pop(),os=mC[kn],(ds=os[ts])||(ds=s$[ts])||(ds=b1(kn,xn))?Ns.return(ds):(ls=ll([zn],mn.g.retryParameters),ls.method="HEAD",Qn(Ns,o$(mn,ls,Un),2))):(ys=Ns.h,(Cs=ys.headers["content-type"])?Ns.return(Cs.split(";")[0]):Ns.return(x1(kn)))})}function C1(mn,kn){return kn=ll([kn],mn.g.retryParameters),mn.i.modifyManifestRequest(kn,{format:"h"}),o$(mn,kn,0)}function pC(mn){var kn,xn;hs(function(An){if(An.g==1)return mn.i?($s(An,2),Qn(An,mn.update(),4)):An.return();if(An.g!=2)return Sy(mn)&&(kn=mn.P,mn.m.R(kn)),gs(An,0);if(xn=Ss(An),!mn.i)return An.return();xn.severity=1,mn.i.onError(xn),mn.m.R(.1),ms(An)})}function Sy(mn){return mn.aa!=I1}function a$(mn,kn){mn.aa=kn,mn.j&&mn.j.$c(!Sy(mn)),Sy(mn)||mn.m.stop()}function o$(mn,kn,xn){if(!mn.I)throw new Hs(2,7,7001);return kn=mn.i.networkingEngine.request(xn,kn),H_(mn.I,kn),kn.promise}Ys("shaka.hls.HlsParser",i$);var s$={aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},hC={mp4:"audio/mp4",mp4a:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",m4f:"audio/mp4",cmfa:"audio/mp4",ts:"video/mp2t",tsa:"video/mp2t"},A1={mp4:"video/mp4",mp4v:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",m4f:"video/mp4",cmfv:"video/mp4",ts:"video/mp2t",tsv:"video/mp2t"},mC={audio:hC,video:A1,text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",m4f:"application/mp4",cmft:"application/mp4",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml"},image:{jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif"}},KP={"com.apple.streamingkeydelivery":function(mn,kn){if(kn=="video/mp2t")throw new Hs(2,4,4040);if(pn.shakaMediaKeysPolyfill)throw new Hs(2,4,4041);return Mp("com.apple.fps",[{initDataType:"sinf",initData:new Uint8Array(0),keyId:null}])},"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(mn){var kn=Fl(mn,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(kn)?(kn=Fl(mn,"URI"),kn=rC(kn),kn=Ku(kn.data),kn=Mp("com.widevine.alpha",[{initDataType:"cenc",initData:kn}]),(mn=Lu(mn,"KEYID"))&&(kn.keyIds=new Set([mn.toLowerCase().substr(2)])),kn):null},"com.microsoft.playready":function(mn){var kn=Fl(mn,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(kn)?(mn=Fl(mn,"URI"),mn=rC(mn),mn=Ku(mn.data),kn=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),mn=z0(mn,kn,new Set,0),Mp("com.microsoft.playready",[{initDataType:"cenc",initData:mn}])):null},identity:function(mn){return mn=Fl(mn,"METHOD"),["SAMPLE-AES","SAMPLE-AES-CTR"].includes(mn)?Mp("org.w3.clearkey",null):null}},I1="VOD",WP="EVENT",gC="LIVE",qP={ig:I1,ei:WP,gg:gC};Cl("Tizen 3")||Cl("Tizen 2")||XE()||(d_.m3u8=function(){return new i$},zm["application/x-mpegurl"]=function(){return new i$},zm["application/vnd.apple.mpegurl"]=function(){return new i$});function u$(mn,kn,xn,An,Mn,Un){if(200<=xn&&299>=xn&&xn!=202)return{uri:Mn||An,originalUri:An,data:kn,status:xn,headers:mn,fromCache:!!mn["x-shaka-from-cache"]};Mn=null;try{Mn=Bm(kn)}catch{}throw new Hs(xn==401||xn==403?2:1,1,1001,An,xn,Mn,mn,Un)}function P1(){}function O1(mn,kn,xn,An,Mn){var Un=new tN;Mv(kn.headers).forEach(function(ts,os){Un.append(os,ts)});var Bn=new ZP,zn={wf:!1,dg:!1};if(mn=YP(mn,xn,{body:kn.body||void 0,headers:Un,method:kn.method,signal:Bn.signal,credentials:kn.allowCrossSiteCredentials?"include":void 0},zn,An,Mn,kn.streamDataCallback),mn=new Al(mn,function(){return zn.wf=!0,Bn.abort(),Promise.resolve()}),kn=kn.retryParameters.timeout){var Wn=new Tu(function(){zn.dg=!0,Bn.abort()});Wn.R(kn/1e3),mn.finally(function(){Wn.stop()})}return mn}function YP(mn,kn,xn,An,Mn,Un,Bn){var zn,Wn,ts,os,ds,ls,ys,Cs,Ns,Os,Ps,Xs,Ds;return hs(function(qs){switch(qs.g){case 1:return zn=QP,Wn=JP,ls=ds=0,ys=Date.now(),$s(qs,2),Qn(qs,zn(mn,xn),4);case 4:if(ts=qs.h,Un(M1(ts.headers)),xn.method=="HEAD"){qs.D(5);break}return Cs=ts.clone().body.getReader(),Os=(Ns=ts.headers.get("Content-Length"))?parseInt(Ns,10):0,Ps=function(Qs){function ru(){var ou,hu;return hs(function(gu){switch(gu.g){case 1:return $s(gu,2),Qn(gu,Cs.read(),4);case 4:ou=gu.h,gs(gu,3);break;case 2:return Ss(gu),gu.return();case 3:if(ou.done){gu.D(5);break}if(ds+=ou.value.byteLength,!Bn){gu.D(5);break}return Qn(gu,Bn(ou.value),5);case 5:hu=Date.now(),(100<hu-ys||ou.done)&&(Mn(hu-ys,ds-ls,Os-ds),ls=ds,ys=hu),ou.done?Qs.close():(Qs.enqueue(ou.value),ru()),ms(gu)}})}ru()},new Wn({start:Ps}),Qn(qs,ts.arrayBuffer(),6);case 6:os=qs.h;case 5:gs(qs,3);break;case 2:throw Xs=Ss(qs),An.wf?new Hs(1,1,7001,mn,kn):An.dg?new Hs(1,1,1003,mn,kn):new Hs(1,1,1002,mn,Xs,kn);case 3:return Ds=M1(ts.headers),qs.return(u$(Ds,os,ts.status,mn,ts.url,kn))}})}function M1(mn){var kn={};return mn.forEach(function(xn,An){kn[An.trim()]=xn}),kn}function XP(){if(pn.ReadableStream)try{new ReadableStream({})}catch{return!1}else return!1;if(pn.Response){if(!new Response("").body)return!1}else return!1;return!(!pn.fetch||!pn.AbortController)}Ys("shaka.net.HttpFetchPlugin",P1),P1.isSupported=XP,P1.parse=O1;var QP=pn.fetch,ZP=pn.AbortController,JP=pn.ReadableStream,tN=pn.Headers;XP()&&(gm("http",O1,2,!0),gm("https",O1,2,!0),gm("blob",O1,2,!0));function R1(){}function N1(mn,kn,xn,An,Mn){var Un=new rN,Bn=Date.now(),zn=0,Wn=new Promise(function(ts,os){Un.open(kn.method,mn,!0),Un.responseType="arraybuffer",Un.timeout=kn.retryParameters.timeout,Un.withCredentials=kn.allowCrossSiteCredentials,Un.onabort=function(){os(new Hs(1,1,7001,mn,xn))};var ds=!1;Un.onreadystatechange=function(){if(Un.readyState==2&&!ds){var ys=eO(Un);Mn(ys),ds=!0}},Un.onload=function(){var ys=eO(Un),Cs=Un.response;try{var Ns=u$(ys,Cs,Un.status,mn,Un.responseURL,xn);ts(Ns)}catch(Os){os(Os)}},Un.onerror=function(ys){os(new Hs(1,1,1002,mn,ys,xn))},Un.ontimeout=function(){os(new Hs(1,1,1003,mn,xn))},Un.onprogress=function(ys){var Cs=Date.now();(100<Cs-Bn||ys.lengthComputable&&ys.loaded==ys.total)&&(An(Cs-Bn,ys.loaded-zn,ys.total-ys.loaded),zn=ys.loaded,Bn=Cs)};for(var ls in kn.headers)Un.setRequestHeader(ls.toLowerCase(),kn.headers[ls]);Un.send(kn.body)});return new Al(Wn,function(){return Un.abort(),Promise.resolve()})}function eO(mn){var kn=mn.getAllResponseHeaders().trim().split(`\r
`);mn={},kn=Dn(kn);for(var xn=kn.next();!xn.done;xn=kn.next())xn=xn.value.split(": "),mn[xn[0].toLowerCase()]=xn.slice(1).join(": ");return mn}Ys("shaka.net.HttpXHRPlugin",R1),R1.parse=N1;var rN=pn.XMLHttpRequest;gm("http",N1,1,!0),gm("https",N1,1,!0),gm("blob",N1,1,!0);function l$(mn,kn,xn,An){this.g=mn,this.i=kn,this.groupId=xn,this.h=An}function c$(mn){return mn.Pa().map(function(kn){return"{"+encodeURI(kn)+"}"}).join("")+":"+mn.Ta+":"+mn.Ca}function yC(mn,kn){return g_(mn.g.Pa(),mn.g.Ta,mn.g.Ca,kn.streaming.retryParameters)}function x_(){this.h=this.j=this.i=0,this.g=new Map,this.l=0}function d$(mn,kn){mn.i+=kn;var xn=mn.l;return mn.l++,mn.g.set(xn,kn),xn}x_.prototype.close=function(mn,kn){if(this.g.has(mn)){var xn=this.g.get(mn);this.g.delete(mn),this.j+=xn,this.h+=kn}};function w_(mn){var kn=this;this.s=mn,this.j=new Map,this.i=new Ov(function(){return D1(kn).catch(function(){})}),this.h=[],this.m=function(){},this.l=function(){},this.g=new x_}w_.prototype.destroy=function(){return this.i.destroy()};function nN(mn,kn,xn){mn.m=kn,mn.l=xn}function D1(mn){var kn=mn.h.map(function(xn){return xn()});return mn.h=[],Promise.all(kn)}function tO(mn,kn,xn,An,Mn,Un){Ol(mn.i);var Bn=(mn.j.get(kn)||Promise.resolve()).then(function(){var zn,Wn,ts,os,ds,ls,ys;return hs(function(Cs){if(Cs.g==1)return Qn(Cs,f$(mn,xn),2);if(zn=Cs.h,mn.i.g)throw new Hs(2,9,7001);if(Mn)for(os in Wn=Ku(zn),ts=new ov(Wn),ts.data)ds=Number(os),ls=ts.data[ds],ys=ts.g[ds],mn.l(ls,ys);mn.g.close(An,zn.byteLength);var Ns=mn.g;return mn.m(Ns.i==0?0:Ns.j/Ns.i,mn.g.h),Cs.return(Un(zn))})});mn.j.set(kn,Bn)}function rO(mn){return hs(function(kn){return kn.g==1?Qn(kn,Promise.all(mn.j.values()),2):kn.return(mn.g.h)})}function f$(mn,kn){var xn,An,Mn,Un;return hs(function(Bn){return Bn.g==1?(xn=Pv,An=mn.s.request(xn,kn),Mn=function(){return An.abort()},mn.h.push(Mn),Qn(Bn,An.promise,2)):(Un=Bn.h,qu(mn.h,Mn),Bn.return(Un.data))})}function Fp(mn,kn){var xn=this;this.i=mn,this.h=mn.objectStore(kn),this.g=new _l,mn.onabort=function(An){An.preventDefault(),xn.g.reject()},mn.onerror=function(An){An.preventDefault(),xn.g.reject()},mn.oncomplete=function(){xn.g.resolve()}}Fp.prototype.abort=function(){var mn=this;return hs(function(kn){if(kn.g==1){try{mn.i.abort()}catch{}return $s(kn,2),Qn(kn,mn.g,4)}if(kn.g!=2)return gs(kn,0);Ss(kn),ms(kn)})};function L1(mn,kn){return new Promise(function(xn,An){var Mn=mn.h.openCursor();Mn.onerror=An,Mn.onsuccess=function(){var Un;return hs(function(Bn){if(Bn.g==1)return Mn.result==null?(xn(),Bn.return()):(Un=Mn.result,Qn(Bn,kn(Un.key,Un.value,Un),2));Un.continue(),ms(Bn)})}})}Fp.prototype.store=function(){return this.h},Fp.prototype.promise=function(){return this.g};function vC(mn){this.h=mn,this.g=[]}vC.prototype.destroy=function(){return Promise.all(this.g.map(function(mn){return mn.abort()}))};function vv(mn,kn){return U1(mn,kn,"readwrite")}function U1(mn,kn,xn){xn=mn.h.transaction([kn],xn);var An=new Fp(xn,kn);return mn.g.push(An),An.promise().then(function(){qu(mn.g,An)},function(){qu(mn.g,An)}),An}function k0(mn,kn,xn){this.h=new vC(mn),this.i=kn,this.g=xn}En=k0.prototype,En.destroy=function(){return this.h.destroy()},En.hasFixedKeySpace=function(){return!0},En.addSegments=function(){return _C(this.i)},En.removeSegments=function(mn,kn){return ME(this,this.i,mn,kn)},En.getSegments=function(mn){var kn=this,xn;return hs(function(An){return An.g==1?Qn(An,RE(kn,kn.i,mn),2):(xn=An.h,An.return(xn.map(function(Mn){return kn.zf(Mn)})))})},En.addManifests=function(){return _C(this.g)},En.updateManifest=function(){return Promise.reject(new Hs(2,9,9016,"Cannot modify values in "+this.g))};function iN(mn,kn,xn){mn=vv(mn.h,mn.g);var An=mn.store();return An.get(kn).onsuccess=function(){An.put(xn,kn)},mn.promise()}En.updateManifestExpiration=function(mn,kn){var xn=vv(this.h,this.g),An=xn.store();return An.get(mn).onsuccess=function(Mn){(Mn=Mn.target.result)&&(Mn.expiration=kn,An.put(Mn,mn))},xn.promise()},En.removeManifests=function(mn,kn){return ME(this,this.g,mn,kn)},En.getManifests=function(mn){var kn=this,xn;return hs(function(An){return An.g==1?Qn(An,RE(kn,kn.g,mn),2):(xn=An.h,An.return(Promise.all(xn.map(function(Mn){return kn.Dc(Mn)}))))})},En.getAllManifests=function(){var mn=this,kn,xn;return hs(function(An){return An.g==1?(kn=U1(mn.h,mn.g,"readonly"),xn=new Map,Qn(An,L1(kn,function(Mn,Un){var Bn;return hs(function(zn){if(zn.g==1)return Qn(zn,mn.Dc(Un),2);Bn=zn.h,xn.set(Mn,Bn),ms(zn)})}),2)):An.g!=3?Qn(An,kn.promise(),3):An.return(xn)})},En.zf=function(mn){return mn},En.Dc=function(mn){return Promise.resolve(mn)};function _C(mn){return Promise.reject(new Hs(2,9,9011,"Cannot add new value to "+mn))}En.add=function(mn,kn){var xn=this,An,Mn,Un,Bn,zn,Wn,ts;return hs(function(os){if(os.g==1){for(An=vv(xn.h,mn),Mn=An.store(),Un=[],Bn={},zn=Dn(kn),Wn=zn.next();!Wn.done;Bn={gd:Bn.gd},Wn=zn.next())ts=Wn.value,Bn.gd=Mn.add(ts),Bn.gd.onsuccess=function(ds){return function(){Un.push(ds.gd.result)}}(Bn);return Qn(os,An.promise(),2)}return os.return(Un)})};function ME(mn,kn,xn,An){mn=vv(mn.h,kn),kn=mn.store();var Mn={};xn=Dn(xn);for(var Un=xn.next();!Un.done;Mn={fd:Mn.fd},Un=xn.next())Mn.fd=Un.value,kn.delete(Mn.fd).onsuccess=function(Bn){return function(){return An(Bn.fd)}}(Mn);return mn.promise()}function RE(mn,kn,xn){var An,Mn,Un,Bn,zn,Wn,ts;return hs(function(os){if(os.g==1){for(An=U1(mn.h,kn,"readonly"),Mn=An.store(),Un={},Bn=[],zn={},Wn=Dn(xn),ts=Wn.next();!ts.done;zn={zc:zn.zc,wc:zn.wc},ts=Wn.next())zn.wc=ts.value,zn.zc=Mn.get(zn.wc),zn.zc.onsuccess=function(ds){return function(){ds.zc.result==null&&Bn.push(ds.wc),Un[ds.wc]=ds.zc.result}}(zn);return Qn(os,An.promise(),2)}if(Bn.length)throw new Hs(2,9,9012,"Could not find values for "+Bn);return os.return(xn.map(function(ds){return Un[ds]}))})}function p$(mn){this.g=new vC(mn)}p$.prototype.destroy=function(){return this.g.destroy()},p$.prototype.getAll=function(){var mn=this,kn,xn;return hs(function(An){return An.g==1?(kn=U1(mn.g,"session-ids","readonly"),xn=[],Qn(An,L1(kn,function(Mn,Un){xn.push(Un)}),2)):An.g!=3?Qn(An,kn.promise(),3):An.return(xn)})},p$.prototype.add=function(mn){var kn=vv(this.g,"session-ids"),xn=kn.store();mn=Dn(mn);for(var An=mn.next();!An.done;An=mn.next())xn.add(An.value);return kn.promise()},p$.prototype.remove=function(mn){var kn=this,xn;return hs(function(An){return An.g==1?(xn=vv(kn.g,"session-ids"),Qn(An,L1(xn,function(Mn,Un,Bn){mn.includes(Un.sessionId)&&Bn.delete()}),2)):Qn(An,xn.promise(),0)})};function cm(){this.g=new Map}cm.prototype.destroy=function(){for(var mn=[],kn=Dn(this.g.values()),xn=kn.next();!xn.done;xn=kn.next())mn.push(xn.value.destroy());return this.g.clear(),Promise.all(mn)},cm.prototype.init=function(){var mn=this;Om.forEach(function(Mn,Un){(Mn=Mn())&&mn.g.set(Un,Mn)});for(var kn=[],xn=Dn(this.g.values()),An=xn.next();!An.done;An=xn.next())kn.push(An.value.init());return Promise.all(kn)};function EC(mn){var kn=null;if(mn.g.forEach(function(xn,An){xn.getCells().forEach(function(Mn,Un){Mn.hasFixedKeySpace()||kn||(kn={path:{Ra:An,Ba:Un},Ba:Mn})})}),kn)return kn;throw new Hs(2,9,9013,"Could not find a cell that supports add-operations")}function aN(mn,kn){mn.g.forEach(function(xn,An){xn.getCells().forEach(function(Mn,Un){kn({Ra:An,Ba:Un},Mn)})})}function b0(mn,kn,xn){if(mn=mn.g.get(kn),!mn)throw new Hs(2,9,9013,"Could not find mechanism with name "+kn);if(kn=mn.getCells().get(xn),!kn)throw new Hs(2,9,9013,"Could not find cell with name "+xn);return kn}function oN(mn,kn){mn.g.forEach(function(xn){kn(xn.getEmeSessionCell())})}function SC(mn){var kn=Array.from(mn.g.keys());if(!kn.length)throw new Hs(2,9,9e3,"No supported storage mechanisms found");return mn.g.get(kn[0]).getEmeSessionCell()}function nO(mn){var kn,xn,An;return hs(function(Mn){return Mn.g==1?(kn=Array.from(mn.g.values()),xn=0<kn.length,xn||(An=Om,An.forEach(function(Un){(Un=Un())&&kn.push(Un)})),Qn(Mn,Promise.all(kn.map(function(Un){return Un.erase()})),2)):xn?Mn.D(0):Qn(Mn,Promise.all(kn.map(function(Un){return Un.destroy()})),0)})}function iO(mn,kn){Om.set(mn,kn)}Ys("shaka.offline.StorageMuxer",cm),cm.unregister=function(mn){Om.delete(mn)},cm.register=iO,cm.prototype.destroy=cm.prototype.destroy;var Om=new Map;function x0(){k0.apply(this,arguments)}as(x0,k0),x0.prototype.updateManifestExpiration=function(mn,kn){var xn=this,An,Mn,Un;return hs(function(Bn){return An=vv(xn.h,xn.g),Mn=An.store(),Un=new _l,Mn.get(mn).onsuccess=function(zn){(zn=zn.target.result)?(zn.expiration=kn,Mn.put(zn),Un.resolve()):Un.reject(new Hs(2,9,9012,"Could not find values for "+mn))},Qn(Bn,Promise.all([An.promise(),Un]),0)})},x0.prototype.Dc=function(mn){var kn,xn,An,Mn,Un,Bn;return hs(function(zn){if(zn.g==1){for(kn=[],xn=0;xn<mn.periods.length;++xn)An=xn==mn.periods.length-1?mn.duration:mn.periods[xn+1].startTime,Mn=An-mn.periods[xn].startTime,Un=aO(mn.periods[xn],Mn),kn.push(Un);return Qn(zn,Ww(kn),2)}return Bn=zn.h,zn.return({creationTime:0,originalManifestUri:mn.originalManifestUri,duration:mn.duration,size:mn.size,expiration:mn.expiration==null?1/0:mn.expiration,streams:Bn,sessionIds:mn.sessionIds,drmInfo:mn.drmInfo,appMetadata:mn.appMetadata,sequenceMode:!1})})};function aO(mn,kn){j1(mn);for(var xn=Dn(mn.streams),An=xn.next();!An.done;An=xn.next());return mn.streams.map(function(Mn){return oO(Mn,mn.startTime,kn)})}function oO(mn,kn,xn){var An=mn.initSegmentUri?sO(mn.initSegmentUri):null,Mn=kn+mn.presentationTimeOffset,Un=kn+xn;return{id:mn.id,originalId:null,primary:mn.primary,type:mn.contentType,mimeType:mn.mimeType,codecs:mn.codecs,frameRate:mn.frameRate,pixelAspectRatio:void 0,hdr:void 0,kind:mn.kind,language:mn.language,label:mn.label,width:mn.width,height:mn.height,initSegmentKey:An,encrypted:mn.encrypted,keyIds:new Set([mn.keyId]),segments:mn.segments.map(function(Bn){var zn=sO(Bn.uri);return{startTime:kn+Bn.startTime,endTime:kn+Bn.endTime,dataKey:zn,initSegmentKey:An,appendWindowStart:kn,appendWindowEnd:Un,timestampOffset:Mn,tilesLayout:""}}),variantIds:mn.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0}}x0.prototype.zf=function(mn){return{data:mn.data}};function sO(mn){var kn;if((kn=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(mn))||(kn=/^offline:segment\/([0-9]+)$/.exec(mn)))return Number(kn[1]);throw new Hs(2,9,9004,"Could not parse uri "+mn)}function j1(mn){var kn=mn.streams.filter(function(zn){return zn.contentType=="audio"});if(mn=mn.streams.filter(function(zn){return zn.contentType=="video"}),!kn.every(function(zn){return zn.variantIds})||!mn.every(function(zn){return zn.variantIds})){for(var xn=Dn(kn),An=xn.next();!An.done;An=xn.next())An.value.variantIds=[];for(xn=Dn(mn),An=xn.next();!An.done;An=xn.next())An.value.variantIds=[];if(xn=0,mn.length&&!kn.length){var Mn=xn++,Un=Dn(mn);for(An=Un.next();!An.done;An=Un.next())An.value.variantIds.push(Mn)}if(!mn.length&&kn.length)for(Mn=xn++,Un=Dn(kn),An=Un.next();!An.done;An=Un.next())An.value.variantIds.push(Mn);if(mn.length&&kn.length)for(kn=Dn(kn),An=kn.next();!An.done;An=kn.next())for(An=An.value,Mn=Dn(mn),Un=Mn.next();!Un.done;Un=Mn.next()){Un=Un.value;var Bn=xn++;An.variantIds.push(Bn),Un.variantIds.push(Bn)}}}function F1(){k0.apply(this,arguments)}as(F1,k0),F1.prototype.Dc=function(mn){var kn,xn,An,Mn,Un,Bn;return hs(function(zn){if(zn.g==1){for(kn=[],xn=0;xn<mn.periods.length;++xn){An=xn==mn.periods.length-1?mn.duration:mn.periods[xn+1].startTime,Mn=An-mn.periods[xn].startTime;for(var Wn=mn.periods[xn],ts=[],os=Dn(Wn.streams),ds=os.next();!ds.done;ds=os.next())ds=ds.value,ds.variantIds.length!=0&&ts.push(sN(ds,Wn.startTime,Wn.startTime+Mn));Un=ts,kn.push(Un)}return Qn(zn,Ww(kn),2)}return Bn=zn.h,zn.return({appMetadata:mn.appMetadata,creationTime:0,drmInfo:mn.drmInfo,duration:mn.duration,expiration:mn.expiration==null?1/0:mn.expiration,originalManifestUri:mn.originalManifestUri,sessionIds:mn.sessionIds,size:mn.size,streams:Bn,sequenceMode:!1})})};function sN(mn,kn,xn){return{id:mn.id,originalId:mn.originalId,primary:mn.primary,type:mn.contentType,mimeType:mn.mimeType,codecs:mn.codecs,frameRate:mn.frameRate,pixelAspectRatio:mn.pixelAspectRatio,hdr:void 0,kind:mn.kind,language:mn.language,label:mn.label,width:mn.width,height:mn.height,encrypted:mn.encrypted,keyIds:new Set([mn.keyId]),segments:mn.segments.map(function(An){return{startTime:kn+An.startTime,endTime:kn+An.endTime,initSegmentKey:mn.initSegmentKey,appendWindowStart:kn,appendWindowEnd:xn,timestampOffset:kn-mn.presentationTimeOffset,dataKey:An.dataKey,tilesLayout:""}}),variantIds:mn.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0}}function B1(){k0.apply(this,arguments)}as(B1,k0),En=B1.prototype,En.hasFixedKeySpace=function(){return!1},En.addSegments=function(mn){return this.add(this.i,mn)},En.addManifests=function(mn){return this.add(this.g,mn)},En.updateManifest=function(mn,kn){return iN(this,mn,kn)},En.Dc=function(mn){return mn.expiration==null&&(mn.expiration=1/0),Promise.resolve(mn)};function $C(){this.m=this.j=this.i=this.h=this.g=this.l=null}En=$C.prototype,En.init=function(){var mn=this,kn=new _l,xn=!1,An=new Tu(function(){xn=!0,kn.reject(new Hs(2,9,9017))});An.R(5);var Mn=pn.indexedDB.open("shaka_offline_db",5);return Mn.onsuccess=function(){if(!xn){var Un=Mn.result;mn.l=Un;var Bn=Un.objectStoreNames;Bn=Bn.contains("manifest")&&Bn.contains("segment")?new x0(Un,"segment","manifest"):null,mn.g=Bn,Bn=Un.objectStoreNames,Bn=Bn.contains("manifest-v2")&&Bn.contains("segment-v2")?new F1(Un,"segment-v2","manifest-v2"):null,mn.h=Bn,Bn=Un.objectStoreNames,Bn=Bn.contains("manifest-v3")&&Bn.contains("segment-v3")?new F1(Un,"segment-v3","manifest-v3"):null,mn.i=Bn,Bn=Un.objectStoreNames,Bn=Bn.contains("manifest-v5")&&Bn.contains("segment-v5")?new B1(Un,"segment-v5","manifest-v5"):null,mn.j=Bn,Un=Un.objectStoreNames.contains("session-ids")?new p$(Un):null,mn.m=Un,An.stop(),kn.resolve()}},Mn.onupgradeneeded=function(){for(var Un=Mn.result,Bn=Dn(["segment-v5","manifest-v5","session-ids"]),zn=Bn.next();!zn.done;zn=Bn.next())zn=zn.value,Un.objectStoreNames.contains(zn)||Un.createObjectStore(zn,{autoIncrement:!0})},Mn.onerror=function(Un){xn||(kn.reject(new Hs(2,9,9001,Mn.error)),An.stop(),Un.preventDefault())},kn},En.destroy=function(){var mn=this;return hs(function(kn){switch(kn.g){case 1:if(!mn.g){kn.D(2);break}return Qn(kn,mn.g.destroy(),2);case 2:if(!mn.h){kn.D(4);break}return Qn(kn,mn.h.destroy(),4);case 4:if(!mn.i){kn.D(6);break}return Qn(kn,mn.i.destroy(),6);case 6:if(!mn.j){kn.D(8);break}return Qn(kn,mn.j.destroy(),8);case 8:if(!mn.m){kn.D(10);break}return Qn(kn,mn.m.destroy(),10);case 10:mn.l&&mn.l.close(),ms(kn)}})},En.getCells=function(){var mn=new Map;return this.g&&mn.set("v1",this.g),this.h&&mn.set("v2",this.h),this.i&&mn.set("v3",this.i),this.j&&mn.set("v5",this.j),mn},En.getEmeSessionCell=function(){return this.m},En.erase=function(){var mn=this;return hs(function(kn){switch(kn.g){case 1:if(!mn.g){kn.D(2);break}return Qn(kn,mn.g.destroy(),2);case 2:if(!mn.h){kn.D(4);break}return Qn(kn,mn.h.destroy(),4);case 4:if(!mn.i){kn.D(6);break}return Qn(kn,mn.i.destroy(),6);case 6:if(!mn.j){kn.D(8);break}return Qn(kn,mn.j.destroy(),8);case 8:return mn.l&&mn.l.close(),Qn(kn,uO(),10);case 10:return mn.l=null,mn.g=null,mn.h=null,mn.i=null,mn.j=null,Qn(kn,mn.init(),0)}})};function uO(){var mn=new _l,kn=pn.indexedDB.deleteDatabase("shaka_offline_db");return kn.onblocked=function(){},kn.onsuccess=function(){mn.resolve()},kn.onerror=function(xn){mn.reject(new Hs(2,9,9001,kn.error)),xn.preventDefault()},mn}iO("idb",function(){return Cl("CrKey")||xv()||!pn.indexedDB?null:new $C});function _v(mn,kn,xn,An){this.g=mn,this.i=kn,this.h=xn,this.l=An,this.j=["offline:",mn,"/",kn,"/",xn,"/",An].join("")}_v.prototype.Ra=function(){return this.i},_v.prototype.Ba=function(){return this.h},_v.prototype.key=function(){return this.l},_v.prototype.toString=function(){return this.j};function V1(mn){if(mn=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(mn),mn==null)return null;var kn=mn[1];if(kn!="manifest"&&kn!="segment")return null;var xn=mn[2];if(!xn)return null;var An=mn[3];return An&&kn!=null?new _v(kn,xn,An,Number(mn[4])):null}function lO(mn,kn){this.h=mn,this.g=kn}function cO(mn,kn){var xn=new Gu(null,0);xn.Sa(kn.duration);var An=kn.streams.filter(function(ts){return ts.type=="audio"}),Mn=kn.streams.filter(function(ts){return ts.type=="video"});An=uN(mn,An,Mn,xn),Mn=kn.streams.filter(function(ts){return ts.type==Vu}).map(function(ts){return NE(mn,ts,xn)});var Un=kn.streams.filter(function(ts){return ts.type=="image"}).map(function(ts){return NE(mn,ts,xn)}),Bn=kn.drmInfo?[kn.drmInfo]:[];if(kn.drmInfo)for(var zn=Dn(An.values()),Wn=zn.next();!Wn.done;Wn=zn.next())Wn=Wn.value,Wn.audio&&Wn.audio.encrypted&&(Wn.audio.drmInfos=Bn),Wn.video&&Wn.video.encrypted&&(Wn.video.drmInfos=Bn);return{presentationTimeline:xn,minBufferTime:2,offlineSessionIds:kn.sessionIds,variants:Array.from(An.values()),textStreams:Mn,imageStreams:Un,sequenceMode:kn.sequenceMode||!1}}function uN(mn,kn,xn,An){for(var Mn=new Set,Un=Dn(kn),Bn=Un.next();!Bn.done;Bn=Un.next()){var zn=Dn(Bn.value.variantIds);for(Bn=zn.next();!Bn.done;Bn=zn.next())Mn.add(Bn.value)}for(Un=Dn(xn),Bn=Un.next();!Bn.done;Bn=Un.next())for(zn=Dn(Bn.value.variantIds),Bn=zn.next();!Bn.done;Bn=zn.next())Mn.add(Bn.value);for(Un=new Map,Mn=Dn(Mn),Bn=Mn.next();!Bn.done;Bn=Mn.next())Bn=Bn.value,Un.set(Bn,{id:Bn,language:"",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});for(kn=Dn(kn),Mn=kn.next();!Mn.done;Mn=kn.next())for(Mn=Mn.value,Bn=NE(mn,Mn,An),zn=Dn(Mn.variantIds),Mn=zn.next();!Mn.done;Mn=zn.next())Mn=Un.get(Mn.value),Mn.language=Bn.language,Mn.primary=Mn.primary||Bn.primary,Mn.audio=Bn;for(xn=Dn(xn),kn=xn.next();!kn.done;kn=xn.next())for(Mn=kn.value,kn=NE(mn,Mn,An),Bn=Dn(Mn.variantIds),Mn=Bn.next();!Mn.done;Mn=Bn.next())Mn=Un.get(Mn.value),Mn.primary=Mn.primary||kn.primary,Mn.video=kn;return Un}function NE(mn,kn,xn){var An=kn.segments.map(function(Mn){return dO(mn,Mn)});return xn.lc(An),{id:kn.id,originalId:kn.originalId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new vl(An),mimeType:kn.mimeType,codecs:kn.codecs,width:kn.width||void 0,height:kn.height||void 0,frameRate:kn.frameRate,pixelAspectRatio:kn.pixelAspectRatio,hdr:kn.hdr,kind:kn.kind,encrypted:kn.encrypted,drmInfos:[],keyIds:kn.keyIds,language:kn.language,label:kn.label,type:kn.type,primary:kn.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:kn.roles,forced:kn.forced,channelsCount:kn.channelsCount,audioSamplingRate:kn.audioSamplingRate,spatialAudio:kn.spatialAudio,closedCaptions:kn.closedCaptions,tilesLayout:kn.tilesLayout}}function dO(mn,kn){var xn=new _v("segment",mn.h,mn.g,kn.dataKey);return new rl(kn.startTime,kn.endTime,function(){return[xn.toString()]},0,null,kn.initSegmentKey!=null?lN(mn,kn.initSegmentKey):null,kn.timestampOffset,kn.appendWindowStart,kn.appendWindowEnd,[],kn.tilesLayout||"")}function lN(mn,kn){var xn=new _v("segment",mn.h,mn.g,kn);return new Km(function(){return[xn.toString()]},0,null)}function fO(){this.g=null}En=fO.prototype,En.configure=function(){},En.start=function(mn,kn){var xn=this,An,Mn,Un,Bn,zn,Wn,ts;return hs(function(os){switch(os.g){case 1:if(An=V1(mn),xn.g=An,An==null||An.g!="manifest")throw new Hs(2,1,9004,mn);return Mn=new cm,Ms(os),Qn(os,Mn.init(),4);case 4:return Qn(os,b0(Mn,An.Ra(),An.Ba()),5);case 5:return Un=os.h,Qn(os,Un.getManifests([An.key()]),6);case 6:return Bn=os.h,zn=Bn[0],Wn=new lO(An.Ra(),An.Ba()),ts=cO(Wn,zn),kn.makeTextStreamsForClosedCaptions(ts),os.return(ts);case 2:return js(os),Qn(os,Mn.destroy(),7);case 7:bs(os,0)}})},En.stop=function(){return Promise.resolve()},En.update=function(){},En.onExpirationUpdated=function(mn,kn){var xn=this,An,Mn,Un,Bn,zn,Wn,ts;return hs(function(os){switch(os.g){case 1:return An=xn.g,Mn=new cm,$s(os,2,3),Qn(os,Mn.init(),5);case 5:return Qn(os,b0(Mn,An.Ra(),An.Ba()),6);case 6:return Un=os.h,Qn(os,Un.getManifests([An.key()]),7);case 7:if(Bn=os.h,zn=Bn[0],Wn=zn.sessionIds.includes(mn),ts=zn.expiration==null||zn.expiration>kn,!Wn||!ts){os.D(3);break}return Qn(os,Un.updateManifestExpiration(An.key(),kn),3);case 3:return js(os),Qn(os,Mn.destroy(),10);case 10:bs(os,0);break;case 2:Ss(os),os.D(3)}})},zm["application/x-offline-manifest"]=function(){return new fO};function pO(){}function TC(mn){var kn=V1(mn);return kn&&kn.g=="manifest"?(mn={uri:mn,originalUri:mn,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}},mn=tm(mn)):mn=kn&&kn.g=="segment"?kp(kn.key(),kn):Sl(new Hs(2,1,9004,mn)),mn}function kp(mn,kn){var xn=new cm;return tm(void 0).ia(function(){return xn.init()}).ia(function(){return b0(xn,kn.Ra(),kn.Ba())}).ia(function(An){return An.getSegments([kn.key()])}).ia(function(An){return{uri:kn,data:An[0].data,headers:{}}}).finally(function(){return xn.destroy()})}Ys("shaka.offline.OfflineScheme",pO),pO.plugin=TC,gm("offline",TC);function G1(mn,kn,xn){var An,Mn,Un,Bn,zn,Wn;return hs(function(ts){switch(ts.g){case 1:An=[];for(var os=[],ds=Dn(xn),ls=ds.next();!ls.done;ls=ds.next()){ls=ls.value;for(var ys=!1,Cs=Dn(os),Ns=Cs.next();!Ns.done;Ns=Cs.next())if(Ns=Ns.value,dN(Ns.info,ls)){Ns.sessionIds.push(ls.sessionId),ys=!0;break}ys||os.push({info:ls,sessionIds:[ls.sessionId]})}Mn=Dn(os),Un=Mn.next();case 2:if(Un.done){ts.D(4);break}return Bn=Un.value,zn=cN(mn,kn,Bn),Qn(ts,zn,5);case 5:Wn=ts.h,An=An.concat(Wn),Un=Mn.next(),ts.D(2);break;case 4:return ts.return(An)}})}function cN(mn,kn,xn){var An,Mn;return hs(function(Un){switch(Un.g){case 1:return An=new Y0({Ob:kn,onError:function(){},Fd:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),$s(Un,2),An.configure(mn),Qn(Un,DA(An,xn.info.keySystem,xn.info.licenseUri,xn.info.serverCertificate,xn.info.audioCapabilities,xn.info.videoCapabilities),4);case 4:gs(Un,3);break;case 2:return Ss(Un),Qn(Un,An.destroy(),5);case 5:return Un.return([]);case 3:return $s(Un,6),Qn(Un,px(An),8);case 8:gs(Un,7);break;case 6:return Ss(Un),Qn(Un,An.destroy(),9);case 9:return Un.return([]);case 7:return Mn=[],Qn(Un,Promise.all(xn.sessionIds.map(function(Bn){return hs(function(zn){if(zn.g==1)return $s(zn,2),Qn(zn,xM(An,Bn),4);if(zn.g!=2)return Mn.push(Bn),gs(zn,0);Ss(zn),ms(zn)})})),10);case 10:return Qn(Un,An.destroy(),11);case 11:return Un.return(Mn)}})}function dN(mn,kn){function xn(An,Mn){return An.robustness==Mn.robustness&&An.contentType==Mn.contentType}return mn.keySystem==kn.keySystem&&mn.licenseUri==kn.licenseUri&&Np(mn.audioCapabilities,kn.audioCapabilities,xn)&&Np(mn.videoCapabilities,kn.videoCapabilities,xn)}function hO(mn,kn,xn){var An=kn.presentationTimeline.getDuration();return kn=mO(kn),{offlineUri:null,originalManifestUri:mn,duration:An,size:0,expiration:1/0,tracks:kn,appMetadata:xn,isIncomplete:!1}}function z1(mn,kn){var xn=cO(new lO(mn.Ra(),mn.Ba()),kn),An=kn.appMetadata||{};return xn=mO(xn),{offlineUri:mn.toString(),originalManifestUri:kn.originalManifestUri,duration:kn.duration,size:kn.size,expiration:kn.expiration,tracks:xn,appMetadata:An,isIncomplete:kn.isIncomplete||!1}}function mO(mn){var kn=[],xn=$A(mn.variants);xn=Dn(xn);for(var An=xn.next();!An.done;An=xn.next())kn.push(B_(An.value));for(mn=Dn(mn.textStreams),xn=mn.next();!xn.done;xn=mn.next())kn.push(U$(xn.value));return kn}function fN(){this.g={}}function kC(mn,kn){var xn=kn.audio,An=kn.video;if(xn&&!An&&(mn.g[xn.id]=xn.bandwidth||kn.bandwidth),!xn&&An&&(mn.g[An.id]=An.bandwidth||kn.bandwidth),xn&&An){var Mn=xn.bandwidth||393216,Un=An.bandwidth||kn.bandwidth-Mn;0>=Un&&(Un=kn.bandwidth),mn.g[xn.id]=Mn,mn.g[An.id]=Un}}function gO(mn,kn){mn.g[kn.id]=kn.bandwidth||2048}function yO(mn,kn){return mn=mn.g[kn],mn==null&&(mn=0),mn}function bp(mn){var kn=this;if(mn&&mn.constructor!=iu)throw new Hs(2,9,9008);this.g=this.h=null,mn?(this.h=mn.h,this.g=mn.Hc()):(this.h=nu(),this.g=new wl),this.i=[],this.j=[];var xn=!mn;this.l=new Ov(function(){var An,Mn,Un,Bn,zn;return hs(function(Wn){switch(Wn.g){case 1:return Qn(Wn,Promise.all(kn.j.map(function(ts){return D1(ts)})),2);case 2:for(An=function(){},Mn=[],Un=Dn(kn.i),Bn=Un.next();!Bn.done;Bn=Un.next())zn=Bn.value,Mn.push(zn.then(An,An));return Qn(Wn,Promise.all(Mn),3);case 3:if(!xn){Wn.D(4);break}return Qn(Wn,kn.g.destroy(),4);case 4:kn.h=null,kn.g=null,ms(Wn)}})})}function H1(){if(Sp())e:{for(var mn=Dn(Om.values()),kn=mn.next();!kn.done;kn=mn.next())if(kn=kn.value,kn=kn()){kn.destroy(),mn=!0;break e}mn=!1}else mn=!1;return mn}En=bp.prototype,En.destroy=function(){return this.l.destroy()},En.configure=function(mn,kn){return arguments.length==2&&typeof mn=="string"&&(mn=s0(mn,kn)),Bv(this.h,mn)},En.getConfiguration=function(){var mn=nu();return Bv(mn,this.h,nu()),mn},En.Hc=function(){return this.g},En.store=function(mn,kn,xn){var An=this,Mn=this.getConfiguration(),Un=new w_(this.g);return this.j.push(Un),kn=pN(this,mn,kn||{},function(){var Bn;return hs(function(zn){return zn.g==1?Qn(zn,GA(mn,An.g,Mn.manifest.retryParameters,xn||null),2):(Bn=zn.h,zn.return(Bn()))})},Mn,Un),kn=new Al(kn,function(){return D1(Un)}),kn.finally(function(){qu(An.j,Un)}),W1(this,kn)};function pN(mn,kn,xn,An,Mn,Un){var Bn,zn,Wn,ts,os,ds,ls,ys,Cs,Ns,Os,Ps,Xs,Ds;return hs(function(qs){switch(qs.g){case 1:return C_(),zn=Bn=null,Wn=new cm,ds=os=ts=null,$s(qs,2,3),Qn(qs,An(),5);case 5:return Bn=qs.h,Qn(qs,SO(mn,kn,Bn,Mn),6);case 6:if(ls=qs.h,hp(mn),ys=!ls.presentationTimeline.U()&&!ls.presentationTimeline.Lb(),!ys)throw new Hs(2,9,9005,kn);return Qn(qs,SN(mn,ls,function(Qs){ds=ds||Qs},Mn),7);case 7:if(zn=qs.h,hp(mn),ds)throw ds;return Qn(qs,mN(ls,Mn),8);case 8:return Qn(qs,Wn.init(),9);case 9:return hp(mn),Qn(qs,EC(Wn),10);case 10:return ts=qs.h,hp(mn),Cs=gN(zn,ls,kn,xn,Mn,Un),Ns=Cs.ih,Os=Cs.We,Qn(qs,ts.Ba.addManifests([Ns]),11);case 11:if(Ps=qs.h,hp(mn),os=Ps[0],hp(mn),ds)throw ds;return Qn(qs,hN(mn,Os,os,Ns,Un,Mn,ts.Ba,ls,zn),12);case 12:return hp(mn),Xs=new _v("manifest",ts.path.Ra,ts.path.Ba,os),qs.return(z1(Xs,Ns));case 3:return js(qs),Qn(qs,Wn.destroy(),13);case 13:if(!Bn){qs.D(14);break}return Qn(qs,Bn.stop(),14);case 14:if(!zn){qs.D(16);break}return Qn(qs,zn.destroy(),16);case 16:bs(qs,0);break;case 2:if(Ds=Ss(qs),os==null){qs.D(18);break}return Qn(qs,vO(os),18);case 18:throw ds||Ds}})}function hN(mn,kn,xn,An,Mn,Un,Bn,zn,Wn){var ts,os,ds,ls,ys,Cs,Ns,Os,Ps,Xs;return hs(function(Ds){switch(Ds.g){case 1:if(ts={},os=0,ds=function(qs,Qs){var ru,ou,hu,gu,ju,Xu,Qu;return hs(function(dl){if(dl.g==1){for(ru={},ou=Dn(qs),hu=ou.next();!hu.done;ru={Fb:ru.Fb},hu=ou.next())ru.Fb=hu.value,gu=yC(ru.Fb,Un),ju=ru.Fb.i,Xu=ru.Fb.h,Qu=function(Du){return function(up){var wp,Dl,ty;return hs(function(Ev){if(Ev.g==1)return Qn(Ev,Bn.addSegments([{data:up}]),2);wp=Ev.h,hp(mn),Dl=Du.Fb.g,ty=c$(Dl),ts[ty]=wp[0],os+=up.byteLength,ms(Ev)})}}(ru),tO(Mn,ru.Fb.groupId,gu,ju,Xu,Qu);return Qn(dl,rO(Mn),2)}return Qs?(hp(mn),yN(zn,An,Wn,Un),Qn(dl,Bn.updateManifest(xn,An),0)):dl.D(0)})},ls=!1,$s(Ds,2),!bC(zn)||!ls||EO(zn)){Ds.D(4);break}return Qn(Ds,ds(kn.filter(function(qs){return qs.h}),!0),5);case 5:return hp(mn),kn=kn.filter(function(qs){return!qs.h}),ys=ts,Cs=os,ts={},os=0,Qn(Ds,_O(Bn,xn,An,ys,Cs,function(){return hp(mn)}),6);case 6:hp(mn);case 4:if(ls){Ds.D(7);break}return Qn(Ds,ds(kn,!1),8);case 8:return hp(mn),Ns=ts,Os=os,ts={},os=0,Qn(Ds,_O(Bn,xn,An,Ns,Os,function(){return hp(mn)}),9);case 9:hp(mn);case 7:gs(Ds,0);break;case 2:return Ps=Ss(Ds),Xs=Object.values(ts),Qn(Ds,Bn.removeSegments(Xs,function(){}),10);case 10:throw Ps}})}function vO(mn){var kn,xn,An,Mn;return hs(function(Un){switch(Un.g){case 1:return kn=new cm,Qn(Un,kn.init(),2);case 2:return Qn(Un,EC(kn),3);case 3:return xn=Un.h,An=new _v("manifest",xn.path.Ra,xn.path.Ba,mn),Qn(Un,kn.destroy(),4);case 4:return Mn=new bp,Qn(Un,Mn.remove(An.toString()),0)}})}function _O(mn,kn,xn,An,Mn,Un){var Bn,zn,Wn,ts,os,ds,ls,ys,Cs,Ns,Os;return hs(function(Ps){switch(Ps.g){case 1:for(Bn=!1,$s(Ps,2),zn=!0,Wn=Dn(xn.streams),ts=Wn.next();!ts.done;ts=Wn.next())for(os=ts.value,ds=Dn(os.segments),ls=ds.next();!ls.done;ls=ds.next())ys=ls.value,Cs=ys.pendingSegmentRefId?An[ys.pendingSegmentRefId]:null,Cs!=null&&(ys.dataKey=Cs,ys.pendingSegmentRefId=void 0),Cs=ys.pendingInitSegmentRefId?An[ys.pendingInitSegmentRefId]:null,Cs!=null&&(ys.initSegmentKey=Cs,ys.pendingInitSegmentRefId=void 0),ys.pendingSegmentRefId&&(zn=!1),ys.pendingInitSegmentRefId&&(zn=!1);return xn.size+=Mn,zn&&(xn.isIncomplete=!1),Qn(Ps,mn.updateManifest(kn,xn),4);case 4:Bn=!0,Un(),gs(Ps,0);break;case 2:return Ns=Ss(Ps),Qn(Ps,vO(kn),5);case 5:if(Bn){Ps.D(6);break}return Os=Object.values(An),Qn(Ps,mn.removeSegments(Os,function(){}),6);case 6:throw Ns}})}function mN(mn,kn){var xn,An,Mn,Un,Bn,zn,Wn,ts,os,ds,ls,ys,Cs,Ns,Os,Ps,Xs,Ds,qs,Qs,ru,ou,hu,gu,ju,Xu,Qu,dl,Du;return hs(function(up){switch(up.g){case 1:return xn={width:1/0,height:1/0},j_(mn,kn.restrictions,xn),Qn(up,Yk(mn,kn.offline.usePersistentLicense),2);case 2:for(An=[],Mn=kn.preferredAudioChannelCount,Un=kn.preferredDecodingAttributes,Bn=kn.preferredVideoCodecs,zn=kn.preferredAudioCodecs,Bl(mn,Bn,zn,Mn,Un),Wn=Dn(mn.variants),ts=Wn.next();!ts.done;ts=Wn.next())os=ts.value,An.push(B_(os));for(ds=Dn(mn.textStreams),ls=ds.next();!ls.done;ls=ds.next())ys=ls.value,An.push(U$(ys));for(Cs=Dn(mn.imageStreams),Ns=Cs.next();!Ns.done;Ns=Cs.next())Os=Ns.value,An.push(Jk(Os));return Qn(up,kn.offline.trackSelectionCallback(An),3);case 3:for(Ps=up.h,Xs=mn.presentationTimeline.getDuration(),Ds=0,qs=Dn(Ps),Qs=qs.next();!Qs.done;Qs=qs.next())ru=Qs.value,ou=ru.bandwidth*Xs/8,Ds+=ou;return $s(up,4),Qn(up,kn.offline.downloadSizeCallback(Ds),6);case 6:if(hu=up.h,!hu)throw new Hs(2,9,9014);gs(up,5);break;case 4:throw gu=Ss(up),gu instanceof Hs?gu:new Hs(2,9,9015);case 5:for(ju=new Set,Xu=new Set,Qu=new Set,dl=Dn(Ps),Qs=dl.next();!Qs.done;Qs=dl.next())Du=Qs.value,Du.type=="variant"&&ju.add(Du.id),Du.type=="text"&&Xu.add(Du.id),Du.type=="image"&&Qu.add(Du.id);mn.variants=mn.variants.filter(function(wp){return ju.has(wp.id)}),mn.textStreams=mn.textStreams.filter(function(wp){return Xu.has(wp.id)}),mn.imageStreams=mn.imageStreams.filter(function(wp){return Qu.has(wp.id)}),bO(mn),ms(up)}})}function gN(mn,kn,xn,An,Mn,Un){var Bn=hO(xn,kn,An),zn=Mn.offline.progressCallback;nN(Un,function(ys,Cs){Bn.size=Cs,zn(Bn,ys)},function(ys,Cs){Wn&&Mn.offline.usePersistentLicense&&ts==Cs&&dS(mn,"cenc",ys)});var Wn=bC(kn)&&!EO(kn),ts=null;Wn&&(ts=xO.get(mn.g.keySystem));for(var os=new fN,ds=Dn(kn.textStreams),ls=ds.next();!ls.done;ls=ds.next())os.g[ls.value.id]=52;for(ds=Dn(kn.imageStreams),ls=ds.next();!ls.done;ls=ds.next())gO(os,ls.value);for(ls=Dn(kn.variants),ds=ls.next();!ds.done;ds=ls.next())kC(os,ds.value);return os=$N(Un,os,kn,Mn),Un=os.streams,os=os.We,ls=mn.g,ds=Mn.offline.usePersistentLicense,ls&&ds&&(ls.initData=[]),{ih:{creationTime:Date.now(),originalManifestUri:xn,duration:kn.presentationTimeline.getDuration(),size:0,expiration:mn.Gc(),streams:Un,sessionIds:ds?LA(mn):[],drmInfo:ls,appMetadata:An,isIncomplete:!0,sequenceMode:kn.sequenceMode},We:os}}function bC(mn){return mn.variants.some(function(kn){var xn=kn.audio&&kn.audio.encrypted;return kn.video&&kn.video.encrypted||xn})}function EO(mn){return mn.variants.some(function(kn){return(kn.video?kn.video.drmInfos:[]).concat(kn.audio?kn.audio.drmInfos:[]).some(function(xn){return xn.initData&&xn.initData.length})})}function yN(mn,kn,xn,An){if(kn.expiration=xn.Gc(),xn=LA(xn),kn.sessionIds=An.offline.usePersistentLicense?xn:[],bC(mn)&&An.offline.usePersistentLicense&&!xn.length)throw new Hs(2,9,9007)}En.remove=function(mn){return K1(this,Wp(this,mn))};function Wp(mn,kn){var xn,An,Mn,Un,Bn,zn;return hs(function(Wn){switch(Wn.g){case 1:if(C_(),xn=V1(kn),xn==null||xn.g!="manifest")throw new Hs(2,9,9004,kn);return An=xn,Mn=new cm,Ms(Wn),Qn(Wn,Mn.init(),4);case 4:return Qn(Wn,b0(Mn,An.Ra(),An.Ba()),5);case 5:return Un=Wn.h,Qn(Wn,Un.getManifests([An.key()]),6);case 6:return Bn=Wn.h,zn=Bn[0],Qn(Wn,Promise.all([xC(mn,zn,Mn),vN(Un,An,zn)]),2);case 2:return js(Wn),Qn(Wn,Mn.destroy(),8);case 8:bs(Wn,0)}})}function h$(mn,kn){for(var xn=[],An=Dn(mn.streams),Mn=An.next();!Mn.done;Mn=An.next())Mn=Mn.value,kn&&Mn.type=="video"?xn.push({contentType:Vm(Mn.mimeType,Mn.codecs),robustness:mn.drmInfo.videoRobustness}):kn||Mn.type!="audio"||xn.push({contentType:Vm(Mn.mimeType,Mn.codecs),robustness:mn.drmInfo.audioRobustness});return xn}function xC(mn,kn,xn){return hs(function(An){return Qn(An,TO(mn.g,mn.h.drm,xn,kn),0)})}function vN(mn,kn,xn){function An(){}var Mn=$O(xn);return z1(kn,xn),Promise.all([mn.removeSegments(Mn,An),mn.removeManifests([kn.key()],An)])}En.yh=function(){return K1(this,_N(this))};function _N(mn){var kn,xn,An,Mn,Un,Bn,zn,Wn,ts,os;return hs(function(ds){switch(ds.g){case 1:return C_(),kn=mn.g,xn=mn.h.drm,An=new cm,Mn=!1,Ms(ds),Qn(ds,An.init(),4);case 4:Un=[],oN(An,function(ls){return Un.push(ls)}),Bn=Dn(Un),zn=Bn.next();case 5:if(zn.done){ds.D(2);break}return Wn=zn.value,Qn(ds,Wn.getAll(),8);case 8:return ts=ds.h,Qn(ds,G1(xn,kn,ts),9);case 9:return os=ds.h,Qn(ds,Wn.remove(os),10);case 10:os.length!=ts.length&&(Mn=!0),zn=Bn.next(),ds.D(5);break;case 2:return js(ds),Qn(ds,An.destroy(),11);case 11:bs(ds,3);break;case 3:return ds.return(!Mn)}})}En.list=function(){return K1(this,EN())};function EN(){var mn,kn,xn;return hs(function(An){switch(An.g){case 1:return C_(),mn=[],kn=new cm,Ms(An),Qn(An,kn.init(),4);case 4:return xn=Promise.resolve(),aN(kn,function(Mn,Un){xn=xn.then(function(){var Bn;return hs(function(zn){if(zn.g==1)return Qn(zn,Un.getAllManifests(),2);Bn=zn.h,Bn.forEach(function(Wn,ts){Wn=z1(new _v("manifest",Mn.Ra,Mn.Ba,ts),Wn),mn.push(Wn)}),ms(zn)})})}),Qn(An,xn,2);case 2:return js(An),Qn(An,kn.destroy(),6);case 6:bs(An,3);break;case 3:return An.return(mn)}})}function SO(mn,kn,xn,An){var Mn,Un,Bn,zn,Wn;return hs(function(ts){if(ts.g==1)return Mn=null,Un=mn.g,Bn={networkingEngine:Un,modifyManifestRequest:function(){},modifySegmentRequest:function(){},filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(os){Mn=os},isLowLatencyMode:function(){return!1},isAutoLowLatencyMode:function(){return!1},enableLowLatencyMode:function(){},updateDuration:function(){},newDrmInfo:function(){}},xn.configure(An.manifest),hp(mn),Qn(ts,xn.start(kn,Bn),2);if(ts.g!=3)return zn=ts.h,hp(mn),Wn=kO(zn),Qn(ts,Promise.all(el(Wn,function(os){return os.createSegmentIndex()})),3);if(hp(mn),Mn)throw Mn;return ts.return(zn)})}function SN(mn,kn,xn,An){var Mn;return hs(function(Un){switch(Un.g){case 1:return Mn=new Y0({Ob:mn.g,onError:xn,Fd:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),Mn.configure(An.drm),Qn(Un,NA(Mn,kn.variants,An.offline.usePersistentLicense),2);case 2:return Qn(Un,px(Mn),3);case 3:return Qn(Un,hx(Mn),4);case 4:return Un.return(Mn)}})}function $N(mn,kn,xn,An){var Mn=new Map,Un=kO(xn),Bn=new Map;Un=Dn(Un);for(var zn=Un.next();!zn.done;zn=Un.next()){zn=zn.value;var Wn=Op(mn,kn,xn,zn,An,Mn);Bn.set(zn.id,Wn)}for(mn=Dn(xn.variants),kn=mn.next();!kn.done;kn=mn.next())kn=kn.value,kn.audio&&Bn.get(kn.audio.id).variantIds.push(kn.id),kn.video&&Bn.get(kn.video.id).variantIds.push(kn.id);return{streams:Array.from(Bn.values()),We:Array.from(Mn.values())}}function Op(mn,kn,xn,An,Mn,Un){var Bn={id:An.id,originalId:An.originalId,primary:An.primary,type:An.type,mimeType:An.mimeType,codecs:An.codecs,frameRate:An.frameRate,pixelAspectRatio:An.pixelAspectRatio,hdr:An.hdr,kind:An.kind,language:An.language,label:An.label,width:An.width||null,height:An.height||null,encrypted:An.encrypted,keyIds:An.keyIds,segments:[],variantIds:[],roles:An.roles,forced:An.forced,channelsCount:An.channelsCount,audioSamplingRate:An.audioSamplingRate,spatialAudio:An.spatialAudio,closedCaptions:An.closedCaptions,tilesLayout:An.tilesLayout},zn=Mn.offline.numberOfParallelDownloads,Wn=0;return nm(An,xn.presentationTimeline.kb(),function(ts){var os=c$(ts),ds=void 0;if(!Un.has(os)){var ls=ts.endTime-ts.startTime;ls=yO(kn,An.id)*ls,ls=d$(mn.g,ls),Un.set(os,new l$(ts,ls,Wn,!1))}ts.h&&(ds=c$(ts.h),Un.has(ds)||(ls=.5*yO(kn,An.id),ls=d$(mn.g,ls),Un.set(ds,new l$(ts.h,ls,Wn,!0)))),Bn.segments.push({pendingInitSegmentRefId:ds,initSegmentKey:ds?0:null,startTime:ts.startTime,endTime:ts.endTime,appendWindowStart:ts.appendWindowStart,appendWindowEnd:ts.appendWindowEnd,timestampOffset:ts.timestampOffset,tilesLayout:ts.tilesLayout,pendingSegmentRefId:os,dataKey:0}),Wn=(Wn+1)%zn}),Bn}function nm(mn,kn,xn){if(kn=mn.segmentIndex.find(kn),kn!=null)for(var An=mn.segmentIndex.get(kn);An;)xn(An),An=mn.segmentIndex.get(++kn)}function hp(mn){if(mn.l.g)throw new Hs(2,9,7001)}function C_(){if(!H1())throw new Hs(2,9,9e3)}function K1(mn,kn){return hs(function(xn){return xn.g==1?(mn.i.push(kn),Ms(xn),Qn(xn,kn,4)):xn.g!=2?xn.return(xn.h):(js(xn),qu(mn.i,kn),bs(xn,0))})}function W1(mn,kn){var xn=kn.promise;return mn.i.push(xn),kn.finally(function(){qu(mn.i,xn)})}function $O(mn){var kn=new Set;mn=Dn(mn.streams);for(var xn=mn.next();!xn.done;xn=mn.next()){xn=Dn(xn.value.segments);for(var An=xn.next();!An.done;An=xn.next())An=An.value,An.initSegmentKey!=null&&kn.add(An.initSegmentKey),kn.add(An.dataKey)}return Array.from(kn)}function TO(mn,kn,xn,An){var Mn,Un,Bn;return hs(function(zn){return zn.g==1?An.drmInfo?(Mn=SC(xn),Un=An.sessionIds.map(function(Wn){return{sessionId:Wn,keySystem:An.drmInfo.keySystem,licenseUri:An.drmInfo.licenseServerUri,serverCertificate:An.drmInfo.serverCertificate,audioCapabilities:h$(An,!1),videoCapabilities:h$(An,!0)}}),Qn(zn,G1(kn,mn,Un),2)):zn.return():zn.g!=3?(Bn=zn.h,Qn(zn,Mn.remove(Bn),3)):Qn(zn,Mn.add(Un.filter(function(Wn){return!Bn.includes(Wn.sessionId)})),0)})}function kO(mn){for(var kn=new Set,xn=Dn(mn.textStreams),An=xn.next();!An.done;An=xn.next())kn.add(An.value);for(xn=Dn(mn.imageStreams),An=xn.next();!An.done;An=xn.next())kn.add(An.value);for(mn=Dn(mn.variants),xn=mn.next();!xn.done;xn=mn.next())xn=xn.value,xn.audio&&kn.add(xn.audio),xn.video&&kn.add(xn.video);return kn}function bO(mn){mn.variants.map(function(Un){return Un.video});var kn=new Set(mn.variants.map(function(Un){return Un.audio}));mn=mn.textStreams;for(var xn=Dn(kn),An=xn.next();!An.done;An=xn.next()){An=Dn(kn);for(var Mn=An.next();!Mn.done;Mn=An.next());}for(kn=Dn(mn),xn=kn.next();!xn.done;xn=kn.next())for(xn=Dn(mn),An=xn.next();!An.done;An=xn.next());}Ys("shaka.offline.Storage",bp),bp.deleteAll=function(){var mn;return hs(function(kn){return kn.g==1?(mn=new cm,Ms(kn),Qn(kn,nO(mn),2)):kn.g!=5?(js(kn),Qn(kn,mn.destroy(),5)):bs(kn,0)})},bp.prototype.list=bp.prototype.list,bp.prototype.removeEmeSessions=bp.prototype.yh,bp.prototype.remove=bp.prototype.remove,bp.prototype.store=bp.prototype.store,bp.prototype.getNetworkingEngine=bp.prototype.Hc,bp.prototype.getConfiguration=bp.prototype.getConfiguration,bp.prototype.configure=bp.prototype.configure,bp.prototype.destroy=bp.prototype.destroy,bp.support=H1;var xO=new Map().set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware","9a04f07998404286ab92e65be0885f95").set("com.adobe.primetime","f239e769efa348509c16a903c6932efb");WT.offline=H1;function xp(){}function wC(){for(var mn=Dn(w0),kn=mn.next();!kn.done;kn=mn.next()){kn=kn.value;try{kn.og()}catch(xn){$u("Error installing polyfill!",xn)}}}function mp(mn,kn){for(mn={priority:kn||0,og:mn},kn=0;kn<w0.length;kn++)if(w0[kn].priority<mn.priority){w0.splice(kn,0,mn);return}w0.push(mn)}Ys("shaka.polyfill",xp),xp.register=mp,xp.installAll=wC;var w0=[];function DE(){this.g=new m$}function wO(){pn.AbortController||(pn.AbortController=DE,pn.AbortSignal=m$)}DE.prototype.abort=function(mn){var kn=this.g;kn.h||(kn.h=!0,kn.g=mn,kn.g===void 0&&(kn.g=new DOMException("signal is aborted without reason","AbortError")),mn=new _u("abort"),kn.onabort&&kn.onabort(mn),kn.dispatchEvent(mn))},Ln.Object.defineProperties(DE.prototype,{signal:{configurable:!0,enumerable:!0,get:function(){return this.g}}}),xp.AbortController=DE,DE.install=wO;function m$(){Eu.call(this),this.h=!1,this.g=void 0,this.onabort=null}as(m$,Eu),Ln.Object.defineProperties(m$.prototype,{aborted:{configurable:!0,enumerable:!0,get:function(){return this.h}},reason:{configurable:!0,enumerable:!0,get:function(){return this.g}}}),mp(wO);function CC(){}function AC(){if(!Object.getOwnPropertyDescriptor(Element.prototype,"ariaHidden"))for(var mn=Dn(["ariaHidden","ariaLabel","ariaPressed","ariaSelected"]),kn=mn.next();!kn.done;kn=mn.next())CO(kn.value)}function CO(mn){var kn="aria-"+mn.toLowerCase().replace(/^aria/,"");Object.defineProperty(Element.prototype,mn,{get:function(){return this.getAttribute(kn)},set:function(xn){xn==null||xn==null?this.removeAttribute(kn):this.setAttribute(kn,xn)}})}xp.Aria=CC,CC.install=AC,mp(AC);function AO(){}function IO(){ps()}xp.EncryptionScheme=AO,AO.install=IO,mp(IO,-2);function PO(){}function OO(){if(pn.Document){var mn=Element.prototype;mn.requestFullscreen=mn.requestFullscreen||mn.mozRequestFullScreen||mn.msRequestFullscreen||mn.webkitRequestFullscreen,mn=Document.prototype,mn.exitFullscreen=mn.exitFullscreen||mn.mozCancelFullScreen||mn.msExitFullscreen||mn.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",LE),document.addEventListener("webkitfullscreenerror",LE),document.addEventListener("mozfullscreenchange",LE),document.addEventListener("mozfullscreenerror",LE),document.addEventListener("MSFullscreenChange",LE),document.addEventListener("MSFullscreenError",LE)}}function LE(mn){var kn=mn.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),xn=document.createEvent("Event");xn.initEvent(kn,mn.bubbles,mn.cancelable),mn.target.dispatchEvent(xn)}xp.Fullscreen=PO,PO.install=OO,mp(OO);function q1(){}function IC(){var mn=!0;(rv()||Cl("PlayStation 5")||t_()||Cl("Web0S")||Fm()||Cl("CrKey")||Cl("PC=EOS")||Cl("Hisense")||Cl("VIDAA"))&&(mn=!1),mn&&navigator.mediaCapabilities||(navigator.mediaCapabilities||(navigator.mediaCapabilities={}),g$=navigator.mediaCapabilities,navigator.mediaCapabilities.decodingInfo=TN)}function TN(mn){var kn,xn,An,Mn,Un,Bn,zn,Wn,ts,os,ds,ls,ys,Cs,Ns,Os,Ps,Xs;return hs(function(Ds){switch(Ds.g){case 1:if(kn={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:mn},!mn)return Ds.return(kn);if(xn=mn.video,An=mn.audio,mn.type=="media-source"){if(!Sp())return Ds.return(kn);if(xn){if(Cl("CrKey"))if(pn.cast&&cast.__platform__&&cast.__platform__.canDisplayType){var qs=xn.contentType;xn.width&&xn.height&&(qs+="; width="+xn.width+"; height="+xn.height),xn.framerate&&(qs+="; framerate="+xn.framerate),xn.transferFunction==="pq"&&(qs+="; eotf=smpte2084"),Mn=cast.__platform__.canDisplayType(qs)}else Mn=dp(xn.contentType);else Fm()?(Un=xn.contentType,xn.width&&xn.height&&(Un+="; width="+xn.width,Un+="; height="+xn.height),xn.framerate&&(Un+="; framerate="+xn.framerate),xn.bitrate&&(Un+="; bitrate="+xn.bitrate),Mn=dp(Un)):Mn=dp(xn.contentType);if(!Mn)return Ds.return(kn)}if(An&&(Bn=An.contentType,zn=dp(Bn),!zn))return Ds.return(kn)}else if(mn.type=="file"){if(xn&&(Wn=xn.contentType,ts=oy(Wn),!ts)||An&&(os=An.contentType,ds=oy(os),!ds))return Ds.return(kn)}else return Ds.return(kn);return mn.keySystemConfiguration?(ls=mn.keySystemConfiguration,ys=[],Cs=[],ls.audio&&(Ns={robustness:ls.audio.robustness||"",contentType:mn.audio.contentType},ys.push(Ns)),ls.video&&(Os={robustness:ls.video.robustness||"",contentType:mn.video.contentType},Cs.push(Os)),Ps={initDataTypes:[ls.initDataType],distinctiveIdentifier:ls.distinctiveIdentifier,persistentState:ls.persistentState,sessionTypes:ls.sessionTypes},ys.length&&(Ps.audioCapabilities=ys),Cs.length&&(Ps.videoCapabilities=Cs),$s(Ds,3),Qn(Ds,navigator.requestMediaKeySystemAccess(ls.keySystem,[Ps]),5)):(kn.supported=!0,Ds.return(Promise.resolve(kn)));case 5:Xs=Ds.h,gs(Ds,4);break;case 3:Ss(Ds);case 4:Xs&&(kn.supported=!0,kn.keySystemAccess=Xs);case 2:return Ds.return(kn)}})}xp.MediaCapabilities=q1,q1.install=IC;var g$=null;q1.originalMcap=g$,mp(IC,-1);function Y1(){}function X1(){var mn=N0();pn.MediaSource&&(pn.cast&&cast.__platform__&&cast.__platform__.canDisplayType?RC():mn?12>=mn?(Q1(),PC()):15>=mn&&Q1():e_()?OC():(Cl("Tizen 2")||Cl("Tizen 3")||Cl("Tizen 4"))&&MC()),pn.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&kN()}function Q1(){var mn=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var kn=mn.apply(this,lu.apply(0,arguments));return kn.abort=function(){},kn}}function PC(){var mn=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(kn,xn){return mn.call(this,kn,xn-.001)}}function OC(){var mn=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(kn){return kn.split(";")[0].split("/")[1]!="mp2t"&&mn(kn)}}function MC(){var mn=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(kn){return Ks(kn)[0]!="opus"&&mn(kn)}}function RC(){var mn=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(kn){var xn=kn.split(/ *; */);return xn.shift(),xn.some(function(An){return An.startsWith("codecs=")})?cast.__platform__.canDisplayType(kn):mn(kn)}}function kN(){var mn=MediaSource.isTypeSupported;Cl("Web0S")||(MediaSource.isTypeSupported=function(kn){var xn=kn.split(/ *; */),An=xn.findIndex(function(Bn){return Bn.startsWith("codecs=")});if(0>An)return mn(kn);var Mn=xn[An].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),Un=Mn.findIndex(function(Bn){return Bn.startsWith("vp09")});return 0<=Un&&(Mn[Un]="vp9",xn[An]='codecs="'+Mn.join(",")+'"',kn=xn.join("; ")),mn(kn)})}xp.MediaSource=Y1,Y1.install=X1,mp(X1);function MO(){}function RO(){screen.orientation||pn.orientation!=null&&Z1()}function Z1(){function mn(){switch(pn.orientation){case-90:kn.type="landscape-secondary",kn.angle=270;break;case 0:kn.type="portrait-primary",kn.angle=0;break;case 90:kn.type="landscape-primary",kn.angle=90;break;case 180:kn.type="portrait-secondary",kn.angle=180}}var kn=new C0;screen.orientation=kn,mn(),pn.addEventListener("orientationchange",function(){mn();var xn=new _u("change");kn.dispatchEvent(xn)})}xp.Orientation=MO,MO.install=RO;function C0(){Eu.call(this),this.type="",this.angle=0}as(C0,Eu),C0.prototype.lock=function(mn){function kn(An){return screen.lockOrientation?screen.lockOrientation(An):screen.mozLockOrientation?screen.mozLockOrientation(An):screen.msLockOrientation?screen.msLockOrientation(An):!1}var xn=!1;switch(mn){case"natural":xn=kn("default");break;case"any":xn=!0,this.unlock();break;default:xn=kn(mn)}return xn?Promise.resolve():(mn=Error("screen.orientation.lock() is not available on this device"),mn.name="NotSupportedError",mn.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(mn))},C0.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},mp(RO);function J1(){}var y$,UE,_k,Ek,Sk,NC;function bN(mn,kn){try{var xn=new v$(mn,kn);return Promise.resolve(xn)}catch(An){return Promise.reject(An)}}function DC(mn){var kn=this.mediaKeys;return kn&&kn!=mn&&$k(kn,null),delete this.mediaKeys,(this.mediaKeys=mn)?$k(mn,this):Promise.resolve()}function LC(mn){if(mn=Ku(mn.initData),Hp(mn).getUint32(0,!0)+4!=mn.byteLength)throw new RangeError("Malformed FairPlay init data");mn=Ry(mn.subarray(4),!0),mn=Kp(mn);var kn=new Event("encrypted");kn.initDataType="skd",kn.initData=fp(mn),this.dispatchEvent(kn)}xp.PatchedMediaKeysApple=J1,J1.uninstall=function(){y$&&(y$=!1,Object.defineProperty(HTMLMediaElement.prototype,"mediaKeys",UE),HTMLMediaElement.prototype.setMediaKeys=_k,pn.MediaKeys=Ek,pn.MediaKeySystemAccess=Sk,navigator.requestMediaKeySystemAccess=NC,UE=NC=_k=Sk=Ek=null,pn.shakaMediaKeysPolyfill=!1)},J1.install=function(mn){pn.HTMLVideoElement&&pn.WebKitMediaKeys&&(mn!==void 0&&mn&&(y$=!0,UE=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"mediaKeys"),_k=HTMLMediaElement.prototype.setMediaKeys,Ek=pn.MediaKeys,Sk=pn.MediaKeySystemAccess,NC=navigator.requestMediaKeySystemAccess),delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=DC,pn.MediaKeys=_$,pn.MediaKeySystemAccess=v$,navigator.requestMediaKeySystemAccess=bN,pn.shakaMediaKeysPolyfill=!0)};function v$(mn,kn){if(this.keySystem=mn,mn.startsWith("com.apple.fps"))for(mn=Dn(kn),kn=mn.next();!kn.done;kn=mn.next()){var xn=kn.value;if(xn.persistentState=="required")kn=null;else{kn={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:xn.initDataTypes,sessionTypes:["temporary"],label:xn.label};var An=!1,Mn=!1;if(xn.audioCapabilities)for(var Un=Dn(xn.audioCapabilities),Bn=Un.next();!Bn.done;Bn=Un.next())Bn=Bn.value,Bn.contentType&&(An=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,Bn.contentType.split(";")[0])&&(kn.audioCapabilities.push(Bn),Mn=!0));if(xn.videoCapabilities)for(xn=Dn(xn.videoCapabilities),Bn=xn.next();!Bn.done;Bn=xn.next())Un=Bn.value,Un.contentType&&(An=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,Un.contentType.split(";")[0])&&(kn.videoCapabilities.push(Un),Mn=!0));An||(Mn=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),kn=Mn?kn:null}if(kn){this.g=kn;return}}throw mn=Error("Unsupported keySystem"),mn.name="NotSupportedError",mn.code=DOMException.NOT_SUPPORTED_ERR,mn}v$.prototype.createMediaKeys=function(){var mn=new _$(this.keySystem);return Promise.resolve(mn)},v$.prototype.getConfiguration=function(){return this.g};function _$(mn){this.h=new WebKitMediaKeys(mn),this.g=new xu}_$.prototype.createSession=function(mn){if(mn=mn||"temporary",mn!="temporary")throw new TypeError("Session type "+mn+" is unsupported on this platform.");return new UC(this.h)},_$.prototype.setServerCertificate=function(){return Promise.resolve(!1)};function $k(mn,kn){if(mn.g.Rb(),!kn)return Promise.resolve();mn.g.o(kn,"webkitneedkey",LC);try{return J_(kn,HTMLMediaElement.HAVE_METADATA,mn.g,function(){kn.webkitSetMediaKeys(mn.h)}),Promise.resolve()}catch(xn){return Promise.reject(xn)}}function UC(mn){Eu.call(this),this.i=null,this.l=mn,this.g=this.h=null,this.j=new xu,this.sessionId="",this.expiration=NaN,this.closed=new _l,this.keyStatuses=new E$}as(UC,Eu),En=UC.prototype,En.generateRequest=function(mn,kn){var xn=this;this.h=new _l;try{var An=this.l.createSession("video/mp4",Ku(kn));this.i=An,this.sessionId=An.sessionId||"",this.j.o(this.i,"webkitkeymessage",function(Mn){xn.h&&(xn.h.resolve(),xn.h=null),Mn=new Map().set("messageType",xn.keyStatuses.ec()==null?"license-request":"license-renewal").set("message",fp(Mn.message)),Mn=new _u("message",Mn),xn.dispatchEvent(Mn)}),this.j.o(An,"webkitkeyadded",function(){xn.g&&(Tk(xn,"usable"),xn.g.resolve(),xn.g=null)}),this.j.o(An,"webkitkeyerror",function(){var Mn=Error("EME PatchedMediaKeysApple key error");if(Mn.errorCode=xn.i.error,xn.h!=null)xn.h.reject(Mn),xn.h=null;else if(xn.g!=null)xn.g.reject(Mn),xn.g=null;else switch(xn.i.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:Tk(xn,"output-not-allowed");break;default:Tk(xn,"internal-error")}}),Tk(this,"status-pending")}catch(Mn){this.h.reject(Mn)}return this.h},En.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},En.update=function(mn){this.g=new _l;try{this.i.update(Ku(mn))}catch(kn){this.g.reject(kn)}return this.g},En.close=function(){try{this.i.close(),this.closed.resolve(),this.j.Rb()}catch(mn){this.closed.reject(mn)}return this.closed},En.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))};function Tk(mn,kn){var xn=mn.keyStatuses;xn.size=kn==null?0:1,xn.g=kn,kn=new _u("keystatuseschange"),mn.dispatchEvent(kn)}function E$(){this.size=0,this.g=void 0}En=E$.prototype,En.ec=function(){return this.g},En.forEach=function(mn){this.g&&mn(this.g,J$.value())},En.get=function(mn){if(this.has(mn))return this.g},En.has=function(mn){var kn=J$.value();return!!(this.g&&Ip(mn,kn))},En.entries=function(){},En.keys=function(){},En.values=function(){};function S$(){}function jC(){!pn.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=FC,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=BC,pn.MediaKeys=Ck,pn.MediaKeySystemAccess=$$,pn.shakaMediaKeysPolyfill=!0)}function FC(){return Promise.reject(Error("The key system specified is not supported."))}function BC(mn){return mn==null?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}xp.PatchedMediaKeysNop=S$,S$.install=jC;function Ck(){throw new TypeError("Illegal constructor.")}Ck.prototype.createSession=function(){},Ck.prototype.setServerCertificate=function(){};function $$(){throw this.keySystem="",new TypeError("Illegal constructor.")}$$.prototype.getConfiguration=function(){},$$.prototype.createMediaKeys=function(){},mp(jC,-10);function T$(){}function VC(){if(!(!pn.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)Mk="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=NO,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=DO,pn.MediaKeys=Ik,pn.MediaKeySystemAccess=Ak,pn.shakaMediaKeysPolyfill=!0}}function k$(mn){var kn=Mk;return kn?kn+mn.charAt(0).toUpperCase()+mn.slice(1):mn}function NO(mn,kn){try{var xn=new Ak(mn,kn);return Promise.resolve(xn)}catch(An){return Promise.reject(An)}}function DO(mn){var kn=this.mediaKeys;return kn&&kn!=mn&&LO(kn,null),delete this.mediaKeys,(this.mediaKeys=mn)&&LO(mn,this),Promise.resolve()}xp.PatchedMediaKeysWebkit=T$,T$.install=VC;function Ak(mn,kn){this.g=this.keySystem=mn;var xn=!1;mn=="org.w3.clearkey"&&(this.g="webkit-org.w3.clearkey",xn=!1);var An=!1,Mn=document.getElementsByTagName("video");Mn=Mn.length?Mn[0]:document.createElement("video"),kn=Dn(kn);for(var Un=kn.next();!Un.done;Un=kn.next()){Un=Un.value;var Bn={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:Un.initDataTypes,sessionTypes:["temporary"],label:Un.label},zn=!1;if(Un.audioCapabilities)for(var Wn=Dn(Un.audioCapabilities),ts=Wn.next();!ts.done;ts=Wn.next())ts=ts.value,ts.contentType&&(zn=!0,Mn.canPlayType(ts.contentType.split(";")[0],this.g)&&(Bn.audioCapabilities.push(ts),An=!0));if(Un.videoCapabilities)for(Wn=Dn(Un.videoCapabilities),ts=Wn.next();!ts.done;ts=Wn.next())ts=ts.value,ts.contentType&&(zn=!0,Mn.canPlayType(ts.contentType,this.g)&&(Bn.videoCapabilities.push(ts),An=!0));if(zn||(An=Mn.canPlayType("video/mp4",this.g)||Mn.canPlayType("video/webm",this.g)),Un.persistentState=="required"&&(xn?(Bn.persistentState="required",Bn.sessionTypes=["persistent-license"]):An=!1),An){this.h=Bn;return}}throw xn="Unsupported keySystem",(mn=="org.w3.clearkey"||mn=="com.widevine.alpha")&&(xn="None of the requested configurations were supported."),mn=Error(xn),mn.name="NotSupportedError",mn.code=DOMException.NOT_SUPPORTED_ERR,mn}Ak.prototype.createMediaKeys=function(){var mn=new Ik(this.g);return Promise.resolve(mn)},Ak.prototype.getConfiguration=function(){return this.h};function Ik(mn){this.l=mn,this.h=null,this.g=new xu,this.i=[],this.j=new Map}function LO(mn,kn){mn.h=kn,mn.g.Rb();var xn=Mk;kn&&(mn.g.o(kn,xn+"needkey",function(An){var Mn=new CustomEvent("encrypted");Mn.initDataType="cenc",Mn.initData=fp(An.initData),mn.h.dispatchEvent(Mn)}),mn.g.o(kn,xn+"keymessage",function(An){var Mn=GC(mn,An.sessionId);Mn&&(An=new Map().set("messageType",Mn.keyStatuses.ec()==null?"licenserequest":"licenserenewal").set("message",An.message),An=new _u("message",An),Mn.h&&(Mn.h.resolve(),Mn.h=null),Mn.dispatchEvent(An))}),mn.g.o(kn,xn+"keyadded",function(An){(An=GC(mn,An.sessionId))&&(Ok(An,"usable"),An.g&&An.g.resolve(),An.g=null)}),mn.g.o(kn,xn+"keyerror",function(An){var Mn=GC(mn,An.sessionId);Mn&&Mn.handleError(An)}))}Ik.prototype.createSession=function(mn){if(mn=mn||"temporary",mn!="temporary"&&mn!="persistent-license")throw new TypeError("Session type "+mn+" is unsupported on this platform.");var kn=this.h||document.createElement("video");return kn.src||(kn.src="about:blank"),mn=new zC(kn,this.l,mn),this.i.push(mn),mn},Ik.prototype.setServerCertificate=function(){return Promise.resolve(!1)};function GC(mn,kn){var xn=mn.j.get(kn);return xn||((xn=mn.i.shift())?(xn.sessionId=kn,mn.j.set(kn,xn),xn):null)}function zC(mn,kn,xn){Eu.call(this),this.j=mn,this.m=!1,this.g=this.h=null,this.i=kn,this.l=xn,this.sessionId="",this.expiration=NaN,this.closed=new _l,this.keyStatuses=new KC}as(zC,Eu),En=zC.prototype,En.handleError=function(mn){var kn=Error("EME v0.1b key error"),xn=mn.errorCode;xn.systemCode=mn.systemCode,kn.errorCode=xn,!mn.sessionId&&this.h?(mn.systemCode==45&&(kn.message="Unsupported session type."),this.h.reject(kn),this.h=null):mn.sessionId&&this.g?(this.g.reject(kn),this.g=null):(kn=mn.systemCode,mn.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?Ok(this,"output-restricted"):kn==1?Ok(this,"expired"):Ok(this,"internal-error"))};function HC(mn,kn,xn){if(mn.m)return Promise.reject(Error("The session is already initialized."));mn.m=!0;try{if(mn.l=="persistent-license")if(xn)var An=Ku(Kp("LOAD_SESSION|"+xn));else{var Mn=Kp("PERSISTENT|");An=Up(Mn,kn)}else An=Ku(kn)}catch(Bn){return Promise.reject(Bn)}mn.h=new _l;var Un=k$("generateKeyRequest");try{mn.j[Un](mn.i,An)}catch(Bn){if(Bn.name!="InvalidStateError")return mn.h=null,Promise.reject(Bn);new Tu(function(){try{mn.j[Un](mn.i,An)}catch(zn){mn.h.reject(zn),mn.h=null}}).R(.01)}return mn.h}function Pk(mn,kn,xn){if(mn.g)mn.g.then(function(){return Pk(mn,kn,xn)}).catch(function(){return Pk(mn,kn,xn)});else{if(mn.g=kn,mn.i=="webkit-org.w3.clearkey"){var An=xl(xn),Mn=JSON.parse(An);Mn.keys[0].kty!="oct"&&(mn.g.reject(Error("Response is not a valid JSON Web Key Set.")),mn.g=null),An=Lp(Mn.keys[0].k),Mn=Lp(Mn.keys[0].kid)}else An=Ku(xn),Mn=null;var Un=k$("addKey");try{mn.j[Un](mn.i,An,Mn,mn.sessionId)}catch(Bn){mn.g.reject(Bn),mn.g=null}}}function Ok(mn,kn){var xn=mn.keyStatuses;xn.size=kn==null?0:1,xn.g=kn,kn=new _u("keystatuseschange"),mn.dispatchEvent(kn)}En.generateRequest=function(mn,kn){return HC(this,kn,null)},En.load=function(mn){return this.l=="persistent-license"?HC(this,null,mn):Promise.reject(Error("Not a persistent session."))},En.update=function(mn){var kn=new _l;return Pk(this,kn,mn),kn},En.close=function(){if(this.l!="persistent-license"){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var mn=k$("cancelKeyRequest");try{this.j[mn](this.i,this.sessionId)}catch{}}return this.closed.resolve(),this.closed},En.remove=function(){return this.l!="persistent-license"?Promise.reject(Error("Not a persistent session.")):this.close()};function KC(){this.size=0,this.g=void 0}En=KC.prototype,En.ec=function(){return this.g},En.forEach=function(mn){this.g&&mn(this.g,J$.value())},En.get=function(mn){if(this.has(mn))return this.g},En.has=function(mn){var kn=J$.value();return!!(this.g&&Ip(mn,kn))},En.entries=function(){},En.keys=function(){},En.values=function(){};var Mk="";mp(VC);function UO(){}function WC(){if(pn.HTMLVideoElement){var mn=HTMLVideoElement.prototype;mn.requestPictureInPicture&&document.exitPictureInPicture||!mn.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,mn.requestPictureInPicture=xN,Object.defineProperty(mn,"disablePictureInPicture",{get:BO,set:VO,enumerable:!0,configurable:!0}),document.exitPictureInPicture=FO,document.addEventListener("webkitpresentationmodechanged",jO,!0))}}function jO(mn){if(mn=mn.target,mn.webkitPresentationMode=="picture-in-picture"){document.pictureInPictureElement=mn;var kn=new Event("enterpictureinpicture");mn.dispatchEvent(kn)}else document.pictureInPictureElement==mn&&(document.pictureInPictureElement=null),kn=new Event("leavepictureinpicture"),mn.dispatchEvent(kn)}function xN(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function FO(){var mn=document.pictureInPictureElement;return mn?(mn.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function BO(){return this.hasAttribute("disablePictureInPicture")?!0:!this.webkitSupportsPresentationMode("picture-in-picture")}function VO(mn){mn?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}xp.PiPWebkit=UO,UO.install=WC,mp(WC);function qC(){}function GO(){pn.crypto&&("randomUUID"in pn.crypto||(pn.crypto.randomUUID=zO))}function zO(){var mn=URL.createObjectURL(new Blob),kn=mn.toString();return URL.revokeObjectURL(mn),kn.substr(kn.lastIndexOf("/")+1)}xp.RandomUUID=qC,qC.install=GO,mp(GO);function YC(){}function Rk(){navigator.storage&&navigator.storage.estimate||!navigator.webkitTemporaryStorage||!navigator.webkitTemporaryStorage.queryUsageAndQuota||("storage"in navigator||(navigator.storage={}),navigator.storage.estimate=wN)}function wN(){return new Promise(function(mn,kn){navigator.webkitTemporaryStorage.queryUsageAndQuota(function(xn,An){mn({usage:xn,quota:An})},kn)})}xp.StorageEstimate=YC,YC.install=Rk,mp(Rk);function $y(){}function HO(){var mn=Symbol.prototype;"description"in mn||Object.defineProperty(mn,"description",{get:CN})}function CN(){var mn=/\((.*)\)/.exec(this.toString());return mn?mn[1]:void 0}xp.Symbol=$y,$y.install=HO,mp(HO);function Jm(){}function XC(){if(pn.HTMLMediaElement){var mn=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var kn=mn.apply(this);return kn&&kn.catch(function(){}),kn}}}xp.VideoPlayPromise=Jm,Jm.install=XC,mp(XC);function KO(){}function QC(){if(pn.HTMLVideoElement){var mn=HTMLVideoElement.prototype;!mn.getVideoPlaybackQuality&&("webkitDroppedFrameCount"in mn||XE())&&(mn.getVideoPlaybackQuality=im)}}function im(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}xp.VideoPlaybackQuality=KO,KO.install=QC,mp(QC);function b$(){}function Nk(){if(!pn.VTTCue&&pn.TextTrackCue){var mn=null,kn=TextTrackCue.length;if(kn==3)mn=Dk;else if(kn==6)mn=Lk;else{try{var xn=!!Dk(1,2,"")}catch{xn=!1}xn&&(mn=Dk)}mn&&(pn.VTTCue=function(An,Mn,Un){return mn(An,Mn,Un)})}}function Dk(mn,kn,xn){return new pn.TextTrackCue(mn,kn,xn)}function Lk(mn,kn,xn){return new pn.TextTrackCue(mn+"-"+kn+"-"+xn,mn,kn,xn)}xp.VTTCue=b$,b$.install=Nk,mp(Nk);function Yy(){}Yy.prototype.parseInit=function(){},Yy.prototype.setSequenceMode=function(){},Yy.prototype.parseMedia=function(mn,kn){var xn=null,An=[];mn=xl(mn).split(/\r?\n/),mn=Dn(mn);for(var Mn=mn.next();!Mn.done;Mn=mn.next())if((Mn=Mn.value)&&!/^\s+$/.test(Mn)&&(Mn=WO.exec(Mn))){var Un=ZC.exec(Mn[1]);Un=60*parseInt(Un[1],10)+parseFloat(Un[2].replace(",",".")),Mn=new tl(Un,kn.segmentEnd?kn.segmentEnd:Un+2,Mn[2]),xn&&(xn.endTime=Un,An.push(xn)),xn=Mn}return xn&&An.push(xn),An},Ys("shaka.text.LrcTextParser",Yy),Yy.prototype.parseMedia=Yy.prototype.parseMedia,Yy.prototype.setSequenceMode=Yy.prototype.setSequenceMode,Yy.prototype.parseInit=Yy.prototype.parseInit;var WO=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,ZC=/^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;Ul["application/x-subtitle-lrc"]=function(){return new Yy};function Mm(){}Mm.prototype.parseInit=function(){},Mm.prototype.setSequenceMode=function(){},Mm.prototype.parseMedia=function(mn,kn){var xn=xl(mn);if(mn=[],xn=="")return mn;var An=q0(xn,"tt");if(!An)throw new Hs(2,2,2005,"Failed to parse TTML.");if(xn=An.getElementsByTagName("body")[0],!xn)return[];var Mn=ly(An,I0,"frameRate"),Un=ly(An,I0,"subFrameRate"),Bn=ly(An,I0,"frameRateMultiplier"),zn=ly(An,I0,"tickRate"),Wn=ly(An,I0,"cellResolution"),ts=An.getAttribute("xml:space")||"default",os=ly(An,C$,"extent");if(ts!="default"&&ts!="preserve")throw new Hs(2,2,2005,"Invalid xml:space value: "+ts);ts=ts=="default",Mn=new AN(Mn,Un,Bn,zn),Wn=Wn&&(Wn=/^(\d+) (\d+)$/.exec(Wn))?{columns:parseInt(Wn[1],10),rows:parseInt(Wn[2],10)}:null,Un=(Un=An.getElementsByTagName("metadata")[0])?Nv(Un):[],Bn=Array.from(An.getElementsByTagName("style")),An=Array.from(An.getElementsByTagName("region")),zn=[];for(var ds=Dn(An),ls=ds.next();!ls.done;ls=ds.next()){var ys=ls.value;ls=new Jp;var Cs=ys.getAttribute("xml:id");if(Cs){ls.id=Cs;var Ns=null;os&&(Ns=A0.exec(os)||dm.exec(os)),Cs=Ns?Number(Ns[1]):null,Ns=Ns?Number(Ns[2]):null;var Os,Ps;(Os=jE(ys,Bn,"extent"))&&(Os=(Ps=A0.exec(Os))||dm.exec(Os),Os!=null&&(ls.width=Number(Os[1]),ls.height=Number(Os[2]),Ps||(Cs!=null&&(ls.width=100*ls.width/Cs),Ns!=null&&(ls.height=100*ls.height/Ns)),ls.widthUnits=Ps||Cs!=null?ap:0,ls.heightUnits=Ps||Ns!=null?ap:0)),(ys=jE(ys,Bn,"origin"))&&(Os=(Ps=A0.exec(ys))||dm.exec(ys),Os!=null&&(ls.viewportAnchorX=Number(Os[1]),ls.viewportAnchorY=Number(Os[2]),Ps||(Ns!=null&&(ls.viewportAnchorY=100*ls.viewportAnchorY/Ns),Cs!=null&&(ls.viewportAnchorX=100*ls.viewportAnchorX/Cs)),ls.viewportAnchorUnits=Ps||Cs!=null?ap:0))}else ls=null;ls&&zn.push(ls)}if(Xl(xn,"p").length)throw new Hs(2,2,2001,"<p> can only be inside <div> in TTML");for(os=Dn(Xl(xn,"div")),ds=os.next();!ds.done;ds=os.next())if(Xl(ds.value,"span").length)throw new Hs(2,2,2001,"<span> can only be inside <p> in TTML");return(kn=qO(xn,kn,Mn,Un,Bn,An,zn,ts,Wn,null,!1))&&(kn.backgroundColor||(kn.backgroundColor="transparent"),mn.push(kn)),mn};function qO(mn,kn,xn,An,Mn,Un,Bn,zn,Wn,ts,os){var ds=mn.parentNode;if(mn.nodeType==Node.COMMENT_NODE)return null;if(mn.nodeType==Node.TEXT_NODE){if(!os)return null;var ls=document.createElement("span");ls.textContent=mn.textContent}else ls=mn;for(var ys=null,Cs=Dn(Xy),Ns=Cs.next();!Ns.done&&!(ys=x$(ls,"backgroundImage",An,"#",Ns.value)[0]);Ns=Cs.next());if(Cs=os,(mn.nodeName=="p"||ys)&&(os=!0),zn=(ls.getAttribute("xml:space")||(zn?"default":"preserve"))=="default",Ns=Array.from(ls.childNodes).every(function(qs){return qs.nodeType==Node.TEXT_NODE}),mn=[],!Ns)for(var Os=Dn(ls.childNodes),Ps=Os.next();!Ps.done;Ps=Os.next())(Ps=qO(Ps.value,kn,xn,An,Mn,Un,Bn,zn,Wn,ls,os))&&mn.push(Ps);An=ts!=null,Os=/\S/.test(ls.textContent);var Xs=ls.hasAttribute("begin")||ls.hasAttribute("end")||ls.hasAttribute("dur");if(!(Xs||Os||ls.tagName=="br"||mn.length!=0||An&&!zn))return null;for(Ps=tA(ls,xn),Os=Ps.start,Ps=Ps.end;ds&&ds.nodeType==Node.ELEMENT_NODE&&ds.tagName!="tt";)Ps=XO(ds,xn,Os,Ps),Os=Ps.start,Ps=Ps.end,ds=ds.parentNode;if(Os==null&&(Os=0),Os+=kn.periodStart,Ps=Ps==null?1/0:Ps+kn.periodStart,Os=Math.max(Os,kn.segmentStart),Ps=Math.min(Ps,kn.segmentEnd),!Xs&&0<mn.length)for(Os=1/0,Ps=0,kn=Dn(mn),xn=kn.next();!xn.done;xn=kn.next())xn=xn.value,Os=Math.min(Os,xn.startTime),Ps=Math.max(Ps,xn.endTime);if(ls.tagName=="br")return Mn=new tl(Os,Ps,""),Mn.lineBreak=!0,Mn;if(kn="",Ns&&(kn=ls.textContent,zn&&(kn=kn.trim(),kn=kn.replace(/\s+/g," "))),kn=new tl(Os,Ps,kn),kn.nestedCues=mn,os||(kn.isContainer=!0),Wn&&(kn.cellResolution=Wn),Wn=x$(ls,"region",Un,"")[0],ls.hasAttribute("region")&&Wn&&Wn.getAttribute("xml:id")){var Ds=Wn.getAttribute("xml:id");kn.region=Bn.filter(function(qs){return qs.id==Ds})[0]}return Bn=Wn,ts&&An&&!ls.getAttribute("region")&&!ls.getAttribute("style")&&(Bn=x$(ts,"region",Un,"")[0]),JC(kn,ls,Bn,ys,Mn,Cs,mn.length==0),kn}function JC(mn,kn,xn,An,Mn,Un,Bn){if(Un=Un||Bn,gp(kn,xn,Mn,"direction",Un)=="rtl"&&(mn.direction="rtl"),Bn=gp(kn,xn,Mn,"writingMode",Un),Bn=="tb"||Bn=="tblr"?mn.writingMode="vertical-lr":Bn=="tbrl"?mn.writingMode="vertical-rl":Bn=="rltb"||Bn=="rl"?mn.direction="rtl":Bn&&(mn.direction=Em),(Bn=gp(kn,xn,Mn,"textAlign",!0))?(mn.positionAlign=Vk[Bn],mn.lineAlign=IN[Bn],mn.textAlign=ay[Bn.toUpperCase()]):mn.textAlign=Dp,(Bn=gp(kn,xn,Mn,"displayAlign",!0))&&(mn.displayAlign=Ap[Bn.toUpperCase()]),(Bn=gp(kn,xn,Mn,"color",Un))&&(mn.color=Bn),(Bn=gp(kn,xn,Mn,"backgroundColor",Un))&&(mn.backgroundColor=Bn),(Bn=gp(kn,xn,Mn,"border",Un))&&(mn.border=Bn),Bn=gp(kn,xn,Mn,"fontFamily",Un))switch(Bn){case"monospaceSerif":mn.fontFamily="Courier New,Liberation Mono,Courier,monospace";break;case"proportionalSansSerif":mn.fontFamily="Arial,Helvetica,Liberation Sans,sans-serif";break;case"sansSerif":mn.fontFamily="sans-serif";break;case"monospaceSansSerif":mn.fontFamily="Consolas,monospace";break;case"proportionalSerif":mn.fontFamily="serif";break;default:mn.fontFamily=Bn}if((Bn=gp(kn,xn,Mn,"fontWeight",Un))&&Bn=="bold"&&(mn.fontWeight=700),Bn=gp(kn,xn,Mn,"wrapOption",Un),mn.wrapLine=!(Bn&&Bn=="noWrap"),(Bn=gp(kn,xn,Mn,"lineHeight",Un))&&Bn.match(FE)&&(mn.lineHeight=Bn),(Bn=gp(kn,xn,Mn,"fontSize",Un))&&(Bn.match(FE)||Bn.match(Bk))&&(mn.fontSize=Bn),(Bn=gp(kn,xn,Mn,"fontStyle",Un))&&(mn.fontStyle=YE[Bn.toUpperCase()]),An){Bn=An.getAttribute("imageType")||An.getAttribute("imagetype");var zn=An.getAttribute("encoding");An=An.textContent.trim(),Bn=="PNG"&&zn=="Base64"&&An&&(mn.backgroundImage="data:image/png;base64,"+An)}(An=gp(kn,xn,Mn,"textOutline",Un))&&(An=An.split(" "),An[0].match(FE)?mn.textStrokeColor=mn.color:(mn.textStrokeColor=An[0],An.shift()),An[0]&&An[0].match(FE)?mn.textStrokeWidth=An[0]:mn.textStrokeColor=""),(An=gp(kn,xn,Mn,"letterSpacing",Un))&&An.match(FE)&&(mn.letterSpacing=An),(An=gp(kn,xn,Mn,"linePadding",Un))&&An.match(FE)&&(mn.linePadding=An),(Un=gp(kn,xn,Mn,"opacity",Un))&&(mn.opacity=parseFloat(Un)),(xn=jE(xn,Mn,"textDecoration"))&&YO(mn,xn),(kn=Uk(kn,Mn,"textDecoration"))&&YO(mn,kn)}function YO(mn,kn){kn=Dn(kn.split(" "));for(var xn=kn.next();!xn.done;xn=kn.next())switch(xn.value){case"underline":mn.textDecoration.includes("underline")||mn.textDecoration.push("underline");break;case"noUnderline":mn.textDecoration.includes("underline")&&qu(mn.textDecoration,"underline");break;case"lineThrough":mn.textDecoration.includes("lineThrough")||mn.textDecoration.push("lineThrough");break;case"noLineThrough":mn.textDecoration.includes("lineThrough")&&qu(mn.textDecoration,"lineThrough");break;case"overline":mn.textDecoration.includes("overline")||mn.textDecoration.push("overline");break;case"noOverline":mn.textDecoration.includes("overline")&&qu(mn.textDecoration,"overline")}}function gp(mn,kn,xn,An,Mn){return Mn=Mn===void 0?!0:Mn,(mn=Uk(mn,xn,An))?mn:Mn?jE(kn,xn,An):null}function jE(mn,kn,xn){if(!mn)return null;var An=ly(mn,C$,xn);return An||eA(mn,kn,xn)}function Uk(mn,kn,xn){var An=ly(mn,C$,xn);return An||eA(mn,kn,xn)}function eA(mn,kn,xn){mn=x$(mn,"style",kn,"");for(var An=null,Mn=0;Mn<mn.length;Mn++){var Un=K_(mn[Mn],"urn:ebu:tt:style",xn);Un||(Un=ly(mn[Mn],C$,xn)),Un||(Un=Uk(mn[Mn],kn,xn)),Un&&(An=Un)}return An}function x$(mn,kn,xn,An,Mn){var Un=[];if(!mn||1>xn.length)return Un;var Bn=mn;for(mn=null;Bn&&!(mn=Mn?K_(Bn,Mn,kn):Bn.getAttribute(kn))&&(Bn=Bn.parentNode,Bn instanceof Element););if(kn=mn){for(kn=Dn(kn.split(" ")),Mn=kn.next();!Mn.done;Mn=kn.next())for(Mn=Mn.value,mn=Dn(xn),Bn=mn.next();!Bn.done;Bn=mn.next())if(Bn=Bn.value,An+Bn.getAttribute("xml:id")==Mn){Un.push(Bn);break}}return Un}function XO(mn,kn,xn,An){return mn=tA(mn,kn),xn==null?xn=mn.start:mn.start!=null&&(xn+=mn.start),An==null?An=mn.end:mn.start!=null&&(An+=mn.start),{start:xn,end:An}}function tA(mn,kn){var xn=Fk(mn.getAttribute("begin"),kn),An=Fk(mn.getAttribute("end"),kn);return mn=Fk(mn.getAttribute("dur"),kn),An==null&&mn!=null&&(An=xn+mn),{start:xn,end:An}}function Fk(mn,kn){var xn=null;if(ym.test(mn)){mn=ym.exec(mn),xn=Number(mn[1]);var An=Number(mn[2]),Mn=Number(mn[3]),Un=Number(mn[4]);Un+=(Number(mn[5])||0)/kn.h,Mn+=Un/kn.frameRate,xn=Mn+60*An+3600*xn}else if(nA.test(mn))xn=rA(nA,mn);else if(iA.test(mn))xn=rA(iA,mn);else if(w$.test(mn))mn=w$.exec(mn),xn=Number(mn[1])/kn.frameRate;else if(aA.test(mn))mn=aA.exec(mn),xn=Number(mn[1])/kn.g;else if(oA.test(mn))xn=rA(oA,mn);else if(mn)throw new Hs(2,2,2001,"Could not parse cue time range in TTML");return xn}function rA(mn,kn){return mn=mn.exec(kn),mn==null||mn[0]==""?null:(Number(mn[4])||0)/1e3+(Number(mn[3])||0)+60*(Number(mn[2])||0)+3600*(Number(mn[1])||0)}Ys("shaka.text.TtmlTextParser",Mm),Mm.prototype.parseMedia=Mm.prototype.parseMedia,Mm.prototype.setSequenceMode=Mm.prototype.setSequenceMode,Mm.prototype.parseInit=Mm.prototype.parseInit;function AN(mn,kn,xn,An){this.frameRate=Number(mn)||30,this.h=Number(kn)||1,this.g=Number(An),this.g==0&&(this.g=mn?this.frameRate*this.h:1),xn&&(mn=/^(\d+) (\d+)$/g.exec(xn))&&(this.frameRate*=Number(mn[1])/Number(mn[2]))}var A0=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,Bk=/^(\d{1,2}(?:\.\d+)?|100)%$/,FE=/^(\d+px|\d+em|\d*\.?\d+c)$/,dm=/^(\d+)px (\d+)px$/,ym=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,nA=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,iA=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,w$=/^(\d*(?:\.\d*)?)f$/,aA=/^(\d*(?:\.\d*)?)t$/,oA=RegExp("^(?:(\\d*(?:\\.\\d*)?)h)?(?:(\\d*(?:\\.\\d*)?)m)?(?:(\\d*(?:\\.\\d*)?)s)?(?:(\\d*(?:\\.\\d*)?)ms)?$"),IN={left:Ep,center:"center",right:"end",start:Ep,end:"end"},Vk={left:"line-left",center:"center",right:"line-right"},I0=["http://www.w3.org/ns/ttml#parameter","http://www.w3.org/2006/10/ttaf1#parameter"],C$=["http://www.w3.org/ns/ttml#styling","http://www.w3.org/2006/10/ttaf1#styling"],Xy=["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt","http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"];Ul["application/ttml+xml"]=function(){return new Mm};function Rm(){this.g=new Mm}Rm.prototype.parseInit=function(mn){var kn=!1;if(new Nl().box("moov",zl).box("trak",zl).box("mdia",zl).box("minf",zl).box("stbl",zl).T("stsd",G0).box("stpp",function(xn){kn=!0,xn.parser.stop()}).parse(mn),!kn)throw new Hs(2,2,2007)},Rm.prototype.setSequenceMode=function(){},Rm.prototype.parseMedia=function(mn,kn){var xn=this,An=!1,Mn=[];if(new Nl().box("mdat",Rv(function(Un){An=!0,Mn=Mn.concat(xn.g.parseMedia(Un,kn))})).parse(mn,!1),!An)throw new Hs(2,2,2007);return Mn},Ys("shaka.text.Mp4TtmlParser",Rm),Rm.prototype.parseMedia=Rm.prototype.parseMedia,Rm.prototype.setSequenceMode=Rm.prototype.setSequenceMode,Rm.prototype.parseInit=Rm.prototype.parseInit,Ul['application/mp4; codecs="stpp"']=function(){return new Rm},Ul['application/mp4; codecs="stpp.ttml"']=function(){return new Rm},Ul['application/mp4; codecs="stpp.ttml.im1t"']=function(){return new Rm},Ul['application/mp4; codecs="stpp.TTML.im1t"']=function(){return new Rm};function Nm(){this.g=!1}Nm.prototype.parseInit=function(){},Nm.prototype.setSequenceMode=function(mn){this.g=mn},Nm.prototype.parseMedia=function(mn,kn){mn=xl(mn),mn=mn.replace(/\r\n|\r(?=[^\n]|$)/gm,`
`);var xn=mn.split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(xn[0]))throw new Hs(2,2,2e3);if(mn=kn.vttOffset,xn[0].includes("X-TIMESTAMP-MAP")&&this.g){var An=xn[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),Mn=xn[0].match(/MPEGTS:(\d+)/m);if(An&&Mn){if(mn=A$(new Yv(An[1])),mn==null)throw new Hs(2,2,2e3);for(Mn=Number(Mn[1]),An=kn.segmentStart-kn.periodStart;95443.7176888889<=An;)An-=95443.7176888889,Mn+=8589934592;mn=kn.periodStart+Mn/9e4-mn}}for(kn=[],Mn=Dn(xn[0].split(`
`)),An=Mn.next();!An.done;An=Mn.next())if(An=An.value,/^Region:/.test(An)){An=new Yv(An);var Un=new Jp;$0(An),gv(An);for(var Bn=$0(An);Bn;){var zn=Un,Wn=Bn;(Bn=/^id=(.*)$/.exec(Wn))?zn.id=Bn[1]:(Bn=/^width=(\d{1,2}|100)%$/.exec(Wn))?zn.width=Number(Bn[1]):(Bn=/^lines=(\d+)$/.exec(Wn))?(zn.height=Number(Bn[1]),zn.heightUnits=2):(Bn=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(Wn))?(zn.regionAnchorX=Number(Bn[1]),zn.regionAnchorY=Number(Bn[2])):(Bn=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(Wn))?(zn.viewportAnchorX=Number(Bn[1]),zn.viewportAnchorY=Number(Bn[2])):/^scroll=up$/.exec(Wn)&&(zn.scroll="up"),gv(An),Bn=$0(An)}kn.push(Un)}for(Mn=new Map,Ty(Mn),An=[],xn=Dn(xn.slice(1)),Un=xn.next();!Un.done;Un=xn.next()){if(Un=Un.value.split(`
`),(Un.length!=1||Un[0])&&!/^NOTE($|[ \t])/.test(Un[0])&&Un[0]=="STYLE"){for(zn=[],Bn=-1,Wn=1;Wn<Un.length;Wn++)Un[Wn].includes("::cue")&&(zn.push([]),Bn=zn.length-1),Bn!=-1&&(zn[Bn].push(Un[Wn]),Un[Wn].includes("}")&&(Bn=-1));for(zn=Dn(zn),Bn=zn.next();!Bn.done;Bn=zn.next()){var ts=Bn.value;Bn="global",(Wn=ts[0].match(/\((.*)\)/))&&(Bn=Wn.pop()),Wn=ts.slice(1,-1),ts[0].includes("}")&&(ts=/\{(.*?)\}/.exec(ts[0]))&&(Wn=ts[1].split(";")),(ts=Mn.get(Bn))||(ts=new tl(0,0,""));for(var os=!1,ds=0;ds<Wn.length;ds++){var ls=/^\s*([^:]+):\s*(.*)/.exec(Wn[ds]);if(ls){var ys=ls[2].trim().replace(";","");switch(ls[1].trim()){case"background-color":case"background":os=!0,ts.backgroundColor=ys;break;case"color":os=!0,ts.color=ys;break;case"font-family":os=!0,ts.fontFamily=ys;break;case"font-size":os=!0,ts.fontSize=ys;break;case"font-weight":(700<=parseInt(ys,10)||ys=="bold")&&(os=!0,ts.fontWeight=700);break;case"font-style":switch(ys){case"normal":os=!0,ts.fontStyle=gl;break;case"italic":os=!0,ts.fontStyle="italic";break;case"oblique":os=!0,ts.fontStyle="oblique"}break;case"opacity":os=!0,ts.opacity=parseFloat(ys);break;case"text-shadow":os=!0,ts.textShadow=ys;break;case"white-space":os=!0,ts.wrapLine=ys!="noWrap"}}}os&&Mn.set(Bn,ts)}}if(os=mn,Un.length==1&&!Un[0]||/^NOTE($|[ \t])/.test(Un[0])||Un[0]=="STYLE"||Un[0]=="REGION")Un=null;else{if(zn=null,Un[0].includes("-->")||(zn=Un[0],Un.splice(0,1)),Bn=new Yv(Un[0]),Wn=A$(Bn),ds=yv(Bn,/[ \t]+--\x3e[ \t]+/g),ts=A$(Bn),Wn==null||ds==null||ts==null)throw new Hs(2,2,2001,"Could not parse cue time range in WebVTT");for(Wn+=os,ts+=os,os=Un.slice(1).join(`
`).trim(),Mn.has("global")?(Un=Mn.get("global").clone(),Un.startTime=Wn,Un.endTime=ts,Un.payload=""):Un=new tl(Wn,ts,""),sA(os,Un,Mn),gv(Bn),Wn=$0(Bn);Wn;)ky(Un,Wn,kn),gv(Bn),Wn=$0(Bn);zn!=null&&(Un.id=zn)}Un&&An.push(Un)}return An};function Ty(mn){for(var kn=Dn(Object.entries(D_)),xn=kn.next();!xn.done;xn=kn.next()){var An=Dn(xn.value);xn=An.next().value,An=An.next().value;var Mn=new tl(0,0,"");Mn.color=An,mn.set("."+xn,Mn)}for(kn=Dn(Object.entries(hm)),xn=kn.next();!xn.done;xn=kn.next())An=Dn(xn.value),xn=An.next().value,An=An.next().value,Mn=new tl(0,0,""),Mn.backgroundColor=An,mn.set("."+xn,Mn)}function sA(mn,kn,xn){xn.size===0&&Ty(xn);e:{var An=mn;mn=[];for(var Mn=-1,Un="",Bn=0;Bn<An.length;Bn++)if(An[Bn]==="/"&&0<Bn&&An[Bn-1]==="<"){var zn=An.indexOf(">",Bn);if(zn<=Bn){mn=An;break e}if((zn=An.substring(Bn+1,zn))&&zn==="c"){var Wn=mn.pop();Wn?Wn===zn?(Un+="/"+zn+">",Bn+=zn.length+1):Wn.startsWith("c.")?(Bn+=zn.length+1,Un+="/"+Wn+">"):Un+=An[Bn]:Un+=An[Bn]}else Un+=An[Bn]}else An[Bn]==="<"?(Mn=Bn+1,An[Mn]!="c"&&(Mn=-1)):An[Bn]===">"&&0<Mn&&(mn.push(An.substr(Mn,Bn-Mn)),Mn=-1),Un+=An[Bn];mn=Un}for(An=[],Un=-1,Mn=0;Mn<mn.length;Mn++)mn[Mn]==="<"?Un=Mn+1:mn[Mn]===">"&&0<Un&&(Un=mn.substr(Un,Mn-Un),Un.match(QO)&&An.push(Un),Un=-1);for(An=Dn(An),Mn=An.next();!Mn.done;Mn=An.next())Mn=Mn.value,mn=mn.replace("<"+Mn+">",'<div time="'+Mn+'">'),mn+="</div>";e:{for(Mn=mn,Un=[],Bn=-1,An="",mn=!1,zn=0;zn<Mn.length;zn++)if(Mn[zn]==="/"){if(Wn=Mn.indexOf(">",zn),Wn===-1){mn=Mn;break e}if((Wn=Mn.substring(zn+1,Wn))&&Wn=="v"){mn=!0;var ts=null;if(Un.length&&(ts=Un[Un.length-1]),ts){if(ts===Wn)An+="/"+Wn+">";else{if(!ts.startsWith("v")){An+=Mn[zn];continue}An+="/"+ts+">"}zn+=Wn.length+1}else An+=Mn[zn]}else An+=Mn[zn]}else Mn[zn]==="<"?(Bn=zn+1,Mn[Bn]!="v"&&(Bn=-1)):Mn[zn]===">"&&0<Bn&&(Un.push(Mn.substr(Bn,zn-Bn)),Bn=-1),An+=Mn[zn];for(Mn=Dn(Un),Un=Mn.next();!Un.done;Un=Mn.next())Un=Un.value,Bn=Un.replace(" ",".voice-"),An=An.replace("<"+Un+">","<"+Bn+">"),An=An.replace("</"+Un+">","</"+Bn+">"),mn||(An+="</"+Bn+">");mn=An}if(Mn=q0("<span>"+mn+"</span>","span")){if(An=[],Mn=Mn.childNodes,Mn.length==1&&(Un=Mn[0],Un.nodeType==Node.TEXT_NODE||Un.nodeType==Node.CDATA_SECTION_NODE)){kn.payload=Gk(mn);return}for(mn=Dn(Mn),Mn=mn.next();!Mn.done;Mn=mn.next())uA(Mn.value,kn,An,xn);kn.nestedCues=An}else kn.payload=Gk(mn)}function vm(mn,kn){return mn&&0<mn.length?mn:kn}function uA(mn,kn,xn,An){var Mn=kn.clone();if(mn.nodeType===Node.ELEMENT_NODE&&mn.nodeName)for(var Un=Dn(mn.nodeName.split(/(?=[ .])+/g)),Bn=Un.next();!Bn.done;Bn=Un.next()){var zn=Bn=Bn.value;if(zn.startsWith(".voice-")){var Wn=zn.split("-").pop();zn='v[voice="'+Wn+'"]',An.has(zn)||(zn="v[voice="+Wn+"]")}switch(An.has(zn)&&(zn=An.get(zn))&&(Mn.backgroundColor=vm(zn.backgroundColor,Mn.backgroundColor),Mn.color=vm(zn.color,Mn.color),Mn.fontFamily=vm(zn.fontFamily,Mn.fontFamily),Mn.fontSize=vm(zn.fontSize,Mn.fontSize),Mn.fontWeight=zn.fontWeight,Mn.fontStyle=zn.fontStyle,Mn.opacity=zn.opacity,Mn.wrapLine=zn.wrapLine),Bn){case"br":Bn=kn.clone(),Bn.lineBreak=!0,xn.push(Bn);break;case"b":Mn.fontWeight=700;break;case"i":Mn.fontStyle="italic";break;case"u":Mn.textDecoration.push("underline");break;case"div":(Bn=mn.getAttribute("time"))&&(Bn=A$(new Yv(Bn)))&&(Mn.startTime=Bn)}}if(H0(mn))for(Un=!0,An=Dn(mn.textContent.split(`
`)),mn=An.next();!mn.done;mn=An.next())mn=mn.value,Un||(Un=kn.clone(),Un.lineBreak=!0,xn.push(Un)),0<mn.length&&(Un=Mn.clone(),Un.payload=Gk(mn),xn.push(Un)),Un=!1;else for(kn=Dn(mn.childNodes),mn=kn.next();!mn.done;mn=kn.next())uA(mn.value,Mn,xn,An)}function ky(mn,kn,xn){var An;(An=/^align:(start|middle|center|end|left|right)$/.exec(kn))?(kn=An[1],kn=="middle"?mn.textAlign=Dp:mn.textAlign=ay[kn.toUpperCase()]):(An=/^vertical:(lr|rl)$/.exec(kn))?mn.writingMode=An[1]=="lr"?"vertical-lr":"vertical-rl":(An=/^size:([\d.]+)%$/.exec(kn))?mn.size=Number(An[1]):(An=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(kn))?(mn.position=Number(An[1]),An[2]&&(kn=An[2],mn.positionAlign=kn=="line-left"||kn=="start"?"line-left":kn=="line-right"||kn=="end"?"line-right":"center")):(An=/^region:(.*)$/.exec(kn))?(kn=PN(xn,An[1]))&&(mn.region=kn):(xn=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(kn))?(mn.lineInterpretation=1,mn.line=Number(xn[1]),xn[2]&&(mn.lineAlign=Oy[xn[2].toUpperCase()])):(xn=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(kn))&&(mn.lineInterpretation=Um,mn.line=Number(xn[1]),xn[2]&&(mn.lineAlign=Oy[xn[2].toUpperCase()]))}function PN(mn,kn){return mn=mn.filter(function(xn){return xn.id==kn}),mn.length?mn[0]:null}function A$(mn){if(mn=yv(mn,QO),mn==null)return null;var kn=Number(mn[2]),xn=Number(mn[3]);return 59<kn||59<xn?null:Number(mn[4])/1e3+xn+60*kn+3600*(Number(mn[1])||0)}function Gk(mn){var kn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&nbsp;":" ","&lrm;":"‎","&rlm;":"‏"},xn=/&(?:amp|lt|gt|quot|#(0+)?39|nbsp|lrm|rlm);/g,An=RegExp(xn.source);return mn&&An.test(mn)?mn.replace(xn,function(Mn){return kn[Mn]||"'"}):mn||""}Ys("shaka.text.VttTextParser",Nm),Nm.prototype.parseMedia=Nm.prototype.parseMedia,Nm.prototype.setSequenceMode=Nm.prototype.setSequenceMode,Nm.prototype.parseInit=Nm.prototype.parseInit;var QO=/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g;Ul["text/vtt"]=function(){return new Nm},Ul['text/vtt; codecs="vtt"']=function(){return new Nm},Ul['text/vtt; codecs="wvtt"']=function(){return new Nm};function by(){this.g=null}by.prototype.parseInit=function(mn){var kn=this,xn=!1;if(new Nl().box("moov",zl).box("trak",zl).box("mdia",zl).T("mdhd",function(An){An=Mx(An.reader,An.version),kn.g=An.timescale}).box("minf",zl).box("stbl",zl).T("stsd",G0).box("wvtt",function(){xn=!0}).parse(mn),!this.g)throw new Hs(2,2,2008);if(!xn)throw new Hs(2,2,2008)},by.prototype.setSequenceMode=function(){},by.prototype.parseMedia=function(mn,kn){if(!mn.length)return[];if(!this.g)throw new Hs(2,2,2008);var xn=0,An=[],Mn,Un=[],Bn=!1,zn=!1,Wn=!1,ts=null;if(new Nl().box("moof",zl).box("traf",zl).T("tfdt",function(Ds){Bn=!0,xn=Ox(Ds.reader,Ds.version).rf}).T("tfhd",function(Ds){ts=$S(Ds.reader,Ds.flags).Cf}).T("trun",function(Ds){zn=!0,An=Hm(Ds.reader,Ds.version,Ds.flags).Sf}).box("mdat",Rv(function(Ds){Wn=!0,Mn=Ds})).parse(mn,!1),!Wn&&!Bn&&!zn)throw new Hs(2,2,2008);mn=xn;for(var os=new Tl(Mn,0),ds=Dn(An),ls=ds.next();!ls.done;ls=ds.next()){ls=ls.value;var ys=ls.Ge||ts,Cs=ls.Ld?xn+ls.Ld:mn;mn=Cs+(ys||0);var Ns=0;do{var Os=os.N();Ns+=Os;var Ps=os.N(),Xs=null;Hl(Ps)=="vttc"?8<Os&&(Xs=os.Bb(Os-8)):os.skip(Os-8),ys&&Xs&&(Os=zk(Xs,kn.periodStart+Cs/this.g,kn.periodStart+mn/this.g),Un.push(Os))}while(ls.sampleSize&&Ns<ls.sampleSize)}return Un.filter(Zl)};function zk(mn,kn,xn){var An,Mn,Un;return new Nl().box("payl",Rv(function(Bn){An=xl(Bn)})).box("iden",Rv(function(Bn){Mn=xl(Bn)})).box("sttg",Rv(function(Bn){Un=xl(Bn)})).parse(mn),An?ON(An,Mn,Un,kn,xn):null}function ON(mn,kn,xn,An,Mn){if(An=new tl(An,Mn,""),sA(mn,An,new Map),kn&&(An.id=kn),xn)for(mn=new Yv(xn),kn=$0(mn);kn;)ky(An,kn,[]),gv(mn),kn=$0(mn);return An}Ys("shaka.text.Mp4VttParser",by),by.prototype.parseMedia=by.prototype.parseMedia,by.prototype.setSequenceMode=by.prototype.setSequenceMode,by.prototype.parseInit=by.prototype.parseInit,Ul['application/mp4; codecs="wvtt"']=function(){return new by};function xy(){}xy.prototype.parseInit=function(){},xy.prototype.setSequenceMode=function(){},xy.prototype.parseMedia=function(mn){var kn=xl(mn).replace(/\r+/g,"");if(kn=kn.trim(),mn=[],kn=="")return mn;kn=Dn(kn.split(`

`));for(var xn=kn.next();!xn.done;xn=kn.next()){xn=xn.value.split(`
`);var An=new Yv(xn[0]),Mn=BE(An),Un=yv(An,/,/g);if(An=BE(An),Mn==null||Un==null||An==null)throw new Hs(2,2,2001,"Could not parse cue time range in SubViewer");mn.push(new tl(Mn,An,xn.slice(1).join(`
`).trim()))}return mn};function BE(mn){if(mn=yv(mn,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g),mn==null)return null;var kn=Number(mn[2]),xn=Number(mn[3]);return 59<kn||59<xn?null:Number(mn[4])/1e3+xn+60*kn+3600*(Number(mn[1])||0)}Ys("shaka.text.SbvTextParser",xy),xy.prototype.parseMedia=xy.prototype.parseMedia,xy.prototype.setSequenceMode=xy.prototype.setSequenceMode,xy.prototype.parseInit=xy.prototype.parseInit,Ul["text/x-subviewer"]=function(){return new xy};function _g(){this.g=new Nm}_g.prototype.parseInit=function(){},_g.prototype.setSequenceMode=function(){},_g.prototype.parseMedia=function(mn,kn){return mn=xl(mn),mn=ZO(mn),mn=Ku(Kp(mn)),this.g.parseMedia(mn,kn)};function ZO(mn){var kn=`WEBVTT

`;if(mn=="")return kn;mn=mn.replace(/\r+/g,""),mn=mn.trim(),mn=Dn(mn.split(`

`));for(var xn=mn.next();!xn.done;xn=mn.next())xn=xn.value.split(/\n/),xn[0].match(/\d+/)&&xn.shift(),xn[0]=xn[0].replace(/,/g,"."),kn+=xn.join(`
`)+`

`;return kn}Ys("shaka.text.SrtTextParser",_g),_g.srt2webvtt=ZO,_g.prototype.parseMedia=_g.prototype.parseMedia,_g.prototype.setSequenceMode=_g.prototype.setSequenceMode,_g.prototype.parseInit=_g.prototype.parseInit,Ul["text/srt"]=function(){return new _g};function wy(){}wy.prototype.parseInit=function(){},wy.prototype.setSequenceMode=function(){},wy.prototype.parseMedia=function(mn){var kn="",xn="";mn=xl(mn).split(/\r?\n\s*\r?\n/),mn=Dn(mn);for(var An=mn.next();!An.done;An=mn.next()){var Mn=eM.exec(An.value);Mn&&(An=Mn[1],Mn=Mn[2],An=="V4 Styles"||An=="V4+ Styles"?kn=Mn:An=="Events"&&(xn=Mn))}mn=[],An=null,kn=Dn(kn.split(/\r?\n/));for(var Un=kn.next();!Un.done;Un=kn.next())if(Mn=Un.value,!/^\s*;/.test(Mn)&&(Un=tM.exec(Mn))){if(Mn=Un[1].trim(),Un=Un[2].trim(),Mn=="Format")An=Un.split(I$);else if(Mn=="Style"){Mn=Un.split(I$),Un={};for(var Bn=0;Bn<An.length&&Bn<Mn.length;Bn++)Un[An[Bn]]=Mn[Bn];mn.push(Un)}}for(An=[],kn=null,Mn={},xn=Dn(xn.split(/\r?\n/)),Un=xn.next();!Un.done;Mn={be:Mn.be},Un=xn.next())if(Un=Un.value,!/^\s*;/.test(Un)&&(Bn=tM.exec(Un))){if(Un=Bn[1].trim(),Bn=Bn[2].trim(),Un=="Format")kn=Bn.split(I$);else if(Un=="Dialogue"){Bn=Bn.split(I$),Un={};for(var zn=0;zn<kn.length&&zn<Bn.length;zn++)Un[kn[zn]]=Bn[zn];zn=VE(Un.Start);var Wn=VE(Un.End);Bn=new tl(zn,Wn,Bn.slice(kn.length-1).join(",").replace(/\\N/g,`
`).replace(/\{[^}]+\}/g,"")),Mn.be=Un.Style,(Un=mn.find(function(ts){return function(os){return os.Name==ts.be}}(Mn)))&&JO(Bn,Un),An.push(Bn)}}return An};function JO(mn,kn){var xn=kn.Fontname;if(xn&&(mn.fontFamily=xn),(xn=kn.Fontsize)&&(mn.fontSize=xn+"px"),(xn=kn.PrimaryColour)&&(xn=lA(xn))&&(mn.color=xn),(xn=kn.BackColour)&&(xn=lA(xn))&&(mn.backgroundColor=xn),kn.Bold&&(mn.fontWeight=700),kn.Italic&&(mn.fontStyle="italic"),kn.Underline&&mn.textDecoration.push("underline"),(xn=kn.Spacing)&&(mn.letterSpacing=xn+"px"),xn=kn.Alignment)switch(parseInt(xn,10)){case 1:mn.displayAlign=Hu,mn.textAlign="start";break;case 2:mn.displayAlign=Hu,mn.textAlign=Dp;break;case 3:mn.displayAlign=Hu,mn.textAlign="end";break;case 5:mn.displayAlign="before",mn.textAlign="start";break;case 6:mn.displayAlign="before",mn.textAlign=Dp;break;case 7:mn.displayAlign="before",mn.textAlign="end";break;case 9:mn.displayAlign="center",mn.textAlign="start";break;case 10:mn.displayAlign="center",mn.textAlign=Dp;break;case 11:mn.displayAlign="center",mn.textAlign="end"}(kn=kn.AlphaLevel)&&(mn.opacity=parseFloat(kn))}function lA(mn){return mn=parseInt(mn.replace("&H",""),16),0<=mn?"rgba("+(mn&255)+","+(mn>>8&255)+","+(mn>>16&255)+","+(mn>>24&255^255)/255+")":null}function VE(mn){return mn=rM.exec(mn),3600*(mn[1]?parseInt(mn[1].replace(":",""),10):0)+60*parseInt(mn[2],10)+parseFloat(mn[3])}Ys("shaka.text.SsaTextParser",wy),wy.prototype.parseMedia=wy.prototype.parseMedia,wy.prototype.setSequenceMode=wy.prototype.setSequenceMode,wy.prototype.parseInit=wy.prototype.parseInit;var eM=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,tM=/^\s*([^:]+):\s*(.*)/,I$=/\s*,\s*/,rM=/^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;Ul["text/x-ssa"]=function(){return new wy};/*
 @license
 EME Encryption Scheme Polyfill
 Copyright 2019 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/function P$(){}var GE;function cA(){GE?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(GE=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=dA):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function dA(mn,kn){var xn=this,An;return hs(function(Mn){return Mn.g==1?(console.assert(xn==navigator,'bad "this" for requestMediaKeySystemAccess'),Qn(Mn,GE.call(xn,mn,kn),2)):(An=Mn.h,ns(An)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=GE,Mn.return(An)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=fA,Mn.return(fA.call(xn,mn,kn))))})}function fA(mn,kn){var xn=this,An,Mn,Un,Bn,zn,Wn,ts,os,ds,ls;return hs(function(ys){if(ys.g==1){for(console.assert(xn==navigator,'bad "this" for requestMediaKeySystemAccess'),An=Xn(mn),Mn=[],Un=Dn(kn),Bn=Un.next();!Bn.done;Bn=Un.next())zn=Bn.value,Wn=gn(zn.videoCapabilities,An),ts=gn(zn.audioCapabilities,An),zn.videoCapabilities&&zn.videoCapabilities.length&&!Wn.length||zn.audioCapabilities&&zn.audioCapabilities.length&&!ts.length||(os=Object.assign({},zn),os.videoCapabilities=Wn,os.audioCapabilities=ts,Mn.push(os));if(!Mn.length)throw ds=Error("Unsupported keySystem or supportedConfigurations."),ds.name="NotSupportedError",ds.code=DOMException.NOT_SUPPORTED_ERR,ds;return Qn(ys,GE.call(xn,mn,Mn),2)}return ls=ys.h,ys.return(new Hn(ls,An))})}function gn(mn,kn){return mn&&mn.filter(function(xn){return!xn.encryptionScheme||xn.encryptionScheme==kn})}Ys("EmeEncryptionSchemePolyfill",P$),P$.install=cA;function bn(){}var wn;function In(){wn?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(wn=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=Nn):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function Nn(mn){var kn=this,xn,An,Mn;return hs(function(Un){switch(Un.g){case 1:return console.assert(kn==navigator.mediaCapabilities,'bad "this" for decodingInfo'),Qn(Un,wn.call(kn,mn),2);case 2:if(xn=Un.h,!mn.keySystemConfiguration)return Un.return(xn);if((An=xn.keySystemAccess)&&ns(An))return console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=wn,Un.return(xn);if(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=jn,An){Un.D(3);break}return Mn=xn,Qn(Un,Vn(mn),4);case 4:return Mn.keySystemAccess=Un.h,Un.return(xn);case 3:return Un.return(jn.call(kn,mn))}})}function jn(mn){var kn=this,xn,An,Mn,Un,Bn,zn,Wn,ts;return hs(function(os){switch(os.g){case 1:return console.assert(kn==navigator.mediaCapabilities,'bad "this" for decodingInfo'),xn=null,mn.keySystemConfiguration&&(An=mn.keySystemConfiguration,Mn=An.keySystem,Un=An.audio&&An.audio.encryptionScheme,Bn=An.video&&An.video.encryptionScheme,xn=Xn(Mn),zn={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:mn},Un&&Un!=xn||Bn&&Bn!=xn)?os.return(zn):Qn(os,wn.call(kn,mn),2);case 2:if(Wn=os.h,Wn.keySystemAccess){Wn.keySystemAccess=new Hn(Wn.keySystemAccess,xn),os.D(3);break}if(!mn.keySystemConfiguration){os.D(3);break}return ts=Wn,Qn(os,Vn(mn),5);case 5:ts.keySystemAccess=os.h;case 3:return os.return(Wn)}})}function Vn(mn){var kn,xn;return hs(function(An){if(An.g==1){var Mn=mn.keySystemConfiguration,Un=[],Bn=[];return Mn.audio&&Un.push({robustness:Mn.audio.robustness||"",contentType:mn.audio.contentType}),Mn.video&&Bn.push({robustness:Mn.video.robustness||"",contentType:mn.video.contentType}),Mn={initDataTypes:Mn.initDataType?[Mn.initDataType]:[],distinctiveIdentifier:Mn.distinctiveIdentifier,persistentState:Mn.persistentState,sessionTypes:Mn.sessionTypes},Un.length&&(Mn.audioCapabilities=Un),Bn.length&&(Mn.videoCapabilities=Bn),kn=Mn,Qn(An,navigator.requestMediaKeySystemAccess(mn.keySystemConfiguration.keySystem,[kn]),2)}return xn=An.h,An.return(xn)})}Ys("McEncryptionSchemePolyfill",bn),bn.install=In;function Hn(mn,kn){this.h=mn,this.g=kn,this.keySystem=mn.keySystem}Hn.prototype.getConfiguration=function(){var mn=this.h.getConfiguration();if(mn.videoCapabilities)for(var kn=Dn(mn.videoCapabilities),xn=kn.next();!xn.done;xn=kn.next())xn.value.encryptionScheme=this.g;if(mn.audioCapabilities)for(kn=Dn(mn.audioCapabilities),xn=kn.next();!xn.done;xn=kn.next())xn.value.encryptionScheme=this.g;return mn},Hn.prototype.createMediaKeys=function(){return this.h.createMediaKeys()};function Xn(mn){return mn.startsWith("com.widevine")||mn.startsWith("com.microsoft")||mn.startsWith("com.chromecast")||mn.startsWith("com.adobe")||mn.startsWith("org.w3")?"cenc":mn.startsWith("com.apple")?"cbcs-1-9":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",mn,"Please contribute!"),null)}function ns(mn){mn=mn.getConfiguration();var kn=mn.audioCapabilities&&mn.audioCapabilities[0];return!!((mn=mn.videoCapabilities&&mn.videoCapabilities[0]||kn)&&mn.encryptionScheme!==void 0)}function ss(){}function ps(){cA(),In()}Ys("EncryptionSchemePolyfills",ss),ss.install=ps,typeof Sn<"u"&&Sn.exports&&(Sn.exports=ss);/*
	 @license
	 Copyright 2013 Ali Al Dallal

	 Licensed under the MIT license.

	 Permission is hereby granted, free of charge, to any person obtaining a copy
	 of this software and associated documentation files (the "Software"), to deal
	 in the Software without restriction, including without limitation the rights
	 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 copies of the Software, and to permit persons to whom the Software is
	 furnished to do so, subject to the following conditions:

	 The above copyright notice and this permission notice shall be included in
	 all copies or substantial portions of the Software.

	 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	 SOFTWARE.
	*/for(var fs={ach:{u:"Lwo",A:"Acholi"},ady:{u:"Адыгэбзэ",A:"Adyghe"},af:{u:"Afrikaans",A:"Afrikaans"},"af-NA":{u:"Afrikaans (Namibia)",A:"Afrikaans (Namibia)"},"af-ZA":{u:"Afrikaans (South Africa)",A:"Afrikaans (South Africa)"},ak:{u:"Tɕɥi",A:"Akan"},ar:{u:"العربية",A:"Arabic"},"ar-AR":{u:"العربية",A:"Arabic"},"ar-MA":{u:"العربية",A:"Arabic (Morocco)"},"ar-SA":{u:"العربية (السعودية)",A:"Arabic (Saudi Arabia)"},"ay-BO":{u:"Aymar aru",A:"Aymara"},az:{u:"Azərbaycan dili",A:"Azerbaijani"},"az-AZ":{u:"Azərbaycan dili",A:"Azerbaijani"},"be-BY":{u:"Беларуская",A:"Belarusian"},bg:{u:"Български",A:"Bulgarian"},"bg-BG":{u:"Български",A:"Bulgarian"},bn:{u:"বাংলা",A:"Bengali"},"bn-IN":{u:"বাংলা (ভারত)",A:"Bengali (India)"},"bn-BD":{u:"বাংলা(বাংলাদেশ)",A:"Bengali (Bangladesh)"},"bs-BA":{u:"Bosanski",A:"Bosnian"},ca:{u:"Català",A:"Catalan"},"ca-ES":{u:"Català",A:"Catalan"},cak:{u:"Maya Kaqchikel",A:"Kaqchikel"},"ck-US":{u:"ᏣᎳᎩ (tsalagi)",A:"Cherokee"},cs:{u:"Čeština",A:"Czech"},"cs-CZ":{u:"Čeština",A:"Czech"},cy:{u:"Cymraeg",A:"Welsh"},"cy-GB":{u:"Cymraeg",A:"Welsh"},da:{u:"Dansk",A:"Danish"},"da-DK":{u:"Dansk",A:"Danish"},de:{u:"Deutsch",A:"German"},"de-AT":{u:"Deutsch (Österreich)",A:"German (Austria)"},"de-DE":{u:"Deutsch (Deutschland)",A:"German (Germany)"},"de-CH":{u:"Deutsch (Schweiz)",A:"German (Switzerland)"},dsb:{u:"Dolnoserbšćina",A:"Lower Sorbian"},el:{u:"Ελληνικά",A:"Greek"},"el-GR":{u:"Ελληνικά",A:"Greek (Greece)"},en:{u:"English",A:"English"},"en-GB":{u:"English (UK)",A:"English (UK)"},"en-AU":{u:"English (Australia)",A:"English (Australia)"},"en-CA":{u:"English (Canada)",A:"English (Canada)"},"en-IE":{u:"English (Ireland)",A:"English (Ireland)"},"en-IN":{u:"English (India)",A:"English (India)"},"en-PI":{u:"English (Pirate)",A:"English (Pirate)"},"en-UD":{u:"English (Upside Down)",A:"English (Upside Down)"},"en-US":{u:"English (US)",A:"English (US)"},"en-ZA":{u:"English (South Africa)",A:"English (South Africa)"},"en@pirate":{u:"English (Pirate)",A:"English (Pirate)"},eo:{u:"Esperanto",A:"Esperanto"},"eo-EO":{u:"Esperanto",A:"Esperanto"},es:{u:"Español",A:"Spanish"},"es-AR":{u:"Español (Argentine)",A:"Spanish (Argentina)"},"es-419":{u:"Español (Latinoamérica)",A:"Spanish (Latin America)"},"es-CL":{u:"Español (Chile)",A:"Spanish (Chile)"},"es-CO":{u:"Español (Colombia)",A:"Spanish (Colombia)"},"es-EC":{u:"Español (Ecuador)",A:"Spanish (Ecuador)"},"es-ES":{u:"Español (España)",A:"Spanish (Spain)"},"es-LA":{u:"Español (Latinoamérica)",A:"Spanish (Latin America)"},"es-NI":{u:"Español (Nicaragua)",A:"Spanish (Nicaragua)"},"es-MX":{u:"Español (México)",A:"Spanish (Mexico)"},"es-US":{u:"Español (Estados Unidos)",A:"Spanish (United States)"},"es-VE":{u:"Español (Venezuela)",A:"Spanish (Venezuela)"},et:{u:"eesti keel",A:"Estonian"},"et-EE":{u:"Eesti (Estonia)",A:"Estonian (Estonia)"},eu:{u:"Euskara",A:"Basque"},"eu-ES":{u:"Euskara",A:"Basque"},fa:{u:"فارسی",A:"Persian"},"fa-IR":{u:"فارسی",A:"Persian"},"fb-LT":{u:"Leet Speak",A:"Leet"},ff:{u:"Fulah",A:"Fulah"},fi:{u:"Suomi",A:"Finnish"},"fi-FI":{u:"Suomi",A:"Finnish"},"fo-FO":{u:"Føroyskt",A:"Faroese"},fr:{u:"Français",A:"French"},"fr-CA":{u:"Français (Canada)",A:"French (Canada)"},"fr-FR":{u:"Français (France)",A:"French (France)"},"fr-BE":{u:"Français (Belgique)",A:"French (Belgium)"},"fr-CH":{u:"Français (Suisse)",A:"French (Switzerland)"},"fy-NL":{u:"Frysk",A:"Frisian (West)"},ga:{u:"Gaeilge",A:"Irish"},"ga-IE":{u:"Gaeilge (Gaelic)",A:"Irish (Gaelic)"},gl:{u:"Galego",A:"Galician"},"gl-ES":{u:"Galego",A:"Galician"},"gn-PY":{u:"Avañe'ẽ",A:"Guarani"},"gu-IN":{u:"ગુજરાતી",A:"Gujarati"},"gx-GR":{u:"Ἑλληνική ἀρχαία",A:"Classical Greek"},he:{u:"עברית‏",A:"Hebrew"},"he-IL":{u:"עברית‏",A:"Hebrew"},hi:{u:"हिन्दी",A:"Hindi"},"hi-IN":{u:"हिन्दी",A:"Hindi"},hr:{u:"Hrvatski",A:"Croatian"},"hr-HR":{u:"Hrvatski",A:"Croatian"},hsb:{u:"Hornjoserbšćina",A:"Upper Sorbian"},ht:{u:"Kreyòl",A:"Haitian Creole"},hu:{u:"Magyar",A:"Hungarian"},"hu-HU":{u:"Magyar",A:"Hungarian"},"hy-AM":{u:"Հայերեն",A:"Armenian"},id:{u:"Bahasa Indonesia",A:"Indonesian"},"id-ID":{u:"Bahasa Indonesia",A:"Indonesian"},is:{u:"Íslenska",A:"Icelandic"},"is-IS":{u:"Íslenska (Iceland)",A:"Icelandic (Iceland)"},it:{u:"Italiano",A:"Italian"},"it-IT":{u:"Italiano",A:"Italian"},ja:{u:"日本語",A:"Japanese"},"ja-JP":{u:"日本語",A:"Japanese"},"jv-ID":{u:"Basa Jawa",A:"Javanese"},"ka-GE":{u:"ქართული",A:"Georgian"},"kk-KZ":{u:"Қазақша",A:"Kazakh"},km:{u:"ភាសាខ្មែរ",A:"Khmer"},"km-KH":{u:"ភាសាខ្មែរ",A:"Khmer"},kab:{u:"Taqbaylit",A:"Kabyle"},kn:{u:"ಕನ್ನಡ",A:"Kannada"},"kn-IN":{u:"ಕನ್ನಡ (India)",A:"Kannada (India)"},ko:{u:"한국어",A:"Korean"},"ko-KR":{u:"한국어 (韩国)",A:"Korean (Korea)"},ku:{u:"Kurdî",A:"Kurdish"},"ku-TR":{u:"Kurdî",A:"Kurdish"},la:{u:"Latin",A:"Latin"},"la-VA":{u:"Latin",A:"Latin"},lb:{u:"Lëtzebuergesch",A:"Luxembourgish"},"li-NL":{u:"Lèmbörgs",A:"Limburgish"},lt:{u:"Lietuvių",A:"Lithuanian"},"lt-LT":{u:"Lietuvių",A:"Lithuanian"},lv:{u:"Latviešu",A:"Latvian"},"lv-LV":{u:"Latviešu",A:"Latvian"},mai:{u:"मैथिली, মৈথিলী",A:"Maithili"},"mg-MG":{u:"Malagasy",A:"Malagasy"},mk:{u:"Македонски",A:"Macedonian"},"mk-MK":{u:"Македонски (Македонски)",A:"Macedonian (Macedonian)"},ml:{u:"മലയാളം",A:"Malayalam"},"ml-IN":{u:"മലയാളം",A:"Malayalam"},"mn-MN":{u:"Монгол",A:"Mongolian"},mr:{u:"मराठी",A:"Marathi"},"mr-IN":{u:"मराठी",A:"Marathi"},ms:{u:"Bahasa Melayu",A:"Malay"},"ms-MY":{u:"Bahasa Melayu",A:"Malay"},mt:{u:"Malti",A:"Maltese"},"mt-MT":{u:"Malti",A:"Maltese"},my:{u:"ဗမာစကာ",A:"Burmese"},nb:{u:"Norsk (bokmål)",A:"Norwegian (bokmal)"},"nb-NO":{u:"Norsk (bokmål)",A:"Norwegian (bokmal)"},ne:{u:"नेपाली",A:"Nepali"},"ne-NP":{u:"नेपाली",A:"Nepali"},nl:{u:"Nederlands",A:"Dutch"},"nl-BE":{u:"Nederlands (België)",A:"Dutch (Belgium)"},"nl-NL":{u:"Nederlands (Nederland)",A:"Dutch (Netherlands)"},"nn-NO":{u:"Norsk (nynorsk)",A:"Norwegian (nynorsk)"},no:{u:"Norsk",A:"Norwegian"},oc:{u:"Occitan",A:"Occitan"},"or-IN":{u:"ଓଡ଼ିଆ",A:"Oriya"},pa:{u:"ਪੰਜਾਬੀ",A:"Punjabi"},"pa-IN":{u:"ਪੰਜਾਬੀ (ਭਾਰਤ ਨੂੰ)",A:"Punjabi (India)"},pl:{u:"Polski",A:"Polish"},"pl-PL":{u:"Polski",A:"Polish"},"ps-AF":{u:"پښتو",A:"Pashto"},pt:{u:"Português",A:"Portuguese"},"pt-BR":{u:"Português (Brasil)",A:"Portuguese (Brazil)"},"pt-PT":{u:"Português (Portugal)",A:"Portuguese (Portugal)"},"qu-PE":{u:"Qhichwa",A:"Quechua"},"rm-CH":{u:"Rumantsch",A:"Romansh"},ro:{u:"Română",A:"Romanian"},"ro-RO":{u:"Română",A:"Romanian"},ru:{u:"Русский",A:"Russian"},"ru-RU":{u:"Русский",A:"Russian"},"sa-IN":{u:"संस्कृतम्",A:"Sanskrit"},"se-NO":{u:"Davvisámegiella",A:"Northern Sámi"},"si-LK":{u:"පළාත",A:"Sinhala (Sri Lanka)"},sk:{u:"Slovenčina",A:"Slovak"},"sk-SK":{u:"Slovenčina (Slovakia)",A:"Slovak (Slovakia)"},sl:{u:"Slovenščina",A:"Slovenian"},"sl-SI":{u:"Slovenščina",A:"Slovenian"},"so-SO":{u:"Soomaaliga",A:"Somali"},sq:{u:"Shqip",A:"Albanian"},"sq-AL":{u:"Shqip",A:"Albanian"},sr:{u:"Српски",A:"Serbian"},"sr-RS":{u:"Српски (Serbia)",A:"Serbian (Serbia)"},su:{u:"Basa Sunda",A:"Sundanese"},sv:{u:"Svenska",A:"Swedish"},"sv-SE":{u:"Svenska",A:"Swedish"},sw:{u:"Kiswahili",A:"Swahili"},"sw-KE":{u:"Kiswahili",A:"Swahili (Kenya)"},ta:{u:"தமிழ்",A:"Tamil"},"ta-IN":{u:"தமிழ்",A:"Tamil"},te:{u:"తెలుగు",A:"Telugu"},"te-IN":{u:"తెలుగు",A:"Telugu"},tg:{u:"забо́ни тоҷикӣ́",A:"Tajik"},"tg-TJ":{u:"тоҷикӣ",A:"Tajik"},th:{u:"ภาษาไทย",A:"Thai"},"th-TH":{u:"ภาษาไทย (ประเทศไทย)",A:"Thai (Thailand)"},tl:{u:"Filipino",A:"Filipino"},"tl-PH":{u:"Filipino",A:"Filipino"},tlh:{u:"tlhIngan-Hol",A:"Klingon"},tr:{u:"Türkçe",A:"Turkish"},"tr-TR":{u:"Türkçe",A:"Turkish"},"tt-RU":{u:"татарча",A:"Tatar"},uk:{u:"Українська",A:"Ukrainian"},"uk-UA":{u:"Українська",A:"Ukrainian"},ur:{u:"اردو",A:"Urdu"},"ur-PK":{u:"اردو",A:"Urdu"},uz:{u:"O'zbek",A:"Uzbek"},"uz-UZ":{u:"O'zbek",A:"Uzbek"},vi:{u:"Tiếng Việt",A:"Vietnamese"},"vi-VN":{u:"Tiếng Việt",A:"Vietnamese"},"xh-ZA":{u:"isiXhosa",A:"Xhosa"},yi:{u:"ייִדיש",A:"Yiddish"},"yi-DE":{u:"ייִדיש (German)",A:"Yiddish (German)"},zh:{u:"中文",A:"Chinese"},"zh-HANS":{u:"中文简体",A:"Chinese Simplified"},"zh-HANT":{u:"中文繁體",A:"Chinese Traditional"},"zh-CN":{u:"中文（中国）",A:"Chinese Simplified (China)"},"zh-HK":{u:"中文（香港）",A:"Chinese Traditional (Hong Kong)"},"zh-SG":{u:"中文（新加坡）",A:"Chinese Simplified (Singapore)"},"zh-TW":{u:"中文（台灣）",A:"Chinese Traditional (Taiwan)"},"zu-ZA":{u:"isiZulu",A:"Zulu"}},vs=Dn(Object.keys(fs)),Is=vs.next();!Is.done;Is=vs.next()){var Ls=Is.value;fs[Ls.toLowerCase()]=fs[Ls]}function ws(mn,kn){var xn=this;this.parent=mn,this.controls=kn,this.eventManager=new xu,this.localization=this.controls.ua,this.player=this.controls.cc(),this.video=this.controls.zb(),this.adManager=this.player.sd(),this.ad=kn.getAd(),this.eventManager.o(this.adManager,"ad-started",function(An){xn.ad=An.ad}),this.eventManager.o(this.adManager,"ad-stopped",function(){xn.ad=null})}ws.prototype.release=function(){this.eventManager.release(),this.ad=this.adManager=this.video=this.player=this.localization=this.eventManager=this.controls=this.parent=null},Ys("shaka.ui.Element",ws),ws.prototype.release=ws.prototype.release;function Rs(mn){return Zs(mn,"shaka-back-to-overflow-button")}function Zs(mn,kn){return mn=mn.getElementsByClassName(kn),mn.length?mn[0]:null}function Fs(mn){mn&&(mn=Zs(mn,"shaka-chosen-item"))&&mn.parentElement.focus()}function Ws(){var mn=Au("i");return mn.classList.add("material-icons-round"),mn.classList.add("shaka-chosen-item"),mn.textContent="done",mn.ariaHidden="true",mn}function Gs(mn,kn){mn&&(kn?mn.classList.remove("shaka-hidden"):mn.classList.add("shaka-hidden"))}function eu(mn,kn){var xn=Math.floor(mn/3600),An=Math.floor(mn/60%60);return mn=Math.floor(mn%60),10>mn&&(mn="0"+mn),mn=An+":"+mn,kn&&(10>An&&(mn="0"+mn),mn=xn+":"+mn),mn}function au(mn,kn){ws.call(this,mn,kn);var xn=this;this.i=Au("div"),this.i.classList.add("shaka-ad-counter"),this.parent.appendChild(this.i),this.h=Au("span"),this.h.classList.add("shaka-ad-counter-span"),this.i.appendChild(this.h),this.g=new Tu(function(){var An=Math.round(xn.ad.getRemainingTime()),Mn=xn.ad.getDuration();An!=-1&&Mn!=-1&&(0<An?(An=eu(Mn-An,!1)+" / "+eu(Mn,!1),1<xn.ad.getSequenceLength()?xn.h.textContent=An:(Mn=xn.localization.resolve("AD_TIME"),xn.h.textContent=Mn.replace("[AD_TIME]",An))):(xn.g.stop(),xn.h.textContent=""))}),this.eventManager.o(this.localization,"locale-updated",function(){}),this.eventManager.o(this.localization,"locale-changed",function(){}),this.eventManager.o(this.adManager,"ad-started",function(){xn.g.Aa(),xn.g.ha(.5)}),this.eventManager.o(this.adManager,"ad-stopped",function(){xn.g.stop(),xn.h.textContent=""}),this.ad&&(this.g.Aa(),this.g.ha(.5))}as(au,ws),au.prototype.release=function(){this.g.stop(),this.g=null,ws.prototype.release.call(this)},Ys("shaka.ui.AdCounter",au);function du(mn,kn){ws.call(this,mn,kn);var xn=this;this.g=Au("div"),this.g.classList.add("shaka-ad-position"),Gs(this.g,!1),this.parent.appendChild(this.g),this.h=Au("span"),this.h.classList.add("shaka-ad-position-span"),this.g.appendChild(this.h),this.eventManager.o(this.localization,"locale-updated",function(){xn.ad&&pu(xn)}),this.eventManager.o(this.localization,"locale-changed",function(){xn.ad&&pu(xn)}),this.eventManager.o(this.adManager,"ad-started",function(){pu(xn)}),this.eventManager.o(this.adManager,"ad-stopped",function(){xn.h.textContent="",Gs(xn.g,!1)}),this.ad&&pu(this)}as(du,ws);function pu(mn){var kn=mn.ad.getSequenceLength();if(1<kn){var xn=mn.ad.getPositionInSequence();mn.h.textContent=mn.localization.resolve("AD_PROGRESS").replace("[AD_ON]",String(xn)).replace("[NUM_ADS]",String(kn)),Gs(mn.g,!0)}}Ys("shaka.ui.AdPosition",du);function bu(mn,kn){ws.call(this,mn,kn);var xn=this;this.button=Tp(),this.parent.appendChild(this.button),this.eventManager.o(this.localization,"locale-updated",function(){xn.g()}),this.eventManager.o(this.localization,"locale-changed",function(){xn.g()}),this.eventManager.o(this.video,"play",function(){xn.g(),xn.h()}),this.eventManager.o(this.video,"pause",function(){xn.g(),xn.h()}),this.eventManager.o(this.video,"seeking",function(){xn.g(),xn.h()}),this.eventManager.o(this.adManager,"ad-paused",function(){xn.g(),xn.h()}),this.eventManager.o(this.adManager,"ad-resumed",function(){xn.g(),xn.h()}),this.eventManager.o(this.adManager,"ad-started",function(){xn.g(),xn.h()}),this.eventManager.o(this.button,"click",function(){xn.ad&&xn.ad.isLinear()?T2(xn.controls):$2(xn.controls)}),this.ad&&(this.g(),this.h())}as(bu,ws),bu.prototype.isPaused=function(){if(this.ad&&this.ad.isLinear())var mn=this.ad.isPaused();else mn=this.controls,mn=mn.s.paused&&!mn.X;return mn},bu.prototype.g=function(){},bu.prototype.h=function(){},Ys("shaka.ui.PlayButton",bu);function Uu(mn,kn){bu.call(this,mn,kn),this.button.classList.add("shaka-play-button"),this.button.classList.add("shaka-no-propagation"),this.h(),this.g()}as(Uu,bu),Uu.prototype.h=function(){this.isPaused()?this.button.setAttribute("icon","play"):this.button.setAttribute("icon","pause")},Uu.prototype.g=function(){var mn=this.isPaused()?"PLAY":"PAUSE";this.button.ariaLabel=this.localization.resolve(mn)},Ys("shaka.ui.BigPlayButton",Uu);function Bu(mn,kn){ws.call(this,mn,kn);var xn=this;this.j=this.controls.i,this.h=this.controls.g,this.i=[],this.g=Au("div"),this.g.classList.add("shaka-no-propagation"),this.g.classList.add("shaka-context-menu"),this.g.classList.add("shaka-hidden"),this.h.appendChild(this.g),this.eventManager.o(this.h,"contextmenu",function(An){if(xn.g.classList.contains("shaka-hidden")){An.preventDefault();var Mn=xn.h.getBoundingClientRect();xn.g.style.left=An.clientX-Mn.left+"px",xn.g.style.top=An.clientY-Mn.top+"px",Gs(xn.g,!0)}else Gs(xn.g,!1)}),this.eventManager.o(pn,"click",function(){Gs(xn.g,!1)}),Mu(this)}as(Bu,ws),Bu.prototype.release=function(){this.h=null;for(var mn=Dn(this.i),kn=mn.next();!kn.done;kn=mn.next())kn.value.release();this.i=[],ws.prototype.release.call(this)};function al(mn,kn){Ql.set(mn,kn)}function Mu(mn){for(var kn=Dn(mn.j.contextMenuElements),xn=kn.next();!xn.done;xn=kn.next()){xn=xn.value;var An=Ql.get(xn);An?mn.i.push(An.create(mn.g,mn.controls)):$u("Unrecognized context menu element:",xn)}}Ys("shaka.ui.ContextMenu",Bu),Bu.registerElement=al;var Ql=new Map;function ul(mn,kn,xn,An){ws.call(this,mn,kn);var Mn=this;this.container=Au("div"),this.container.classList.add("shaka-range-container"),this.container.classList.add.apply(this.container.classList,Kn(xn)),this.g=!1,this.bar=document.createElement("input"),this.l=new Tu(function(){Mn.onChangeEnd(),Mn.g=!1}),this.bar.classList.add("shaka-range-element"),this.bar.classList.add.apply(this.bar.classList,Kn(An)),this.bar.type="range",this.bar.step="any",this.bar.min="0",this.bar.max="1",this.bar.value="0",this.container.appendChild(this.bar),this.parent.appendChild(this.container),this.eventManager.o(this.bar,"mousedown",function(){Mn.controls.Mb()&&(Mn.g=!0,Mn.onChangeStart())}),this.eventManager.o(this.bar,"touchstart",function(Un){Mn.controls.Mb()&&(Mn.g=!0,kl(Mn,Un),Mn.onChangeStart())}),this.eventManager.o(this.bar,"input",function(){Mn.onChange()}),this.eventManager.o(this.bar,"touchmove",function(Un){Mn.g&&(kl(Mn,Un),Mn.onChange())}),this.eventManager.o(this.bar,"touchend",function(Un){Mn.g&&(Mn.g=!1,kl(Mn,Un),Mn.onChangeEnd())}),this.eventManager.o(this.bar,"mouseup",function(){Mn.g&&(Mn.g=!1,Mn.onChangeEnd())})}as(ul,ws),En=ul.prototype,En.release=function(){this.l&&(this.l.stop(),this.l=null),ws.prototype.release.call(this)},En.setRange=function(mn,kn){this.bar.min=mn,this.bar.max=kn},En.onChangeStart=function(){},En.onChange=function(){},En.onChangeEnd=function(){},En.changeTo=function(mn){this.g||(this.g=!0,this.onChangeStart());var kn=parseFloat(this.bar.min),xn=parseFloat(this.bar.max);this.bar.value=mn>xn?xn:mn<kn?kn:mn,this.onChange(),this.l.R(.5)},En.getValue=function(){return parseFloat(this.bar.value)},En.setValue=function(mn){this.g||(this.bar.value=mn)};function kl(mn,kn){kn.preventDefault();var xn=kn.changedTouches[0],An=mn.bar.getBoundingClientRect();kn=parseFloat(mn.bar.min);var Mn=parseFloat(mn.bar.max);xn=kn+(Mn-kn)/An.width*(xn.clientX-An.left),xn<kn?xn=kn:xn>Mn&&(xn=Mn),mn.bar.value=xn}Ys("shaka.ui.RangeElement",ul),ul.prototype.setValue=ul.prototype.setValue,ul.prototype.getValue=ul.prototype.getValue,ul.prototype.changeTo=ul.prototype.changeTo,ul.prototype.onChangeEnd=ul.prototype.onChangeEnd,ul.prototype.onChange=ul.prototype.onChange,ul.prototype.onChangeStart=ul.prototype.onChangeStart,ul.prototype.setRange=ul.prototype.setRange;function Bp(mn,kn){ul.call(this,mn,kn,["shaka-seek-bar-container"],["shaka-seek-bar","shaka-no-propagation","shaka-show-controls-on-mouse-over"]);var xn=this;this.j=Au("div"),this.j.classList.add("shaka-ad-markers"),this.container.insertBefore(this.j,this.container.childNodes[0]),this.m=this.controls.i,this.h=new Tu(function(){xn.video.currentTime=xn.getValue()}),this.s=new Tu(function(){ey(xn)}),this.B=!1,this.i=[],this.eventManager.o(this.localization,"locale-updated",function(){return qp(xn)}),this.eventManager.o(this.localization,"locale-changed",function(){return qp(xn)}),this.eventManager.o(this.adManager,"ad-started",function(){yp(xn)||Gs(xn.container,!1)}),this.eventManager.o(this.adManager,"ad-stopped",function(){yp(xn)&&Gs(xn.container,!0)}),this.eventManager.o(this.adManager,"ad-cue-points-changed",function(An){xn.i=An.cuepoints,Qy(xn)}),this.eventManager.o(this.player,"unloading",function(){xn.i=[],Qy(xn)}),this.setValue(this.video.currentTime),this.update(),qp(this),this.ad&&Gs(this.container,!1)}as(Bp,ul),En=Bp.prototype,En.release=function(){this.h&&(this.h.stop(),this.h=null,this.s.stop(),this.s=null),ul.prototype.release.call(this)},En.onChangeStart=function(){this.B=!this.video.paused,this.controls.Qe(!0),this.video.pause()},En.onChange=function(){this.video.duration&&(this.update(),this.h.R(.125))},En.onChangeEnd=function(){this.h.Aa(),this.controls.Qe(!1),this.B&&this.video.play()},En.isShowing=function(){return!this.container.classList.contains("shaka-hidden")},En.update=function(){var mn=this.m.seekBarColors,kn=this.getValue(),xn=this.video.buffered.length,An=xn?this.video.buffered.start(0):0,Mn=xn?this.video.buffered.end(xn-1):0,Un=this.player.Ja(),Bn=Un.end-Un.start;this.setRange(Un.start,Un.end),yp(this)?(Gs(this.container,!0),xn==0?this.container.style.background=mn.base:(xn=(Math.max(An,Un.start)-Un.start)/Bn||0,Mn=(Math.min(Mn,Un.end)-Un.start)/Bn||0,kn=(Math.min(Math.max(kn,Un.start),Un.end)-Un.start)/Bn||0,this.container.style.background="linear-gradient("+["to right",(this.m.showUnbufferedStart?mn.base:mn.played)+" "+100*xn+"%",mn.played+" "+100*xn+"%",mn.played+" "+100*kn+"%",mn.buffered+" "+100*kn+"%",mn.buffered+" "+100*Mn+"%",mn.base+" "+100*Mn+"%"].join()+")")):Gs(this.container,!1)};function ey(mn){if(mn.i.length){for(var kn=mn.player.Ja(),xn=kn.end-kn.start,An=["to right"],Mn=[],Un=mn.m.seekBarColors.adBreaks,Bn=!1,zn=Dn(mn.i),Wn=zn.next();!Wn.done;Wn=zn.next())if(Wn=Wn.value,Wn.start!=-1||Wn.end||(Bn=!0),Wn.start>=kn.start&&Wn.start<kn.end&&!(Wn.end&&Wn.end>kn.end)){var ts=(Wn.start-kn.start)/xn||0,os=ts+.01;Wn.end&&(os=(Wn.end-kn.start)/xn||0),Mn.push({start:ts,end:os})}for(kn=Dn(Mn),Wn=kn.next();!Wn.done;Wn=kn.next())xn=Wn.value,An.push("transparent "+100*xn.start+"%"),An.push(Un+" "+100*xn.start+"%"),An.push(Un+" "+100*xn.end+"%"),An.push("transparent "+100*xn.end+"%");Bn&&(An.push("transparent 99%"),An.push(Un+" 99%")),mn.j.style.background="linear-gradient("+An.join(",")+")"}else mn.j.style.background="transparent"}function Qy(mn){ey(mn);var kn=mn.player.Ja();kn=kn.end-kn.start,mn.player.U()&&5<kn&&mn.s.ha(1)}function yp(mn){var kn=mn.player.Ja();return kn=kn.end-kn.start,mn.player.U()&&5>kn?!1:mn.ad==null||!mn.ad.isLinear()}function qp(mn){mn.bar.ariaLabel=mn.localization.resolve("SEEK")}Ys("shaka.ui.SeekBar",Bp);function Zy(){}Zy.prototype.create=function(mn,kn){return new Bp(mn,kn)},Bp.Factory=Zy;function Su(mn,kn,xn,An){Eu.call(this);var Mn=this;this.P=!0,this.i=An,this.C=new sl(xn,mn,this.i.castReceiverAppId,this.i.castAndroidReceiverCompatible),this.Za=!0,this.s=this.C.zb(),this.B=xn,this.F=this.C.cc(),this.sa=mn,this.j=kn,this.Xa=this.F.sd(),this.l=this.m=null,this.X=!1,this.G=[],this.ub=[],this.gb=!1,this.Z=new Tu(function(){Mn.j.style.cursor="none",Mn.gb=!1,Xv(Mn)}),this.aa=new Tu(function(){Mn.g.removeAttribute("shown"),Mn.I.R(2)}),this.I=new Tu(function(){for(var Un=Dn(Mn.G),Bn=Un.next();!Bn.done;Bn=Un.next())Gs(Bn.value,!1)}),this.La=new Tu(function(){Mn.Mb()&&iM(Mn)}),this.J=null,this.H=[],this.ua=cD(),this.h=new xu,this.configure(this.i),aD(this),this.ka=new Set,MN(this),this.La.ha(.125),this.h.o(this.ua,"locale-changed",function(Un){Mn.Xa.setLocale(Un.locales[0])})}as(Su,Eu),En=Su.prototype,En.destroy=function(){var mn=this;return hs(function(kn){switch(kn.g){case 1:if(document.pictureInPictureElement!=mn.B){kn.D(2);break}return Qn(kn,document.exitPictureInPicture(),2);case 2:if(mn.h&&(mn.h.release(),mn.h=null),mn.Z&&(mn.Z.stop(),mn.Z=null),mn.aa&&(mn.aa.stop(),mn.aa=null),mn.I&&(mn.I.stop(),mn.I=null),mn.La&&(mn.La.stop(),mn.La=null),pA(mn),mn.g&&(mn.j.removeChild(mn.g),mn.g=null),!mn.C){kn.D(4);break}return Qn(kn,mn.C.destroy(),5);case 5:mn.C=null;case 4:if(!mn.sa){kn.D(6);break}return Qn(kn,mn.sa.destroy(),7);case 7:mn.sa=null;case 6:mn.F=null,mn.B=null,mn.s=null,mn.ua=null,mn.ka.clear(),Eu.prototype.release.call(mn),ms(kn)}})};function pA(mn){for(var kn=Dn(mn.H),xn=kn.next();!xn.done;xn=kn.next())xn.value.release();mn.H=[]}function fm(mn,kn){RN.set(mn,kn)}En.ng=function(mn){this.Za=mn,MN(this)},En.hh=function(){Xv(this)},En.configure=function(mn){this.i=mn,this.C.yf(mn.castReceiverAppId,mn.castAndroidReceiverCompatible),this.l&&(this.l=null),this.fb&&(this.fb=null),this.Ya&&(this.Ya=null),this.g?(i0(this.g),pA(this)):(Q2(this),iD(this)),this.j.classList.add("shaka-video-container"),this.B.classList.add("shaka-video"),J2(this),this.i.addBigPlayButton&&Z2(this),this.i.customContextMenu&&(this.Ya=new Bu(this.V,this),this.H.push(this.Ya)),this.$||tD(this),this.$a=Au("div"),this.$a.classList.add("shaka-server-side-ad-container"),this.g.appendChild(this.$a),rD(this),this.G=Array.from(this.j.getElementsByClassName("shaka-settings-menu")),this.G.push.apply(this.G,Kn(Array.from(this.j.getElementsByClassName("shaka-overflow-menu")))),nD(this),this.ub=Array.from(this.j.getElementsByClassName("shaka-show-controls-on-mouse-over")),Xv(this),mn=Dn(this.j.getElementsByClassName("shaka-no-propagation"));for(var kn=mn.next();!kn.done;kn=mn.next()){kn=kn.value;var xn=function(An){return An.stopPropagation()};this.h.o(kn,"click",xn),this.h.o(kn,"dblclick",xn)}},En.Me=function(mn){(this.P=mn)?(this.j.setAttribute("shaka-controls","true"),this.B.tabIndex=-1,this.B.controls=!1):this.j.removeAttribute("shaka-controls"),Xv(this)},En.Wf=function(mn){this.B.controls=mn,this.B.tabIndex=mn?0:-1,mn&&this.Me(!1)},En.getAd=function(){return this.m},En.Ag=function(){return this.C},En.Mg=function(){return this.ua},En.ah=function(){return this.j},En.zb=function(){return this.s},En.Lg=function(){return this.B},En.cc=function(){return this.F},En.Kg=function(){return this.sa},En.Fg=function(){return this.g},En.Ug=function(){return this.$a},En.Cg=function(){return this.O},En.Dg=function(){return this.i},En.gh=function(){return this.X},En.Qe=function(mn){this.X=mn},En.eh=function(){return this.Za},En.Hf=function(){return this.l?this.l.getValue():this.s.currentTime},En.Xf=function(mn){this.J=mn},En.md=function(){return this.G.some(function(mn){return!mn.classList.contains("shaka-hidden")})},En.fc=function(){this.I.Aa()},En.xd=function(){return!!(document.fullscreenEnabled||this.B.webkitSupportsFullscreen)},En.ic=function(){if(document.fullscreenEnabled)return!!document.fullscreenElement;var mn=this.B;return mn.webkitSupportsFullscreen?mn.webkitDisplayingFullscreen:!1};function E2(mn){var kn,xn;return hs(function(An){switch(An.g){case 1:if($s(An,2),!document.fullscreenEnabled){kn=mn.B,kn.webkitSupportsFullscreen&&kn.webkitEnterFullscreen(),An.D(4);break}if(!document.pictureInPictureElement){An.D(5);break}return Qn(An,document.exitPictureInPicture(),5);case 5:return Qn(An,mn.j.requestFullscreen({navigationUI:"hide"}),7);case 7:if(!mn.i.forceLandscapeOnFullscreen||!screen.orientation){An.D(4);break}return $s(An,9),Qn(An,screen.orientation.lock("landscape"),11);case 11:gs(An,4,2);break;case 9:Ss(An,2);case 4:gs(An,0);break;case 2:xn=Ss(An),mn.dispatchEvent(new _u("error",new Map().set("detail",xn))),ms(An)}})}function S2(mn){var kn;return hs(function(xn){return document.fullscreenEnabled?(screen.orientation&&screen.orientation.unlock(),Qn(xn,document.exitFullscreen(),0)):(kn=mn.B,kn.webkitSupportsFullscreen&&kn.webkitExitFullscreen(),xn.D(0))})}En.Xe=function(){var mn=this;return hs(function(kn){return mn.ic()?Qn(kn,S2(mn),0):Qn(kn,E2(mn),0)})},En.ag=function(){Gs(this.K,!0),Gs(this.O,!0),this.g.setAttribute("ad-active","true")},En.Kf=function(){Gs(this.K,!1),Gs(this.O,!1),this.g.removeAttribute("ad-active")};function $2(mn){mn.P&&mn.s.duration&&(mn.F.vf(),mn.s.paused&&!mn.X?mn.s.play():mn.s.pause())}function T2(mn){mn.m&&mn.m.isPaused()?mn.m.play():mn.m&&mn.m.pause()}function Q2(mn){mn.g=Au("div"),mn.g.classList.add("shaka-controls-container"),mn.j.appendChild(mn.g),mn.j.setAttribute("shaka-controls","true"),mn.h.o(mn.g,"touchstart",function(kn){mn.s.duration&&(mn.Mb()?mn.J=Date.now():(hA(mn,kn),kn.cancelable&&kn.preventDefault()))},{passive:!1}),mn.h.o(mn.g,"click",function(){k2(mn)}),mn.h.o(mn.g,"dblclick",function(){mn.i.doubleClickForFullscreen&&mn.xd()&&mn.Xe()})}function Z2(mn){var kn=Au("div");kn.classList.add("shaka-play-button-container"),mn.g.appendChild(kn),mn.fb=new Uu(kn,mn),mn.H.push(mn.fb)}function J2(mn){var kn=Au("div");kn.classList.add("shaka-scrim-container"),mn.g.appendChild(kn)}function eD(mn){mn.K=Au("div"),mn.K.classList.add("shaka-ad-controls");var kn=mn.m!=null&&mn.m.isLinear();Gs(mn.K,kn),mn.M.appendChild(mn.K),kn=new du(mn.K,mn),mn.H.push(kn),kn=new au(mn.K,mn),mn.H.push(kn)}function tD(mn){mn.$=Au("div"),mn.$.classList.add("shaka-spinner-container"),mn.j.appendChild(mn.$);var kn=Au("div");kn.classList.add("shaka-spinner"),mn.$.appendChild(kn),mn=document.createElementNS("http://www.w3.org/2000/svg","svg"),mn.classList.add("shaka-spinner-svg"),mn.setAttribute("viewBox","0 0 30 30"),kn.appendChild(mn),kn=document.createElementNS("http://www.w3.org/2000/svg","circle"),kn.classList.add("shaka-spinner-path"),kn.setAttribute("cx","15"),kn.setAttribute("cy","15"),kn.setAttribute("r","14.5"),kn.setAttribute("fill","none"),kn.setAttribute("stroke-width","1"),kn.setAttribute("stroke-miterlimit","10"),mn.appendChild(kn)}function rD(mn){mn.M=Au("div"),mn.M.classList.add("shaka-bottom-controls"),mn.M.classList.add("shaka-no-propagation"),mn.g.appendChild(mn.M),mn.h.o(mn.M,"click",function(An){An.target.closest(".shaka-overflow-button")||mn.fc()}),eD(mn),mn.V=Au("div"),mn.V.classList.add("shaka-controls-button-panel"),mn.V.classList.add("shaka-show-controls-on-mouse-over"),mn.i.enableTooltips&&mn.V.classList.add("shaka-tooltips-on"),mn.M.appendChild(mn.V);for(var kn=Dn(mn.i.controlPanelElements),xn=kn.next();!xn.done;xn=kn.next())xn=xn.value,RN.get(xn)?(xn=RN.get(xn).create(mn.V,mn),mn.H.push(xn)):$u("Unrecognized control panel element requested:",xn)}function nD(mn){if(mn.i.addSeekBar)mn.l=x2.create(mn.M,mn),mn.H.push(mn.l);else{mn=Dn(mn.G);for(var kn=mn.next();!kn.done;kn=mn.next())kn.value.classList.add("shaka-low-position")}}function iD(mn){mn.O=Au("div"),mn.O.classList.add("shaka-client-side-ad-container"),Gs(mn.O,!1),mn.h.o(mn.O,"click",function(){k2(mn)}),mn.j.appendChild(mn.O)}function aD(mn){mn.h.o(mn.F,"buffering",function(){mn.P&&Gs(mn.$,mn.F.Pc())}),mn.P&&Gs(mn.$,mn.F.Pc()),mn.h.o(pn,"keydown",function(kn){uD(mn,kn)}),mn.h.o(pn,"click",function(){return mn.fc()}),mn.h.o(mn,"submenuopen",function(){mn.fc()}),mn.h.o(mn.s,"play",function(){Xv(mn)}),mn.h.o(mn.s,"pause",function(){Xv(mn)}),mn.h.o(mn.j,"mousemove",function(kn){hA(mn,kn)}),mn.h.o(mn.j,"touchmove",function(kn){hA(mn,kn)},{passive:!0}),mn.h.o(mn.j,"touchend",function(kn){hA(mn,kn)},{passive:!0}),mn.h.o(mn.j,"mouseleave",function(){mn.J||mn.Z.Aa()}),mn.h.o(mn.C,"caststatuschanged",function(){MN(mn)}),mn.h.o(mn.j,"keydown",function(kn){var xn=document.activeElement,An=xn&&xn.classList?xn.classList.contains("shaka-volume-bar"):!1,Mn=xn&&xn.classList&&xn.classList.contains("shaka-seek-bar");if(mn.g.contains(xn)&&hA(mn,kn),mn.i.enableKeyboardPlaybackControls)switch(xn=mn.i.keyboardSeekDistance,kn.key){case"ArrowLeft":mn.l&&!An&&0<xn&&(kn.preventDefault(),nM(mn,mn.l.getValue()-xn));break;case"ArrowRight":mn.l&&!An&&0<xn&&(kn.preventDefault(),nM(mn,mn.l.getValue()+xn));break;case"Home":mn.l&&nM(mn,mn.F.Ja().start);break;case"End":mn.l&&nM(mn,mn.F.Ja().end);break;case" ":Mn&&b2(mn)}}),mn.h.o(mn.j,"keyup",function(kn){mn.ka.delete(kn.key)}),mn.h.o(mn.Xa,"ad-started",function(kn){mn.m=kn.ad,mn.ag()}),mn.h.o(mn.Xa,"ad-stopped",function(){mn.m=null,mn.Kf()}),screen.orientation&&mn.h.o(screen.orientation,"change",function(){return hs(function(kn){return Qn(kn,oD(mn),0)})})}function oD(mn){return hs(function(kn){return mn.s&&mn.s.readyState!=0&&!mn.C.na()&&mn.i.enableFullscreenOnRotation&&mn.xd()?screen.orientation.type.includes("landscape")&&!mn.ic()?Qn(kn,E2(mn),0):screen.orientation.type.includes("portrait")&&mn.ic()?Qn(kn,S2(mn),0):kn.D(0):kn.return()})}function hA(mn,kn){kn.type=="mousemove"&&(mn.g.classList.remove("shaka-keyboard-navigation"),Xv(mn)),kn.type=="touchstart"||kn.type=="touchmove"||kn.type=="touchend"||kn.type=="keyup"?mn.J=Date.now():mn.J+1e3<Date.now()&&(mn.J=null),mn.J&&kn.type=="mousemove"||(mn.j.style.cursor="",mn.gb=!0,mn.I.stop(),mn.Mb()||(iM(mn),Xv(mn)),mn.Z.stop(),kn.type!="touchend"&&kn.type!="keyup"&&mn.J||mn.Z.R(3))}function sD(mn){return pn.matchMedia("hover: hover").matches?mn.ub.some(function(kn){return kn.matches(":hover")}):!1}function Xv(mn){var kn=mn.m?mn.m.isPaused():!1,xn=mn.s.paused&&!mn.X,An=mn.g.classList.contains("shaka-keyboard-navigation");kn||(!mn.m||!mn.m.isLinear())&&xn||mn.gb||An||sD(mn)?(iM(mn),mn.g.setAttribute("shown","true"),mn.aa.stop()):mn.aa.R(mn.i.fadeDelay)}function k2(mn){mn.P&&(mn.md()?mn.I.Aa():mn.i.singleClickForPlayAndPause&&b2(mn))}function b2(mn){mn.m&&mn.m.isLinear()?T2(mn):$2(mn)}function MN(mn){var kn=mn.C.na();mn.dispatchEvent(new _u("caststatuschanged",new Map().set("newStatus",kn))),kn?mn.g.setAttribute("casting","true"):mn.g.removeAttribute("casting")}En.Mb=function(){return this.P?this.g.getAttribute("shown")!=null||this.g.getAttribute("casting")!=null:!1};function nM(mn,kn){mn.l.changeTo(kn),mn.Mb()&&iM(mn)}function iM(mn){if(mn.l)if(mn.l.setValue(mn.s.currentTime),mn.l.update(),mn.l.isShowing())for(var kn=Dn(mn.G),xn=kn.next();!xn.done;xn=kn.next())xn.value.classList.remove("shaka-low-position");else for(kn=Dn(mn.G),xn=kn.next();!xn.done;xn=kn.next())xn.value.classList.add("shaka-low-position");mn.dispatchEvent(new _u("timeandseekrangeupdated"))}function uD(mn,kn){mn.ka.add(kn.key);var xn=mn.md();kn.key=="Tab"&&(mn.g.classList.add("shaka-keyboard-navigation"),Xv(mn),mn.h.o(pn,"mousedown",function(){mn.h.qc(pn,"mousedown")})),kn.key=="Escape"&&mn.I.Aa(),xn&&mn.ka.has("Tab")&&lD(mn,kn)}function lD(mn,kn){var xn=mn.G.filter(function(Un){return!Un.classList.contains("shaka-hidden")});if(xn.length){var An=xn[0];if(An.childNodes.length){for(xn=An.firstElementChild;xn&&xn.classList.contains("shaka-hidden");)xn=xn.nextElementSibling;for(An=An.lastElementChild;An&&An.classList.contains("shaka-hidden");)An=An.previousElementSibling;var Mn=document.activeElement;mn.ka.has("Shift")?Mn==xn&&(kn.preventDefault(),An.focus()):Mn==An&&(kn.preventDefault(),xn.focus())}}}function cD(){var mn=new np("en");return mn.ea("ar",new Map([["AD_DURATION","مدة الإعلان"],["AD_PROGRESS","الإعلان [AD_ON] من [NUM_ADS]"],["AD_TIME","الإعلان: [AD_TIME]"],["AUTO_QUALITY","تلقائي"],["BACK","رجوع"],["CAPTIONS","الترجمة والشرح"],["CAST","إرسال..."],["ENTER_LOOP_MODE","تكرار الفيديو الحالي"],["ENTER_PICTURE_IN_PICTURE",'الدخول في وضع "نافذة ضمن نافذة"'],["EXIT_FULL_SCREEN","إنهاء وضع ملء الشاشة"],["EXIT_LOOP_MODE","إيقاف تكرار الفيديو الحالي"],["EXIT_PICTURE_IN_PICTURE",'الخروج من وضع "نافذة ضمن نافذة"'],["FAST_FORWARD","تقديم سريع"],["FULL_SCREEN","ملء الشاشة"],["LANGUAGE","اللغة"],["LIVE","مباشر"],["LOOP","تكرار"],["MORE_SETTINGS","مزيد من الإعدادات"],["MULTIPLE_LANGUAGES","لغات متعددة"],["MUTE","كتم الصوت"],["NOT_APPLICABLE","غير سارٍ"],["OFF","إيقاف"],["ON","تشغيل"],["PAUSE","إيقاف مؤقت"],["PICTURE_IN_PICTURE","نافذة ضمن النافذة"],["PLAY","التشغيل"],["PLAYBACK_RATE","سرعة التشغيل"],["RESOLUTION","درجة الدقة"],["REWIND","ترجيع"],["SEEK","البحث بالتمرير"],["SKIP_AD","تخطّي الإعلان"],["SKIP_TO_LIVE","الانتقال إلى بث مباشر"],["UNDETERMINED_LANGUAGE","غير محدد"],["UNMUTE","إعادة الصوت"],["UNRECOGNIZED_LANGUAGE","غير معروف"],["VOLUME","مستوى الصوت"]])),mn.ea("de",new Map([["AD_DURATION","Dauer der Werbeanzeige"],["AD_PROGRESS","Werbung [AD_ON] von [NUM_ADS]"],["AD_TIME","Werbeanzeige: [AD_TIME]"],["AUTO_QUALITY","Automatisch"],["BACK","Zurück"],["CAPTIONS","Untertitel"],["CAST","Streamen..."],["ENTER_LOOP_MODE","In Endlosschleife spielen"],["ENTER_PICTURE_IN_PICTURE","Bild-im-Bild-Modus aktivieren"],["EXIT_FULL_SCREEN","Vollbildmodus beenden"],["EXIT_LOOP_MODE","Endlosschleife stoppen"],["EXIT_PICTURE_IN_PICTURE","Bild-im-Bild-Modus beenden"],["FAST_FORWARD","Vorspulen"],["FULL_SCREEN","Vollbildmodus"],["LANGUAGE","Sprache"],["LIVE","Live"],["LOOP","Schleife"],["MORE_SETTINGS","Weitere Einstellungen"],["MULTIPLE_LANGUAGES","Mehrere Sprachen"],["MUTE","Stummschalten"],["NOT_APPLICABLE","Nicht zutreffend"],["OFF","Aus"],["ON","Ein"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Bild im Bild"],["PLAY","Wiedergabe"],["PLAYBACK_RATE","Geschwindigkeit"],["RESOLUTION","Auflösung"],["REWIND","Zurückspulen"],["SEEK","Suche"],["SKIP_AD","Überspringen"],["SKIP_TO_LIVE","Zum Live-Videostream wechseln"],["UNDETERMINED_LANGUAGE","Unbestimmt"],["UNMUTE","Stummschaltung aufheben"],["UNRECOGNIZED_LANGUAGE","Unbekannt"],["VOLUME","Lautstärke"]])),mn.ea("en",new Map([["AD_DURATION","Ad duration"],["AD_PROGRESS","Ad [AD_ON] of [NUM_ADS]"],["AD_TIME","Ad: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Auto"],["BACK","Back"],["CAPTIONS","Captions"],["CAST","Cast..."],["ENTER_LOOP_MODE","Loop the current video"],["ENTER_PICTURE_IN_PICTURE","Enter Picture-in-Picture"],["EXIT_FULL_SCREEN","Exit full screen"],["EXIT_LOOP_MODE","Stop looping the current video"],["EXIT_PICTURE_IN_PICTURE","Exit Picture-in-Picture"],["FAST_FORWARD","Fast-forward"],["FULL_SCREEN","Full screen"],["LANGUAGE","Language"],["LIVE","Live"],["LOOP","Loop"],["MORE_SETTINGS","More settings"],["MULTIPLE_LANGUAGES","Multiple languages"],["MUTE","Mute"],["NOT_APPLICABLE","Not applicable"],["OFF","Off"],["ON","On"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-Picture"],["PLAY","Play"],["PLAYBACK_RATE","Playback speed"],["QUALITY","Quality"],["REPLAY","Replay"],["RESOLUTION","Resolution"],["REWIND","Rewind"],["SEEK","Seek"],["SKIP_AD","Skip Ad"],["SKIP_TO_LIVE","Skip ahead to live"],["STATISTICS","Statistics"],["SUBTITLE_FORCED","Forced"],["UNDETERMINED_LANGUAGE","Undetermined"],["UNMUTE","Unmute"],["UNRECOGNIZED_LANGUAGE","Unrecognized"],["VOLUME","Volume"]])),mn.ea("en-GB",new Map([["AD_DURATION","Ad duration"],["AD_PROGRESS","Ad [AD_ON] of [NUM_ADS]"],["AD_TIME","Ad: [AD_TIME]"],["AUTO_QUALITY","Auto"],["BACK","Back"],["CAPTIONS","Captions"],["CAST","Cast..."],["ENTER_LOOP_MODE","Loop the current video"],["ENTER_PICTURE_IN_PICTURE","Enter picture-in-picture"],["EXIT_FULL_SCREEN","Exit full screen"],["EXIT_LOOP_MODE","Stop looping the current video"],["EXIT_PICTURE_IN_PICTURE","Exit picture-in-picture"],["FAST_FORWARD","Fast-forward"],["FULL_SCREEN","Full screen"],["LANGUAGE","Language"],["LIVE","Live"],["LOOP","Loop"],["MORE_SETTINGS","More settings"],["MULTIPLE_LANGUAGES","Multiple languages"],["MUTE","Mute"],["NOT_APPLICABLE","Not applicable"],["OFF","Off"],["ON","On"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-picture"],["PLAY","Play"],["PLAYBACK_RATE","Playback speed"],["RESOLUTION","Resolution"],["REWIND","Rewind"],["SEEK","Seek"],["SKIP_AD","Skip ad"],["SKIP_TO_LIVE","Skip ahead to live"],["UNDETERMINED_LANGUAGE","Undetermined"],["UNMUTE","Unmute"],["UNRECOGNIZED_LANGUAGE","Unrecognised"],["VOLUME","volume"]])),mn.ea("es",new Map([["AD_DURATION","Duración del anuncio"],["AD_PROGRESS","Anuncio [AD_ON] de [NUM_ADS]"],["AD_TIME","Anuncio: [AD_TIME]"],["AUTO_QUALITY","Automático"],["BACK","Atrás"],["CAPTIONS","Subtítulos"],["CAST","Enviar..."],["ENTER_LOOP_MODE","Reproducir en bucle el vídeo actual"],["ENTER_PICTURE_IN_PICTURE","Activar el modo imagen en imagen"],["EXIT_FULL_SCREEN","Salir del modo de pantalla completa"],["EXIT_LOOP_MODE","Dejar de reproducir en bucle el vídeo actual"],["EXIT_PICTURE_IN_PICTURE","Salir del modo imagen en imagen"],["FAST_FORWARD","Avanzar rápidamente"],["FULL_SCREEN","Pantalla completa"],["LANGUAGE","Idioma"],["LIVE","En directo"],["LOOP","Reproducir en bucle"],["MORE_SETTINGS","Más ajustes"],["MULTIPLE_LANGUAGES","Varios idiomas"],["MUTE","Silenciar"],["NOT_APPLICABLE","No aplicable"],["OFF","Desactivado"],["ON","Activado"],["PAUSE","Pausar"],["PICTURE_IN_PICTURE","Imagen en imagen"],["PLAY","Reproducir"],["PLAYBACK_RATE","Velocidad de reproducción"],["RESOLUTION","Resolución"],["REWIND","Rebobinar"],["SEEK","Buscar"],["SKIP_AD","Saltar anuncio"],["SKIP_TO_LIVE","Ir al vídeo en directo"],["SUBTITLE_FORCED","Forzado"],["UNDETERMINED_LANGUAGE","Sin especificar"],["UNMUTE","Activar sonido"],["UNRECOGNIZED_LANGUAGE","No reconocida"],["VOLUME","Volumen"]])),mn.ea("es-419",new Map([["AD_DURATION","Duración del anuncio"],["AD_PROGRESS","Anuncio [AD_ON] de [NUM_ADS]"],["AD_TIME","Anuncio: [AD_TIME]"],["AUTO_QUALITY","Automático"],["BACK","Atrás"],["CAPTIONS","Subtítulos"],["CAST","Transmitir..."],["ENTER_LOOP_MODE","Repetir indefinidamente el video actual"],["ENTER_PICTURE_IN_PICTURE","Ingresar al modo de pantalla en pantalla"],["EXIT_FULL_SCREEN","Salir de pantalla completa"],["EXIT_LOOP_MODE","Detener la repetición indefinida del video actual"],["EXIT_PICTURE_IN_PICTURE","Salir del modo de pantalla en pantalla"],["FAST_FORWARD","Avanzar"],["FULL_SCREEN","Pantalla completa"],["LANGUAGE","Idioma"],["LIVE","En directo"],["LOOP","Repetir indefinidamente"],["MORE_SETTINGS","Más opciones de configuración"],["MULTIPLE_LANGUAGES","Varios idiomas"],["MUTE","Silenciar"],["NOT_APPLICABLE","No aplicable"],["OFF","Desactivado"],["ON","Activado"],["PAUSE","Detener"],["PICTURE_IN_PICTURE","Pantalla en pantalla"],["PLAY","Reproducir"],["PLAYBACK_RATE","Velocidad de reproducción"],["RESOLUTION","Resolución"],["REWIND","Retroceder"],["SEEK","Buscar"],["SKIP_AD","Omitir anuncio"],["SKIP_TO_LIVE","Adelantar hasta la transmisión en vivo"],["SUBTITLE_FORCED","Forzado"],["UNDETERMINED_LANGUAGE","Sin especificar"],["UNMUTE","Dejar de silenciar"],["UNRECOGNIZED_LANGUAGE","No reconocida"],["VOLUME","Volumen"]])),mn.ea("fr",new Map([["AD_DURATION","Durée de l'annonce"],["AD_PROGRESS","Annonce [AD_ON] sur [NUM_ADS]"],["AD_TIME","Annonce : [AD_TIME]"],["AUTO_QUALITY","Automatique"],["BACK","Retour"],["CAPTIONS","Sous-titres"],["CAST","Caster…"],["ENTER_LOOP_MODE","Lire en boucle la vidéo en cours"],["ENTER_PICTURE_IN_PICTURE","Utiliser le mode Picture-in-Picture"],["EXIT_FULL_SCREEN","Quitter le mode plein écran"],["EXIT_LOOP_MODE","Arrêter la lecture en boucle de la vidéo en cours"],["EXIT_PICTURE_IN_PICTURE","Quitter le mode PIP (Picture-in-picture)"],["FAST_FORWARD","Avance rapide"],["FULL_SCREEN","Plein écran"],["LANGUAGE","Langue"],["LIVE","En direct"],["LOOP","Répéter"],["MORE_SETTINGS","Plus de paramètres"],["MULTIPLE_LANGUAGES","Plusieurs langues"],["MUTE","Couper le son"],["NOT_APPLICABLE","Non applicable"],["OFF","Désactivée"],["ON","Activée"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-Picture"],["PLAY","Visionner"],["PLAYBACK_RATE","Vitesse de lecture"],["RESOLUTION","Résolution"],["REWIND","Retour arrière"],["SEEK","Chercher"],["SKIP_AD","Passer l'annonce"],["SKIP_TO_LIVE","Accéder à la partie la plus récente du direct"],["UNDETERMINED_LANGUAGE","Langue indéterminée"],["UNMUTE","Réactiver le son"],["UNRECOGNIZED_LANGUAGE","Non reconnu"],["VOLUME","Volume"]])),mn.ea("it",new Map([["AD_DURATION","Durata dell'annuncio"],["AD_PROGRESS","Annuncio [AD_ON] di [NUM_ADS]"],["AD_TIME","Annuncio: [AD_TIME]"],["AUTO_QUALITY","Automatica"],["BACK","Indietro"],["CAPTIONS","Sottotitoli"],["CAST","Trasmetti..."],["ENTER_LOOP_MODE","Riproduci in loop il video corrente"],["ENTER_PICTURE_IN_PICTURE","Attiva Picture in picture"],["EXIT_FULL_SCREEN","Esci da schermo intero"],["EXIT_LOOP_MODE","Interrompi riproduzione in loop del video corrente"],["EXIT_PICTURE_IN_PICTURE","Esci da Picture in picture"],["FAST_FORWARD","Avanti veloce"],["FULL_SCREEN","Schermo intero"],["LANGUAGE","Lingua"],["LIVE","Dal vivo"],["LOOP","Riproduci in loop"],["MORE_SETTINGS","Altre impostazioni"],["MULTIPLE_LANGUAGES","Più lingue"],["MUTE","Disattiva audio"],["NOT_APPLICABLE","Non applicabile"],["OFF","Disattivo"],["ON","Attivo"],["PAUSE","Metti in pausa"],["PICTURE_IN_PICTURE","Picture in picture"],["PLAY","Riproduci"],["PLAYBACK_RATE","Velocità di riproduzione"],["RESOLUTION","Risoluzione"],["REWIND","Riavvolgi"],["SEEK","Cerca"],["SKIP_AD","Salta annuncio"],["SKIP_TO_LIVE","Passa alla trasmissione dal vivo"],["UNDETERMINED_LANGUAGE","Indeterminata"],["UNMUTE","Riattiva audio"],["UNRECOGNIZED_LANGUAGE","Non riconosciuto"],["VOLUME","Volume"]])),mn.ea("ja",new Map([["AD_DURATION","広告再生時間"],["AD_PROGRESS","[AD_ON] 番目の広告（全 [NUM_ADS] 個）"],["AD_TIME","広告: [AD_TIME]"],["AUTO_QUALITY","自動"],["BACK","戻る"],["CAPTIONS","字幕"],["CAST","キャスト..."],["ENTER_LOOP_MODE","現在の動画をループ再生"],["ENTER_PICTURE_IN_PICTURE","ピクチャー イン ピクチャーを開始"],["EXIT_FULL_SCREEN","全画面表示を終了"],["EXIT_LOOP_MODE","現在の動画のループ再生を停止"],["EXIT_PICTURE_IN_PICTURE","ピクチャー イン ピクチャーを終了"],["FAST_FORWARD","早送り"],["FULL_SCREEN","全画面表示"],["LANGUAGE","言語"],["LIVE","ライブ"],["LOOP","ループ"],["MORE_SETTINGS","詳細設定"],["MULTIPLE_LANGUAGES","多言語"],["MUTE","ミュート"],["NOT_APPLICABLE","該当なし"],["OFF","オフ"],["ON","オン"],["PAUSE","一時停止"],["PICTURE_IN_PICTURE","ピクチャー イン ピクチャー"],["PLAY","再生"],["PLAYBACK_RATE","再生速度"],["RESOLUTION","解像度"],["REWIND","巻き戻し"],["SEEK","シーク再生"],["SKIP_AD","広告をスキップ"],["SKIP_TO_LIVE","ライブ配信までスキップ"],["UNDETERMINED_LANGUAGE","不明"],["UNMUTE","ミュートを解除"],["UNRECOGNIZED_LANGUAGE","不明"],["VOLUME","音量"]])),mn.ea("ko",new Map([["AD_DURATION","광고 기간"],["AD_PROGRESS","광고 [AD_ON]/[NUM_ADS]"],["AD_TIME","광고: [AD_TIME]"],["AUTO_QUALITY","자동"],["BACK","뒤로"],["CAPTIONS","자막"],["CAST","전송..."],["ENTER_LOOP_MODE","현재 동영상 반복 재생"],["ENTER_PICTURE_IN_PICTURE","PIP 모드 시작"],["EXIT_FULL_SCREEN","전체화면 닫기"],["EXIT_LOOP_MODE","현재 동영상 반복 재생 중지"],["EXIT_PICTURE_IN_PICTURE","PIP 모드 종료"],["FAST_FORWARD","빨리 감기"],["FULL_SCREEN","전체화면"],["LANGUAGE","언어"],["LIVE","실시간"],["LOOP","반복 재생"],["MORE_SETTINGS","설정 더보기"],["MULTIPLE_LANGUAGES","여러 언어"],["MUTE","음소거"],["NOT_APPLICABLE","해당 사항 없음"],["OFF","사용 안함"],["ON","사용"],["PAUSE","일시중지"],["PICTURE_IN_PICTURE","PIP 모드"],["PLAY","재생"],["PLAYBACK_RATE","재생 속도"],["RESOLUTION","해상도"],["REWIND","되감기"],["SEEK","찾기"],["SKIP_AD","광고 건너뛰기"],["SKIP_TO_LIVE","라이브 동영상으로 건너뛰기"],["UNDETERMINED_LANGUAGE","미정"],["UNMUTE","음소거 해제"],["UNRECOGNIZED_LANGUAGE","알 수 없음"],["VOLUME","볼륨"]])),mn.ea("nl",new Map([["AD_DURATION","Advertentieduur"],["AD_PROGRESS","Advertentie [AD_ON] van [NUM_ADS]"],["AD_TIME","Advertentie: [AD_TIME]"],["AUTO_QUALITY","Automatisch"],["BACK","Terug"],["CAPTIONS","Ondertiteling"],["CAST","Casten..."],["ENTER_LOOP_MODE","De huidige video lussen"],["ENTER_PICTURE_IN_PICTURE","Scherm-in-scherm openen"],["EXIT_FULL_SCREEN","Volledig scherm sluiten"],["EXIT_LOOP_MODE","De huidige video niet meer lussen"],["EXIT_PICTURE_IN_PICTURE","Scherm-in-scherm afsluiten"],["FAST_FORWARD","Vooruitspoelen"],["FULL_SCREEN","Volledig scherm"],["LANGUAGE","Taal"],["LIVE","Live"],["LOOP","Lussen"],["MORE_SETTINGS","Meer instellingen"],["MULTIPLE_LANGUAGES","Meerdere talen"],["MUTE","Dempen"],["NOT_APPLICABLE","Niet van toepassing"],["OFF","Uit"],["ON","Aan"],["PAUSE","Onderbreken"],["PICTURE_IN_PICTURE","Scherm-in-scherm"],["PLAY","Afspelen"],["PLAYBACK_RATE","Afspeelsnelheid"],["RESOLUTION","Resolutie"],["REWIND","Terugspoelen"],["SEEK","Zoeken"],["SKIP_AD","Advertentie overslaan"],["SKIP_TO_LIVE","Doorgaan naar live"],["UNDETERMINED_LANGUAGE","Onbepaald"],["UNMUTE","Dempen opheffen"],["UNRECOGNIZED_LANGUAGE","Onbekend"],["VOLUME","Volume"]])),mn.ea("pl",new Map([["AD_DURATION","Czas trwania reklamy"],["AD_PROGRESS","Reklama [AD_ON] z [NUM_ADS]"],["AD_TIME","Reklama: [AD_TIME]"],["AUTO_QUALITY","Automatycznie"],["BACK","Wstecz"],["CAPTIONS","Napisy"],["CAST","Przesyłaj..."],["ENTER_LOOP_MODE","Odtwarzaj bieżący film w pętli"],["ENTER_PICTURE_IN_PICTURE","Włącz tryb obrazu w obrazie"],["EXIT_FULL_SCREEN","Zamknij pełny ekran"],["EXIT_LOOP_MODE","Wyłącz odtwarzanie bieżącego filmu w pętli"],["EXIT_PICTURE_IN_PICTURE","Wyłącz tryb obrazu w obrazie"],["FAST_FORWARD","Przewiń do przodu"],["FULL_SCREEN","Pełny ekran"],["LANGUAGE","Język"],["LIVE","Na żywo"],["LOOP","Odtwarzaj w pętli"],["MORE_SETTINGS","Więcej ustawień"],["MULTIPLE_LANGUAGES","Wiele języków"],["MUTE","Wycisz"],["NOT_APPLICABLE","Nie dotyczy"],["OFF","Wyłączone"],["ON","Włączone"],["PAUSE","Wstrzymaj"],["PICTURE_IN_PICTURE","Obraz w obrazie"],["PLAY","Odtwórz"],["PLAYBACK_RATE","Szybkość odtwarzania"],["RESOLUTION","Rozdzielczość"],["REWIND","Przewiń do tyłu"],["SEEK","Szukaj"],["SKIP_AD","Pomiń reklamę"],["SKIP_TO_LIVE","Przejdź do transmisji na żywo"],["UNDETERMINED_LANGUAGE","Nie określono"],["UNMUTE","Wyłącz wyciszenie"],["UNRECOGNIZED_LANGUAGE","Nierozpoznany"],["VOLUME","Głośność"]])),mn.ea("pt-BR",new Map([["AD_DURATION","Duração do anúncio"],["AD_PROGRESS","Anúncio [AD_ON] de [NUM_ADS]"],["AD_TIME","Anúncio: [AD_TIME]"],["AUTO_QUALITY","Automática"],["BACK","Voltar"],["CAPTIONS","Legendas"],["CAST","Transmitir..."],["ENTER_LOOP_MODE","Repetir o vídeo atual"],["ENTER_PICTURE_IN_PICTURE","Entrar no modo picture-in-picture"],["EXIT_FULL_SCREEN","Sair do modo tela cheia"],["EXIT_LOOP_MODE","Parar repetição do vídeo atual"],["EXIT_PICTURE_IN_PICTURE","Sair de picture-in-picture"],["FAST_FORWARD","Avançar"],["FULL_SCREEN","Tela cheia"],["LANGUAGE","Idioma"],["LIVE","Ao vivo"],["LOOP","Repetir"],["MORE_SETTINGS","Mais definições"],["MULTIPLE_LANGUAGES","Vários idiomas"],["MUTE","Desativar som"],["NOT_APPLICABLE","Não relevante"],["OFF","Desativado"],["ON","Ativado"],["PAUSE","Pausar"],["PICTURE_IN_PICTURE","Picture-in-picture"],["PLAY","Reproduzir"],["PLAYBACK_RATE","Velocidade da reprodução"],["RESOLUTION","Resolução"],["REWIND","Retroceder"],["SEEK","Procurar"],["SKIP_AD","Pular anúncio"],["SKIP_TO_LIVE","Pular para transmissão ao vivo"],["UNDETERMINED_LANGUAGE","Indeterminado"],["UNMUTE","Ativar som"],["UNRECOGNIZED_LANGUAGE","Não reconhecido"],["VOLUME","Volume"]])),mn.ea("ru",new Map([["AD_DURATION","Продолжительность рекламы"],["AD_PROGRESS","Реклама [AD_ON] из [NUM_ADS]"],["AD_TIME","Реклама: [AD_TIME]"],["AUTO_QUALITY","Авто"],["BACK","Назад"],["CAPTIONS","Субтитры"],["CAST","Транслировать..."],["ENTER_LOOP_MODE","Зациклить текущее видео"],["ENTER_PICTURE_IN_PICTURE",'Перейти в режим "Картинка в картинке"'],["EXIT_FULL_SCREEN","Обычный режим"],["EXIT_LOOP_MODE","Отменить зацикливание текущего видео"],["EXIT_PICTURE_IN_PICTURE",'Выйти из режима "Картинка в картинке"'],["FAST_FORWARD","Перемотка вперед"],["FULL_SCREEN","Полноэкранный режим"],["LANGUAGE","Язык"],["LIVE","Прямой эфир"],["LOOP","Зациклить"],["MORE_SETTINGS","Дополнительные настройки"],["MULTIPLE_LANGUAGES","Несколько языков"],["MUTE","Отключить звук"],["NOT_APPLICABLE","Неприменимо"],["OFF","Выкл."],["ON","Вкл."],["PAUSE","Пауза"],["PICTURE_IN_PICTURE","Картинка в картинке"],["PLAY","Воспроизвести"],["PLAYBACK_RATE","Скорость воспроизведения"],["RESOLUTION","Разрешение"],["REWIND","Перемотать назад"],["SEEK","Перемотка"],["SKIP_AD","Пропустить"],["SKIP_TO_LIVE","Пропустить и перейти к прямой трансляции"],["UNDETERMINED_LANGUAGE","Не указано"],["UNMUTE","Включить звук"],["UNRECOGNIZED_LANGUAGE","Не распознано"],["VOLUME","Громкость"]])),mn.ea("th",new Map([["AD_DURATION","ระยะเวลาโฆษณา"],["AD_PROGRESS","โฆษณา [AD_ON] จาก [NUM_ADS] รายการ"],["AD_TIME","โฆษณา: [AD_TIME]"],["AUTO_QUALITY","อัตโนมัติ"],["BACK","กลับ"],["CAPTIONS","คำบรรยาย"],["CAST","แคสต์..."],["ENTER_LOOP_MODE","วนซ้ำวิดีโอปัจจุบัน"],["ENTER_PICTURE_IN_PICTURE","เข้าสู่การแสดงภาพซ้อนภาพ"],["EXIT_FULL_SCREEN","ออกจากการแสดงแบบเต็มหน้าจอ"],["EXIT_LOOP_MODE","หยุดวนซ้ำวิดีโอปัจจุบัน"],["EXIT_PICTURE_IN_PICTURE","ออกจากการแสดงภาพซ้อนภาพ"],["FAST_FORWARD","กรอไปข้างหน้า"],["FULL_SCREEN","เต็มหน้าจอ"],["LANGUAGE","ภาษา"],["LIVE","สด"],["LOOP","ลูป"],["MORE_SETTINGS","การตั้งค่าเพิ่มเติม"],["MULTIPLE_LANGUAGES","หลายภาษา"],["MUTE","ปิดเสียง"],["NOT_APPLICABLE","ไม่เกี่ยวข้อง"],["OFF","ปิด"],["ON","เปิด"],["PAUSE","หยุดชั่วคราว"],["PICTURE_IN_PICTURE","การแสดงภาพซ้อนภาพ"],["PLAY","เล่น"],["PLAYBACK_RATE","ความเร็วในการเล่น"],["RESOLUTION","ความละเอียด"],["REWIND","กรอกลับ"],["SEEK","ค้นหา"],["SKIP_AD","ข้ามโฆษณา"],["SKIP_TO_LIVE","ข้ามไปที่การถ่ายทอดสด"],["UNDETERMINED_LANGUAGE","ไม่กำหนด"],["UNMUTE","เปิดเสียง"],["UNRECOGNIZED_LANGUAGE","ที่ไม่รู้จัก"],["VOLUME","ระดับเสียง"]])),mn.ea("tr",new Map([["AD_DURATION","Reklam süresi"],["AD_PROGRESS","[AD_ON]/[NUM_ADS] reklam"],["AD_TIME","Reklam: [AD_TIME]"],["AUTO_QUALITY","Otomatik"],["BACK","Geri"],["CAPTIONS","Altyazılar"],["CAST","Yayınla..."],["ENTER_LOOP_MODE","Mevcut videoyu döngüye al"],["ENTER_PICTURE_IN_PICTURE","Pencere içinde Pencere moduna gir"],["EXIT_FULL_SCREEN","Tam ekrandan çık"],["EXIT_LOOP_MODE","Mevcut videonun döngüsünü durdur"],["EXIT_PICTURE_IN_PICTURE","Pencere İçinde Pencereden Çık"],["FAST_FORWARD","İleri sar"],["FULL_SCREEN","Tam ekran"],["LANGUAGE","Dil"],["LIVE","Canlı"],["LOOP","Döngü"],["MORE_SETTINGS","Daha fazla ayar"],["MULTIPLE_LANGUAGES","Birden çok dil"],["MUTE","Sesi kapat"],["NOT_APPLICABLE","Geçerli değil"],["OFF","Kapalı"],["ON","Açık"],["PAUSE","Duraklat"],["PICTURE_IN_PICTURE","Pencere İçinde Pencere"],["PLAY","Oynat"],["PLAYBACK_RATE","Çalma hızı"],["RESOLUTION","Çözünürlük"],["REWIND","Geri sar"],["SEEK","Ara"],["SKIP_AD","Reklamı Atla"],["SKIP_TO_LIVE","Canlı yayına atla"],["UNDETERMINED_LANGUAGE","Belirsiz"],["UNMUTE","Sesi aç"],["UNRECOGNIZED_LANGUAGE","Tanınmayan"],["VOLUME","Ses"]])),mn.ea("zh",new Map([["AD_DURATION","广告持续时间"],["AD_PROGRESS","广告 [AD_ON]/[NUM_ADS]"],["AD_TIME","广告：[AD_TIME]"],["AUTO_QUALITY","自动"],["BACK","返回"],["CAPTIONS","字幕"],["CAST","投射…"],["ENTER_LOOP_MODE","循环播放当前视频"],["ENTER_PICTURE_IN_PICTURE","进入“画中画”模式"],["EXIT_FULL_SCREEN","退出全屏模式"],["EXIT_LOOP_MODE","停止循环播放当前视频"],["EXIT_PICTURE_IN_PICTURE","退出“画中画”模式"],["FAST_FORWARD","快进"],["FULL_SCREEN","全屏"],["LANGUAGE","语言"],["LIVE","直播"],["LOOP","循环播放"],["MORE_SETTINGS","更多设置"],["MULTIPLE_LANGUAGES","多种语言"],["MUTE","静音"],["NOT_APPLICABLE","不适用"],["OFF","关闭"],["ON","开启"],["PAUSE","暂停"],["PICTURE_IN_PICTURE","画中画"],["PLAY","播放"],["PLAYBACK_RATE","播放速度"],["RESOLUTION","分辨率"],["REWIND","快退"],["SEEK","进度"],["SKIP_AD","跳过广告"],["SKIP_TO_LIVE","跳至当前直播"],["UNDETERMINED_LANGUAGE","未确定"],["UNMUTE","取消静音"],["UNRECOGNIZED_LANGUAGE","无法识别"],["VOLUME","音量"]])),mn.ea("zh-TW",new Map([["AD_DURATION","廣告長度"],["AD_PROGRESS","廣告 [AD_ON]/[NUM_ADS]"],["AD_TIME","廣告：[AD_TIME]"],["AUTO_QUALITY","自動"],["BACK","返回"],["CAPTIONS","字幕"],["CAST","投放..."],["ENTER_LOOP_MODE","循環播放目前的影片"],["ENTER_PICTURE_IN_PICTURE","進入子母畫面"],["EXIT_FULL_SCREEN","退出全螢幕模式"],["EXIT_LOOP_MODE","停止循環播放目前的影片"],["EXIT_PICTURE_IN_PICTURE","離開子母畫面"],["FAST_FORWARD","快轉"],["FULL_SCREEN","全螢幕"],["LANGUAGE","語言"],["LIVE","直播"],["LOOP","循環播放"],["MORE_SETTINGS","顯示更多設定"],["MULTIPLE_LANGUAGES","多種語言"],["MUTE","靜音"],["NOT_APPLICABLE","不適用"],["OFF","關閉"],["ON","開啟"],["PAUSE","暫停"],["PICTURE_IN_PICTURE","子母畫面"],["PLAY","播放"],["PLAYBACK_RATE","播放速度"],["RESOLUTION","解析度"],["REWIND","倒轉"],["SEEK","搜尋"],["SKIP_AD","略過廣告"],["SKIP_TO_LIVE","跳至当前直播"],["UNDETERMINED_LANGUAGE","不明"],["UNMUTE","取消靜音"],["UNRECOGNIZED_LANGUAGE","無法辨識"],["VOLUME","音量"]])),mn.xf(navigator.languages||[]),mn}Ys("shaka.ui.Controls",Su),Su.prototype.isOpaque=Su.prototype.Mb,Su.prototype.hideAdUI=Su.prototype.Kf,Su.prototype.showAdUI=Su.prototype.ag,Su.prototype.toggleFullScreen=Su.prototype.Xe,Su.prototype.isFullScreenEnabled=Su.prototype.ic,Su.prototype.isFullScreenSupported=Su.prototype.xd,Su.prototype.hideSettingsMenus=Su.prototype.fc,Su.prototype.anySettingsMenusAreOpen=Su.prototype.md,Su.prototype.setLastTouchEventTime=Su.prototype.Xf,Su.prototype.getDisplayTime=Su.prototype.Hf,Su.prototype.isCastAllowed=Su.prototype.eh,Su.prototype.setSeeking=Su.prototype.Qe,Su.prototype.isSeeking=Su.prototype.gh,Su.prototype.getConfig=Su.prototype.Dg,Su.prototype.getClientSideAdContainer=Su.prototype.Cg,Su.prototype.getServerSideAdContainer=Su.prototype.Ug,Su.prototype.getControlsContainer=Su.prototype.Fg,Su.prototype.getLocalPlayer=Su.prototype.Kg,Su.prototype.getPlayer=Su.prototype.cc,Su.prototype.getLocalVideo=Su.prototype.Lg,Su.prototype.getVideo=Su.prototype.zb,Su.prototype.getVideoContainer=Su.prototype.ah,Su.prototype.getLocalization=Su.prototype.Mg,Su.prototype.getCastProxy=Su.prototype.Ag,Su.prototype.getAd=Su.prototype.getAd,Su.prototype.setEnabledNativeControls=Su.prototype.Wf,Su.prototype.setEnabledShakaControls=Su.prototype.Me,Su.prototype.configure=Su.prototype.configure,Su.prototype.loadComplete=Su.prototype.hh,Su.prototype.allowCast=Su.prototype.ng,Su.registerSeekBar=function(mn){x2=mn},Su.registerElement=fm,Su.prototype.destroy=Su.prototype.destroy;var RN=new Map,x2=new Zy;function mA(mn,kn){ws.call(this,mn,kn);var xn=this;this.l=this.controls.i,this.j=this.controls.g,this.i=[],this.g=Tp(),this.g.classList.add("shaka-overflow-menu-button"),this.g.classList.add("shaka-no-propagation"),this.g.classList.add("material-icons-round"),this.g.classList.add("shaka-tooltip"),this.g.textContent="more_vert",this.parent.appendChild(this.g),this.h=Au("div"),this.h.classList.add("shaka-overflow-menu"),this.h.classList.add("shaka-no-propagation"),this.h.classList.add("shaka-show-controls-on-mouse-over"),this.h.classList.add("shaka-hidden"),this.j.appendChild(this.h),dD(this),this.eventManager.o(this.localization,"locale-updated",function(){NN(xn)}),this.eventManager.o(this.localization,"locale-changed",function(){NN(xn)}),this.eventManager.o(this.adManager,"ad-started",function(){xn.ad&&xn.ad.isLinear()&&Gs(xn.g,!1)}),this.eventManager.o(this.adManager,"ad-stopped",function(){Gs(xn.g,!0)}),this.eventManager.o(this.controls,"submenuopen",function(){Gs(xn.h,!1)}),this.eventManager.o(this.h,"touchstart",function(An){xn.controls.Xf(Date.now()),An.stopPropagation()}),this.eventManager.o(this.g,"click",function(){fD(xn)}),NN(this),this.ad&&this.ad.isLinear()&&Gs(this.g,!1)}as(mA,ws),mA.prototype.release=function(){this.j=null;for(var mn=Dn(this.i),kn=mn.next();!kn.done;kn=mn.next())kn.value.release();this.i=[],ws.prototype.release.call(this)};function A_(mn,kn){DN.set(mn,kn)}function dD(mn){for(var kn=Dn(mn.l.overflowMenuButtons),xn=kn.next();!xn.done;xn=kn.next())xn=xn.value,DN.get(xn)?(xn=DN.get(xn),mn.i.push(xn.create(mn.h,mn.controls))):$u("Unrecognized overflow menu element requested:",xn)}function fD(mn){if(mn.controls.md())mn.controls.fc();else{Gs(mn.h,!0),Xv(mn.controls);var kn=function(xn){return xn.classList.contains("shaka-hidden")==0};Xp(mn.h.childNodes,kn)&&_p(mn.h.childNodes,kn)[0].focus()}}function NN(mn){mn.g.ariaLabel=mn.localization.resolve("MORE_SETTINGS")}Ys("shaka.ui.OverflowMenu",mA),mA.registerElement=A_;function w2(){}w2.prototype.create=function(mn,kn){return new mA(mn,kn)},fm("overflow_menu",new w2);var DN=new Map;function LN(mn,kn){ws.call(this,mn,kn);var xn=this;this.g=Tp(),this.g.classList.add("shaka-airplay-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",this.h=Au("i"),this.h.classList.add("material-icons-round"),this.h.textContent="airplay",this.g.appendChild(this.h),pn.WebKitPlaybackTargetAvailabilityEvent||this.g.classList.add("shaka-hidden"),mn=Au("label"),mn.classList.add("shaka-overflow-button-label"),mn.classList.add("shaka-overflow-menu-only"),this.j=Au("span"),mn.appendChild(this.j),this.i=Au("span"),this.i.classList.add("shaka-current-selection-span"),mn.appendChild(this.i),this.g.appendChild(mn),this.parent.appendChild(this.g),UN(this),C2(this),this.eventManager.o(this.localization,"locale-updated",function(){UN(xn)}),this.eventManager.o(this.localization,"locale-changed",function(){UN(xn)}),this.eventManager.o(this.g,"click",function(){xn.controls.zb().webkitShowPlaybackTargetPicker()}),mn=this.controls.zb(),this.eventManager.o(mn,"webkitplaybacktargetavailabilitychanged",function(An){var Mn=xn.player.If()==Xm;Gs(xn.g,An.availability=="available"&&Mn)}),this.eventManager.o(mn,"webkitcurrentplaybacktargetiswirelesschanged",function(){C2(xn)})}as(LN,ws);function C2(mn){var kn=mn.controls.zb();mn.g.ariaPressed=kn&&kn.webkitCurrentPlaybackTargetIsWireless?"true":"false"}function UN(mn){mn.g.ariaLabel=mn.localization.resolve("AIRPLAY"),mn.j.textContent=mn.localization.resolve("AIRPLAY")}Ys("shaka.ui.AirPlayButton",LN);function jN(){}jN.prototype.create=function(mn,kn){return new LN(mn,kn)},A_("airplay",new jN),fm("airplay",new jN);function _m(mn,kn,xn){this.i=mn,this.h=aM(this),kn.dataset.shakaPlayerContainer="",kn.ui=this,this.pe()&&kn.classList.add("shaka-mobile"),this.g=new Su(mn,kn,xn,this.h),this.configure({}),xn.controls||mn.Te(kn),kn.ui=this,xn.ui=this}En=_m.prototype,En.destroy=function(){var mn=this;return hs(function(kn){if(kn.g==1)return mn.g?Qn(kn,mn.g.destroy(),2):kn.D(2);if(kn.g!=4)return mn.g=null,mn.i?Qn(kn,mn.i.destroy(),4):kn.D(4);mn.i=null,ms(kn)})},En.pe=function(){return/(?:iPhone|iPad|iPod|Android)/.test(navigator.userAgent)?!0:rv()&&1<navigator.maxTouchPoints},En.getConfiguration=function(){var mn=aM(this);return DS(mn,this.h,aM(this),{},""),mn},En.configure=function(mn,kn){arguments.length==2&&typeof mn=="string"&&(mn=s0(mn,kn)),DS(this.h,mn,aM(this),{},""),this.h.castReceiverAppId&&!this.h.overflowMenuButtons.includes("cast")&&this.h.overflowMenuButtons.push("cast"),this.g.configure(this.h),this.g.dispatchEvent(new _u("uiupdated"))},En.Eg=function(){return this.g},En.Jh=function(mn){this.g.Me(mn)};function aM(mn){var kn={controlPanelElements:"play_pause time_and_duration spacer mute volume fullscreen overflow_menu".split(" "),overflowMenuButtons:"captions quality language picture_in_picture cast playback_rate".split(" "),statisticsList:"width height corruptedFrames decodedFrames droppedFrames drmTimeSeconds licenseTime liveLatency loadLatency bufferingTime manifestTimeSeconds estimatedBandwidth streamBandwidth maxSegmentDuration pauseTime playTime completionPercent".split(" "),contextMenuElements:["loop","picture_in_picture","statistics"],playbackRates:[.5,.75,1,1.25,1.5,1.75,2],fastForwardRates:[2,4,8,1],rewindRates:[-1,-2,-4,-8],addSeekBar:!0,addBigPlayButton:!1,customContextMenu:!1,castReceiverAppId:"",castAndroidReceiverCompatible:!1,clearBufferOnQualityChange:!0,showUnbufferedStart:!1,seekBarColors:{base:"rgba(255, 255, 255, 0.3)",buffered:"rgba(255, 255, 255, 0.54)",played:"rgb(255, 255, 255)",adBreaks:"rgb(255, 204, 0)"},volumeBarColors:{base:"rgba(255, 255, 255, 0.54)",level:"rgb(255, 255, 255)"},trackLabelFormat:BN,fadeDelay:0,doubleClickForFullscreen:!0,singleClickForPlayAndPause:!0,enableKeyboardPlaybackControls:!0,enableFullscreenOnRotation:!0,forceLandscapeOnFullscreen:!0,enableTooltips:!1,keyboardSeekDistance:5};return pn.WebKitPlaybackTargetAvailabilityEvent&&kn.overflowMenuButtons.push("airplay"),mn.pe()&&(kn.addBigPlayButton=!0,kn.controlPanelElements=kn.controlPanelElements.filter(function(xn){return xn!="play_pause"&&xn!="volume"})),kn}function A2(){var mn,kn,xn,An,Mn,Un,Bn,zn,Wn,ts,os,ds,ls,ys,Cs,Ns,Os,Ps,Xs,Ds,qs;return hs(function(Qs){switch(Qs.g){case 1:if(wC(),!PI())return FN("shaka-ui-load-failed",P2),Qs.return();if(mn=document.querySelectorAll("[data-shaka-player-container]"),kn=document.querySelectorAll("[data-shaka-player]"),xn=document.querySelectorAll("[data-shaka-player-canvas]"),!kn.length&&!mn.length){Qs.D(2);break}if(kn.length&&!mn.length){for(An=Dn(kn),Mn=An.next();!Mn.done;Mn=An.next())if(Un=Mn.value,!Un.ui){for(Bn=document.createElement("div"),zn=Un.parentElement,zn.replaceChild(Bn,Un),Bn.appendChild(Un),Wn=null,ts=Dn(xn),os=ts.next();!os.done;os=ts.next())if(ds=os.value,ds.parentElement==Bn){Wn=ds;break}Wn||(Wn=document.createElement("canvas"),Wn.classList.add("shaka-canvas-container"),Bn.appendChild(Wn)),I2(Bn,Un,Wn)}Qs.D(2);break}ls=Dn(mn),ys=ls.next();case 4:if(ys.done){Qs.D(2);break}if(Cs=ys.value,Cs.ui){Qs.D(5);break}for(Ns=null,Os=Dn(kn),Mn=Os.next();!Mn.done;Mn=Os.next())if(Ps=Mn.value,Ps.parentElement==Cs){Ns=Ps;break}for(Ns||(Ns=document.createElement("video"),Ns.setAttribute("playsinline",""),Cs.appendChild(Ns)),Xs=null,Ds=Dn(xn),os=Ds.next();!os.done;os=Ds.next())if(qs=os.value,qs.parentElement==Cs){Xs=qs;break}return Xs||(Xs=document.createElement("canvas"),Xs.classList.add("shaka-canvas-container"),Cs.appendChild(Xs)),$s(Qs,7),Qn(Qs,I2(Cs,Ns,Xs),9);case 9:gs(Qs,5);break;case 7:return Ss(Qs),FN("shaka-ui-load-failed",O2),Qs.return();case 5:ys=ls.next(),Qs.D(4);break;case 2:FN("shaka-ui-loaded"),ms(Qs)}})}function FN(mn,kn){var xn=null;kn!=null&&(xn={reasonCode:kn}),mn=new CustomEvent(mn,{detail:xn}),document.dispatchEvent(mn)}function I2(mn,kn,xn){var An,Mn,Un,Bn,zn,Wn,ts,os,ds;return hs(function(ls){switch(ls.g){case 1:An=new iu(kn),Mn=new _m(An,mn,kn),An.qf(xn),Un="",Bn=!1,mn.dataset&&mn.dataset.shakaPlayerCastReceiverId?(Un=mn.dataset.shakaPlayerCastReceiverId,Bn=mn.dataset.shakaPlayerCastAndroidReceiverCompatible==="true"):kn.dataset&&kn.dataset.shakaPlayerCastReceiverId&&(Un=kn.dataset.shakaPlayerCastReceiverId,Bn=kn.dataset.shakaPlayerCastAndroidReceiverCompatible==="true"),Un.length&&Mn.configure({castReceiverAppId:Un,castAndroidReceiverCompatible:Bn}),kn.controls&&Mn.g.Wf(!0),(zn=kn.getAttribute("src"))&&(Wn=document.createElement("source"),Wn.setAttribute("src",zn),kn.appendChild(Wn),kn.removeAttribute("src")),ts=Dn(kn.querySelectorAll("source")),os=ts.next();case 2:if(os.done){ls.D(0);break}return ds=os.value,$s(ls,5),Qn(ls,Mn.g.cc().load(ds.getAttribute("src")),7);case 7:ls.D(0);break;case 5:Ss(ls);case 3:os=ts.next(),ls.D(2)}})}Ys("shaka.ui.Overlay",_m),_m.prototype.setEnabled=_m.prototype.Jh,_m.prototype.getControls=_m.prototype.Eg,_m.prototype.configure=_m.prototype.configure,_m.prototype.getConfiguration=_m.prototype.getConfiguration,_m.prototype.isMobile=_m.prototype.pe,_m.prototype.destroy=_m.prototype.destroy;var BN=0;_m.TrackLabelFormat={LANGUAGE:BN,ROLE:1,LANGUAGE_ROLE:2,LABEL:3};var P2=0,O2=1;_m.FailReasonCode={NO_BROWSER_SUPPORT:P2,PLAYER_FAILED_TO_LOAD:O2},document.readyState=="complete"?hs(function(mn){if(mn.g==1)return Qn(mn,Promise.resolve(),2);A2(),ms(mn)}):pn.addEventListener("load",A2);function M2(mn,kn,xn,An,Mn,Un,Bn){function zn(Ds,qs){return Ds+": "+qs}function Wn(Ds){return Ds.type=="variant"?Ds.audioRoles?Ds.audioRoles.join(", "):void 0:Ds.roles.join(", ")}var ts=mn.find(function(Ds){return Ds.active==1}),os=Rs(kn);i0(kn),kn.appendChild(os),os=new Map;for(var ds=Dn(mn),ls=ds.next();!ls.done;ls=ds.next())ls=ls.value,os.has(ls.language)||os.set(ls.language,new Set),os.get(ls.language).add(Wn(ls));for(os=new Set,ts=ts?zn(ts.language,Wn(ts)):"",ds={},mn=Dn(mn),ls=mn.next();!ls.done;ds={Va:ds.Va},ls=mn.next()){ds.Va=ls.value,ls=ds.Va.language;var ys=ds.Va.forced,Cs=Un.resolve(Jv.hg),Ns=Wn(ds.Va),Os=zn(ls,Ns);if(!os.has(Os)){os.add(Os);var Ps=Tp();Ps.addEventListener("click",function(Ds){return function(){xn(Ds.Va)}}(ds));var Xs=Au("span");switch(Ps.appendChild(Xs),Xs.textContent=pD(ls,Un),Bn){case BN:ys&&(Xs.textContent+=" ("+Cs+")");break;case 1:Ns?Xs.textContent=Ns:($u("Track #"+ds.Va.id+" does not have a role, but the UI is configured to only show role."),Xs.textContent="?"),ys&&(Xs.textContent+=" ("+Cs+")");break;case 2:Ns&&(Xs.textContent+=": "+Ns),ys&&(Xs.textContent+=" ("+Cs+")");break;case 3:ds.Va.label?Xs.textContent=ds.Va.label:($u("Track #"+ds.Va.id+" does not have a label, but the UI is configured to only show labels."),Xs.textContent="?")}An&&Os==ts&&(Ps.appendChild(Ws()),Xs.classList.add("shaka-chosen-item"),Ps.ariaSelected="true",Mn.textContent=Xs.textContent),kn.appendChild(Ps)}}}function pD(mn,kn){if(!mn&&!kn)return"";switch(mn){case"mul":return kn.resolve("MULTIPLE_LANGUAGES");case"und":return kn.resolve("UNDETERMINED_LANGUAGE");case"zxx":return kn.resolve("NOT_APPLICABLE")}var xn=iy(mn);return mn in fs?fs[mn].u:xn in fs?fs[xn].u+" ("+mn+")":kn.resolve("UNRECOGNIZED_LANGUAGE")+" ("+mn+")"}function I_(mn,kn,xn){ws.call(this,mn,kn);var An=this;hD(this,xn),mD(this),gD(this),this.eventManager.o(this.button,"click",function(){An.menu.classList.contains("shaka-hidden")?(An.controls.dispatchEvent(new _u("submenuopen")),Gs(An.menu,!0),Fs(An.menu)):Gs(An.menu,!1)})}as(I_,ws);function hD(mn,kn){mn.button=Tp(),mn.button.classList.add("shaka-overflow-button"),mn.icon=Au("i"),mn.icon.classList.add("material-icons-round"),mn.icon.textContent=kn,mn.button.appendChild(mn.icon),kn=Au("label"),kn.classList.add("shaka-overflow-button-label"),kn.classList.add("shaka-overflow-menu-only"),mn.nameSpan=Au("span"),kn.appendChild(mn.nameSpan),mn.currentSelection=Au("span"),mn.currentSelection.classList.add("shaka-current-selection-span"),kn.appendChild(mn.currentSelection),mn.button.appendChild(kn),mn.parent.appendChild(mn.button)}function mD(mn){mn.menu=Au("div"),mn.menu.classList.add("shaka-no-propagation"),mn.menu.classList.add("shaka-show-controls-on-mouse-over"),mn.menu.classList.add("shaka-settings-menu"),mn.menu.classList.add("shaka-hidden"),mn.backButton=Tp(),mn.backButton.classList.add("shaka-back-to-overflow-button"),mn.menu.appendChild(mn.backButton),mn.eventManager.o(mn.backButton,"click",function(){mn.controls.fc()});var kn=Au("i");kn.classList.add("material-icons-round"),kn.textContent="close",mn.backButton.appendChild(kn),mn.backSpan=Au("span"),mn.backButton.appendChild(mn.backSpan),mn.controls.g.appendChild(mn.menu)}function gD(mn){mn.parent.classList.contains("shaka-overflow-menu")&&(mn.backButton.firstChild.textContent="arrow_back",mn.eventManager.o(mn.backButton,"click",function(){function kn(xn){return xn.classList.contains("shaka-hidden")==0}Gs(mn.parent,!0),Xp(mn.parent.childNodes,kn)&&_p(mn.parent.childNodes,kn)[0].focus(),Xv(mn.controls)}))}Ys("shaka.ui.SettingsMenu",I_);function VN(mn,kn){I_.call(this,mn,kn,"language");var xn=this;this.button.classList.add("shaka-language-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-audio-languages"),this.eventManager.o(this.localization,"locale-updated",function(){zN(xn)}),this.eventManager.o(this.localization,"locale-changed",function(){zN(xn)}),this.eventManager.o(this.player,"trackschanged",function(){var An=0<xn.player.Qa().length;Gs(xn.button,An),GN(xn)}),this.eventManager.o(this.player,"variantchanged",function(){GN(xn)}),zN(this),GN(this)}as(VN,I_);function GN(mn){var kn=mn.player.Qa();M2(kn,mn.menu,function(xn){mn.player.Md(xn.language,xn.roles[0])},!0,mn.currentSelection,mn.localization,mn.controls.i.trackLabelFormat),Fs(mn.menu),mn.controls.dispatchEvent(new _u("languageselectionupdated")),mn.button.setAttribute("shaka-status",mn.currentSelection.innerText)}function zN(mn){mn.backButton.ariaLabel=mn.localization.resolve("BACK"),mn.button.ariaLabel=mn.localization.resolve("LANGUAGE"),mn.nameSpan.textContent=mn.localization.resolve("LANGUAGE"),mn.backSpan.textContent=mn.localization.resolve("LANGUAGE")}Ys("shaka.ui.AudioLanguageSelection",VN);function HN(){}HN.prototype.create=function(mn,kn){return new VN(mn,kn)},A_("language",new HN),fm("language",new HN);function KN(mn,kn){ws.call(this,mn,kn);var xn=this;this.h=this.controls.C,this.g=Tp(),this.g.classList.add("shaka-cast-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",this.i=Au("i"),this.i.classList.add("material-icons-round"),this.i.textContent="cast",this.g.appendChild(this.i),mn=Au("label"),mn.classList.add("shaka-overflow-button-label"),mn.classList.add("shaka-overflow-menu-only"),this.l=Au("span"),mn.appendChild(this.l),this.j=Au("span"),this.j.classList.add("shaka-current-selection-span"),mn.appendChild(this.j),this.g.appendChild(mn),this.parent.appendChild(this.g),WN(this),R2(this),this.eventManager.o(this.localization,"locale-updated",function(){WN(xn)}),this.eventManager.o(this.localization,"locale-changed",function(){WN(xn)}),this.eventManager.o(this.g,"click",function(){yD(xn)}),this.eventManager.o(this.controls,"caststatuschanged",function(){R2(xn)})}as(KN,ws);function yD(mn){var kn;hs(function(xn){if(xn.g==1)return mn.h.na()?(mn.h.cg(),xn.D(0)):($s(xn,3),mn.g.disabled=!0,Qn(xn,mn.h.cast(),5));if(xn.g!=3)return mn.g.disabled=!1,gs(xn,0);kn=Ss(xn),mn.g.disabled=!1,kn.code!=8004&&mn.controls.dispatchEvent(new _u("error",new Map().set("detail",kn))),ms(xn)})}function R2(mn){var kn=mn.h.uf()&&mn.controls.Za,xn=mn.h.na();Gs(mn.g,kn),mn.i.textContent=xn?"cast_connected":"cast",kn&&(mn.g.ariaPressed=xn?"true":"false"),N2(mn)}function N2(mn){mn.j.textContent=mn.h.na()?mn.h.Jd():mn.localization.resolve("OFF")}function WN(mn){mn.g.ariaLabel=mn.localization.resolve("CAST"),mn.l.textContent=mn.localization.resolve("CAST"),N2(mn)}Ys("shaka.ui.CastButton",KN);function qN(){}qN.prototype.create=function(mn,kn){return new KN(mn,kn)},A_("cast",new qN),fm("cast",new qN);function YN(mn,kn){ws.call(this,mn,kn);var xn=this;this.g=Tp(),this.g.classList.add("material-icons-round"),this.g.classList.add("shaka-fast-forward-button"),this.g.classList.add("shaka-tooltip-status"),this.g.setAttribute("shaka-status","1x"),this.g.textContent="fast_forward",this.parent.appendChild(this.g),XN(this),this.h=this.controls.i.fastForwardRates,this.eventManager.o(this.localization,"locale-updated",function(){XN(xn)}),this.eventManager.o(this.localization,"locale-changed",function(){XN(xn)}),this.eventManager.o(this.g,"click",function(){if(xn.video.duration){var An=xn.h.indexOf(xn.player.xb())+1;An=An!=xn.h.length?xn.h[An]:xn.h[0],xn.player.Ze(An),xn.g.setAttribute("shaka-status",An+"x")}})}as(YN,ws);function XN(mn){mn.g.ariaLabel=mn.localization.resolve("FAST_FORWARD")}Ys("shaka.ui.FastForwardButton",YN);function D2(){}D2.prototype.create=function(mn,kn){return new YN(mn,kn)},fm("fast_forward",new D2);function QN(mn,kn){ws.call(this,mn,kn);var xn=this;this.h=this.controls.B,this.g=Tp(),this.g.classList.add("shaka-fullscreen-button"),this.g.classList.add("material-icons-round"),this.g.classList.add("shaka-tooltip"),ZN(this),this.g.textContent="fullscreen",this.parent.appendChild(this.g),oM(this),this.eventManager.o(this.localization,"locale-updated",function(){oM(xn)}),this.eventManager.o(this.localization,"locale-changed",function(){oM(xn)}),this.eventManager.o(this.g,"click",function(){return hs(function(An){return Qn(An,xn.controls.Xe(),0)})}),this.eventManager.o(document,"fullscreenchange",function(){xn.g.textContent=xn.controls.ic()?"fullscreen_exit":"fullscreen",oM(xn)}),this.eventManager.o(this.h,"loadedmetadata",function(){ZN(xn)}),this.eventManager.o(this.h,"loadeddata",function(){ZN(xn)})}as(QN,ws);function ZN(mn){mn.controls.xd()?mn.g.classList.remove("shaka-hidden"):mn.g.classList.add("shaka-hidden")}function oM(mn){mn.g.ariaLabel=mn.localization.resolve(mn.controls.ic()?"EXIT_FULL_SCREEN":"FULL_SCREEN")}Ys("shaka.ui.FullscreenButton",QN);function L2(){}L2.prototype.create=function(mn,kn){return new QN(mn,kn)},fm("fullscreen",new L2);function sM(mn,kn){ws.call(this,mn,kn);var xn=this;this.g=Tp(),this.g.classList.add("shaka-loop-button"),this.g.classList.add("shaka-tooltip"),this.i=Au("i"),this.i.classList.add("material-icons-round"),this.i.textContent="repeat",this.g.appendChild(this.i),mn=Au("label"),mn.classList.add("shaka-overflow-button-label"),mn.classList.add("shaka-overflow-menu-only"),this.j=Au("span"),this.j.textContent=this.localization.resolve("LOOP"),mn.appendChild(this.j),this.l=Au("span"),this.l.classList.add("shaka-current-selection-span"),mn.appendChild(this.l),this.g.appendChild(mn),uM(this),this.parent.appendChild(this.g),this.eventManager.o(this.localization,"locale-updated",function(){uM(xn)}),this.eventManager.o(this.localization,"locale-changed",function(){uM(xn)}),this.eventManager.o(this.g,"click",function(){xn.video.loop=!xn.video.loop,xn.h.Aa(),xn.h.ha(1)}),this.m=this.video.loop,this.h=new Tu(function(){xn.m!=xn.video.loop&&(uM(xn),xn.m=xn.video.loop)}),this.h.ha(1)}as(sM,ws),sM.prototype.release=function(){this.h.stop(),this.h=null,ws.prototype.release.call(this)};function uM(mn){mn.j.textContent=mn.localization.resolve("LOOP"),mn.l.textContent=mn.localization.resolve(mn.video.loop?"ON":"OFF"),mn.i.textContent=mn.video.loop?"repeat_on":"repeat",mn.g.ariaLabel=mn.localization.resolve(mn.video.loop?"EXIT_LOOP_MODE":"ENTER_LOOP_MODE")}Ys("shaka.ui.LoopButton",sM);function lM(){}lM.prototype.create=function(mn,kn){return new sM(mn,kn)},A_("loop",new lM),fm("loop",new lM),al("loop",new lM);function JN(mn,kn){ws.call(this,mn,kn);var xn=this;this.g=Tp(),this.g.classList.add("shaka-mute-button"),this.g.classList.add("material-icons-round"),this.g.classList.add("shaka-tooltip"),this.parent.appendChild(this.g),O$(this),gA(this),this.eventManager.o(this.localization,"locale-updated",function(){O$(xn)}),this.eventManager.o(this.localization,"locale-changed",function(){O$(xn)}),this.eventManager.o(this.g,"click",function(){xn.ad&&xn.ad.isLinear()?xn.ad.setMuted(!xn.ad.isMuted()):xn.video.muted=!xn.video.muted}),this.eventManager.o(this.video,"volumechange",function(){O$(xn),gA(xn)}),this.eventManager.o(this.adManager,"ad-volume-changed",function(){O$(xn),gA(xn)}),this.eventManager.o(this.adManager,"ad-muted",function(){O$(xn),gA(xn)}),this.eventManager.o(this.adManager,"ad-stopped",function(){xn.ad=null,O$(xn),gA(xn)})}as(JN,ws);function O$(mn){var kn=mn.ad?mn.ad.isMuted()?"UNMUTE":"MUTE":mn.video.muted?"UNMUTE":"MUTE";mn.g.ariaLabel=mn.localization.resolve(kn)}function gA(mn){var kn=mn.ad?mn.ad.isMuted()?"volume_off":"volume_up":mn.video.muted?"volume_off":"volume_up";mn.g.textContent=kn}Ys("shaka.ui.MuteButton",JN);function U2(){}U2.prototype.create=function(mn,kn){return new JN(mn,kn)},fm("mute",new U2);function e2(mn,kn){ws.call(this,mn,kn);var xn=this;this.l=this.controls.B,this.g=Tp(),this.g.classList.add("shaka-pip-button"),this.g.classList.add("shaka-tooltip"),this.i=Au("i"),this.i.classList.add("material-icons-round"),this.i.textContent="picture_in_picture_alt",this.g.appendChild(this.i),mn=Au("label"),mn.classList.add("shaka-overflow-button-label"),mn.classList.add("shaka-overflow-menu-only"),this.j=Au("span"),this.j.textContent=this.localization.resolve("PICTURE_IN_PICTURE"),mn.appendChild(this.j),this.h=Au("span"),this.h.classList.add("shaka-current-selection-span"),mn.appendChild(this.h),this.g.appendChild(mn),t2(this),this.parent.appendChild(this.g),document.pictureInPictureEnabled&&!this.video.disablePictureInPicture||Gs(this.g,!1),this.eventManager.o(this.localization,"locale-updated",function(){t2(xn)}),this.eventManager.o(this.localization,"locale-changed",function(){t2(xn)}),this.eventManager.o(this.g,"click",function(){vD(xn)}),this.eventManager.o(this.l,"enterpictureinpicture",function(){xn.i.textContent="branding_watermark",xn.g.ariaLabel=xn.localization.resolve("EXIT_PICTURE_IN_PICTURE"),xn.h.textContent=xn.localization.resolve("ON")}),this.eventManager.o(this.l,"leavepictureinpicture",function(){xn.i.textContent="picture_in_picture_alt",xn.g.ariaLabel=xn.localization.resolve("ENTER_PICTURE_IN_PICTURE"),xn.h.textContent=xn.localization.resolve("OFF")}),this.eventManager.o(this.controls,"caststatuschanged",function(An){An.newStatus?document.pictureInPictureEnabled&&!xn.video.disablePictureInPicture&&Gs(xn.g,!1):document.pictureInPictureEnabled&&!xn.video.disablePictureInPicture&&Gs(xn.g,!0)}),this.eventManager.o(this.player,"trackschanged",function(){_D(xn)})}as(e2,ws);function vD(mn){var kn;hs(function(xn){if(xn.g==1)return $s(xn,2),document.pictureInPictureElement?Qn(xn,document.exitPictureInPicture(),5):(document.fullscreenElement&&document.exitFullscreen(),Qn(xn,mn.video.requestPictureInPicture(),5));if(xn.g!=2)return gs(xn,0);kn=Ss(xn),mn.controls.dispatchEvent(new _u("error",new Map().set("detail",kn))),ms(xn)})}function t2(mn){mn.j.textContent=mn.localization.resolve("PICTURE_IN_PICTURE"),mn.g.ariaLabel=mn.localization.resolve(document.pictureInPictureElement?"EXIT_PICTURE_IN_PICTURE":"ENTER_PICTURE_IN_PICTURE"),mn.h.textContent=mn.localization.resolve(document.pictureInPictureElement?"ON":"OFF")}function _D(mn){hs(function(kn){return!document.pictureInPictureEnabled||mn.video.disablePictureInPicture?(Gs(mn.g,!1),kn.D(0)):!mn.player||!mn.player.hc()?(Gs(mn.g,!0),kn.D(0)):(Gs(mn.g,!1),document.pictureInPictureElement?Qn(kn,document.exitPictureInPicture(),0):kn.D(0))})}Ys("shaka.ui.PipButton",e2);function cM(){}cM.prototype.create=function(mn,kn){return new e2(mn,kn)},A_("picture_in_picture",new cM),fm("picture_in_picture",new cM),al("picture_in_picture",new cM);function r2(mn,kn){I_.call(this,mn,kn,"slow_motion_video");var xn=this;this.button.classList.add("shaka-playbackrate-button"),this.menu.classList.add("shaka-playback-rates"),this.button.classList.add("shaka-tooltip-status"),this.eventManager.o(this.localization,"locale-updated",function(){n2(xn)}),this.eventManager.o(this.localization,"locale-changed",function(){n2(xn)}),this.eventManager.o(this.player,"ratechange",function(){j2(xn,xn.player.xb())}),this.g=new Map(this.controls.i.playbackRates.map(function(An){return[An+"x",An]})),n2(this),ED(this),j2(this,this.player.xb())}as(r2,I_);function n2(mn){mn.backButton.ariaLabel=mn.localization.resolve("BACK"),mn.button.ariaLabel=mn.localization.resolve("PLAYBACK_RATE"),mn.nameSpan.textContent=mn.localization.resolve("PLAYBACK_RATE"),mn.backSpan.textContent=mn.localization.resolve("PLAYBACK_RATE")}function j2(mn,kn){var xn=Zs(mn.menu,"material-icons-round shaka-chosen-item");if(xn){var An=xn.parentElement;An.removeAttribute("aria-selected"),An.getElementsByTagName("span")[0].classList.remove("shaka-chosen-item"),An.removeChild(xn)}(xn=Array.from(mn.menu.querySelectorAll("span")).find(function(Mn){return mn.g.get(Mn.textContent)==kn}))&&(An=xn.parentElement,An.appendChild(Ws()),An.ariaSelected="true",xn.classList.add("shaka-chosen-item")),mn.currentSelection.textContent=kn+"x",mn.button.setAttribute("shaka-status",kn+"x")}function ED(mn){for(var kn={},xn=Dn(mn.g.keys()),An=xn.next();!An.done;kn={xc:kn.xc},An=xn.next()){kn.xc=An.value,An=Tp();var Mn=Au("span");Mn.textContent=kn.xc,An.appendChild(Mn),mn.eventManager.o(An,"click",function(Un){return function(){mn.video.playbackRate=mn.g.get(Un.xc),mn.video.defaultPlaybackRate=mn.g.get(Un.xc)}}(kn)),mn.menu.appendChild(An)}Fs(mn.menu)}Ys("shaka.ui.PlaybackRateSelection",r2);function i2(){}i2.prototype.create=function(mn,kn){return new r2(mn,kn)},A_("playback_rate",new i2),fm("playback_rate",new i2);function a2(mn,kn){ws.call(this,mn,kn);var xn=this;this.g=Tp(),this.g.classList.add("shaka-current-time"),dM(this,"0:00"),this.parent.appendChild(this.g),this.eventManager.o(this.g,"click",function(){xn.player.U()&&(xn.video.currentTime=xn.player.Ja().end)}),this.eventManager.o(this.controls,"timeandseekrangeupdated",function(){var An=xn.controls.X,Mn=xn.controls.Hf(),Un=xn.video.duration,Bn=xn.player.Ja(),zn=Bn.end-Bn.start;xn.player.U()?(Mn=Math.max(0,Math.floor(Bn.end-Mn)),Un=3600<=zn,1<=Mn||An?(dM(xn,"- "+eu(Mn,Un)),xn.g.disabled=!1):(dM(xn,xn.localization.resolve("LIVE")),xn.g.disabled=!0)):(An=3600<=Un,Mn=eu(Mn,An),Un&&(Mn+=" / "+eu(Un,An)),dM(xn,Mn),xn.g.disabled=!0)}),this.eventManager.o(this.player,"trackschanged",function(){xn.player.U()&&(xn.g.ariaLabel=xn.localization.resolve("SKIP_TO_LIVE"))})}as(a2,ws);function dM(mn,kn){kn!=mn.g.textContent&&(mn.g.textContent=kn)}Ys("shaka.ui.PresentationTimeTracker",a2);function F2(){}F2.prototype.create=function(mn,kn){return new a2(mn,kn)},fm("time_and_duration",new F2);function o2(mn,kn){I_.call(this,mn,kn,"settings");var xn=this;this.button.classList.add("shaka-resolution-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-resolutions"),this.eventManager.o(this.localization,"locale-updated",function(){s2(xn)}),this.eventManager.o(this.localization,"locale-changed",function(){s2(xn)}),this.eventManager.o(this.player,"variantchanged",function(){yA(xn)}),this.eventManager.o(this.player,"trackschanged",function(){yA(xn)}),this.eventManager.o(this.player,"abrstatuschanged",function(){yA(xn)}),yA(this)}as(o2,I_);function yA(mn){var kn=mn.player.Qa(),xn=kn.find(function(Wn){return Wn.active});xn&&(kn=kn.filter(function(Wn){return Wn.language==xn.language&&Wn.channelsCount==xn.channelsCount})),kn=kn.filter(function(Wn,ts){return(mn.player.hc()?kn.findIndex(function(os){return os.bandwidth==Wn.bandwidth}):kn.findIndex(function(os){return os.height==Wn.height}))==ts}),mn.player.hc()?kn.sort(function(Wn,ts){return ts.bandwidth-Wn.bandwidth}):kn.sort(function(Wn,ts){return ts.height-Wn.height});var An=Rs(mn.menu);i0(mn.menu),mn.menu.appendChild(An),An=mn.player.getConfiguration().abr.enabled;for(var Mn={},Un=Dn(kn),Bn=Un.next();!Bn.done;Mn={Yb:Mn.Yb},Bn=Un.next()){Mn.Yb=Bn.value,Bn=Tp(),Bn.classList.add("explicit-resolution"),mn.eventManager.o(Bn,"click",function(Wn){return function(){var ts=Wn.Yb;mn.player.configure({abr:{enabled:!1}}),mn.player.Ke(ts,mn.controls.i.clearBufferOnQualityChange)}}(Mn));var zn=Au("span");zn.textContent=mn.player.hc()?Math.round(Mn.Yb.bandwidth/1e3)+" kbits/s":Mn.Yb.height+"p",Bn.appendChild(zn),An||Mn.Yb!=xn||(Bn.ariaSelected="true",Bn.appendChild(Ws()),zn.classList.add("shaka-chosen-item"),mn.currentSelection.textContent=zn.textContent),mn.menu.appendChild(Bn)}Mn=Tp(),Mn.classList.add("shaka-enable-abr-button"),mn.eventManager.o(Mn,"click",function(){mn.player.configure({abr:{enabled:!0}}),yA(mn)}),mn.g=Au("span"),mn.g.classList.add("shaka-auto-span"),mn.g.textContent=mn.localization.resolve("AUTO_QUALITY"),Mn.appendChild(mn.g),An&&(Mn.ariaSelected="true",Mn.appendChild(Ws()),mn.g.classList.add("shaka-chosen-item"),mn.currentSelection.textContent=mn.localization.resolve("AUTO_QUALITY")),mn.button.setAttribute("shaka-status",mn.currentSelection.textContent),mn.menu.appendChild(Mn),Fs(mn.menu),mn.controls.dispatchEvent(new _u("resolutionselectionupdated")),s2(mn)}function s2(mn){var kn=mn.player.hc()?"QUALITY":"RESOLUTION";mn.button.ariaLabel=mn.localization.resolve(kn),mn.backButton.ariaLabel=mn.localization.resolve(kn),mn.backSpan.textContent=mn.localization.resolve(kn),mn.nameSpan.textContent=mn.localization.resolve(kn),mn.g.textContent=mn.localization.resolve("AUTO_QUALITY"),mn.player.getConfiguration().abr.enabled&&(mn.currentSelection.textContent=mn.localization.resolve("AUTO_QUALITY"))}Ys("shaka.ui.ResolutionSelection",o2);function u2(){}u2.prototype.create=function(mn,kn){return new o2(mn,kn)},A_("quality",new u2),fm("quality",new u2);function l2(mn,kn){ws.call(this,mn,kn);var xn=this;this.g=Tp(),this.g.classList.add("material-icons-round"),this.g.classList.add("shaka-rewind-button"),this.g.classList.add("shaka-tooltip-status"),this.g.setAttribute("shaka-status",this.localization.resolve("OFF")),this.g.textContent="fast_rewind",this.parent.appendChild(this.g),c2(this),this.h=this.controls.i.rewindRates,this.eventManager.o(this.localization,"locale-updated",function(){c2(xn)}),this.eventManager.o(this.localization,"locale-changed",function(){c2(xn)}),this.eventManager.o(this.g,"click",function(){if(xn.video.duration){var An=xn.h.indexOf(xn.player.xb())+1;An=An!=xn.h.length?xn.h[An]:xn.h[0],xn.player.Ze(An),xn.g.setAttribute("shaka-status",An+"x")}})}as(l2,ws);function c2(mn){mn.g.ariaLabel=mn.localization.resolve("REWIND")}Ys("shaka.ui.RewindButton",l2);function B2(){}B2.prototype.create=function(mn,kn){return new l2(mn,kn)},fm("rewind",new B2);function d2(mn,kn){ws.call(this,mn,kn);var xn=this;this.j=Au("div"),this.j.classList.add("shaka-skip-ad-container"),this.parent.appendChild(this.j),this.h=Au("div"),this.h.classList.add("shaka-skip-ad-counter"),Gs(this.h,!1),this.j.appendChild(this.h),this.g=Tp(),this.g.classList.add("shaka-skip-ad-button"),this.g.disabled=!0,Gs(this.g,!1),this.g.classList.add("shaka-no-propagation"),this.j.appendChild(this.g),f2(this),this.i=new Tu(function(){var An=Math.round(xn.ad.getTimeUntilSkippable());0<An?xn.h.textContent=An:(xn.i.stop(),Gs(xn.h,!1))}),this.eventManager.o(this.localization,"locale-updated",function(){f2(xn)}),this.eventManager.o(this.localization,"locale-changed",function(){f2(xn)}),this.eventManager.o(this.adManager,"ad-started",function(){V2(xn)}),this.eventManager.o(this.adManager,"ad-skip-state-changed",function(){xn.ad.canSkipNow()&&(xn.g.disabled=!1,xn.i.stop(),Gs(xn.h,!1))}),this.eventManager.o(this.adManager,"ad-stopped",function(){xn.i.stop(),xn.g.disabled=!0,Gs(xn.g,!1),Gs(xn.h,!1)}),this.eventManager.o(this.g,"click",function(){xn.ad.skip()}),this.ad&&V2(this)}as(d2,ws),d2.prototype.release=function(){this.i.stop(),this.i=null,ws.prototype.release.call(this)};function f2(mn){mn.g.textContent=mn.localization.resolve("SKIP_AD")}function V2(mn){mn.ad.isSkippable()&&(Gs(mn.g,!0),Gs(mn.h,!0),mn.h.textContent="",mn.i.Aa(),mn.i.ha(.5))}Ys("shaka.ui.SkipAdButton",d2);function vA(mn,kn){bu.call(this,mn,kn),this.button.classList.add("shaka-small-play-button"),this.button.classList.add("material-icons-round"),this.button.classList.add("shaka-tooltip"),this.h(),this.g()}as(vA,bu),vA.prototype.h=function(){this.button.textContent=this.video.ended?"replay":this.isPaused()?"play_arrow":"pause"},vA.prototype.g=function(){if(this.video.ended)this.button.ariaLabel=this.localization.resolve("REPLAY");else{var mn=this.isPaused()?"PLAY":"PAUSE";this.button.ariaLabel=this.localization.resolve(mn)}},Ys("shaka.ui.SmallPlayButton",vA);function G2(){}G2.prototype.create=function(mn,kn){return new vA(mn,kn)},fm("play_pause",new G2);function p2(mn,kn){ws.call(this,mn,kn),mn=Au("div"),mn.classList.add("shaka-spacer"),mn.ariaHidden="true",this.parent.appendChild(mn)}as(p2,ws),Ys("shaka.ui.Spacer",p2);function z2(){}z2.prototype.create=function(mn,kn){return new p2(mn,kn)},fm("spacer",new z2);function fM(mn,kn){function xn(Wn){return eu(zn.h[Wn],!1)+" (m)"}function An(Wn){return Math.round(zn.h[Wn]/1e3)+" (kbits/s)"}function Mn(Wn){return zn.h[Wn].toFixed(2)+" (s)"}function Un(Wn){return zn.h[Wn]+" (frames)"}function Bn(Wn){return zn.h[Wn]+" (px)"}ws.call(this,mn,kn);var zn=this;this.i=Tp(),this.i.classList.add("shaka-statistics-button"),this.j=Au("i"),this.j.classList.add("material-icons-round"),this.j.textContent="insert_chart_outlined",this.i.appendChild(this.j),mn=Au("label"),mn.classList.add("shaka-overflow-button-label"),this.s=Au("span"),mn.appendChild(this.s),this.m=Au("span"),this.m.classList.add("shaka-current-selection-span"),mn.appendChild(this.m),this.i.appendChild(mn),this.parent.appendChild(this.i),this.g=Au("div"),this.g.classList.add("shaka-no-propagation"),this.g.classList.add("shaka-show-controls-on-mouse-over"),this.g.classList.add("shaka-statistics-container"),this.g.classList.add("shaka-hidden"),this.controls.g.appendChild(this.g),this.F=[],this.G=["stateHistory","switchHistory"],this.h=this.player.getStats(),this.B={},this.C={width:Bn,height:Bn,completionPercent:function(Wn){return zn.h[Wn]+" (%)"},bufferingTime:Mn,drmTimeSeconds:Mn,licenseTime:Mn,liveLatency:Mn,loadLatency:Mn,manifestTimeSeconds:Mn,estimatedBandwidth:An,streamBandwidth:An,maxSegmentDuration:xn,pauseTime:xn,playTime:xn,corruptedFrames:Un,decodedFrames:Un,droppedFrames:Un,stallsDetected:function(Wn){return zn.h[Wn]+" (stalls)"},gapsJumped:function(Wn){return zn.h[Wn]+" (gaps)"}},this.l=new Tu(function(){zn.h=zn.player.getStats();for(var Wn=Dn(zn.F),ts=Wn.next();!ts.done;ts=Wn.next())ts=ts.value,zn.B[ts].textContent=zn.C[ts](ts)}),pM(this),SD(this),this.eventManager.o(this.localization,"locale-updated",function(){pM(zn)}),this.eventManager.o(this.localization,"locale-changed",function(){pM(zn)}),this.eventManager.o(this.i,"click",function(){Gs(zn.parent,!1),zn.g.classList.contains("shaka-hidden")?(zn.j.textContent="insert_chart",zn.l.ha(.1),Gs(zn.g,!0)):(zn.j.textContent="insert_chart_outlined",zn.l.stop(),Gs(zn.g,!1)),pM(zn)})}as(fM,ws);function pM(mn){mn.s.textContent=mn.localization.resolve("STATISTICS"),mn.i.ariaLabel=mn.localization.resolve("STATISTICS"),mn.m.textContent=mn.localization.resolve(mn.g.classList.contains("shaka-hidden")?"OFF":"ON")}function SD(mn){for(var kn=Dn(mn.controls.i.statisticsList),xn=kn.next();!xn.done;xn=kn.next())if(xn=xn.value,xn in mn.h&&!mn.G.includes(xn)){var An=mn.g,Mn=An.appendChild,Un=mn,Bn=Au("div"),zn=Au("label");zn.textContent=xn+":",Bn.appendChild(zn),zn=Au("span"),zn.textContent=Un.C[xn](xn),Bn.appendChild(zn),Un.B[xn]=zn,Mn.call(An,Bn),mn.F.push(xn)}else $u("Unrecognized statistic element:",xn)}fM.prototype.release=function(){this.l.stop(),this.l=null,ws.prototype.release.call(this)},Ys("shaka.ui.StatisticsButton",fM);function h2(){}h2.prototype.create=function(mn,kn){return new fM(mn,kn)},A_("statistics",new h2),al("statistics",new h2);function m2(mn,kn){I_.call(this,mn,kn,"closed_caption");var xn=this;this.button.classList.add("shaka-caption-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-text-languages"),this.player&&this.player.Nb()?this.button.ariaPressed="true":this.button.ariaPressed="false",$D(this),this.eventManager.o(this.localization,"locale-updated",function(){g2(xn),M$(xn)}),this.eventManager.o(this.localization,"locale-changed",function(){g2(xn),M$(xn)}),this.eventManager.o(this.player,"texttrackvisibility",function(){H2(xn),M$(xn)}),this.eventManager.o(this.player,"textchanged",function(){M$(xn)}),this.eventManager.o(this.player,"trackschanged",function(){K2(xn)}),H2(this),g2(this),M$(this),K2(this)}as(m2,I_);function $D(mn){var kn=Tp();kn.ariaSelected="true",mn.menu.appendChild(kn),kn.appendChild(Ws()),mn.g=Au("span"),mn.g.classList.add("shaka-auto-span"),kn.appendChild(mn.g)}function H2(mn){mn.player.Nb()?(mn.icon.textContent="closed_caption",mn.button.ariaPressed="true"):(mn.icon.textContent="closed_caption_disabled",mn.button.ariaPressed="false"),mn.controls.dispatchEvent(new _u("captionselectionupdated"))}function M$(mn){var kn=mn.player.yb();M2(kn,mn.menu,function(xn){return TD(mn,xn)},mn.player.Nb(),mn.currentSelection,mn.localization,mn.controls.i.trackLabelFormat),kn=Tp(),kn.classList.add("shaka-turn-captions-off-button"),mn.eventManager.o(kn,"click",function(){mn.player.Se(!1),M$(mn)}),kn.appendChild(mn.g),mn.menu.appendChild(kn),mn.player.Nb()||(kn.ariaSelected="true",kn.appendChild(Ws()),mn.g.classList.add("shaka-chosen-item"),mn.currentSelection.textContent=mn.localization.resolve("OFF")),mn.button.setAttribute("shaka-status",mn.currentSelection.textContent),Fs(mn.menu),mn.controls.dispatchEvent(new _u("captionselectionupdated"))}function TD(mn,kn){return hs(function(xn){return mn.player.Je(kn),Qn(xn,mn.player.Se(!0),0)})}function g2(mn){mn.button.ariaLabel=mn.localization.resolve("CAPTIONS"),mn.backButton.ariaLabel=mn.localization.resolve("BACK"),mn.nameSpan.textContent=mn.localization.resolve("CAPTIONS"),mn.backSpan.textContent=mn.localization.resolve("CAPTIONS"),mn.g.textContent=mn.localization.resolve("OFF")}function K2(mn){var kn=0<mn.player.yb().length;Gs(mn.button,kn),M$(mn)}Ys("shaka.ui.TextSelection",m2);function y2(){}y2.prototype.create=function(mn,kn){return new m2(mn,kn)},A_("captions",new y2),fm("captions",new y2);function hM(mn,kn){ul.call(this,mn,kn,["shaka-volume-bar-container"],["shaka-volume-bar"]);var xn=this;this.h=this.controls.i,this.eventManager.o(this.video,"volumechange",function(){return v2(xn)}),this.eventManager.o(this.adManager,"ad-volume-changed",function(){return W2(xn)}),this.eventManager.o(this.adManager,"ad-muted",function(){return W2(xn)}),this.eventManager.o(this.adManager,"ad-stopped",function(){return v2(xn)}),this.eventManager.o(this.localization,"locale-updated",function(){return _2(xn)}),this.eventManager.o(this.localization,"locale-changed",function(){return _2(xn)}),v2(this),_2(this),this.ad&&this.onChange()}as(hM,ul),hM.prototype.onChange=function(){this.ad&&this.ad.isLinear()?this.ad.setVolume(this.getValue()):(this.video.volume=this.getValue(),this.video.muted=this.video.volume==0)};function v2(mn){mn.video.muted?mn.setValue(0):mn.setValue(mn.video.volume),q2(mn)}function W2(mn){var kn=mn.ad.getVolume();mn.setValue(kn),q2(mn)}function q2(mn){var kn=mn.h.volumeBarColors,xn=["to right"];xn.push(kn.level+100*mn.getValue()+"%"),xn.push(kn.base+100*mn.getValue()+"%"),xn.push(kn.base+"100%"),mn.container.style.background="linear-gradient("+xn.join(",")+")"}function _2(mn){mn.bar.ariaLabel=mn.localization.resolve("VOLUME")}Ys("shaka.ui.VolumeBar",hM);function Y2(){}Y2.prototype.create=function(mn,kn){return new hM(mn,kn)},fm("volume",new Y2)}).call(cn,ln,ln,void 0);for(var dn in cn.shaka)sn[dn]=cn.shaka[dn]})()})(shakaPlayer_ui);const commonShaka=getDefaultExportFromCjs(shakaPlayer_ui);var shakaPlayer_ui_debug={};/*
 @license
 Shaka Player
 Copyright 2016 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/(function(exports){(function(){var innerGlobal=typeof window<"u"?window:commonjsGlobal$1,exportTo={};(function(window,global,module){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.arrayIteratorImpl=function(sn){var ln=0;return function(){return ln<sn.length?{done:!1,value:sn[ln++]}:{done:!0}}},$jscomp.arrayIterator=function(sn){return{next:$jscomp.arrayIteratorImpl(sn)}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.ISOLATE_POLYFILLS=!1,$jscomp.FORCE_POLYFILL_PROMISE=!1,$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(sn,ln,cn){return sn==Array.prototype||sn==Object.prototype||(sn[ln]=cn.value),sn},$jscomp.getGlobal=function(sn){sn=[typeof globalThis=="object"&&globalThis,sn,typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global];for(var ln=0;ln<sn.length;++ln){var cn=sn[ln];if(cn&&cn.Math==Math)return cn}throw Error("Cannot find global object")},$jscomp.global=$jscomp.getGlobal(this),$jscomp.IS_SYMBOL_NATIVE=typeof Symbol=="function"&&typeof Symbol("x")=="symbol",$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE,$jscomp.polyfills={},$jscomp.propertyToPolyfillSymbol={},$jscomp.POLYFILL_PREFIX="$jscp$",$jscomp.polyfill=function(sn,ln,cn,dn){ln&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(sn,ln,cn,dn):$jscomp.polyfillUnisolated(sn,ln,cn,dn))},$jscomp.polyfillUnisolated=function(sn,ln,cn,dn){for(cn=$jscomp.global,sn=sn.split("."),dn=0;dn<sn.length-1;dn++){var pn=sn[dn];if(!(pn in cn))return;cn=cn[pn]}sn=sn[sn.length-1],dn=cn[sn],ln=ln(dn),ln!=dn&&ln!=null&&$jscomp.defineProperty(cn,sn,{configurable:!0,writable:!0,value:ln})},$jscomp.polyfillIsolated=function(sn,ln,cn,dn){var pn=sn.split(".");sn=pn.length===1,dn=pn[0],dn=!sn&&dn in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var vn=0;vn<pn.length-1;vn++){var Sn=pn[vn];if(!(Sn in dn))return;dn=dn[Sn]}pn=pn[pn.length-1],cn=$jscomp.IS_SYMBOL_NATIVE&&cn==="es6"?dn[pn]:null,ln=ln(cn),ln!=null&&(sn?$jscomp.defineProperty($jscomp.polyfills,pn,{configurable:!0,writable:!0,value:ln}):ln!==cn&&($jscomp.propertyToPolyfillSymbol[pn]===void 0&&(cn=1e9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[pn]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(pn):$jscomp.POLYFILL_PREFIX+cn+"$"+pn),$jscomp.defineProperty(dn,$jscomp.propertyToPolyfillSymbol[pn],{configurable:!0,writable:!0,value:ln})))},$jscomp.initSymbol=function(){},$jscomp.polyfill("Symbol",function(sn){if(sn)return sn;var ln=function(vn,Sn){this.$jscomp$symbol$id_=vn,$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:Sn})};ln.prototype.toString=function(){return this.$jscomp$symbol$id_};var cn="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",dn=0,pn=function(vn){if(this instanceof pn)throw new TypeError("Symbol is not a constructor");return new ln(cn+(vn||"")+"_"+dn++,vn)};return pn},"es6","es3"),$jscomp.polyfill("Symbol.iterator",function(sn){if(sn)return sn;sn=Symbol("Symbol.iterator");for(var ln="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),cn=0;cn<ln.length;cn++){var dn=$jscomp.global[ln[cn]];typeof dn=="function"&&typeof dn.prototype[sn]!="function"&&$jscomp.defineProperty(dn.prototype,sn,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return sn},"es6","es3"),$jscomp.iteratorPrototype=function(sn){return sn={next:sn},sn[Symbol.iterator]=function(){return this},sn},$jscomp.createTemplateTagFirstArg=function(sn){return sn.raw=sn},$jscomp.createTemplateTagFirstArgWithRaw=function(sn,ln){return sn.raw=ln,sn},$jscomp.makeIterator=function(sn){var ln=typeof Symbol<"u"&&Symbol.iterator&&sn[Symbol.iterator];return ln?ln.call(sn):$jscomp.arrayIterator(sn)},$jscomp.arrayFromIterator=function(sn){for(var ln,cn=[];!(ln=sn.next()).done;)cn.push(ln.value);return cn},$jscomp.arrayFromIterable=function(sn){return sn instanceof Array?sn:$jscomp.arrayFromIterator($jscomp.makeIterator(sn))},$jscomp.objectCreate=$jscomp.ASSUME_ES5||typeof Object.create=="function"?Object.create:function(sn){var ln=function(){};return ln.prototype=sn,new ln},$jscomp.getConstructImplementation=function(){function sn(){function cn(){}return Reflect.construct(cn,[],function(){}),new cn instanceof cn}if($jscomp.TRUST_ES6_POLYFILLS&&typeof Reflect<"u"&&Reflect.construct){if(sn())return Reflect.construct;var ln=Reflect.construct;return function(cn,dn,pn){return cn=ln(cn,dn),pn&&Reflect.setPrototypeOf(cn,pn.prototype),cn}}return function(cn,dn,pn){return pn===void 0&&(pn=cn),pn=$jscomp.objectCreate(pn.prototype||Object.prototype),Function.prototype.apply.call(cn,pn,dn)||pn}},$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf(),$jscomp.underscoreProtoCanBeSet=function(){var sn={a:!0},ln={};try{return ln.__proto__=sn,ln.a}catch{}return!1},$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(sn,ln){if(sn.__proto__=ln,sn.__proto__!==ln)throw new TypeError(sn+" is not extensible");return sn}:null,$jscomp.inherits=function(sn,ln){if(sn.prototype=$jscomp.objectCreate(ln.prototype),sn.prototype.constructor=sn,$jscomp.setPrototypeOf){var cn=$jscomp.setPrototypeOf;cn(sn,ln)}else for(cn in ln)if(cn!="prototype")if(Object.defineProperties){var dn=Object.getOwnPropertyDescriptor(ln,cn);dn&&Object.defineProperty(sn,cn,dn)}else sn[cn]=ln[cn];sn.superClass_=ln.prototype},$jscomp.generator={},$jscomp.generator.ensureIteratorResultIsObject_=function(sn){if(!(sn instanceof Object))throw new TypeError("Iterator result "+sn+" is not an object")},$jscomp.generator.Context=function(){this.isRunning_=!1,this.yieldAllIterator_=null,this.yieldResult=void 0,this.nextAddress=1,this.finallyAddress_=this.catchAddress_=0,this.finallyContexts_=this.abruptCompletion_=null},$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0},$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1},$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_},$jscomp.generator.Context.prototype.next_=function(sn){this.yieldResult=sn},$jscomp.generator.Context.prototype.throw_=function(sn){this.abruptCompletion_={exception:sn,isException:!0},this.jumpToErrorHandler_()},$jscomp.generator.Context.prototype.return=function(sn){this.abruptCompletion_={return:sn},this.nextAddress=this.finallyAddress_},$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(sn){this.abruptCompletion_={jumpTo:sn},this.nextAddress=this.finallyAddress_},$jscomp.generator.Context.prototype.yield=function(sn,ln){return this.nextAddress=ln,{value:sn}},$jscomp.generator.Context.prototype.yieldAll=function(sn,ln){sn=$jscomp.makeIterator(sn);var cn=sn.next();if($jscomp.generator.ensureIteratorResultIsObject_(cn),cn.done)this.yieldResult=cn.value,this.nextAddress=ln;else return this.yieldAllIterator_=sn,this.yield(cn.value,ln)},$jscomp.generator.Context.prototype.jumpTo=function(sn){this.nextAddress=sn},$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0},$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(sn,ln){this.catchAddress_=sn,ln!=null&&(this.finallyAddress_=ln)},$jscomp.generator.Context.prototype.setFinallyBlock=function(sn){this.catchAddress_=0,this.finallyAddress_=sn||0},$jscomp.generator.Context.prototype.leaveTryBlock=function(sn,ln){this.nextAddress=sn,this.catchAddress_=ln||0},$jscomp.generator.Context.prototype.enterCatchBlock=function(sn){return this.catchAddress_=sn||0,sn=this.abruptCompletion_.exception,this.abruptCompletion_=null,sn},$jscomp.generator.Context.prototype.enterFinallyBlock=function(sn,ln,cn){cn?this.finallyContexts_[cn]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_],this.catchAddress_=sn||0,this.finallyAddress_=ln||0},$jscomp.generator.Context.prototype.leaveFinallyBlock=function(sn,ln){if(ln=this.finallyContexts_.splice(ln||0)[0],ln=this.abruptCompletion_=this.abruptCompletion_||ln){if(ln.isException)return this.jumpToErrorHandler_();ln.jumpTo!=null&&this.finallyAddress_<ln.jumpTo?(this.nextAddress=ln.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=sn},$jscomp.generator.Context.prototype.forIn=function(sn){return new $jscomp.generator.Context.PropertyIterator(sn)},$jscomp.generator.Context.PropertyIterator=function(sn){this.object_=sn,this.properties_=[];for(var ln in sn)this.properties_.push(ln);this.properties_.reverse()},$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var sn=this.properties_.pop();if(sn in this.object_)return sn}return null},$jscomp.generator.Engine_=function(sn){this.context_=new $jscomp.generator.Context,this.program_=sn},$jscomp.generator.Engine_.prototype.next_=function(sn){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.next,sn,this.context_.next_):(this.context_.next_(sn),this.nextStep_())},$jscomp.generator.Engine_.prototype.return_=function(sn){this.context_.start_();var ln=this.context_.yieldAllIterator_;return ln?this.yieldAllStep_("return"in ln?ln.return:function(cn){return{value:cn,done:!0}},sn,this.context_.return):(this.context_.return(sn),this.nextStep_())},$jscomp.generator.Engine_.prototype.throw_=function(sn){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.throw,sn,this.context_.next_):(this.context_.throw_(sn),this.nextStep_())},$jscomp.generator.Engine_.prototype.yieldAllStep_=function(sn,ln,cn){try{var dn=sn.call(this.context_.yieldAllIterator_,ln);if($jscomp.generator.ensureIteratorResultIsObject_(dn),!dn.done)return this.context_.stop_(),dn;var pn=dn.value}catch(vn){return this.context_.yieldAllIterator_=null,this.context_.throw_(vn),this.nextStep_()}return this.context_.yieldAllIterator_=null,cn.call(this.context_,pn),this.nextStep_()},$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var sn=this.program_(this.context_);if(sn)return this.context_.stop_(),{value:sn.value,done:!1}}catch(ln){this.context_.yieldResult=void 0,this.context_.throw_(ln)}if(this.context_.stop_(),this.context_.abruptCompletion_){if(sn=this.context_.abruptCompletion_,this.context_.abruptCompletion_=null,sn.isException)throw sn.exception;return{value:sn.return,done:!0}}return{value:void 0,done:!0}},$jscomp.generator.Generator_=function(sn){this.next=function(ln){return sn.next_(ln)},this.throw=function(ln){return sn.throw_(ln)},this.return=function(ln){return sn.return_(ln)},this[Symbol.iterator]=function(){return this}},$jscomp.generator.createGenerator=function(sn,ln){return ln=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(ln)),$jscomp.setPrototypeOf&&sn.prototype&&$jscomp.setPrototypeOf(ln,sn.prototype),ln},$jscomp.asyncExecutePromiseGenerator=function(sn){function ln(dn){return sn.next(dn)}function cn(dn){return sn.throw(dn)}return new Promise(function(dn,pn){function vn(Sn){Sn.done?dn(Sn.value):Promise.resolve(Sn.value).then(ln,cn).then(vn,pn)}vn(sn.next())})},$jscomp.asyncExecutePromiseGeneratorFunction=function(sn){return $jscomp.asyncExecutePromiseGenerator(sn())},$jscomp.asyncExecutePromiseGeneratorProgram=function(sn){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(sn)))},$jscomp.getRestArguments=function(){for(var sn=Number(this),ln=[],cn=sn;cn<arguments.length;cn++)ln[cn-sn]=arguments[cn];return ln},$jscomp.polyfill("Reflect",function(sn){return sn||{}},"es6","es3"),$jscomp.polyfill("Reflect.construct",function(sn){return $jscomp.construct},"es6","es3"),$jscomp.polyfill("Reflect.setPrototypeOf",function(sn){if(sn)return sn;if($jscomp.setPrototypeOf){var ln=$jscomp.setPrototypeOf;return function(cn,dn){try{return ln(cn,dn),!0}catch{return!1}}}return null},"es6","es5"),$jscomp.polyfill("Promise",function(sn){function ln(){this.batch_=null}function cn(Sn){return Sn instanceof pn?Sn:new pn(function(En,Cn){En(Sn)})}if(sn&&(!($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&typeof $jscomp.global.PromiseRejectionEvent>"u")||!$jscomp.global.Promise||$jscomp.global.Promise.toString().indexOf("[native code]")===-1))return sn;ln.prototype.asyncExecute=function(Sn){if(this.batch_==null){this.batch_=[];var En=this;this.asyncExecuteFunction(function(){En.executeBatch_()})}this.batch_.push(Sn)};var dn=$jscomp.global.setTimeout;ln.prototype.asyncExecuteFunction=function(Sn){dn(Sn,0)},ln.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var Sn=this.batch_;this.batch_=[];for(var En=0;En<Sn.length;++En){var Cn=Sn[En];Sn[En]=null;try{Cn()}catch(Pn){this.asyncThrow_(Pn)}}}this.batch_=null},ln.prototype.asyncThrow_=function(Sn){this.asyncExecuteFunction(function(){throw Sn})};var pn=function(Sn){this.state_=0,this.result_=void 0,this.onSettledCallbacks_=[],this.isRejectionHandled_=!1;var En=this.createResolveAndReject_();try{Sn(En.resolve,En.reject)}catch(Cn){En.reject(Cn)}};pn.prototype.createResolveAndReject_=function(){function Sn(Pn){return function(Rn){Cn||(Cn=!0,Pn.call(En,Rn))}}var En=this,Cn=!1;return{resolve:Sn(this.resolveTo_),reject:Sn(this.reject_)}},pn.prototype.resolveTo_=function(Sn){if(Sn===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(Sn instanceof pn)this.settleSameAsPromise_(Sn);else{e:switch(typeof Sn){case"object":var En=Sn!=null;break e;case"function":En=!0;break e;default:En=!1}En?this.resolveToNonPromiseObj_(Sn):this.fulfill_(Sn)}},pn.prototype.resolveToNonPromiseObj_=function(Sn){var En=void 0;try{En=Sn.then}catch(Cn){this.reject_(Cn);return}typeof En=="function"?this.settleSameAsThenable_(En,Sn):this.fulfill_(Sn)},pn.prototype.reject_=function(Sn){this.settle_(2,Sn)},pn.prototype.fulfill_=function(Sn){this.settle_(1,Sn)},pn.prototype.settle_=function(Sn,En){if(this.state_!=0)throw Error("Cannot settle("+Sn+", "+En+"): Promise already settled in state"+this.state_);this.state_=Sn,this.result_=En,this.state_===2&&this.scheduleUnhandledRejectionCheck_(),this.executeOnSettledCallbacks_()},pn.prototype.scheduleUnhandledRejectionCheck_=function(){var Sn=this;dn(function(){if(Sn.notifyUnhandledRejection_()){var En=$jscomp.global.console;typeof En<"u"&&En.error(Sn.result_)}},1)},pn.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var Sn=$jscomp.global.CustomEvent,En=$jscomp.global.Event,Cn=$jscomp.global.dispatchEvent;return typeof Cn>"u"?!0:(typeof Sn=="function"?Sn=new Sn("unhandledrejection",{cancelable:!0}):typeof En=="function"?Sn=new En("unhandledrejection",{cancelable:!0}):(Sn=$jscomp.global.document.createEvent("CustomEvent"),Sn.initCustomEvent("unhandledrejection",!1,!0,Sn)),Sn.promise=this,Sn.reason=this.result_,Cn(Sn))},pn.prototype.executeOnSettledCallbacks_=function(){if(this.onSettledCallbacks_!=null){for(var Sn=0;Sn<this.onSettledCallbacks_.length;++Sn)vn.asyncExecute(this.onSettledCallbacks_[Sn]);this.onSettledCallbacks_=null}};var vn=new ln;return pn.prototype.settleSameAsPromise_=function(Sn){var En=this.createResolveAndReject_();Sn.callWhenSettled_(En.resolve,En.reject)},pn.prototype.settleSameAsThenable_=function(Sn,En){var Cn=this.createResolveAndReject_();try{Sn.call(En,Cn.resolve,Cn.reject)}catch(Pn){Cn.reject(Pn)}},pn.prototype.then=function(Sn,En){function Cn(Fn,Gn){return typeof Fn=="function"?function(Dn){try{Pn(Fn(Dn))}catch(Kn){Rn(Kn)}}:Gn}var Pn,Rn,Ln=new pn(function(Fn,Gn){Pn=Fn,Rn=Gn});return this.callWhenSettled_(Cn(Sn,Pn),Cn(En,Rn)),Ln},pn.prototype.catch=function(Sn){return this.then(void 0,Sn)},pn.prototype.callWhenSettled_=function(Sn,En){function Cn(){switch(Pn.state_){case 1:Sn(Pn.result_);break;case 2:En(Pn.result_);break;default:throw Error("Unexpected state: "+Pn.state_)}}var Pn=this;this.onSettledCallbacks_==null?vn.asyncExecute(Cn):this.onSettledCallbacks_.push(Cn),this.isRejectionHandled_=!0},pn.resolve=cn,pn.reject=function(Sn){return new pn(function(En,Cn){Cn(Sn)})},pn.race=function(Sn){return new pn(function(En,Cn){for(var Pn=$jscomp.makeIterator(Sn),Rn=Pn.next();!Rn.done;Rn=Pn.next())cn(Rn.value).callWhenSettled_(En,Cn)})},pn.all=function(Sn){var En=$jscomp.makeIterator(Sn),Cn=En.next();return Cn.done?cn([]):new pn(function(Pn,Rn){function Ln(Dn){return function(Kn){Fn[Dn]=Kn,Gn--,Gn==0&&Pn(Fn)}}var Fn=[],Gn=0;do Fn.push(void 0),Gn++,cn(Cn.value).callWhenSettled_(Ln(Fn.length-1),Rn),Cn=En.next();while(!Cn.done)})},pn},"es6","es3"),$jscomp.checkEs6ConformanceViaProxy=function(){try{var sn={},ln=Object.create(new $jscomp.global.Proxy(sn,{get:function(cn,dn,pn){return cn==sn&&dn=="q"&&pn==ln}}));return ln.q===!0}catch{return!1}},$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1,$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy(),$jscomp.owns=function(sn,ln){return Object.prototype.hasOwnProperty.call(sn,ln)},$jscomp.polyfill("WeakMap",function(sn){function ln(){if(!sn||!Object.seal)return!1;try{var Pn=Object.seal({}),Rn=Object.seal({}),Ln=new sn([[Pn,2],[Rn,3]]);return Ln.get(Pn)!=2||Ln.get(Rn)!=3?!1:(Ln.delete(Pn),Ln.set(Rn,4),!Ln.has(Pn)&&Ln.get(Rn)==4)}catch{return!1}}function cn(){}function dn(Pn){var Rn=typeof Pn;return Rn==="object"&&Pn!==null||Rn==="function"}function pn(Pn){if(!$jscomp.owns(Pn,Sn)){var Rn=new cn;$jscomp.defineProperty(Pn,Sn,{value:Rn})}}function vn(Pn){if(!$jscomp.ISOLATE_POLYFILLS){var Rn=Object[Pn];Rn&&(Object[Pn]=function(Ln){return Ln instanceof cn?Ln:(Object.isExtensible(Ln)&&pn(Ln),Rn(Ln))})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(sn&&$jscomp.ES6_CONFORMANCE)return sn}else if(ln())return sn;var Sn="$jscomp_hidden_"+Math.random();vn("freeze"),vn("preventExtensions"),vn("seal");var En=0,Cn=function(Pn){if(this.id_=(En+=Math.random()+1).toString(),Pn){Pn=$jscomp.makeIterator(Pn);for(var Rn;!(Rn=Pn.next()).done;)Rn=Rn.value,this.set(Rn[0],Rn[1])}};return Cn.prototype.set=function(Pn,Rn){if(!dn(Pn))throw Error("Invalid WeakMap key");if(pn(Pn),!$jscomp.owns(Pn,Sn))throw Error("WeakMap key fail: "+Pn);return Pn[Sn][this.id_]=Rn,this},Cn.prototype.get=function(Pn){return dn(Pn)&&$jscomp.owns(Pn,Sn)?Pn[Sn][this.id_]:void 0},Cn.prototype.has=function(Pn){return dn(Pn)&&$jscomp.owns(Pn,Sn)&&$jscomp.owns(Pn[Sn],this.id_)},Cn.prototype.delete=function(Pn){return dn(Pn)&&$jscomp.owns(Pn,Sn)&&$jscomp.owns(Pn[Sn],this.id_)?delete Pn[Sn][this.id_]:!1},Cn},"es6","es3"),$jscomp.MapEntry=function(){},$jscomp.polyfill("Map",function(sn){function ln(){if($jscomp.ASSUME_NO_NATIVE_MAP||!sn||typeof sn!="function"||!sn.prototype.entries||typeof Object.seal!="function")return!1;try{var Cn=Object.seal({x:4}),Pn=new sn($jscomp.makeIterator([[Cn,"s"]]));if(Pn.get(Cn)!="s"||Pn.size!=1||Pn.get({x:4})||Pn.set({x:4},"t")!=Pn||Pn.size!=2)return!1;var Rn=Pn.entries(),Ln=Rn.next();return Ln.done||Ln.value[0]!=Cn||Ln.value[1]!="s"?!1:(Ln=Rn.next(),!(Ln.done||Ln.value[0].x!=4||Ln.value[1]!="t"||!Rn.next().done))}catch{return!1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(sn&&$jscomp.ES6_CONFORMANCE)return sn}else if(ln())return sn;var cn=new WeakMap,dn=function(Cn){if(this.data_={},this.head_=Sn(),this.size=0,Cn){Cn=$jscomp.makeIterator(Cn);for(var Pn;!(Pn=Cn.next()).done;)Pn=Pn.value,this.set(Pn[0],Pn[1])}};dn.prototype.set=function(Cn,Pn){Cn=Cn===0?0:Cn;var Rn=pn(this,Cn);return Rn.list||(Rn.list=this.data_[Rn.id]=[]),Rn.entry?Rn.entry.value=Pn:(Rn.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:Cn,value:Pn},Rn.list.push(Rn.entry),this.head_.previous.next=Rn.entry,this.head_.previous=Rn.entry,this.size++),this},dn.prototype.delete=function(Cn){return Cn=pn(this,Cn),Cn.entry&&Cn.list?(Cn.list.splice(Cn.index,1),Cn.list.length||delete this.data_[Cn.id],Cn.entry.previous.next=Cn.entry.next,Cn.entry.next.previous=Cn.entry.previous,Cn.entry.head=null,this.size--,!0):!1},dn.prototype.clear=function(){this.data_={},this.head_=this.head_.previous=Sn(),this.size=0},dn.prototype.has=function(Cn){return!!pn(this,Cn).entry},dn.prototype.get=function(Cn){return(Cn=pn(this,Cn).entry)&&Cn.value},dn.prototype.entries=function(){return vn(this,function(Cn){return[Cn.key,Cn.value]})},dn.prototype.keys=function(){return vn(this,function(Cn){return Cn.key})},dn.prototype.values=function(){return vn(this,function(Cn){return Cn.value})},dn.prototype.forEach=function(Cn,Pn){for(var Rn=this.entries(),Ln;!(Ln=Rn.next()).done;)Ln=Ln.value,Cn.call(Pn,Ln[1],Ln[0],this)},dn.prototype[Symbol.iterator]=dn.prototype.entries;var pn=function(Cn,Pn){var Rn=Pn&&typeof Pn;Rn=="object"||Rn=="function"?cn.has(Pn)?Rn=cn.get(Pn):(Rn=""+ ++En,cn.set(Pn,Rn)):Rn="p_"+Pn;var Ln=Cn.data_[Rn];if(Ln&&$jscomp.owns(Cn.data_,Rn))for(Cn=0;Cn<Ln.length;Cn++){var Fn=Ln[Cn];if(Pn!==Pn&&Fn.key!==Fn.key||Pn===Fn.key)return{id:Rn,list:Ln,index:Cn,entry:Fn}}return{id:Rn,list:Ln,index:-1,entry:void 0}},vn=function(Cn,Pn){var Rn=Cn.head_;return $jscomp.iteratorPrototype(function(){if(Rn){for(;Rn.head!=Cn.head_;)Rn=Rn.previous;for(;Rn.next!=Rn.head;)return Rn=Rn.next,{done:!1,value:Pn(Rn)};Rn=null}return{done:!0,value:void 0}})},Sn=function(){var Cn={};return Cn.previous=Cn.next=Cn.head=Cn},En=0;return dn},"es6","es3"),$jscomp.iteratorFromArray=function(sn,ln){sn instanceof String&&(sn+="");var cn=0,dn=!1,pn={next:function(){if(!dn&&cn<sn.length){var vn=cn++;return{value:ln(vn,sn[vn]),done:!1}}return dn=!0,{done:!0,value:void 0}}};return pn[Symbol.iterator]=function(){return pn},pn},$jscomp.polyfill("Array.prototype.keys",function(sn){return sn||function(){return $jscomp.iteratorFromArray(this,function(ln){return ln})}},"es6","es3"),$jscomp.polyfill("Set",function(sn){function ln(){if($jscomp.ASSUME_NO_NATIVE_SET||!sn||typeof sn!="function"||!sn.prototype.entries||typeof Object.seal!="function")return!1;try{var dn=Object.seal({x:4}),pn=new sn($jscomp.makeIterator([dn]));if(!pn.has(dn)||pn.size!=1||pn.add(dn)!=pn||pn.size!=1||pn.add({x:4})!=pn||pn.size!=2)return!1;var vn=pn.entries(),Sn=vn.next();return Sn.done||Sn.value[0]!=dn||Sn.value[1]!=dn?!1:(Sn=vn.next(),Sn.done||Sn.value[0]==dn||Sn.value[0].x!=4||Sn.value[1]!=Sn.value[0]?!1:vn.next().done)}catch{return!1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(sn&&$jscomp.ES6_CONFORMANCE)return sn}else if(ln())return sn;var cn=function(dn){if(this.map_=new Map,dn){dn=$jscomp.makeIterator(dn);for(var pn;!(pn=dn.next()).done;)this.add(pn.value)}this.size=this.map_.size};return cn.prototype.add=function(dn){return dn=dn===0?0:dn,this.map_.set(dn,dn),this.size=this.map_.size,this},cn.prototype.delete=function(dn){return dn=this.map_.delete(dn),this.size=this.map_.size,dn},cn.prototype.clear=function(){this.map_.clear(),this.size=0},cn.prototype.has=function(dn){return this.map_.has(dn)},cn.prototype.entries=function(){return this.map_.entries()},cn.prototype.values=function(){return this.map_.values()},cn.prototype.keys=cn.prototype.values,cn.prototype[Symbol.iterator]=cn.prototype.values,cn.prototype.forEach=function(dn,pn){var vn=this;this.map_.forEach(function(Sn){return dn.call(pn,Sn,Sn,vn)})},cn},"es6","es3"),$jscomp.polyfill("Array.from",function(sn){return sn||function(ln,cn,dn){cn=cn??function(En){return En};var pn=[],vn=typeof Symbol<"u"&&Symbol.iterator&&ln[Symbol.iterator];if(typeof vn=="function"){ln=vn.call(ln);for(var Sn=0;!(vn=ln.next()).done;)pn.push(cn.call(dn,vn.value,Sn++))}else for(vn=ln.length,Sn=0;Sn<vn;Sn++)pn.push(cn.call(dn,ln[Sn],Sn));return pn}},"es6","es3"),$jscomp.findInternal=function(sn,ln,cn){sn instanceof String&&(sn=String(sn));for(var dn=sn.length,pn=0;pn<dn;pn++){var vn=sn[pn];if(ln.call(cn,vn,pn,sn))return{i:pn,v:vn}}return{i:-1,v:void 0}},$jscomp.polyfill("Array.prototype.findIndex",function(sn){return sn||function(ln,cn){return $jscomp.findInternal(this,ln,cn).i}},"es6","es3"),$jscomp.polyfill("Object.is",function(sn){return sn||function(ln,cn){return ln===cn?ln!==0||1/ln===1/cn:ln!==ln&&cn!==cn}},"es6","es3"),$jscomp.polyfill("Array.prototype.includes",function(sn){return sn||function(ln,cn){var dn=this;dn instanceof String&&(dn=String(dn));var pn=dn.length;for(cn=cn||0,0>cn&&(cn=Math.max(cn+pn,0));cn<pn;cn++){var vn=dn[cn];if(vn===ln||Object.is(vn,ln))return!0}return!1}},"es7","es3"),$jscomp.checkStringArgs=function(sn,ln,cn){if(sn==null)throw new TypeError("The 'this' value for String.prototype."+cn+" must not be null or undefined");if(ln instanceof RegExp)throw new TypeError("First argument to String.prototype."+cn+" must not be a regular expression");return sn+""},$jscomp.polyfill("String.prototype.includes",function(sn){return sn||function(ln,cn){return $jscomp.checkStringArgs(this,ln,"includes").indexOf(ln,cn||0)!==-1}},"es6","es3"),$jscomp.polyfill("Array.prototype.find",function(sn){return sn||function(ln,cn){return $jscomp.findInternal(this,ln,cn).v}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(sn){return sn||function(ln,cn){var dn=$jscomp.checkStringArgs(this,ln,"startsWith");ln+="";var pn=dn.length,vn=ln.length;cn=Math.max(0,Math.min(cn|0,dn.length));for(var Sn=0;Sn<vn&&cn<pn;)if(dn[cn++]!=ln[Sn++])return!1;return Sn>=vn}},"es6","es3"),$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&typeof Object.assign=="function"?Object.assign:function(sn,ln){for(var cn=1;cn<arguments.length;cn++){var dn=arguments[cn];if(dn)for(var pn in dn)$jscomp.owns(dn,pn)&&(sn[pn]=dn[pn])}return sn},$jscomp.polyfill("Object.assign",function(sn){return sn||$jscomp.assign},"es6","es3"),$jscomp.polyfill("Array.prototype.values",function(sn){return sn||function(){return $jscomp.iteratorFromArray(this,function(ln,cn){return cn})}},"es8","es3"),$jscomp.polyfill("Promise.prototype.finally",function(sn){return sn||function(ln){return this.then(function(cn){return Promise.resolve(ln()).then(function(){return cn})},function(cn){return Promise.resolve(ln()).then(function(){throw cn})})}},"es9","es3"),$jscomp.polyfill("Array.prototype.entries",function(sn){return sn||function(){return $jscomp.iteratorFromArray(this,function(ln,cn){return[ln,cn]})}},"es6","es3"),$jscomp.polyfill("String.prototype.repeat",function(sn){return sn||function(ln){var cn=$jscomp.checkStringArgs(this,null,"repeat");if(0>ln||1342177279<ln)throw new RangeError("Invalid count value");ln|=0;for(var dn="";ln;)ln&1&&(dn+=cn),(ln>>>=1)&&(cn+=cn);return dn}},"es6","es3"),$jscomp.polyfill("Number.isNaN",function(sn){return sn||function(ln){return typeof ln=="number"&&isNaN(ln)}},"es6","es3"),$jscomp.polyfill("Object.values",function(sn){return sn||function(ln){var cn=[],dn;for(dn in ln)$jscomp.owns(ln,dn)&&cn.push(ln[dn]);return cn}},"es8","es3"),$jscomp.polyfill("Math.log2",function(sn){return sn||function(ln){return Math.log(ln)/Math.LN2}},"es6","es3"),$jscomp.polyfill("Math.trunc",function(sn){return sn||function(ln){if(ln=Number(ln),isNaN(ln)||ln===1/0||ln===-1/0||ln===0)return ln;var cn=Math.floor(Math.abs(ln));return 0>ln?-cn:cn}},"es6","es3"),$jscomp.polyfill("Object.entries",function(sn){return sn||function(ln){var cn=[],dn;for(dn in ln)$jscomp.owns(ln,dn)&&cn.push([dn,ln[dn]]);return cn}},"es8","es3");var COMPILED=!0,goog=goog||{};goog.global=this||self,goog.exportPath_=function(sn,ln,cn,dn){sn=sn.split("."),dn=dn||goog.global,sn[0]in dn||typeof dn.execScript>"u"||dn.execScript("var "+sn[0]);for(var pn;sn.length&&(pn=sn.shift());)if(sn.length||ln===void 0)dn=dn[pn]&&dn[pn]!==Object.prototype[pn]?dn[pn]:dn[pn]={};else if(!cn&&goog.isObject(ln)&&goog.isObject(dn[pn]))for(var vn in ln)ln.hasOwnProperty(vn)&&(dn[pn][vn]=ln[vn]);else dn[pn]=ln},goog.define=function(sn,ln){return ln},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.getLocale=function(){return goog.LOCALE},goog.TRUSTED_SITE=!0,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(sn){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");goog.constructNamespace_(sn)},goog.constructNamespace_=function(sn,ln,cn){goog.exportPath_(sn,ln,cn)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.getScriptNonce_=function(sn){return sn=(sn||goog.global).document,(sn=sn.querySelector&&sn.querySelector("script[nonce]"))&&(sn=sn.nonce||sn.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(sn)?sn:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(sn){if(typeof sn!="string"||!sn||sn.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+sn+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=sn},goog.module.get=function(sn){return goog.module.getInternal_(sn)},goog.module.getInternal_=function(sn){return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var sn=goog.global.$jscomp;return sn?typeof sn.getCurrentModulePath!="function"?!1:!!sn.getCurrentModulePath():!1},goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(sn){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=sn;else{var ln=goog.global.$jscomp;if(!ln||typeof ln.getCurrentModulePath!="function")throw Error('Module with namespace "'+sn+'" has been loaded incorrectly.');ln=ln.require(ln.getCurrentModulePath()),goog.loadedModules_[sn]={exports:ln,type:goog.ModuleType.ES6,moduleId:sn}}},goog.setTestOnly=function(sn){if(goog.DISALLOW_TEST_ONLY_CODE)throw sn=sn||"",Error("Importing test-only code into non-debug environment"+(sn?": "+sn:"."))},goog.forwardDeclare=function(sn){},goog.getObjectByName=function(sn,ln){sn=sn.split("."),ln=ln||goog.global;for(var cn=0;cn<sn.length;cn++)if(ln=ln[sn[cn]],ln==null)return null;return ln},goog.addDependency=function(sn,ln,cn,dn){},goog.ENABLE_DEBUG_LOADER=!1,goog.logToConsole_=function(sn){goog.global.console&&goog.global.console.error(sn)},goog.require=function(sn){},goog.requireType=function(sn){return{}},goog.basePath="",goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(sn){sn.instance_=void 0,sn.getInstance=function(){return sn.instance_?sn.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=sn),sn.instance_=new sn)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRUSTED_TYPES_POLICY_NAME="goog",goog.hasBadLetScoping=null,goog.loadModule=function(sn){var ln=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG};var cn={},dn=cn;if(typeof sn=="function")dn=sn.call(void 0,dn);else if(typeof sn=="string")dn=goog.loadModuleFromSource_.call(void 0,dn,sn);else throw Error("Invalid module definition");var pn=goog.moduleLoaderState_.moduleName;if(typeof pn=="string"&&pn)goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(pn,dn,cn!==dn):goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof dn=="object"&&dn!=null&&Object.seal(dn),goog.loadedModules_[pn]={exports:dn,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName};else throw Error('Invalid module name "'+pn+'"')}finally{goog.moduleLoaderState_=ln}},goog.loadModuleFromSource_=function(a,b){return eval(goog.CLOSURE_EVAL_PREFILTER_.createScript(b)),a},goog.normalizePath_=function(sn){sn=sn.split("/");for(var ln=0;ln<sn.length;)sn[ln]=="."?sn.splice(ln,1):ln&&sn[ln]==".."&&sn[ln-1]&&sn[ln-1]!=".."?sn.splice(--ln,2):ln++;return sn.join("/")},goog.loadFileSync_=function(sn){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(sn);try{var ln=new goog.global.XMLHttpRequest;return ln.open("get",sn,!1),ln.send(),ln.status==0||ln.status==200?ln.responseText:null}catch{return null}},goog.typeOf=function(sn){var ln=typeof sn;return ln!="object"?ln:sn?Array.isArray(sn)?"array":ln:"null"},goog.isArrayLike=function(sn){var ln=goog.typeOf(sn);return ln=="array"||ln=="object"&&typeof sn.length=="number"},goog.isDateLike=function(sn){return goog.isObject(sn)&&typeof sn.getFullYear=="function"},goog.isObject=function(sn){var ln=typeof sn;return ln=="object"&&sn!=null||ln=="function"},goog.getUid=function(sn){return Object.prototype.hasOwnProperty.call(sn,goog.UID_PROPERTY_)&&sn[goog.UID_PROPERTY_]||(sn[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(sn){return!!sn[goog.UID_PROPERTY_]},goog.removeUid=function(sn){sn!==null&&"removeAttribute"in sn&&sn.removeAttribute(goog.UID_PROPERTY_);try{delete sn[goog.UID_PROPERTY_]}catch{}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.cloneObject=function(sn){var ln=goog.typeOf(sn);if(ln=="object"||ln=="array"){if(typeof sn.clone=="function")return sn.clone();if(typeof Map<"u"&&sn instanceof Map)return new Map(sn);if(typeof Set<"u"&&sn instanceof Set)return new Set(sn);ln=ln=="array"?[]:{};for(var cn in sn)ln[cn]=goog.cloneObject(sn[cn]);return ln}return sn},goog.bindNative_=function(sn,ln,cn){return sn.call.apply(sn.bind,arguments)},goog.bindJs_=function(sn,ln,cn){if(!sn)throw Error();if(2<arguments.length){var dn=Array.prototype.slice.call(arguments,2);return function(){var pn=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(pn,dn),sn.apply(ln,pn)}}return function(){return sn.apply(ln,arguments)}},goog.bind=function(sn,ln,cn){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(sn,ln){var cn=Array.prototype.slice.call(arguments,1);return function(){var dn=cn.slice();return dn.push.apply(dn,arguments),sn.apply(this,dn)}},goog.now=function(){return Date.now()},goog.globalEval=function(sn){(0,eval)(sn)},goog.getCssName=function(sn,ln){if(String(sn).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+sn);var cn=function(pn){return goog.cssNameMapping_[pn]||pn},dn=function(pn){pn=pn.split("-");for(var vn=[],Sn=0;Sn<pn.length;Sn++)vn.push(cn(pn[Sn]));return vn.join("-")};return dn=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?cn:dn:function(pn){return pn},sn=ln?sn+"-"+dn(ln):dn(sn),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(sn):sn},goog.setCssNameMapping=function(sn,ln){goog.cssNameMapping_=sn,goog.cssNameMappingStyle_=ln},goog.GetMsgOptions=function(){},goog.getMsg=function(sn,ln,cn){return cn&&cn.html&&(sn=sn.replace(/</g,"&lt;")),cn&&cn.unescapeHtmlEntities&&(sn=sn.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&amp;/g,"&")),ln&&(sn=sn.replace(/\{\$([^}]+)}/g,function(dn,pn){return ln!=null&&pn in ln?ln[pn]:dn})),sn},goog.getMsgWithFallback=function(sn,ln){return sn},goog.exportSymbol=function(sn,ln,cn){goog.exportPath_(sn,ln,!0,cn)},goog.exportProperty=function(sn,ln,cn){sn[ln]=cn},goog.inherits=function(sn,ln){function cn(){}cn.prototype=ln.prototype,sn.superClass_=ln.prototype,sn.prototype=new cn,sn.prototype.constructor=sn,sn.base=function(dn,pn,vn){for(var Sn=Array(arguments.length-2),En=2;En<arguments.length;En++)Sn[En-2]=arguments[En];return ln.prototype[pn].apply(dn,Sn)}},goog.scope=function(sn){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");sn.call(goog.global)},goog.defineClass=function(sn,ln){var cn=ln.constructor,dn=ln.statics;return cn&&cn!=Object.prototype.constructor||(cn=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),cn=goog.defineClass.createSealingConstructor_(cn,sn),sn&&goog.inherits(cn,sn),delete ln.constructor,delete ln.statics,goog.defineClass.applyProperties_(cn.prototype,ln),dn!=null&&(dn instanceof Function?dn(cn):goog.defineClass.applyProperties_(cn,dn)),cn},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(sn,ln){return goog.defineClass.SEAL_CLASS_INSTANCES?function(){var cn=sn.apply(this,arguments)||this;return cn[goog.UID_PROPERTY_]=cn[goog.UID_PROPERTY_],cn}:sn},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(sn,ln){for(var cn in ln)Object.prototype.hasOwnProperty.call(ln,cn)&&(sn[cn]=ln[cn]);for(var dn=0;dn<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;dn++)cn=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[dn],Object.prototype.hasOwnProperty.call(ln,cn)&&(sn[cn]=ln[cn])},goog.identity_=function(sn){return sn},goog.createTrustedTypesPolicy=function(sn){var ln=null,cn=goog.global.trustedTypes;if(!cn||!cn.createPolicy)return ln;try{ln=cn.createPolicy(sn,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_})}catch(dn){goog.logToConsole_(dn.message)}return ln},goog.asserts=function(){},goog.asserts.assert=function(sn,ln){},goog.asserts.ENABLE_ASSERTS=!0,goog.asserts.ENABLE_ASSERTS&&console.assert&&console.assert.bind&&(goog.asserts.assert=console.assert.bind(console));var shaka={util:{}};if(shaka.util.FakeEvent=function(sn,ln){if(ln)if(ln instanceof Map)for(var cn=$jscomp.makeIterator(ln.keys()),dn=cn.next();!dn.done;dn=cn.next())dn=dn.value,Object.defineProperty(this,dn,{value:ln.get(dn),writable:!0,enumerable:!0});else for(cn in ln=shaka.util.FakeEvent.recastDictAsObject_(ln),ln)Object.defineProperty(this,cn,{value:ln[cn],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=window.performance&&window.performance.now?window.performance.now():Date.now(),this.type=sn,this.isTrusted=!1,this.target=this.currentTarget=null,this.stopped=!1},shaka.util.FakeEvent.fromRealEvent=function(sn){var ln=new shaka.util.FakeEvent(sn.type),cn;for(cn in sn)Object.defineProperty(ln,cn,{value:sn[cn],writable:!0,enumerable:!0});return ln},shaka.util.FakeEvent.recastDictAsObject_=function(sn){return goog.asserts.assert(!(sn instanceof Map),"dict should not be a map"),sn},shaka.util.FakeEvent.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},shaka.util.FakeEvent.prototype.stopImmediatePropagation=function(){this.stopped=!0},shaka.util.FakeEvent.prototype.stopPropagation=function(){},goog.exportSymbol("shaka.util.FakeEvent",shaka.util.FakeEvent),shaka.util.FakeEvent.EventName={AbrStatusChanged:"abrstatuschanged",Adaptation:"adaptation",Buffering:"buffering",DownloadFailed:"downloadfailed",DownloadHeadersReceived:"downloadheadersreceived",DrmSessionUpdate:"drmsessionupdate",Emsg:"emsg",Prft:"prft",Error:"error",ExpirationUpdated:"expirationupdated",GapJumped:"gapjumped",Loaded:"loaded",Loading:"loading",ManifestParsed:"manifestparsed",MediaQualityChanged:"mediaqualitychanged",Metadata:"metadata",OnStateChange:"onstatechange",OnStateIdle:"onstateidle",RateChange:"ratechange",SegmentAppended:"segmentappended",SessionDataEvent:"sessiondata",StallDetected:"stalldetected",Streaming:"streaming",TextChanged:"textchanged",TextTrackVisibility:"texttrackvisibility",TimelineRegionAdded:"timelineregionadded",TimelineRegionEnter:"timelineregionenter",TimelineRegionExit:"timelineregionexit",TracksChanged:"trackschanged",Unloading:"unloading",VariantChanged:"variantchanged"},shaka.log=function(){},shaka.log.alwaysError=function(){},shaka.log.alwaysWarn=function(){},shaka.log.warnOnce=function(sn){var ln=$jscomp.getRestArguments.apply(1,arguments);shaka.log.oneTimeWarningIssued_.has(sn)||(shaka.log.oneTimeWarningIssued_.add(sn),shaka.log.alwaysWarn.apply(shaka.log,$jscomp.arrayFromIterable(ln)))},shaka.log.error=function(){},shaka.log.warning=function(){},shaka.log.info=function(){},shaka.log.debug=function(){},shaka.log.v1=function(){},shaka.log.v2=function(){},shaka.log.Level={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4,V1:5,V2:6},shaka.log.MAX_LOG_LEVEL=4,shaka.log.oneTimeWarningIssued_=new Set,window.console){var $jscomp$compprop0={};shaka.log.logMap_=($jscomp$compprop0[shaka.log.Level.ERROR]=function(){var sn=$jscomp.getRestArguments.apply(0,arguments);return console.error.apply(console,$jscomp.arrayFromIterable(sn))},$jscomp$compprop0[shaka.log.Level.WARNING]=function(){var sn=$jscomp.getRestArguments.apply(0,arguments);return console.warn.apply(console,$jscomp.arrayFromIterable(sn))},$jscomp$compprop0[shaka.log.Level.INFO]=function(){var sn=$jscomp.getRestArguments.apply(0,arguments);return console.info.apply(console,$jscomp.arrayFromIterable(sn))},$jscomp$compprop0[shaka.log.Level.DEBUG]=function(){var sn=$jscomp.getRestArguments.apply(0,arguments);return console.log.apply(console,$jscomp.arrayFromIterable(sn))},$jscomp$compprop0[shaka.log.Level.V1]=function(){var sn=$jscomp.getRestArguments.apply(0,arguments);return console.debug.apply(console,$jscomp.arrayFromIterable(sn))},$jscomp$compprop0[shaka.log.Level.V2]=function(){var sn=$jscomp.getRestArguments.apply(0,arguments);return console.debug.apply(console,$jscomp.arrayFromIterable(sn))},$jscomp$compprop0),shaka.log.alwaysWarn=function(){var sn=$jscomp.getRestArguments.apply(0,arguments);return console.warn.apply(console,$jscomp.arrayFromIterable(sn))},shaka.log.alwaysError=function(){var sn=$jscomp.getRestArguments.apply(0,arguments);return console.error.apply(console,$jscomp.arrayFromIterable(sn))},goog.DEBUG?(goog.exportSymbol("shaka.log",shaka.log),shaka.log.setLevel=function(sn){var ln=function(cn){return cn<=sn?(goog.asserts.assert(shaka.log.logMap_[cn],"Unexpected log level"),shaka.log.logMap_[cn]):function(){}};shaka.log.currentLevel=sn,shaka.log.error=ln(shaka.log.Level.ERROR),shaka.log.warning=ln(shaka.log.Level.WARNING),shaka.log.info=ln(shaka.log.Level.INFO),shaka.log.debug=ln(shaka.log.Level.DEBUG),shaka.log.v1=ln(shaka.log.Level.V1),shaka.log.v2=ln(shaka.log.Level.V2)},shaka.log.setLevel(shaka.log.MAX_LOG_LEVEL)):(shaka.log.MAX_LOG_LEVEL>=shaka.log.Level.ERROR&&(shaka.log.error=shaka.log.logMap_[shaka.log.Level.ERROR]),shaka.log.MAX_LOG_LEVEL>=shaka.log.Level.WARNING&&(shaka.log.warning=shaka.log.logMap_[shaka.log.Level.WARNING]),shaka.log.MAX_LOG_LEVEL>=shaka.log.Level.INFO&&(shaka.log.info=shaka.log.logMap_[shaka.log.Level.INFO]),shaka.log.MAX_LOG_LEVEL>=shaka.log.Level.DEBUG&&(shaka.log.debug=shaka.log.logMap_[shaka.log.Level.DEBUG]),shaka.log.MAX_LOG_LEVEL>=shaka.log.Level.V1&&(shaka.log.v1=shaka.log.logMap_[shaka.log.Level.V1]),shaka.log.MAX_LOG_LEVEL>=shaka.log.Level.V2&&(shaka.log.v2=shaka.log.logMap_[shaka.log.Level.V2]))}shaka.util.IReleasable=function(){},shaka.util.IReleasable.prototype.release=function(){},shaka.util.MultiMap=function(){this.map_={}},shaka.util.MultiMap.prototype.push=function(sn,ln){this.map_.hasOwnProperty(sn)?this.map_[sn].push(ln):this.map_[sn]=[ln]},shaka.util.MultiMap.prototype.get=function(sn){return(sn=this.map_[sn])?sn.slice():null},shaka.util.MultiMap.prototype.getAll=function(){var sn=[],ln;for(ln in this.map_)sn.push.apply(sn,$jscomp.arrayFromIterable(this.map_[ln]));return sn},shaka.util.MultiMap.prototype.remove=function(sn,ln){sn in this.map_&&(this.map_[sn]=this.map_[sn].filter(function(cn){return cn!=ln}),this.map_[sn].length==0&&delete this.map_[sn])},shaka.util.MultiMap.prototype.clear=function(){this.map_={}},shaka.util.MultiMap.prototype.forEach=function(sn){for(var ln in this.map_)sn(ln,this.map_[ln])},shaka.util.MultiMap.prototype.size=function(){return Object.keys(this.map_).length},shaka.util.MultiMap.prototype.keys=function(){return Object.keys(this.map_)},shaka.util.FakeEventTarget=function(){this.listeners_=new shaka.util.MultiMap,this.dispatchTarget=this},shaka.util.FakeEventTarget.prototype.addEventListener=function(sn,ln,cn){this.listeners_&&this.listeners_.push(sn,ln)},shaka.util.FakeEventTarget.prototype.listenToAllEvents=function(sn){this.addEventListener(shaka.util.FakeEventTarget.ALL_EVENTS_,sn)},shaka.util.FakeEventTarget.prototype.removeEventListener=function(sn,ln,cn){this.listeners_&&this.listeners_.remove(sn,ln)},shaka.util.FakeEventTarget.prototype.dispatchEvent=function(sn){if(goog.asserts.assert(sn instanceof shaka.util.FakeEvent,"FakeEventTarget can only dispatch FakeEvents!"),!this.listeners_)return!0;var ln=this.listeners_.get(sn.type)||[],cn=this.listeners_.get(shaka.util.FakeEventTarget.ALL_EVENTS_);for(cn&&(ln=ln.concat(cn)),ln=$jscomp.makeIterator(ln),cn=ln.next();!cn.done;cn=ln.next()){cn=cn.value,sn.target=this.dispatchTarget,sn.currentTarget=this.dispatchTarget;try{cn.handleEvent?cn.handleEvent(sn):cn.call(this,sn)}catch(dn){shaka.log.error("Uncaught exception in event handler",dn,dn?dn.message:null,dn?dn.stack:null)}if(sn.stopped)break}return sn.defaultPrevented},shaka.util.FakeEventTarget.prototype.release=function(){this.listeners_=null},shaka.util.FakeEventTarget.ALL_EVENTS_="All",shaka.util.Iterables=function(){},shaka.util.Iterables.map=function(sn,ln){var cn=[];sn=$jscomp.makeIterator(sn);for(var dn=sn.next();!dn.done;dn=sn.next())cn.push(ln(dn.value));return cn},shaka.util.Iterables.every=function(sn,ln){sn=$jscomp.makeIterator(sn);for(var cn=sn.next();!cn.done;cn=sn.next())if(!ln(cn.value))return!1;return!0},shaka.util.Iterables.some=function(sn,ln){sn=$jscomp.makeIterator(sn);for(var cn=sn.next();!cn.done;cn=sn.next())if(ln(cn.value))return!0;return!1},shaka.util.Iterables.filter=function(sn,ln){var cn=[];sn=$jscomp.makeIterator(sn);for(var dn=sn.next();!dn.done;dn=sn.next())dn=dn.value,ln(dn)&&cn.push(dn);return cn};/*
 @license
 Copyright 2008 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/goog.uri={},goog.uri.utils={},goog.uri.utils.splitRe_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),goog.uri.utils.ComponentIndex={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7},goog.uri.utils.split=function(sn){return sn.match(goog.uri.utils.splitRe_)};/*
 @license
 Copyright 2006 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/goog.Uri=function(sn){var ln;sn instanceof goog.Uri?(this.setScheme(sn.getScheme()),this.setUserInfo(sn.getUserInfo()),this.setDomain(sn.getDomain()),this.setPort(sn.getPort()),this.setPath(sn.getPath()),this.setQueryData(sn.getQueryData().clone()),this.setFragment(sn.getFragment())):sn&&(ln=goog.uri.utils.split(String(sn)))?(this.setScheme(ln[goog.uri.utils.ComponentIndex.SCHEME]||"",!0),this.setUserInfo(ln[goog.uri.utils.ComponentIndex.USER_INFO]||"",!0),this.setDomain(ln[goog.uri.utils.ComponentIndex.DOMAIN]||"",!0),this.setPort(ln[goog.uri.utils.ComponentIndex.PORT]),this.setPath(ln[goog.uri.utils.ComponentIndex.PATH]||"",!0),this.setQueryData(ln[goog.uri.utils.ComponentIndex.QUERY_DATA]||"",!0),this.setFragment(ln[goog.uri.utils.ComponentIndex.FRAGMENT]||"",!0)):this.queryData_=new goog.Uri.QueryData(null,null)},goog.Uri.prototype.scheme_="",goog.Uri.prototype.userInfo_="",goog.Uri.prototype.domain_="",goog.Uri.prototype.port_=null,goog.Uri.prototype.path_="",goog.Uri.prototype.fragment_="",goog.Uri.prototype.toString=function(){var sn=[],ln=this.getScheme();if(ln&&sn.push(goog.Uri.encodeSpecialChars_(ln,goog.Uri.reDisallowedInSchemeOrUserInfo_,!0),":"),ln=this.getDomain()){sn.push("//");var cn=this.getUserInfo();cn&&sn.push(goog.Uri.encodeSpecialChars_(cn,goog.Uri.reDisallowedInSchemeOrUserInfo_,!0),"@"),sn.push(goog.Uri.removeDoubleEncoding_(encodeURIComponent(ln))),ln=this.getPort(),ln!=null&&sn.push(":",String(ln))}return(ln=this.getPath())&&(this.hasDomain()&&ln.charAt(0)!="/"&&sn.push("/"),sn.push(goog.Uri.encodeSpecialChars_(ln,ln.charAt(0)=="/"?goog.Uri.reDisallowedInAbsolutePath_:goog.Uri.reDisallowedInRelativePath_,!0))),(ln=this.getEncodedQuery())&&sn.push("?",ln),(ln=this.getFragment())&&sn.push("#",goog.Uri.encodeSpecialChars_(ln,goog.Uri.reDisallowedInFragment_)),sn.join("")},goog.Uri.prototype.resolve=function(sn){var ln=this.clone();ln.scheme_==="data"&&(ln=new goog.Uri);var cn=sn.hasScheme();cn?ln.setScheme(sn.getScheme()):cn=sn.hasUserInfo(),cn?ln.setUserInfo(sn.getUserInfo()):cn=sn.hasDomain(),cn?ln.setDomain(sn.getDomain()):cn=sn.hasPort();var dn=sn.getPath();if(cn)ln.setPort(sn.getPort());else if(cn=sn.hasPath()){if(dn.charAt(0)!="/")if(this.hasDomain()&&!this.hasPath())dn="/"+dn;else{var pn=ln.getPath().lastIndexOf("/");pn!=-1&&(dn=ln.getPath().substr(0,pn+1)+dn)}dn=goog.Uri.removeDotSegments(dn)}return cn?ln.setPath(dn):cn=sn.hasQuery(),cn?ln.setQueryData(sn.getQueryData().clone()):cn=sn.hasFragment(),cn&&ln.setFragment(sn.getFragment()),ln},goog.Uri.prototype.clone=function(){return new goog.Uri(this)},goog.Uri.prototype.getScheme=function(){return this.scheme_},goog.Uri.prototype.setScheme=function(sn,ln){return(this.scheme_=ln?goog.Uri.decodeOrEmpty_(sn,!0):sn)&&(this.scheme_=this.scheme_.replace(/:$/,"")),this},goog.Uri.prototype.hasScheme=function(){return!!this.scheme_},goog.Uri.prototype.getUserInfo=function(){return this.userInfo_},goog.Uri.prototype.setUserInfo=function(sn,ln){return this.userInfo_=ln?goog.Uri.decodeOrEmpty_(sn):sn,this},goog.Uri.prototype.hasUserInfo=function(){return!!this.userInfo_},goog.Uri.prototype.getDomain=function(){return this.domain_},goog.Uri.prototype.setDomain=function(sn,ln){return this.domain_=ln?goog.Uri.decodeOrEmpty_(sn,!0):sn,this},goog.Uri.prototype.hasDomain=function(){return!!this.domain_},goog.Uri.prototype.getPort=function(){return this.port_},goog.Uri.prototype.setPort=function(sn){if(sn){if(sn=Number(sn),isNaN(sn)||0>sn)throw Error("Bad port number "+sn);this.port_=sn}else this.port_=null;return this},goog.Uri.prototype.hasPort=function(){return this.port_!=null},goog.Uri.prototype.getPath=function(){return this.path_},goog.Uri.prototype.setPath=function(sn,ln){return this.path_=ln?goog.Uri.decodeOrEmpty_(sn,!0):sn,this},goog.Uri.prototype.hasPath=function(){return!!this.path_},goog.Uri.prototype.hasQuery=function(){return this.queryData_.toString()!==""},goog.Uri.prototype.setQueryData=function(sn,ln){return sn instanceof goog.Uri.QueryData?this.queryData_=sn:(ln||(sn=goog.Uri.encodeSpecialChars_(sn,goog.Uri.reDisallowedInQuery_)),this.queryData_=new goog.Uri.QueryData(sn,null)),this},goog.Uri.prototype.getEncodedQuery=function(){return this.queryData_.toString()},goog.Uri.prototype.getDecodedQuery=function(){return this.queryData_.toDecodedString()},goog.Uri.prototype.getQueryData=function(){return this.queryData_},goog.Uri.prototype.getFragment=function(){return this.fragment_},goog.Uri.prototype.setFragment=function(sn,ln){return this.fragment_=ln?goog.Uri.decodeOrEmpty_(sn):sn,this},goog.Uri.prototype.hasFragment=function(){return!!this.fragment_},goog.Uri.removeDotSegments=function(sn){if(sn==".."||sn==".")return"";if(sn.indexOf("./")==-1&&sn.indexOf("/.")==-1)return sn;var ln=sn.lastIndexOf("/",0)==0;sn=sn.split("/");for(var cn=[],dn=0;dn<sn.length;){var pn=sn[dn++];pn=="."?ln&&dn==sn.length&&cn.push(""):pn==".."?((1<cn.length||cn.length==1&&cn[0]!="")&&cn.pop(),ln&&dn==sn.length&&cn.push("")):(cn.push(pn),ln=!0)}return cn.join("/")},goog.Uri.decodeOrEmpty_=function(sn,ln){return sn?ln?decodeURI(sn):decodeURIComponent(sn):""},goog.Uri.encodeSpecialChars_=function(sn,ln,cn){return sn!=null?(sn=encodeURI(sn).replace(ln,goog.Uri.encodeChar_),cn&&(sn=goog.Uri.removeDoubleEncoding_(sn)),sn):null},goog.Uri.encodeChar_=function(sn){return sn=sn.charCodeAt(0),"%"+(sn>>4&15).toString(16)+(sn&15).toString(16)},goog.Uri.removeDoubleEncoding_=function(sn){return sn.replace(/%25([0-9a-fA-F]{2})/g,"%$1")},goog.Uri.reDisallowedInSchemeOrUserInfo_=/[#\/\?@]/g,goog.Uri.reDisallowedInRelativePath_=/[#\?:]/g,goog.Uri.reDisallowedInAbsolutePath_=/[#\?]/g,goog.Uri.reDisallowedInQuery_=/[#\?@]/g,goog.Uri.reDisallowedInFragment_=/#/g,goog.Uri.QueryData=function(sn,ln){this.encodedQuery_=sn||null},goog.Uri.QueryData.prototype.ensureKeyMapInitialized_=function(){if(!this.keyMap_&&(this.keyMap_={},this.count_=0,this.encodedQuery_))for(var sn=this.encodedQuery_.split("&"),ln=0;ln<sn.length;ln++){var cn=sn[ln].indexOf("="),dn=null;if(0<=cn){var pn=sn[ln].substring(0,cn);dn=sn[ln].substring(cn+1)}else pn=sn[ln];pn=decodeURIComponent(pn.replace(/\+/g," ")),dn=dn||"",this.add(pn,decodeURIComponent(dn.replace(/\+/g," ")))}},goog.Uri.QueryData.prototype.keyMap_=null,goog.Uri.QueryData.prototype.count_=null,goog.Uri.QueryData.prototype.getCount=function(){return this.ensureKeyMapInitialized_(),this.count_},goog.Uri.QueryData.prototype.add=function(sn,ln){this.ensureKeyMapInitialized_(),this.encodedQuery_=null;var cn=this.keyMap_.hasOwnProperty(sn)?this.keyMap_[sn]:null;return cn||(this.keyMap_[sn]=cn=[]),cn.push(ln),goog.asserts.assert(this.count_!=null,"Should not be null."),this.count_++,this},goog.Uri.QueryData.prototype.set=function(sn,ln){return this.ensureKeyMapInitialized_(),this.encodedQuery_=null,this.keyMap_.hasOwnProperty(sn)?this.keyMap_[sn]=[ln]:this.add(sn,ln),this},goog.Uri.QueryData.prototype.toString=function(){if(this.encodedQuery_)return this.encodedQuery_;if(!this.keyMap_)return"";var sn=[],ln;for(ln in this.keyMap_)for(var cn=encodeURIComponent(ln),dn=this.keyMap_[ln],pn=0;pn<dn.length;pn++){var vn=cn;dn[pn]!==""&&(vn+="="+encodeURIComponent(dn[pn])),sn.push(vn)}return this.encodedQuery_=sn.join("&")},goog.Uri.QueryData.prototype.toDecodedString=function(){return goog.Uri.decodeOrEmpty_(this.toString())},goog.Uri.QueryData.prototype.clone=function(){var sn=new goog.Uri.QueryData;if(sn.encodedQuery_=this.encodedQuery_,this.keyMap_){var ln={},cn;for(cn in this.keyMap_)ln[cn]=this.keyMap_[cn].concat();sn.keyMap_=ln,sn.count_=this.count_}return sn},shaka.util.Error=function(sn,ln,cn){var dn=$jscomp.getRestArguments.apply(3,arguments);if(this.severity=sn,this.category=ln,this.code=cn,this.data=dn,this.handled=!1,goog.DEBUG){var pn=dn="UNKNOWN",vn;for(vn in shaka.util.Error.Category)shaka.util.Error.Category[vn]==this.category&&(dn=vn);for(var Sn in shaka.util.Error.Code)shaka.util.Error.Code[Sn]==this.code&&(pn=Sn);if(this.message="Shaka Error "+dn+"."+pn+" ("+this.data.toString()+")",shaka.util.Error.createStack)try{throw Error(this.message)}catch(En){this.stack=En.stack}}},shaka.util.Error.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},goog.exportSymbol("shaka.util.Error",shaka.util.Error),goog.DEBUG&&(shaka.util.Error.createStack=!0),shaka.util.Error.Severity={RECOVERABLE:1,CRITICAL:2},goog.exportProperty(shaka.util.Error,"Severity",shaka.util.Error.Severity),shaka.util.Error.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},goog.exportProperty(shaka.util.Error,"Category",shaka.util.Error.Category),shaka.util.Error.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,SEGMENT_MISSING:1011,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,CHAPTERS_TRACK_FAILED:2015,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_SRC_EQUALS:2016,UNSUPPORTED_EXTERNAL_THUMBNAILS_URI:2017,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED:4040,HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4041,NO_WEB_CRYPTO_API:4042,HLS_AES_128_INVALID_IV_LENGTH:4043,HLS_AES_128_INVALID_KEY_LENGTH:4044,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM:4045,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,SERVER_CERTIFICATE_REQUEST_FAILED:6017,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,MODIFY_OPERATION_NOT_SUPPORTED:9016,INDEXED_DB_INIT_TIMED_OUT:9017,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004},goog.exportProperty(shaka.util.Error,"Code",shaka.util.Error.Code),shaka.util.Functional=function(){},shaka.util.Functional.createFallbackPromiseChain=function(sn,ln){return sn.reduce(function(cn,dn){return cn.catch(function(){return ln(dn)})},Promise.reject())},shaka.util.Functional.collapseArrays=function(sn,ln){return sn.concat(ln)},shaka.util.Functional.ignored=function(){},shaka.util.Functional.noop=function(){},shaka.util.Functional.isNotNull=function(sn){return sn!=null},shaka.util.ManifestParserUtils=function(){},shaka.util.ManifestParserUtils.resolveUris=function(sn,ln){var cn=shaka.util.Functional;if(ln.length==0)return sn;var dn=ln.map(function(pn){return new goog.Uri(pn)});return sn.map(function(pn){return new goog.Uri(pn)}).map(function(pn){return dn.map(function(vn){return pn.resolve(vn)})}).reduce(cn.collapseArrays,[]).map(function(pn){return pn.toString()})},shaka.util.ManifestParserUtils.createDrmInfo=function(sn,ln){return{keySystem:sn,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:ln||[],keyIds:new Set}},shaka.util.ManifestParserUtils.guessCodecs=function(sn,ln){if(ln.length==1)return ln[0];if(sn=shaka.util.ManifestParserUtils.guessCodecsSafe(sn,ln),sn!=null)return sn;throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_COULD_NOT_GUESS_CODECS,ln)},shaka.util.ManifestParserUtils.guessCodecsSafe=function(sn,ln){for(var cn=$jscomp.makeIterator(shaka.util.ManifestParserUtils.CODEC_REGEXPS_BY_CONTENT_TYPE_[sn]),dn=cn.next();!dn.done;dn=cn.next()){dn=dn.value;for(var pn=$jscomp.makeIterator(ln),vn=pn.next();!vn.done;vn=pn.next())if(vn=vn.value,dn.test(vn.trim()))return vn.trim()}return sn==shaka.util.ManifestParserUtils.ContentType.TEXT?"":null},shaka.util.ManifestParserUtils.ContentType={VIDEO:"video",AUDIO:"audio",TEXT:"text",IMAGE:"image",APPLICATION:"application"},shaka.util.ManifestParserUtils.TextStreamKind={SUBTITLE:"subtitle",CLOSED_CAPTION:"caption"},shaka.util.ManifestParserUtils.GAP_OVERLAP_TOLERANCE_SECONDS=1/15,shaka.util.ManifestParserUtils.VIDEO_CODEC_REGEXPS_=[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av01/,/^dvhe/],shaka.util.ManifestParserUtils.AUDIO_CODEC_REGEXPS_=[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4$/,/^dts[cex]$/],shaka.util.ManifestParserUtils.TEXT_CODEC_REGEXPS_=[/^vtt$/,/^wvtt/,/^stpp/],shaka.util.ManifestParserUtils.CODEC_REGEXPS_BY_CONTENT_TYPE_={audio:shaka.util.ManifestParserUtils.AUDIO_CODEC_REGEXPS_,video:shaka.util.ManifestParserUtils.VIDEO_CODEC_REGEXPS_,text:shaka.util.ManifestParserUtils.TEXT_CODEC_REGEXPS_},shaka.util.LanguageUtils=function(){},shaka.util.LanguageUtils.areLocaleCompatible=function(sn,ln){var cn=shaka.util.LanguageUtils;return sn=cn.normalize(sn),ln=cn.normalize(ln),sn==ln},shaka.util.LanguageUtils.areLanguageCompatible=function(sn,ln){var cn=shaka.util.LanguageUtils;return sn=cn.normalize(sn),ln=cn.normalize(ln),sn=cn.disassembleLocale_(sn),ln=cn.disassembleLocale_(ln),sn[0]==ln[0]},shaka.util.LanguageUtils.isParentOf=function(sn,ln){var cn=shaka.util.LanguageUtils;return sn=cn.normalize(sn),ln=cn.normalize(ln),sn=cn.disassembleLocale_(sn),ln=cn.disassembleLocale_(ln),sn[0]==ln[0]&&sn.length==1&&ln.length==2},shaka.util.LanguageUtils.isSiblingOf=function(sn,ln){var cn=shaka.util.LanguageUtils;return sn=cn.normalize(sn),ln=cn.normalize(ln),sn=cn.disassembleLocale_(sn),ln=cn.disassembleLocale_(ln),sn.length==2&&ln.length==2&&sn[0]==ln[0]},shaka.util.LanguageUtils.normalize=function(sn){var ln=shaka.util.LanguageUtils,cn=sn.split("-");return sn=cn[0]||"",cn=cn[1]||"",sn=sn.toLowerCase(),sn=ln.isoMap_.get(sn)||sn,(cn=cn.toUpperCase())?sn+"-"+cn:sn},shaka.util.LanguageUtils.areSiblings=function(sn,ln){var cn=shaka.util.LanguageUtils,dn=cn.getBase(sn);return cn=cn.getBase(ln),sn!=dn&&ln!=cn&&dn==cn},shaka.util.LanguageUtils.relatedness=function(sn,ln){var cn=shaka.util.LanguageUtils;return sn=cn.normalize(sn),ln=cn.normalize(ln),ln==sn?4:cn.isParentOf(ln,sn)?3:cn.isSiblingOf(ln,sn)?2:cn.isParentOf(sn,ln)?1:0},shaka.util.LanguageUtils.getBase=function(sn){var ln=shaka.util.LanguageUtils,cn=sn.indexOf("-");return sn=0<=cn?sn.substring(0,cn):sn,sn=sn.toLowerCase(),sn=ln.isoMap_.get(sn)||sn},shaka.util.LanguageUtils.getLocaleForText=function(sn){var ln=shaka.util.LanguageUtils;return goog.asserts.assert(sn.type==shaka.util.ManifestParserUtils.ContentType.TEXT,"Can only get language from text streams"),ln.normalize(sn.language||"und")},shaka.util.LanguageUtils.getLocaleForVariant=function(sn){var ln=shaka.util.LanguageUtils;return sn.language?ln.normalize(sn.language):sn.audio&&sn.audio.language?ln.normalize(sn.audio.language):sn.video&&sn.video.language?ln.normalize(sn.video.language):"und"},shaka.util.LanguageUtils.findClosestLocale=function(sn,ln){var cn=shaka.util.LanguageUtils;sn=cn.normalize(sn);var dn=new Set,pn=$jscomp.makeIterator(ln);for(ln=pn.next();!ln.done;ln=pn.next())dn.add(cn.normalize(ln.value));for(pn=$jscomp.makeIterator(dn),ln=pn.next();!ln.done;ln=pn.next())if(ln=ln.value,ln==sn)return ln;for(pn=$jscomp.makeIterator(dn),ln=pn.next();!ln.done;ln=pn.next())if(ln=ln.value,cn.isParentOf(ln,sn))return ln;for(pn=$jscomp.makeIterator(dn),ln=pn.next();!ln.done;ln=pn.next())if(ln=ln.value,cn.isSiblingOf(ln,sn))return ln;for(dn=$jscomp.makeIterator(dn),ln=dn.next();!ln.done;ln=dn.next())if(ln=ln.value,cn.isParentOf(sn,ln))return ln;return null},shaka.util.LanguageUtils.disassembleLocale_=function(sn){var ln=sn.split("-");return goog.asserts.assert(2>=ln.length,["Locales should not have more than 2 components. ",sn," has too many components."].join()),ln},goog.exportSymbol("shaka.util.LanguageUtils",shaka.util.LanguageUtils),goog.exportProperty(shaka.util.LanguageUtils,"findClosestLocale",shaka.util.LanguageUtils.findClosestLocale),goog.exportProperty(shaka.util.LanguageUtils,"getLocaleForVariant",shaka.util.LanguageUtils.getLocaleForVariant),goog.exportProperty(shaka.util.LanguageUtils,"getLocaleForText",shaka.util.LanguageUtils.getLocaleForText),goog.exportProperty(shaka.util.LanguageUtils,"getBase",shaka.util.LanguageUtils.getBase),goog.exportProperty(shaka.util.LanguageUtils,"relatedness",shaka.util.LanguageUtils.relatedness),goog.exportProperty(shaka.util.LanguageUtils,"areSiblings",shaka.util.LanguageUtils.areSiblings),goog.exportProperty(shaka.util.LanguageUtils,"normalize",shaka.util.LanguageUtils.normalize),goog.exportProperty(shaka.util.LanguageUtils,"isSiblingOf",shaka.util.LanguageUtils.isSiblingOf),goog.exportProperty(shaka.util.LanguageUtils,"isParentOf",shaka.util.LanguageUtils.isParentOf),goog.exportProperty(shaka.util.LanguageUtils,"areLanguageCompatible",shaka.util.LanguageUtils.areLanguageCompatible),goog.exportProperty(shaka.util.LanguageUtils,"areLocaleCompatible",shaka.util.LanguageUtils.areLocaleCompatible),shaka.util.LanguageUtils.isoMap_=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]),shaka.ui={},shaka.ui.Localization=function(sn){shaka.util.FakeEventTarget.call(this),this.fallbackLocale_=shaka.util.LanguageUtils.normalize(sn),this.currentMap_=new Map,this.currentLocales_=new Set,this.localizations_=new Map},$jscomp.inherits(shaka.ui.Localization,shaka.util.FakeEventTarget),shaka.ui.Localization.prototype.release=function(){shaka.util.FakeEventTarget.prototype.release.call(this)},shaka.ui.Localization.prototype.changeLocale=function(sn){var ln=this,cn=shaka.ui.Localization;this.currentLocales_.clear(),sn=$jscomp.makeIterator(sn);for(var dn=sn.next();!dn.done;dn=sn.next())this.currentLocales_.add(shaka.util.LanguageUtils.normalize(dn.value));this.updateCurrentMap_(),sn=shaka.util.Iterables.filter(this.currentLocales_,function(pn){return!ln.localizations_.has(pn)}),sn.length&&this.dispatchEvent(new shaka.util.FakeEvent(cn.UNKNOWN_LOCALES,new Map().set("locales",sn))),sn=shaka.util.Iterables.filter(this.currentLocales_,function(pn){return ln.localizations_.has(pn)}),sn=new Map().set("locales",sn.length?sn:[this.fallbackLocale_]),this.dispatchEvent(new shaka.util.FakeEvent(cn.LOCALE_CHANGED,sn))},shaka.ui.Localization.prototype.insert=function(sn,ln,cn){var dn=shaka.ui.Localization,pn=shaka.ui.Localization.ConflictResolution,vn=shaka.util.FakeEvent;sn=shaka.util.LanguageUtils.normalize(sn),cn===void 0&&(cn=pn.USE_NEW);var Sn=this.localizations_.get(sn)||new Map;return ln.forEach(function(En,Cn){Sn.has(Cn)&&cn!=pn.USE_NEW||Sn.set(Cn,En)}),this.localizations_.set(sn,Sn),this.updateCurrentMap_(),this.dispatchEvent(new vn(dn.LOCALE_UPDATED)),this},shaka.ui.Localization.prototype.resolveDictionary=function(sn){for(var ln=$jscomp.makeIterator(sn.keys()),cn=ln.next();!cn.done;cn=ln.next())cn=cn.value,sn.set(cn,this.resolve(cn))},shaka.ui.Localization.prototype.resolve=function(sn){var ln=shaka.ui.Localization,cn=shaka.util.FakeEvent,dn=this.currentMap_.get(sn);return dn||(sn=new Map().set("locales",Array.from(this.currentLocales_)).set("missing",sn),this.dispatchEvent(new cn(ln.UNKNOWN_LOCALIZATION,sn)),"")},shaka.ui.Localization.prototype.updateCurrentMap_=function(){for(var sn=this,ln=shaka.util.LanguageUtils,cn=this.localizations_,dn=this.fallbackLocale_,pn=this.currentLocales_,vn=new Set,Sn={},En=$jscomp.makeIterator(pn),Cn=En.next();!Cn.done;Sn={$jscomp$loop$prop$locale$678:Sn.$jscomp$loop$prop$locale$678},Cn=En.next()){Sn.$jscomp$loop$prop$locale$678=Cn.value,vn.add(Sn.$jscomp$loop$prop$locale$678),vn.add(ln.getBase(Sn.$jscomp$loop$prop$locale$678)),Cn=shaka.util.Iterables.filter(cn.keys(),function(Rn){return function(Ln){return ln.areSiblings(Ln,Rn.$jscomp$loop$prop$locale$678)}}(Sn)),Cn.sort();var Pn=$jscomp.makeIterator(Cn);for(Cn=Pn.next();!Cn.done;Cn=Pn.next())vn.add(Cn.value);for(Cn=shaka.util.Iterables.filter(cn.keys(),function(Rn){return function(Ln){return ln.getBase(Ln)==Rn.$jscomp$loop$prop$locale$678}}(Sn)),Cn.sort(),Pn=$jscomp.makeIterator(Cn),Cn=Pn.next();!Cn.done;Cn=Pn.next())vn.add(Cn.value)}for(vn.add(dn),dn=[],vn=$jscomp.makeIterator(vn),Cn=vn.next();!Cn.done;Cn=vn.next())(Cn=cn.get(Cn.value))&&dn.push(Cn);for(dn.reverse(),this.currentMap_.clear(),cn=$jscomp.makeIterator(dn),Cn=cn.next();!Cn.done;Cn=cn.next())Cn.value.forEach(function(Rn,Ln){sn.currentMap_.set(Ln,Rn)});for(cn=this.currentMap_.keys(),vn=new Set,dn=$jscomp.makeIterator(this.currentLocales_),Cn=dn.next();!Cn.done;Cn=dn.next())Cn=this.localizations_.get(Cn.value)||new Map,shaka.ui.Localization.findMissingKeys_(Cn,cn,vn);0<vn.size&&(pn=new Map().set("locales",Array.from(pn)).set("missing",Array.from(vn)),this.dispatchEvent(new shaka.util.FakeEvent(shaka.ui.Localization.MISSING_LOCALIZATIONS,pn)))},shaka.ui.Localization.findMissingKeys_=function(sn,ln,cn){ln=$jscomp.makeIterator(ln);for(var dn=ln.next();!dn.done;dn=ln.next())dn=dn.value,sn.get(dn)||cn.add(dn)},goog.exportSymbol("shaka.ui.Localization",shaka.ui.Localization),goog.exportProperty(shaka.ui.Localization.prototype,"resolve",shaka.ui.Localization.prototype.resolve),goog.exportProperty(shaka.ui.Localization.prototype,"resolveDictionary",shaka.ui.Localization.prototype.resolveDictionary),goog.exportProperty(shaka.ui.Localization.prototype,"insert",shaka.ui.Localization.prototype.insert),goog.exportProperty(shaka.ui.Localization.prototype,"changeLocale",shaka.ui.Localization.prototype.changeLocale),goog.exportProperty(shaka.ui.Localization.prototype,"release",shaka.ui.Localization.prototype.release),shaka.ui.Localization.ConflictResolution={USE_OLD:0,USE_NEW:1},goog.exportProperty(shaka.ui.Localization,"ConflictResolution",shaka.ui.Localization.ConflictResolution),shaka.ui.Localization.UNKNOWN_LOCALES="unknown-locales",goog.exportProperty(shaka.ui.Localization,"UNKNOWN_LOCALES",shaka.ui.Localization.UNKNOWN_LOCALES),shaka.ui.Localization.UNKNOWN_LOCALIZATION="unknown-localization",goog.exportProperty(shaka.ui.Localization,"UNKNOWN_LOCALIZATION",shaka.ui.Localization.UNKNOWN_LOCALIZATION),shaka.ui.Localization.MISSING_LOCALIZATIONS="missing-localizations",goog.exportProperty(shaka.ui.Localization,"MISSING_LOCALIZATIONS",shaka.ui.Localization.MISSING_LOCALIZATIONS),shaka.ui.Localization.LOCALE_CHANGED="locale-changed",goog.exportProperty(shaka.ui.Localization,"LOCALE_CHANGED",shaka.ui.Localization.LOCALE_CHANGED),shaka.ui.Localization.LOCALE_UPDATED="locale-updated",goog.exportProperty(shaka.ui.Localization,"LOCALE_UPDATED",shaka.ui.Localization.LOCALE_UPDATED),shaka.ui.Locales={},shaka.ui.Locales.addTo=function(sn){sn.insert("ar",new Map([["AD_DURATION","مدة الإعلان"],["AD_PROGRESS","الإعلان [AD_ON] من [NUM_ADS]"],["AD_TIME","الإعلان: [AD_TIME]"],["AUTO_QUALITY","تلقائي"],["BACK","رجوع"],["CAPTIONS","الترجمة والشرح"],["CAST","إرسال..."],["ENTER_LOOP_MODE","تكرار الفيديو الحالي"],["ENTER_PICTURE_IN_PICTURE",'الدخول في وضع "نافذة ضمن نافذة"'],["EXIT_FULL_SCREEN","إنهاء وضع ملء الشاشة"],["EXIT_LOOP_MODE","إيقاف تكرار الفيديو الحالي"],["EXIT_PICTURE_IN_PICTURE",'الخروج من وضع "نافذة ضمن نافذة"'],["FAST_FORWARD","تقديم سريع"],["FULL_SCREEN","ملء الشاشة"],["LANGUAGE","اللغة"],["LIVE","مباشر"],["LOOP","تكرار"],["MORE_SETTINGS","مزيد من الإعدادات"],["MULTIPLE_LANGUAGES","لغات متعددة"],["MUTE","كتم الصوت"],["NOT_APPLICABLE","غير سارٍ"],["OFF","إيقاف"],["ON","تشغيل"],["PAUSE","إيقاف مؤقت"],["PICTURE_IN_PICTURE","نافذة ضمن النافذة"],["PLAY","التشغيل"],["PLAYBACK_RATE","سرعة التشغيل"],["RESOLUTION","درجة الدقة"],["REWIND","ترجيع"],["SEEK","البحث بالتمرير"],["SKIP_AD","تخطّي الإعلان"],["SKIP_TO_LIVE","الانتقال إلى بث مباشر"],["UNDETERMINED_LANGUAGE","غير محدد"],["UNMUTE","إعادة الصوت"],["UNRECOGNIZED_LANGUAGE","غير معروف"],["VOLUME","مستوى الصوت"]])),sn.insert("de",new Map([["AD_DURATION","Dauer der Werbeanzeige"],["AD_PROGRESS","Werbung [AD_ON] von [NUM_ADS]"],["AD_TIME","Werbeanzeige: [AD_TIME]"],["AUTO_QUALITY","Automatisch"],["BACK","Zurück"],["CAPTIONS","Untertitel"],["CAST","Streamen..."],["ENTER_LOOP_MODE","In Endlosschleife spielen"],["ENTER_PICTURE_IN_PICTURE","Bild-im-Bild-Modus aktivieren"],["EXIT_FULL_SCREEN","Vollbildmodus beenden"],["EXIT_LOOP_MODE","Endlosschleife stoppen"],["EXIT_PICTURE_IN_PICTURE","Bild-im-Bild-Modus beenden"],["FAST_FORWARD","Vorspulen"],["FULL_SCREEN","Vollbildmodus"],["LANGUAGE","Sprache"],["LIVE","Live"],["LOOP","Schleife"],["MORE_SETTINGS","Weitere Einstellungen"],["MULTIPLE_LANGUAGES","Mehrere Sprachen"],["MUTE","Stummschalten"],["NOT_APPLICABLE","Nicht zutreffend"],["OFF","Aus"],["ON","Ein"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Bild im Bild"],["PLAY","Wiedergabe"],["PLAYBACK_RATE","Geschwindigkeit"],["RESOLUTION","Auflösung"],["REWIND","Zurückspulen"],["SEEK","Suche"],["SKIP_AD","Überspringen"],["SKIP_TO_LIVE","Zum Live-Videostream wechseln"],["UNDETERMINED_LANGUAGE","Unbestimmt"],["UNMUTE","Stummschaltung aufheben"],["UNRECOGNIZED_LANGUAGE","Unbekannt"],["VOLUME","Lautstärke"]])),sn.insert("en",new Map([["AD_DURATION","Ad duration"],["AD_PROGRESS","Ad [AD_ON] of [NUM_ADS]"],["AD_TIME","Ad: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Auto"],["BACK","Back"],["CAPTIONS","Captions"],["CAST","Cast..."],["ENTER_LOOP_MODE","Loop the current video"],["ENTER_PICTURE_IN_PICTURE","Enter Picture-in-Picture"],["EXIT_FULL_SCREEN","Exit full screen"],["EXIT_LOOP_MODE","Stop looping the current video"],["EXIT_PICTURE_IN_PICTURE","Exit Picture-in-Picture"],["FAST_FORWARD","Fast-forward"],["FULL_SCREEN","Full screen"],["LANGUAGE","Language"],["LIVE","Live"],["LOOP","Loop"],["MORE_SETTINGS","More settings"],["MULTIPLE_LANGUAGES","Multiple languages"],["MUTE","Mute"],["NOT_APPLICABLE","Not applicable"],["OFF","Off"],["ON","On"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-Picture"],["PLAY","Play"],["PLAYBACK_RATE","Playback speed"],["QUALITY","Quality"],["REPLAY","Replay"],["RESOLUTION","Resolution"],["REWIND","Rewind"],["SEEK","Seek"],["SKIP_AD","Skip Ad"],["SKIP_TO_LIVE","Skip ahead to live"],["STATISTICS","Statistics"],["SUBTITLE_FORCED","Forced"],["UNDETERMINED_LANGUAGE","Undetermined"],["UNMUTE","Unmute"],["UNRECOGNIZED_LANGUAGE","Unrecognized"],["VOLUME","Volume"]])),sn.insert("en-GB",new Map([["AD_DURATION","Ad duration"],["AD_PROGRESS","Ad [AD_ON] of [NUM_ADS]"],["AD_TIME","Ad: [AD_TIME]"],["AUTO_QUALITY","Auto"],["BACK","Back"],["CAPTIONS","Captions"],["CAST","Cast..."],["ENTER_LOOP_MODE","Loop the current video"],["ENTER_PICTURE_IN_PICTURE","Enter picture-in-picture"],["EXIT_FULL_SCREEN","Exit full screen"],["EXIT_LOOP_MODE","Stop looping the current video"],["EXIT_PICTURE_IN_PICTURE","Exit picture-in-picture"],["FAST_FORWARD","Fast-forward"],["FULL_SCREEN","Full screen"],["LANGUAGE","Language"],["LIVE","Live"],["LOOP","Loop"],["MORE_SETTINGS","More settings"],["MULTIPLE_LANGUAGES","Multiple languages"],["MUTE","Mute"],["NOT_APPLICABLE","Not applicable"],["OFF","Off"],["ON","On"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-picture"],["PLAY","Play"],["PLAYBACK_RATE","Playback speed"],["RESOLUTION","Resolution"],["REWIND","Rewind"],["SEEK","Seek"],["SKIP_AD","Skip ad"],["SKIP_TO_LIVE","Skip ahead to live"],["UNDETERMINED_LANGUAGE","Undetermined"],["UNMUTE","Unmute"],["UNRECOGNIZED_LANGUAGE","Unrecognised"],["VOLUME","volume"]])),sn.insert("es",new Map([["AD_DURATION","Duración del anuncio"],["AD_PROGRESS","Anuncio [AD_ON] de [NUM_ADS]"],["AD_TIME","Anuncio: [AD_TIME]"],["AUTO_QUALITY","Automático"],["BACK","Atrás"],["CAPTIONS","Subtítulos"],["CAST","Enviar..."],["ENTER_LOOP_MODE","Reproducir en bucle el vídeo actual"],["ENTER_PICTURE_IN_PICTURE","Activar el modo imagen en imagen"],["EXIT_FULL_SCREEN","Salir del modo de pantalla completa"],["EXIT_LOOP_MODE","Dejar de reproducir en bucle el vídeo actual"],["EXIT_PICTURE_IN_PICTURE","Salir del modo imagen en imagen"],["FAST_FORWARD","Avanzar rápidamente"],["FULL_SCREEN","Pantalla completa"],["LANGUAGE","Idioma"],["LIVE","En directo"],["LOOP","Reproducir en bucle"],["MORE_SETTINGS","Más ajustes"],["MULTIPLE_LANGUAGES","Varios idiomas"],["MUTE","Silenciar"],["NOT_APPLICABLE","No aplicable"],["OFF","Desactivado"],["ON","Activado"],["PAUSE","Pausar"],["PICTURE_IN_PICTURE","Imagen en imagen"],["PLAY","Reproducir"],["PLAYBACK_RATE","Velocidad de reproducción"],["RESOLUTION","Resolución"],["REWIND","Rebobinar"],["SEEK","Buscar"],["SKIP_AD","Saltar anuncio"],["SKIP_TO_LIVE","Ir al vídeo en directo"],["SUBTITLE_FORCED","Forzado"],["UNDETERMINED_LANGUAGE","Sin especificar"],["UNMUTE","Activar sonido"],["UNRECOGNIZED_LANGUAGE","No reconocida"],["VOLUME","Volumen"]])),sn.insert("es-419",new Map([["AD_DURATION","Duración del anuncio"],["AD_PROGRESS","Anuncio [AD_ON] de [NUM_ADS]"],["AD_TIME","Anuncio: [AD_TIME]"],["AUTO_QUALITY","Automático"],["BACK","Atrás"],["CAPTIONS","Subtítulos"],["CAST","Transmitir..."],["ENTER_LOOP_MODE","Repetir indefinidamente el video actual"],["ENTER_PICTURE_IN_PICTURE","Ingresar al modo de pantalla en pantalla"],["EXIT_FULL_SCREEN","Salir de pantalla completa"],["EXIT_LOOP_MODE","Detener la repetición indefinida del video actual"],["EXIT_PICTURE_IN_PICTURE","Salir del modo de pantalla en pantalla"],["FAST_FORWARD","Avanzar"],["FULL_SCREEN","Pantalla completa"],["LANGUAGE","Idioma"],["LIVE","En directo"],["LOOP","Repetir indefinidamente"],["MORE_SETTINGS","Más opciones de configuración"],["MULTIPLE_LANGUAGES","Varios idiomas"],["MUTE","Silenciar"],["NOT_APPLICABLE","No aplicable"],["OFF","Desactivado"],["ON","Activado"],["PAUSE","Detener"],["PICTURE_IN_PICTURE","Pantalla en pantalla"],["PLAY","Reproducir"],["PLAYBACK_RATE","Velocidad de reproducción"],["RESOLUTION","Resolución"],["REWIND","Retroceder"],["SEEK","Buscar"],["SKIP_AD","Omitir anuncio"],["SKIP_TO_LIVE","Adelantar hasta la transmisión en vivo"],["SUBTITLE_FORCED","Forzado"],["UNDETERMINED_LANGUAGE","Sin especificar"],["UNMUTE","Dejar de silenciar"],["UNRECOGNIZED_LANGUAGE","No reconocida"],["VOLUME","Volumen"]])),sn.insert("fr",new Map([["AD_DURATION","Durée de l'annonce"],["AD_PROGRESS","Annonce [AD_ON] sur [NUM_ADS]"],["AD_TIME","Annonce : [AD_TIME]"],["AUTO_QUALITY","Automatique"],["BACK","Retour"],["CAPTIONS","Sous-titres"],["CAST","Caster…"],["ENTER_LOOP_MODE","Lire en boucle la vidéo en cours"],["ENTER_PICTURE_IN_PICTURE","Utiliser le mode Picture-in-Picture"],["EXIT_FULL_SCREEN","Quitter le mode plein écran"],["EXIT_LOOP_MODE","Arrêter la lecture en boucle de la vidéo en cours"],["EXIT_PICTURE_IN_PICTURE","Quitter le mode PIP (Picture-in-picture)"],["FAST_FORWARD","Avance rapide"],["FULL_SCREEN","Plein écran"],["LANGUAGE","Langue"],["LIVE","En direct"],["LOOP","Répéter"],["MORE_SETTINGS","Plus de paramètres"],["MULTIPLE_LANGUAGES","Plusieurs langues"],["MUTE","Couper le son"],["NOT_APPLICABLE","Non applicable"],["OFF","Désactivée"],["ON","Activée"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-Picture"],["PLAY","Visionner"],["PLAYBACK_RATE","Vitesse de lecture"],["RESOLUTION","Résolution"],["REWIND","Retour arrière"],["SEEK","Chercher"],["SKIP_AD","Passer l'annonce"],["SKIP_TO_LIVE","Accéder à la partie la plus récente du direct"],["UNDETERMINED_LANGUAGE","Langue indéterminée"],["UNMUTE","Réactiver le son"],["UNRECOGNIZED_LANGUAGE","Non reconnu"],["VOLUME","Volume"]])),sn.insert("it",new Map([["AD_DURATION","Durata dell'annuncio"],["AD_PROGRESS","Annuncio [AD_ON] di [NUM_ADS]"],["AD_TIME","Annuncio: [AD_TIME]"],["AUTO_QUALITY","Automatica"],["BACK","Indietro"],["CAPTIONS","Sottotitoli"],["CAST","Trasmetti..."],["ENTER_LOOP_MODE","Riproduci in loop il video corrente"],["ENTER_PICTURE_IN_PICTURE","Attiva Picture in picture"],["EXIT_FULL_SCREEN","Esci da schermo intero"],["EXIT_LOOP_MODE","Interrompi riproduzione in loop del video corrente"],["EXIT_PICTURE_IN_PICTURE","Esci da Picture in picture"],["FAST_FORWARD","Avanti veloce"],["FULL_SCREEN","Schermo intero"],["LANGUAGE","Lingua"],["LIVE","Dal vivo"],["LOOP","Riproduci in loop"],["MORE_SETTINGS","Altre impostazioni"],["MULTIPLE_LANGUAGES","Più lingue"],["MUTE","Disattiva audio"],["NOT_APPLICABLE","Non applicabile"],["OFF","Disattivo"],["ON","Attivo"],["PAUSE","Metti in pausa"],["PICTURE_IN_PICTURE","Picture in picture"],["PLAY","Riproduci"],["PLAYBACK_RATE","Velocità di riproduzione"],["RESOLUTION","Risoluzione"],["REWIND","Riavvolgi"],["SEEK","Cerca"],["SKIP_AD","Salta annuncio"],["SKIP_TO_LIVE","Passa alla trasmissione dal vivo"],["UNDETERMINED_LANGUAGE","Indeterminata"],["UNMUTE","Riattiva audio"],["UNRECOGNIZED_LANGUAGE","Non riconosciuto"],["VOLUME","Volume"]])),sn.insert("ja",new Map([["AD_DURATION","広告再生時間"],["AD_PROGRESS","[AD_ON] 番目の広告（全 [NUM_ADS] 個）"],["AD_TIME","広告: [AD_TIME]"],["AUTO_QUALITY","自動"],["BACK","戻る"],["CAPTIONS","字幕"],["CAST","キャスト..."],["ENTER_LOOP_MODE","現在の動画をループ再生"],["ENTER_PICTURE_IN_PICTURE","ピクチャー イン ピクチャーを開始"],["EXIT_FULL_SCREEN","全画面表示を終了"],["EXIT_LOOP_MODE","現在の動画のループ再生を停止"],["EXIT_PICTURE_IN_PICTURE","ピクチャー イン ピクチャーを終了"],["FAST_FORWARD","早送り"],["FULL_SCREEN","全画面表示"],["LANGUAGE","言語"],["LIVE","ライブ"],["LOOP","ループ"],["MORE_SETTINGS","詳細設定"],["MULTIPLE_LANGUAGES","多言語"],["MUTE","ミュート"],["NOT_APPLICABLE","該当なし"],["OFF","オフ"],["ON","オン"],["PAUSE","一時停止"],["PICTURE_IN_PICTURE","ピクチャー イン ピクチャー"],["PLAY","再生"],["PLAYBACK_RATE","再生速度"],["RESOLUTION","解像度"],["REWIND","巻き戻し"],["SEEK","シーク再生"],["SKIP_AD","広告をスキップ"],["SKIP_TO_LIVE","ライブ配信までスキップ"],["UNDETERMINED_LANGUAGE","不明"],["UNMUTE","ミュートを解除"],["UNRECOGNIZED_LANGUAGE","不明"],["VOLUME","音量"]])),sn.insert("ko",new Map([["AD_DURATION","광고 기간"],["AD_PROGRESS","광고 [AD_ON]/[NUM_ADS]"],["AD_TIME","광고: [AD_TIME]"],["AUTO_QUALITY","자동"],["BACK","뒤로"],["CAPTIONS","자막"],["CAST","전송..."],["ENTER_LOOP_MODE","현재 동영상 반복 재생"],["ENTER_PICTURE_IN_PICTURE","PIP 모드 시작"],["EXIT_FULL_SCREEN","전체화면 닫기"],["EXIT_LOOP_MODE","현재 동영상 반복 재생 중지"],["EXIT_PICTURE_IN_PICTURE","PIP 모드 종료"],["FAST_FORWARD","빨리 감기"],["FULL_SCREEN","전체화면"],["LANGUAGE","언어"],["LIVE","실시간"],["LOOP","반복 재생"],["MORE_SETTINGS","설정 더보기"],["MULTIPLE_LANGUAGES","여러 언어"],["MUTE","음소거"],["NOT_APPLICABLE","해당 사항 없음"],["OFF","사용 안함"],["ON","사용"],["PAUSE","일시중지"],["PICTURE_IN_PICTURE","PIP 모드"],["PLAY","재생"],["PLAYBACK_RATE","재생 속도"],["RESOLUTION","해상도"],["REWIND","되감기"],["SEEK","찾기"],["SKIP_AD","광고 건너뛰기"],["SKIP_TO_LIVE","라이브 동영상으로 건너뛰기"],["UNDETERMINED_LANGUAGE","미정"],["UNMUTE","음소거 해제"],["UNRECOGNIZED_LANGUAGE","알 수 없음"],["VOLUME","볼륨"]])),sn.insert("nl",new Map([["AD_DURATION","Advertentieduur"],["AD_PROGRESS","Advertentie [AD_ON] van [NUM_ADS]"],["AD_TIME","Advertentie: [AD_TIME]"],["AUTO_QUALITY","Automatisch"],["BACK","Terug"],["CAPTIONS","Ondertiteling"],["CAST","Casten..."],["ENTER_LOOP_MODE","De huidige video lussen"],["ENTER_PICTURE_IN_PICTURE","Scherm-in-scherm openen"],["EXIT_FULL_SCREEN","Volledig scherm sluiten"],["EXIT_LOOP_MODE","De huidige video niet meer lussen"],["EXIT_PICTURE_IN_PICTURE","Scherm-in-scherm afsluiten"],["FAST_FORWARD","Vooruitspoelen"],["FULL_SCREEN","Volledig scherm"],["LANGUAGE","Taal"],["LIVE","Live"],["LOOP","Lussen"],["MORE_SETTINGS","Meer instellingen"],["MULTIPLE_LANGUAGES","Meerdere talen"],["MUTE","Dempen"],["NOT_APPLICABLE","Niet van toepassing"],["OFF","Uit"],["ON","Aan"],["PAUSE","Onderbreken"],["PICTURE_IN_PICTURE","Scherm-in-scherm"],["PLAY","Afspelen"],["PLAYBACK_RATE","Afspeelsnelheid"],["RESOLUTION","Resolutie"],["REWIND","Terugspoelen"],["SEEK","Zoeken"],["SKIP_AD","Advertentie overslaan"],["SKIP_TO_LIVE","Doorgaan naar live"],["UNDETERMINED_LANGUAGE","Onbepaald"],["UNMUTE","Dempen opheffen"],["UNRECOGNIZED_LANGUAGE","Onbekend"],["VOLUME","Volume"]])),sn.insert("pl",new Map([["AD_DURATION","Czas trwania reklamy"],["AD_PROGRESS","Reklama [AD_ON] z [NUM_ADS]"],["AD_TIME","Reklama: [AD_TIME]"],["AUTO_QUALITY","Automatycznie"],["BACK","Wstecz"],["CAPTIONS","Napisy"],["CAST","Przesyłaj..."],["ENTER_LOOP_MODE","Odtwarzaj bieżący film w pętli"],["ENTER_PICTURE_IN_PICTURE","Włącz tryb obrazu w obrazie"],["EXIT_FULL_SCREEN","Zamknij pełny ekran"],["EXIT_LOOP_MODE","Wyłącz odtwarzanie bieżącego filmu w pętli"],["EXIT_PICTURE_IN_PICTURE","Wyłącz tryb obrazu w obrazie"],["FAST_FORWARD","Przewiń do przodu"],["FULL_SCREEN","Pełny ekran"],["LANGUAGE","Język"],["LIVE","Na żywo"],["LOOP","Odtwarzaj w pętli"],["MORE_SETTINGS","Więcej ustawień"],["MULTIPLE_LANGUAGES","Wiele języków"],["MUTE","Wycisz"],["NOT_APPLICABLE","Nie dotyczy"],["OFF","Wyłączone"],["ON","Włączone"],["PAUSE","Wstrzymaj"],["PICTURE_IN_PICTURE","Obraz w obrazie"],["PLAY","Odtwórz"],["PLAYBACK_RATE","Szybkość odtwarzania"],["RESOLUTION","Rozdzielczość"],["REWIND","Przewiń do tyłu"],["SEEK","Szukaj"],["SKIP_AD","Pomiń reklamę"],["SKIP_TO_LIVE","Przejdź do transmisji na żywo"],["UNDETERMINED_LANGUAGE","Nie określono"],["UNMUTE","Wyłącz wyciszenie"],["UNRECOGNIZED_LANGUAGE","Nierozpoznany"],["VOLUME","Głośność"]])),sn.insert("pt-BR",new Map([["AD_DURATION","Duração do anúncio"],["AD_PROGRESS","Anúncio [AD_ON] de [NUM_ADS]"],["AD_TIME","Anúncio: [AD_TIME]"],["AUTO_QUALITY","Automática"],["BACK","Voltar"],["CAPTIONS","Legendas"],["CAST","Transmitir..."],["ENTER_LOOP_MODE","Repetir o vídeo atual"],["ENTER_PICTURE_IN_PICTURE","Entrar no modo picture-in-picture"],["EXIT_FULL_SCREEN","Sair do modo tela cheia"],["EXIT_LOOP_MODE","Parar repetição do vídeo atual"],["EXIT_PICTURE_IN_PICTURE","Sair de picture-in-picture"],["FAST_FORWARD","Avançar"],["FULL_SCREEN","Tela cheia"],["LANGUAGE","Idioma"],["LIVE","Ao vivo"],["LOOP","Repetir"],["MORE_SETTINGS","Mais definições"],["MULTIPLE_LANGUAGES","Vários idiomas"],["MUTE","Desativar som"],["NOT_APPLICABLE","Não relevante"],["OFF","Desativado"],["ON","Ativado"],["PAUSE","Pausar"],["PICTURE_IN_PICTURE","Picture-in-picture"],["PLAY","Reproduzir"],["PLAYBACK_RATE","Velocidade da reprodução"],["RESOLUTION","Resolução"],["REWIND","Retroceder"],["SEEK","Procurar"],["SKIP_AD","Pular anúncio"],["SKIP_TO_LIVE","Pular para transmissão ao vivo"],["UNDETERMINED_LANGUAGE","Indeterminado"],["UNMUTE","Ativar som"],["UNRECOGNIZED_LANGUAGE","Não reconhecido"],["VOLUME","Volume"]])),sn.insert("ru",new Map([["AD_DURATION","Продолжительность рекламы"],["AD_PROGRESS","Реклама [AD_ON] из [NUM_ADS]"],["AD_TIME","Реклама: [AD_TIME]"],["AUTO_QUALITY","Авто"],["BACK","Назад"],["CAPTIONS","Субтитры"],["CAST","Транслировать..."],["ENTER_LOOP_MODE","Зациклить текущее видео"],["ENTER_PICTURE_IN_PICTURE",'Перейти в режим "Картинка в картинке"'],["EXIT_FULL_SCREEN","Обычный режим"],["EXIT_LOOP_MODE","Отменить зацикливание текущего видео"],["EXIT_PICTURE_IN_PICTURE",'Выйти из режима "Картинка в картинке"'],["FAST_FORWARD","Перемотка вперед"],["FULL_SCREEN","Полноэкранный режим"],["LANGUAGE","Язык"],["LIVE","Прямой эфир"],["LOOP","Зациклить"],["MORE_SETTINGS","Дополнительные настройки"],["MULTIPLE_LANGUAGES","Несколько языков"],["MUTE","Отключить звук"],["NOT_APPLICABLE","Неприменимо"],["OFF","Выкл."],["ON","Вкл."],["PAUSE","Пауза"],["PICTURE_IN_PICTURE","Картинка в картинке"],["PLAY","Воспроизвести"],["PLAYBACK_RATE","Скорость воспроизведения"],["RESOLUTION","Разрешение"],["REWIND","Перемотать назад"],["SEEK","Перемотка"],["SKIP_AD","Пропустить"],["SKIP_TO_LIVE","Пропустить и перейти к прямой трансляции"],["UNDETERMINED_LANGUAGE","Не указано"],["UNMUTE","Включить звук"],["UNRECOGNIZED_LANGUAGE","Не распознано"],["VOLUME","Громкость"]])),sn.insert("th",new Map([["AD_DURATION","ระยะเวลาโฆษณา"],["AD_PROGRESS","โฆษณา [AD_ON] จาก [NUM_ADS] รายการ"],["AD_TIME","โฆษณา: [AD_TIME]"],["AUTO_QUALITY","อัตโนมัติ"],["BACK","กลับ"],["CAPTIONS","คำบรรยาย"],["CAST","แคสต์..."],["ENTER_LOOP_MODE","วนซ้ำวิดีโอปัจจุบัน"],["ENTER_PICTURE_IN_PICTURE","เข้าสู่การแสดงภาพซ้อนภาพ"],["EXIT_FULL_SCREEN","ออกจากการแสดงแบบเต็มหน้าจอ"],["EXIT_LOOP_MODE","หยุดวนซ้ำวิดีโอปัจจุบัน"],["EXIT_PICTURE_IN_PICTURE","ออกจากการแสดงภาพซ้อนภาพ"],["FAST_FORWARD","กรอไปข้างหน้า"],["FULL_SCREEN","เต็มหน้าจอ"],["LANGUAGE","ภาษา"],["LIVE","สด"],["LOOP","ลูป"],["MORE_SETTINGS","การตั้งค่าเพิ่มเติม"],["MULTIPLE_LANGUAGES","หลายภาษา"],["MUTE","ปิดเสียง"],["NOT_APPLICABLE","ไม่เกี่ยวข้อง"],["OFF","ปิด"],["ON","เปิด"],["PAUSE","หยุดชั่วคราว"],["PICTURE_IN_PICTURE","การแสดงภาพซ้อนภาพ"],["PLAY","เล่น"],["PLAYBACK_RATE","ความเร็วในการเล่น"],["RESOLUTION","ความละเอียด"],["REWIND","กรอกลับ"],["SEEK","ค้นหา"],["SKIP_AD","ข้ามโฆษณา"],["SKIP_TO_LIVE","ข้ามไปที่การถ่ายทอดสด"],["UNDETERMINED_LANGUAGE","ไม่กำหนด"],["UNMUTE","เปิดเสียง"],["UNRECOGNIZED_LANGUAGE","ที่ไม่รู้จัก"],["VOLUME","ระดับเสียง"]])),sn.insert("tr",new Map([["AD_DURATION","Reklam süresi"],["AD_PROGRESS","[AD_ON]/[NUM_ADS] reklam"],["AD_TIME","Reklam: [AD_TIME]"],["AUTO_QUALITY","Otomatik"],["BACK","Geri"],["CAPTIONS","Altyazılar"],["CAST","Yayınla..."],["ENTER_LOOP_MODE","Mevcut videoyu döngüye al"],["ENTER_PICTURE_IN_PICTURE","Pencere içinde Pencere moduna gir"],["EXIT_FULL_SCREEN","Tam ekrandan çık"],["EXIT_LOOP_MODE","Mevcut videonun döngüsünü durdur"],["EXIT_PICTURE_IN_PICTURE","Pencere İçinde Pencereden Çık"],["FAST_FORWARD","İleri sar"],["FULL_SCREEN","Tam ekran"],["LANGUAGE","Dil"],["LIVE","Canlı"],["LOOP","Döngü"],["MORE_SETTINGS","Daha fazla ayar"],["MULTIPLE_LANGUAGES","Birden çok dil"],["MUTE","Sesi kapat"],["NOT_APPLICABLE","Geçerli değil"],["OFF","Kapalı"],["ON","Açık"],["PAUSE","Duraklat"],["PICTURE_IN_PICTURE","Pencere İçinde Pencere"],["PLAY","Oynat"],["PLAYBACK_RATE","Çalma hızı"],["RESOLUTION","Çözünürlük"],["REWIND","Geri sar"],["SEEK","Ara"],["SKIP_AD","Reklamı Atla"],["SKIP_TO_LIVE","Canlı yayına atla"],["UNDETERMINED_LANGUAGE","Belirsiz"],["UNMUTE","Sesi aç"],["UNRECOGNIZED_LANGUAGE","Tanınmayan"],["VOLUME","Ses"]])),sn.insert("zh",new Map([["AD_DURATION","广告持续时间"],["AD_PROGRESS","广告 [AD_ON]/[NUM_ADS]"],["AD_TIME","广告：[AD_TIME]"],["AUTO_QUALITY","自动"],["BACK","返回"],["CAPTIONS","字幕"],["CAST","投射…"],["ENTER_LOOP_MODE","循环播放当前视频"],["ENTER_PICTURE_IN_PICTURE","进入“画中画”模式"],["EXIT_FULL_SCREEN","退出全屏模式"],["EXIT_LOOP_MODE","停止循环播放当前视频"],["EXIT_PICTURE_IN_PICTURE","退出“画中画”模式"],["FAST_FORWARD","快进"],["FULL_SCREEN","全屏"],["LANGUAGE","语言"],["LIVE","直播"],["LOOP","循环播放"],["MORE_SETTINGS","更多设置"],["MULTIPLE_LANGUAGES","多种语言"],["MUTE","静音"],["NOT_APPLICABLE","不适用"],["OFF","关闭"],["ON","开启"],["PAUSE","暂停"],["PICTURE_IN_PICTURE","画中画"],["PLAY","播放"],["PLAYBACK_RATE","播放速度"],["RESOLUTION","分辨率"],["REWIND","快退"],["SEEK","进度"],["SKIP_AD","跳过广告"],["SKIP_TO_LIVE","跳至当前直播"],["UNDETERMINED_LANGUAGE","未确定"],["UNMUTE","取消静音"],["UNRECOGNIZED_LANGUAGE","无法识别"],["VOLUME","音量"]])),sn.insert("zh-TW",new Map([["AD_DURATION","廣告長度"],["AD_PROGRESS","廣告 [AD_ON]/[NUM_ADS]"],["AD_TIME","廣告：[AD_TIME]"],["AUTO_QUALITY","自動"],["BACK","返回"],["CAPTIONS","字幕"],["CAST","投放..."],["ENTER_LOOP_MODE","循環播放目前的影片"],["ENTER_PICTURE_IN_PICTURE","進入子母畫面"],["EXIT_FULL_SCREEN","退出全螢幕模式"],["EXIT_LOOP_MODE","停止循環播放目前的影片"],["EXIT_PICTURE_IN_PICTURE","離開子母畫面"],["FAST_FORWARD","快轉"],["FULL_SCREEN","全螢幕"],["LANGUAGE","語言"],["LIVE","直播"],["LOOP","循環播放"],["MORE_SETTINGS","顯示更多設定"],["MULTIPLE_LANGUAGES","多種語言"],["MUTE","靜音"],["NOT_APPLICABLE","不適用"],["OFF","關閉"],["ON","開啟"],["PAUSE","暫停"],["PICTURE_IN_PICTURE","子母畫面"],["PLAY","播放"],["PLAYBACK_RATE","播放速度"],["RESOLUTION","解析度"],["REWIND","倒轉"],["SEEK","搜尋"],["SKIP_AD","略過廣告"],["SKIP_TO_LIVE","跳至当前直播"],["UNDETERMINED_LANGUAGE","不明"],["UNMUTE","取消靜音"],["UNRECOGNIZED_LANGUAGE","無法辨識"],["VOLUME","音量"]]))},shaka.ui.Locales.Ids={FAST_FORWARD:"FAST_FORWARD",AD_TIME:"AD_TIME",REWIND:"REWIND",UNRECOGNIZED_LANGUAGE:"UNRECOGNIZED_LANGUAGE",NOT_APPLICABLE:"NOT_APPLICABLE",STATISTICS:"STATISTICS",AD_DURATION:"AD_DURATION",LOOP:"LOOP",EXIT_FULL_SCREEN:"EXIT_FULL_SCREEN",REPLAY:"REPLAY",VOLUME:"VOLUME",CAST:"CAST",LIVE:"LIVE",MORE_SETTINGS:"MORE_SETTINGS",ENTER_PICTURE_IN_PICTURE:"ENTER_PICTURE_IN_PICTURE",BACK:"BACK",PLAYBACK_RATE:"PLAYBACK_RATE",EXIT_PICTURE_IN_PICTURE:"EXIT_PICTURE_IN_PICTURE",LANGUAGE:"LANGUAGE",ENTER_LOOP_MODE:"ENTER_LOOP_MODE",UNMUTE:"UNMUTE",MUTE:"MUTE",PAUSE:"PAUSE",RESOLUTION:"RESOLUTION",AIRPLAY:"AIRPLAY",AD_PROGRESS:"AD_PROGRESS",AUTO_QUALITY:"AUTO_QUALITY",UNDETERMINED_LANGUAGE:"UNDETERMINED_LANGUAGE",SKIP_AD:"SKIP_AD",EXIT_LOOP_MODE:"EXIT_LOOP_MODE",PLAY:"PLAY",FULL_SCREEN:"FULL_SCREEN",MULTIPLE_LANGUAGES:"MULTIPLE_LANGUAGES",CAPTIONS:"CAPTIONS",SEEK:"SEEK",SKIP_TO_LIVE:"SKIP_TO_LIVE",SUBTITLE_FORCED:"SUBTITLE_FORCED",QUALITY:"QUALITY",OFF:"OFF",PICTURE_IN_PICTURE:"PICTURE_IN_PICTURE",ON:"ON"},shaka.abr={},shaka.abr.Ewma=function(sn){goog.asserts.assert(0<sn,"expected halfLife to be positive"),this.alpha_=Math.exp(Math.log(.5)/sn),this.totalWeight_=this.estimate_=0},shaka.abr.Ewma.prototype.updateAlpha=function(sn){goog.asserts.assert(0<sn,"expected halfLife to be positive"),this.alpha_=Math.exp(Math.log(.5)/sn)},shaka.abr.Ewma.prototype.sample=function(sn,ln){var cn=Math.pow(this.alpha_,sn);ln=ln*(1-cn)+cn*this.estimate_,isNaN(ln)||(this.estimate_=ln,this.totalWeight_+=sn)},shaka.abr.Ewma.prototype.getEstimate=function(){return this.estimate_/(1-Math.pow(this.alpha_,this.totalWeight_))},shaka.abr.EwmaBandwidthEstimator=function(){this.fast_=new shaka.abr.Ewma(2),this.slow_=new shaka.abr.Ewma(5),this.bytesSampled_=0,this.minTotalBytes_=128e3,this.minBytes_=16e3},shaka.abr.EwmaBandwidthEstimator.prototype.configure=function(sn){this.minTotalBytes_=sn.minTotalBytes,this.minBytes_=sn.minBytes,this.fast_.updateAlpha(sn.fastHalfLife),this.slow_.updateAlpha(sn.slowHalfLife)},shaka.abr.EwmaBandwidthEstimator.prototype.sample=function(sn,ln){if(!(ln<this.minBytes_)){var cn=8e3*ln/sn;sn/=1e3,this.bytesSampled_+=ln,this.fast_.sample(sn,cn),this.slow_.sample(sn,cn)}},shaka.abr.EwmaBandwidthEstimator.prototype.getBandwidthEstimate=function(sn){return this.bytesSampled_<this.minTotalBytes_?sn:Math.min(this.fast_.getEstimate(),this.slow_.getEstimate())},shaka.abr.EwmaBandwidthEstimator.prototype.hasGoodEstimate=function(){return this.bytesSampled_>=this.minTotalBytes_},shaka.media={},shaka.media.Capabilities=function(){},shaka.media.Capabilities.isTypeSupported=function(sn){var ln=shaka.media.Capabilities.MediaSourceTypeSupportMap;if(ln.has(sn))return ln.get(sn);var cn=MediaSource.isTypeSupported(sn);return ln.set(sn,cn),cn},shaka.media.Capabilities.MediaSourceTypeSupportMap=new Map,shaka.util.ArrayUtils=function(){},shaka.util.ArrayUtils.defaultEquals=function(sn,ln){return typeof sn=="number"&&typeof ln=="number"&&isNaN(sn)&&isNaN(ln)?!0:sn===ln},shaka.util.ArrayUtils.remove=function(sn,ln){ln=sn.indexOf(ln),-1<ln&&sn.splice(ln,1)},shaka.util.ArrayUtils.count=function(sn,ln){var cn=0;sn=$jscomp.makeIterator(sn);for(var dn=sn.next();!dn.done;dn=sn.next())cn+=ln(dn.value)?1:0;return cn},shaka.util.ArrayUtils.hasSameElements=function(sn,ln,cn){if(cn||(cn=shaka.util.ArrayUtils.defaultEquals),sn.length!=ln.length)return!1;ln=ln.slice();var dn={};sn=$jscomp.makeIterator(sn);for(var pn=sn.next();!pn.done;dn={$jscomp$loop$prop$item$680:dn.$jscomp$loop$prop$item$680},pn=sn.next()){if(dn.$jscomp$loop$prop$item$680=pn.value,pn=ln.findIndex(function(vn){return function(Sn){return cn(vn.$jscomp$loop$prop$item$680,Sn)}}(dn)),pn==-1)return!1;ln[pn]=ln[ln.length-1],ln.pop()}return ln.length==0},shaka.util.ArrayUtils.equal=function(sn,ln,cn){if(cn||(cn=shaka.util.ArrayUtils.defaultEquals),sn.length!=ln.length)return!1;for(var dn=0;dn<sn.length;dn++)if(!cn(sn[dn],ln[dn]))return!1;return!0},shaka.text={},shaka.text.Cue=function(sn,ln,cn){var dn=shaka.text.Cue;this.startTime=sn,this.direction=dn.direction.HORIZONTAL_LEFT_TO_RIGHT,this.endTime=ln,this.payload=cn,this.region=new shaka.text.CueRegion,this.position=null,this.positionAlign=dn.positionAlign.AUTO,this.size=0,this.textAlign=dn.textAlign.CENTER,this.writingMode=dn.writingMode.HORIZONTAL_TOP_TO_BOTTOM,this.lineInterpretation=dn.lineInterpretation.LINE_NUMBER,this.line=null,this.lineHeight="",this.lineAlign=dn.lineAlign.START,this.displayAlign=dn.displayAlign.AFTER,this.fontSize=this.textStrokeWidth=this.textStrokeColor=this.textShadow=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=dn.fontWeight.NORMAL,this.fontStyle=dn.fontStyle.NORMAL,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textDecoration=[],this.wrapLine=!0,this.id="",this.nestedCues=[],this.lineBreak=this.isContainer=!1,this.cellResolution={columns:32,rows:15}},shaka.text.Cue.lineBreak=function(sn,ln){return sn=new shaka.text.Cue(sn,ln,""),sn.lineBreak=!0,sn},shaka.text.Cue.prototype.clone=function(){var sn=new shaka.text.Cue(0,0,""),ln;for(ln in this)sn[ln]=this[ln],sn[ln]&&sn[ln].constructor==Array&&(sn[ln]=sn[ln].slice());return sn},shaka.text.Cue.equal=function(sn,ln){if(sn.startTime!=ln.startTime||sn.endTime!=ln.endTime||sn.payload!=ln.payload)return!1;for(var cn in sn)if(cn!="startTime"&&cn!="endTime"&&cn!="payload"){if(cn=="nestedCues"){if(!shaka.util.ArrayUtils.equal(sn.nestedCues,ln.nestedCues,shaka.text.Cue.equal))return!1}else if(cn=="region"||cn=="cellResolution"){for(var dn in sn[cn])if(sn[cn][dn]!=ln[cn][dn])return!1}else if(Array.isArray(sn[cn])){if(!shaka.util.ArrayUtils.equal(sn[cn],ln[cn]))return!1}else if(sn[cn]!=ln[cn])return!1}return!0},goog.exportSymbol("shaka.text.Cue",shaka.text.Cue),shaka.text.Cue.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:"auto"},goog.exportProperty(shaka.text.Cue,"positionAlign",shaka.text.Cue.positionAlign),shaka.text.Cue.textAlign={LEFT:"left",RIGHT:"right",CENTER:"center",START:"start",END:"end"},goog.exportProperty(shaka.text.Cue,"textAlign",shaka.text.Cue.textAlign),shaka.text.Cue.displayAlign={BEFORE:"before",CENTER:"center",AFTER:"after"},goog.exportProperty(shaka.text.Cue,"displayAlign",shaka.text.Cue.displayAlign),shaka.text.Cue.direction={HORIZONTAL_LEFT_TO_RIGHT:"ltr",HORIZONTAL_RIGHT_TO_LEFT:"rtl"},goog.exportProperty(shaka.text.Cue,"direction",shaka.text.Cue.direction),shaka.text.Cue.writingMode={HORIZONTAL_TOP_TO_BOTTOM:"horizontal-tb",VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"},goog.exportProperty(shaka.text.Cue,"writingMode",shaka.text.Cue.writingMode),shaka.text.Cue.lineInterpretation={LINE_NUMBER:0,PERCENTAGE:1},goog.exportProperty(shaka.text.Cue,"lineInterpretation",shaka.text.Cue.lineInterpretation),shaka.text.Cue.lineAlign={CENTER:"center",START:"start",END:"end"},goog.exportProperty(shaka.text.Cue,"lineAlign",shaka.text.Cue.lineAlign),shaka.text.Cue.defaultTextColor={white:"#FFF",lime:"#0F0",cyan:"#0FF",red:"#F00",yellow:"#FF0",magenta:"#F0F",blue:"#00F",black:"#000"},goog.exportProperty(shaka.text.Cue,"defaultTextColor",shaka.text.Cue.defaultTextColor),shaka.text.Cue.defaultTextBackgroundColor={bg_white:"#FFF",bg_lime:"#0F0",bg_cyan:"#0FF",bg_red:"#F00",bg_yellow:"#FF0",bg_magenta:"#F0F",bg_blue:"#00F",bg_black:"#000"},goog.exportProperty(shaka.text.Cue,"defaultTextBackgroundColor",shaka.text.Cue.defaultTextBackgroundColor),shaka.text.Cue.fontWeight={NORMAL:400,BOLD:700},goog.exportProperty(shaka.text.Cue,"fontWeight",shaka.text.Cue.fontWeight),shaka.text.Cue.fontStyle={NORMAL:"normal",ITALIC:"italic",OBLIQUE:"oblique"},goog.exportProperty(shaka.text.Cue,"fontStyle",shaka.text.Cue.fontStyle),shaka.text.Cue.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},goog.exportProperty(shaka.text.Cue,"textDecoration",shaka.text.Cue.textDecoration),shaka.text.CueRegion=function(){var sn=shaka.text.CueRegion;this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=sn.units.PERCENTAGE,this.scroll=sn.scrollMode.NONE},goog.exportSymbol("shaka.text.CueRegion",shaka.text.CueRegion),shaka.text.CueRegion.units={PX:0,PERCENTAGE:1,LINES:2},goog.exportProperty(shaka.text.CueRegion,"units",shaka.text.CueRegion.units),shaka.text.CueRegion.scrollMode={NONE:"",UP:"up"},goog.exportProperty(shaka.text.CueRegion,"scrollMode",shaka.text.CueRegion.scrollMode),shaka.util.BufferUtils=function(){},shaka.util.BufferUtils.equal=function(sn,ln){var cn=shaka.util.BufferUtils;if(!sn&&!ln)return!0;if(!sn||!ln||sn.byteLength!=ln.byteLength)return!1;if(cn.unsafeGetArrayBuffer_(sn)==cn.unsafeGetArrayBuffer_(ln)&&(sn.byteOffset||0)==(ln.byteOffset||0))return!0;cn=shaka.util.BufferUtils.toUint8(sn),ln=shaka.util.BufferUtils.toUint8(ln);for(var dn=0;dn<sn.byteLength;dn++)if(cn[dn]!=ln[dn])return!1;return!0},shaka.util.BufferUtils.unsafeGetArrayBuffer_=function(sn){return sn instanceof ArrayBuffer?sn:sn.buffer},shaka.util.BufferUtils.toArrayBuffer=function(sn){return sn instanceof ArrayBuffer?sn:sn.byteOffset==0&&sn.byteLength==sn.buffer.byteLength?sn.buffer:new Uint8Array(sn).buffer},shaka.util.BufferUtils.toUint8=function(sn,ln,cn){return cn=cn===void 0?1/0:cn,shaka.util.BufferUtils.view_(sn,ln===void 0?0:ln,cn,Uint8Array)},shaka.util.BufferUtils.toDataView=function(sn,ln,cn){return cn=cn===void 0?1/0:cn,shaka.util.BufferUtils.view_(sn,ln===void 0?0:ln,cn,DataView)},shaka.util.BufferUtils.view_=function(sn,ln,cn,dn){var pn=shaka.util.BufferUtils.unsafeGetArrayBuffer_(sn),vn=(sn.byteOffset||0)+sn.byteLength;return sn=Math.max(0,Math.min((sn.byteOffset||0)+ln,vn)),new dn(pn,sn,Math.min(sn+Math.max(cn,0),vn)-sn)},goog.exportSymbol("shaka.util.BufferUtils",shaka.util.BufferUtils),goog.exportProperty(shaka.util.BufferUtils,"toDataView",shaka.util.BufferUtils.toDataView),goog.exportProperty(shaka.util.BufferUtils,"toUint8",shaka.util.BufferUtils.toUint8),goog.exportProperty(shaka.util.BufferUtils,"toArrayBuffer",shaka.util.BufferUtils.toArrayBuffer),goog.exportProperty(shaka.util.BufferUtils,"equal",shaka.util.BufferUtils.equal),shaka.util.IDestroyable=function(){},shaka.util.IDestroyable.prototype.destroy=function(){},shaka.util.PublicPromise=function(){var sn,ln,cn=new Promise(function(dn,pn){sn=dn,ln=pn});return cn.resolve=sn,cn.reject=ln,cn},shaka.util.PublicPromise.prototype.resolve=function(sn){},shaka.util.PublicPromise.prototype.reject=function(sn){},shaka.util.Lazy=function(sn){this.gen_=sn,this.value_=void 0},shaka.util.Lazy.prototype.value=function(){return this.value_==null&&(this.value_=this.gen_(),goog.asserts.assert(this.value_!=null,"Unable to create lazy value")),this.value_},shaka.util.Lazy.prototype.reset=function(){this.value_=void 0},shaka.util.DelayedTick=function(sn){this.onTick_=sn,this.cancelPending_=null},shaka.util.DelayedTick.prototype.tickAfter=function(sn){var ln=this;this.stop();var cn=!0,dn=null;return this.cancelPending_=function(){window.clearTimeout(dn),cn=!1},dn=window.setTimeout(function(){cn&&ln.onTick_()},1e3*sn),this},shaka.util.DelayedTick.prototype.stop=function(){this.cancelPending_&&(this.cancelPending_(),this.cancelPending_=null)},shaka.util.Timer=function(sn){this.onTick_=sn,this.ticker_=null},shaka.util.Timer.prototype.tickNow=function(){return this.stop(),this.onTick_(),this},shaka.util.Timer.prototype.tickAfter=function(sn){var ln=this;return this.stop(),this.ticker_=new shaka.util.DelayedTick(function(){ln.onTick_()}).tickAfter(sn),this},shaka.util.Timer.prototype.tickEvery=function(sn){var ln=this;return this.stop(),goog.DEBUG&&shaka.util.Timer.activeTimers.set(this,Error("Timer created").stack),this.ticker_=new shaka.util.DelayedTick(function(){ln.ticker_.tickAfter(sn),ln.onTick_()}).tickAfter(sn),this},shaka.util.Timer.prototype.stop=function(){this.ticker_&&(this.ticker_.stop(),this.ticker_=null),goog.DEBUG&&shaka.util.Timer.activeTimers.delete(this)},goog.exportSymbol("shaka.util.Timer",shaka.util.Timer),goog.exportProperty(shaka.util.Timer.prototype,"stop",shaka.util.Timer.prototype.stop),goog.exportProperty(shaka.util.Timer.prototype,"tickEvery",shaka.util.Timer.prototype.tickEvery),goog.exportProperty(shaka.util.Timer.prototype,"tickAfter",shaka.util.Timer.prototype.tickAfter),goog.exportProperty(shaka.util.Timer.prototype,"tickNow",shaka.util.Timer.prototype.tickNow),goog.DEBUG&&(shaka.util.Timer.activeTimers=new Map),shaka.util.Platform=function(){},shaka.util.Platform.supportsMediaSource=function(){return!!(window.MediaSource&&MediaSource.isTypeSupported)},shaka.util.Platform.supportsMediaType=function(sn){return shaka.util.Platform.anyMediaElement().canPlayType(sn)!=""},shaka.util.Platform.isEdge=function(){return!!navigator.userAgent.match(/Edge?\//)},shaka.util.Platform.isLegacyEdge=function(){return!!navigator.userAgent.match(/Edge\//)},shaka.util.Platform.isIE=function(){return shaka.util.Platform.userAgentContains_("Trident/")},shaka.util.Platform.isXboxOne=function(){return shaka.util.Platform.userAgentContains_("Xbox One")},shaka.util.Platform.isTizen=function(){return shaka.util.Platform.userAgentContains_("Tizen")},shaka.util.Platform.isTizen4=function(){return shaka.util.Platform.userAgentContains_("Tizen 4")},shaka.util.Platform.isTizen3=function(){return shaka.util.Platform.userAgentContains_("Tizen 3")},shaka.util.Platform.isTizen2=function(){return shaka.util.Platform.userAgentContains_("Tizen 2")},shaka.util.Platform.isWebOS=function(){return shaka.util.Platform.userAgentContains_("Web0S")},shaka.util.Platform.isWebOS3=function(){return shaka.util.Platform.userAgentContains_("Web0S")&&shaka.util.Platform.userAgentContains_("Chrome/38.0.2125.122 Safari/537.36")},shaka.util.Platform.isChromecast=function(){return shaka.util.Platform.userAgentContains_("CrKey")},shaka.util.Platform.chromeVersion=function(){if(!shaka.util.Platform.isChrome())return null;var sn=navigator.userAgent.match(/Chrome\/(\d+)/);return sn?parseInt(sn[1],10):null},shaka.util.Platform.isChrome=function(){return shaka.util.Platform.userAgentContains_("Chrome")&&!shaka.util.Platform.isEdge()},shaka.util.Platform.isApple=function(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!shaka.util.Platform.isTizen()&&!shaka.util.Platform.isEOS()&&!shaka.util.Platform.isVirginMedia()&&!shaka.util.Platform.isPS4()&&!shaka.util.Platform.isAmazonFireTV()},shaka.util.Platform.isPS5=function(){return shaka.util.Platform.userAgentContains_("PlayStation 5")},shaka.util.Platform.isPS4=function(){return shaka.util.Platform.userAgentContains_("PlayStation 4")},shaka.util.Platform.isHisense=function(){return shaka.util.Platform.userAgentContains_("Hisense")||shaka.util.Platform.userAgentContains_("VIDAA")},shaka.util.Platform.isVirginMedia=function(){return shaka.util.Platform.userAgentContains_("VirginMedia")},shaka.util.Platform.isAmazonFireTV=function(){return shaka.util.Platform.userAgentContains_("AFT")},shaka.util.Platform.safariVersion=function(){if(!shaka.util.Platform.isApple())return null;var sn=navigator.userAgent.match(/Version\/(\d+)/);return sn||(sn=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(sn[1],10):null},shaka.util.Platform.isSafari=function(){return!!shaka.util.Platform.safariVersion()},shaka.util.Platform.isEOS=function(){return shaka.util.Platform.userAgentContains_("PC=EOS")},shaka.util.Platform.isMobile=function(){return/(?:iPhone|iPad|iPod|Android)/.test(navigator.userAgent)?!0:shaka.util.Platform.isApple()&&1<navigator.maxTouchPoints},shaka.util.Platform.userAgentContains_=function(sn){return(navigator.userAgent||"").includes(sn)},shaka.util.Platform.anyMediaElement=function(){var sn=shaka.util.Platform;return sn.cachedMediaElement_||(sn.cacheExpirationTimer_||(sn.cacheExpirationTimer_=new shaka.util.Timer(function(){sn.cachedMediaElement_=null})),sn.cachedMediaElement_=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0],sn.cachedMediaElement_||(sn.cachedMediaElement_=document.createElement("video")),sn.cacheExpirationTimer_.tickAfter(1)),sn.cachedMediaElement_},shaka.util.Platform.requiresEncryptionInfoInAllInitSegments=function(){var sn=shaka.util.Platform;return sn.isTizen()||sn.isXboxOne()},shaka.util.Platform.isMediaKeysPolyfilled=function(){return!!window.shakaMediaKeysPolyfill},shaka.util.Platform.cacheExpirationTimer_=null,shaka.util.Platform.cachedMediaElement_=null,shaka.util.StringUtils=function(){},shaka.util.StringUtils.fromUTF8=function(sn){if(!sn)return"";if(sn=shaka.util.BufferUtils.toUint8(sn),sn[0]==239&&sn[1]==187&&sn[2]==191&&(sn=sn.subarray(3)),window.TextDecoder&&!shaka.util.Platform.isPS4())return sn=new TextDecoder().decode(sn),sn.includes("�")&&shaka.log.alwaysError('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),sn;for(var ln="",cn=0;cn<sn.length;++cn){var dn=65533;if(sn[cn]&128?sn.length>=cn+2&&(sn[cn]&224)==192&&(sn[cn+1]&192)==128?(dn=(sn[cn]&31)<<6|sn[cn+1]&63,cn+=1):sn.length>=cn+3&&(sn[cn]&240)==224&&(sn[cn+1]&192)==128&&(sn[cn+2]&192)==128?(dn=(sn[cn]&15)<<12|(sn[cn+1]&63)<<6|sn[cn+2]&63,cn+=2):sn.length>=cn+4&&(sn[cn]&241)==240&&(sn[cn+1]&192)==128&&(sn[cn+2]&192)==128&&(sn[cn+3]&192)==128&&(dn=(sn[cn]&7)<<18|(sn[cn+1]&63)<<12|(sn[cn+2]&63)<<6|sn[cn+3]&63,cn+=3):dn=sn[cn],65535>=dn)ln+=String.fromCharCode(dn);else{dn-=65536;var pn=dn&1023;ln+=String.fromCharCode(55296+(dn>>10)),ln+=String.fromCharCode(56320+pn)}}return ln},shaka.util.StringUtils.fromUTF16=function(sn,ln,cn){if(!sn)return"";if(!cn&&sn.byteLength%2!=0)throw shaka.log.error("Data has an incorrect length, must be even."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.BAD_ENCODING);cn=Math.floor(sn.byteLength/2);var dn=new Uint16Array(cn);sn=shaka.util.BufferUtils.toDataView(sn);for(var pn=0;pn<cn;pn++)dn[pn]=sn.getUint16(2*pn,ln);return shaka.util.StringUtils.fromCharCode(dn)},shaka.util.StringUtils.fromBytesAutoDetect=function(sn){var ln=shaka.util.StringUtils;if(!sn)return"";var cn=shaka.util.BufferUtils.toUint8(sn);if(cn[0]==239&&cn[1]==187&&cn[2]==191)return ln.fromUTF8(cn);if(cn[0]==254&&cn[1]==255)return ln.fromUTF16(cn.subarray(2),!1);if(cn[0]==255&&cn[1]==254)return ln.fromUTF16(cn.subarray(2),!0);var dn=function(pn){return cn.byteLength<=pn||32<=cn[pn]&&126>=cn[pn]};if(shaka.log.debug("Unable to find byte-order-mark, making an educated guess."),cn[0]==0&&cn[2]==0)return ln.fromUTF16(sn,!1);if(cn[1]==0&&cn[3]==0)return ln.fromUTF16(sn,!0);if(dn(0)&&dn(1)&&dn(2)&&dn(3))return ln.fromUTF8(sn);throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.UNABLE_TO_DETECT_ENCODING)},shaka.util.StringUtils.toUTF8=function(sn){if(window.TextEncoder&&!shaka.util.Platform.isPS4()){var ln=new TextEncoder;return shaka.util.BufferUtils.toArrayBuffer(ln.encode(sn))}sn=encodeURIComponent(sn),sn=unescape(sn),ln=new Uint8Array(sn.length);for(var cn=0;cn<sn.length;cn++)ln[cn]=sn[cn].charCodeAt(0);return shaka.util.BufferUtils.toArrayBuffer(ln)},shaka.util.StringUtils.toUTF16=function(sn,ln){for(var cn=new ArrayBuffer(2*sn.length),dn=new DataView(cn),pn=0;pn<sn.length;++pn){var vn=sn.charCodeAt(pn);dn.setUint16(2*pn,vn,ln)}return cn},shaka.util.StringUtils.fromCharCode=function(sn){return shaka.util.StringUtils.fromCharCodeImpl_.value()(sn)},shaka.util.StringUtils.resetFromCharCode=function(){shaka.util.StringUtils.fromCharCodeImpl_.reset()},goog.exportSymbol("shaka.util.StringUtils",shaka.util.StringUtils),goog.exportProperty(shaka.util.StringUtils,"resetFromCharCode",shaka.util.StringUtils.resetFromCharCode),goog.exportProperty(shaka.util.StringUtils,"toUTF16",shaka.util.StringUtils.toUTF16),goog.exportProperty(shaka.util.StringUtils,"toUTF8",shaka.util.StringUtils.toUTF8),goog.exportProperty(shaka.util.StringUtils,"fromBytesAutoDetect",shaka.util.StringUtils.fromBytesAutoDetect),goog.exportProperty(shaka.util.StringUtils,"fromUTF16",shaka.util.StringUtils.fromUTF16),goog.exportProperty(shaka.util.StringUtils,"fromUTF8",shaka.util.StringUtils.fromUTF8),shaka.util.StringUtils.fromCharCodeImpl_=new shaka.util.Lazy(function(){for(var sn=function(cn){try{var dn=new Uint8Array(cn),pn=String.fromCharCode.apply(null,dn);return goog.asserts.assert(pn,"Should get value"),0<pn.length}catch{return!1}},ln={$jscomp$loop$prop$size$682:65536};0<ln.$jscomp$loop$prop$size$682;ln={$jscomp$loop$prop$size$682:ln.$jscomp$loop$prop$size$682},ln.$jscomp$loop$prop$size$682/=2)if(sn(ln.$jscomp$loop$prop$size$682))return function(cn){return function(dn){for(var pn="",vn=0;vn<dn.length;vn+=cn.$jscomp$loop$prop$size$682){var Sn=dn.subarray(vn,vn+cn.$jscomp$loop$prop$size$682);pn+=String.fromCharCode.apply(null,Sn)}return pn}}(ln);return goog.asserts.assert(!1,"Unable to create a fromCharCode method"),null}),shaka.util.Uint8ArrayUtils=function(){},shaka.util.Uint8ArrayUtils.toStandardBase64=function(sn){return sn=shaka.util.StringUtils.fromCharCode(shaka.util.BufferUtils.toUint8(sn)),btoa(sn)},shaka.util.Uint8ArrayUtils.toBase64=function(sn,ln){return ln=ln??!0,sn=shaka.util.Uint8ArrayUtils.toStandardBase64(sn).replace(/\+/g,"-").replace(/\//g,"_"),ln?sn:sn.replace(/[=]*$/,"")},shaka.util.Uint8ArrayUtils.fromBase64=function(sn){sn=window.atob(sn.replace(/-/g,"+").replace(/_/g,"/"));for(var ln=new Uint8Array(sn.length),cn=0;cn<sn.length;++cn)ln[cn]=sn.charCodeAt(cn);return ln},shaka.util.Uint8ArrayUtils.fromHex=function(sn){for(var ln=sn.length/2,cn=new Uint8Array(ln),dn=0;dn<ln;dn++)cn[dn]=window.parseInt(sn.substr(2*dn,2),16);return cn},shaka.util.Uint8ArrayUtils.toHex=function(sn){var ln=shaka.util.BufferUtils.toUint8(sn);sn="",ln=$jscomp.makeIterator(ln);for(var cn=ln.next();!cn.done;cn=ln.next())cn=cn.value,cn=cn.toString(16),cn.length==1&&(cn="0"+cn),sn+=cn;return sn},shaka.util.Uint8ArrayUtils.concat=function(){for(var sn=$jscomp.getRestArguments.apply(0,arguments),ln=0,cn=$jscomp.makeIterator(sn),dn=cn.next();!dn.done;dn=cn.next())ln+=dn.value.byteLength;for(ln=new Uint8Array(ln),cn=0,sn=$jscomp.makeIterator(sn),dn=sn.next();!dn.done;dn=sn.next())dn=dn.value,ln.set(shaka.util.BufferUtils.toUint8(dn),cn),cn+=dn.byteLength;return ln},goog.exportSymbol("shaka.util.Uint8ArrayUtils",shaka.util.Uint8ArrayUtils),goog.exportProperty(shaka.util.Uint8ArrayUtils,"concat",shaka.util.Uint8ArrayUtils.concat),goog.exportProperty(shaka.util.Uint8ArrayUtils,"toHex",shaka.util.Uint8ArrayUtils.toHex),goog.exportProperty(shaka.util.Uint8ArrayUtils,"fromHex",shaka.util.Uint8ArrayUtils.fromHex),goog.exportProperty(shaka.util.Uint8ArrayUtils,"fromBase64",shaka.util.Uint8ArrayUtils.fromBase64),goog.exportProperty(shaka.util.Uint8ArrayUtils,"toBase64",shaka.util.Uint8ArrayUtils.toBase64),goog.exportProperty(shaka.util.Uint8ArrayUtils,"toStandardBase64",shaka.util.Uint8ArrayUtils.toStandardBase64),shaka.dependencies=function(){},shaka.dependencies.add=function(sn,ln){if(!shaka.dependencies.Allowed[sn])throw Error(sn+" is not supported");shaka.dependencies.dependencies_.set(sn,function(){return ln})},shaka.dependencies.has=function(sn){return shaka.dependencies.dependencies_.has(sn)},shaka.dependencies.muxjs=function(){return shaka.dependencies.dependencies_.get(shaka.dependencies.Allowed.muxjs)()},goog.exportSymbol("shaka.dependencies",shaka.dependencies),goog.exportProperty(shaka.dependencies,"has",shaka.dependencies.has),goog.exportProperty(shaka.dependencies,"add",shaka.dependencies.add),shaka.dependencies.Allowed={muxjs:"muxjs"},goog.exportProperty(shaka.dependencies,"Allowed",shaka.dependencies.Allowed),shaka.dependencies.dependencies_=new Map([[shaka.dependencies.Allowed.muxjs,function(){return window.muxjs}]]),shaka.media.Transmuxer=function(sn){var ln=this;this.originalMimeType_=sn,this.muxjs_=shaka.dependencies.muxjs(),this.transmuxPromise_=this.muxTransmuxer_=null,this.transmuxedData_=[],this.captions_=[],this.isTransmuxing_=!1,this.muxjs_&&(this.muxTransmuxer_=new this.muxjs_.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.muxTransmuxer_.on("data",function(cn){return ln.onTransmuxed_(cn)}),this.muxTransmuxer_.on("done",function(){return ln.onTransmuxDone_()}))},shaka.media.Transmuxer.prototype.destroy=function(){return this.muxTransmuxer_&&this.muxTransmuxer_.dispose(),this.muxTransmuxer_=null,Promise.resolve()},shaka.media.Transmuxer.isSupported=function(sn,ln){var cn=shaka.media.Transmuxer,dn=shaka.media.Capabilities,pn=cn.isTsContainer_(sn),vn=cn.isAacContainer_(sn);return!shaka.dependencies.muxjs()||!pn&&!vn?!1:vn?dn.isTypeSupported(cn.convertAacCodecs_()):ln?dn.isTypeSupported(cn.convertTsCodecs_(ln,sn)):(pn=shaka.util.ManifestParserUtils.ContentType,ln=cn.convertTsCodecs_(pn.AUDIO,sn),sn=cn.convertTsCodecs_(pn.VIDEO,sn),dn.isTypeSupported(ln)||dn.isTypeSupported(sn))},shaka.media.Transmuxer.isAacContainer_=function(sn){return sn.toLowerCase().split(";")[0]=="audio/aac"},shaka.media.Transmuxer.isTsContainer_=function(sn){return sn.toLowerCase().split(";")[0].split("/")[1]=="mp2t"},shaka.media.Transmuxer.convertCodecs=function(sn,ln){var cn=shaka.media.Transmuxer;return cn.isAacContainer_(ln)?cn.convertAacCodecs_():cn.isTsContainer_(ln)?cn.convertTsCodecs_(sn,ln):ln},shaka.media.Transmuxer.convertAacCodecs_=function(){return'audio/mp4; codecs="mp4a.40.2"'},shaka.media.Transmuxer.convertTsCodecs_=function(sn,ln){var cn=shaka.util.ManifestParserUtils.ContentType;if(ln=ln.replace(/mp2t/i,"mp4"),sn==cn.AUDIO&&(ln=ln.replace("video","audio")),sn=/avc1\.(66|77|100)\.(\d+)/.exec(ln)){cn="avc1.";var dn=sn[1];dn=="66"?cn+="4200":dn=="77"?cn+="4d00":(goog.asserts.assert(dn=="100","Legacy avc1 parsing code out of sync with regex!"),cn+="6400"),dn=Number(sn[2]),goog.asserts.assert(256>dn,"Invalid legacy avc1 level number!"),cn+=(dn>>4).toString(16),cn+=(dn&15).toString(16),ln=ln.replace(sn[0],cn)}return ln},shaka.media.Transmuxer.prototype.getOrginalMimeType=function(){return this.originalMimeType_},shaka.media.Transmuxer.prototype.transmux=function(sn){return goog.asserts.assert(this.muxTransmuxer_,"mux.js should be available."),goog.asserts.assert(!this.isTransmuxing_,"No transmuxing should be in progress."),this.isTransmuxing_=!0,this.transmuxPromise_=new shaka.util.PublicPromise,this.transmuxedData_=[],this.captions_=[],sn=shaka.util.BufferUtils.toUint8(sn),this.muxTransmuxer_.push(sn),this.muxTransmuxer_.flush(),this.isTransmuxing_&&this.transmuxPromise_.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.TRANSMUXING_FAILED)),this.transmuxPromise_},shaka.media.Transmuxer.prototype.resetCaptions=function(){this.muxTransmuxer_.resetCaptions()},shaka.media.Transmuxer.prototype.onTransmuxed_=function(sn){this.captions_=sn.captions,this.transmuxedData_.push(shaka.util.Uint8ArrayUtils.concat(sn.initSegment,sn.data))},shaka.media.Transmuxer.prototype.onTransmuxDone_=function(){var sn={data:shaka.util.Uint8ArrayUtils.concat.apply(shaka.util.Uint8ArrayUtils,$jscomp.arrayFromIterable(this.transmuxedData_)),captions:this.captions_};this.transmuxPromise_.resolve(sn),this.isTransmuxing_=!1},shaka.util.MimeUtils=function(){},shaka.util.MimeUtils.getFullType=function(sn,ln){return ln&&(sn+='; codecs="'+ln+'"'),sn},shaka.util.MimeUtils.getFullOrConvertedType=function(sn,ln,cn){ln=shaka.util.MimeUtils.getFullType(sn,ln);var dn=shaka.util.ManifestParserUtils.ContentType;return shaka.media.Transmuxer.isSupported(ln,cn)?shaka.media.Transmuxer.convertCodecs(cn,ln):sn!="video/mp2t"&&cn==dn.AUDIO?ln.replace("video","audio"):ln},shaka.util.MimeUtils.getExtendedType=function(sn){var ln=[sn.mimeType];return shaka.util.MimeUtils.EXTENDED_MIME_PARAMETERS_.forEach(function(cn,dn){(dn=sn[dn])&&ln.push(cn+'="'+dn+'"')}),sn.hdr=="PQ"&&ln.push('eotf="smpte2084"'),ln.join(";")},shaka.util.MimeUtils.getContainerType=function(sn){return sn.split(";")[0].split("/")[1]},shaka.util.MimeUtils.splitCodecs=function(sn){return sn.split(",")},shaka.util.MimeUtils.getNormalizedCodec=function(sn){var ln=shaka.util.MimeUtils.getCodecParts_(sn);switch(sn=ln[0],ln=ln[1].toLowerCase(),!0){case(sn==="mp4a"&&ln==="69"):case(sn==="mp4a"&&ln==="6b"):return"mp3";case(sn==="mp4a"&&ln==="66"):case(sn==="mp4a"&&ln==="67"):case(sn==="mp4a"&&ln==="68"):case(sn==="mp4a"&&ln==="40.2"):case(sn==="mp4a"&&ln==="40.02"):case(sn==="mp4a"&&ln==="40.5"):case(sn==="mp4a"&&ln==="40.05"):case(sn==="mp4a"&&ln==="40.29"):case(sn==="mp4a"&&ln==="40.42"):return"aac";case(sn==="mp4a"&&ln==="a5"):return"ac-3";case(sn==="mp4a"&&ln==="a6"):return"ec-3";case(sn==="mp4a"&&ln==="b2"):return"dtsx";case(sn==="mp4a"&&ln==="a9"):return"dtsc";case sn==="avc1":case sn==="avc3":return"avc";case sn==="hvc1":case sn==="hev1":return"hevc";case sn==="dvh1":case sn==="dvhe":return"dovi"}return sn},shaka.util.MimeUtils.getCodecBase=function(sn){return shaka.util.MimeUtils.getCodecParts_(sn)[0]},shaka.util.MimeUtils.getBasicType=function(sn){return sn.split(";")[0]},shaka.util.MimeUtils.getCodecs=function(sn){return sn=sn.split(/ *; */),sn.shift(),(sn=sn.find(function(ln){return ln.startsWith("codecs=")}))?sn.split("=")[1].replace(/^"|"$/g,""):""},shaka.util.MimeUtils.isHlsType=function(sn){return sn==="application/x-mpegurl"||sn==="application/vnd.apple.mpegurl"},shaka.util.MimeUtils.getCodecParts_=function(sn){var ln=sn.split(".");return sn=ln[0],ln.shift(),ln=ln.join("."),[sn,ln]},goog.exportSymbol("shaka.util.MimeUtils",shaka.util.MimeUtils),goog.exportProperty(shaka.util.MimeUtils,"getFullType",shaka.util.MimeUtils.getFullType),shaka.util.MimeUtils.EXTENDED_MIME_PARAMETERS_=new Map().set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels"),shaka.util.MimeUtils.CEA608_CLOSED_CAPTION_MIMETYPE="application/cea-608",shaka.util.MimeUtils.CEA708_CLOSED_CAPTION_MIMETYPE="application/cea-708",shaka.text.TextEngine=function(sn){this.parser_=null,this.displayer_=sn,this.segmentRelativeVttTiming_=!1,this.appendWindowStart_=this.timestampOffset_=0,this.appendWindowEnd_=1/0,this.bufferEnd_=this.bufferStart_=null,this.selectedClosedCaptionId_="",this.closedCaptionsMap_=new Map},shaka.text.TextEngine.registerParser=function(sn,ln){shaka.text.TextEngine.parserMap_[sn]=ln},shaka.text.TextEngine.unregisterParser=function(sn){delete shaka.text.TextEngine.parserMap_[sn]},shaka.text.TextEngine.findParser=function(sn){return shaka.text.TextEngine.parserMap_[sn]},shaka.text.TextEngine.isTypeSupported=function(sn){return!!(shaka.text.TextEngine.parserMap_[sn]||sn==shaka.util.MimeUtils.CEA608_CLOSED_CAPTION_MIMETYPE||sn==shaka.util.MimeUtils.CEA708_CLOSED_CAPTION_MIMETYPE)},shaka.text.TextEngine.prototype.destroy=function(){return this.displayer_=this.parser_=null,this.closedCaptionsMap_.clear(),Promise.resolve()},shaka.text.TextEngine.prototype.setDisplayer=function(sn){this.displayer_=sn},shaka.text.TextEngine.prototype.initParser=function(sn,ln,cn){sn==shaka.util.MimeUtils.CEA608_CLOSED_CAPTION_MIMETYPE||sn==shaka.util.MimeUtils.CEA708_CLOSED_CAPTION_MIMETYPE?this.parser_=null:(sn=shaka.text.TextEngine.parserMap_[sn],goog.asserts.assert(sn,"Text type negotiation should have happened already"),this.parser_=sn(),this.parser_.setSequenceMode?this.parser_.setSequenceMode(ln):shaka.log.alwaysWarn('Text parsers should have a "setSequenceMode" method!'),this.segmentRelativeVttTiming_=cn)},shaka.text.TextEngine.prototype.appendBuffer=function(sn,ln,cn){var dn=this,pn,vn,Sn,En;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Cn){if(Cn.nextAddress==1)return goog.asserts.assert(dn.parser_,"The parser should already be initialized"),Cn.yield(Promise.resolve(),2);if(!dn.parser_||!dn.displayer_)return Cn.return();if(ln==null||cn==null)return dn.parser_.parseInit(shaka.util.BufferUtils.toUint8(sn)),Cn.return();pn=dn.segmentRelativeVttTiming_?ln:dn.timestampOffset_,vn={periodStart:dn.timestampOffset_,segmentStart:ln,segmentEnd:cn,vttOffset:pn},Sn=dn.parser_.parseMedia(shaka.util.BufferUtils.toUint8(sn),vn),En=Sn.filter(function(Pn){return Pn.startTime>=dn.appendWindowStart_&&Pn.startTime<dn.appendWindowEnd_}),dn.displayer_.append(En),dn.bufferStart_==null?dn.bufferStart_=Math.max(ln,dn.appendWindowStart_):(goog.asserts.assert(dn.bufferEnd_!=null,"There should already be a buffered range end."),goog.asserts.assert(1>=ln-dn.bufferEnd_,"There should not be a gap in text references >1s")),dn.bufferEnd_=Math.min(cn,dn.appendWindowEnd_),Cn.jumpToEnd()})},shaka.text.TextEngine.prototype.remove=function(sn,ln){var cn=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dn){if(dn.nextAddress==1)return dn.yield(Promise.resolve(),2);cn.displayer_&&cn.displayer_.remove(sn,ln)&&(cn.bufferStart_==null?goog.asserts.assert(cn.bufferEnd_==null,"end must be null if startTime is null"):(goog.asserts.assert(cn.bufferEnd_!=null,"end must be non-null if startTime is non-null"),ln<=cn.bufferStart_||sn>=cn.bufferEnd_||(sn<=cn.bufferStart_&&ln>=cn.bufferEnd_?cn.bufferStart_=cn.bufferEnd_=null:sn<=cn.bufferStart_&&ln<cn.bufferEnd_?cn.bufferStart_=ln:sn>cn.bufferStart_&&ln>=cn.bufferEnd_?cn.bufferEnd_=sn:goog.asserts.assert(!1,"removal from the middle is not supported by TextEngine")))),dn.jumpToEnd()})},shaka.text.TextEngine.prototype.setTimestampOffset=function(sn){this.timestampOffset_=sn},shaka.text.TextEngine.prototype.setAppendWindow=function(sn,ln){this.appendWindowStart_=sn,this.appendWindowEnd_=ln},shaka.text.TextEngine.prototype.bufferStart=function(){return this.bufferStart_},shaka.text.TextEngine.prototype.bufferEnd=function(){return this.bufferEnd_},shaka.text.TextEngine.prototype.isBuffered=function(sn){return this.bufferStart_==null||this.bufferEnd_==null?!1:sn>=this.bufferStart_&&sn<this.bufferEnd_},shaka.text.TextEngine.prototype.bufferedAheadOf=function(sn){return this.bufferEnd_==null||this.bufferEnd_<sn?0:(goog.asserts.assert(this.bufferStart_!=null,"start should not be null if end is not null"),this.bufferEnd_-Math.max(sn,this.bufferStart_))},shaka.text.TextEngine.prototype.setSelectedClosedCaptionId=function(sn,ln){if(this.selectedClosedCaptionId_=sn,sn=this.closedCaptionsMap_.get(sn))for(var cn=$jscomp.makeIterator(sn.keys()),dn=cn.next();!dn.done;dn=cn.next())(dn=sn.get(dn.value).filter(function(pn){return pn.endTime<=ln}))&&this.displayer_.append(dn)},shaka.text.TextEngine.prototype.convertMuxjsCaptionsToShakaCaptions=function(sn){var ln=[];sn=$jscomp.makeIterator(sn);for(var cn=sn.next();!cn.done;cn=sn.next()){cn=cn.value;var dn=new shaka.text.Cue(cn.startTime,cn.endTime,cn.text);ln.push({stream:cn.stream,cue:dn})}return ln},shaka.text.TextEngine.prototype.applyVideoTimestampOffsetRecursive_=function(sn,ln){sn.startTime+=ln,sn.endTime+=ln,sn=$jscomp.makeIterator(sn.nestedCues);for(var cn=sn.next();!cn.done;cn=sn.next())this.applyVideoTimestampOffsetRecursive_(cn.value,ln)},shaka.text.TextEngine.prototype.storeAndAppendClosedCaptions=function(sn,ln,cn,dn){var pn=ln+" "+cn,vn=new Map;sn=$jscomp.makeIterator(sn);for(var Sn=sn.next();!Sn.done;Sn=sn.next()){var En=Sn.value;Sn=En.stream,En=En.cue,vn.has(Sn)||vn.set(Sn,new Map),vn.get(Sn).has(pn)||vn.get(Sn).set(pn,[]),this.applyVideoTimestampOffsetRecursive_(En,dn),En.startTime>=this.appendWindowStart_&&En.startTime<this.appendWindowEnd_&&(vn.get(Sn).get(pn).push(En),Sn==this.selectedClosedCaptionId_&&this.displayer_.append([En]))}for(dn=$jscomp.makeIterator(vn.keys()),pn=dn.next();!pn.done;pn=dn.next())for(pn=pn.value,this.closedCaptionsMap_.has(pn)||this.closedCaptionsMap_.set(pn,new Map),sn=$jscomp.makeIterator(vn.get(pn).keys()),Sn=sn.next();!Sn.done;Sn=sn.next())Sn=Sn.value,En=vn.get(pn).get(Sn),this.closedCaptionsMap_.get(pn).set(Sn,En);this.bufferStart_=this.bufferStart_==null?Math.max(ln,this.appendWindowStart_):Math.min(this.bufferStart_,Math.max(ln,this.appendWindowStart_)),this.bufferEnd_=Math.max(this.bufferEnd_,Math.min(cn,this.appendWindowEnd_))},shaka.text.TextEngine.prototype.getNumberOfClosedCaptionChannels=function(){return this.closedCaptionsMap_.size},shaka.text.TextEngine.prototype.getNumberOfClosedCaptionsInChannel=function(sn){return(sn=this.closedCaptionsMap_.get(sn))?sn.size:0},goog.exportSymbol("shaka.text.TextEngine",shaka.text.TextEngine),goog.exportProperty(shaka.text.TextEngine.prototype,"destroy",shaka.text.TextEngine.prototype.destroy),goog.exportProperty(shaka.text.TextEngine,"findParser",shaka.text.TextEngine.findParser),goog.exportProperty(shaka.text.TextEngine,"unregisterParser",shaka.text.TextEngine.unregisterParser),goog.exportProperty(shaka.text.TextEngine,"registerParser",shaka.text.TextEngine.registerParser),shaka.text.TextEngine.parserMap_={},shaka.util.StreamUtils=function(){},shaka.util.StreamUtils.chooseCodecsAndFilterManifest=function(sn,ln,cn,dn,pn){var vn=shaka.util.StreamUtils,Sn=sn.variants;(ln.length||cn.length)&&(Sn=vn.choosePreferredCodecs(Sn,ln,cn)),Sn=vn.filterVariantsByAudioChannelCount(Sn,dn),ln=vn.getVariantsByCodecs_(Sn),ln=vn.filterVariantsByDensity_(ln);var En=vn.chooseCodecsByDecodingAttributes_(ln,pn);sn.variants=sn.variants.filter(function(Cn){return vn.getVariantCodecs_(Cn)==En?!0:(shaka.log.debug("Dropping Variant (better codec available)",Cn),!1)})},shaka.util.StreamUtils.getVariantsByCodecs_=function(sn){var ln=new shaka.util.MultiMap;sn=$jscomp.makeIterator(sn);for(var cn=sn.next();!cn.done;cn=sn.next()){cn=cn.value;var dn=shaka.util.StreamUtils.getVariantCodecs_(cn);ln.push(dn,cn)}return ln},shaka.util.StreamUtils.filterVariantsByDensity_=function(sn){var ln=0,cn=new Map,dn=sn.size();return sn.forEach(function(pn,vn){vn=$jscomp.makeIterator(vn);for(var Sn=vn.next();!Sn.done;Sn=vn.next()){Sn=Sn.value;var En=Sn.video;if(En&&En.width&&En.height){En=En.width*En.height*(En.frameRate||1),cn.has(En)||cn.set(En,new shaka.util.MultiMap);var Cn=cn.get(En);Cn.push(pn,Sn),Cn.size()===dn&&(ln=Math.max(ln,En))}}}),ln?cn.get(ln):sn},shaka.util.StreamUtils.choosePreferredCodecs=function(sn,ln,cn){var dn={};ln=$jscomp.makeIterator(ln);for(var pn=ln.next();!pn.done;dn={$jscomp$loop$prop$videoCodec$684:dn.$jscomp$loop$prop$videoCodec$684},pn=ln.next())if(dn.$jscomp$loop$prop$videoCodec$684=pn.value,pn=sn.filter(function(vn){return function(Sn){return Sn.video&&Sn.video.codecs.startsWith(vn.$jscomp$loop$prop$videoCodec$684)}}(dn)),pn.length){sn=pn;break}for(dn={},cn=$jscomp.makeIterator(cn),ln=cn.next();!ln.done;dn={$jscomp$loop$prop$audioCodec$686:dn.$jscomp$loop$prop$audioCodec$686},ln=cn.next())if(dn.$jscomp$loop$prop$audioCodec$686=ln.value,ln=sn.filter(function(vn){return function(Sn){return Sn.audio&&Sn.audio.codecs.startsWith(vn.$jscomp$loop$prop$audioCodec$686)}}(dn)),ln.length){sn=ln;break}return sn},shaka.util.StreamUtils.chooseCodecsByDecodingAttributes_=function(sn,ln){var cn=shaka.util.StreamUtils;ln=$jscomp.makeIterator(ln);for(var dn=ln.next();!dn.done;dn=ln.next())if(dn=dn.value,dn==cn.DecodingAttributes.SMOOTH||dn==cn.DecodingAttributes.POWER){if(sn=cn.chooseCodecsByMediaCapabilitiesInfo_(sn,dn),sn.size()==1)return sn.keys()[0]}else if(dn==cn.DecodingAttributes.BANDWIDTH)break;return cn.findCodecsByLowestBandwidth_(sn)},shaka.util.StreamUtils.chooseCodecsByMediaCapabilitiesInfo_=function(sn,ln){var cn=0,dn=new shaka.util.MultiMap;return sn.forEach(function(pn,vn){for(var Sn=0,En=0,Cn=$jscomp.makeIterator(vn),Pn=Cn.next();!Pn.done;Pn=Cn.next())Pn=Pn.value,Pn.decodingInfos.length&&(Sn+=Pn.decodingInfos[0][ln]?1:0,En++);Sn/=En,shaka.log.debug("codecs",pn,"avg",ln,Sn),Sn>cn?(dn.clear(),dn.push(pn,vn),cn=Sn):Sn==cn&&dn.push(pn,vn)}),dn},shaka.util.StreamUtils.findCodecsByLowestBandwidth_=function(sn){var ln="",cn=1/0;return sn.forEach(function(dn,pn){var vn=0,Sn=0;pn=$jscomp.makeIterator(pn);for(var En=pn.next();!En.done;En=pn.next())vn+=En.value.bandwidth||0,++Sn;vn/=Sn,shaka.log.debug("codecs",dn,"avg bandwidth",vn),vn<cn&&(ln=dn,cn=vn)}),goog.asserts.assert(ln!=="","Should have chosen codecs!"),goog.asserts.assert(!isNaN(cn),"Bandwidth should be a number!"),ln},shaka.util.StreamUtils.getVariantCodecs_=function(sn){var ln="";sn.video&&(ln=shaka.util.MimeUtils.getNormalizedCodec(sn.video.codecs));var cn="";return sn.audio&&(cn=shaka.util.MimeUtils.getNormalizedCodec(sn.audio.codecs)),ln+"-"+cn},shaka.util.StreamUtils.filterByRestrictions=function(sn,ln,cn){sn.variants=sn.variants.filter(function(dn){return shaka.util.StreamUtils.meetsRestrictions(dn,ln,cn)})},shaka.util.StreamUtils.meetsRestrictions=function(sn,ln,cn){var dn=function(vn,Sn,En){return vn>=Sn&&vn<=En},pn=sn.video;if(sn.disabledUntilTime!=0){if(sn.disabledUntilTime>Date.now()/1e3)return!1;sn.disabledUntilTime=0}return!(pn&&pn.width&&pn.height&&(!dn(pn.width,ln.minWidth,Math.min(ln.maxWidth,cn.width))||!dn(pn.height,ln.minHeight,Math.min(ln.maxHeight,cn.height))||!dn(pn.width*pn.height,ln.minPixels,ln.maxPixels))||sn&&sn.video&&sn.video.frameRate&&!dn(sn.video.frameRate,ln.minFrameRate,ln.maxFrameRate)||!dn(sn.bandwidth,ln.minBandwidth,ln.maxBandwidth))},shaka.util.StreamUtils.applyRestrictions=function(sn,ln,cn){var dn=!1;sn=$jscomp.makeIterator(sn);for(var pn=sn.next();!pn.done;pn=sn.next()){pn=pn.value;var vn=pn.allowedByApplication;pn.allowedByApplication=shaka.util.StreamUtils.meetsRestrictions(pn,ln,cn),vn!=pn.allowedByApplication&&(dn=!0)}return dn},shaka.util.StreamUtils.filterManifest=function(sn,ln,cn){return $jscomp.asyncExecutePromiseGeneratorProgram(function(dn){return dn.nextAddress==1?dn.yield(shaka.util.StreamUtils.filterManifestByMediaCapabilities(cn,0<cn.offlineSessionIds.length),2):(shaka.util.StreamUtils.filterManifestByCurrentVariant(ln,cn),shaka.util.StreamUtils.filterTextStreams_(cn),dn.yield(shaka.util.StreamUtils.filterImageStreams_(cn),0))})},shaka.util.StreamUtils.filterManifestByMediaCapabilities=function(sn,ln){return $jscomp.asyncExecutePromiseGeneratorProgram(function(cn){if(cn.nextAddress==1)return goog.asserts.assert(navigator.mediaCapabilities,"MediaCapabilities should be valid."),cn.yield(shaka.util.StreamUtils.getDecodingInfosForVariants(sn.variants,ln,!1),2);sn.variants=sn.variants.filter(function(dn){var pn=dn.video,vn=shaka.util.ManifestParserUtils.ContentType,Sn=shaka.media.Capabilities;if(pn){var En=shaka.util.StreamUtils.getCorrectVideoCodecs_(pn.codecs);if(pn.codecs.includes(",")){var Cn=pn.codecs.split(",");En=shaka.util.ManifestParserUtils.guessCodecs(vn.VIDEO,Cn),En=shaka.util.StreamUtils.getCorrectVideoCodecs_(En),Cn=shaka.util.ManifestParserUtils.guessCodecs(vn.AUDIO,Cn),Cn=shaka.util.StreamUtils.getCorrectAudioCodecs_(Cn);var Pn=shaka.util.MimeUtils.getFullOrConvertedType(pn.mimeType,Cn,vn.AUDIO);if(!Sn.isTypeSupported(Pn))return!1;En=[En,Cn].join()}if(Cn=shaka.util.MimeUtils.getFullOrConvertedType(pn.mimeType,En,vn.VIDEO),!Sn.isTypeSupported(Cn))return!1;pn.codecs=En}if(En=dn.audio){if(Cn=shaka.util.StreamUtils.getCorrectAudioCodecs_(En.codecs),vn=shaka.util.MimeUtils.getFullOrConvertedType(En.mimeType,Cn,vn.AUDIO),!Sn.isTypeSupported(vn))return!1;En.codecs=Cn}return shaka.util.Platform.isXboxOne()&&pn&&(pn.width&&1920<pn.width||pn.height&&1080<pn.height)&&(pn.codecs.includes("avc1.")||pn.codecs.includes("avc3."))?(shaka.log.debug("Dropping variant - not compatible with platform",shaka.util.StreamUtils.getVariantSummaryString_(dn)),!1):((pn=dn.decodingInfos.some(function(Rn){return Rn.supported}))||shaka.log.debug("Dropping variant - not compatible with platform",shaka.util.StreamUtils.getVariantSummaryString_(dn)),pn)}),cn.jumpToEnd()})},shaka.util.StreamUtils.getDecodingInfosForVariants=function(sn,ln,cn){var dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Gn){if(sn.some(function(Dn){return Dn.decodingInfos.length}))return shaka.log.debug("Already got the variants' decodingInfo."),Gn.return();for(dn=navigator.mediaCapabilities,pn=[],vn=function(Dn,Kn){var qn,Zn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Yn){if(Yn.nextAddress==1)return Yn.setCatchFinallyBlocks(2),Yn.yield(dn.decodingInfo(Kn),4);if(Yn.nextAddress!=2)return qn=Yn.yieldResult,Dn.decodingInfos.push(qn),Yn.leaveTryBlock(0);Zn=Yn.enterCatchBlock(),shaka.log.info("MediaCapabilities.decodingInfo() failed.",JSON.stringify(Kn),Zn),Yn.jumpToEnd()})},Sn=$jscomp.makeIterator(sn),En=Sn.next();!En.done;En=Sn.next())for(Cn=En.value,Pn=shaka.util.StreamUtils.getDecodingConfigs_(Cn,ln,cn),Rn=$jscomp.makeIterator(Pn),Ln=Rn.next();!Ln.done;Ln=Rn.next())Fn=Ln.value,pn.push(vn(Cn,Fn));return Gn.yield(Promise.all(pn),0)})},shaka.util.StreamUtils.getDecodingConfigs_=function(sn,ln,cn){var dn=sn.audio,pn=sn.video,vn=shaka.util.ManifestParserUtils.ContentType;if(cn={type:cn?"file":"media-source"},pn){var Sn=pn.codecs;if(pn.codecs.includes(",")){var En=pn.codecs.split(",");Sn=shaka.util.ManifestParserUtils.guessCodecs(vn.VIDEO,En),Sn=shaka.util.StreamUtils.getCorrectVideoCodecs_(Sn),En=shaka.util.ManifestParserUtils.guessCodecs(vn.AUDIO,En),En=shaka.util.MimeUtils.getFullOrConvertedType(pn.mimeType,En,vn.AUDIO),cn.audio={contentType:En,channels:2,bitrate:sn.bandwidth||1,samplerate:1,spatialRendering:!1}}if(Sn=shaka.util.StreamUtils.getCorrectVideoCodecs_(Sn),Sn=shaka.util.MimeUtils.getFullOrConvertedType(pn.mimeType,Sn,vn.VIDEO),cn.video={contentType:Sn,width:pn.width||64,height:pn.height||64,bitrate:pn.bandwidth||sn.bandwidth||1,framerate:pn.frameRate||1},pn.hdr)switch(pn.hdr){case"SDR":cn.video.transferFunction="srgb";break;case"PQ":cn.video.transferFunction="pq";break;case"HLG":cn.video.transferFunction="hlg"}}if(dn&&(Sn=shaka.util.StreamUtils.getCorrectAudioCodecs_(dn.codecs),vn=shaka.util.MimeUtils.getFullOrConvertedType(dn.mimeType,Sn,vn.AUDIO),cn.audio={contentType:vn,channels:dn.channelsCount||2,bitrate:dn.bandwidth||sn.bandwidth||1,samplerate:dn.audioSamplingRate||1,spatialRendering:dn.spatialAudio}),Sn=(sn.video?sn.video.drmInfos:[]).concat(sn.audio?sn.audio.drmInfos:[]),!Sn.length)return[cn];sn=[],vn=new Map,Sn=$jscomp.makeIterator(Sn);for(var Cn=Sn.next();!Cn.done;Cn=Sn.next())En=Cn.value,vn.get(En.keySystem)||vn.set(En.keySystem,[]),vn.get(En.keySystem).push(En);Sn=ln?"required":"optional",ln=ln?["persistent-license"]:["temporary"],En=$jscomp.makeIterator(vn.keys());for(var Pn=En.next();!Pn.done;Pn=En.next()){var Rn=Pn.value;Pn=Object.assign({},cn);var Ln=vn.get(Rn);for(Rn={keySystem:Rn,initDataType:"cenc",persistentState:Sn,distinctiveIdentifier:"optional",sessionTypes:ln},Ln=$jscomp.makeIterator(Ln),Cn=Ln.next();!Cn.done;Cn=Ln.next()){if(Cn=Cn.value,Cn.initData&&Cn.initData.length){for(var Fn=new Set,Gn=$jscomp.makeIterator(Cn.initData),Dn=Gn.next();!Dn.done;Dn=Gn.next())Fn.add(Dn.value.initDataType);1<Fn.size&&shaka.log.v2("DrmInfo contains more than one initDataType,","and we use the initDataType of the first initData.",Cn),Rn.initDataType=Cn.initData[0].initDataType}Cn.distinctiveIdentifierRequired&&(Rn.distinctiveIdentifier="required"),Cn.persistentStateRequired&&(Rn.persistentState="required"),Cn.sessionType&&(Rn.sessionTypes=[Cn.sessionType]),dn&&(Cn.audioRobustness!=""?Rn.audio?Rn.audio.robustness=Rn.audio.robustness||Cn.audioRobustness:Rn.audio={robustness:Cn.audioRobustness}:Rn.audio||(Rn.audio={})),pn&&(Cn.videoRobustness!=""?Rn.video?Rn.video.robustness=Rn.video.robustness||Cn.videoRobustness:Rn.video={robustness:Cn.videoRobustness}:Rn.video||(Rn.video={}))}Pn.keySystemConfiguration=Rn,sn.push(Pn)}return sn},shaka.util.StreamUtils.getCorrectAudioCodecs_=function(sn){return shaka.util.Platform.isTizen()&&sn.toLowerCase()=="ac-3"?"ec-3":sn},shaka.util.StreamUtils.getCorrectVideoCodecs_=function(sn){if(sn.includes("avc1")){var ln=sn.split(".");if(ln.length==3)return sn=ln.shift()+".",sn+=parseInt(ln.shift(),10).toString(16),sn+=("000"+parseInt(ln.shift(),10).toString(16)).slice(-4)}else if(sn=="vp9")return"vp09.00.41.08";return sn},shaka.util.StreamUtils.filterManifestByCurrentVariant=function(sn,ln){var cn=shaka.util.StreamUtils;ln.variants=ln.variants.filter(function(dn){var pn=dn.audio;return dn=dn.video,pn&&sn&&sn.audio&&!cn.areStreamsCompatible_(pn,sn.audio)?(shaka.log.debug("Dropping variant - not compatible with active audio","active audio",cn.getStreamSummaryString_(sn.audio),"variant.audio",cn.getStreamSummaryString_(pn)),!1):dn&&sn&&sn.video&&!cn.areStreamsCompatible_(dn,sn.video)?(shaka.log.debug("Dropping variant - not compatible with active video","active video",cn.getStreamSummaryString_(sn.video),"variant.video",cn.getStreamSummaryString_(dn)),!1):!0})},shaka.util.StreamUtils.filterTextStreams_=function(sn){sn.textStreams=sn.textStreams.filter(function(ln){var cn=shaka.util.MimeUtils.getFullType(ln.mimeType,ln.codecs);return(cn=shaka.text.TextEngine.isTypeSupported(cn))||shaka.log.debug("Dropping text stream. Is not supported by the platform.",ln),cn})},shaka.util.StreamUtils.filterImageStreams_=function(sn){var ln,cn,dn,pn,vn,Sn,En;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Cn){switch(Cn.nextAddress){case 1:ln=[],cn=$jscomp.makeIterator(sn.imageStreams),dn=cn.next();case 2:if(dn.done){Cn.jumpTo(4);break}if(pn=dn.value,vn=pn.mimeType,shaka.util.StreamUtils.supportedImageMimeTypes_.has(vn)){Cn.jumpTo(5);break}if(Sn=shaka.util.StreamUtils.minImage_.get(vn),!Sn){shaka.util.StreamUtils.supportedImageMimeTypes_.set(vn,!1),Cn.jumpTo(5);break}return Cn.yield(shaka.util.StreamUtils.isImageSupported_(Sn),7);case 7:En=Cn.yieldResult,shaka.util.StreamUtils.supportedImageMimeTypes_.set(vn,En);case 5:shaka.util.StreamUtils.supportedImageMimeTypes_.get(vn)?ln.push(pn):shaka.log.debug("Dropping image stream. Is not supported by the platform.",pn),dn=cn.next(),Cn.jumpTo(2);break;case 4:sn.imageStreams=ln,Cn.jumpToEnd()}})},shaka.util.StreamUtils.isImageSupported_=function(sn){return new Promise(function(ln){var cn=new Image;cn.src=sn,"decode"in cn?cn.decode().then(function(){ln(!0)}).catch(function(){ln(!1)}):cn.onload=cn.onerror=function(){ln(cn.height===2)}})},shaka.util.StreamUtils.areStreamsCompatible_=function(sn,ln){return!(sn.mimeType!=ln.mimeType||sn.codecs.split(".")[0]!=ln.codecs.split(".")[0])},shaka.util.StreamUtils.variantToTrack=function(sn){var ln=sn.audio,cn=sn.video,dn=ln?ln.mimeType:null,pn=cn?cn.mimeType:null,vn=ln?ln.codecs:null,Sn=cn?cn.codecs:null,En=[];Sn&&En.push(Sn),vn&&En.push(vn);var Cn=[];cn&&Cn.push(cn.mimeType),ln&&Cn.push(ln.mimeType),Cn=Cn[0]||null;var Pn=[];ln&&Pn.push(ln.kind),cn&&Pn.push(cn.kind),Pn=Pn[0]||null;var Rn=new Set;if(ln)for(var Ln=$jscomp.makeIterator(ln.roles),Fn=Ln.next();!Fn.done;Fn=Ln.next())Rn.add(Fn.value);if(cn)for(Ln=$jscomp.makeIterator(cn.roles),Fn=Ln.next();!Fn.done;Fn=Ln.next())Rn.add(Fn.value);return sn={id:sn.id,active:!1,type:"variant",bandwidth:sn.bandwidth,language:sn.language,label:null,kind:Pn,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:Cn,audioMimeType:dn,videoMimeType:pn,codecs:En.join(", "),audioCodec:vn,videoCodec:Sn,primary:sn.primary,roles:Array.from(Rn),audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null},cn&&(sn.videoId=cn.id,sn.originalVideoId=cn.originalId,sn.width=cn.width||null,sn.height=cn.height||null,sn.frameRate=cn.frameRate||null,sn.pixelAspectRatio=cn.pixelAspectRatio||null,sn.videoBandwidth=cn.bandwidth||null),ln&&(sn.audioId=ln.id,sn.originalAudioId=ln.originalId,sn.channelsCount=ln.channelsCount,sn.audioSamplingRate=ln.audioSamplingRate,sn.audioBandwidth=ln.bandwidth||null,sn.spatialAudio=ln.spatialAudio,sn.label=ln.label,sn.audioRoles=ln.roles),sn},shaka.util.StreamUtils.textStreamToTrack=function(sn){return{id:sn.id,active:!1,type:shaka.util.ManifestParserUtils.ContentType.TEXT,bandwidth:0,language:sn.language,label:sn.label,kind:sn.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:sn.mimeType,audioMimeType:null,videoMimeType:null,codecs:sn.codecs||null,audioCodec:null,videoCodec:null,primary:sn.primary,roles:sn.roles,audioRoles:null,forced:sn.forced,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:sn.originalId,originalImageId:null}},shaka.util.StreamUtils.imageStreamToTrack=function(sn){var ln=shaka.util.ManifestParserUtils.ContentType,cn=sn.width||null,dn=sn.height||null,pn=null;sn.segmentIndex&&(pn=sn.segmentIndex.get(0));var vn=sn.tilesLayout;return pn&&(vn=pn.getTilesLayout()||vn),vn&&cn!=null&&(cn/=Number(vn.split("x")[0])),vn&&dn!=null&&(dn/=Number(vn.split("x")[1])),{id:sn.id,active:!1,type:ln.IMAGE,bandwidth:sn.bandwidth||0,language:"",label:null,kind:null,width:cn,height:dn,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:sn.mimeType,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:vn||null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:sn.originalId}},shaka.util.StreamUtils.html5TrackId=function(sn){return sn.__shaka_id||(sn.__shaka_id=shaka.util.StreamUtils.nextTrackId_++),sn.__shaka_id},shaka.util.StreamUtils.html5TextTrackToTrack=function(sn){var ln=shaka.util.MimeUtils.CEA608_CLOSED_CAPTION_MIMETYPE,cn=shaka.util.StreamUtils.html5TrackToGenericShakaTrack_(sn);return cn.active=sn.mode!="disabled",cn.type="text",cn.originalTextId=sn.id,sn.kind=="captions"&&(cn.mimeType=ln),sn.kind&&(cn.roles=[sn.kind]),sn.kind=="forced"&&(cn.forced=!0),cn},shaka.util.StreamUtils.html5AudioTrackToTrack=function(sn){var ln=shaka.util.StreamUtils.html5TrackToGenericShakaTrack_(sn);return ln.active=sn.enabled,ln.type="variant",ln.originalAudioId=sn.id,sn.kind=="main"&&(ln.primary=!0),sn.kind&&(ln.roles=[sn.kind],ln.audioRoles=[sn.kind],ln.label=sn.label),ln},shaka.util.StreamUtils.html5TrackToGenericShakaTrack_=function(sn){return{id:shaka.util.StreamUtils.html5TrackId(sn),active:!1,type:"",bandwidth:0,language:shaka.util.LanguageUtils.normalize(sn.language),label:sn.label,kind:sn.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:null,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null}},shaka.util.StreamUtils.isPlayable=function(sn){return sn.allowedByApplication&&sn.allowedByKeySystem},shaka.util.StreamUtils.getPlayableVariants=function(sn){return sn.filter(function(ln){return shaka.util.StreamUtils.isPlayable(ln)})},shaka.util.StreamUtils.filterVariantsByAudioChannelCount=function(sn,ln){var cn=sn.filter(function(Sn){return Sn.audio&&Sn.audio.channelsCount}),dn=new Map;cn=$jscomp.makeIterator(cn);for(var pn=cn.next();!pn.done;pn=cn.next()){pn=pn.value;var vn=pn.audio.channelsCount;goog.asserts.assert(vn!=null,"Must have count after filtering!"),dn.has(vn)||dn.set(vn,[]),dn.get(vn).push(pn)}return cn=Array.from(dn.keys()),cn.length==0?sn:(sn=cn.filter(function(Sn){return Sn<=ln}),sn.length?dn.get(Math.max.apply(Math,$jscomp.arrayFromIterable(sn))):dn.get(Math.min.apply(Math,$jscomp.arrayFromIterable(cn))))},shaka.util.StreamUtils.filterStreamsByLanguageAndRole=function(sn,ln,cn,dn){var pn=shaka.util.LanguageUtils,vn=sn,Sn=sn.filter(function(Pn){return Pn.primary});Sn.length&&(vn=Sn);var En=vn.length?vn[0].language:"";if(vn=vn.filter(function(Pn){return Pn.language==En}),ln){var Cn=pn.findClosestLocale(pn.normalize(ln),sn.map(function(Pn){return Pn.language}));Cn&&(vn=sn.filter(function(Pn){return pn.normalize(Pn.language)==Cn}))}if(vn=vn.filter(function(Pn){return Pn.forced==dn}),cn){if(sn=shaka.util.StreamUtils.filterTextStreamsByRole_(vn,cn),sn.length)return sn;shaka.log.warning("No exact match for the text role could be found.")}else if(sn=vn.filter(function(Pn){return Pn.roles.length==0}),sn.length)return sn;return sn=vn.map(function(Pn){return Pn.roles}).reduce(shaka.util.Functional.collapseArrays,[]),sn.length?shaka.util.StreamUtils.filterTextStreamsByRole_(vn,sn[0]):vn},shaka.util.StreamUtils.filterTextStreamsByRole_=function(sn,ln){return sn.filter(function(cn){return cn.roles.includes(ln)})},shaka.util.StreamUtils.isAudio=function(sn){return sn.type==shaka.util.ManifestParserUtils.ContentType.AUDIO},shaka.util.StreamUtils.isVideo=function(sn){return sn.type==shaka.util.ManifestParserUtils.ContentType.VIDEO},shaka.util.StreamUtils.getVariantStreams=function(sn){var ln=[];return sn.audio&&ln.push(sn.audio),sn.video&&ln.push(sn.video),ln},shaka.util.StreamUtils.getVariantSummaryString_=function(sn){var ln=[];return sn.audio&&ln.push(shaka.util.StreamUtils.getStreamSummaryString_(sn.audio)),sn.video&&ln.push(shaka.util.StreamUtils.getStreamSummaryString_(sn.video)),ln.join(", ")},shaka.util.StreamUtils.getStreamSummaryString_=function(sn){return shaka.util.StreamUtils.isAudio(sn)?"type=audio codecs="+sn.codecs+" bandwidth="+sn.bandwidth+" channelsCount="+sn.channelsCount+" audioSamplingRate="+sn.audioSamplingRate:shaka.util.StreamUtils.isVideo(sn)?"type=video codecs="+sn.codecs+" bandwidth="+sn.bandwidth+" frameRate="+sn.frameRate+" width="+sn.width+" height="+sn.height:"unexpected stream type"},shaka.util.StreamUtils.nextTrackId_=0,shaka.util.StreamUtils.DecodingAttributes={SMOOTH:"smooth",POWER:"powerEfficient",BANDWIDTH:"bandwidth"},shaka.util.StreamUtils.supportedImageMimeTypes_=new Map().set("image/svg+xml",!0).set("image/png",!0).set("image/jpeg",!0).set("image/jpg",!0),shaka.util.StreamUtils.minWebPImage_="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",shaka.util.StreamUtils.minAvifImage_="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",shaka.util.StreamUtils.minImage_=new Map().set("image/webp",shaka.util.StreamUtils.minWebPImage_).set("image/avif",shaka.util.StreamUtils.minAvifImage_),shaka.abr.SimpleAbrManager=function(){var sn=this;this.switch_=null,this.enabled_=!1,this.bandwidthEstimator_=new shaka.abr.EwmaBandwidthEstimator,navigator.connection&&navigator.connection.addEventListener&&(this.onNetworkInformationChange_=function(){if(sn.config_.useNetworkInformation&&sn.enabled_){sn.bandwidthEstimator_=new shaka.abr.EwmaBandwidthEstimator,sn.config_&&sn.bandwidthEstimator_.configure(sn.config_.advanced);var ln=sn.chooseVariant();ln&&sn.switch_(ln)}},navigator.connection.addEventListener("change",this.onNetworkInformationChange_)),this.variants_=[],this.playbackRate_=1,this.startupComplete_=!1,this.onNetworkInformationChange_=this.resizeObserver_=this.mediaElement_=this.config_=this.lastTimeChosenMs_=null,this.resizeObserverTimer_=new shaka.util.Timer(function(){if(sn.config_.restrictToElementSize){var ln=sn.chooseVariant();ln&&sn.switch_(ln)}})},shaka.abr.SimpleAbrManager.prototype.stop=function(){this.switch_=null,this.enabled_=!1,this.variants_=[],this.playbackRate_=1,this.mediaElement_=this.lastTimeChosenMs_=null,this.resizeObserver_&&(this.resizeObserver_.disconnect(),this.resizeObserver_=null),this.resizeObserverTimer_.stop()},shaka.abr.SimpleAbrManager.prototype.release=function(){navigator.connection&&navigator.connection.removeEventListener&&(navigator.connection.removeEventListener("change",this.onNetworkInformationChange_),this.onNetworkInformationChange_=null),this.resizeObserverTimer_=null},shaka.abr.SimpleAbrManager.prototype.init=function(sn){this.switch_=sn},shaka.abr.SimpleAbrManager.prototype.chooseVariant=function(){var sn=shaka.abr.SimpleAbrManager,ln=1/0,cn=1/0;this.config_.restrictToScreenSize&&(cn=this.config_.ignoreDevicePixelRatio?1:window.devicePixelRatio,ln=window.screen.height*cn,cn*=window.screen.width),this.resizeObserver_&&this.config_.restrictToElementSize&&(cn=this.config_.ignoreDevicePixelRatio?1:window.devicePixelRatio,ln=this.mediaElement_.clientWidth*cn,cn*=this.mediaElement_.clientHeight),ln=sn.filterAndSortVariants_(this.config_.restrictions,this.variants_,ln,cn),cn=this.getDefaultBandwidth_(),cn=this.bandwidthEstimator_.getBandwidthEstimate(cn),this.variants_.length&&!ln.length&&(shaka.log.warning("No variants met the ABR restrictions. Choosing a variant by lowest bandwidth."),ln=sn.filterAndSortVariants_(null,this.variants_,1/0,1/0),ln=[ln[0]]),sn=ln[0]||null;for(var dn=0;dn<ln.length;dn++){for(var pn=ln[dn],vn=isNaN(this.playbackRate_)?1:Math.abs(this.playbackRate_),Sn=vn*pn.bandwidth,En=Sn/this.config_.bandwidthDowngradeTarget,Cn={bandwidth:1/0},Pn=dn+1;Pn<ln.length;Pn++)if(pn.bandwidth!=ln[Pn].bandwidth){Cn=ln[Pn];break}vn=vn*Cn.bandwidth/this.config_.bandwidthUpgradeTarget,shaka.log.v2("Bandwidth ranges:",(Sn/1e6).toFixed(3),(En/1e6).toFixed(3),(vn/1e6).toFixed(3)),cn>=En&&cn<=vn&&sn.bandwidth!=pn.bandwidth&&(sn=pn)}return this.lastTimeChosenMs_=Date.now(),sn},shaka.abr.SimpleAbrManager.prototype.enable=function(){this.enabled_=!0},shaka.abr.SimpleAbrManager.prototype.disable=function(){this.enabled_=!1},shaka.abr.SimpleAbrManager.prototype.segmentDownloaded=function(sn,ln){shaka.log.v2("Segment downloaded:","deltaTimeMs="+sn,"numBytes="+ln,"lastTimeChosenMs="+this.lastTimeChosenMs_,"enabled="+this.enabled_),goog.asserts.assert(0<=sn,"expected a non-negative duration"),this.bandwidthEstimator_.sample(sn,ln),this.lastTimeChosenMs_!=null&&this.enabled_&&this.suggestStreams_()},shaka.abr.SimpleAbrManager.prototype.getBandwidthEstimate=function(){var sn=this.getDefaultBandwidth_();return this.bandwidthEstimator_.getBandwidthEstimate(sn)},shaka.abr.SimpleAbrManager.prototype.setVariants=function(sn){this.variants_=sn},shaka.abr.SimpleAbrManager.prototype.playbackRateChanged=function(sn){this.playbackRate_=sn},shaka.abr.SimpleAbrManager.prototype.setMediaElement=function(sn){var ln=this;this.mediaElement_=sn,this.resizeObserver_&&(this.resizeObserver_.disconnect(),this.resizeObserver_=null),this.mediaElement_&&"ResizeObserver"in window&&(this.resizeObserver_=new ResizeObserver(function(){ln.resizeObserverTimer_.tickAfter(shaka.abr.SimpleAbrManager.RESIZE_OBSERVER_BATCH_TIME)}),this.resizeObserver_.observe(this.mediaElement_))},shaka.abr.SimpleAbrManager.prototype.configure=function(sn){this.config_=sn,this.bandwidthEstimator_&&this.config_&&this.bandwidthEstimator_.configure(this.config_.advanced)},shaka.abr.SimpleAbrManager.prototype.suggestStreams_=function(){if(shaka.log.v2("Suggesting Streams..."),goog.asserts.assert(this.lastTimeChosenMs_!=null,"lastTimeChosenMs_ should not be null"),this.startupComplete_){if(Date.now()-this.lastTimeChosenMs_<1e3*this.config_.switchInterval){shaka.log.v2("Still within switch interval...");return}}else{if(!this.bandwidthEstimator_.hasGoodEstimate()){shaka.log.v2("Still waiting for a good estimate...");return}this.startupComplete_=!0}var sn=this.chooseVariant(),ln=this.getDefaultBandwidth_();ln=this.bandwidthEstimator_.getBandwidthEstimate(ln),ln=Math.round(ln/1e3),sn&&(shaka.log.debug("Calling switch_(), bandwidth="+ln+" kbps"),this.switch_(sn))},shaka.abr.SimpleAbrManager.prototype.getDefaultBandwidth_=function(){var sn=this.config_.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&this.config_.useNetworkInformation&&(sn=1e6*navigator.connection.downlink),sn},shaka.abr.SimpleAbrManager.filterAndSortVariants_=function(sn,ln,cn,dn){return sn&&(ln=ln.filter(function(pn){return goog.asserts.assert(sn,"Restrictions should exist!"),shaka.util.StreamUtils.meetsRestrictions(pn,sn,{width:dn,height:cn})})),ln.sort(function(pn,vn){return pn.bandwidth-vn.bandwidth})},goog.exportSymbol("shaka.abr.SimpleAbrManager",shaka.abr.SimpleAbrManager),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"configure",shaka.abr.SimpleAbrManager.prototype.configure),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"setMediaElement",shaka.abr.SimpleAbrManager.prototype.setMediaElement),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"playbackRateChanged",shaka.abr.SimpleAbrManager.prototype.playbackRateChanged),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"setVariants",shaka.abr.SimpleAbrManager.prototype.setVariants),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"getBandwidthEstimate",shaka.abr.SimpleAbrManager.prototype.getBandwidthEstimate),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"segmentDownloaded",shaka.abr.SimpleAbrManager.prototype.segmentDownloaded),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"disable",shaka.abr.SimpleAbrManager.prototype.disable),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"enable",shaka.abr.SimpleAbrManager.prototype.enable),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"chooseVariant",shaka.abr.SimpleAbrManager.prototype.chooseVariant),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"init",shaka.abr.SimpleAbrManager.prototype.init),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"release",shaka.abr.SimpleAbrManager.prototype.release),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"stop",shaka.abr.SimpleAbrManager.prototype.stop),shaka.abr.SimpleAbrManager.RESIZE_OBSERVER_BATCH_TIME=1,shaka.deprecate={},shaka.deprecate.Version=function(sn,ln){this.major_=sn,this.minor_=ln},shaka.deprecate.Version.prototype.major=function(){return this.major_},shaka.deprecate.Version.prototype.minor=function(){return this.minor_},shaka.deprecate.Version.prototype.compareTo=function(sn){var ln=this.minor_-sn.minor_;return this.major_-sn.major_||ln},shaka.deprecate.Version.prototype.toString=function(){return"v"+this.major_+"."+this.minor_},shaka.deprecate.Version.parse=function(sn){return sn=sn.substring(1).split(".",2),new shaka.deprecate.Version(Number(sn[0]),Number(sn[1]))},shaka.deprecate.Enforcer=function(sn,ln,cn){this.libraryVersion_=sn,this.onPending_=ln,this.onExpired_=cn},shaka.deprecate.Enforcer.prototype.enforce=function(sn,ln,cn){(0<sn.compareTo(this.libraryVersion_)?this.onPending_:this.onExpired_)(this.libraryVersion_,sn,ln,cn)},shaka.Deprecate=function(){},shaka.Deprecate.init=function(sn){goog.asserts.assert(shaka.Deprecate.enforcer_==null,"Deprecate.init should only be called once."),shaka.Deprecate.enforcer_=new shaka.deprecate.Enforcer(shaka.deprecate.Version.parse(sn),shaka.Deprecate.onPending_,shaka.Deprecate.onExpired_)},shaka.Deprecate.deprecateFeature=function(sn,ln,cn){var dn=shaka.Deprecate.enforcer_;goog.asserts.assert(dn,"Missing deprecation enforcer. Was |init| called?"),sn=new shaka.deprecate.Version(sn,0),dn.enforce(sn,ln,cn)},shaka.Deprecate.onPending_=function(sn,ln,cn,dn){shaka.log.alwaysWarn([cn,"has been deprecated and will be removed in",ln,". We are currently at version",sn,". Additional information:",dn].join(" "))},shaka.Deprecate.onExpired_=function(sn,ln,cn,dn){sn=[cn,"has been deprecated and has been removed in",ln,". We are now at version",sn,". Additional information:",dn].join(""),shaka.log.alwaysError(sn),goog.asserts.assert(!1,sn)},shaka.Deprecate.enforcer_=null,shaka.config={},shaka.config.AutoShowText={NEVER:0,ALWAYS:1,IF_PREFERRED_TEXT_LANGUAGE:2,IF_SUBTITLES_MAY_BE_NEEDED:3},goog.exportSymbol("shaka.config.AutoShowText",shaka.config.AutoShowText),shaka.media.AdaptationSet=function(sn,ln){for(this.root_=sn,this.variants_=new Set([sn]),ln=ln||[],sn=$jscomp.makeIterator(ln),ln=sn.next();!ln.done;ln=sn.next())this.add(ln.value)},shaka.media.AdaptationSet.prototype.add=function(sn){return this.canInclude(sn)?(this.variants_.add(sn),!0):(shaka.log.warning("Rejecting variant - not compatible with root."),!1)},shaka.media.AdaptationSet.prototype.canInclude=function(sn){return shaka.media.AdaptationSet.areAdaptable(this.root_,sn)},shaka.media.AdaptationSet.areAdaptable=function(sn,ln){var cn=shaka.media.AdaptationSet;return!!sn.audio!=!!ln.audio||!!sn.video!=!!ln.video||sn.language!=ln.language||(goog.asserts.assert(!!sn.audio==!!ln.audio,"Both should either have audio or not have audio."),sn.audio&&ln.audio&&!cn.areAudiosCompatible_(sn.audio,ln.audio))?!1:(goog.asserts.assert(!!sn.video==!!ln.video,"Both should either have video or not have video."),!(sn.video&&ln.video&&!cn.areVideosCompatible_(sn.video,ln.video)))},shaka.media.AdaptationSet.prototype.values=function(){return this.variants_.values()},shaka.media.AdaptationSet.areAudiosCompatible_=function(sn,ln){var cn=shaka.media.AdaptationSet;return!((!sn.channelsCount||!ln.channelsCount||2<sn.channelsCount||2<ln.channelsCount)&&sn.channelsCount!=ln.channelsCount||!cn.canTransitionBetween_(sn,ln)||!cn.areRolesEqual_(sn.roles,ln.roles))},shaka.media.AdaptationSet.areVideosCompatible_=function(sn,ln){var cn=shaka.media.AdaptationSet;return!!(cn.canTransitionBetween_(sn,ln)&&cn.areRolesEqual_(sn.roles,ln.roles))},shaka.media.AdaptationSet.canTransitionBetween_=function(sn,ln){if(sn.mimeType!=ln.mimeType||(sn=shaka.util.MimeUtils.splitCodecs(sn.codecs).map(function(dn){return shaka.util.MimeUtils.getCodecBase(dn)}),ln=shaka.util.MimeUtils.splitCodecs(ln.codecs).map(function(dn){return shaka.util.MimeUtils.getCodecBase(dn)}),sn.length!=ln.length))return!1;sn.sort(),ln.sort();for(var cn=0;cn<sn.length;cn++)if(sn[cn]!=ln[cn])return!1;return!0},shaka.media.AdaptationSet.areRolesEqual_=function(sn,ln){if(sn=new Set(sn),ln=new Set(ln),sn.delete("main"),ln.delete("main"),sn.size!=ln.size)return!1;sn=$jscomp.makeIterator(sn);for(var cn=sn.next();!cn.done;cn=sn.next())if(!ln.has(cn.value))return!1;return!0},shaka.media.AdaptationSetCriteria=function(){},shaka.media.AdaptationSetCriteria.prototype.create=function(sn){},shaka.media.ExampleBasedCriteria=function(sn){this.example_=sn,this.fallback_=new shaka.media.PreferenceBasedCriteria(sn.language,"",sn.audio&&sn.audio.channelsCount?sn.audio.channelsCount:0,"")},shaka.media.ExampleBasedCriteria.prototype.create=function(sn){var ln=this,cn=sn.filter(function(dn){return shaka.media.AdaptationSet.areAdaptable(ln.example_,dn)});return cn.length?new shaka.media.AdaptationSet(cn[0],cn):this.fallback_.create(sn)},shaka.media.PreferenceBasedCriteria=function(sn,ln,cn,dn){this.language_=sn,this.role_=ln,this.channelCount_=cn,this.label_=dn===void 0?"":dn},shaka.media.PreferenceBasedCriteria.prototype.create=function(sn){var ln=shaka.media.PreferenceBasedCriteria,cn=shaka.util.StreamUtils,dn=[];dn=ln.filterByLanguage_(sn,this.language_);var pn=sn.filter(function(vn){return vn.primary});for(dn=dn.length?dn:pn.length?pn:sn,sn=ln.filterVariantsByRole_(dn,this.role_),sn.length?dn=sn:shaka.log.warning("No exact match for variant role could be found."),this.channelCount_&&(cn=cn.filterVariantsByAudioChannelCount(dn,this.channelCount_),cn.length?dn=cn:shaka.log.warning("No exact match for the channel count could be found.")),this.label_&&(ln=ln.filterVariantsByLabel_(dn,this.label_),ln.length?dn=ln:shaka.log.warning("No exact match for variant label could be found.")),ln=new shaka.media.AdaptationSet(dn[0]),dn=$jscomp.makeIterator(dn),cn=dn.next();!cn.done;cn=dn.next())cn=cn.value,ln.canInclude(cn)&&ln.add(cn);return ln},shaka.media.PreferenceBasedCriteria.filterByLanguage_=function(sn,ln){var cn=shaka.util.LanguageUtils;ln=cn.normalize(ln);var dn=cn.findClosestLocale(ln,sn.map(function(pn){return cn.getLocaleForVariant(pn)}));return dn?sn.filter(function(pn){return dn==cn.getLocaleForVariant(pn)}):[]},shaka.media.PreferenceBasedCriteria.filterVariantsByRole_=function(sn,ln){return sn.filter(function(cn){return cn.audio?ln?cn.audio.roles.includes(ln):cn.audio.roles.length==0:!1})},shaka.media.PreferenceBasedCriteria.filterVariantsByLabel_=function(sn,ln){return sn.filter(function(cn){if(!cn.audio)return!1;cn=cn.audio.label.toLowerCase();var dn=ln.toLowerCase();return cn==dn})},shaka.media.BufferingObserver=function(sn,ln){var cn=shaka.media.BufferingObserver.State;this.previousState_=cn.SATISFIED,this.thresholds_=new Map().set(cn.SATISFIED,ln).set(cn.STARVING,sn)},shaka.media.BufferingObserver.prototype.setThresholds=function(sn,ln){var cn=shaka.media.BufferingObserver.State;this.thresholds_.set(cn.SATISFIED,ln).set(cn.STARVING,sn)},shaka.media.BufferingObserver.prototype.update=function(sn,ln){var cn=shaka.media.BufferingObserver.State,dn=this.thresholds_.get(this.previousState_),pn=this.previousState_;return this.previousState_=sn=ln||sn>=dn?cn.SATISFIED:cn.STARVING,pn!=sn},shaka.media.BufferingObserver.prototype.setState=function(sn){this.previousState_=sn},shaka.media.BufferingObserver.prototype.getState=function(){return this.previousState_},shaka.media.BufferingObserver.State={STARVING:0,SATISFIED:1},shaka.net={},shaka.net.Backoff=function(sn,ln){ln=ln===void 0?!1:ln;var cn=shaka.net.Backoff.defaultRetryParameters();this.maxAttempts_=sn.maxAttempts==null?cn.maxAttempts:sn.maxAttempts,goog.asserts.assert(1<=this.maxAttempts_,"maxAttempts should be >= 1"),this.baseDelay_=sn.baseDelay==null?cn.baseDelay:sn.baseDelay,goog.asserts.assert(0<=this.baseDelay_,"baseDelay should be >= 0"),this.fuzzFactor_=sn.fuzzFactor==null?cn.fuzzFactor:sn.fuzzFactor,goog.asserts.assert(0<=this.fuzzFactor_,"fuzzFactor should be >= 0"),this.backoffFactor_=sn.backoffFactor==null?cn.backoffFactor:sn.backoffFactor,goog.asserts.assert(0<=this.backoffFactor_,"backoffFactor should be >= 0"),this.numAttempts_=0,this.nextUnfuzzedDelay_=this.baseDelay_,(this.autoReset_=ln)&&(goog.asserts.assert(2<=this.maxAttempts_,"maxAttempts must be >= 2 for autoReset == true"),this.numAttempts_=1)},shaka.net.Backoff.prototype.attempt=function(){var sn=this,ln,cn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dn){if(dn.nextAddress==1){if(sn.numAttempts_>=sn.maxAttempts_)if(sn.autoReset_)sn.reset_();else throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.ATTEMPTS_EXHAUSTED);return ln=sn.numAttempts_,sn.numAttempts_++,ln==0?(goog.asserts.assert(!sn.autoReset_,"Failed to delay with auto-reset!"),dn.return()):(cn=shaka.net.Backoff.fuzz_(sn.nextUnfuzzedDelay_,sn.fuzzFactor_),dn.yield(new Promise(function(pn){shaka.net.Backoff.defer(cn,pn)}),2))}sn.nextUnfuzzedDelay_*=sn.backoffFactor_,dn.jumpToEnd()})},shaka.net.Backoff.defaultRetryParameters=function(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}},shaka.net.Backoff.fuzz_=function(sn,ln){return sn*(1+(2*Math.random()-1)*ln)},shaka.net.Backoff.prototype.reset_=function(){goog.asserts.assert(this.autoReset_,"Should only be used for auto-reset!"),this.numAttempts_=1,this.nextUnfuzzedDelay_=this.baseDelay_},shaka.net.Backoff.defer=function(sn,ln){new shaka.util.Timer(ln).tickAfter(sn/1e3)},shaka.util.AbortableOperation=function(sn,ln){this.promise=sn,this.onAbort_=ln,this.aborted_=!1},shaka.util.AbortableOperation.failed=function(sn){return new shaka.util.AbortableOperation(Promise.reject(sn),function(){return Promise.resolve()})},shaka.util.AbortableOperation.aborted=function(){var sn=Promise.reject(shaka.util.AbortableOperation.abortError());return sn.catch(function(){}),new shaka.util.AbortableOperation(sn,function(){return Promise.resolve()})},shaka.util.AbortableOperation.abortError=function(){return new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.OPERATION_ABORTED)},shaka.util.AbortableOperation.completed=function(sn){return new shaka.util.AbortableOperation(Promise.resolve(sn),function(){return Promise.resolve()})},shaka.util.AbortableOperation.notAbortable=function(sn){return new shaka.util.AbortableOperation(sn,function(){return sn.catch(function(){})})},shaka.util.AbortableOperation.prototype.abort=function(){return this.aborted_=!0,this.onAbort_()},shaka.util.AbortableOperation.all=function(sn){return new shaka.util.AbortableOperation(Promise.all(sn.map(function(ln){return ln.promise})),function(){return Promise.all(sn.map(function(ln){return ln.abort()}))})},shaka.util.AbortableOperation.prototype.finally=function(sn){return this.promise.then(function(ln){return sn(!0)},function(ln){return sn(!1)}),this},shaka.util.AbortableOperation.prototype.chain=function(sn,ln){var cn=this,dn=new shaka.util.PublicPromise,pn=shaka.util.AbortableOperation.abortError(),vn=function(){return dn.reject(pn),cn.abort()},Sn=function(En){return function(Cn){if(cn.aborted_&&En)dn.reject(pn);else{var Pn=En?sn:ln;Pn?vn=shaka.util.AbortableOperation.wrapChainCallback_(Pn,Cn,dn):(En?dn.resolve:dn.reject)(Cn)}}};return this.promise.then(Sn(!0),Sn(!1)),new shaka.util.AbortableOperation(dn,function(){return vn()})},shaka.util.AbortableOperation.wrapChainCallback_=function(sn,ln,cn){try{var dn=sn(ln);return dn&&dn.promise&&dn.abort?(cn.resolve(dn.promise),function(){return dn.abort()}):(cn.resolve(dn),function(){return Promise.resolve(dn).then(function(){},function(){})})}catch(pn){return cn.reject(pn),function(){return Promise.resolve()}}},goog.exportSymbol("shaka.util.AbortableOperation",shaka.util.AbortableOperation),goog.exportProperty(shaka.util.AbortableOperation.prototype,"chain",shaka.util.AbortableOperation.prototype.chain),goog.exportProperty(shaka.util.AbortableOperation.prototype,"finally",shaka.util.AbortableOperation.prototype.finally),goog.exportProperty(shaka.util.AbortableOperation,"all",shaka.util.AbortableOperation.all),goog.exportProperty(shaka.util.AbortableOperation.prototype,"abort",shaka.util.AbortableOperation.prototype.abort),goog.exportProperty(shaka.util.AbortableOperation,"notAbortable",shaka.util.AbortableOperation.notAbortable),goog.exportProperty(shaka.util.AbortableOperation,"completed",shaka.util.AbortableOperation.completed),goog.exportProperty(shaka.util.AbortableOperation,"aborted",shaka.util.AbortableOperation.aborted),goog.exportProperty(shaka.util.AbortableOperation,"failed",shaka.util.AbortableOperation.failed),shaka.util.ObjectUtils=function(){},shaka.util.ObjectUtils.cloneObject=function(sn){var ln=new Set,cn=function(dn){switch(typeof dn){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return dn;default:if(!dn||dn.buffer&&dn.buffer.constructor==ArrayBuffer)return dn;if(ln.has(dn))return null;var pn=dn.constructor==Array;if(dn.constructor!=Object&&!pn)return null;ln.add(dn);var vn=pn?[]:{},Sn;for(Sn in dn)vn[Sn]=cn(dn[Sn]);return pn&&(vn.length=dn.length),vn}};return cn(sn)},shaka.util.ObjectUtils.shallowCloneObject=function(sn){var ln={},cn;for(cn in sn)ln[cn]=sn[cn];return ln},shaka.util.OperationManager=function(){this.operations_=[]},shaka.util.OperationManager.prototype.manage=function(sn){var ln=this;this.operations_.push(sn.finally(function(){shaka.util.ArrayUtils.remove(ln.operations_,sn)}))},shaka.util.OperationManager.prototype.destroy=function(){for(var sn=[],ln=$jscomp.makeIterator(this.operations_),cn=ln.next();!cn.done;cn=ln.next())cn=cn.value,cn.promise.catch(function(){}),sn.push(cn.abort());return this.operations_=[],Promise.all(sn)},shaka.net.NetworkingEngine=function(sn,ln,cn){shaka.util.FakeEventTarget.call(this),this.destroyed_=!1,this.operationManager_=new shaka.util.OperationManager,this.requestFilters_=new Set,this.responseFilters_=new Set,this.onProgressUpdated_=sn||null,this.onHeadersReceived_=ln||null,this.onDownloadFailed_=cn||null,this.forceHTTPS_=!1},$jscomp.inherits(shaka.net.NetworkingEngine,shaka.util.FakeEventTarget),shaka.net.NetworkingEngine.prototype.setForceHTTPS=function(sn){this.forceHTTPS_=sn},shaka.net.NetworkingEngine.registerScheme=function(sn,ln,cn,dn){dn=dn===void 0?!1:dn,goog.asserts.assert(cn==null||0<cn,"explicit priority must be > 0"),cn=cn||shaka.net.NetworkingEngine.PluginPriority.APPLICATION;var pn=shaka.net.NetworkingEngine.schemes_[sn];(!pn||cn>=pn.priority)&&(shaka.net.NetworkingEngine.schemes_[sn]={priority:cn,plugin:ln,progressSupport:dn})},shaka.net.NetworkingEngine.unregisterScheme=function(sn){delete shaka.net.NetworkingEngine.schemes_[sn]},shaka.net.NetworkingEngine.prototype.registerRequestFilter=function(sn){this.requestFilters_.add(sn)},shaka.net.NetworkingEngine.prototype.unregisterRequestFilter=function(sn){this.requestFilters_.delete(sn)},shaka.net.NetworkingEngine.prototype.clearAllRequestFilters=function(){this.requestFilters_.clear()},shaka.net.NetworkingEngine.prototype.registerResponseFilter=function(sn){this.responseFilters_.add(sn)},shaka.net.NetworkingEngine.prototype.unregisterResponseFilter=function(sn){this.responseFilters_.delete(sn)},shaka.net.NetworkingEngine.prototype.clearAllResponseFilters=function(){this.responseFilters_.clear()},shaka.net.NetworkingEngine.defaultRetryParameters=function(){return shaka.net.Backoff.defaultRetryParameters()},shaka.net.NetworkingEngine.makeRequest=function(sn,ln,cn){return{uris:sn,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:ln,licenseRequestType:null,sessionId:null,drmInfo:null,initData:null,initDataType:null,streamDataCallback:cn===void 0?null:cn}},shaka.net.NetworkingEngine.prototype.destroy=function(){return this.destroyed_=!0,this.requestFilters_.clear(),this.responseFilters_.clear(),shaka.util.FakeEventTarget.prototype.release.call(this),this.operationManager_.destroy()},shaka.net.NetworkingEngine.prototype.request=function(sn,ln){var cn=this,dn=shaka.util.ObjectUtils,pn=new shaka.net.NetworkingEngine.NumBytesRemainingClass;if(this.destroyed_)return dn=Promise.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.OPERATION_ABORTED)),dn.catch(function(){}),new shaka.net.NetworkingEngine.PendingRequest(dn,function(){return Promise.resolve()},pn);goog.asserts.assert(ln.uris&&ln.uris.length,"Request without URIs!"),ln.method=ln.method||"GET",ln.headers=ln.headers||{},ln.retryParameters=ln.retryParameters?dn.cloneObject(ln.retryParameters):shaka.net.NetworkingEngine.defaultRetryParameters(),ln.uris=dn.cloneObject(ln.uris),dn=this.filterRequest_(sn,ln);var vn=dn.chain(function(){return cn.makeRequestWithRetry_(sn,ln,pn)}),Sn=vn.chain(function(Ln){return cn.filterResponse_(sn,Ln)}),En=Date.now(),Cn=0;dn.promise.then(function(){Cn=Date.now()-En},function(){});var Pn=0;vn.promise.then(function(){Pn=Date.now()},function(){});var Rn=Sn.chain(function(Ln){var Fn=Date.now()-Pn,Gn=Ln.response;return Gn.timeMs+=Cn,Gn.timeMs+=Fn,!Ln.gotProgress&&cn.onProgressUpdated_&&!Gn.fromCache&&ln.method!="HEAD"&&sn==shaka.net.NetworkingEngine.RequestType.SEGMENT&&cn.onProgressUpdated_(Gn.timeMs,Gn.data.byteLength),Gn},function(Ln){throw Ln&&(goog.asserts.assert(Ln instanceof shaka.util.Error,"Wrong error type"),Ln.severity=shaka.util.Error.Severity.CRITICAL),Ln});return dn=new shaka.net.NetworkingEngine.PendingRequest(Rn.promise,function(){return Rn.abort()},pn),this.operationManager_.manage(dn),dn},shaka.net.NetworkingEngine.prototype.filterRequest_=function(sn,ln){for(var cn=shaka.util.AbortableOperation.completed(void 0),dn={},pn=$jscomp.makeIterator(this.requestFilters_),vn=pn.next();!vn.done;dn={$jscomp$loop$prop$requestFilter$688:dn.$jscomp$loop$prop$requestFilter$688},vn=pn.next())dn.$jscomp$loop$prop$requestFilter$688=vn.value,cn=cn.chain(function(Sn){return function(){return ln.body&&(ln.body=shaka.util.BufferUtils.toArrayBuffer(ln.body)),Sn.$jscomp$loop$prop$requestFilter$688(sn,ln)}}(dn));return cn.chain(void 0,function(Sn){throw Sn instanceof shaka.util.Error&&Sn.code==shaka.util.Error.Code.OPERATION_ABORTED?Sn:new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.REQUEST_FILTER_ERROR,Sn)})},shaka.net.NetworkingEngine.prototype.makeRequestWithRetry_=function(sn,ln,cn){var dn=new shaka.net.Backoff(ln.retryParameters,!1);return this.send_(sn,ln,dn,0,null,cn)},shaka.net.NetworkingEngine.prototype.send_=function(sn,ln,cn,dn,pn,vn){var Sn=this;this.forceHTTPS_&&(ln.uris[dn]=ln.uris[dn].replace("http://","https://"));var En=new goog.Uri(ln.uris[dn]),Cn=En.getScheme(),Pn=!1;Cn||(Cn=shaka.net.NetworkingEngine.getLocationProtocol_(),goog.asserts.assert(Cn[Cn.length-1]==":","location.protocol expected to end with a colon!"),Cn=Cn.slice(0,-1),En.setScheme(Cn),ln.uris[dn]=En.toString()),Cn=Cn.toLowerCase();var Rn=(Cn=shaka.net.NetworkingEngine.schemes_[Cn])?Cn.plugin:null;if(!Rn)return shaka.util.AbortableOperation.failed(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.UNSUPPORTED_SCHEME,En));var Ln=Cn.progressSupport,Fn=null,Gn=null,Dn=!1,Kn=!1,qn;return shaka.util.AbortableOperation.notAbortable(cn.attempt()).chain(function(){if(Sn.destroyed_)return shaka.util.AbortableOperation.aborted();qn=Date.now();var Zn=shaka.net.NetworkingEngine.RequestType.SEGMENT,Yn=Rn(ln.uris[dn],ln,sn,function(us,as,cs){Fn&&Fn.stop(),Gn&&Gn.tickAfter(rs/1e3),Sn.onProgressUpdated_&&sn==Zn&&(Sn.onProgressUpdated_(us,as),Pn=!0,vn.setBytes(cs))},function(us){Sn.onHeadersReceived_&&Sn.onHeadersReceived_(us,ln,sn),Kn=!0});if(!Ln)return Yn;var Jn=ln.retryParameters.connectionTimeout;Jn&&(Fn=new shaka.util.Timer(function(){Dn=!0,Yn.abort()}),Fn.tickAfter(Jn/1e3));var rs=ln.retryParameters.stallTimeout;return rs&&(Gn=new shaka.util.Timer(function(){Dn=!0,Yn.abort()})),Yn}).chain(function(Zn){Fn&&Fn.stop(),Gn&&Gn.stop(),Zn.timeMs==null&&(Zn.timeMs=Date.now()-qn);var Yn={response:Zn,gotProgress:Pn};return!Kn&&Sn.onHeadersReceived_&&Sn.onHeadersReceived_(Zn.headers,ln,sn),Yn},function(Zn){if(Fn&&Fn.stop(),Gn&&Gn.stop(),Sn.onDownloadFailed_){var Yn=null,Jn=0;Zn instanceof shaka.util.Error&&(Yn=Zn,Zn.code==shaka.util.Error.Code.BAD_HTTP_STATUS&&(Jn=Zn.data[1])),Sn.onDownloadFailed_(ln,Yn,Jn,Dn)}if(Sn.destroyed_)return shaka.util.AbortableOperation.aborted();if(Dn&&(Zn=new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.TIMEOUT,ln.uris[dn],sn)),Zn instanceof shaka.util.Error){if(Zn.code==shaka.util.Error.Code.OPERATION_ABORTED)throw Zn;if(Zn.code==shaka.util.Error.Code.ATTEMPTS_EXHAUSTED)throw goog.asserts.assert(pn,"Should have last error"),pn;if(Zn.severity==shaka.util.Error.Severity.RECOVERABLE)return Yn=new Map().set("error",Zn),Yn=new shaka.util.FakeEvent("retry",Yn),Sn.dispatchEvent(Yn),dn=(dn+1)%ln.uris.length,Sn.send_(sn,ln,cn,dn,Zn,vn)}throw Zn})},shaka.net.NetworkingEngine.prototype.filterResponse_=function(sn,ln){for(var cn=shaka.util.AbortableOperation.completed(void 0),dn={},pn=$jscomp.makeIterator(this.responseFilters_),vn=pn.next();!vn.done;dn={$jscomp$loop$prop$responseFilter$690:dn.$jscomp$loop$prop$responseFilter$690},vn=pn.next())dn.$jscomp$loop$prop$responseFilter$690=vn.value,cn=cn.chain(function(Sn){return function(){var En=ln.response;return En.data&&(En.data=shaka.util.BufferUtils.toArrayBuffer(En.data)),Sn.$jscomp$loop$prop$responseFilter$690(sn,En)}}(dn));return cn.chain(function(){return ln},function(Sn){var En=shaka.util.Error.Severity.CRITICAL;if(Sn instanceof shaka.util.Error){if(Sn.code==shaka.util.Error.Code.OPERATION_ABORTED)throw Sn;En=Sn.severity}throw new shaka.util.Error(En,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.RESPONSE_FILTER_ERROR,Sn)})},shaka.net.NetworkingEngine.getLocationProtocol_=function(){return location.protocol},goog.exportSymbol("shaka.net.NetworkingEngine",shaka.net.NetworkingEngine),goog.exportProperty(shaka.net.NetworkingEngine.prototype,"request",shaka.net.NetworkingEngine.prototype.request),goog.exportProperty(shaka.net.NetworkingEngine.prototype,"destroy",shaka.net.NetworkingEngine.prototype.destroy),goog.exportProperty(shaka.net.NetworkingEngine,"makeRequest",shaka.net.NetworkingEngine.makeRequest),goog.exportProperty(shaka.net.NetworkingEngine,"defaultRetryParameters",shaka.net.NetworkingEngine.defaultRetryParameters),goog.exportProperty(shaka.net.NetworkingEngine.prototype,"clearAllResponseFilters",shaka.net.NetworkingEngine.prototype.clearAllResponseFilters),goog.exportProperty(shaka.net.NetworkingEngine.prototype,"unregisterResponseFilter",shaka.net.NetworkingEngine.prototype.unregisterResponseFilter),goog.exportProperty(shaka.net.NetworkingEngine.prototype,"registerResponseFilter",shaka.net.NetworkingEngine.prototype.registerResponseFilter),goog.exportProperty(shaka.net.NetworkingEngine.prototype,"clearAllRequestFilters",shaka.net.NetworkingEngine.prototype.clearAllRequestFilters),goog.exportProperty(shaka.net.NetworkingEngine.prototype,"unregisterRequestFilter",shaka.net.NetworkingEngine.prototype.unregisterRequestFilter),goog.exportProperty(shaka.net.NetworkingEngine.prototype,"registerRequestFilter",shaka.net.NetworkingEngine.prototype.registerRequestFilter),goog.exportProperty(shaka.net.NetworkingEngine,"unregisterScheme",shaka.net.NetworkingEngine.unregisterScheme),goog.exportProperty(shaka.net.NetworkingEngine,"registerScheme",shaka.net.NetworkingEngine.registerScheme),goog.exportProperty(shaka.net.NetworkingEngine.prototype,"setForceHTTPS",shaka.net.NetworkingEngine.prototype.setForceHTTPS),shaka.net.NetworkingEngine.NumBytesRemainingClass=function(){this.bytesToLoad_=0},shaka.net.NetworkingEngine.NumBytesRemainingClass.prototype.setBytes=function(sn){this.bytesToLoad_=sn},shaka.net.NetworkingEngine.NumBytesRemainingClass.prototype.getBytes=function(){return this.bytesToLoad_},goog.exportProperty(shaka.net.NetworkingEngine,"NumBytesRemainingClass",shaka.net.NetworkingEngine.NumBytesRemainingClass),shaka.net.NetworkingEngine.PendingRequest=function(sn,ln,cn){shaka.util.AbortableOperation.call(this,sn,ln),this.bytesRemaining_=cn},$jscomp.inherits(shaka.net.NetworkingEngine.PendingRequest,shaka.util.AbortableOperation),shaka.net.NetworkingEngine.PendingRequest.prototype.getBytesRemaining=function(){return this.bytesRemaining_.getBytes()},goog.exportProperty(shaka.net.NetworkingEngine,"PendingRequest",shaka.net.NetworkingEngine.PendingRequest),shaka.net.NetworkingEngine.RequestType={MANIFEST:0,SEGMENT:1,LICENSE:2,APP:3,TIMING:4,SERVER_CERTIFICATE:5,KEY:6},goog.exportProperty(shaka.net.NetworkingEngine,"RequestType",shaka.net.NetworkingEngine.RequestType),shaka.net.NetworkingEngine.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:3},goog.exportProperty(shaka.net.NetworkingEngine,"PluginPriority",shaka.net.NetworkingEngine.PluginPriority),shaka.net.NetworkingEngine.schemes_={},shaka.util.Destroyer=function(sn){this.destroyed_=!1,this.waitOnDestroy_=new shaka.util.PublicPromise,this.onDestroy_=sn},shaka.util.Destroyer.prototype.destroyed=function(){return this.destroyed_},shaka.util.Destroyer.prototype.destroy=function(){var sn=this;return this.destroyed_?this.waitOnDestroy_:(this.destroyed_=!0,this.onDestroy_().then(function(){sn.waitOnDestroy_.resolve()},function(){sn.waitOnDestroy_.resolve()}))},shaka.util.Destroyer.prototype.ensureNotDestroyed=function(sn){if(this.destroyed_)throw sn instanceof shaka.util.Error&&sn.code==shaka.util.Error.Code.OBJECT_DESTROYED?sn:shaka.util.Destroyer.destroyedError(sn)},shaka.util.Destroyer.destroyedError=function(sn){return new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.OBJECT_DESTROYED,sn)},shaka.util.EventManager=function(){this.bindingMap_=new shaka.util.MultiMap},shaka.util.EventManager.prototype.release=function(){this.removeAll(),this.bindingMap_=null},shaka.util.EventManager.prototype.listen=function(sn,ln,cn,dn){this.bindingMap_&&(sn=new shaka.util.EventManager.Binding_(sn,ln,cn,dn),this.bindingMap_.push(ln,sn))},shaka.util.EventManager.prototype.listenOnce=function(sn,ln,cn,dn){var pn=this,vn=function(Sn){pn.unlisten(sn,ln,vn),cn(Sn)};this.listen(sn,ln,vn,dn)},shaka.util.EventManager.prototype.unlisten=function(sn,ln,cn){if(this.bindingMap_){var dn=this.bindingMap_.get(ln)||[];dn=$jscomp.makeIterator(dn);for(var pn=dn.next();!pn.done;pn=dn.next())pn=pn.value,pn.target!=sn||cn!=pn.listener&&cn||(pn.unlisten(),this.bindingMap_.remove(ln,pn))}},shaka.util.EventManager.prototype.removeAll=function(){if(this.bindingMap_){var sn=this.bindingMap_.getAll();sn=$jscomp.makeIterator(sn);for(var ln=sn.next();!ln.done;ln=sn.next())ln.value.unlisten();this.bindingMap_.clear()}},goog.exportSymbol("shaka.util.EventManager",shaka.util.EventManager),goog.exportProperty(shaka.util.EventManager.prototype,"removeAll",shaka.util.EventManager.prototype.removeAll),goog.exportProperty(shaka.util.EventManager.prototype,"unlisten",shaka.util.EventManager.prototype.unlisten),goog.exportProperty(shaka.util.EventManager.prototype,"listenOnce",shaka.util.EventManager.prototype.listenOnce),goog.exportProperty(shaka.util.EventManager.prototype,"listen",shaka.util.EventManager.prototype.listen),goog.exportProperty(shaka.util.EventManager.prototype,"release",shaka.util.EventManager.prototype.release),shaka.util.EventManager.Binding_=function(sn,ln,cn,dn){this.target=sn,this.type=ln,this.listener=cn,this.options=shaka.util.EventManager.Binding_.convertOptions_(sn,dn),this.target.addEventListener(ln,cn,this.options)},shaka.util.EventManager.Binding_.prototype.unlisten=function(){goog.asserts.assert(this.target,"Missing target"),this.target.removeEventListener(this.type,this.listener,this.options),this.listener=this.target=null,this.options=!1},shaka.util.EventManager.Binding_.convertOptions_=function(sn,ln){if(ln==null)return!1;if(typeof ln=="boolean")return ln;var cn=new Set(["passive","capture"]),dn=Object.keys(ln).filter(function(pn){return!cn.has(pn)});return goog.asserts.assert(dn.length==0,"Unsupported flag(s) to addEventListener: "+dn.join(",")),shaka.util.EventManager.Binding_.doesSupportObject_(sn)?ln:ln.capture||!1},shaka.util.EventManager.Binding_.doesSupportObject_=function(sn){var ln=shaka.util.EventManager.Binding_.supportsObject_;if(ln==null){ln=!1;try{var cn={},dn={get:function(){return ln=!0,!1}};Object.defineProperty(cn,"passive",dn),Object.defineProperty(cn,"capture",dn),dn=function(){},sn.addEventListener("test",dn,cn),sn.removeEventListener("test",dn,cn)}catch{ln=!1}shaka.util.EventManager.Binding_.supportsObject_=ln}return ln||!1},shaka.util.EventManager.Binding_.supportsObject_=void 0,shaka.util.MapUtils=function(){},shaka.util.MapUtils.asMap=function(sn){for(var ln=new Map,cn=$jscomp.makeIterator(Object.keys(sn)),dn=cn.next();!dn.done;dn=cn.next())dn=dn.value,ln.set(dn,sn[dn]);return ln},shaka.util.MapUtils.asObject=function(sn){var ln={};return sn.forEach(function(cn,dn){ln[dn]=cn}),ln},shaka.util.MapUtils.hasSameElements=function(sn,ln){if(sn||ln){if(sn&&!ln||ln&&!sn)return!1}else return!0;if(sn.size!=ln.size)return!1;sn=$jscomp.makeIterator(sn);for(var cn=sn.next();!cn.done;cn=sn.next()){var dn=$jscomp.makeIterator(cn.value);if(cn=dn.next().value,dn=dn.next().value,!ln.has(cn)||(cn=ln.get(cn),cn!=dn||cn==null))return!1}return!0},shaka.util.DataViewReader=function(sn,ln){this.dataView_=shaka.util.BufferUtils.toDataView(sn),this.littleEndian_=ln==shaka.util.DataViewReader.Endianness.LITTLE_ENDIAN,this.position_=0},shaka.util.DataViewReader.prototype.getDataView=function(){return this.dataView_},shaka.util.DataViewReader.prototype.hasMoreData=function(){return this.position_<this.dataView_.byteLength},shaka.util.DataViewReader.prototype.getPosition=function(){return this.position_},shaka.util.DataViewReader.prototype.getLength=function(){return this.dataView_.byteLength},shaka.util.DataViewReader.prototype.readUint8=function(){try{var sn=this.dataView_.getUint8(this.position_);return this.position_+=1,sn}catch{throw this.outOfBounds_()}},shaka.util.DataViewReader.prototype.readUint16=function(){try{var sn=this.dataView_.getUint16(this.position_,this.littleEndian_);return this.position_+=2,sn}catch{throw this.outOfBounds_()}},shaka.util.DataViewReader.prototype.readUint32=function(){try{var sn=this.dataView_.getUint32(this.position_,this.littleEndian_);return this.position_+=4,sn}catch{throw this.outOfBounds_()}},shaka.util.DataViewReader.prototype.readInt32=function(){try{var sn=this.dataView_.getInt32(this.position_,this.littleEndian_);return this.position_+=4,sn}catch{throw this.outOfBounds_()}},shaka.util.DataViewReader.prototype.readUint64=function(){try{if(this.littleEndian_)var sn=this.dataView_.getUint32(this.position_,!0),ln=this.dataView_.getUint32(this.position_+4,!0);else ln=this.dataView_.getUint32(this.position_,!1),sn=this.dataView_.getUint32(this.position_+4,!1)}catch{throw this.outOfBounds_()}if(2097151<ln)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.JS_INTEGER_OVERFLOW);return this.position_+=8,ln*Math.pow(2,32)+sn},shaka.util.DataViewReader.prototype.readBytes=function(sn){if(goog.asserts.assert(0<=sn,"Bad call to DataViewReader.readBytes"),this.position_+sn>this.dataView_.byteLength)throw this.outOfBounds_();var ln=shaka.util.BufferUtils.toUint8(this.dataView_,this.position_,sn);return this.position_+=sn,ln},shaka.util.DataViewReader.prototype.skip=function(sn){if(goog.asserts.assert(0<=sn,"Bad call to DataViewReader.skip"),this.position_+sn>this.dataView_.byteLength)throw this.outOfBounds_();this.position_+=sn},shaka.util.DataViewReader.prototype.rewind=function(sn){if(goog.asserts.assert(0<=sn,"Bad call to DataViewReader.rewind"),this.position_<sn)throw this.outOfBounds_();this.position_-=sn},shaka.util.DataViewReader.prototype.seek=function(sn){if(goog.asserts.assert(0<=sn,"Bad call to DataViewReader.seek"),0>sn||sn>this.dataView_.byteLength)throw this.outOfBounds_();this.position_=sn},shaka.util.DataViewReader.prototype.readTerminatedString=function(){for(var sn=this.position_;this.hasMoreData()&&this.dataView_.getUint8(this.position_)!=0;)this.position_+=1;return sn=shaka.util.BufferUtils.toUint8(this.dataView_,sn,this.position_-sn),this.position_+=1,shaka.util.StringUtils.fromUTF8(sn)},shaka.util.DataViewReader.prototype.outOfBounds_=function(){return new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.BUFFER_READ_OUT_OF_BOUNDS)},goog.exportSymbol("shaka.util.DataViewReader",shaka.util.DataViewReader),goog.exportProperty(shaka.util.DataViewReader.prototype,"readTerminatedString",shaka.util.DataViewReader.prototype.readTerminatedString),goog.exportProperty(shaka.util.DataViewReader.prototype,"seek",shaka.util.DataViewReader.prototype.seek),goog.exportProperty(shaka.util.DataViewReader.prototype,"rewind",shaka.util.DataViewReader.prototype.rewind),goog.exportProperty(shaka.util.DataViewReader.prototype,"skip",shaka.util.DataViewReader.prototype.skip),goog.exportProperty(shaka.util.DataViewReader.prototype,"readBytes",shaka.util.DataViewReader.prototype.readBytes),goog.exportProperty(shaka.util.DataViewReader.prototype,"readUint64",shaka.util.DataViewReader.prototype.readUint64),goog.exportProperty(shaka.util.DataViewReader.prototype,"readInt32",shaka.util.DataViewReader.prototype.readInt32),goog.exportProperty(shaka.util.DataViewReader.prototype,"readUint32",shaka.util.DataViewReader.prototype.readUint32),goog.exportProperty(shaka.util.DataViewReader.prototype,"readUint16",shaka.util.DataViewReader.prototype.readUint16),goog.exportProperty(shaka.util.DataViewReader.prototype,"readUint8",shaka.util.DataViewReader.prototype.readUint8),goog.exportProperty(shaka.util.DataViewReader.prototype,"getLength",shaka.util.DataViewReader.prototype.getLength),goog.exportProperty(shaka.util.DataViewReader.prototype,"getPosition",shaka.util.DataViewReader.prototype.getPosition),goog.exportProperty(shaka.util.DataViewReader.prototype,"hasMoreData",shaka.util.DataViewReader.prototype.hasMoreData),shaka.util.DataViewReader.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:1},goog.exportProperty(shaka.util.DataViewReader,"Endianness",shaka.util.DataViewReader.Endianness),shaka.util.Mp4Parser=function(){this.headers_=[],this.boxDefinitions_=[],this.done_=!1},shaka.util.Mp4Parser.prototype.box=function(sn,ln){return sn=shaka.util.Mp4Parser.typeFromString_(sn),this.headers_[sn]=shaka.util.Mp4Parser.BoxType_.BASIC_BOX,this.boxDefinitions_[sn]=ln,this},shaka.util.Mp4Parser.prototype.fullBox=function(sn,ln){return sn=shaka.util.Mp4Parser.typeFromString_(sn),this.headers_[sn]=shaka.util.Mp4Parser.BoxType_.FULL_BOX,this.boxDefinitions_[sn]=ln,this},shaka.util.Mp4Parser.prototype.stop=function(){this.done_=!0},shaka.util.Mp4Parser.prototype.parse=function(sn,ln,cn){for(sn=new shaka.util.DataViewReader(sn,shaka.util.DataViewReader.Endianness.BIG_ENDIAN),this.done_=!1;sn.hasMoreData()&&!this.done_;)this.parseNext(0,sn,ln,cn)},shaka.util.Mp4Parser.prototype.parseNext=function(sn,ln,cn,dn){var pn=ln.getPosition();if(dn&&pn+8>ln.getLength())this.done_=!0;else{var vn=ln.readUint32(),Sn=ln.readUint32(),En=shaka.util.Mp4Parser.typeToString(Sn),Cn=!1;switch(shaka.log.v2("Parsing MP4 box",En),vn){case 0:vn=ln.getLength()-pn;break;case 1:if(dn&&ln.getPosition()+8>ln.getLength()){this.done_=!0;return}vn=ln.readUint64(),Cn=!0}var Pn=this.boxDefinitions_[Sn];if(Pn){var Rn=null,Ln=null;if(this.headers_[Sn]==shaka.util.Mp4Parser.BoxType_.FULL_BOX){if(dn&&ln.getPosition()+4>ln.getLength()){this.done_=!0;return}Ln=ln.readUint32(),Rn=Ln>>>24,Ln&=16777215}Sn=pn+vn,cn&&Sn>ln.getLength()&&(Sn=ln.getLength()),dn&&Sn>ln.getLength()?this.done_=!0:(dn=Sn-ln.getPosition(),ln=0<dn?ln.readBytes(dn):new Uint8Array(0),ln=new shaka.util.DataViewReader(ln,shaka.util.DataViewReader.Endianness.BIG_ENDIAN),Pn({name:En,parser:this,partialOkay:cn||!1,version:Rn,flags:Ln,reader:ln,size:vn,start:pn+sn,has64BitSize:Cn}))}else sn=Math.min(pn+vn-ln.getPosition(),ln.getLength()-ln.getPosition()),ln.skip(sn)}},shaka.util.Mp4Parser.children=function(sn){for(var ln=shaka.util.Mp4Parser.headerSize(sn);sn.reader.hasMoreData()&&!sn.parser.done_;)sn.parser.parseNext(sn.start+ln,sn.reader,sn.partialOkay)},shaka.util.Mp4Parser.sampleDescription=function(sn){for(var ln=shaka.util.Mp4Parser.headerSize(sn),cn=sn.reader.readUint32(),dn=0;dn<cn&&(sn.parser.parseNext(sn.start+ln,sn.reader,sn.partialOkay),!sn.parser.done_);dn++);},shaka.util.Mp4Parser.visualSampleEntry=function(sn){var ln=shaka.util.Mp4Parser.headerSize(sn);for(sn.reader.skip(78);sn.reader.hasMoreData()&&!sn.parser.done_;)sn.parser.parseNext(sn.start+ln,sn.reader,sn.partialOkay)},shaka.util.Mp4Parser.allData=function(sn){return function(ln){var cn=ln.reader.getLength()-ln.reader.getPosition();sn(ln.reader.readBytes(cn))}},shaka.util.Mp4Parser.typeFromString_=function(sn){goog.asserts.assert(sn.length==4,"Mp4 box names must be 4 characters long");var ln=0;sn=$jscomp.makeIterator(sn);for(var cn=sn.next();!cn.done;cn=sn.next())ln=ln<<8|cn.value.charCodeAt(0);return ln},shaka.util.Mp4Parser.typeToString=function(sn){return String.fromCharCode(sn>>24&255,sn>>16&255,sn>>8&255,sn&255)},shaka.util.Mp4Parser.headerSize=function(sn){return 8+(sn.has64BitSize?8:0)+(sn.flags!=null?4:0)},goog.exportSymbol("shaka.util.Mp4Parser",shaka.util.Mp4Parser),goog.exportProperty(shaka.util.Mp4Parser,"headerSize",shaka.util.Mp4Parser.headerSize),goog.exportProperty(shaka.util.Mp4Parser,"typeToString",shaka.util.Mp4Parser.typeToString),goog.exportProperty(shaka.util.Mp4Parser,"allData",shaka.util.Mp4Parser.allData),goog.exportProperty(shaka.util.Mp4Parser,"visualSampleEntry",shaka.util.Mp4Parser.visualSampleEntry),goog.exportProperty(shaka.util.Mp4Parser,"sampleDescription",shaka.util.Mp4Parser.sampleDescription),goog.exportProperty(shaka.util.Mp4Parser,"children",shaka.util.Mp4Parser.children),goog.exportProperty(shaka.util.Mp4Parser.prototype,"parseNext",shaka.util.Mp4Parser.prototype.parseNext),goog.exportProperty(shaka.util.Mp4Parser.prototype,"parse",shaka.util.Mp4Parser.prototype.parse),goog.exportProperty(shaka.util.Mp4Parser.prototype,"stop",shaka.util.Mp4Parser.prototype.stop),goog.exportProperty(shaka.util.Mp4Parser.prototype,"fullBox",shaka.util.Mp4Parser.prototype.fullBox),goog.exportProperty(shaka.util.Mp4Parser.prototype,"box",shaka.util.Mp4Parser.prototype.box),shaka.util.Mp4Parser.BoxType_={BASIC_BOX:0,FULL_BOX:1},shaka.util.Pssh=function(sn){var ln=this;this.systemIds=[],this.cencKeyIds=[],this.data=[],new shaka.util.Mp4Parser().box("moov",shaka.util.Mp4Parser.children).box("moof",shaka.util.Mp4Parser.children).fullBox("pssh",function(cn){return ln.parsePsshBox_(cn)}).parse(sn),this.data.length==0&&shaka.log.v2("No pssh box found!")},shaka.util.Pssh.prototype.parsePsshBox_=function(sn){if(goog.asserts.assert(sn.version!=null,"PSSH boxes are full boxes and must have a valid version"),goog.asserts.assert(sn.flags!=null,"PSSH boxes are full boxes and must have a valid flag"),1<sn.version)shaka.log.warning("Unrecognized PSSH version found!");else{var ln=sn.reader.getDataView();if(goog.asserts.assert(12<=ln.byteOffset,"DataView at incorrect position"),ln=shaka.util.BufferUtils.toUint8(ln,-12,sn.size),this.data.push(ln),this.systemIds.push(shaka.util.Uint8ArrayUtils.toHex(sn.reader.readBytes(16))),0<sn.version){ln=sn.reader.readUint32();for(var cn=0;cn<ln;cn++){var dn=shaka.util.Uint8ArrayUtils.toHex(sn.reader.readBytes(16));this.cencKeyIds.push(dn)}}}},shaka.util.Pssh.createPssh=function(sn,ln,cn,dn){goog.asserts.assert(ln.byteLength==16,"Invalid system ID length");var pn=sn.length,vn=12+ln.length+4+pn;0<dn&&(vn+=4+16*cn.size);var Sn=new Uint8Array(vn),En=shaka.util.BufferUtils.toDataView(Sn),Cn=0;if(En.setUint32(Cn,vn),Cn+=4,En.setUint32(Cn,1886614376),Cn+=4,1>dn?En.setUint32(Cn,0):En.setUint32(Cn,16777216),Cn+=4,Sn.set(ln,Cn),Cn+=ln.length,0<dn)for(En.setUint32(Cn,cn.size),Cn+=4,ln=shaka.util.Uint8ArrayUtils,cn=$jscomp.makeIterator(cn),dn=cn.next();!dn.done;dn=cn.next())dn=ln.fromHex(dn.value),Sn.set(dn,Cn),Cn+=dn.length;return En.setUint32(Cn,pn),Cn+=4,Sn.set(sn,Cn),goog.asserts.assert(Cn+pn===vn,"PSSH invalid length."),Sn},shaka.util.Pssh.normaliseInitData=function(sn){if(!sn)return sn;var ln=new shaka.util.Pssh(sn);if(1>=ln.data.length)return sn;sn=[];var cn={};ln=$jscomp.makeIterator(ln.data);for(var dn=ln.next();!dn.done;cn={$jscomp$loop$prop$initData$470$692:cn.$jscomp$loop$prop$initData$470$692},dn=ln.next())cn.$jscomp$loop$prop$initData$470$692=dn.value,sn.some(function(pn){return function(vn){return shaka.util.BufferUtils.equal(vn,pn.$jscomp$loop$prop$initData$470$692)}}(cn))||sn.push(cn.$jscomp$loop$prop$initData$470$692);return shaka.util.Uint8ArrayUtils.concat.apply(shaka.util.Uint8ArrayUtils,$jscomp.arrayFromIterable(sn))},shaka.util.XmlUtils=function(){},shaka.util.XmlUtils.findChild=function(sn,ln){return sn=shaka.util.XmlUtils.findChildren(sn,ln),sn.length!=1?null:sn[0]},shaka.util.XmlUtils.findChildNS=function(sn,ln,cn){return sn=shaka.util.XmlUtils.findChildrenNS(sn,ln,cn),sn.length!=1?null:sn[0]},shaka.util.XmlUtils.findChildren=function(sn,ln){var cn=[];sn=$jscomp.makeIterator(sn.childNodes);for(var dn=sn.next();!dn.done;dn=sn.next())dn=dn.value,dn instanceof Element&&dn.tagName==ln&&cn.push(dn);return cn},shaka.util.XmlUtils.getChildren=function(sn){return Array.from(sn.childNodes).filter(function(ln){return ln instanceof Element})},shaka.util.XmlUtils.findChildrenNS=function(sn,ln,cn){var dn=[];sn=$jscomp.makeIterator(sn.childNodes);for(var pn=sn.next();!pn.done;pn=sn.next())pn=pn.value,pn instanceof Element&&pn.localName==cn&&pn.namespaceURI==ln&&dn.push(pn);return dn},shaka.util.XmlUtils.getAttributeNS=function(sn,ln,cn){return sn.hasAttributeNS(ln,cn)?sn.getAttributeNS(ln,cn):null},shaka.util.XmlUtils.getAttributeNSList=function(sn,ln,cn){ln=$jscomp.makeIterator(ln);for(var dn=ln.next();!dn.done;dn=ln.next())if(dn=dn.value,sn.hasAttributeNS(dn,cn))return sn.getAttributeNS(dn,cn);return null},shaka.util.XmlUtils.getContents=function(sn){var ln=shaka.util.XmlUtils;return Array.from(sn.childNodes).every(ln.isText)?sn.textContent.trim():null},shaka.util.XmlUtils.isText=function(sn){return sn.nodeType==Node.TEXT_NODE||sn.nodeType==Node.CDATA_SECTION_NODE},shaka.util.XmlUtils.parseAttr=function(sn,ln,cn,dn){dn=dn===void 0?null:dn;var pn=null;return sn=sn.getAttribute(ln),sn!=null&&(pn=cn(sn)),pn??dn},shaka.util.XmlUtils.parseDate=function(sn){return sn?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(sn)&&(sn+="Z"),sn=Date.parse(sn),isNaN(sn)?null:sn/1e3):null},shaka.util.XmlUtils.parseDuration=function(sn){if(!sn)return null;var ln=RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$").exec(sn);return ln?(sn=31536e3*Number(ln[1]||null)+2592e3*Number(ln[2]||null)+86400*Number(ln[3]||null)+3600*Number(ln[4]||null)+60*Number(ln[5]||null)+Number(ln[6]||null),isFinite(sn)?sn:null):(shaka.log.warning("Invalid duration string:",sn),null)},shaka.util.XmlUtils.parseRange=function(sn){var ln=/([0-9]+)-([0-9]+)/.exec(sn);return!ln||(sn=Number(ln[1]),!isFinite(sn))?null:(ln=Number(ln[2]),isFinite(ln)?{start:sn,end:ln}:null)},shaka.util.XmlUtils.parseInt=function(sn){return sn=Number(sn),sn%1===0?sn:null},shaka.util.XmlUtils.parsePositiveInt=function(sn){return sn=Number(sn),sn%1===0&&0<sn?sn:null},shaka.util.XmlUtils.parseNonNegativeInt=function(sn){return sn=Number(sn),sn%1===0&&0<=sn?sn:null},shaka.util.XmlUtils.parseFloat=function(sn){return sn=Number(sn),isNaN(sn)?null:sn},shaka.util.XmlUtils.evalDivision=function(sn){var ln,cn=(ln=sn.match(/^(\d+)\/(\d+)$/))?Number(ln[1])/Number(ln[2]):Number(sn);return isNaN(cn)?null:cn},shaka.util.XmlUtils.parseXmlString=function(sn,ln){var cn=new DOMParser,dn=shaka.util.XmlUtils.trustedHTMLFromString_.value()(sn);sn=null;try{sn=cn.parseFromString(dn,"text/xml")}catch(pn){return shaka.log.error("XML parsing exception:",pn),null}if(goog.asserts.assert(sn,"Parsed XML document cannot be null!"),cn=sn.documentElement,!cn)return shaka.log.error("XML document was empty!"),null;if(dn=cn.getElementsByTagName("parsererror"),dn.length)return shaka.log.error("XML parser error found:",dn[0]),null;if(cn.tagName!=ln)return shaka.log.error('XML tag name does not match expected "'+ln+'":',cn.tagName),null;for(ln=document.createNodeIterator(sn,NodeFilter.SHOW_ALL);sn=ln.nextNode();)if(sn instanceof HTMLElement||sn instanceof SVGElement)return shaka.log.error("XML document embeds unsafe content!"),null;return cn},shaka.util.XmlUtils.parseXml=function(sn,ln){try{var cn=shaka.util.StringUtils.fromUTF8(sn);return shaka.util.XmlUtils.parseXmlString(cn,ln)}catch(dn){return shaka.log.error("parseXmlString threw!",dn),null}},shaka.util.XmlUtils.trustedHTMLFromString_=new shaka.util.Lazy(function(){if(typeof trustedTypes<"u"){var sn=trustedTypes.createPolicy("shaka-player#xml",{createHTML:function(ln){return ln}});return function(ln){return sn.createHTML(ln)}}return function(ln){return ln}}),shaka.media.DrmEngine=function(sn,ln){var cn=this;ln=ln===void 0?1:ln,this.playerInterface_=sn,this.supportedTypes_=new Set,this.video_=this.mediaKeys_=null,this.initializedForStorage_=this.initialized_=!1,this.licenseTimeSeconds_=0,this.currentDrmInfo_=null,this.eventManager_=new shaka.util.EventManager,this.activeSessions_=new Map,this.offlineSessionIds_=[],this.allSessionsLoaded_=new shaka.util.PublicPromise,this.config_=null,this.onError_=function(dn){cn.allSessionsLoaded_.reject(dn),sn.onError(dn)},this.keyStatusByKeyId_=new Map,this.announcedKeyStatusByKeyId_=new Map,this.keyStatusTimer_=new shaka.util.Timer(function(){return cn.processKeyStatusChanges_()}),this.usePersistentLicenses_=!1,this.mediaKeyMessageEvents_=[],this.initialRequestsSent_=!1,this.expirationTimer_=new shaka.util.Timer(function(){cn.pollExpiration_()}).tickEvery(ln),this.allSessionsLoaded_.catch(function(){}),this.destroyer_=new shaka.util.Destroyer(function(){return cn.destroyNow_()}),this.srcEquals_=!1,this.mediaKeysAttached_=null},shaka.media.DrmEngine.prototype.destroy=function(){return this.destroyer_.destroy()},shaka.media.DrmEngine.prototype.destroyNow_=function(){var sn=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ln){switch(ln.nextAddress){case 1:return sn.eventManager_.release(),sn.eventManager_=null,sn.allSessionsLoaded_.reject(),sn.expirationTimer_.stop(),sn.expirationTimer_=null,sn.keyStatusTimer_.stop(),sn.keyStatusTimer_=null,ln.yield(sn.closeOpenSessions_(),2);case 2:if(!sn.video_){ln.jumpTo(3);break}return goog.asserts.assert(!sn.video_.src,"video src must be removed first!"),ln.setCatchFinallyBlocks(4),ln.yield(sn.video_.setMediaKeys(null),6);case 6:ln.leaveTryBlock(5);break;case 4:ln.enterCatchBlock();case 5:sn.video_=null;case 3:sn.currentDrmInfo_=null,sn.supportedTypes_.clear(),sn.mediaKeys_=null,sn.offlineSessionIds_=[],sn.config_=null,sn.onError_=function(){},sn.playerInterface_=null,sn.srcEquals_=!1,sn.mediaKeysAttached_=null,ln.jumpToEnd()}})},shaka.media.DrmEngine.prototype.configure=function(sn){this.config_=sn},shaka.media.DrmEngine.prototype.setSrcEquals=function(sn){this.srcEquals_=sn},shaka.media.DrmEngine.prototype.initForStorage=function(sn,ln){return this.initializedForStorage_=!0,this.offlineSessionIds_=[],this.usePersistentLicenses_=ln,this.init_(sn)},shaka.media.DrmEngine.prototype.initForPlayback=function(sn,ln){return this.offlineSessionIds_=ln,this.usePersistentLicenses_=0<ln.length,this.init_(sn)},shaka.media.DrmEngine.prototype.initForRemoval=function(sn,ln,cn,dn,pn){var vn=new Map;return dn={audioCapabilities:dn,videoCapabilities:pn,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:sn},dn.drmInfos=[{keySystem:sn,licenseServerUri:ln,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:cn,serverCertificateUri:"",initData:null,keyIds:null}],vn.set(sn,dn),this.queryMediaKeys_(vn,[])},shaka.media.DrmEngine.prototype.init_=function(sn){var ln=this,cn,dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn,Gn,Dn,Kn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(qn){if(qn.nextAddress==1){if(goog.asserts.assert(ln.config_,"DrmEngine configure() must be called before init()!"),cn=ln.configureClearKey_())for(dn=$jscomp.makeIterator(sn),pn=dn.next();!pn.done;pn=dn.next())vn=pn.value,vn.video&&(vn.video.drmInfos=[cn]),vn.audio&&(vn.audio.drmInfos=[cn]);for(Sn=sn.some(function(Zn){return!!(Zn.video&&Zn.video.drmInfos.length||Zn.audio&&Zn.audio.drmInfos.length)}),Sn||(En=shaka.util.MapUtils.asMap(ln.config_.servers),shaka.media.DrmEngine.replaceDrmInfo_(sn,En)),Cn=$jscomp.makeIterator(sn),pn=Cn.next();!pn.done;pn=Cn.next())for(Pn=pn.value,Rn=ln.getVariantDrmInfos_(Pn),Ln=$jscomp.makeIterator(Rn),Fn=Ln.next();!Fn.done;Fn=Ln.next())Gn=Fn.value,shaka.media.DrmEngine.fillInDrmInfoDefaults_(Gn,shaka.util.MapUtils.asMap(ln.config_.servers),shaka.util.MapUtils.asMap(ln.config_.advanced||{}),ln.config_.keySystemsMapping);return qn.yield(shaka.util.StreamUtils.getDecodingInfosForVariants(sn,ln.usePersistentLicenses_,ln.srcEquals_),2)}return Dn=Sn||Object.keys(ln.config_.servers).length,Dn?(Kn=ln.queryMediaKeys_(void 0,sn),qn.return(Sn?Kn:Kn.catch(function(){}))):(ln.initialized_=!0,qn.return(Promise.resolve()))})},shaka.media.DrmEngine.prototype.attachMediaKeys_=function(){var sn=this,ln;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cn){switch(cn.nextAddress){case 1:if(sn.video_.mediaKeys)return cn.return();if(!sn.mediaKeysAttached_){cn.jumpTo(2);break}return cn.yield(sn.mediaKeysAttached_,3);case 3:return sn.destroyer_.ensureNotDestroyed(),cn.return();case 2:return cn.setCatchFinallyBlocks(4),sn.mediaKeysAttached_=sn.video_.setMediaKeys(sn.mediaKeys_),cn.yield(sn.mediaKeysAttached_,6);case 6:cn.leaveTryBlock(5);break;case 4:ln=cn.enterCatchBlock(),goog.asserts.assert(ln instanceof Error,"Wrong error type!"),sn.onError_(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.FAILED_TO_ATTACH_TO_VIDEO,ln.message));case 5:sn.destroyer_.ensureNotDestroyed(),cn.jumpToEnd()}})},shaka.media.DrmEngine.prototype.onEncryptedEvent_=function(sn){var ln=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cn){if(cn.nextAddress==1)return cn.yield(ln.attachMediaKeys_(),2);ln.newInitData(sn.initDataType,shaka.util.BufferUtils.toUint8(sn.initData)),cn.jumpToEnd()})},shaka.media.DrmEngine.prototype.attach=function(sn){var ln=this,cn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dn){if(dn.nextAddress==1)return ln.mediaKeys_?(ln.video_=sn,ln.eventManager_.listenOnce(ln.video_,"play",function(){return ln.onPlay_()}),"webkitCurrentPlaybackTargetIsWireless"in ln.video_&&ln.eventManager_.listen(ln.video_,"webkitcurrentplaybacktargetiswirelesschanged",function(){return ln.closeOpenSessions_()}),(cn=ln.currentDrmInfo_?ln.currentDrmInfo_.initData.find(function(pn){return 0<pn.initData.length}):null)||ln.currentDrmInfo_.keySystem!=="com.apple.fps"||ln.offlineSessionIds_.length?dn.yield(ln.attachMediaKeys_(),2):dn.jumpTo(2)):(ln.eventManager_.listenOnce(sn,"encrypted",function(pn){ln.onError_(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.ENCRYPTED_CONTENT_WITHOUT_DRM_INFO))}),dn.return());ln.createOrLoad(),cn||ln.offlineSessionIds_.length||ln.config_.parseInbandPsshEnabled||ln.eventManager_.listen(ln.video_,"encrypted",function(pn){return ln.onEncryptedEvent_(pn)}),dn.jumpToEnd()})},shaka.media.DrmEngine.prototype.setServerCertificate=function(){var sn=this,ln,cn,dn,pn,vn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Sn){switch(Sn.nextAddress){case 1:if(goog.asserts.assert(sn.initialized_,"Must call init() before setServerCertificate"),!sn.mediaKeys_||!sn.currentDrmInfo_)return Sn.return();if(!sn.currentDrmInfo_.serverCertificateUri||sn.currentDrmInfo_.serverCertificate&&sn.currentDrmInfo_.serverCertificate.length){Sn.jumpTo(2);break}return ln=shaka.net.NetworkingEngine.makeRequest([sn.currentDrmInfo_.serverCertificateUri],sn.config_.retryParameters),Sn.setCatchFinallyBlocks(3),cn=sn.playerInterface_.netEngine.request(shaka.net.NetworkingEngine.RequestType.SERVER_CERTIFICATE,ln),Sn.yield(cn.promise,5);case 5:dn=Sn.yieldResult,sn.currentDrmInfo_.serverCertificate=shaka.util.BufferUtils.toUint8(dn.data),Sn.leaveTryBlock(4);break;case 3:throw pn=Sn.enterCatchBlock(),goog.asserts.assert(pn instanceof shaka.util.Error,"Wrong NetworkingEngine error type!"),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.SERVER_CERTIFICATE_REQUEST_FAILED,pn);case 4:if(sn.destroyer_.destroyed())return Sn.return();case 2:return!sn.currentDrmInfo_.serverCertificate||!sn.currentDrmInfo_.serverCertificate.length?Sn.return():(Sn.setCatchFinallyBlocks(6),Sn.yield(sn.mediaKeys_.setServerCertificate(sn.currentDrmInfo_.serverCertificate),8));case 8:Sn.yieldResult||shaka.log.warning("Server certificates are not supported by the key system.  The server certificate has been ignored."),Sn.leaveTryBlock(0);break;case 6:throw vn=Sn.enterCatchBlock(),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.INVALID_SERVER_CERTIFICATE,vn.message)}})},shaka.media.DrmEngine.prototype.removeSession=function(sn){var ln=this,cn,dn,pn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(vn){if(vn.nextAddress==1)return goog.asserts.assert(ln.mediaKeys_,"Must call init() before removeSession"),vn.yield(ln.loadOfflineSession_(sn),2);if(vn.nextAddress!=3)return cn=vn.yieldResult,cn?(dn=[],(pn=ln.activeSessions_.get(cn))&&(pn.updatePromise=new shaka.util.PublicPromise,dn.push(pn.updatePromise)),shaka.log.v2("Attempting to remove session",sn),dn.push(cn.remove()),vn.yield(Promise.all(dn),3)):(shaka.log.v2("Ignoring attempt to remove missing session",sn),vn.return());ln.activeSessions_.delete(cn),vn.jumpToEnd()})},shaka.media.DrmEngine.prototype.createOrLoad=function(){for(var sn=(this.currentDrmInfo_?this.currentDrmInfo_.initData:[])||[],ln=$jscomp.makeIterator(sn),cn=ln.next();!cn.done;cn=ln.next())cn=cn.value,this.newInitData(cn.initDataType,cn.initData);for(ln=$jscomp.makeIterator(this.offlineSessionIds_),cn=ln.next();!cn.done;cn=ln.next())this.loadOfflineSession_(cn.value);return sn.length||this.offlineSessionIds_.length||this.allSessionsLoaded_.resolve(),this.allSessionsLoaded_},shaka.media.DrmEngine.prototype.newInitData=function(sn,ln){if(ln.length){var cn=this.activeSessions_.values();cn=$jscomp.makeIterator(cn);for(var dn=cn.next();!dn.done;dn=cn.next())if(shaka.util.BufferUtils.equal(ln,dn.value.initData)&&!shaka.util.Platform.isTizen2()){shaka.log.debug("Ignoring duplicate init data.");return}0<this.activeSessions_.size&&this.areAllSessionsLoaded_()&&(this.allSessionsLoaded_.resolve(),this.allSessionsLoaded_=new shaka.util.PublicPromise,this.allSessionsLoaded_.catch(function(){})),this.createSession(sn,ln,this.currentDrmInfo_.sessionType)}},shaka.media.DrmEngine.prototype.initialized=function(){return this.initialized_},shaka.media.DrmEngine.keySystem=function(sn){return sn?sn.keySystem:""},shaka.media.DrmEngine.isPlayReadyKeySystem=function(sn){return sn?!!sn.match(/^com\.(microsoft|chromecast)\.playready/):!1},shaka.media.DrmEngine.isFairPlayKeySystem=function(sn){return sn?!!sn.match(/^com\.apple\.fps/):!1},shaka.media.DrmEngine.prototype.willSupport=function(sn){if(shaka.util.Platform.isLegacyEdge())return!0;if(sn=sn.toLowerCase(),shaka.util.Platform.isTizen()&&sn.includes('codecs="ac-3"')){var ln=sn.replace("ac-3","ec-3");return this.supportedTypes_.has(sn)||this.supportedTypes_.has(ln)}return this.supportedTypes_.has(sn)},shaka.media.DrmEngine.prototype.getSessionIds=function(){var sn=this.activeSessions_.keys();return sn=shaka.util.Iterables.map(sn,function(ln){return ln.sessionId}),Array.from(sn)},shaka.media.DrmEngine.prototype.getExpiration=function(){var sn=1/0,ln=this.activeSessions_.keys();ln=$jscomp.makeIterator(ln);for(var cn=ln.next();!cn.done;cn=ln.next())cn=cn.value,isNaN(cn.expiration)||(sn=Math.min(sn,cn.expiration));return sn},shaka.media.DrmEngine.prototype.getLicenseTime=function(){return this.licenseTimeSeconds_?this.licenseTimeSeconds_:NaN},shaka.media.DrmEngine.prototype.getDrmInfo=function(){return this.currentDrmInfo_},shaka.media.DrmEngine.prototype.getMediaKeys=function(){return this.mediaKeys_},shaka.media.DrmEngine.prototype.getKeyStatuses=function(){return shaka.util.MapUtils.asObject(this.announcedKeyStatusByKeyId_)},shaka.media.DrmEngine.prototype.getMediaKeySessions=function(){return Array.from(this.activeSessions_.keys())},shaka.media.DrmEngine.computeMimeType_=function(sn,ln){return ln=shaka.util.MimeUtils.getFullType(sn.mimeType,ln||sn.codecs),shaka.media.Transmuxer.isSupported(ln)?shaka.media.Transmuxer.convertCodecs(sn.type,ln):ln},shaka.media.DrmEngine.prototype.queryMediaKeys_=function(sn,ln){var cn=this,dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn,Gn,Dn,Kn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(qn){switch(qn.nextAddress){case 1:if(dn=new Map,ln.length){pn=cn.getKeySystemAccessFromVariants_(ln,dn),qn.jumpTo(2);break}return qn.yield(cn.getKeySystemAccessByConfigs_(sn),3);case 3:pn=qn.yieldResult;case 2:if(vn=pn,!vn)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE);for(cn.destroyer_.ensureNotDestroyed(),qn.setCatchFinallyBlocks(4),cn.supportedTypes_.clear(),Sn=vn.getConfiguration(),shaka.log.v2("Got MediaKeySystemAccess with configuration",Sn),En=Sn.audioCapabilities||[],Cn=Sn.videoCapabilities||[],Pn=$jscomp.makeIterator(En),Rn=Pn.next();!Rn.done;Rn=Pn.next())Ln=Rn.value,cn.supportedTypes_.add(Ln.contentType.toLowerCase());for(Fn=$jscomp.makeIterator(Cn),Rn=Fn.next();!Rn.done;Rn=Fn.next())Gn=Rn.value,cn.supportedTypes_.add(Gn.contentType.toLowerCase());if(goog.asserts.assert(cn.supportedTypes_.size,"We should get at least one supported MIME type"),cn.currentDrmInfo_=ln.length?cn.createDrmInfoByInfos_(vn.keySystem,dn.get(vn.keySystem)):shaka.media.DrmEngine.createDrmInfoByConfigs_(vn.keySystem,sn.get(vn.keySystem)),!cn.currentDrmInfo_.licenseServerUri)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.NO_LICENSE_SERVER_GIVEN,cn.currentDrmInfo_.keySystem);return qn.yield(vn.createMediaKeys(),6);case 6:return Dn=qn.yieldResult,cn.destroyer_.ensureNotDestroyed(),shaka.log.info("Created MediaKeys object for key system",cn.currentDrmInfo_.keySystem),cn.mediaKeys_=Dn,cn.initialized_=!0,qn.yield(cn.setServerCertificate(),7);case 7:cn.destroyer_.ensureNotDestroyed(),qn.leaveTryBlock(0);break;case 4:throw Kn=qn.enterCatchBlock(),cn.destroyer_.ensureNotDestroyed(Kn),cn.currentDrmInfo_=null,cn.supportedTypes_.clear(),Kn instanceof shaka.util.Error?Kn:new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.FAILED_TO_CREATE_CDM,Kn.message)}})},shaka.media.DrmEngine.prototype.getKeySystemAccessFromVariants_=function(sn,ln){for(var cn=$jscomp.makeIterator(sn),dn=cn.next();!dn.done;dn=cn.next()){var pn=this.getVariantDrmInfos_(dn.value);for(pn=$jscomp.makeIterator(pn),dn=pn.next();!dn.done;dn=pn.next()){var vn=dn.value;ln.has(vn.keySystem)||ln.set(vn.keySystem,[]),ln.get(vn.keySystem).push(vn)}}if(ln.size==1&&ln.has(""))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.NO_RECOGNIZED_KEY_SYSTEMS);for(cn={},pn=$jscomp.makeIterator(this.config_.preferredKeySystems),vn=pn.next();!vn.done;cn={$jscomp$loop$prop$preferredKeySystem$694:cn.$jscomp$loop$prop$preferredKeySystem$694},vn=pn.next())for(cn.$jscomp$loop$prop$preferredKeySystem$694=vn.value,vn=$jscomp.makeIterator(sn),dn=vn.next();!dn.done;dn=vn.next())if(dn=dn.value.decodingInfos.find(function(Pn){return function(Rn){return Rn.supported&&Rn.keySystemAccess!=null&&Rn.keySystemAccess.keySystem==Pn.$jscomp$loop$prop$preferredKeySystem$694}}(cn)))return dn.keySystemAccess;for(cn=$jscomp.makeIterator([!0,!1]),pn=cn.next();!pn.done;pn=cn.next())for(pn=pn.value,vn=$jscomp.makeIterator(sn),dn=vn.next();!dn.done;dn=vn.next()){var Sn=$jscomp.makeIterator(dn.value.decodingInfos);for(dn=Sn.next();!dn.done;dn=Sn.next()){var En=dn.value;if(En.supported&&En.keySystemAccess){dn=ln.get(En.keySystemAccess.keySystem);var Cn=$jscomp.makeIterator(dn);for(dn=Cn.next();!dn.done;dn=Cn.next())if(!!dn.value.licenseServerUri==pn)return En.keySystemAccess}}}return null},shaka.media.DrmEngine.prototype.getKeySystemAccessByConfigs_=function(sn){var ln=this,cn,dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn,Gn,Dn,Kn,qn,Zn,Yn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Jn){switch(Jn.nextAddress){case 1:if(sn.size==1&&sn.has(""))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.NO_RECOGNIZED_KEY_SYSTEMS);for(dn=$jscomp.makeIterator(sn.values()),pn=dn.next();!pn.done;pn=dn.next())vn=pn.value,vn.audioCapabilities.length==0&&delete vn.audioCapabilities,vn.videoCapabilities.length==0&&delete vn.videoCapabilities;Sn=$jscomp.makeIterator(ln.config_.preferredKeySystems),En=Sn.next();case 2:if(En.done){Jn.jumpTo(4);break}if(Cn=En.value,!sn.has(Cn)){Jn.jumpTo(3);break}return Pn=sn.get(Cn),Jn.setCatchFinallyBlocks(6),Jn.yield(navigator.requestMediaKeySystemAccess(Cn,[Pn]),8);case 8:return cn=Jn.yieldResult,Jn.return(cn);case 6:Rn=Jn.enterCatchBlock(),shaka.log.v2("Requesting",Cn,"failed with config",Pn,Rn);case 7:ln.destroyer_.ensureNotDestroyed();case 3:En=Sn.next(),Jn.jumpTo(2);break;case 4:Ln=$jscomp.makeIterator([!0,!1]),Fn=Ln.next();case 9:if(Fn.done){Jn.jumpTo(11);break}Gn=Fn.value,Dn=$jscomp.makeIterator(sn.keys()),En=Dn.next();case 12:if(En.done){Fn=Ln.next(),Jn.jumpTo(9);break}if(Kn=En.value,qn=sn.get(Kn),Zn=qn.drmInfos.some(function(rs){return!!rs.licenseServerUri}),Zn!=Gn){Jn.jumpTo(13);break}return Jn.setCatchFinallyBlocks(15),Jn.yield(navigator.requestMediaKeySystemAccess(Kn,[qn]),17);case 17:return cn=Jn.yieldResult,Jn.return(cn);case 15:Yn=Jn.enterCatchBlock(),shaka.log.v2("Requesting",Kn,"failed with config",qn,Yn);case 16:ln.destroyer_.ensureNotDestroyed();case 13:En=Dn.next(),Jn.jumpTo(12);break;case 11:return Jn.return(cn)}})},shaka.media.DrmEngine.prototype.configureClearKey_=function(){var sn=shaka.util.MapUtils.asMap(this.config_.clearKeys);if(sn.size==0)return null;var ln=shaka.util.StringUtils,cn=shaka.util.Uint8ArrayUtils,dn=[],pn=[];sn.forEach(function(Sn,En){var Cn=En;Cn.length!=22&&(Cn=cn.toBase64(cn.fromHex(En),!1)),En=Sn,En.length!=22&&(En=cn.toBase64(cn.fromHex(Sn),!1)),Sn={kty:"oct",kid:Cn,k:En},dn.push(Sn),pn.push(Sn.kid)}),sn=JSON.stringify({keys:dn});var vn=JSON.stringify({kids:pn});return ln=[{initData:shaka.util.BufferUtils.toUint8(ln.toUTF8(vn)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+window.btoa(sn),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:ln,keyIds:new Set(pn)}},shaka.media.DrmEngine.prototype.loadOfflineSession_=function(sn){var ln=this,cn,dn,pn,vn,Sn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(En){switch(En.nextAddress){case 1:try{shaka.log.v1("Attempting to load an offline session",sn),cn=ln.mediaKeys_.createSession("persistent-license")}catch(Cn){return dn=new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.FAILED_TO_CREATE_SESSION,Cn.message),ln.onError_(dn),En.return(Promise.reject(dn))}return ln.eventManager_.listen(cn,"message",function(Cn){return ln.onSessionMessage_(Cn)}),ln.eventManager_.listen(cn,"keystatuseschange",function(Cn){return ln.onKeyStatusesChange_(Cn)}),pn={initData:null,initDataType:null,loaded:!1,oldExpiration:1/0,updatePromise:null,type:"persistent-license"},ln.activeSessions_.set(cn,pn),En.setCatchFinallyBlocks(2),En.yield(cn.load(sn),4);case 4:return vn=En.yieldResult,ln.destroyer_.ensureNotDestroyed(),shaka.log.v2("Loaded offline session",sn,vn),vn?(pn.loaded=!0,ln.areAllSessionsLoaded_()&&ln.allSessionsLoaded_.resolve(),En.return(cn)):(ln.activeSessions_.delete(cn),ln.onError_(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.OFFLINE_SESSION_REMOVED)),En.return(Promise.resolve()));case 2:Sn=En.enterCatchBlock(),ln.destroyer_.ensureNotDestroyed(Sn),ln.activeSessions_.delete(cn),ln.onError_(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.FAILED_TO_CREATE_SESSION,Sn.message));case 3:return En.return(Promise.resolve())}})},shaka.media.DrmEngine.prototype.createSession=function(sn,ln,cn){var dn=this;goog.asserts.assert(this.mediaKeys_,"mediaKeys_ should be valid when creating temporary session.");try{shaka.log.info("Creating new",cn,"session");var pn=this.mediaKeys_.createSession(cn)}catch(vn){this.onError_(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.FAILED_TO_CREATE_SESSION,vn.message));return}this.eventManager_.listen(pn,"message",function(vn){return dn.onSessionMessage_(vn)}),this.eventManager_.listen(pn,"keystatuseschange",function(vn){return dn.onKeyStatusesChange_(vn)}),this.activeSessions_.set(pn,{initData:ln,initDataType:sn,loaded:!1,oldExpiration:1/0,updatePromise:null,type:cn});try{ln=this.config_.initDataTransform(ln,sn,this.currentDrmInfo_)}catch(vn){sn=vn,vn instanceof shaka.util.Error||(sn=new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.INIT_DATA_TRANSFORM_ERROR,vn)),this.onError_(sn);return}this.config_.logLicenseExchange&&(cn=shaka.util.Uint8ArrayUtils.toBase64(ln),shaka.log.info("EME init data: type=",sn,"data=",cn)),pn.generateRequest(sn,ln).catch(function(vn){if(!dn.destroyer_.destroyed()){goog.asserts.assert(vn instanceof Error,"Wrong error type!"),dn.activeSessions_.delete(pn);var Sn=vn.errorCode;if(Sn&&Sn.systemCode){var En=Sn.systemCode;0>En&&(En+=Math.pow(2,32)),En="0x"+En.toString(16)}dn.onError_(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.FAILED_TO_GENERATE_LICENSE_REQUEST,vn.message,vn,En))}})},shaka.media.DrmEngine.prototype.onSessionMessage_=function(sn){this.delayLicenseRequest_()?this.mediaKeyMessageEvents_.push(sn):this.sendLicenseRequest_(sn)},shaka.media.DrmEngine.prototype.delayLicenseRequest_=function(){return this.video_?this.config_.delayLicenseRequestUntilPlayed&&this.video_.paused&&!this.initialRequestsSent_:!1},shaka.media.DrmEngine.prototype.sendLicenseRequest_=function(sn){var ln=this,cn,dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn,Gn,Dn,Kn,qn,Zn,Yn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Jn){switch(Jn.nextAddress){case 1:return cn=sn.target,shaka.log.v1("Sending license request for session",cn.sessionId,"of type",sn.messageType),ln.config_.logLicenseExchange&&(dn=shaka.util.Uint8ArrayUtils.toBase64(sn.message),shaka.log.info("EME license request",dn)),pn=ln.activeSessions_.get(cn),vn=ln.currentDrmInfo_.licenseServerUri,Sn=ln.config_.advanced[ln.currentDrmInfo_.keySystem],sn.messageType=="individualization-request"&&Sn&&Sn.individualizationServer&&(vn=Sn.individualizationServer),En=shaka.net.NetworkingEngine.RequestType.LICENSE,Cn=shaka.net.NetworkingEngine.makeRequest([vn],ln.config_.retryParameters),Cn.body=sn.message,Cn.method="POST",Cn.licenseRequestType=sn.messageType,Cn.sessionId=cn.sessionId,Cn.drmInfo=ln.currentDrmInfo_,pn&&(Cn.initData=pn.initData,Cn.initDataType=pn.initDataType),shaka.media.DrmEngine.isPlayReadyKeySystem(ln.currentDrmInfo_.keySystem)&&ln.unpackPlayReadyRequest_(Cn),Pn=Date.now(),Jn.setCatchFinallyBlocks(2),Ln=ln.playerInterface_.netEngine.request(En,Cn),Jn.yield(Ln.promise,4);case 4:Rn=Jn.yieldResult,Jn.leaveTryBlock(3);break;case 2:return Fn=Jn.enterCatchBlock(),goog.asserts.assert(Fn instanceof shaka.util.Error,"Wrong NetworkingEngine error type!"),Gn=new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.LICENSE_REQUEST_FAILED,Fn),ln.onError_(Gn),pn&&pn.updatePromise&&pn.updatePromise.reject(Gn),Jn.return();case 3:return ln.destroyer_.destroyed()?Jn.return():(ln.licenseTimeSeconds_+=(Date.now()-Pn)/1e3,ln.config_.logLicenseExchange&&(Dn=shaka.util.Uint8ArrayUtils.toBase64(Rn.data),shaka.log.info("EME license response",Dn)),Jn.setCatchFinallyBlocks(5),shaka.log.v1("Updating session",cn.sessionId),Jn.yield(cn.update(Rn.data),7));case 7:Jn.leaveTryBlock(6);break;case 5:return Kn=Jn.enterCatchBlock(),qn=new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.LICENSE_RESPONSE_REJECTED,Kn.message),ln.onError_(qn),pn&&pn.updatePromise&&pn.updatePromise.reject(qn),Jn.return();case 6:if(ln.destroyer_.destroyed())return Jn.return();Zn=new shaka.util.FakeEvent("drmsessionupdate"),ln.playerInterface_.onEvent(Zn),pn&&(pn.updatePromise&&pn.updatePromise.resolve(),Yn=new shaka.util.Timer(function(){pn.loaded=!0,ln.areAllSessionsLoaded_()&&ln.allSessionsLoaded_.resolve()}),Yn.tickAfter(shaka.media.DrmEngine.SESSION_LOAD_TIMEOUT_)),Jn.jumpToEnd()}})},shaka.media.DrmEngine.prototype.unpackPlayReadyRequest_=function(sn){var ln=shaka.util.StringUtils.fromUTF16(sn.body,!0,!0);if(ln.includes("PlayReadyKeyMessage")){shaka.log.debug("Unwrapping PlayReady request."),ln=shaka.util.XmlUtils.parseXmlString(ln,"PlayReadyKeyMessage"),goog.asserts.assert(ln,"Failed to parse PlayReady XML!");var cn=ln.getElementsByTagName("HttpHeader");cn=$jscomp.makeIterator(cn);for(var dn=cn.next();!dn.done;dn=cn.next()){var pn=dn.value;dn=pn.getElementsByTagName("name")[0],pn=pn.getElementsByTagName("value")[0],goog.asserts.assert(dn&&pn,"Malformed PlayReady headers!"),sn.headers[dn.textContent]=pn.textContent}ln=ln.getElementsByTagName("Challenge")[0],goog.asserts.assert(ln,"Malformed PlayReady challenge!"),goog.asserts.assert(ln.getAttribute("encoding")=="base64encoded","Unexpected PlayReady challenge encoding!"),sn.body=shaka.util.Uint8ArrayUtils.fromBase64(ln.textContent)}else shaka.log.debug("PlayReady request is already unwrapped."),sn.headers["Content-Type"]="text/xml; charset=utf-8"},shaka.media.DrmEngine.prototype.onKeyStatusesChange_=function(sn){var ln=this;sn=sn.target,shaka.log.v2("Key status changed for session",sn.sessionId);var cn=this.activeSessions_.get(sn),dn=!1;sn.keyStatuses.forEach(function(vn,Sn){if(typeof Sn=="string"){var En=Sn;Sn=vn,vn=En}if(shaka.media.DrmEngine.isPlayReadyKeySystem(ln.currentDrmInfo_.keySystem)&&Sn.byteLength==16&&(shaka.util.Platform.isEdge()||shaka.util.Platform.isPS4())){En=shaka.util.BufferUtils.toDataView(Sn);var Cn=En.getUint32(0,!0),Pn=En.getUint16(4,!0),Rn=En.getUint16(6,!0);En.setUint32(0,Cn,!1),En.setUint16(4,Pn,!1),En.setUint16(6,Rn,!1)}vn!="status-pending"&&(cn.loaded=!0),cn||goog.asserts.assert(vn!="usable","Usable keys found in closed session"),vn=="expired"&&(dn=!0),Sn=shaka.util.Uint8ArrayUtils.toHex(Sn).slice(0,32),ln.keyStatusByKeyId_.set(Sn,vn)});var pn=sn.expiration-Date.now();(0>pn||dn&&1e3>pn)&&cn&&!cn.updatePromise&&(shaka.log.debug("Session has expired",sn.sessionId),this.activeSessions_.delete(sn),sn.close().catch(function(){})),this.areAllSessionsLoaded_()&&(this.allSessionsLoaded_.resolve(),this.keyStatusTimer_.tickAfter(shaka.media.DrmEngine.KEY_STATUS_BATCH_TIME))},shaka.media.DrmEngine.prototype.processKeyStatusChanges_=function(){var sn=this.keyStatusByKeyId_,ln=this.announcedKeyStatusByKeyId_;ln.clear(),sn.forEach(function(cn,dn){return ln.set(dn,cn)}),sn=Array.from(ln.values()),sn.length&&sn.every(function(cn){return cn=="expired"})&&this.onError_(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.EXPIRED)),this.playerInterface_.onKeyStatus(shaka.util.MapUtils.asObject(ln))},shaka.media.DrmEngine.isBrowserSupported=function(){return!!window.MediaKeys&&!!window.navigator&&!!window.navigator.requestMediaKeySystemAccess&&!!window.MediaKeySystemAccess&&!!window.MediaKeySystemAccess.prototype.getConfiguration},shaka.media.DrmEngine.probeSupport=function(){var sn,ln,cn,dn,pn,vn,Sn,En;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Cn){return Cn.nextAddress==1?(goog.asserts.assert(shaka.media.DrmEngine.isBrowserSupported(),"Must have basic EME support"),sn="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.microsoft.playready.recommendation com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" "),ln=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],cn={initDataTypes:["cenc"],videoCapabilities:ln},dn={videoCapabilities:ln,persistentState:"required",sessionTypes:["persistent-license"]},pn=[dn,cn],vn=new Map,Sn=function(Pn){var Rn,Ln,Fn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Gn){switch(Gn.nextAddress){case 1:if(Gn.setCatchFinallyBlocks(2),Pn==="org.w3.clearkey"&&shaka.util.Platform.isSafari())throw Error("Unsupported keySystem");return Gn.yield(navigator.requestMediaKeySystemAccess(Pn,pn),4);case 4:return Rn=Gn.yieldResult,Fn=(Ln=Rn.getConfiguration().sessionTypes)?Ln.includes("persistent-license"):!1,shaka.util.Platform.isTizen3()&&(Fn=!1),vn.set(Pn,{persistentState:Fn}),Gn.yield(Rn.createMediaKeys(),5);case 5:Gn.leaveTryBlock(0);break;case 2:Gn.enterCatchBlock(),vn.set(Pn,null),Gn.jumpToEnd()}})},En=sn.map(function(Pn){return Sn(Pn)}),Cn.yield(Promise.all(En),2)):Cn.return(shaka.util.MapUtils.asObject(vn))})},shaka.media.DrmEngine.prototype.onPlay_=function(){for(var sn=$jscomp.makeIterator(this.mediaKeyMessageEvents_),ln=sn.next();!ln.done;ln=sn.next())this.sendLicenseRequest_(ln.value);this.initialRequestsSent_=!0,this.mediaKeyMessageEvents_=[]},shaka.media.DrmEngine.prototype.closeSession_=function(sn){var ln,cn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dn){if(dn.nextAddress==1)return ln=shaka.media.DrmEngine,cn=new Promise(function(pn,vn){new shaka.util.Timer(vn).tickAfter(ln.CLOSE_TIMEOUT_)}),dn.setCatchFinallyBlocks(2),dn.yield(Promise.race([Promise.all([sn.close(),sn.closed]),cn]),4);if(dn.nextAddress!=2)return dn.leaveTryBlock(0);dn.enterCatchBlock(),shaka.log.warning("Timeout waiting for session close"),dn.jumpToEnd()})},shaka.media.DrmEngine.prototype.closeOpenSessions_=function(){var sn=this,ln;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cn){return ln=Array.from(sn.activeSessions_.entries()),sn.activeSessions_.clear(),cn.yield(Promise.all(ln.map(function(dn){dn=$jscomp.makeIterator(dn);var pn=dn.next().value,vn=dn.next().value,Sn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(En){if(En.nextAddress==1)return En.setCatchFinallyBlocks(2),!sn.initializedForStorage_&&!sn.offlineSessionIds_.includes(pn.sessionId)&&vn.type==="persistent-license"?(shaka.log.v1("Removing session",pn.sessionId),En.yield(pn.remove(),5)):(shaka.log.v1("Closing session",pn.sessionId,vn),En.yield(sn.closeSession_(pn),5));if(En.nextAddress!=2)return En.leaveTryBlock(0);Sn=En.enterCatchBlock(),shaka.log.error("Failed to close or remove the session",Sn),En.jumpToEnd()})})),0)})},shaka.media.DrmEngine.prototype.supportsVariant=function(sn){var ln=sn.audio,cn=sn.video;if(ln&&ln.encrypted&&(ln=shaka.media.DrmEngine.computeMimeType_(ln),!this.willSupport(ln))||cn&&cn.encrypted&&(cn=shaka.media.DrmEngine.computeMimeType_(cn),!this.willSupport(cn)))return!1;var dn=shaka.media.DrmEngine.keySystem(this.currentDrmInfo_);return sn=this.getVariantDrmInfos_(sn),sn.length==0||sn.some(function(pn){return pn.keySystem==dn})},shaka.media.DrmEngine.areDrmCompatible=function(sn,ln){return sn.length&&ln.length?0<shaka.media.DrmEngine.getCommonDrmInfos(sn,ln).length:!0},shaka.media.DrmEngine.getCommonDrmInfos=function(sn,ln){if(!sn.length)return ln;if(!ln.length)return sn;var cn=[];sn=$jscomp.makeIterator(sn);for(var dn=sn.next();!dn.done;dn=sn.next()){dn=dn.value;for(var pn={},vn=$jscomp.makeIterator(ln),Sn=vn.next();!Sn.done;pn={$jscomp$loop$prop$initData$696:pn.$jscomp$loop$prop$initData$696},Sn=vn.next())if(Sn=Sn.value,dn.keySystem==Sn.keySystem){pn.$jscomp$loop$prop$initData$696=[],pn.$jscomp$loop$prop$initData$696=pn.$jscomp$loop$prop$initData$696.concat(dn.initData||[]),pn.$jscomp$loop$prop$initData$696=pn.$jscomp$loop$prop$initData$696.concat(Sn.initData||[]),pn.$jscomp$loop$prop$initData$696=pn.$jscomp$loop$prop$initData$696.filter(function(En){return function(Cn,Pn){return Cn.keyId===void 0||Pn===En.$jscomp$loop$prop$initData$696.findIndex(function(Rn){return Rn.keyId===Cn.keyId})}}(pn)),vn=dn.keyIds&&Sn.keyIds?new Set([].concat($jscomp.arrayFromIterable(dn.keyIds),$jscomp.arrayFromIterable(Sn.keyIds))):dn.keyIds||Sn.keyIds,cn.push({keySystem:dn.keySystem,licenseServerUri:dn.licenseServerUri||Sn.licenseServerUri,distinctiveIdentifierRequired:dn.distinctiveIdentifierRequired||Sn.distinctiveIdentifierRequired,persistentStateRequired:dn.persistentStateRequired||Sn.persistentStateRequired,videoRobustness:dn.videoRobustness||Sn.videoRobustness,audioRobustness:dn.audioRobustness||Sn.audioRobustness,serverCertificate:dn.serverCertificate||Sn.serverCertificate,serverCertificateUri:dn.serverCertificateUri||Sn.serverCertificateUri,initData:pn.$jscomp$loop$prop$initData$696,keyIds:vn});break}}return cn},shaka.media.DrmEngine.prototype.getVariantDrmInfos_=function(sn){return(sn.video?sn.video.drmInfos:[]).concat(sn.audio?sn.audio.drmInfos:[])},shaka.media.DrmEngine.prototype.pollExpiration_=function(){var sn=this;this.activeSessions_.forEach(function(ln,cn){var dn=ln.oldExpiration,pn=cn.expiration;isNaN(pn)&&(pn=1/0),pn!=dn&&(sn.playerInterface_.onExpirationUpdated(cn.sessionId,pn),ln.oldExpiration=pn)})},shaka.media.DrmEngine.prototype.areAllSessionsLoaded_=function(){var sn=this.activeSessions_.values();return shaka.util.Iterables.every(sn,function(ln){return ln.loaded})},shaka.media.DrmEngine.replaceDrmInfo_=function(sn,ln){var cn=[];for(ln.forEach(function(dn,pn){cn.push({keySystem:pn,licenseServerUri:dn,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",initData:[],keyIds:new Set})}),sn=$jscomp.makeIterator(sn),ln=sn.next();!ln.done;ln=sn.next())ln=ln.value,ln.video&&(ln.video.drmInfos=cn),ln.audio&&(ln.audio.drmInfos=cn)},shaka.media.DrmEngine.prototype.createDrmInfoByInfos_=function(sn,ln){var cn=[],dn=[],pn=[],vn=[],Sn=new Set;shaka.media.DrmEngine.processDrmInfos_(ln,cn,pn,dn,vn,Sn),1<pn.length&&shaka.log.warning("Multiple unique server certificates found! Only the first will be used."),1<cn.length&&shaka.log.warning("Multiple unique license server URIs found! Only the first will be used."),1<dn.length&&shaka.log.warning("Multiple unique server certificate URIs found! Only the first will be used.");var En=this.usePersistentLicenses_?"persistent-license":"temporary";for(sn={keySystem:sn,licenseServerUri:cn[0],distinctiveIdentifierRequired:ln[0].distinctiveIdentifierRequired,persistentStateRequired:ln[0].persistentStateRequired,sessionType:ln[0].sessionType||En,audioRobustness:ln[0].audioRobustness||"",videoRobustness:ln[0].videoRobustness||"",serverCertificate:pn[0],serverCertificateUri:dn[0],initData:vn,keyIds:Sn},ln=$jscomp.makeIterator(ln),cn=ln.next();!cn.done;cn=ln.next())cn=cn.value,cn.distinctiveIdentifierRequired&&(sn.distinctiveIdentifierRequired=cn.distinctiveIdentifierRequired),cn.persistentStateRequired&&(sn.persistentStateRequired=cn.persistentStateRequired);return sn},shaka.media.DrmEngine.createDrmInfoByConfigs_=function(sn,ln){var cn=[],dn=[],pn=[],vn=[],Sn=new Set;return shaka.media.DrmEngine.processDrmInfos_(ln.drmInfos,cn,pn,dn,vn,Sn),1<pn.length&&shaka.log.warning("Multiple unique server certificates found! Only the first will be used."),1<dn.length&&shaka.log.warning("Multiple unique server certificate URIs found! Only the first will be used."),1<cn.length&&shaka.log.warning("Multiple unique license server URIs found! Only the first will be used."),{keySystem:sn,licenseServerUri:cn[0],distinctiveIdentifierRequired:ln.distinctiveIdentifier=="required",persistentStateRequired:ln.persistentState=="required",sessionType:ln.sessionTypes[0]||"temporary",audioRobustness:(ln.audioCapabilities?ln.audioCapabilities[0].robustness:"")||"",videoRobustness:(ln.videoCapabilities?ln.videoCapabilities[0].robustness:"")||"",serverCertificate:pn[0],serverCertificateUri:dn[0],initData:vn,keyIds:Sn}},shaka.media.DrmEngine.processDrmInfos_=function(sn,ln,cn,dn,pn,vn){var Sn={};sn=$jscomp.makeIterator(sn);for(var En=sn.next();!En.done;Sn={$jscomp$loop$prop$drmInfo$698:Sn.$jscomp$loop$prop$drmInfo$698},En=sn.next()){if(Sn.$jscomp$loop$prop$drmInfo$698=En.value,ln.includes(Sn.$jscomp$loop$prop$drmInfo$698.licenseServerUri)||ln.push(Sn.$jscomp$loop$prop$drmInfo$698.licenseServerUri),dn.includes(Sn.$jscomp$loop$prop$drmInfo$698.serverCertificateUri)||dn.push(Sn.$jscomp$loop$prop$drmInfo$698.serverCertificateUri),Sn.$jscomp$loop$prop$drmInfo$698.serverCertificate&&(cn.some(function(Rn){return function(Ln){return shaka.util.BufferUtils.equal(Ln,Rn.$jscomp$loop$prop$drmInfo$698.serverCertificate)}}(Sn))||cn.push(Sn.$jscomp$loop$prop$drmInfo$698.serverCertificate)),Sn.$jscomp$loop$prop$drmInfo$698.initData){En={};for(var Cn=$jscomp.makeIterator(Sn.$jscomp$loop$prop$drmInfo$698.initData),Pn=Cn.next();!Pn.done;En={$jscomp$loop$prop$initDataOverride$700:En.$jscomp$loop$prop$initDataOverride$700},Pn=Cn.next())En.$jscomp$loop$prop$initDataOverride$700=Pn.value,pn.some(function(Rn){return function(Ln){var Fn=Rn.$jscomp$loop$prop$initDataOverride$700;return Ln=Ln.keyId&&Ln.keyId==Fn.keyId?!0:Ln.initDataType==Fn.initDataType&&shaka.util.BufferUtils.equal(Ln.initData,Fn.initData),Ln}}(En))||pn.push(En.$jscomp$loop$prop$initDataOverride$700)}if(Sn.$jscomp$loop$prop$drmInfo$698.keyIds)for(En=$jscomp.makeIterator(Sn.$jscomp$loop$prop$drmInfo$698.keyIds),Cn=En.next();!Cn.done;Cn=En.next())vn.add(Cn.value)}},shaka.media.DrmEngine.fillInDrmInfoDefaults_=function(sn,ln,cn,dn){var pn=sn.keySystem;pn&&(pn!="org.w3.clearkey"||!sn.licenseServerUri)&&(ln.size&&(ln=ln.get(pn)||"",sn.licenseServerUri=ln),sn.keyIds||(sn.keyIds=new Set),(cn=cn.get(pn))&&(sn.distinctiveIdentifierRequired||(sn.distinctiveIdentifierRequired=cn.distinctiveIdentifierRequired),sn.persistentStateRequired||(sn.persistentStateRequired=cn.persistentStateRequired),sn.videoRobustness||(sn.videoRobustness=cn.videoRobustness),sn.audioRobustness||(sn.audioRobustness=cn.audioRobustness),sn.serverCertificate||(sn.serverCertificate=cn.serverCertificate),cn.sessionType&&(sn.sessionType=cn.sessionType),sn.serverCertificateUri||(sn.serverCertificateUri=cn.serverCertificateUri)),dn[pn]&&(sn.keySystem=dn[pn]),window.cast&&window.cast.__platform__&&pn=="com.microsoft.playready"&&(sn.keySystem="com.chromecast.playready"))},shaka.media.DrmEngine.prototype.parseInbandPssh=function(sn,ln){if(!this.config_.parseInbandPsshEnabled)return Promise.resolve();var cn=shaka.util.ManifestParserUtils.ContentType;if(![cn.AUDIO,cn.VIDEO].includes(sn))return Promise.resolve();ln=new shaka.util.Pssh(shaka.util.BufferUtils.toUint8(ln)),cn=0;var dn=$jscomp.makeIterator(ln.data);for(sn=dn.next();!sn.done;sn=dn.next())cn+=sn.value.length;if(cn==0)return Promise.resolve();for(cn=new Uint8Array(cn),dn=0,ln=$jscomp.makeIterator(ln.data),sn=ln.next();!sn.done;sn=ln.next())sn=sn.value,cn.set(sn,dn),dn+=sn.length;return this.newInitData("cenc",cn),this.allSessionsLoaded_},shaka.media.DrmEngine.CLOSE_TIMEOUT_=1,shaka.media.DrmEngine.SESSION_LOAD_TIMEOUT_=5,shaka.media.DrmEngine.KEY_STATUS_BATCH_TIME=.5,shaka.media.DrmEngine.DUMMY_KEY_ID=new shaka.util.Lazy(function(){return shaka.util.BufferUtils.toArrayBuffer(new Uint8Array([0]))}),shaka.media.ManifestParser=function(){},shaka.media.ManifestParser.registerParserByExtension=function(sn,ln){shaka.media.ManifestParser.parsersByExtension[sn]=ln},shaka.media.ManifestParser.registerParserByMime=function(sn,ln){shaka.media.ManifestParser.parsersByMime[sn]=ln},shaka.media.ManifestParser.unregisterParserByMime=function(sn){delete shaka.media.ManifestParser.parsersByMime[sn]},shaka.media.ManifestParser.probeSupport=function(){var sn=shaka.media.ManifestParser,ln={};if(shaka.util.Platform.supportsMediaSource()){for(var cn in sn.parsersByMime)ln[cn]=!0;for(var dn in sn.parsersByExtension)ln[dn]=!0}cn={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"},dn=$jscomp.makeIterator(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"]);for(var pn=dn.next();!pn.done;pn=dn.next())pn=pn.value,shaka.util.Platform.supportsMediaSource()?ln[pn]=!!sn.parsersByMime[pn]:ln[pn]=shaka.util.Platform.supportsMediaType(pn);for(var vn in cn)shaka.util.Platform.supportsMediaSource()?ln[vn]=!!sn.parsersByExtension[vn]:ln[vn]=shaka.util.Platform.supportsMediaType(cn[vn]);return ln},shaka.media.ManifestParser.getFactory=function(sn,ln,cn,dn){var pn,vn,Sn,En,Cn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Pn){if(Pn.nextAddress==1){if(pn=shaka.media.ManifestParser,dn){if(vn=pn.parsersByMime[dn.toLowerCase()])return Pn.return(vn);shaka.log.warning("Could not determine manifest type using MIME type ",dn)}if(Sn=pn.getExtension(sn)){if(En=pn.parsersByExtension[Sn])return Pn.return(En);shaka.log.warning("Could not determine manifest type for extension ",Sn)}else shaka.log.warning("Could not find extension for ",sn);return dn?Pn.jumpTo(2):Pn.yield(pn.getMimeType(sn,ln,cn),3)}if(Pn.nextAddress!=2&&(dn=Pn.yieldResult)){if(Cn=shaka.media.ManifestParser.parsersByMime[dn])return Pn.return(Cn);shaka.log.warning("Could not determine manifest type using MIME type",dn)}throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.UNABLE_TO_GUESS_MANIFEST_TYPE,sn)})},shaka.media.ManifestParser.getMimeType=function(sn,ln,cn){var dn,pn,vn,Sn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(En){return En.nextAddress==1?(dn=shaka.net.NetworkingEngine.RequestType.MANIFEST,pn=shaka.net.NetworkingEngine.makeRequest([sn],cn),pn.method="HEAD",En.yield(ln.request(dn,pn).promise,2)):(vn=En.yieldResult,Sn=vn.headers["content-type"],En.return(Sn?Sn.toLowerCase().split(";").shift():""))})},shaka.media.ManifestParser.getExtension=function(sn){return sn=new goog.Uri(sn).getPath().split("/").pop().split("."),sn.length==1?"":sn.pop().toLowerCase()},shaka.media.ManifestParser.isSupported=function(sn,ln){return shaka.util.Platform.supportsMediaSource()?ln in shaka.media.ManifestParser.parsersByMime||shaka.media.ManifestParser.getExtension(sn)in shaka.media.ManifestParser.parsersByExtension:!1},goog.exportSymbol("shaka.media.ManifestParser",shaka.media.ManifestParser),goog.exportProperty(shaka.media.ManifestParser,"unregisterParserByMime",shaka.media.ManifestParser.unregisterParserByMime),goog.exportProperty(shaka.media.ManifestParser,"registerParserByMime",shaka.media.ManifestParser.registerParserByMime),goog.exportProperty(shaka.media.ManifestParser,"registerParserByExtension",shaka.media.ManifestParser.registerParserByExtension),shaka.media.ManifestParser.parsersByMime={},shaka.media.ManifestParser.parsersByExtension={},shaka.media.ContentWorkarounds=function(){},shaka.media.ContentWorkarounds.fakeEncryption=function(sn){var ln=shaka.media.ContentWorkarounds;sn=shaka.util.BufferUtils.toUint8(sn);var cn=!1,dn,pn=[],vn=function(Pn){pn.push(Pn),shaka.util.Mp4Parser.children(Pn)},Sn=function(Pn){cn=!0},En=[];if(new shaka.util.Mp4Parser().box("moov",vn).box("trak",vn).box("mdia",vn).box("minf",vn).box("stbl",vn).fullBox("stsd",function(Pn){dn=Pn,pn.push(Pn),shaka.util.Mp4Parser.sampleDescription(Pn)}).fullBox("encv",Sn).fullBox("enca",Sn).fullBox("hev1",function(Pn){En.push({box:Pn,newType:ln.BOX_TYPE_ENCV_})}).fullBox("hvc1",function(Pn){En.push({box:Pn,newType:ln.BOX_TYPE_ENCV_})}).fullBox("avc1",function(Pn){En.push({box:Pn,newType:ln.BOX_TYPE_ENCV_})}).fullBox("avc3",function(Pn){En.push({box:Pn,newType:ln.BOX_TYPE_ENCV_})}).fullBox("ac-3",function(Pn){En.push({box:Pn,newType:ln.BOX_TYPE_ENCA_})}).fullBox("ec-3",function(Pn){En.push({box:Pn,newType:ln.BOX_TYPE_ENCA_})}).fullBox("mp4a",function(Pn){En.push({box:Pn,newType:ln.BOX_TYPE_ENCA_})}).parse(sn),cn)return shaka.log.debug("Init segment already indicates encryption."),sn;if(En.length==0||!dn)throw shaka.log.error("Failed to find boxes needed to fake encryption!"),shaka.log.v2("Failed init segment (hex):",shaka.util.Uint8ArrayUtils.toHex(sn)),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.CONTENT_TRANSFORMATION_FAILED);for(En.reverse(),vn=$jscomp.makeIterator(En),Sn=vn.next();!Sn.done;Sn=vn.next()){Sn=Sn.value;var Cn=shaka.util.Mp4Parser.typeToString(Sn.newType);shaka.log.debug('Inserting "'+Cn+'" box into init segment.'),sn=ln.insertEncryptionMetadata_(sn,dn,Sn.box,pn,Sn.newType)}return sn},shaka.media.ContentWorkarounds.insertEncryptionMetadata_=function(sn,ln,cn,dn,pn){var vn=shaka.media.ContentWorkarounds,Sn=vn.createEncryptionMetadata_(sn,cn,pn);pn=new Uint8Array(sn.byteLength+Sn.byteLength),cn=shaka.util.Platform.isXboxOne()?cn.start:cn.start+cn.size;var En=sn.subarray(0,cn);for(sn=sn.subarray(cn),pn.set(En),pn.set(Sn,cn),pn.set(sn,cn+Sn.byteLength),dn=$jscomp.makeIterator(dn),sn=dn.next();!sn.done;sn=dn.next())sn=sn.value,goog.asserts.assert(sn.start<cn,"Ancestor MP4 box found in the wrong location!  Modified init segment will not make sense!"),vn.updateBoxSize_(pn,sn.start,sn.size+Sn.byteLength);return vn=shaka.util.BufferUtils.toDataView(pn,ln.start),ln=shaka.util.Mp4Parser.headerSize(ln),Sn=vn.getUint32(ln),vn.setUint32(ln,Sn+1),pn},shaka.media.ContentWorkarounds.createEncryptionMetadata_=function(sn,ln,cn){var dn=shaka.media.ContentWorkarounds,pn=dn.CANNED_SINF_BOX_.value(),vn=sn.subarray(ln.start,ln.start+ln.size),Sn=shaka.util.BufferUtils.toDataView(vn);return sn=new Uint8Array(ln.size+pn.byteLength),sn.set(vn,0),vn=shaka.util.BufferUtils.toDataView(sn),vn.setUint32(dn.BOX_TYPE_OFFSET_,cn),sn.set(pn,ln.size),cn=Sn.getUint32(dn.BOX_TYPE_OFFSET_),vn.setUint32(ln.size+dn.CANNED_SINF_BOX_FORMAT_OFFSET_,cn),dn.updateBoxSize_(sn,0,sn.byteLength),sn},shaka.media.ContentWorkarounds.updateBoxSize_=function(sn,ln,cn){var dn=shaka.media.ContentWorkarounds;sn=shaka.util.BufferUtils.toDataView(sn,ln),ln=sn.getUint32(dn.BOX_SIZE_OFFSET_),ln!=0&&(ln==1?(sn.setUint32(dn.BOX_SIZE_64_OFFSET_,cn>>32),sn.setUint32(dn.BOX_SIZE_64_OFFSET_+4,cn&4294967295)):sn.setUint32(dn.BOX_SIZE_OFFSET_,cn))},shaka.media.ContentWorkarounds.CANNED_SINF_BOX_=new shaka.util.Lazy(function(){return new Uint8Array([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])}),shaka.media.ContentWorkarounds.CANNED_SINF_BOX_FORMAT_OFFSET_=16,shaka.media.ContentWorkarounds.BOX_SIZE_OFFSET_=0,shaka.media.ContentWorkarounds.BOX_TYPE_OFFSET_=4,shaka.media.ContentWorkarounds.BOX_SIZE_64_OFFSET_=8,shaka.media.ContentWorkarounds.BOX_TYPE_ENCV_=1701733238,shaka.media.ContentWorkarounds.BOX_TYPE_ENCA_=1701733217,shaka.cea={},shaka.cea.ICaptionDecoder=function(){},shaka.cea.ICaptionDecoder.prototype.extract=function(sn,ln){},shaka.cea.ICaptionDecoder.prototype.decode=function(){},shaka.cea.ICaptionDecoder.prototype.clear=function(){},shaka.cea.CeaUtils=function(){},shaka.cea.CeaUtils.getParsedCaption=function(sn,ln,cn,dn,pn){if(dn>=pn)return null;for(var vn=-1,Sn=-1,En=0;En<cn.length;En++)if(cn[En].some(function(rs){return rs!=null&&rs.getChar().trim()!=""})){vn=En;break}for(En=cn.length-1;0<=En;En--)if(cn[En].some(function(rs){return rs!=null&&rs.getChar().trim()!=""})){Sn=En;break}if(vn===-1||Sn===-1)return null;for(var Cn=En=!1,Pn=shaka.cea.CeaUtils.DEFAULT_TXT_COLOR,Rn=shaka.cea.CeaUtils.DEFAULT_BG_COLOR,Ln=shaka.cea.CeaUtils.createStyledCue(dn,pn,En,Cn,Pn,Rn);vn<=Sn;vn++){for(var Fn=cn[vn],Gn=-1,Dn=-1,Kn=0;Kn<Fn.length;Kn++)if(Fn[Kn]!=null&&Fn[Kn].getChar().trim()!==""){Gn=Kn;break}for(Kn=Fn.length-1;0<=Kn;Kn--)if(Fn[Kn]!=null&&Fn[Kn].getChar().trim()!==""){Dn=Kn;break}if(Gn===-1||Dn===-1)Fn=shaka.cea.CeaUtils.createLineBreakCue(dn,pn),sn.nestedCues.push(Fn);else{for(;Gn<=Dn;Gn++)if(Kn=Fn[Gn]){var qn=Kn.isUnderlined(),Zn=Kn.isItalicized(),Yn=Kn.getTextColor(),Jn=Kn.getBackgroundColor();(qn!=En||Zn!=Cn||Yn!=Pn||Jn!=Rn)&&(Ln.payload&&sn.nestedCues.push(Ln),Ln=shaka.cea.CeaUtils.createStyledCue(dn,pn,qn,Zn,Yn,Jn),En=qn,Cn=Zn,Pn=Yn,Rn=Jn),Ln.payload+=Kn.getChar()}else Ln.payload+=" ";Ln.payload&&sn.nestedCues.push(Ln),vn!==Sn&&(Ln=shaka.cea.CeaUtils.createLineBreakCue(dn,pn),sn.nestedCues.push(Ln)),Ln=shaka.cea.CeaUtils.createStyledCue(dn,pn,En,Cn,Pn,Rn)}}return sn.nestedCues.length?{cue:sn,stream:ln}:null},shaka.cea.CeaUtils.createStyledCue=function(sn,ln,cn,dn,pn,vn){return sn=new shaka.text.Cue(sn,ln,""),cn&&sn.textDecoration.push(shaka.text.Cue.textDecoration.UNDERLINE),dn&&(sn.fontStyle=shaka.text.Cue.fontStyle.ITALIC),sn.color=pn,sn.backgroundColor=vn,sn},shaka.cea.CeaUtils.createLineBreakCue=function(sn,ln){return sn=new shaka.text.Cue(sn,ln,""),sn.lineBreak=!0,sn},shaka.cea.CeaUtils.StyledChar=function(sn,ln,cn,dn,pn){this.character_=sn,this.underline_=ln,this.italics_=cn,this.backgroundColor_=dn,this.textColor_=pn},shaka.cea.CeaUtils.StyledChar.prototype.getChar=function(){return this.character_},shaka.cea.CeaUtils.StyledChar.prototype.isUnderlined=function(){return this.underline_},shaka.cea.CeaUtils.StyledChar.prototype.isItalicized=function(){return this.italics_},shaka.cea.CeaUtils.StyledChar.prototype.getBackgroundColor=function(){return this.backgroundColor_},shaka.cea.CeaUtils.StyledChar.prototype.getTextColor=function(){return this.textColor_},shaka.cea.CeaUtils.DEFAULT_BG_COLOR="black",shaka.cea.CeaUtils.DEFAULT_TXT_COLOR="white",shaka.cea.Cea608Memory=function(sn,ln){this.rows_=[],this.row_=1,this.scrollRows_=0,this.fieldNum_=sn,this.channelNum_=ln,this.italics_=this.underline_=!1,this.textColor_=shaka.cea.CeaUtils.DEFAULT_TXT_COLOR,this.backgroundColor_=shaka.cea.CeaUtils.DEFAULT_BG_COLOR,this.reset()},shaka.cea.Cea608Memory.prototype.forceEmit=function(sn,ln){var cn="CC"+(this.fieldNum_<<1|this.channelNum_+1),dn=new shaka.text.Cue(sn,ln,"");return shaka.cea.CeaUtils.getParsedCaption(dn,cn,this.rows_,sn,ln)},shaka.cea.Cea608Memory.prototype.reset=function(){this.resetAllRows(),this.row_=1},shaka.cea.Cea608Memory.prototype.getRow=function(){return this.row_},shaka.cea.Cea608Memory.prototype.setRow=function(sn){this.row_=sn},shaka.cea.Cea608Memory.prototype.getScrollSize=function(){return this.scrollRows_},shaka.cea.Cea608Memory.prototype.setScrollSize=function(sn){this.scrollRows_=sn},shaka.cea.Cea608Memory.prototype.addChar=function(sn,ln){if(!(32>ln||127<ln)){var cn="";switch(sn){case shaka.cea.Cea608Memory.CharSet.BASIC_NORTH_AMERICAN:cn=shaka.cea.Cea608Memory.CharSet.BasicNorthAmericanChars.has(ln)?shaka.cea.Cea608Memory.CharSet.BasicNorthAmericanChars.get(ln):String.fromCharCode(ln);break;case shaka.cea.Cea608Memory.CharSet.SPECIAL_NORTH_AMERICAN:cn=shaka.cea.Cea608Memory.CharSet.SpecialNorthAmericanChars.get(ln);break;case shaka.cea.Cea608Memory.CharSet.SPANISH_FRENCH:this.eraseChar(),cn=shaka.cea.Cea608Memory.CharSet.ExtendedSpanishFrench.get(ln);break;case shaka.cea.Cea608Memory.CharSet.PORTUGUESE_GERMAN:this.eraseChar(),cn=shaka.cea.Cea608Memory.CharSet.ExtendedPortugueseGerman.get(ln)}cn&&(sn=new shaka.cea.CeaUtils.StyledChar(cn,this.underline_,this.italics_,this.backgroundColor_,this.textColor_),this.rows_[this.row_].push(sn))}},shaka.cea.Cea608Memory.prototype.eraseChar=function(){this.rows_[this.row_].pop()},shaka.cea.Cea608Memory.prototype.moveRows=function(sn,ln,cn){if(!(0>ln||0>sn))if(sn>=ln)for(--cn;0<=cn;cn--)this.rows_[sn+cn]=this.rows_[ln+cn].map(function(pn){return pn});else for(var dn=0;dn<cn;dn++)this.rows_[sn+dn]=this.rows_[ln+dn].map(function(pn){return pn})},shaka.cea.Cea608Memory.prototype.resetRows=function(sn,ln){for(var cn=0;cn<=ln;cn++)this.rows_[sn+cn]=[]},shaka.cea.Cea608Memory.prototype.resetAllRows=function(){this.resetRows(0,shaka.cea.Cea608Memory.CC_ROWS)},shaka.cea.Cea608Memory.prototype.eraseBuffer=function(){this.row_=0<this.scrollRows_?this.scrollRows_:0,this.resetAllRows()},shaka.cea.Cea608Memory.prototype.setUnderline=function(sn){this.underline_=sn},shaka.cea.Cea608Memory.prototype.setItalics=function(sn){this.italics_=sn},shaka.cea.Cea608Memory.prototype.setTextColor=function(sn){this.textColor_=sn},shaka.cea.Cea608Memory.prototype.setBackgroundColor=function(sn){this.backgroundColor_=sn},shaka.cea.Cea608Memory.CC_ROWS=15,shaka.cea.Cea608Memory.CharSet={BASIC_NORTH_AMERICAN:0,SPECIAL_NORTH_AMERICAN:1,SPANISH_FRENCH:2,PORTUGUESE_GERMAN:3},shaka.cea.Cea608Memory.CharSet.BasicNorthAmericanChars=new Map([[39,"’"],[42,"á"],[92,"é"],[92,"é"],[94,"í"],[95,"ó"],[96,"ú"],[123,"ç"],[124,"÷"],[125,"Ñ"],[126,"ñ"],[127,"█"]]),shaka.cea.Cea608Memory.CharSet.SpecialNorthAmericanChars=new Map([[48,"®"],[49,"°"],[50,"½"],[51,"¿"],[52,"™"],[53,"¢"],[54,"£"],[55,"♪"],[56,"à"],[57,"⠀"],[58,"è"],[59,"â"],[60,"ê"],[61,"î"],[62,"ô"],[63,"û"]]),shaka.cea.Cea608Memory.CharSet.ExtendedSpanishFrench=new Map([[32,"Á"],[33,"É"],[34,"Ó"],[35,"Ú"],[36,"Ü"],[37,"ü"],[38,"‘"],[39,"¡"],[40,"*"],[41,"'"],[42,"─"],[43,"©"],[44,"℠"],[45,"·"],[46,"“"],[47,"”"],[48,"À"],[49,"Â"],[50,"Ç"],[51,"È"],[52,"Ê"],[53,"Ë"],[54,"ë"],[55,"Î"],[56,"Ï"],[57,"ï"],[58,"Ô"],[59,"Ù"],[60,"ù"],[61,"Û"],[62,"«"],[63,"»"]]),shaka.cea.Cea608Memory.CharSet.ExtendedPortugueseGerman=new Map([[32,"Ã"],[33,"ã"],[34,"Í"],[35,"Ì"],[36,"ì"],[37,"Ò"],[38,"ò"],[39,"Õ"],[40,"õ"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"Ä"],[49,"ä"],[50,"Ö"],[51,"ö"],[52,"ß"],[53,"¥"],[54,"¤"],[55,"│"],[56,"Å"],[57,"å"],[58,"Ø"],[59,"ø"],[60,"┌"],[61,"┐"],[62,"└"],[63,"┘"]]),shaka.cea.Cea608DataChannel=function(sn,ln){this.type_=shaka.cea.Cea608DataChannel.CaptionType.NONE,this.text_=new shaka.cea.Cea608Memory(sn,ln),this.displayedMemory_=new shaka.cea.Cea608Memory(sn,ln),this.nonDisplayedMemory_=new shaka.cea.Cea608Memory(sn,ln),this.curbuf_=this.displayedMemory_,this.prevEndTime_=0,this.lastcp_=null},shaka.cea.Cea608DataChannel.prototype.reset=function(){this.type_=shaka.cea.Cea608DataChannel.CaptionType.PAINTON,this.curbuf_=this.displayedMemory_,this.lastcp_=null,this.displayedMemory_.reset(),this.nonDisplayedMemory_.reset(),this.text_.reset()},shaka.cea.Cea608DataChannel.prototype.pacToRow_=function(sn,ln){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(sn&7)<<1|ln>>5&1]},shaka.cea.Cea608DataChannel.prototype.controlPac_=function(sn,ln){sn=this.pacToRow_(sn,ln);var cn=(ln&30)>>1,dn=shaka.cea.CeaUtils.DEFAULT_TXT_COLOR,pn=!1;if(7>cn?dn=shaka.cea.Cea608DataChannel.TEXT_COLORS[cn]:cn===7&&(pn=!0),ln=(ln&1)===1,this.type_!==shaka.cea.Cea608DataChannel.CaptionType.TEXT){if(cn=this.curbuf_,this.type_===shaka.cea.Cea608DataChannel.CaptionType.ROLLUP&&sn!==cn.getRow()){var vn=1+cn.getRow()-cn.getScrollSize(),Sn=1+sn-cn.getScrollSize();cn.moveRows(Sn,vn,cn.getScrollSize()),cn.resetRows(0,Sn-1),cn.resetRows(sn+1,shaka.cea.Cea608Memory.CC_ROWS-sn)}cn.setRow(sn),this.curbuf_.setUnderline(ln),this.curbuf_.setItalics(pn),this.curbuf_.setTextColor(dn),this.curbuf_.setBackgroundColor(shaka.cea.CeaUtils.DEFAULT_BG_COLOR)}},shaka.cea.Cea608DataChannel.prototype.controlMidrow_=function(sn){this.curbuf_.setUnderline(!1),this.curbuf_.setItalics(!1),this.curbuf_.setTextColor(shaka.cea.CeaUtils.DEFAULT_TXT_COLOR),this.curbuf_.addChar(shaka.cea.Cea608Memory.CharSet.BASIC_NORTH_AMERICAN,32);var ln=!1,cn=shaka.cea.Cea608DataChannel.TEXT_COLORS[(sn&14)>>1];cn==="white_italics"&&(cn="white",ln=!0),this.curbuf_.setUnderline((sn&1)===1),this.curbuf_.setItalics(ln),this.curbuf_.setTextColor(cn)},shaka.cea.Cea608DataChannel.prototype.controlBackgroundAttribute_=function(sn,ln){var cn=shaka.cea.CeaUtils.DEFAULT_BG_COLOR;!(sn&7)&&(cn=shaka.cea.Cea608DataChannel.BG_COLORS[(ln&14)>>1]),this.curbuf_.setBackgroundColor(cn)},shaka.cea.Cea608DataChannel.prototype.controlMiscellaneous_=function(sn){var ln=shaka.cea.Cea608DataChannel.MiscCmd_,cn=sn.pts,dn=null;switch(sn.ccData2){case ln.RCL:this.controlRcl_();break;case ln.BS:this.controlBs_();break;case ln.RU2:dn=this.controlRu_(2,cn);break;case ln.RU3:dn=this.controlRu_(3,cn);break;case ln.RU4:dn=this.controlRu_(4,cn);break;case ln.FON:this.controlFon_();break;case ln.RDC:this.controlRdc_(cn);break;case ln.TR:this.controlTr_();break;case ln.RTD:this.controlRtd_();break;case ln.EDM:dn=this.controlEdm_(cn);break;case ln.CR:dn=this.controlCr_(cn);break;case ln.ENM:this.controlEnm_();break;case ln.EOC:dn=this.controlEoc_(cn)}return dn},shaka.cea.Cea608DataChannel.prototype.controlCr_=function(sn){var ln=this.curbuf_;if(this.type_!==shaka.cea.Cea608DataChannel.CaptionType.ROLLUP)return null;var cn=ln.forceEmit(this.prevEndTime_,sn),dn=ln.getRow()-ln.getScrollSize()+1;return ln.moveRows(dn-1,dn,ln.getScrollSize()),ln.resetRows(0,dn-1),ln.resetRows(ln.getRow(),shaka.cea.Cea608Memory.CC_ROWS-ln.getRow()),this.prevEndTime_=sn,cn},shaka.cea.Cea608DataChannel.prototype.controlRu_=function(sn,ln){var cn=this.curbuf_=this.displayedMemory_,dn=null;return this.type_!==shaka.cea.Cea608DataChannel.CaptionType.ROLLUP&&this.type_!==shaka.cea.Cea608DataChannel.CaptionType.TEXT&&(dn=cn.forceEmit(this.prevEndTime_,ln),this.displayedMemory_.eraseBuffer(),this.nonDisplayedMemory_.eraseBuffer(),cn.setRow(shaka.cea.Cea608Memory.CC_ROWS)),this.type_=shaka.cea.Cea608DataChannel.CaptionType.ROLLUP,cn.setScrollSize(sn),dn},shaka.cea.Cea608DataChannel.prototype.controlFon_=function(){this.curbuf_.addChar(shaka.cea.Cea608Memory.CharSet.BASIC_NORTH_AMERICAN,32)},shaka.cea.Cea608DataChannel.prototype.controlEdm_=function(sn){var ln=this.displayedMemory_,cn=null;return this.type_!==shaka.cea.Cea608DataChannel.CaptionType.TEXT&&(cn=ln.forceEmit(this.prevEndTime_,sn)),ln.resetAllRows(),cn},shaka.cea.Cea608DataChannel.prototype.controlRdc_=function(sn){this.type_=shaka.cea.Cea608DataChannel.CaptionType.PAINTON,this.curbuf_=this.displayedMemory_,this.curbuf_.setScrollSize(0),this.prevEndTime_=sn},shaka.cea.Cea608DataChannel.prototype.controlEnm_=function(){this.nonDisplayedMemory_.resetAllRows()},shaka.cea.Cea608DataChannel.prototype.controlEoc_=function(sn){var ln=null;this.type_!==shaka.cea.Cea608DataChannel.CaptionType.TEXT&&(ln=this.displayedMemory_.forceEmit(this.prevEndTime_,sn));var cn=this.nonDisplayedMemory_;return this.nonDisplayedMemory_=this.displayedMemory_,this.displayedMemory_=cn,this.controlRcl_(),this.prevEndTime_=sn,ln},shaka.cea.Cea608DataChannel.prototype.controlRcl_=function(){this.type_=shaka.cea.Cea608DataChannel.CaptionType.POPON,this.curbuf_=this.nonDisplayedMemory_,this.curbuf_.setScrollSize(0)},shaka.cea.Cea608DataChannel.prototype.controlBs_=function(){this.curbuf_.eraseChar()},shaka.cea.Cea608DataChannel.prototype.controlTr_=function(){this.text_.reset(),this.controlRtd_()},shaka.cea.Cea608DataChannel.prototype.controlRtd_=function(){shaka.log.warnOnce("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),this.curbuf_=this.text_,this.type_=shaka.cea.Cea608DataChannel.CaptionType.TEXT},shaka.cea.Cea608DataChannel.prototype.handleBasicNorthAmericanChar=function(sn,ln){this.curbuf_.addChar(shaka.cea.Cea608Memory.CharSet.BASIC_NORTH_AMERICAN,sn),this.curbuf_.addChar(shaka.cea.Cea608Memory.CharSet.BASIC_NORTH_AMERICAN,ln)},shaka.cea.Cea608DataChannel.prototype.handleExtendedWesternEuropeanChar_=function(sn,ln){this.curbuf_.addChar(sn&1?shaka.cea.Cea608Memory.CharSet.PORTUGUESE_GERMAN:shaka.cea.Cea608Memory.CharSet.SPANISH_FRENCH,ln)},shaka.cea.Cea608DataChannel.prototype.handleControlCode=function(sn){var ln=sn.ccData1,cn=sn.ccData2;if(this.lastcp_===(ln<<8|cn))return this.lastcp_=null;if(this.lastcp_=ln<<8|cn,this.isPAC_(ln,cn))this.controlPac_(ln,cn);else if(this.isMidrowStyleChange_(ln,cn))this.controlMidrow_(cn);else if(this.isBackgroundAttribute_(ln,cn))this.controlBackgroundAttribute_(ln,cn);else if(this.isSpecialNorthAmericanChar_(ln,cn))this.curbuf_.addChar(shaka.cea.Cea608Memory.CharSet.SPECIAL_NORTH_AMERICAN,cn);else if(this.isExtendedWesternEuropeanChar_(ln,cn))this.handleExtendedWesternEuropeanChar_(ln,cn);else if(this.isMiscellaneous_(ln,cn))return this.controlMiscellaneous_(sn);return null},shaka.cea.Cea608DataChannel.prototype.isMiscellaneous_=function(sn,ln){return(sn&246)===20&&(ln&240)===32},shaka.cea.Cea608DataChannel.prototype.isPAC_=function(sn,ln){return(sn&240)===16&&(ln&192)===64},shaka.cea.Cea608DataChannel.prototype.isMidrowStyleChange_=function(sn,ln){return(sn&247)===17&&(ln&240)===32},shaka.cea.Cea608DataChannel.prototype.isBackgroundAttribute_=function(sn,ln){return(sn&247)===16&&(ln&240)===32||(sn&247)===23&&(ln&255)===45},shaka.cea.Cea608DataChannel.prototype.isSpecialNorthAmericanChar_=function(sn,ln){return(sn&247)===17&&(ln&240)===48},shaka.cea.Cea608DataChannel.prototype.isExtendedWesternEuropeanChar_=function(sn,ln){return(sn&246)===18&&(ln&224)===32},shaka.cea.Cea608DataChannel.isControlCode=function(sn){return(sn&112)===16},shaka.cea.Cea608DataChannel.MiscCmd_={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47},shaka.cea.Cea608DataChannel.CaptionType={NONE:0,POPON:1,PAINTON:2,ROLLUP:3,TEXT:4},shaka.cea.Cea608DataChannel.BG_COLORS="black green blue cyan red yellow magenta black".split(" "),shaka.cea.Cea608DataChannel.TEXT_COLORS="white green blue cyan red yellow magenta white_italics".split(" "),shaka.cea.Cea708Window=function(sn){this.windowNum_=sn,this.relativeToggle_=this.visible_=!1,this.colCount_=this.rowCount_=this.anchorId_=this.verticalAnchor_=this.horizontalAnchor_=0,this.justification_=shaka.cea.Cea708Window.TextJustification.CENTER,this.memory_=[],this.col_=this.row_=this.startTime_=0,this.underline_=this.italics_=!1,this.textColor_=shaka.cea.CeaUtils.DEFAULT_TXT_COLOR,this.backgroundColor_=shaka.cea.CeaUtils.DEFAULT_BG_COLOR,this.resetMemory(),shaka.util.Functional.ignored(this.verticalAnchor_,this.relativeToggle_,this.horizontalAnchor_,this.anchorId_,this.windowNum_)},shaka.cea.Cea708Window.prototype.defineWindow=function(sn,ln,cn,dn,pn,vn,Sn){this.visible_=sn,this.verticalAnchor_=ln,this.horizontalAnchor_=cn,this.anchorId_=dn,this.relativeToggle_=pn,this.rowCount_=vn,this.colCount_=Sn},shaka.cea.Cea708Window.prototype.resetMemory=function(){this.memory_=[];for(var sn=0;sn<shaka.cea.Cea708Window.MAX_ROWS;sn++)this.memory_.push(this.createNewRow_())},shaka.cea.Cea708Window.prototype.createNewRow_=function(){for(var sn=[],ln=0;ln<shaka.cea.Cea708Window.MAX_COLS;ln++)sn.push(null);return sn},shaka.cea.Cea708Window.prototype.setCharacter=function(sn){this.isPenInBounds_()&&(sn=new shaka.cea.CeaUtils.StyledChar(sn,this.underline_,this.italics_,this.backgroundColor_,this.textColor_),this.memory_[this.row_][this.col_]=sn,this.col_++)},shaka.cea.Cea708Window.prototype.backspace=function(){!this.isPenInBounds_()||0>=this.col_&&0>=this.row_||(0>=this.col_?(this.col_=this.colCount_-1,this.row_--):this.col_--,this.memory_[this.row_][this.col_]=null)},shaka.cea.Cea708Window.prototype.isPenInBounds_=function(){var sn=this.col_<this.colCount_&&0<=this.col_;return this.row_<this.rowCount_&&0<=this.row_&&sn},shaka.cea.Cea708Window.prototype.isVisible=function(){return this.visible_},shaka.cea.Cea708Window.prototype.moveUpRows_=function(sn){for(var ln=0,cn=sn;cn<shaka.cea.Cea708Window.MAX_ROWS;cn++,ln++)this.memory_[ln]=this.memory_[cn];for(cn=0;cn<sn;cn++,ln++)this.memory_[ln]=this.createNewRow_()},shaka.cea.Cea708Window.prototype.carriageReturn=function(){this.row_+1>=this.rowCount_?this.moveUpRows_(1):this.row_++,this.col_=0},shaka.cea.Cea708Window.prototype.horizontalCarriageReturn=function(){this.memory_[this.row_]=this.createNewRow_(),this.col_=0},shaka.cea.Cea708Window.prototype.forceEmit=function(sn,ln){ln="svc"+ln;var cn=shaka.cea.Cea708Window.TextJustification,dn=new shaka.text.Cue(this.startTime_,sn,"");return dn.textAlign=this.justification_===cn.LEFT?shaka.text.Cue.textAlign.LEFT:this.justification_===cn.RIGHT?shaka.text.Cue.textAlign.RIGHT:shaka.text.Cue.textAlign.CENTER,(ln=shaka.cea.CeaUtils.getParsedCaption(dn,ln,this.memory_,this.startTime_,sn))&&this.setStartTime(sn),ln},shaka.cea.Cea708Window.prototype.setPenLocation=function(sn,ln){this.row_=sn,this.col_=ln},shaka.cea.Cea708Window.prototype.setPenBackgroundColor=function(sn){this.backgroundColor_=sn},shaka.cea.Cea708Window.prototype.setPenTextColor=function(sn){this.textColor_=sn},shaka.cea.Cea708Window.prototype.setPenUnderline=function(sn){this.underline_=sn},shaka.cea.Cea708Window.prototype.setPenItalics=function(sn){this.italics_=sn},shaka.cea.Cea708Window.prototype.resetPen=function(){this.col_=this.row_=0,this.italics_=this.underline_=!1,this.textColor_=shaka.cea.CeaUtils.DEFAULT_TXT_COLOR,this.backgroundColor_=shaka.cea.CeaUtils.DEFAULT_BG_COLOR},shaka.cea.Cea708Window.prototype.setJustification=function(sn){this.justification_=sn},shaka.cea.Cea708Window.prototype.display=function(){this.visible_=!0},shaka.cea.Cea708Window.prototype.hide=function(){this.visible_=!1},shaka.cea.Cea708Window.prototype.toggle=function(){this.visible_=!this.visible_},shaka.cea.Cea708Window.prototype.setStartTime=function(sn){this.startTime_=sn},shaka.cea.Cea708Window.TextJustification={LEFT:0,RIGHT:1,CENTER:2,FULL:3},shaka.cea.Cea708Window.MAX_COLS=42,shaka.cea.Cea708Window.MAX_ROWS=16,shaka.cea.DtvccPacketBuilder=function(){this.builtPackets_=[],this.currentPacketBeingBuilt_=null,this.bytesLeftToAddInCurrentPacket_=0},shaka.cea.DtvccPacketBuilder.prototype.addByte=function(sn){sn.type===shaka.cea.DtvccPacketBuilder.DTVCC_PACKET_START?(this.bytesLeftToAddInCurrentPacket_=2*(sn.value&63)-1,this.currentPacketBeingBuilt_=[]):this.currentPacketBeingBuilt_&&(0<this.bytesLeftToAddInCurrentPacket_&&(this.currentPacketBeingBuilt_.push(sn),this.bytesLeftToAddInCurrentPacket_--),this.bytesLeftToAddInCurrentPacket_===0&&(sn=new shaka.cea.DtvccPacket(this.currentPacketBeingBuilt_),this.builtPackets_.push(sn),this.currentPacketBeingBuilt_=null,this.bytesLeftToAddInCurrentPacket_=0))},shaka.cea.DtvccPacketBuilder.prototype.getBuiltPackets=function(){return this.builtPackets_},shaka.cea.DtvccPacketBuilder.prototype.clearBuiltPackets=function(){this.builtPackets_=[]},shaka.cea.DtvccPacketBuilder.prototype.clear=function(){this.builtPackets_=[],this.currentPacketBeingBuilt_=[],this.bytesLeftToAddInCurrentPacket_=0},shaka.cea.DtvccPacket=function(sn){this.pos_=0,this.packetData_=sn},shaka.cea.DtvccPacket.prototype.hasMoreData=function(){return this.pos_<this.packetData_.length},shaka.cea.DtvccPacket.prototype.getPosition=function(){return this.pos_},shaka.cea.DtvccPacket.prototype.readByte=function(){if(!this.hasMoreData())throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.BUFFER_READ_OUT_OF_BOUNDS);return this.packetData_[this.pos_++]},shaka.cea.DtvccPacket.prototype.skip=function(sn){if(this.pos_+sn>this.packetData_.length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.BUFFER_READ_OUT_OF_BOUNDS);this.pos_+=sn},shaka.cea.DtvccPacketBuilder.DTVCC_PACKET_DATA=2,shaka.cea.DtvccPacketBuilder.DTVCC_PACKET_START=3,shaka.cea.Cea708Service=function(sn){this.serviceNumber_=sn,this.windows_=[null,null,null,null,null,null,null,null],this.currentWindow_=null},shaka.cea.Cea708Service.prototype.handleCea708ControlCode=function(sn){var ln=sn.readByte(),cn=ln.value;if(ln=ln.pts,cn===shaka.cea.Cea708Service.EXT_CEA708_CTRL_CODE_BYTE1){var dn=sn.readByte();cn=cn<<16|dn.value}return 0<=cn&&31>=cn?this.handleC0_(cn,ln):128<=cn&&159>=cn?this.handleC1_(sn,cn,ln):(4096<=cn&&4127>=cn?this.handleC2_(sn,cn&255):4224<=cn&&4255>=cn?this.handleC3_(sn,cn&255):32<=cn&&127>=cn?this.handleG0_(cn):160<=cn&&255>=cn?this.handleG1_(cn):4128<=cn&&4223>=cn?this.handleG2_(cn&255):4256<=cn&&4351>=cn&&this.handleG3_(cn&255),null)},shaka.cea.Cea708Service.prototype.handleG0_=function(sn){this.currentWindow_&&(sn===127?this.currentWindow_.setCharacter("♪"):this.currentWindow_.setCharacter(String.fromCharCode(sn)))},shaka.cea.Cea708Service.prototype.handleG1_=function(sn){this.currentWindow_&&this.currentWindow_.setCharacter(String.fromCharCode(sn))},shaka.cea.Cea708Service.prototype.handleG2_=function(sn){this.currentWindow_&&(shaka.cea.Cea708Service.G2Charset.has(sn)?(sn=shaka.cea.Cea708Service.G2Charset.get(sn),this.currentWindow_.setCharacter(sn)):this.currentWindow_.setCharacter("_"))},shaka.cea.Cea708Service.prototype.handleG3_=function(sn){this.currentWindow_&&(sn!=160?this.currentWindow_.setCharacter("_"):this.currentWindow_.setCharacter("[CC]"))},shaka.cea.Cea708Service.prototype.handleC0_=function(sn,ln){if(!this.currentWindow_)return null;var cn=this.currentWindow_,dn=null;switch(sn){case shaka.cea.Cea708Service.ASCII_BACKSPACE:cn.backspace();break;case shaka.cea.Cea708Service.ASCII_CARRIAGE_RETURN:cn.isVisible()&&(dn=cn.forceEmit(ln,this.serviceNumber_)),cn.carriageReturn();break;case shaka.cea.Cea708Service.ASCII_HOR_CARRIAGE_RETURN:cn.isVisible()&&(dn=cn.forceEmit(ln,this.serviceNumber_)),cn.horizontalCarriageReturn();break;case shaka.cea.Cea708Service.ASCII_FORM_FEED:cn.isVisible()&&(dn=cn.forceEmit(ln,this.serviceNumber_)),cn.resetMemory(),cn.setPenLocation(0,0)}return dn},shaka.cea.Cea708Service.prototype.handleC1_=function(sn,ln,cn){if(128<=ln&&135>=ln)this.setCurrentWindow_(ln&7);else{if(ln===136)return sn=sn.readByte().value,this.clearWindows_(sn,cn);if(ln===137)sn=sn.readByte().value,this.displayWindows_(sn,cn);else{if(ln===138)return sn=sn.readByte().value,this.hideWindows_(sn,cn);if(ln===139)return sn=sn.readByte().value,this.toggleWindows_(sn,cn);if(ln===140)return sn=sn.readByte().value,this.deleteWindows_(sn,cn);if(ln===143)return this.reset_(cn);ln===144?this.setPenAttributes_(sn):ln===145?this.setPenColor_(sn):ln===146?this.setPenLocation_(sn):ln===151?this.setWindowAttributes_(sn):152<=ln&&159>=ln&&this.defineWindow_(sn,(ln&15)-8,cn)}}return null},shaka.cea.Cea708Service.prototype.handleC2_=function(sn,ln){8<=ln&&15>=ln?sn.skip(1):16<=ln&&23>=ln?sn.skip(2):24<=ln&&31>=ln&&sn.skip(3)},shaka.cea.Cea708Service.prototype.handleC3_=function(sn,ln){128<=ln&&135>=ln?sn.skip(4):136<=ln&&143>=ln&&sn.skip(5)},shaka.cea.Cea708Service.prototype.setCurrentWindow_=function(sn){this.windows_[sn]&&(this.currentWindow_=this.windows_[sn])},shaka.cea.Cea708Service.prototype.getSpecifiedWindowIds_=function(sn){for(var ln=[],cn=0;8>cn;cn++)(sn&1)===1&&this.windows_[cn]&&ln.push(cn),sn>>=1;return ln},shaka.cea.Cea708Service.prototype.clearWindows_=function(sn,ln){var cn=null;sn=$jscomp.makeIterator(this.getSpecifiedWindowIds_(sn));for(var dn=sn.next();!dn.done;dn=sn.next())dn=this.windows_[dn.value],dn.isVisible()&&(cn=dn.forceEmit(ln,this.serviceNumber_)),dn.resetMemory();return cn},shaka.cea.Cea708Service.prototype.displayWindows_=function(sn,ln){sn=$jscomp.makeIterator(this.getSpecifiedWindowIds_(sn));for(var cn=sn.next();!cn.done;cn=sn.next())cn=this.windows_[cn.value],cn.isVisible()||cn.setStartTime(ln),cn.display()},shaka.cea.Cea708Service.prototype.hideWindows_=function(sn,ln){var cn=null;sn=$jscomp.makeIterator(this.getSpecifiedWindowIds_(sn));for(var dn=sn.next();!dn.done;dn=sn.next())dn=this.windows_[dn.value],dn.isVisible()&&(cn=dn.forceEmit(ln,this.serviceNumber_)),dn.hide();return cn},shaka.cea.Cea708Service.prototype.toggleWindows_=function(sn,ln){var cn=null;sn=$jscomp.makeIterator(this.getSpecifiedWindowIds_(sn));for(var dn=sn.next();!dn.done;dn=sn.next())dn=this.windows_[dn.value],dn.isVisible()?cn=dn.forceEmit(ln,this.serviceNumber_):dn.setStartTime(ln),dn.toggle();return cn},shaka.cea.Cea708Service.prototype.deleteWindows_=function(sn,ln){var cn=null;sn=$jscomp.makeIterator(this.getSpecifiedWindowIds_(sn));for(var dn=sn.next();!dn.done;dn=sn.next()){dn=dn.value;var pn=this.windows_[dn];pn.isVisible()&&(cn=pn.forceEmit(ln,this.serviceNumber_)),this.windows_[dn]=null}return cn},shaka.cea.Cea708Service.prototype.reset_=function(sn){return sn=this.deleteWindows_(255,sn),this.clear(),sn},shaka.cea.Cea708Service.prototype.clear=function(){this.currentWindow_=null,this.windows_=[null,null,null,null,null,null,null,null]},shaka.cea.Cea708Service.prototype.setPenAttributes_=function(sn){if(sn.skip(1),sn=sn.readByte().value,this.currentWindow_){var ln=0<(sn&64);this.currentWindow_.setPenItalics(0<(sn&128)),this.currentWindow_.setPenUnderline(ln)}},shaka.cea.Cea708Service.prototype.setPenColor_=function(sn){var ln=sn.readByte().value,cn=sn.readByte().value;if(sn.skip(1),this.currentWindow_){sn=cn&3;var dn=(cn&12)>>2;cn=(cn&48)>>4,ln=this.rgbColorToHex_((ln&48)>>4,(ln&12)>>2,ln&3),sn=this.rgbColorToHex_(cn,dn,sn),this.currentWindow_.setPenTextColor(ln),this.currentWindow_.setPenBackgroundColor(sn)}},shaka.cea.Cea708Service.prototype.setPenLocation_=function(sn){var ln=sn.readByte().value;sn=sn.readByte().value,this.currentWindow_&&this.currentWindow_.setPenLocation(ln&15,sn&63)},shaka.cea.Cea708Service.prototype.setWindowAttributes_=function(sn){sn.skip(1),sn.skip(1);var ln=sn.readByte().value;sn.skip(1),this.currentWindow_&&this.currentWindow_.setJustification(ln&3)},shaka.cea.Cea708Service.prototype.defineWindow_=function(sn,ln,cn){var dn=this.windows_[ln]!==null;if(!dn){var pn=new shaka.cea.Cea708Window(ln);pn.setStartTime(cn),this.windows_[ln]=pn}var vn=sn.readByte().value,Sn=sn.readByte().value;cn=sn.readByte().value;var En=sn.readByte().value;pn=sn.readByte().value,sn=sn.readByte().value,vn=0<(vn&32);var Cn=Sn&127;Sn=0<(Sn&128);var Pn=(En&15)+1;En=(En&240)>>4,pn=(pn&63)+1,dn&&!(sn&7)||this.windows_[ln].resetPen(),this.windows_[ln].defineWindow(vn,Cn,cn,En,Sn,Pn,pn),this.currentWindow_=this.windows_[ln]},shaka.cea.Cea708Service.prototype.rgbColorToHex_=function(sn,ln,cn){var dn={0:0,1:0,2:1,3:1};return sn=dn[sn],ln=dn[ln],cn=dn[cn],shaka.cea.Cea708Service.Colors[sn<<2|ln<<1|cn]},shaka.cea.Cea708Service.ASCII_BACKSPACE=8,shaka.cea.Cea708Service.ASCII_FORM_FEED=12,shaka.cea.Cea708Service.ASCII_CARRIAGE_RETURN=13,shaka.cea.Cea708Service.ASCII_HOR_CARRIAGE_RETURN=14,shaka.cea.Cea708Service.EXT_CEA708_CTRL_CODE_BYTE1=16,shaka.cea.Cea708Service.G2Charset=new Map([[32," "],[33," "],[37,"…"],[42,"Š"],[44,"Œ"],[48,"█"],[49,"‘"],[50,"’"],[51,"“"],[52,"”"],[53,"•"],[57,"™"],[58,"š"],[60,"œ"],[61,"℠"],[63,"Ÿ"],[118,"⅛"],[119,"⅜"],[120,"⅝"],[121,"⅞"],[122,"│"],[123,"┐"],[124,"└"],[125,"─"],[126,"┘"],[127,"┌"]]),shaka.cea.Cea708Service.Colors="black blue green cyan red magenta yellow white".split(" "),shaka.cea.CeaDecoder=function(){this.cea608DataArray_=[],this.cea708DataArray_=[],this.dtvccPacketBuilder_=new shaka.cea.DtvccPacketBuilder,this.badFrames_=0,this.cea608ModeToStream_=new Map([["CC1",new shaka.cea.Cea608DataChannel(0,0)],["CC2",new shaka.cea.Cea608DataChannel(0,1)],["CC3",new shaka.cea.Cea608DataChannel(1,0)],["CC4",new shaka.cea.Cea608DataChannel(1,1)]]),this.currentField2Channel_=this.currentField1Channel_=0,this.serviceNumberToService_=new Map,this.reset()},shaka.cea.CeaDecoder.prototype.clear=function(){this.badFrames_=0,this.cea608DataArray_=[],this.cea708DataArray_=[],this.dtvccPacketBuilder_.clear(),this.reset();for(var sn=$jscomp.makeIterator(this.serviceNumberToService_.values()),ln=sn.next();!ln.done;ln=sn.next())ln.value.clear()},shaka.cea.CeaDecoder.prototype.reset=function(){this.currentField2Channel_=this.currentField1Channel_=0;for(var sn=$jscomp.makeIterator(this.cea608ModeToStream_.values()),ln=sn.next();!ln.done;ln=sn.next())ln.value.reset()},shaka.cea.CeaDecoder.prototype.extract=function(sn,ln){if(sn=new shaka.util.DataViewReader(sn,shaka.util.DataViewReader.Endianness.BIG_ENDIAN),sn.readUint8()===shaka.cea.CeaDecoder.USA_COUNTRY_CODE&&sn.readUint16()===shaka.cea.CeaDecoder.ATSC_PROVIDER_CODE&&sn.readUint32()===shaka.cea.CeaDecoder.ATSC1_USER_IDENTIFIER&&sn.readUint8()===3){var cn=sn.readUint8();if(cn&64){cn&=31,sn.skip(1);for(var dn=0;dn<cn;dn++){var pn=sn.readUint8(),vn=(pn&4)>>2,Sn=sn.readUint8(),En=sn.readUint8();vn&&(pn&=3,pn===shaka.cea.CeaDecoder.NTSC_CC_FIELD_1||pn===shaka.cea.CeaDecoder.NTSC_CC_FIELD_2?this.cea608DataArray_.push({pts:ln,type:pn,ccData1:Sn,ccData2:En,order:this.cea608DataArray_.length}):(this.cea708DataArray_.push({pts:ln,type:pn,value:Sn,order:this.cea708DataArray_.length}),this.cea708DataArray_.push({pts:ln,type:shaka.cea.DtvccPacketBuilder.DTVCC_PACKET_DATA,value:En,order:this.cea708DataArray_.length})))}}}},shaka.cea.CeaDecoder.prototype.decode=function(){var sn=[],ln=function(dn,pn){return dn.pts-pn.pts||dn.order-pn.order};this.cea608DataArray_.sort(ln),this.cea708DataArray_.sort(ln),ln=$jscomp.makeIterator(this.cea608DataArray_);for(var cn=ln.next();!cn.done;cn=ln.next())(cn=this.decodeCea608_(cn.value))&&sn.push(cn);for(ln=$jscomp.makeIterator(this.cea708DataArray_),cn=ln.next();!cn.done;cn=ln.next())this.dtvccPacketBuilder_.addByte(cn.value);for(ln=this.dtvccPacketBuilder_.getBuiltPackets(),ln=$jscomp.makeIterator(ln),cn=ln.next();!cn.done;cn=ln.next())cn=this.decodeCea708_(cn.value),sn.push.apply(sn,$jscomp.arrayFromIterable(cn));return this.dtvccPacketBuilder_.clearBuiltPackets(),this.cea608DataArray_=[],this.cea708DataArray_=[],sn},shaka.cea.CeaDecoder.prototype.decodeCea608_=function(sn){var ln=sn.type;if(shaka.cea.Cea608DataChannel.isControlCode(sn.ccData1)){var cn=sn.ccData1>>3&1;ln===0?this.currentField1Channel_=cn:this.currentField2Channel_=cn}return ln=this.cea608ModeToStream_.get("CC"+(ln<<1|(ln?this.currentField2Channel_:this.currentField1Channel_)+1)),sn.ccData1===255&&sn.ccData2===255||!sn.ccData1&&!sn.ccData2||!this.isOddParity_(sn.ccData1)||!this.isOddParity_(sn.ccData2)?(45<=++this.badFrames_&&this.reset(),null):(this.badFrames_=0,sn.ccData1&=127,sn.ccData2&=127,!sn.ccData1&&!sn.ccData2?null:(cn=null,shaka.cea.Cea608DataChannel.isControlCode(sn.ccData1)?cn=ln.handleControlCode(sn):ln.handleBasicNorthAmericanChar(sn.ccData1,sn.ccData2),cn))},shaka.cea.CeaDecoder.prototype.decodeCea708_=function(sn){var ln=[];try{for(;sn.hasMoreData();){var cn=sn.readByte().value,dn=(cn&224)>>5,pn=cn&31;if(dn===7&&pn!=0&&(dn=sn.readByte().value&63),dn!=0){if(!this.serviceNumberToService_.has(dn)){var vn=new shaka.cea.Cea708Service(dn);this.serviceNumberToService_.set(dn,vn)}for(var Sn=this.serviceNumberToService_.get(dn),En=sn.getPosition();sn.getPosition()-En<pn;){var Cn=Sn.handleCea708ControlCode(sn);Cn&&ln.push(Cn)}}}}catch(Pn){if(Pn instanceof shaka.util.Error&&Pn.code===shaka.util.Error.Code.BUFFER_READ_OUT_OF_BOUNDS)shaka.log.warnOnce("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.");else throw Pn}return ln},shaka.cea.CeaDecoder.prototype.isOddParity_=function(sn){for(var ln=0;sn;)ln^=sn&1,sn>>=1;return ln===1},shaka.cea.CeaDecoder.ATSC_PROVIDER_CODE=49,shaka.cea.CeaDecoder.ATSC1_USER_IDENTIFIER=1195456820,shaka.cea.CeaDecoder.NTSC_CC_FIELD_1=0,shaka.cea.CeaDecoder.NTSC_CC_FIELD_2=1,shaka.cea.CeaDecoder.USA_COUNTRY_CODE=181,shaka.cea.ICeaParser=function(){},shaka.cea.ICeaParser.prototype.init=function(sn){},shaka.cea.ICeaParser.prototype.parse=function(sn){},shaka.cea.ICeaParser.H264_NALU_TYPE_SEI=6,shaka.cea.ICeaParser.H265_PREFIX_NALU_TYPE_SEI=39,shaka.cea.ICeaParser.H265_SUFFIX_NALU_TYPE_SEI=40,shaka.cea.ICeaParser.DEFAULT_TIMESCALE_VALUE=9e4,shaka.cea.DummyCeaParser=function(){},shaka.cea.DummyCeaParser.prototype.init=function(sn){},shaka.cea.DummyCeaParser.prototype.parse=function(sn){return[]},shaka.cea.SeiProcessor=function(){},shaka.cea.SeiProcessor.prototype.process=function(sn){var ln=[];sn=this.removeEmu(sn);for(var cn=0;cn<sn.length;){for(var dn=0;sn[cn]==255;)dn+=255,cn++;dn+=sn[cn++];for(var pn=0;sn[cn]==255;)pn+=255,cn++;pn+=sn[cn++],dn==4&&ln.push(sn.subarray(cn,cn+pn)),cn+=pn}return ln},shaka.cea.SeiProcessor.prototype.removeEmu=function(sn){for(var ln=sn,cn=sn=0;cn<ln.length;)sn==2&&ln[cn]==3?(sn=0,ln=[].concat($jscomp.arrayFromIterable(ln)),ln.splice(cn,1),ln=new Uint8Array(ln)):ln[cn]==0?sn++:sn=0,cn++;return ln},shaka.util.Mp4BoxParsers=function(){},shaka.util.Mp4BoxParsers.parseTFHD=function(sn,ln){var cn=null,dn=null,pn=null,vn=sn.readUint32();return ln&1&&(pn=sn.readUint64()),ln&2&&sn.skip(4),ln&8&&(cn=sn.readUint32()),ln&16&&(dn=sn.readUint32()),{trackId:vn,defaultSampleDuration:cn,defaultSampleSize:dn,baseDataOffset:pn}},shaka.util.Mp4BoxParsers.parseTFDT=function(sn,ln){return{baseMediaDecodeTime:ln==1?sn.readUint64():sn.readUint32()}},shaka.util.Mp4BoxParsers.parseMDHD=function(sn,ln){return ln==1?(sn.skip(8),sn.skip(8)):(sn.skip(4),sn.skip(4)),{timescale:sn.readUint32()}},shaka.util.Mp4BoxParsers.parseTREX=function(sn){sn.skip(4),sn.skip(4);var ln=sn.readUint32();return sn=sn.readUint32(),{defaultSampleDuration:ln,defaultSampleSize:sn}},shaka.util.Mp4BoxParsers.parseTRUN=function(sn,ln,cn){var dn=sn.readUint32(),pn=[],vn=null;cn&1&&(vn=sn.readUint32()),cn&4&&sn.skip(4);for(var Sn=0;Sn<dn;Sn++){var En={sampleDuration:null,sampleSize:null,sampleCompositionTimeOffset:null};cn&256&&(En.sampleDuration=sn.readUint32()),cn&512&&(En.sampleSize=sn.readUint32()),cn&1024&&sn.skip(4),cn&2048&&(En.sampleCompositionTimeOffset=ln==0?sn.readUint32():sn.readInt32()),pn.push(En)}return{sampleCount:dn,sampleData:pn,dataOffset:vn}},shaka.util.Mp4BoxParsers.parseTKHD=function(sn,ln){return ln==1?(sn.skip(8),sn.skip(8)):(sn.skip(4),sn.skip(4)),{trackId:sn.readUint32()}},shaka.util.Mp4BoxParsers.parseFRMA=function(sn){return sn=sn.readUint32(),{codec:shaka.util.Mp4Parser.typeToString(sn)}},shaka.cea.Mp4CeaParser=function(){this.seiProcessor_=new shaka.cea.SeiProcessor,this.trackIdToTimescale_=new Map,this.defaultSampleSize_=this.defaultSampleDuration_=0,this.bitstreamFormat_=shaka.cea.Mp4CeaParser.BitstreamFormat.UNKNOWN},shaka.cea.Mp4CeaParser.prototype.init=function(sn){var ln=this,cn=shaka.util.Mp4Parser,dn=shaka.cea.Mp4CeaParser.BitstreamFormat,pn=[],vn=[],Sn=function(En){return ln.setBitstreamFormat_(En.name)};if(new cn().box("moov",cn.children).box("mvex",cn.children).fullBox("trex",function(En){En=shaka.util.Mp4BoxParsers.parseTREX(En.reader),ln.defaultSampleDuration_=En.defaultSampleDuration,ln.defaultSampleSize_=En.defaultSampleSize}).box("trak",cn.children).fullBox("tkhd",function(En){goog.asserts.assert(En.version!=null,"TKHD is a full box and should have a valid version."),En=shaka.util.Mp4BoxParsers.parseTKHD(En.reader,En.version),pn.push(En.trackId)}).box("mdia",cn.children).fullBox("mdhd",function(En){goog.asserts.assert(En.version!=null,"MDHD is a full box and should have a valid version."),En=shaka.util.Mp4BoxParsers.parseMDHD(En.reader,En.version),vn.push(En.timescale)}).box("minf",cn.children).box("stbl",cn.children).fullBox("stsd",cn.sampleDescription).box("avc1",Sn).box("avc3",Sn).box("hev1",Sn).box("hvc1",Sn).box("dvh1",Sn).box("dvhe",Sn).box("encv",cn.visualSampleEntry).box("sinf",cn.children).box("frma",function(En){En=shaka.util.Mp4BoxParsers.parseFRMA(En.reader).codec,ln.setBitstreamFormat_(En)}).parse(sn,!0),!pn.length||!vn.length||pn.length!=vn.length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_MP4_CEA);this.bitstreamFormat_==dn.UNKNOWN&&shaka.log.alwaysWarn("Unable to determine bitstream format for CEA parsing!"),pn.forEach(function(En,Cn){ln.trackIdToTimescale_.set(En,vn[Cn])})},shaka.cea.Mp4CeaParser.prototype.parse=function(sn){var ln=this,cn=shaka.util.Mp4Parser;if(this.bitstreamFormat_==shaka.cea.Mp4CeaParser.BitstreamFormat.UNKNOWN)return[];var dn=[],pn=this.defaultSampleDuration_,vn=this.defaultSampleSize_,Sn=[],En=null,Cn=null,Pn=null,Rn=shaka.cea.ICeaParser.DEFAULT_TIMESCALE_VALUE;return new cn().box("moof",function(Ln){En=Ln.start,cn.children(Ln)}).box("traf",cn.children).fullBox("trun",function(Ln){goog.asserts.assert(Ln.version!=null&&Ln.flags!=null,"TRUN is a full box and should have a valid version & flags."),Ln=shaka.util.Mp4BoxParsers.parseTRUN(Ln.reader,Ln.version,Ln.flags),Sn=Ln.sampleData,Cn=Ln.dataOffset}).fullBox("tfhd",function(Ln){goog.asserts.assert(Ln.flags!=null,"TFHD is a full box and should have valid flags."),Ln=shaka.util.Mp4BoxParsers.parseTFHD(Ln.reader,Ln.flags),pn=Ln.defaultSampleDuration||ln.defaultSampleDuration_,vn=Ln.defaultSampleSize||ln.defaultSampleSize_,Ln=Ln.trackId,ln.trackIdToTimescale_.has(Ln)&&(Rn=ln.trackIdToTimescale_.get(Ln))}).fullBox("tfdt",function(Ln){goog.asserts.assert(Ln.version!=null,"TFDT is a full box and should have a valid version."),Pn=shaka.util.Mp4BoxParsers.parseTFDT(Ln.reader,Ln.version).baseMediaDecodeTime}).box("mdat",function(Ln){if(Pn===null)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_MP4_CEA);ln.parseMdat_(Ln.reader,Pn,Rn,pn,vn,(En||0)+(Cn||0)-Ln.start-8,Sn,dn)}).parse(sn,!1),dn},shaka.cea.Mp4CeaParser.prototype.parseMdat_=function(sn,ln,cn,dn,pn,vn,Sn,En){var Cn=shaka.cea.Mp4CeaParser.BitstreamFormat,Pn=shaka.cea.ICeaParser,Rn=0,Ln=pn;for(Sn.length&&(Ln=Sn[0].sampleSize||pn),sn.skip(vn);sn.hasMoreData();){vn=sn.readUint32();var Fn=sn.readUint8();switch(goog.asserts.assert(this.bitstreamFormat_!=Cn.UNKNOWN,"Bitstream format should have been checked before now!"),this.bitstreamFormat_){case Cn.H264:Fn&=31,Fn=Fn==Pn.H264_NALU_TYPE_SEI;break;case Cn.H265:Fn=Fn>>1&63,Fn=Fn==Pn.H265_PREFIX_NALU_TYPE_SEI||Fn==Pn.H265_SUFFIX_NALU_TYPE_SEI;break;default:return}if(Fn){Fn=0,Sn.length>Rn&&(Fn=Sn[Rn].sampleCompositionTimeOffset||0),Fn=(ln+Fn)/cn;for(var Gn=$jscomp.makeIterator(this.seiProcessor_.process(sn.readBytes(vn-1))),Dn=Gn.next();!Dn.done;Dn=Gn.next())En.push({packet:Dn.value,pts:Fn})}else try{sn.skip(vn-1)}catch{break}Ln-=vn+4,Ln==0&&(ln=Sn.length>Rn?ln+(Sn[Rn].sampleDuration||dn):ln+dn,Rn++,Ln=Sn.length>Rn&&Sn[Rn].sampleSize||pn)}},shaka.cea.Mp4CeaParser.prototype.setBitstreamFormat_=function(sn){sn in shaka.cea.Mp4CeaParser.CodecBitstreamMap_&&(this.bitstreamFormat_=shaka.cea.Mp4CeaParser.CodecBitstreamMap_[sn])},shaka.cea.Mp4CeaParser.BitstreamFormat={UNKNOWN:0,H264:1,H265:2},shaka.cea.Mp4CeaParser.CodecBitstreamMap_={avc1:shaka.cea.Mp4CeaParser.BitstreamFormat.H264,avc3:shaka.cea.Mp4CeaParser.BitstreamFormat.H264,hev1:shaka.cea.Mp4CeaParser.BitstreamFormat.H265,hvc1:shaka.cea.Mp4CeaParser.BitstreamFormat.H265,dvh1:shaka.cea.Mp4CeaParser.BitstreamFormat.H265,dvhe:shaka.cea.Mp4CeaParser.BitstreamFormat.H265},shaka.media.IClosedCaptionParser=function(){},shaka.media.IClosedCaptionParser.prototype.init=function(sn){},shaka.media.IClosedCaptionParser.prototype.parseFrom=function(sn){},shaka.media.IClosedCaptionParser.prototype.reset=function(){},shaka.media.ClosedCaptionParser=function(sn){this.ceaParser_=new shaka.cea.DummyCeaParser,sn.includes("video/mp4")&&(this.ceaParser_=new shaka.cea.Mp4CeaParser),this.ceaDecoder_=new shaka.cea.CeaDecoder},shaka.media.ClosedCaptionParser.prototype.init=function(sn){this.ceaParser_.init(sn)},shaka.media.ClosedCaptionParser.prototype.parseFrom=function(sn){sn=this.ceaParser_.parse(sn),sn=$jscomp.makeIterator(sn);for(var ln=sn.next();!ln.done;ln=sn.next()){ln=ln.value;var cn=shaka.util.BufferUtils.toUint8(ln.packet);0<cn.length&&this.ceaDecoder_.extract(cn,ln.pts)}return this.ceaDecoder_.decode()},shaka.media.ClosedCaptionParser.prototype.reset=function(){this.ceaDecoder_.clear()},shaka.media.InitSegmentReference=function(sn,ln,cn,dn,pn){this.getUris=sn,this.startByte=ln,this.endByte=cn,this.mediaQuality=dn===void 0?null:dn,this.timescale=pn},shaka.media.InitSegmentReference.prototype.getStartByte=function(){return this.startByte},shaka.media.InitSegmentReference.prototype.getEndByte=function(){return this.endByte},shaka.media.InitSegmentReference.prototype.getSize=function(){return this.endByte?this.endByte-this.startByte:null},shaka.media.InitSegmentReference.prototype.getMediaQuality=function(){return this.mediaQuality},shaka.media.InitSegmentReference.equal=function(sn,ln){var cn=shaka.util.ArrayUtils;return sn&&ln?sn.getStartByte()==ln.getStartByte()&&sn.getEndByte()==ln.getEndByte()&&cn.equal(sn.getUris(),ln.getUris()):sn==ln},goog.exportSymbol("shaka.media.InitSegmentReference",shaka.media.InitSegmentReference),goog.exportProperty(shaka.media.InitSegmentReference.prototype,"getEndByte",shaka.media.InitSegmentReference.prototype.getEndByte),goog.exportProperty(shaka.media.InitSegmentReference.prototype,"getStartByte",shaka.media.InitSegmentReference.prototype.getStartByte),shaka.media.SegmentReference=function(sn,ln,cn,dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn,Gn,Dn){Pn=Pn===void 0?[]:Pn,Rn=Rn===void 0?"":Rn,Ln=Ln===void 0?null:Ln,Fn=Fn===void 0?null:Fn,Gn=Gn===void 0?shaka.media.SegmentReference.Status.AVAILABLE:Gn,Dn=Dn===void 0?null:Dn,goog.asserts.assert(sn<=ln,"startTime must be less than or equal to endTime"),goog.asserts.assert(pn==null||dn<pn,"startByte must be < endByte"),this.startTime=sn,this.trueEndTime=this.endTime=ln,this.getUrisInner=cn,this.startByte=dn,this.endByte=pn,this.initSegmentReference=vn,this.timestampOffset=Sn,this.appendWindowStart=En,this.appendWindowEnd=Cn,this.partialReferences=Pn,this.tilesLayout=Rn,this.tileDuration=Ln,this.syncTime=Fn,this.status=Gn,this.hlsAes128Key=Dn,this.thumbnailSprite=null,this.discontinuitySequence=0},shaka.media.SegmentReference.prototype.getUris=function(){return this.getUrisInner()},shaka.media.SegmentReference.prototype.getStartTime=function(){return this.startTime},shaka.media.SegmentReference.prototype.getEndTime=function(){return this.endTime},shaka.media.SegmentReference.prototype.getStartByte=function(){return this.startByte},shaka.media.SegmentReference.prototype.getEndByte=function(){return this.endByte},shaka.media.SegmentReference.prototype.getSize=function(){return this.endByte?this.endByte-this.startByte:null},shaka.media.SegmentReference.prototype.hasPartialSegments=function(){return 0<this.partialReferences.length},shaka.media.SegmentReference.prototype.getTilesLayout=function(){return this.tilesLayout},shaka.media.SegmentReference.prototype.getTileDuration=function(){return this.tileDuration},shaka.media.SegmentReference.prototype.getStatus=function(){return this.status},shaka.media.SegmentReference.prototype.markAsUnavailable=function(){this.status=shaka.media.SegmentReference.Status.UNAVAILABLE},shaka.media.SegmentReference.prototype.setThumbnailSprite=function(sn){this.thumbnailSprite=sn},shaka.media.SegmentReference.prototype.getThumbnailSprite=function(){return this.thumbnailSprite},shaka.media.SegmentReference.prototype.offset=function(sn){this.startTime+=sn,this.endTime+=sn,this.trueEndTime+=sn;for(var ln=$jscomp.makeIterator(this.partialReferences),cn=ln.next();!cn.done;cn=ln.next())cn=cn.value,cn.startTime+=sn,cn.endTime+=sn,cn.trueEndTime+=sn},shaka.media.SegmentReference.prototype.syncAgainst=function(sn){this.syncTime==null?shaka.log.alwaysError("Sync attempted without sync time!"):(sn=this.syncTime-sn-this.startTime,.001<=Math.abs(sn)&&this.offset(sn))},goog.exportSymbol("shaka.media.SegmentReference",shaka.media.SegmentReference),goog.exportProperty(shaka.media.SegmentReference.prototype,"syncAgainst",shaka.media.SegmentReference.prototype.syncAgainst),goog.exportProperty(shaka.media.SegmentReference.prototype,"offset",shaka.media.SegmentReference.prototype.offset),goog.exportProperty(shaka.media.SegmentReference.prototype,"getThumbnailSprite",shaka.media.SegmentReference.prototype.getThumbnailSprite),goog.exportProperty(shaka.media.SegmentReference.prototype,"setThumbnailSprite",shaka.media.SegmentReference.prototype.setThumbnailSprite),goog.exportProperty(shaka.media.SegmentReference.prototype,"markAsUnavailable",shaka.media.SegmentReference.prototype.markAsUnavailable),goog.exportProperty(shaka.media.SegmentReference.prototype,"getStatus",shaka.media.SegmentReference.prototype.getStatus),goog.exportProperty(shaka.media.SegmentReference.prototype,"getTileDuration",shaka.media.SegmentReference.prototype.getTileDuration),goog.exportProperty(shaka.media.SegmentReference.prototype,"getTilesLayout",shaka.media.SegmentReference.prototype.getTilesLayout),goog.exportProperty(shaka.media.SegmentReference.prototype,"getEndByte",shaka.media.SegmentReference.prototype.getEndByte),goog.exportProperty(shaka.media.SegmentReference.prototype,"getStartByte",shaka.media.SegmentReference.prototype.getStartByte),goog.exportProperty(shaka.media.SegmentReference.prototype,"getEndTime",shaka.media.SegmentReference.prototype.getEndTime),goog.exportProperty(shaka.media.SegmentReference.prototype,"getStartTime",shaka.media.SegmentReference.prototype.getStartTime),goog.exportProperty(shaka.media.SegmentReference.prototype,"getUris",shaka.media.SegmentReference.prototype.getUris),shaka.media.SegmentReference.Status={AVAILABLE:0,UNAVAILABLE:1,MISSING:2},goog.exportProperty(shaka.media.SegmentReference,"Status",shaka.media.SegmentReference.Status),shaka.media.TimeRangesUtils=function(){},shaka.media.TimeRangesUtils.bufferStart=function(sn){return!sn||sn.length==1&&1e-6>sn.end(0)-sn.start(0)?null:sn.length==1&&0>sn.start(0)?0:sn.length?sn.start(0):null},shaka.media.TimeRangesUtils.bufferEnd=function(sn){return!sn||sn.length==1&&1e-6>sn.end(0)-sn.start(0)?null:sn.length?sn.end(sn.length-1):null},shaka.media.TimeRangesUtils.isBuffered=function(sn,ln){return!sn||!sn.length||sn.length==1&&1e-6>sn.end(0)-sn.start(0)||ln>sn.end(sn.length-1)?!1:ln>=sn.start(0)},shaka.media.TimeRangesUtils.bufferedAheadOf=function(sn,ln){if(!sn||!sn.length||sn.length==1&&1e-6>sn.end(0)-sn.start(0))return 0;var cn=0;sn=$jscomp.makeIterator(shaka.media.TimeRangesUtils.getBufferedInfo(sn));for(var dn=sn.next();!dn.done;dn=sn.next()){var pn=dn.value;dn=pn.start,pn=pn.end,pn>ln&&(cn+=pn-Math.max(dn,ln))}return cn},shaka.media.TimeRangesUtils.getGapIndex=function(sn,ln,cn){var dn=shaka.media.TimeRangesUtils;return!sn||!sn.length||sn.length==1&&1e-6>sn.end(0)-sn.start(0)?null:(sn=dn.getBufferedInfo(sn).findIndex(function(pn,vn,Sn){return pn.start>ln&&(vn==0||Sn[vn-1].end-ln<=cn)}),0<=sn?sn:null)},shaka.media.TimeRangesUtils.getBufferedInfo=function(sn){if(!sn)return[];for(var ln=[],cn=0;cn<sn.length;cn++)ln.push({start:sn.start(cn),end:sn.end(cn)});return ln},shaka.media.TimeRangesUtils.computeAddedRange=function(sn,ln){var cn=shaka.media.TimeRangesUtils;if(!sn||!sn.length)return null;if(!ln||!ln.length)return cn.getBufferedInfo(ln).pop();for(ln=cn.getBufferedInfo(ln).reverse(),sn=cn.getBufferedInfo(sn).reverse(),cn=$jscomp.makeIterator(ln),ln=cn.next();!ln.done;ln=cn.next()){ln=ln.value;for(var dn=!1,pn=$jscomp.makeIterator(sn),vn=pn.next();!vn.done;vn=pn.next())if(vn=vn.value,vn.end>=ln.start&&vn.end<=ln.end&&(dn=!0,ln.end>vn.end))return{start:vn.end,end:ln.end};if(!dn)return ln}return null};/*
 @license
 Shaka Player
 Copyright 2022 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/shaka.util.Id3Utils=function(){},shaka.util.Id3Utils.isHeader_=function(sn,ln){return ln+10<=sn.length&&sn[ln]===73&&sn[ln+1]===68&&sn[ln+2]===51&&255>sn[ln+3]&&255>sn[ln+4]&&128>sn[ln+6]&&128>sn[ln+7]&&128>sn[ln+8]&&128>sn[ln+9]},shaka.util.Id3Utils.isFooter_=function(sn,ln){return ln+10<=sn.length&&sn[ln]===51&&sn[ln+1]===68&&sn[ln+2]===73&&255>sn[ln+3]&&255>sn[ln+4]&&128>sn[ln+6]&&128>sn[ln+7]&&128>sn[ln+8]&&128>sn[ln+9]},shaka.util.Id3Utils.readSize_=function(sn,ln){var cn=(sn[ln]&127)<<21;return cn|=(sn[ln+1]&127)<<14,cn|=(sn[ln+2]&127)<<7,cn|=sn[ln+3]&127},shaka.util.Id3Utils.getFrameData_=function(sn){var ln=String.fromCharCode(sn[0],sn[1],sn[2],sn[3]),cn=shaka.util.Id3Utils.readSize_(sn,4);return{type:ln,size:cn,data:sn.subarray(10,10+cn)}},shaka.util.Id3Utils.decodeFrame_=function(sn){var ln=shaka.util.BufferUtils,cn=shaka.util.StringUtils,dn={key:sn.type,description:"",data:""};if(sn.type==="TXXX"){if(2>sn.size)return null;if(sn.data[0]!==shaka.util.Id3Utils.UTF8_encoding)return shaka.log.warning("Ignore frame with unrecognized character encoding"),null;var pn=sn.data.subarray(1).indexOf(0);if(pn===-1)return null;var vn=cn.fromUTF8(ln.toUint8(sn.data,1,pn));return sn=cn.fromUTF8(ln.toUint8(sn.data,2+pn)).replace(/\0*$/,""),dn.description=vn,dn.data=sn,dn}return sn.type==="WXXX"?2>sn.size?null:sn.data[0]!==shaka.util.Id3Utils.UTF8_encoding?(shaka.log.warning("Ignore frame with unrecognized character encoding"),null):(pn=sn.data.subarray(1).indexOf(0),pn===-1?null:(vn=cn.fromUTF8(ln.toUint8(sn.data,1,pn)),sn=cn.fromUTF8(ln.toUint8(sn.data,2+pn)).replace(/\0*$/,""),dn.description=vn,dn.data=sn,dn)):sn.type==="PRIV"?2>sn.size||(vn=sn.data.indexOf(0),vn===-1)?null:(cn=cn.fromUTF8(ln.toUint8(sn.data,0,vn)),sn=ln.toArrayBuffer(sn.data.subarray(cn.length+1)),dn.description=cn,dn.data=sn,dn):sn.type[0]==="T"?2>sn.size?null:sn.data[0]!==shaka.util.Id3Utils.UTF8_encoding?(shaka.log.warning("Ignore frame with unrecognized character encoding"),null):(sn=cn.fromUTF8(sn.data.subarray(1)).replace(/\0*$/,""),dn.data=sn,dn):sn.type[0]==="W"?(sn=cn.fromUTF8(sn.data).replace(/\0*$/,""),dn.data=sn,dn):sn.data?(shaka.log.warning("Unrecognized ID3 frame type:",sn.type),dn.data=ln.toArrayBuffer(sn.data),dn):null},shaka.util.Id3Utils.getID3Frames=function(sn){for(var ln=shaka.util.Id3Utils,cn=0,dn=[];ln.isHeader_(sn,cn);){var pn=ln.readSize_(sn,cn+6);for(sn[cn+5]>>6&1&&(cn+=10),cn+=10,pn=cn+pn;cn+10<pn;){var vn=ln.getFrameData_(sn.subarray(cn)),Sn=ln.decodeFrame_(vn);Sn&&dn.push(Sn),cn+=vn.size+10}ln.isFooter_(sn,cn)&&(cn+=10)}return dn},goog.exportSymbol("shaka.util.Id3Utils",shaka.util.Id3Utils),goog.exportProperty(shaka.util.Id3Utils,"getID3Frames",shaka.util.Id3Utils.getID3Frames),shaka.util.Id3Utils.UTF8_encoding=3,shaka.util.TsParser=function(){this.pmtId_=null,this.pmtParsed_=!1,this.videoCodec_=this.videoPid_=this.videoStartTime_=null,this.videoData_=[],this.audioCodec_=this.audioPid_=this.audioStartTime_=null,this.audioData_=[],this.id3Pid_=null,this.id3Data_=[]},shaka.util.TsParser.prototype.parse=function(sn){var ln=shaka.util.TsParser.Timescale_,cn=shaka.util.TsParser.PacketLength_;if(sn.length<3*cn)return this;for(var dn=Math.max(0,shaka.util.TsParser.syncOffset(sn)),pn=sn.length-(sn.length+dn)%cn,vn=!1,Sn=dn;Sn<pn;Sn+=cn)if(sn[Sn]===71){var En=!!(sn[Sn+1]&64),Cn=((sn[Sn+1]&31)<<8)+sn[Sn+2];if(1<(sn[Sn+3]&48)>>4){var Pn=Sn+5+sn[Sn+4];if(Pn===Sn+cn)continue}else Pn=Sn+4;switch(Cn){case 0:En&&(Pn+=sn[Pn]+1),this.pmtId_=this.getPmtId_(sn,Pn);break;case 17:case 8191:break;case this.pmtId_:En&&(Pn+=sn[Pn]+1),En=this.parsePMT(sn,Pn),this.videoPid_==null&&(this.videoPid_=En.video,this.videoCodec_=En.videoCodec),this.audioPid_==null&&(this.audioPid_=En.audio,this.audioCodec_=En.audioCodec),this.id3Pid_==null&&(this.id3Pid_=En.id3),vn&&!this.pmtParsed_&&(shaka.log.debug("reparse from beginning"),vn=!1,Sn=dn-cn),this.pmtParsed_=!0;break;case this.videoPid_:En=sn.subarray(Pn,Sn+cn),this.videoStartTime_==null&&(Cn=this.parsePES(En))&&Cn.pts!=null&&(this.videoStartTime_=Cn.pts/ln),this.videoData_.push(En);break;case this.audioPid_:En=sn.subarray(Pn,Sn+cn),this.audioStartTime_==null&&(Cn=this.parsePES(En))&&Cn.pts!=null&&(this.audioStartTime_=Cn.pts/ln),this.audioData_.push(En);break;case this.id3Pid_:this.id3Data_.push(sn.subarray(Pn,Sn+cn));break;default:vn=!0}}else shaka.log.warning("Found TS packet that do not start with 0x47");return this},shaka.util.TsParser.prototype.getPmtId_=function(sn,ln){return(sn[ln+10]&31)<<8|sn[ln+11]},shaka.util.TsParser.prototype.parsePMT=function(sn,ln){var cn={audio:-1,video:-1,id3:-1,audioCodec:"",videoCodec:""},dn=ln+3+((sn[ln+1]&15)<<8|sn[ln+2])-4;for(ln+=12+((sn[ln+10]&15)<<8|sn[ln+11]);ln<dn;){var pn=(sn[ln+1]&31)<<8|sn[ln+2];switch(sn[ln]){case 15:cn.audio===-1&&(cn.audio=pn,cn.audioCodec="aac");break;case 21:cn.id3===-1&&(cn.id3=pn);break;case 27:cn.video===-1&&(cn.video=pn,cn.videoCodec="avc");break;case 3:case 4:cn.audio===-1&&(cn.audio=pn,cn.audioCodec="mp3");break;case 36:cn.video===-1&&(cn.video=pn,cn.videoCodec="hvc")}ln+=((sn[ln+3]&15)<<8|sn[ln+4])+5}return cn},shaka.util.TsParser.prototype.parsePES=function(sn){if((sn[0]<<16|sn[1]<<8|sn[2])!==1)return null;var ln={data:new Uint8Array(0),packetLength:6+(sn[4]<<8|sn[5]),pts:null,dts:null},cn=sn[7];return cn&192&&(ln.pts=536870912*(sn[9]&14)+4194304*(sn[10]&255)+16384*(sn[11]&254)+128*(sn[12]&255)+(sn[13]&254)/2,ln.dts=ln.pts,cn&64&&(ln.dts=536870912*(sn[14]&14)+4194304*(sn[15]&255)+16384*(sn[16]&254)+128*(sn[17]&255)+(sn[18]&254)/2)),ln.data=sn.subarray(9+sn[8]),ln},shaka.util.TsParser.prototype.getMetadata=function(){for(var sn=shaka.util.TsParser.Timescale_,ln=shaka.util.Uint8ArrayUtils,cn=[],dn=new Uint8Array(0),pn=this.id3Data_.length-1;0<=pn;pn--){var vn=this.id3Data_[pn];goog.asserts.assert(vn,"We should have a data"),dn=ln.concat(vn,dn),(vn=this.parsePES(dn))&&(cn.unshift({cueTime:vn.pts?vn.pts/sn:null,data:vn.data,frames:shaka.util.Id3Utils.getID3Frames(vn.data),dts:vn.dts,pts:vn.pts}),dn=new Uint8Array(0))}return cn},shaka.util.TsParser.prototype.getStartTime=function(){return{audio:this.audioStartTime_,video:this.videoStartTime_}},shaka.util.TsParser.prototype.getCodecs=function(){return{audio:this.audioCodec_,video:this.videoCodec_}},shaka.util.TsParser.probe=function(sn){return sn=shaka.util.TsParser.syncOffset(sn),0>sn?!1:(0<sn&&shaka.log.warning("MPEG2-TS detected but first sync word found @ offset "+sn+", junk ahead ?"),!0)},shaka.util.TsParser.syncOffset=function(sn){for(var ln=shaka.util.TsParser.PacketLength_,cn=Math.min(1e3,sn.length-3*ln),dn=0;dn<cn;){if(sn[dn]===71&&sn[dn+ln]===71&&sn[dn+2*ln]===71)return dn;dn++}return-1},goog.exportSymbol("shaka.util.TsParser",shaka.util.TsParser),shaka.util.TsParser.PacketLength_=188,shaka.util.TsParser.Timescale_=9e4,shaka.lcevc={},shaka.lcevc.Dil=function(sn,ln,cn){this.dil_=null,this.variantId_=-1,this.media_=sn,this.canvas_=ln,this.dilConfig_=cn,this.create_()},shaka.lcevc.Dil.prototype.appendBuffer=function(sn){this.dil_&&this.dil_.appendBuffer(sn,"video",this.variantId_)},shaka.lcevc.Dil.prototype.hideCanvas=function(){this.dil_&&this.canvas_.classList.add("shaka-hidden")},shaka.lcevc.Dil.prototype.create_=function(){this.isSupported_()&&!this.dil_&&LcevcDil.SupportObject.webGLSupport(this.canvas_)&&(this.canvas_.classList.remove("shaka-hidden"),this.dil_=new LcevcDil.LcevcDil(this.media_,this.canvas_,this.dilConfig_))},shaka.lcevc.Dil.prototype.release=function(){this.dil_&&(this.dil_.close(),this.dil_=null)},shaka.lcevc.Dil.prototype.isSupported_=function(){return typeof libDPIModule>"u"&&shaka.log.alwaysWarn("Could not Find LCEVC Library dependencies on this page"),typeof LcevcDil>"u"?shaka.log.alwaysWarn("Could not Find LCEVC Library on this page"):LcevcDil.SupportObject.SupportStatus||shaka.log.alwaysWarn(LcevcDil.SupportObject.SupportError),typeof LcevcDil<"u"&&typeof libDPIModule<"u"&&this.canvas_ instanceof HTMLCanvasElement&&LcevcDil.SupportObject.SupportStatus},shaka.lcevc.Dil.prototype.updateVariant=function(sn){var ln=shaka.lcevc.Dil.ContainerFormat.MPEG2_TS;switch(sn.mimeType){case"video/webm":ln=shaka.lcevc.Dil.ContainerFormat.WEBM;break;case"video/mp4":ln=shaka.lcevc.Dil.ContainerFormat.MP4}this.dil_&&(this.variantId_=sn.id,this.dil_.setLevelSwitching(sn.id,!0),this.dil_.setContainerFormat(ln))},goog.exportSymbol("shaka.lcevc.Dil",shaka.lcevc.Dil),goog.exportProperty(shaka.lcevc.Dil.prototype,"release",shaka.lcevc.Dil.prototype.release),shaka.lcevc.Dil.ContainerFormat={MPEG2_TS:0,WEBM:1,MP4:2},shaka.media.MediaSourceEngine=function(sn,ln,cn,dn){var pn=this;this.video_=sn,this.config_=null,this.textDisplayer_=ln,this.sourceBuffers_={},this.sourceBufferTypes_={},this.expectedEncryption_={},this.textEngine_=null,this.segmentRelativeVttTiming_=!1,sn=function(vn,Sn,En){},this.onMetadata_=cn||sn,this.lcevcDil_=dn||null,this.queues_={},this.eventManager_=new shaka.util.EventManager,this.transmuxers_={},this.captionParser_=null,this.mediaSourceOpen_=new shaka.util.PublicPromise,this.mediaSource_=this.createMediaSource(this.mediaSourceOpen_),this.destroyer_=new shaka.util.Destroyer(function(){return pn.doDestroy_()}),this.url_="",this.sequenceMode_=!1,this.textSequenceModeOffset_=new shaka.util.PublicPromise},shaka.media.MediaSourceEngine.prototype.createMediaSource=function(sn){var ln=this,cn=new MediaSource;return this.eventManager_.listenOnce(cn,"sourceopen",function(){return ln.onSourceOpen_(sn)}),this.url_=shaka.media.MediaSourceEngine.createObjectURL(cn),this.video_.src=this.url_,cn},shaka.media.MediaSourceEngine.prototype.onSourceOpen_=function(sn){URL.revokeObjectURL(this.url_),sn.resolve()},shaka.media.MediaSourceEngine.isStreamSupported=function(sn){var ln=shaka.util.MimeUtils.getFullType(sn.mimeType,sn.codecs),cn=shaka.util.MimeUtils.getExtendedType(sn);return shaka.text.TextEngine.isTypeSupported(ln)||shaka.media.Capabilities.isTypeSupported(cn)||shaka.media.Transmuxer.isSupported(ln,sn.type)},shaka.media.MediaSourceEngine.probeSupport=function(){var sn='video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",audio/mp4; codecs="dtsc",audio/mp4; codecs="dtse",audio/mp4; codecs="dtsx",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").concat($jscomp.arrayFromIterable(shaka.media.MediaSourceEngine.RAW_FORMATS)),ln={};sn=$jscomp.makeIterator(sn);for(var cn=sn.next();!cn.done;cn=sn.next()){cn=cn.value,shaka.util.Platform.supportsMediaSource()?shaka.text.TextEngine.isTypeSupported(cn)?ln[cn]=!0:ln[cn]=shaka.media.Capabilities.isTypeSupported(cn)||shaka.media.Transmuxer.isSupported(cn):ln[cn]=shaka.util.Platform.supportsMediaType(cn);var dn=cn.split(";")[0];ln[dn]=ln[dn]||ln[cn]}return ln},shaka.media.MediaSourceEngine.prototype.destroy=function(){return this.destroyer_.destroy()},shaka.media.MediaSourceEngine.prototype.doDestroy_=function(){var sn=this,ln,cn,dn,pn,vn,Sn,En,Cn,Pn,Rn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ln){if(Ln.nextAddress==1){ln=shaka.util.Functional,cn=[];for(dn in sn.queues_)for(pn=sn.queues_[dn],vn=pn[0],sn.queues_[dn]=pn.slice(0,1),vn&&cn.push(vn.p.catch(ln.noop)),Sn=$jscomp.makeIterator(pn.slice(1)),En=Sn.next();!En.done;En=Sn.next())Cn=En.value,Cn.p.reject(shaka.util.Destroyer.destroyedError());sn.textEngine_&&cn.push(sn.textEngine_.destroy()),sn.textDisplayer_&&cn.push(sn.textDisplayer_.destroy());for(Pn in sn.transmuxers_)cn.push(sn.transmuxers_[Pn].destroy());return Ln.yield(Promise.all(cn),2)}if(sn.eventManager_&&(sn.eventManager_.release(),sn.eventManager_=null),sn.video_&&(sn.video_.removeAttribute("src"),sn.video_.load(),sn.video_=null),sn.config_=null,sn.mediaSource_=null,sn.textEngine_=null,sn.textDisplayer_=null,sn.sourceBuffers_={},sn.transmuxers_={},sn.captionParser_=null,goog.DEBUG)for(Rn in sn.queues_)goog.asserts.assert(sn.queues_[Rn].length==0,Rn+" queue should be empty after destroy!");sn.queues_={},sn.lcevcDil_=null,Ln.jumpToEnd()})},shaka.media.MediaSourceEngine.prototype.open=function(){return this.mediaSourceOpen_},shaka.media.MediaSourceEngine.prototype.init=function(sn,ln,cn){cn=cn===void 0?!1:cn;var dn=this,pn,vn,Sn,En,Cn,Pn,Rn,Ln;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Fn){if(Fn.nextAddress==1)return pn=shaka.util.ManifestParserUtils.ContentType,Fn.yield(dn.mediaSourceOpen_,2);for(dn.sequenceMode_=cn,vn={},Sn=$jscomp.makeIterator(sn.keys()),En=Sn.next();!En.done;vn={$jscomp$loop$prop$contentType$703:vn.$jscomp$loop$prop$contentType$703},En=Sn.next())if(vn.$jscomp$loop$prop$contentType$703=En.value,Cn=sn.get(vn.$jscomp$loop$prop$contentType$703),goog.asserts.assert(shaka.media.MediaSourceEngine.isStreamSupported(Cn),"Type negotiation should happen before MediaSourceEngine.init!"),Pn=shaka.util.MimeUtils.getFullType(Cn.mimeType,Cn.codecs),vn.$jscomp$loop$prop$contentType$703==pn.TEXT)dn.reinitText(Pn,cn);else{!ln&&shaka.media.Capabilities.isTypeSupported(Pn)||!shaka.media.Transmuxer.isSupported(Pn,vn.$jscomp$loop$prop$contentType$703)||(dn.transmuxers_[vn.$jscomp$loop$prop$contentType$703]=new shaka.media.Transmuxer(Pn),Pn=shaka.media.Transmuxer.convertCodecs(vn.$jscomp$loop$prop$contentType$703,Pn)),Rn=Pn+dn.config_.sourceBufferExtraFeatures,dn.destroyer_.ensureNotDestroyed(),Ln=void 0;try{Ln=dn.mediaSource_.addSourceBuffer(Rn)}catch(Gn){throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.MEDIA_SOURCE_OPERATION_THREW,Gn,"The mediaSource_ status was"+dn.mediaSource_.readyState+"expected 'open'")}dn.eventManager_.listen(Ln,"error",function(Gn){return function(){return dn.onError_(Gn.$jscomp$loop$prop$contentType$703)}}(vn)),dn.eventManager_.listen(Ln,"updateend",function(Gn){return function(){return dn.onUpdateEnd_(Gn.$jscomp$loop$prop$contentType$703)}}(vn)),dn.sourceBuffers_[vn.$jscomp$loop$prop$contentType$703]=Ln,dn.sourceBufferTypes_[vn.$jscomp$loop$prop$contentType$703]=Pn,dn.queues_[vn.$jscomp$loop$prop$contentType$703]=[],dn.expectedEncryption_[vn.$jscomp$loop$prop$contentType$703]=!!Cn.drmInfos.length}Fn.jumpToEnd()})},shaka.media.MediaSourceEngine.prototype.configure=function(sn){this.config_=sn},shaka.media.MediaSourceEngine.prototype.reinitText=function(sn,ln){this.textEngine_||(this.textEngine_=new shaka.text.TextEngine(this.textDisplayer_)),this.textEngine_.initParser(sn,ln,this.segmentRelativeVttTiming_)},shaka.media.MediaSourceEngine.prototype.ended=function(){return this.mediaSource_?this.mediaSource_.readyState=="ended":!0},shaka.media.MediaSourceEngine.prototype.bufferStart=function(sn){return sn==shaka.util.ManifestParserUtils.ContentType.TEXT?this.textEngine_.bufferStart():shaka.media.TimeRangesUtils.bufferStart(this.getBuffered_(sn))},shaka.media.MediaSourceEngine.prototype.bufferEnd=function(sn){return sn==shaka.util.ManifestParserUtils.ContentType.TEXT?this.textEngine_.bufferEnd():shaka.media.TimeRangesUtils.bufferEnd(this.getBuffered_(sn))},shaka.media.MediaSourceEngine.prototype.isBuffered=function(sn,ln){return sn==shaka.util.ManifestParserUtils.ContentType.TEXT?this.textEngine_.isBuffered(ln):(sn=this.getBuffered_(sn),shaka.media.TimeRangesUtils.isBuffered(sn,ln))},shaka.media.MediaSourceEngine.prototype.bufferedAheadOf=function(sn,ln){return sn==shaka.util.ManifestParserUtils.ContentType.TEXT?this.textEngine_.bufferedAheadOf(ln):(sn=this.getBuffered_(sn),shaka.media.TimeRangesUtils.bufferedAheadOf(sn,ln))},shaka.media.MediaSourceEngine.prototype.getBufferedInfo=function(){var sn=shaka.util.ManifestParserUtils.ContentType,ln=shaka.media.TimeRangesUtils;if(sn={total:ln.getBufferedInfo(this.video_.buffered),audio:ln.getBufferedInfo(this.getBuffered_(sn.AUDIO)),video:ln.getBufferedInfo(this.getBuffered_(sn.VIDEO)),text:[]},this.textEngine_){ln=this.textEngine_.bufferStart();var cn=this.textEngine_.bufferEnd();ln!=null&&cn!=null&&sn.text.push({start:ln,end:cn})}return sn},shaka.media.MediaSourceEngine.prototype.getBuffered_=function(sn){try{return this.sourceBuffers_[sn].buffered}catch(ln){return sn in this.sourceBuffers_&&shaka.log.error("failed to get buffered range for "+sn,ln),null}},shaka.media.MediaSourceEngine.prototype.getCaptionParser=function(sn){return new shaka.media.ClosedCaptionParser(sn)},shaka.media.MediaSourceEngine.prototype.appendBuffer=function(sn,ln,cn,dn,pn,vn){pn=pn===void 0?!1:pn,vn=vn===void 0?!1:vn;var Sn=this,En,Cn,Pn,Rn,Ln,Fn,Gn,Dn,Kn,qn,Zn,Yn,Jn,rs,us,as,cs,_s,Es,Qn,ms,$s,Ms,gs,Ss,js,bs,Ts;return $jscomp.asyncExecutePromiseGeneratorProgram(function(xs){switch(xs.nextAddress){case 1:if(En=shaka.util.ManifestParserUtils.ContentType,sn!=En.TEXT){xs.jumpTo(2);break}if(!Sn.sequenceMode_){xs.jumpTo(3);break}return xs.yield(Sn.textSequenceModeOffset_,4);case 4:Cn=xs.yieldResult,Sn.textEngine_.setTimestampOffset(Cn);case 3:return xs.yield(Sn.textEngine_.appendBuffer(ln,cn?cn.startTime:null,cn?cn.endTime:null),5);case 5:return xs.return();case 2:if(Pn=shaka.util.BufferUtils.toUint8(ln),Rn=Sn.sourceBufferTypes_[sn],Sn.transmuxers_[sn]&&(Rn=Sn.transmuxers_[sn].getOrginalMimeType()),shaka.util.TsParser.probe(Pn)?(Ln=new shaka.util.TsParser().parse(Pn),Fn=cn.startTime-(Ln.getStartTime()[sn]||0),Gn=Ln.getMetadata(),Gn.length&&Sn.onMetadata_(Gn,Fn,cn?cn.endTime:null)):shaka.media.MediaSourceEngine.RAW_FORMATS.includes(Rn)&&(Dn=shaka.util.Id3Utils.getID3Frames(Pn),Dn.length&&cn&&(Kn={cueTime:cn.startTime,data:Pn,frames:Dn,dts:cn.startTime,pts:cn.startTime},Sn.onMetadata_([Kn],0,cn.endTime))),!Sn.transmuxers_[sn]){dn&&sn==En.VIDEO&&(Sn.textEngine_||Sn.reinitText(shaka.util.MimeUtils.CEA608_CLOSED_CAPTION_MIMETYPE,Sn.sequenceMode_),Sn.captionParser_||(Sn.captionParser_=Sn.getCaptionParser(Rn)),cn?(qn=Sn.captionParser_.parseFrom(ln),qn.length&&(Zn=Sn.sourceBuffers_[En.VIDEO].timestampOffset,Sn.textEngine_.storeAndAppendClosedCaptions(qn,cn.startTime,cn.endTime,Zn))):Sn.captionParser_.init(ln)),xs.jumpTo(6);break}return pn&&Sn.transmuxers_[sn].resetCaptions(),xs.yield(Sn.transmuxers_[sn].transmux(ln),7);case 7:Yn=xs.yieldResult,Sn.textEngine_||Sn.reinitText(shaka.util.MimeUtils.CEA608_CLOSED_CAPTION_MIMETYPE,Sn.sequenceMode_),Yn.captions&&Yn.captions.length&&(Jn=Sn.sourceBuffers_[En.VIDEO].timestampOffset,rs=Sn.textEngine_.convertMuxjsCaptionsToShakaCaptions(Yn.captions),Sn.textEngine_.storeAndAppendClosedCaptions(rs,cn?cn.startTime:null,cn?cn.endTime:null,Jn)),ln=Yn.data;case 6:if(ln=Sn.workAroundBrokenPlatforms_(ln,cn?cn.startTime:null,sn),us=Sn.sourceBuffers_[sn],as=shaka.media.MediaSourceEngine.SourceBufferMode_.SEQUENCE,!Sn.sequenceMode_||us.mode==as||!cn){xs.jumpTo(8);break}if(cs=Sn.mediaSource_.duration,_s=sn==En.VIDEO||!(En.VIDEO in Sn.sourceBuffers_),!_s){xs.jumpTo(9);break}return Es=[us.appendWindowStart,us.appendWindowEnd],us.appendWindowStart=0,us.appendWindowEnd=1/0,Qn=us.timestampOffset,us.timestampOffset=0,xs.yield(Sn.enqueueOperation_(sn,function(){return Sn.append_(sn,ln)}),10);case 10:return xs.yield(Sn.enqueueOperation_(sn,function(){return Sn.abort_(sn)}),11);case 11:return us.timestampOffset=Qn,us.appendWindowStart=Es[0],us.appendWindowEnd=Es[1],ms=shaka.media.TimeRangesUtils.bufferStart(Sn.getBuffered_(sn)),$s=(cn.startTime||0)-(ms||0),Sn.textSequenceModeOffset_.resolve($s),xs.yield(Sn.enqueueOperation_(sn,function(){return Sn.remove_(sn,0,cs)}),12);case 12:if(sn!=En.VIDEO){xs.jumpTo(9);break}return xs.yield(Sn.enqueueOperation_(sn,function(){return Sn.flush_(sn)}),9);case 9:return us.mode=as,xs.yield(Sn.setDuration(cs),8);case 8:return cn&&Sn.sequenceMode_&&sn!=En.TEXT&&(pn||vn)&&(Ms=cn.startTime,Sn.enqueueOperation_(sn,function(){return Sn.abort_(sn)}),Sn.enqueueOperation_(sn,function(){return Sn.setTimestampOffset_(sn,Ms)})),gs=null,xs.yield(Sn.enqueueOperation_(sn,function(){goog.DEBUG&&cn&&(gs=Sn.getBuffered_(sn)),Sn.append_(sn,ln)}),16);case 16:goog.DEBUG&&cn&&(Ss=Sn.getBuffered_(sn),js=shaka.media.TimeRangesUtils.computeAddedRange(gs,Ss))&&(bs=cn.endTime-cn.startTime,Ts=Math.abs(js.end-cn.endTime),.1<bs&&Ts>bs/2&&shaka.log.error("Possible encoding problem detected!","Unexpected buffered range for reference",cn,"from URIs",cn.getUris(),"should be",{start:cn.startTime,end:cn.endTime},"but got",js)),xs.jumpToEnd()}})},shaka.media.MediaSourceEngine.prototype.setSelectedClosedCaptionId=function(sn){var ln=this.bufferEnd(shaka.util.ManifestParserUtils.ContentType.VIDEO)||0;this.textEngine_.setSelectedClosedCaptionId(sn,ln)},shaka.media.MediaSourceEngine.prototype.clearSelectedClosedCaptionId=function(){this.textEngine_&&this.textEngine_.setSelectedClosedCaptionId("",0)},shaka.media.MediaSourceEngine.prototype.remove=function(sn,ln,cn){var dn=this,pn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(vn){return pn=shaka.util.ManifestParserUtils.ContentType,sn==pn.TEXT?vn.yield(dn.textEngine_.remove(ln,cn),0):vn.yield(dn.enqueueOperation_(sn,function(){return dn.remove_(sn,ln,cn)}),0)})},shaka.media.MediaSourceEngine.prototype.clear=function(sn){var ln=this,cn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dn){return cn=shaka.util.ManifestParserUtils.ContentType,sn==cn.TEXT?ln.textEngine_?dn.yield(ln.textEngine_.remove(0,1/0),0):dn.return():dn.yield(ln.enqueueOperation_(sn,function(){return ln.remove_(sn,0,ln.mediaSource_.duration)}),0)})},shaka.media.MediaSourceEngine.prototype.resetCaptionParser=function(){this.captionParser_&&this.captionParser_.reset()},shaka.media.MediaSourceEngine.prototype.flush=function(sn){var ln=this,cn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dn){return cn=shaka.util.ManifestParserUtils.ContentType,sn==cn.TEXT?dn.return():dn.yield(ln.enqueueOperation_(sn,function(){return ln.flush_(sn)}),0)})},shaka.media.MediaSourceEngine.prototype.setStreamProperties=function(sn,ln,cn,dn,pn){var vn=this,Sn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(En){return Sn=shaka.util.ManifestParserUtils.ContentType,sn==Sn.TEXT?(pn||vn.textEngine_.setTimestampOffset(ln),vn.textEngine_.setAppendWindow(cn,dn),En.return()):En.yield(Promise.all([vn.enqueueOperation_(sn,function(){return vn.abort_(sn)}),pn?Promise.resolve():vn.enqueueOperation_(sn,function(){return vn.setTimestampOffset_(sn,ln)}),vn.enqueueOperation_(sn,function(){return vn.setAppendWindow_(sn,cn,dn)})]),0)})},shaka.media.MediaSourceEngine.prototype.resync=function(sn,ln){var cn=this,dn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(pn){return dn=shaka.util.ManifestParserUtils.ContentType,sn==dn.TEXT?pn.return():(cn.enqueueOperation_(sn,function(){return cn.abort_(sn)}),pn.yield(cn.enqueueOperation_(sn,function(){return cn.setTimestampOffset_(sn,ln)}),0))})},shaka.media.MediaSourceEngine.prototype.endOfStream=function(sn){var ln=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cn){return cn.yield(ln.enqueueBlockingOperation_(function(){ln.ended()||ln.mediaSource_.readyState==="closed"||(sn?ln.mediaSource_.endOfStream(sn):ln.mediaSource_.endOfStream())}),0)})},shaka.media.MediaSourceEngine.prototype.setDuration=function(sn){var ln=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cn){return cn.yield(ln.enqueueBlockingOperation_(function(){if(sn<ln.mediaSource_.duration)for(var dn in ln.sourceBuffers_){var pn={start:function(){},p:new shaka.util.PublicPromise};ln.queues_[dn].unshift(pn)}ln.mediaSource_.duration=sn}),0)})},shaka.media.MediaSourceEngine.prototype.getDuration=function(){return this.mediaSource_.duration},shaka.media.MediaSourceEngine.prototype.append_=function(sn,ln){sn==shaka.util.ManifestParserUtils.ContentType.VIDEO&&this.lcevcDil_&&this.lcevcDil_.appendBuffer(ln),this.sourceBuffers_[sn].appendBuffer(ln)},shaka.media.MediaSourceEngine.prototype.remove_=function(sn,ln,cn){cn<=ln?this.onUpdateEnd_(sn):this.sourceBuffers_[sn].remove(ln,cn)},shaka.media.MediaSourceEngine.prototype.abort_=function(sn){var ln=this.sourceBuffers_[sn].appendWindowStart,cn=this.sourceBuffers_[sn].appendWindowEnd;this.sourceBuffers_[sn].abort(),this.sourceBuffers_[sn].appendWindowStart=ln,this.sourceBuffers_[sn].appendWindowEnd=cn,this.onUpdateEnd_(sn)},shaka.media.MediaSourceEngine.prototype.flush_=function(sn){goog.asserts.assert(this.video_.buffered.length==0,"MediaSourceEngine.flush_ should only be used after clearing all data!"),this.video_.currentTime-=.001,this.onUpdateEnd_(sn)},shaka.media.MediaSourceEngine.prototype.setTimestampOffset_=function(sn,ln){0>ln&&(ln+=.001),this.sourceBuffers_[sn].timestampOffset=ln,this.onUpdateEnd_(sn)},shaka.media.MediaSourceEngine.prototype.setAppendWindow_=function(sn,ln,cn){this.sourceBuffers_[sn].appendWindowStart=0,this.sourceBuffers_[sn].appendWindowEnd=cn,this.sourceBuffers_[sn].appendWindowStart=ln,this.onUpdateEnd_(sn)},shaka.media.MediaSourceEngine.prototype.onError_=function(sn){var ln=this.queues_[sn][0];goog.asserts.assert(ln,"Spurious error event!"),goog.asserts.assert(!this.sourceBuffers_[sn].updating,"SourceBuffer should not be updating on error!"),ln.p.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.MEDIA_SOURCE_OPERATION_FAILED,this.video_.error?this.video_.error.code:0))},shaka.media.MediaSourceEngine.prototype.onUpdateEnd_=function(sn){var ln=this.queues_[sn][0];goog.asserts.assert(ln,"Spurious updateend event!"),ln&&(goog.asserts.assert(!this.sourceBuffers_[sn].updating,"SourceBuffer should not be updating on updateend!"),ln.p.resolve(),this.popFromQueue_(sn))},shaka.media.MediaSourceEngine.prototype.enqueueOperation_=function(sn,ln){return this.destroyer_.ensureNotDestroyed(),ln={start:ln,p:new shaka.util.PublicPromise},this.queues_[sn].push(ln),this.queues_[sn].length==1&&this.startOperation_(sn),ln.p},shaka.media.MediaSourceEngine.prototype.enqueueBlockingOperation_=function(sn){var ln=this,cn,dn,pn,vn,Sn,En,Cn,Pn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Rn){switch(Rn.nextAddress){case 1:ln.destroyer_.ensureNotDestroyed(),cn=[],dn={};for(pn in ln.sourceBuffers_)dn.$jscomp$loop$prop$ready$705=new shaka.util.PublicPromise,vn={start:function(Ln){return function(){return Ln.$jscomp$loop$prop$ready$705.resolve()}}(dn),p:dn.$jscomp$loop$prop$ready$705},ln.queues_[pn].push(vn),cn.push(dn.$jscomp$loop$prop$ready$705),ln.queues_[pn].length==1&&vn.start(),dn={$jscomp$loop$prop$ready$705:dn.$jscomp$loop$prop$ready$705};return Rn.setCatchFinallyBlocks(2),Rn.yield(Promise.all(cn),4);case 4:Rn.leaveTryBlock(3);break;case 2:if(Sn=Rn.enterCatchBlock(),goog.asserts.assert(ln.destroyer_.destroyed(),"Should be destroyed by now"),goog.DEBUG)for(En in ln.sourceBuffers_)ln.queues_[En].length&&(goog.asserts.assert(ln.queues_[En].length==1,"Should be at most one item in queue!"),goog.asserts.assert(cn.includes(ln.queues_[En][0].p),"The item in queue should be one of our waiters!"),ln.queues_[En].shift());throw Sn;case 3:if(goog.DEBUG)for(Cn in ln.sourceBuffers_)goog.asserts.assert(ln.sourceBuffers_[Cn].updating==0,"SourceBuffers should not be updating after a blocking op!");try{sn()}catch(Ln){throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.MEDIA_SOURCE_OPERATION_THREW,Ln)}finally{for(Pn in ln.sourceBuffers_)ln.popFromQueue_(Pn)}Rn.jumpToEnd()}})},shaka.media.MediaSourceEngine.prototype.popFromQueue_=function(sn){this.queues_[sn].shift(),this.startOperation_(sn)},shaka.media.MediaSourceEngine.prototype.startOperation_=function(sn){var ln=this.queues_[sn][0];if(ln)try{ln.start()}catch(cn){cn.name=="QuotaExceededError"?ln.p.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.QUOTA_EXCEEDED_ERROR,sn)):ln.p.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.MEDIA_SOURCE_OPERATION_THREW,cn)),this.popFromQueue_(sn)}},shaka.media.MediaSourceEngine.prototype.getTextDisplayer=function(){return goog.asserts.assert(this.textDisplayer_,"TextDisplayer should only be null when this is destroyed"),this.textDisplayer_},shaka.media.MediaSourceEngine.prototype.setTextDisplayer=function(sn){var ln=this.textDisplayer_;this.textDisplayer_=sn,ln&&(sn.setTextVisibility(ln.isTextVisible()),ln.destroy()),this.textEngine_&&this.textEngine_.setDisplayer(sn)},shaka.media.MediaSourceEngine.prototype.setSegmentRelativeVttTiming=function(sn){this.segmentRelativeVttTiming_=sn},shaka.media.MediaSourceEngine.prototype.workAroundBrokenPlatforms_=function(sn,ln,cn){var dn=this.expectedEncryption_[cn];return ln==null&&dn&&shaka.util.Platform.requiresEncryptionInfoInAllInitSegments()&&shaka.util.MimeUtils.getContainerType(this.sourceBufferTypes_[cn])=="mp4"&&(shaka.log.debug("Forcing fake encryption information in init segment."),sn=shaka.media.ContentWorkarounds.fakeEncryption(sn)),sn},shaka.media.MediaSourceEngine.prototype.updateLcevcDil=function(sn){this.lcevcDil_=sn},shaka.media.MediaSourceEngine.createObjectURL=window.URL.createObjectURL,shaka.media.MediaSourceEngine.SourceBufferMode_={SEQUENCE:"sequence",SEGMENTS:"segments"},shaka.media.MediaSourceEngine.RAW_FORMATS=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"],shaka.media.PresentationTimeline=function(sn,ln,cn){this.presentationStartTime_=sn,this.presentationDelay_=ln,this.segmentAvailabilityDuration_=this.duration_=1/0,this.maxSegmentDuration_=1,this.maxSegmentEndTime_=this.minSegmentStartTime_=null,this.clockOffset_=0,this.static_=!0,this.userSeekStart_=0,this.autoCorrectDrift_=cn===void 0?!0:cn,this.availabilityTimeOffset_=0,this.startTimeLocked_=!1},shaka.media.PresentationTimeline.prototype.getDuration=function(){return this.duration_},shaka.media.PresentationTimeline.prototype.getMaxSegmentDuration=function(){return this.maxSegmentDuration_},shaka.media.PresentationTimeline.prototype.setPresentationStartTime=function(sn){goog.asserts.assert(0<=sn,"presentationStartTime must be >= 0"),this.presentationStartTime_=sn},shaka.media.PresentationTimeline.prototype.setDuration=function(sn){goog.asserts.assert(0<sn,"duration must be > 0"),this.duration_=sn},shaka.media.PresentationTimeline.prototype.getPresentationStartTime=function(){return this.presentationStartTime_},shaka.media.PresentationTimeline.prototype.setClockOffset=function(sn){this.clockOffset_=sn},shaka.media.PresentationTimeline.prototype.setStatic=function(sn){this.static_=sn},shaka.media.PresentationTimeline.prototype.setSegmentAvailabilityDuration=function(sn){goog.asserts.assert(0<=sn,"segmentAvailabilityDuration must be >= 0"),this.segmentAvailabilityDuration_=sn},shaka.media.PresentationTimeline.prototype.setDelay=function(sn){goog.asserts.assert(0<=sn,"delay must be >= 0"),this.presentationDelay_=sn},shaka.media.PresentationTimeline.prototype.getDelay=function(){return this.presentationDelay_},shaka.media.PresentationTimeline.prototype.notifySegments=function(sn){if(sn.length!=0){var ln=sn[0].startTime,cn=sn[0].endTime,dn=(Date.now()+this.clockOffset_)/1e3;sn=$jscomp.makeIterator(sn);for(var pn=sn.next();!pn.done;pn=sn.next())pn=pn.value,dn<pn.startTime||(ln=Math.min(ln,pn.startTime),cn=Math.max(cn,pn.endTime),this.maxSegmentDuration_=Math.max(this.maxSegmentDuration_,pn.endTime-pn.startTime));this.notifyMinSegmentStartTime(ln),this.maxSegmentEndTime_=Math.max(this.maxSegmentEndTime_,cn),this.presentationStartTime_!=null&&this.autoCorrectDrift_&&!this.startTimeLocked_&&(this.presentationStartTime_=dn-this.maxSegmentEndTime_-this.maxSegmentDuration_),shaka.log.v1("notifySegments:","maxSegmentDuration="+this.maxSegmentDuration_)}},shaka.media.PresentationTimeline.prototype.lockStartTime=function(){this.startTimeLocked_=!0},shaka.media.PresentationTimeline.prototype.notifyMinSegmentStartTime=function(sn){this.minSegmentStartTime_=this.minSegmentStartTime_==null?sn:Math.min(this.minSegmentStartTime_,sn)},shaka.media.PresentationTimeline.prototype.notifyMaxSegmentDuration=function(sn){this.maxSegmentDuration_=Math.max(this.maxSegmentDuration_,sn),shaka.log.v1("notifyNewSegmentDuration:","maxSegmentDuration="+this.maxSegmentDuration_)},shaka.media.PresentationTimeline.prototype.offset=function(sn){this.minSegmentStartTime_!=null&&(this.minSegmentStartTime_+=sn),this.maxSegmentEndTime_!=null&&(this.maxSegmentEndTime_+=sn)},shaka.media.PresentationTimeline.prototype.isLive=function(){return this.duration_==1/0&&!this.static_},shaka.media.PresentationTimeline.prototype.isInProgress=function(){return this.duration_!=1/0&&!this.static_},shaka.media.PresentationTimeline.prototype.getSegmentAvailabilityStart=function(){goog.asserts.assert(0<=this.segmentAvailabilityDuration_,"The availability duration should be positive");var sn=this.getSegmentAvailabilityEnd()-this.segmentAvailabilityDuration_;return Math.max(this.userSeekStart_,sn)},shaka.media.PresentationTimeline.prototype.setUserSeekStart=function(sn){this.userSeekStart_=sn},shaka.media.PresentationTimeline.prototype.getSegmentAvailabilityEnd=function(){return this.isLive()||this.isInProgress()?Math.min(this.getLiveEdge_()+this.availabilityTimeOffset_,this.duration_):this.maxSegmentEndTime_?Math.min(this.maxSegmentEndTime_,this.duration_):this.duration_},shaka.media.PresentationTimeline.prototype.getSafeSeekRangeStart=function(sn){var ln=Math.max(this.minSegmentStartTime_,this.userSeekStart_);if(this.segmentAvailabilityDuration_==1/0)return Math.ceil(1e3*ln)/1e3;var cn=this.getSegmentAvailabilityEnd()-this.segmentAvailabilityDuration_;return sn=Math.min(cn+sn,this.getSeekRangeEnd()),Math.max(ln,sn)},shaka.media.PresentationTimeline.prototype.getSeekRangeStart=function(){return this.getSafeSeekRangeStart(0)},shaka.media.PresentationTimeline.prototype.getSeekRangeEnd=function(){var sn=this.isLive()||this.isInProgress()?this.presentationDelay_:0;return Math.max(0,this.getSegmentAvailabilityEnd()-sn)},shaka.media.PresentationTimeline.prototype.usingPresentationStartTime=function(){return!(this.presentationStartTime_==null||this.maxSegmentEndTime_!=null&&this.autoCorrectDrift_)},shaka.media.PresentationTimeline.prototype.getLiveEdge_=function(){goog.asserts.assert(this.presentationStartTime_!=null,"Cannot compute timeline live edge without start time");var sn=(Date.now()+this.clockOffset_)/1e3;return Math.max(0,sn-this.maxSegmentDuration_-this.presentationStartTime_)},shaka.media.PresentationTimeline.prototype.setAvailabilityTimeOffset=function(sn){this.availabilityTimeOffset_=sn},shaka.media.PresentationTimeline.prototype.assertIsValid=function(){goog.DEBUG&&(this.isLive()?goog.asserts.assert(this.presentationStartTime_!=null,"Detected as live stream, but does not match our model of live!"):this.isInProgress()?goog.asserts.assert(this.presentationStartTime_!=null&&this.segmentAvailabilityDuration_==1/0,"Detected as IPR stream, but does not match our model of IPR!"):goog.asserts.assert(this.segmentAvailabilityDuration_==1/0&&this.duration_!=1/0&&this.static_,"Detected as VOD stream, but does not match our model of VOD!"))},goog.exportSymbol("shaka.media.PresentationTimeline",shaka.media.PresentationTimeline),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"setAvailabilityTimeOffset",shaka.media.PresentationTimeline.prototype.setAvailabilityTimeOffset),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"usingPresentationStartTime",shaka.media.PresentationTimeline.prototype.usingPresentationStartTime),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getSeekRangeEnd",shaka.media.PresentationTimeline.prototype.getSeekRangeEnd),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getSeekRangeStart",shaka.media.PresentationTimeline.prototype.getSeekRangeStart),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getSafeSeekRangeStart",shaka.media.PresentationTimeline.prototype.getSafeSeekRangeStart),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getSegmentAvailabilityEnd",shaka.media.PresentationTimeline.prototype.getSegmentAvailabilityEnd),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"setUserSeekStart",shaka.media.PresentationTimeline.prototype.setUserSeekStart),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getSegmentAvailabilityStart",shaka.media.PresentationTimeline.prototype.getSegmentAvailabilityStart),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"isInProgress",shaka.media.PresentationTimeline.prototype.isInProgress),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"isLive",shaka.media.PresentationTimeline.prototype.isLive),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"offset",shaka.media.PresentationTimeline.prototype.offset),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"notifyMaxSegmentDuration",shaka.media.PresentationTimeline.prototype.notifyMaxSegmentDuration),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"notifyMinSegmentStartTime",shaka.media.PresentationTimeline.prototype.notifyMinSegmentStartTime),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"lockStartTime",shaka.media.PresentationTimeline.prototype.lockStartTime),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"notifySegments",shaka.media.PresentationTimeline.prototype.notifySegments),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getDelay",shaka.media.PresentationTimeline.prototype.getDelay),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"setDelay",shaka.media.PresentationTimeline.prototype.setDelay),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"setSegmentAvailabilityDuration",shaka.media.PresentationTimeline.prototype.setSegmentAvailabilityDuration),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"setStatic",shaka.media.PresentationTimeline.prototype.setStatic),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"setClockOffset",shaka.media.PresentationTimeline.prototype.setClockOffset),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getPresentationStartTime",shaka.media.PresentationTimeline.prototype.getPresentationStartTime),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"setDuration",shaka.media.PresentationTimeline.prototype.setDuration),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"setPresentationStartTime",shaka.media.PresentationTimeline.prototype.setPresentationStartTime),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getMaxSegmentDuration",shaka.media.PresentationTimeline.prototype.getMaxSegmentDuration),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getDuration",shaka.media.PresentationTimeline.prototype.getDuration),shaka.media.StallDetector=function(sn,ln,cn){this.onEvent_=cn,this.implementation_=sn,this.wasMakingProgress_=sn.shouldBeMakingProgress(),this.value_=sn.getPresentationSeconds(),this.lastUpdateSeconds_=sn.getWallSeconds(),this.didJump_=!1,this.stallsDetected_=0,this.stallThresholdSeconds_=ln,this.onStall_=function(){}},shaka.media.StallDetector.prototype.release=function(){this.onEvent_=this.implementation_=null,this.onStall_=function(){}},shaka.media.StallDetector.prototype.onStall=function(sn){this.onStall_=sn},shaka.media.StallDetector.prototype.getStallsDetected=function(){return this.stallsDetected_},shaka.media.StallDetector.prototype.poll=function(){var sn=this.implementation_,ln=sn.shouldBeMakingProgress(),cn=sn.getPresentationSeconds(),dn=sn.getWallSeconds();return(this.value_!=cn||this.wasMakingProgress_!=ln)&&(this.lastUpdateSeconds_=dn,this.value_=cn,this.wasMakingProgress_=ln,this.didJump_=!1),cn=dn-this.lastUpdateSeconds_,(ln=cn>=this.stallThresholdSeconds_&&ln&&!this.didJump_)&&(this.onStall_(this.value_,cn),this.didJump_=!0,this.value_=sn.getPresentationSeconds(),this.stallsDetected_++,this.onEvent_(new shaka.util.FakeEvent(shaka.util.FakeEvent.EventName.StallDetected))),ln},shaka.media.StallDetector.Implementation=function(){},shaka.media.StallDetector.Implementation.prototype.shouldBeMakingProgress=function(){},shaka.media.StallDetector.Implementation.prototype.getPresentationSeconds=function(){},shaka.media.StallDetector.Implementation.prototype.getWallSeconds=function(){},shaka.media.StallDetector.MediaElementImplementation=function(sn){this.mediaElement_=sn},shaka.media.StallDetector.MediaElementImplementation.prototype.shouldBeMakingProgress=function(){return this.mediaElement_.paused||this.mediaElement_.playbackRate==0||this.mediaElement_.buffered.length==0?!1:shaka.media.StallDetector.MediaElementImplementation.hasContentFor_(this.mediaElement_.buffered,this.mediaElement_.currentTime)},shaka.media.StallDetector.MediaElementImplementation.prototype.getPresentationSeconds=function(){return this.mediaElement_.currentTime},shaka.media.StallDetector.MediaElementImplementation.prototype.getWallSeconds=function(){return Date.now()/1e3},shaka.media.StallDetector.MediaElementImplementation.hasContentFor_=function(sn,ln){sn=$jscomp.makeIterator(shaka.media.TimeRangesUtils.getBufferedInfo(sn));for(var cn=sn.next();!cn.done;cn=sn.next())if(cn=cn.value,!(ln<cn.start-.1||ln>cn.end-.5))return!0;return!1},shaka.media.GapJumpingController=function(sn,ln,cn,dn,pn){var vn=this;this.onEvent_=pn,this.video_=sn,this.timeline_=ln,this.config_=cn,this.eventManager_=new shaka.util.EventManager,this.seekingEventReceived_=!1,this.prevReadyState_=sn.readyState,this.gapsJumped_=0,this.stallDetector_=dn,this.hadSegmentAppended_=!1,this.eventManager_.listen(sn,"waiting",function(){return vn.onPollGapJump_()}),this.gapJumpTimer_=new shaka.util.Timer(function(){vn.onPollGapJump_()}).tickEvery(.25)},shaka.media.GapJumpingController.prototype.release=function(){this.eventManager_&&(this.eventManager_.release(),this.eventManager_=null),this.gapJumpTimer_!=null&&(this.gapJumpTimer_.stop(),this.gapJumpTimer_=null),this.stallDetector_&&(this.stallDetector_.release(),this.stallDetector_=null),this.video_=this.timeline_=this.onEvent_=null},shaka.media.GapJumpingController.prototype.onSegmentAppended=function(){this.hadSegmentAppended_=!0,this.onPollGapJump_()},shaka.media.GapJumpingController.prototype.onSeeking=function(){this.seekingEventReceived_=!0,this.hadSegmentAppended_=!1},shaka.media.GapJumpingController.prototype.getGapsJumped=function(){return this.gapsJumped_},shaka.media.GapJumpingController.prototype.onPollGapJump_=function(){if(this.video_.readyState!=0){if(this.video_.seeking){if(!this.seekingEventReceived_)return}else this.seekingEventReceived_=!1;if((!this.video_.paused||this.video_.currentTime==0&&(this.video_.autoplay||this.video_.currentTime!=0))&&(this.video_.readyState!=this.prevReadyState_&&(this.prevReadyState_=this.video_.readyState),!this.stallDetector_||!this.stallDetector_.poll())){var sn=this.video_.currentTime,ln=this.video_.buffered,cn=shaka.media.TimeRangesUtils.getGapIndex(ln,sn,this.config_.gapDetectionThreshold);if(cn!=null&&(cn!=0||this.hadSegmentAppended_)){var dn=ln.start(cn),pn=this.timeline_.getSeekRangeEnd();dn>=pn||(sn=dn-sn,sn<shaka.media.GapJumpingController.BROWSER_GAP_TOLERANCE||(cn==0?shaka.log.info("Jumping forward",sn,"seconds because of gap before start time of",dn):shaka.log.info("Jumping forward",sn,"seconds because of gap starting at",ln.end(cn-1),"and ending at",dn),this.video_.currentTime=dn,this.gapsJumped_++,this.onEvent_(new shaka.util.FakeEvent(shaka.util.FakeEvent.EventName.GapJumped))))}}}},shaka.media.GapJumpingController.BROWSER_GAP_TOLERANCE=.001,shaka.util.MediaReadyState=function(){},shaka.util.MediaReadyState.waitForReadyState=function(sn,ln,cn,dn){ln==HTMLMediaElement.HAVE_NOTHING||sn.readyState>=ln?dn():(ln=shaka.util.MediaReadyState.READY_STATES_TO_EVENT_NAMES_.value().get(ln),cn.listenOnce(sn,ln,dn))},shaka.util.MediaReadyState.READY_STATES_TO_EVENT_NAMES_=new shaka.util.Lazy(function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])}),shaka.media.VideoWrapper=function(sn,ln,cn){var dn=this;this.video_=sn,this.onSeek_=ln,this.startTime_=cn,this.started_=!1,this.eventManager_=new shaka.util.EventManager,this.mover_=new shaka.media.VideoWrapper.PlayheadMover(sn,10),shaka.util.MediaReadyState.waitForReadyState(this.video_,HTMLMediaElement.HAVE_METADATA,this.eventManager_,function(){dn.setStartTime_(dn.startTime_)})},shaka.media.VideoWrapper.prototype.release=function(){this.eventManager_&&(this.eventManager_.release(),this.eventManager_=null),this.mover_!=null&&(this.mover_.release(),this.mover_=null),this.onSeek_=function(){},this.video_=null},shaka.media.VideoWrapper.prototype.getTime=function(){return this.started_?this.video_.currentTime:this.startTime_},shaka.media.VideoWrapper.prototype.setTime=function(sn){var ln=this;0<this.video_.readyState?this.mover_.moveTo(sn):shaka.util.MediaReadyState.waitForReadyState(this.video_,HTMLMediaElement.HAVE_METADATA,this.eventManager_,function(){ln.setStartTime_(ln.startTime_)})},shaka.media.VideoWrapper.prototype.setStartTime_=function(sn){var ln=this;.001>Math.abs(this.video_.currentTime-sn)?this.startListeningToSeeks_():(this.eventManager_.listenOnce(this.video_,"seeking",function(){ln.startListeningToSeeks_()}),this.mover_.moveTo(this.video_.currentTime&&this.video_.currentTime!=0?this.video_.currentTime:sn))},shaka.media.VideoWrapper.prototype.startListeningToSeeks_=function(){var sn=this;goog.asserts.assert(0<this.video_.readyState,"The media element should be ready before we listen for seeking."),this.started_=!0,this.eventManager_.listen(this.video_,"seeking",function(){return sn.onSeek_()})},shaka.media.VideoWrapper.PlayheadMover=function(sn,ln){var cn=this;this.mediaElement_=sn,this.maxAttempts_=ln,this.targetTime_=this.originTime_=this.remainingAttempts_=0,this.timer_=new shaka.util.Timer(function(){return cn.onTick_()})},shaka.media.VideoWrapper.PlayheadMover.prototype.release=function(){this.timer_&&(this.timer_.stop(),this.timer_=null),this.mediaElement_=null},shaka.media.VideoWrapper.PlayheadMover.prototype.moveTo=function(sn){this.originTime_=this.mediaElement_.currentTime,this.targetTime_=sn,this.remainingAttempts_=this.maxAttempts_,this.mediaElement_.currentTime=sn,this.timer_.tickEvery(.1)},shaka.media.VideoWrapper.PlayheadMover.prototype.onTick_=function(){0>=this.remainingAttempts_?(shaka.log.warning(["Failed to move playhead from",this.originTime_,"to",this.targetTime_].join(" ")),this.timer_.stop()):this.mediaElement_.currentTime!=this.originTime_?this.timer_.stop():(this.mediaElement_.currentTime=this.targetTime_,this.remainingAttempts_--)},shaka.media.Playhead=function(){},shaka.media.Playhead.prototype.ready=function(){},shaka.media.Playhead.prototype.setStartTime=function(sn){},shaka.media.Playhead.prototype.getStallsDetected=function(){},shaka.media.Playhead.prototype.getGapsJumped=function(){},shaka.media.Playhead.prototype.getTime=function(){},shaka.media.Playhead.prototype.notifyOfBufferingChange=function(){},shaka.media.SrcEqualsPlayhead=function(sn){this.mediaElement_=sn,this.started_=!1,this.startTime_=null,this.eventManager_=new shaka.util.EventManager},shaka.media.SrcEqualsPlayhead.prototype.ready=function(){var sn=this;goog.asserts.assert(this.mediaElement_!=null,"Playhead should not be released before calling ready()");var ln=function(){sn.startTime_==null||sn.startTime_==0?sn.started_=!0:(sn.eventManager_.listenOnce(sn.mediaElement_,"seeking",function(){sn.started_=!0}),sn.mediaElement_.currentTime=Math.max(0,sn.mediaElement_.currentTime+sn.startTime_))};shaka.util.MediaReadyState.waitForReadyState(this.mediaElement_,HTMLMediaElement.HAVE_CURRENT_DATA,this.eventManager_,function(){ln()})},shaka.media.SrcEqualsPlayhead.prototype.release=function(){this.eventManager_&&(this.eventManager_.release(),this.eventManager_=null),this.mediaElement_=null},shaka.media.SrcEqualsPlayhead.prototype.setStartTime=function(sn){this.startTime_=this.started_?this.startTime_:sn},shaka.media.SrcEqualsPlayhead.prototype.getTime=function(){return(this.started_?this.mediaElement_.currentTime:this.startTime_)||0},shaka.media.SrcEqualsPlayhead.prototype.getStallsDetected=function(){return 0},shaka.media.SrcEqualsPlayhead.prototype.getGapsJumped=function(){return 0},shaka.media.SrcEqualsPlayhead.prototype.notifyOfBufferingChange=function(){},shaka.media.MediaSourcePlayhead=function(sn,ln,cn,dn,pn,vn){var Sn=this;this.minSeekRange_=3,this.mediaElement_=sn,this.timeline_=ln.presentationTimeline,this.minBufferTime_=ln.minBufferTime||0,this.config_=cn,this.onSeek_=pn,this.lastCorrectiveSeek_=null,this.stallDetector_=this.createStallDetector_(sn,cn,vn),this.gapController_=new shaka.media.GapJumpingController(sn,ln.presentationTimeline,cn,this.stallDetector_,vn),this.videoWrapper_=new shaka.media.VideoWrapper(sn,function(){return Sn.onSeeking_()},this.getStartTime_(dn)),this.checkWindowTimer_=new shaka.util.Timer(function(){Sn.onPollWindow_()})},shaka.media.MediaSourcePlayhead.prototype.ready=function(){this.checkWindowTimer_.tickEvery(.25)},shaka.media.MediaSourcePlayhead.prototype.release=function(){this.videoWrapper_&&(this.videoWrapper_.release(),this.videoWrapper_=null),this.gapController_&&(this.gapController_.release(),this.gapController_=null),this.checkWindowTimer_&&(this.checkWindowTimer_.stop(),this.checkWindowTimer_=null),this.mediaElement_=this.videoWrapper_=this.timeline_=this.config_=null,this.onSeek_=function(){}},shaka.media.MediaSourcePlayhead.prototype.setStartTime=function(sn){this.videoWrapper_.setTime(sn)},shaka.media.MediaSourcePlayhead.prototype.getTime=function(){var sn=this.videoWrapper_.getTime();return 0<this.mediaElement_.readyState&&!this.mediaElement_.paused?this.clampTime_(sn):sn},shaka.media.MediaSourcePlayhead.prototype.getStallsDetected=function(){return this.stallDetector_?this.stallDetector_.getStallsDetected():0},shaka.media.MediaSourcePlayhead.prototype.getGapsJumped=function(){return this.gapController_.getGapsJumped()},shaka.media.MediaSourcePlayhead.prototype.getStartTime_=function(sn){return sn==null?sn=1/0>this.timeline_.getDuration()?this.timeline_.getSeekRangeStart():this.timeline_.getSeekRangeEnd():0>sn&&(sn=this.timeline_.getSeekRangeEnd()+sn),this.clampSeekToDuration_(this.clampTime_(sn))},shaka.media.MediaSourcePlayhead.prototype.notifyOfBufferingChange=function(){this.gapController_.onSegmentAppended()},shaka.media.MediaSourcePlayhead.prototype.onPollWindow_=function(){if(this.mediaElement_.readyState!=0&&!this.mediaElement_.paused){var sn=this.videoWrapper_.getTime(),ln=this.timeline_.getSeekRangeStart(),cn=this.timeline_.getSeekRangeEnd();cn-ln<this.minSeekRange_&&(ln=cn-this.minSeekRange_),sn<ln&&(ln=this.reposition_(sn),shaka.log.info("Jumping forward "+(ln-sn)+" seconds to catch up with the seek range."),this.mediaElement_.currentTime=ln)}},shaka.media.MediaSourcePlayhead.prototype.onSeeking_=function(){this.gapController_.onSeeking();var sn=this.videoWrapper_.getTime(),ln=this.reposition_(sn);if(Math.abs(ln-sn)>shaka.media.GapJumpingController.BROWSER_GAP_TOLERANCE){var cn=Date.now()/1e3;if(!this.lastCorrectiveSeek_||this.lastCorrectiveSeek_<cn-1){this.lastCorrectiveSeek_=cn,this.videoWrapper_.setTime(ln);return}}shaka.log.v1("Seek to "+sn),this.onSeek_()},shaka.media.MediaSourcePlayhead.prototype.clampSeekToDuration_=function(sn){var ln=this.timeline_.getDuration();return sn>=ln?(goog.asserts.assert(0<=this.config_.durationBackoff,"Duration backoff must be non-negative!"),ln-this.config_.durationBackoff):sn},shaka.media.MediaSourcePlayhead.prototype.reposition_=function(sn){goog.asserts.assert(this.config_,"Cannot reposition playhead when it has beeen destroyed");var ln=Math.max(this.minBufferTime_,this.config_.rebufferingGoal),cn=this.config_.safeSeekOffset,dn=this.timeline_.getSeekRangeStart(),pn=this.timeline_.getSeekRangeEnd(),vn=this.timeline_.getDuration();pn-dn<this.minSeekRange_&&(dn=pn-this.minSeekRange_);var Sn=this.timeline_.getSafeSeekRangeStart(ln),En=this.timeline_.getSafeSeekRangeStart(cn);return ln=this.timeline_.getSafeSeekRangeStart(ln+cn),sn>=vn?(shaka.log.v1("Playhead past duration."),this.clampSeekToDuration_(sn)):sn>pn?(shaka.log.v1("Playhead past end."),pn):sn<dn?shaka.media.TimeRangesUtils.isBuffered(this.mediaElement_.buffered,En)?(shaka.log.v1("Playhead before start & start is buffered"),En):(shaka.log.v1("Playhead before start & start is unbuffered"),ln):sn>=Sn||shaka.media.TimeRangesUtils.isBuffered(this.mediaElement_.buffered,sn)?(shaka.log.v1("Playhead in safe region or in buffered region."),sn):(shaka.log.v1("Playhead outside safe region & in unbuffered region."),ln)},shaka.media.MediaSourcePlayhead.prototype.clampTime_=function(sn){var ln=this.timeline_.getSeekRangeStart();return sn<ln?ln:(ln=this.timeline_.getSeekRangeEnd(),sn>ln?ln:sn)},shaka.media.MediaSourcePlayhead.prototype.createStallDetector_=function(sn,ln,cn){if(!ln.stallEnabled)return null;var dn=ln.stallThreshold,pn=ln.stallSkip;return ln=new shaka.media.StallDetector(new shaka.media.StallDetector.MediaElementImplementation(sn),dn,cn),ln.onStall(function(vn,Sn){shaka.log.debug("Stall detected at "+vn+" for "+Sn+" seconds."),pn?(shaka.log.debug("Seeking forward "+pn+" seconds to break stall."),sn.currentTime+=pn):(shaka.log.debug("Pausing and unpausing to break stall."),sn.pause(),sn.play())}),ln},shaka.media.SegmentIndex=function(sn){goog.DEBUG&&shaka.media.SegmentIndex.assertCorrectReferences_(sn),this.references=sn,this.timer_=null,this.numEvicted=0,this.immutable_=!1},shaka.media.SegmentIndex.prototype.release=function(){this.immutable_||(this.references=[],this.timer_&&this.timer_.stop(),this.timer_=null)},shaka.media.SegmentIndex.prototype.markImmutable=function(){this.immutable_=!0},shaka.media.SegmentIndex.prototype.forEachTopLevelReference=function(sn){for(var ln=$jscomp.makeIterator(this.references),cn=ln.next();!cn.done;cn=ln.next())sn(cn.value)},shaka.media.SegmentIndex.prototype.earliestReference=function(){return this.references[0]||null},shaka.media.SegmentIndex.prototype.dropFirstReferences=function(sn){this.references.splice(0,sn)},shaka.media.SegmentIndex.prototype.find=function(sn){for(var ln=this.references.length-1,cn=ln;0<=cn;--cn){var dn=this.references[cn],pn=cn<ln?this.references[cn+1].startTime:dn.endTime;if(sn>=dn.startTime&&sn<pn)return cn+this.numEvicted}return this.references.length&&sn<this.references[0].startTime?this.numEvicted:null},shaka.media.SegmentIndex.prototype.get=function(sn){return this.references.length==0?null:(sn-=this.numEvicted,0>sn||sn>=this.references.length?null:this.references[sn])},shaka.media.SegmentIndex.prototype.offset=function(sn){if(!this.immutable_)for(var ln=$jscomp.makeIterator(this.references),cn=ln.next();!cn.done;cn=ln.next())cn.value.offset(sn)},shaka.media.SegmentIndex.prototype.merge=function(sn){if(goog.DEBUG&&shaka.media.SegmentIndex.assertCorrectReferences_(sn),!this.immutable_&&sn.length){var ln=Math.round(1e3*sn[0].startTime)/1e3;this.references=this.references.filter(function(cn){return Math.round(1e3*cn.startTime)/1e3<ln}),this.references.push.apply(this.references,$jscomp.arrayFromIterable(sn)),goog.DEBUG&&shaka.media.SegmentIndex.assertCorrectReferences_(this.references)}},shaka.media.SegmentIndex.prototype.mergeAndEvict=function(sn,ln){var cn=this;sn=sn.filter(function(pn){return pn.endTime>ln&&(cn.references.length==0||pn.endTime>cn.references[0].startTime)});var dn=this.references[0];this.merge(sn),sn=this.references[0],dn&&goog.asserts.assert(dn.startTime==sn.startTime,"SegmentIndex.merge should not change the first reference time!"),this.evict(ln)},shaka.media.SegmentIndex.prototype.evict=function(sn){if(!this.immutable_){var ln=this.references.length;this.references=this.references.filter(function(cn){return cn.endTime>sn}),this.numEvicted+=ln-this.references.length}},shaka.media.SegmentIndex.prototype.fit=function(sn,ln,cn){if(cn=cn===void 0?!1:cn,goog.asserts.assert(ln!=null,"Content duration must be known for static content!"),goog.asserts.assert(ln!=1/0,"Content duration must be finite for static content!"),!this.immutable_){for(;this.references.length&&this.references[this.references.length-1].startTime>=ln;)this.references.pop();for(;this.references.length&&this.references[0].endTime<=sn;)this.references.shift(),cn||this.numEvicted++;this.references.length!=0&&(sn=this.references[this.references.length-1],this.references[this.references.length-1]=new shaka.media.SegmentReference(sn.startTime,ln,sn.getUrisInner,sn.startByte,sn.endByte,sn.initSegmentReference,sn.timestampOffset,sn.appendWindowStart,sn.appendWindowEnd,sn.partialReferences,sn.tilesLayout,sn.tileDuration,sn.syncTime,sn.status,sn.hlsAes128Key),this.references[this.references.length-1].discontinuitySequence=sn.discontinuitySequence)}},shaka.media.SegmentIndex.prototype.updateEvery=function(sn,ln){var cn=this;goog.asserts.assert(!this.timer_,"SegmentIndex timer already started!"),this.immutable_||(this.timer_&&this.timer_.stop(),this.timer_=new shaka.util.Timer(function(){var dn=ln();dn?cn.references.push.apply(cn.references,$jscomp.arrayFromIterable(dn)):(cn.timer_.stop(),cn.timer_=null)}),this.timer_.tickEvery(sn))},shaka.media.SegmentIndex.prototype[Symbol.iterator]=function(){var sn=this.getIteratorForTime(0);return goog.asserts.assert(sn!=null,"Iterator for 0 should never be null!"),sn},shaka.media.SegmentIndex.prototype.getIteratorForTime=function(sn){var ln=this.find(sn);if(ln==null)return null;ln--;var cn=this.get(ln+1),dn=-1;if(cn&&cn.hasPartialSegments())for(var pn=cn.partialReferences.length-1;0<=pn;--pn){var vn=cn.partialReferences[pn];if(sn>=vn.startTime&&sn<vn.endTime){ln++,dn=pn-1;break}}return new shaka.media.SegmentIterator(this,ln,dn)},shaka.media.SegmentIndex.prototype.isEmpty=function(){return this.references.length==0},shaka.media.SegmentIndex.forSingleSegment=function(sn,ln,cn){return sn=new shaka.media.SegmentReference(sn,sn+ln,function(){return cn},0,null,null,sn,sn,sn+ln),new shaka.media.SegmentIndex([sn])},goog.exportSymbol("shaka.media.SegmentIndex",shaka.media.SegmentIndex),goog.exportProperty(shaka.media.SegmentIndex,"forSingleSegment",shaka.media.SegmentIndex.forSingleSegment),goog.exportProperty(shaka.media.SegmentIndex.prototype,"getIteratorForTime",shaka.media.SegmentIndex.prototype.getIteratorForTime),goog.exportProperty(shaka.media.SegmentIndex.prototype,"updateEvery",shaka.media.SegmentIndex.prototype.updateEvery),goog.exportProperty(shaka.media.SegmentIndex.prototype,"fit",shaka.media.SegmentIndex.prototype.fit),goog.exportProperty(shaka.media.SegmentIndex.prototype,"evict",shaka.media.SegmentIndex.prototype.evict),goog.exportProperty(shaka.media.SegmentIndex.prototype,"mergeAndEvict",shaka.media.SegmentIndex.prototype.mergeAndEvict),goog.exportProperty(shaka.media.SegmentIndex.prototype,"offset",shaka.media.SegmentIndex.prototype.offset),goog.exportProperty(shaka.media.SegmentIndex.prototype,"get",shaka.media.SegmentIndex.prototype.get),goog.exportProperty(shaka.media.SegmentIndex.prototype,"find",shaka.media.SegmentIndex.prototype.find),goog.exportProperty(shaka.media.SegmentIndex.prototype,"markImmutable",shaka.media.SegmentIndex.prototype.markImmutable),goog.exportProperty(shaka.media.SegmentIndex.prototype,"release",shaka.media.SegmentIndex.prototype.release),goog.DEBUG&&(shaka.media.SegmentIndex.assertCorrectReferences_=function(sn){goog.asserts.assert(sn.every(function(ln,cn){return cn==0?!0:(cn=sn[cn-1],cn.startTime<ln.startTime?!0:cn.startTime>ln.startTime?!1:cn.endTime<=ln.endTime)}),"SegmentReferences are incorrect")}),shaka.media.SegmentIterator=function(sn,ln,cn){this.segmentIndex_=sn,this.currentPosition_=ln,this.currentPartialPosition_=cn},shaka.media.SegmentIterator.prototype.currentPosition=function(){return this.currentPosition_},shaka.media.SegmentIterator.prototype.current=function(){var sn=this.segmentIndex_.get(this.currentPosition_);return sn&&sn.hasPartialSegments()&&sn.getUris().length&&this.currentPartialPosition_>=sn.partialReferences.length&&(this.currentPosition_++,this.currentPartialPosition_=0,sn=this.segmentIndex_.get(this.currentPosition_)),sn&&sn.hasPartialSegments()?sn.partialReferences[this.currentPartialPosition_]:sn},shaka.media.SegmentIterator.prototype.next=function(){var sn=this.segmentIndex_.get(this.currentPosition_);return sn&&sn.hasPartialSegments()?(this.currentPartialPosition_++,sn.getUris().length&&this.currentPartialPosition_==sn.partialReferences.length&&(this.currentPosition_++,this.currentPartialPosition_=0)):(this.currentPosition_++,this.currentPartialPosition_=0),sn=this.current(),{value:sn,done:!sn}},goog.exportSymbol("shaka.media.SegmentIterator",shaka.media.SegmentIterator),goog.exportProperty(shaka.media.SegmentIterator.prototype,"next",shaka.media.SegmentIterator.prototype.next),goog.exportProperty(shaka.media.SegmentIterator.prototype,"current",shaka.media.SegmentIterator.prototype.current),goog.exportProperty(shaka.media.SegmentIterator.prototype,"currentPosition",shaka.media.SegmentIterator.prototype.currentPosition),shaka.media.MetaSegmentIndex=function(){shaka.media.SegmentIndex.call(this,[]),this.indexes_=[]},$jscomp.inherits(shaka.media.MetaSegmentIndex,shaka.media.SegmentIndex),shaka.media.MetaSegmentIndex.prototype.appendSegmentIndex=function(sn){goog.asserts.assert(this.indexes_.length==0||sn.numEvicted==0,"Should not append a new segment index with already-evicted segments"),this.indexes_.push(sn)},shaka.media.MetaSegmentIndex.prototype.clone=function(){var sn=new shaka.media.MetaSegmentIndex;return sn.indexes_=this.indexes_.slice(),sn},shaka.media.MetaSegmentIndex.prototype.release=function(){for(var sn=$jscomp.makeIterator(this.indexes_),ln=sn.next();!ln.done;ln=sn.next())ln.value.release();this.indexes_=[]},shaka.media.MetaSegmentIndex.prototype.find=function(sn){for(var ln=0,cn=$jscomp.makeIterator(this.indexes_),dn=cn.next();!dn.done;dn=cn.next()){dn=dn.value;var pn=dn.find(sn);if(pn!=null)return pn+ln;ln+=dn.numEvicted+dn.references.length}return null},shaka.media.MetaSegmentIndex.prototype.get=function(sn){for(var ln=0,cn=!1,dn=$jscomp.makeIterator(this.indexes_),pn=dn.next();!pn.done;pn=dn.next()){pn=pn.value,goog.asserts.assert(!cn||pn.numEvicted==0,"Should not see evicted segments after available segments");var vn=pn.get(sn-ln);if(vn)return vn;ln+=pn.numEvicted+pn.references.length,cn=cn||pn.references.length!=0}return null},shaka.media.MetaSegmentIndex.prototype.offset=function(sn){goog.asserts.assert(!1,"offset() should not be used in MetaSegmentIndex!")},shaka.media.MetaSegmentIndex.prototype.merge=function(sn){goog.asserts.assert(!1,"merge() should not be used in MetaSegmentIndex!")},shaka.media.MetaSegmentIndex.prototype.evict=function(sn){goog.asserts.assert(!1,"evict() should not be used in MetaSegmentIndex!")},shaka.media.MetaSegmentIndex.prototype.mergeAndEvict=function(sn,ln){goog.asserts.assert(!1,"mergeAndEvict() should not be used in MetaSegmentIndex!")},shaka.media.MetaSegmentIndex.prototype.fit=function(sn,ln){goog.asserts.assert(!1,"fit() should not be used in MetaSegmentIndex!")},shaka.media.MetaSegmentIndex.prototype.updateEvery=function(sn,ln){goog.asserts.assert(!1,"updateEvery() should not be used in MetaSegmentIndex!")},goog.exportSymbol("shaka.media.MetaSegmentIndex",shaka.media.MetaSegmentIndex),goog.exportProperty(shaka.media.MetaSegmentIndex.prototype,"updateEvery",shaka.media.MetaSegmentIndex.prototype.updateEvery),goog.exportProperty(shaka.media.MetaSegmentIndex.prototype,"fit",shaka.media.MetaSegmentIndex.prototype.fit),goog.exportProperty(shaka.media.MetaSegmentIndex.prototype,"mergeAndEvict",shaka.media.MetaSegmentIndex.prototype.mergeAndEvict),goog.exportProperty(shaka.media.MetaSegmentIndex.prototype,"evict",shaka.media.MetaSegmentIndex.prototype.evict),goog.exportProperty(shaka.media.MetaSegmentIndex.prototype,"merge",shaka.media.MetaSegmentIndex.prototype.merge),goog.exportProperty(shaka.media.MetaSegmentIndex.prototype,"offset",shaka.media.MetaSegmentIndex.prototype.offset),goog.exportProperty(shaka.media.MetaSegmentIndex.prototype,"get",shaka.media.MetaSegmentIndex.prototype.get),goog.exportProperty(shaka.media.MetaSegmentIndex.prototype,"find",shaka.media.MetaSegmentIndex.prototype.find),goog.exportProperty(shaka.media.MetaSegmentIndex.prototype,"release",shaka.media.MetaSegmentIndex.prototype.release),shaka.media.PlayRateController=function(sn){var ln=this;this.harness_=sn,this.isBuffering_=!1,this.rate_=this.harness_.getRate(),this.pollRate_=.25,this.timer_=new shaka.util.Timer(function(){ln.harness_.movePlayhead(ln.rate_*ln.pollRate_)})},shaka.media.PlayRateController.prototype.release=function(){this.timer_&&(this.timer_.stop(),this.timer_=null),this.harness_=null},shaka.media.PlayRateController.prototype.setBuffering=function(sn){this.isBuffering_=sn,this.apply_()},shaka.media.PlayRateController.prototype.set=function(sn){goog.asserts.assert(sn!=0,"Should never set rate of 0 explicitly!"),this.rate_=sn,this.apply_()},shaka.media.PlayRateController.prototype.getRealRate=function(){return this.rate_},shaka.media.PlayRateController.prototype.getDefaultRate=function(){return this.harness_.getDefaultRate()},shaka.media.PlayRateController.prototype.apply_=function(){this.timer_.stop();var sn=this.calculateCurrentRate_();if(shaka.log.v1("Changing effective playback rate to",sn),0<=sn)try{this.applyRate_(sn);return}catch{}this.timer_.tickEvery(this.pollRate_),this.applyRate_(0)},shaka.media.PlayRateController.prototype.calculateCurrentRate_=function(){return this.isBuffering_?0:this.rate_},shaka.media.PlayRateController.prototype.applyRate_=function(sn){var ln=this.harness_.getRate();return ln!=sn&&this.harness_.setRate(sn),ln!=sn},shaka.media.IPlayheadObserver=function(){},shaka.media.IPlayheadObserver.prototype.poll=function(sn,ln){},shaka.media.PlayheadObserverManager=function(sn){var ln=this;this.mediaElement_=sn,this.observers_=new Set,this.pollingLoop_=new shaka.util.Timer(function(){ln.pollAllObservers_(!1)}).tickEvery(.25)},shaka.media.PlayheadObserverManager.prototype.release=function(){this.pollingLoop_.stop();for(var sn=$jscomp.makeIterator(this.observers_),ln=sn.next();!ln.done;ln=sn.next())ln.value.release();this.observers_.clear()},shaka.media.PlayheadObserverManager.prototype.manage=function(sn){this.observers_.add(sn)},shaka.media.PlayheadObserverManager.prototype.notifyOfSeek=function(){this.pollAllObservers_(!0)},shaka.media.PlayheadObserverManager.prototype.pollAllObservers_=function(sn){for(var ln=$jscomp.makeIterator(this.observers_),cn=ln.next();!cn.done;cn=ln.next())cn.value.poll(this.mediaElement_.currentTime,sn)},shaka.media.QualityObserver=function(sn){shaka.util.FakeEventTarget.call(this),this.contentTypeStates_=new Map,this.getBufferedInfo_=sn},$jscomp.inherits(shaka.media.QualityObserver,shaka.util.FakeEventTarget),shaka.media.QualityObserver.prototype.release=function(){this.contentTypeStates_.clear(),shaka.util.FakeEventTarget.prototype.release.call(this)},shaka.media.QualityObserver.prototype.getContentTypeState_=function(sn){var ln=this.contentTypeStates_.get(sn);return ln||(ln={qualityChangePositions:[],currentQuality:null,contentType:sn},this.contentTypeStates_.set(sn,ln)),ln},shaka.media.QualityObserver.prototype.addMediaQualityChange=function(sn,ln){var cn=this.getContentTypeState_(sn.contentType);this.purgeQualityChangePositions_(cn),sn={mediaQuality:sn,position:ln},cn=cn.qualityChangePositions;var dn=cn.findIndex(function(pn){return pn.position>=ln});0<=dn?cn.splice(dn,cn[dn].position==ln?1:0,sn):cn.push(sn)},shaka.media.QualityObserver.getMediaQualityAtPosition_=function(sn,ln){ln=ln.qualityChangePositions;for(var cn=ln.length-1;0<=cn;cn--){var dn=ln[cn];if(dn.position<=sn)return dn.mediaQuality}return null},shaka.media.QualityObserver.mediaQualitiesAreTheSame_=function(sn,ln){return sn===ln?!0:sn&&ln?sn.bandwidth==ln.bandwidth&&sn.audioSamplingRate==ln.audioSamplingRate&&sn.codecs==ln.codecs&&sn.contentType==ln.contentType&&sn.frameRate==ln.frameRate&&sn.height==ln.height&&sn.mimeType==ln.mimeType&&sn.channelsCount==ln.channelsCount&&sn.pixelAspectRatio==ln.pixelAspectRatio&&sn.width==ln.width:!1},shaka.media.QualityObserver.prototype.poll=function(sn,ln){ln=$jscomp.makeIterator(this.contentTypeStates_.values());for(var cn=ln.next();!cn.done;cn=ln.next()){cn=cn.value;var dn=shaka.media.QualityObserver.getMediaQualityAtPosition_(sn,cn);dn&&!shaka.media.QualityObserver.mediaQualitiesAreTheSame_(cn.currentQuality,dn)&&this.positionIsBuffered_(sn,dn.contentType)&&(cn.currentQuality=dn,shaka.log.debug("Media quality changed at position "+sn+" "+JSON.stringify(dn)),cn=new shaka.util.FakeEvent("qualitychange",new Map([["quality",dn],["position",sn]])),this.dispatchEvent(cn))}},shaka.media.QualityObserver.prototype.positionIsBuffered_=function(sn,ln){if((ln=this.getBufferedInfo_()[ln])&&0<ln.length){var cn=ln[ln.length-1].end;if(sn>=ln[0].start&&sn<cn)return!0}return!1},shaka.media.QualityObserver.prototype.purgeQualityChangePositions_=function(sn){var ln=this.getBufferedInfo_()[sn.contentType];if(ln&&0<ln.length){var cn=ln[0].start,dn=ln[ln.length-1].end,pn=sn.qualityChangePositions;sn.qualityChangePositions=pn.filter(function(vn,Sn){return!(vn.position<=cn&&Sn+1<pn.length&&pn[Sn+1].position<=cn||vn.position>=dn)})}else sn.qualityChangePositions=[]},shaka.media.RegionTimeline=function(sn){shaka.util.FakeEventTarget.call(this);var ln=this;this.regions_=new Set,this.getSeekRange_=sn,this.filterTimer_=new shaka.util.Timer(function(){ln.filterBySeekRange_()}).tickEvery(shaka.media.RegionTimeline.REGION_FILTER_INTERVAL)},$jscomp.inherits(shaka.media.RegionTimeline,shaka.util.FakeEventTarget),shaka.media.RegionTimeline.prototype.release=function(){this.regions_.clear(),this.filterTimer_.stop(),shaka.util.FakeEventTarget.prototype.release.call(this)},shaka.media.RegionTimeline.prototype.addRegion=function(sn){this.findSimilarRegion_(sn)==null&&(this.regions_.add(sn),sn=new shaka.util.FakeEvent("regionadd",new Map([["region",sn]])),this.dispatchEvent(sn))},shaka.media.RegionTimeline.prototype.filterBySeekRange_=function(){for(var sn=this.getSeekRange_(),ln=$jscomp.makeIterator(this.regions_),cn=ln.next();!cn.done;cn=ln.next())cn=cn.value,cn.endTime<sn.start&&(this.regions_.delete(cn),cn=new shaka.util.FakeEvent("regionremove",new Map([["region",cn]])),this.dispatchEvent(cn))},shaka.media.RegionTimeline.prototype.findSimilarRegion_=function(sn){for(var ln=$jscomp.makeIterator(this.regions_),cn=ln.next();!cn.done;cn=ln.next())if(cn=cn.value,cn.schemeIdUri==sn.schemeIdUri&&cn.id==sn.id&&cn.startTime==sn.startTime&&cn.endTime==sn.endTime)return cn;return null},shaka.media.RegionTimeline.prototype.regions=function(){return this.regions_},shaka.media.RegionTimeline.REGION_FILTER_INTERVAL=2,shaka.media.RegionObserver=function(sn){shaka.util.FakeEventTarget.call(this);var ln=this;this.timeline_=sn,this.oldPosition_=new Map;var cn=shaka.media.RegionObserver.RelativePosition_;sn=cn.BEFORE_THE_REGION;var dn=cn.IN_THE_REGION;cn=cn.AFTER_THE_REGION,this.rules_=[{weWere:null,weAre:dn,invoke:function(pn,vn){return ln.onEvent_("enter",pn,vn)}},{weWere:sn,weAre:dn,invoke:function(pn,vn){return ln.onEvent_("enter",pn,vn)}},{weWere:cn,weAre:dn,invoke:function(pn,vn){return ln.onEvent_("enter",pn,vn)}},{weWere:dn,weAre:sn,invoke:function(pn,vn){return ln.onEvent_("exit",pn,vn)}},{weWere:dn,weAre:cn,invoke:function(pn,vn){return ln.onEvent_("exit",pn,vn)}},{weWere:sn,weAre:cn,invoke:function(pn,vn){return ln.onEvent_("skip",pn,vn)}},{weWere:cn,weAre:sn,invoke:function(pn,vn){return ln.onEvent_("skip",pn,vn)}}],this.eventManager_=new shaka.util.EventManager,this.eventManager_.listen(this.timeline_,"regionremove",function(pn){ln.oldPosition_.delete(pn.region)})},$jscomp.inherits(shaka.media.RegionObserver,shaka.util.FakeEventTarget),shaka.media.RegionObserver.prototype.release=function(){this.timeline_=null,this.oldPosition_.clear(),this.eventManager_.release(),this.eventManager_=null,shaka.util.FakeEventTarget.prototype.release.call(this)},shaka.media.RegionObserver.prototype.poll=function(sn,ln){for(var cn=shaka.media.RegionObserver,dn=$jscomp.makeIterator(this.timeline_.regions()),pn=dn.next();!pn.done;pn=dn.next()){pn=pn.value;var vn=this.oldPosition_.get(pn),Sn=cn.determinePositionRelativeTo_(pn,sn);this.oldPosition_.set(pn,Sn);for(var En=$jscomp.makeIterator(this.rules_),Cn=En.next();!Cn.done;Cn=En.next())Cn=Cn.value,Cn.weWere==vn&&Cn.weAre==Sn&&Cn.invoke(pn,ln)}},shaka.media.RegionObserver.prototype.onEvent_=function(sn,ln,cn){sn=new shaka.util.FakeEvent(sn,new Map([["region",ln],["seeking",cn]])),this.dispatchEvent(sn)},shaka.media.RegionObserver.determinePositionRelativeTo_=function(sn,ln){var cn=shaka.media.RegionObserver.RelativePosition_;return ln<sn.startTime?cn.BEFORE_THE_REGION:ln>sn.endTime?cn.AFTER_THE_REGION:cn.IN_THE_REGION},shaka.media.RegionObserver.RelativePosition_={BEFORE_THE_REGION:1,IN_THE_REGION:2,AFTER_THE_REGION:3},shaka.util.Networking=function(){},shaka.util.Networking.createSegmentRequest=function(sn,ln,cn,dn,pn){return sn=shaka.net.NetworkingEngine.makeRequest(sn,dn,pn),(ln!=0||cn!=null)&&(sn.headers.Range=cn?"bytes="+ln+"-"+cn:"bytes="+ln+"-"),sn},shaka.media.StreamingEngine=function(sn,ln){var cn=this;this.playerInterface_=ln,this.manifest_=sn,this.config_=null,this.bufferingGoalScale_=1,this.currentTextStream_=this.currentVariant_=null,this.textStreamSequenceId_=0,this.parsedPrftEventRaised_=!1,this.mediaStates_=new Map,this.startupComplete_=!1,this.failureCallbackBackoff_=null,this.fatalError_=!1,this.destroyer_=new shaka.util.Destroyer(function(){return cn.doDestroy_()})},shaka.media.StreamingEngine.prototype.destroy=function(){return this.destroyer_.destroy()},shaka.media.StreamingEngine.prototype.doDestroy_=function(){var sn=this,ln,cn,dn,pn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(vn){if(vn.nextAddress==1){for(ln=[],cn=$jscomp.makeIterator(sn.mediaStates_.values()),dn=cn.next();!dn.done;dn=cn.next())pn=dn.value,sn.cancelUpdate_(pn),ln.push(sn.abortOperations_(pn));return vn.yield(Promise.all(ln),2)}sn.mediaStates_.clear(),sn.playerInterface_=null,sn.manifest_=null,sn.config_=null,vn.jumpToEnd()})},shaka.media.StreamingEngine.prototype.configure=function(sn){this.config_=sn,this.failureCallbackBackoff_=new shaka.net.Backoff({maxAttempts:Math.max(sn.retryParameters.maxAttempts,2),baseDelay:sn.retryParameters.baseDelay,backoffFactor:sn.retryParameters.backoffFactor,fuzzFactor:sn.retryParameters.fuzzFactor,timeout:0,stallTimeout:0,connectionTimeout:0},!0)},shaka.media.StreamingEngine.prototype.start=function(){var sn=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ln){if(ln.nextAddress==1)return goog.asserts.assert(sn.config_,"StreamingEngine configure() must be called before init()!"),ln.yield(sn.initStreams_(),2);sn.destroyer_.ensureNotDestroyed(),shaka.log.debug("init: completed initial Stream setup"),sn.startupComplete_=!0,ln.jumpToEnd()})},shaka.media.StreamingEngine.prototype.getCurrentVariant=function(){return this.currentVariant_},shaka.media.StreamingEngine.prototype.getCurrentTextStream=function(){return this.currentTextStream_},shaka.media.StreamingEngine.prototype.loadNewTextStream_=function(sn){var ln=this,cn,dn,pn,vn,Sn,En;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Cn){switch(Cn.nextAddress){case 1:return cn=shaka.util.ManifestParserUtils.ContentType,goog.asserts.assert(!ln.mediaStates_.has(cn.TEXT),"Should not call loadNewTextStream_ while streaming text!"),ln.textStreamSequenceId_++,dn=ln.textStreamSequenceId_,Cn.setCatchFinallyBlocks(2),Cn.yield(ln.playerInterface_.mediaSourceEngine.clear(cn.TEXT),4);case 4:Cn.leaveTryBlock(3);break;case 2:pn=Cn.enterCatchBlock(),ln.playerInterface_&&ln.playerInterface_.onError(pn);case 3:vn=shaka.util.MimeUtils.getFullType(sn.mimeType,sn.codecs),ln.playerInterface_.mediaSourceEngine.reinitText(vn,ln.manifest_.sequenceMode),Sn=ln.playerInterface_.mediaSourceEngine.getTextDisplayer(),(Sn.isTextVisible()||ln.config_.alwaysStreamText)&&ln.textStreamSequenceId_==dn&&(En=ln.createMediaState_(sn),ln.mediaStates_.set(cn.TEXT,En),ln.scheduleUpdate_(En,0)),Cn.jumpToEnd()}})},shaka.media.StreamingEngine.prototype.unloadTextStream=function(){var sn=shaka.util.ManifestParserUtils.ContentType,ln=this.mediaStates_.get(sn.TEXT);ln&&(this.cancelUpdate_(ln),this.abortOperations_(ln).catch(function(){}),this.mediaStates_.delete(sn.TEXT)),this.currentTextStream_=null},shaka.media.StreamingEngine.prototype.setTrickPlay=function(sn){var ln=this.mediaStates_.get(shaka.util.ManifestParserUtils.ContentType.VIDEO);if(ln){var cn=ln.stream;cn&&(shaka.log.debug("setTrickPlay",sn),sn?(sn=cn.trickModeVideo)&&!ln.restoreStreamAfterTrickPlay&&(shaka.log.debug("Engaging trick mode stream",sn),this.switchInternal_(sn,!1,0,!1),ln.restoreStreamAfterTrickPlay=cn):(cn=ln.restoreStreamAfterTrickPlay)&&(shaka.log.debug("Restoring non-trick-mode stream",cn),ln.restoreStreamAfterTrickPlay=null,this.switchInternal_(cn,!0,0,!1)))}},shaka.media.StreamingEngine.prototype.switchVariant=function(sn,ln,cn,dn,pn){ln=ln===void 0?!1:ln,cn=cn===void 0?0:cn,dn=dn===void 0?!1:dn,pn=pn===void 0?!1:pn,this.currentVariant_=sn,this.startupComplete_&&(sn.video&&this.switchInternal_(sn.video,ln,cn,dn,pn),sn.audio&&this.switchInternal_(sn.audio,ln,cn,dn,pn))},shaka.media.StreamingEngine.prototype.switchTextStream=function(sn){var ln=this,cn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dn){if(dn.nextAddress==1)return ln.currentTextStream_=sn,ln.startupComplete_?(cn=shaka.util.ManifestParserUtils.ContentType,goog.asserts.assert(sn&&sn.type==cn.TEXT,"Wrong stream type passed to switchTextStream!"),sn.segmentIndex?dn.jumpTo(2):dn.yield(sn.createSegmentIndex(),2)):dn.return();ln.switchInternal_(sn,!0,0,!1),dn.jumpToEnd()})},shaka.media.StreamingEngine.prototype.reloadTextStream=function(){var sn=this.mediaStates_.get(shaka.util.ManifestParserUtils.ContentType.TEXT);sn&&this.switchInternal_(sn.stream,!0,0,!0)},shaka.media.StreamingEngine.prototype.switchInternal_=function(sn,ln,cn,dn,pn){var vn=this,Sn=shaka.util.ManifestParserUtils.ContentType,En=this.mediaStates_.get(sn.type);En||sn.type!=Sn.TEXT?(goog.asserts.assert(En,"switch: expected mediaState to exist"),En&&(En.restoreStreamAfterTrickPlay&&(shaka.log.debug("switch during trick play mode",sn),sn.trickModeVideo?(En.restoreStreamAfterTrickPlay=sn,sn=sn.trickModeVideo,shaka.log.debug("switch found trick play stream",sn)):(En.restoreStreamAfterTrickPlay=null,shaka.log.debug("switch found no special trick play stream"))),En.stream!=sn||dn?(sn.type==Sn.TEXT&&(dn=shaka.util.MimeUtils.getFullType(sn.mimeType,sn.codecs),this.playerInterface_.mediaSourceEngine.reinitText(dn,this.manifest_.sequenceMode)),En.stream.closeSegmentIndex&&En.stream.closeSegmentIndex(),En.stream=sn,En.segmentIterator=null,En.adaptation=!!pn,sn=shaka.media.StreamingEngine.logPrefix_(En),shaka.log.debug("switch: switching to Stream "+sn),ln&&(En.clearingBuffer?En.waitingToFlushBuffer=!0:En.performingUpdate?(En.waitingToClearBuffer=!0,En.clearBufferSafeMargin=cn,En.waitingToFlushBuffer=!0):(this.cancelUpdate_(En),this.clearBuffer_(En,!0,cn).catch(function(Cn){vn.playerInterface_&&(goog.asserts.assert(Cn instanceof shaka.util.Error,"Wrong error type!"),vn.playerInterface_.onError(Cn))}))),this.makeAbortDecision_(En).catch(function(Cn){vn.playerInterface_&&(goog.asserts.assert(Cn instanceof shaka.util.Error,"Wrong error type!"),vn.playerInterface_.onError(Cn))})):(ln=shaka.media.StreamingEngine.logPrefix_(En),shaka.log.debug("switch: Stream "+ln+" already active")))):this.loadNewTextStream_(sn)},shaka.media.StreamingEngine.prototype.makeAbortDecision_=function(sn){var ln=this,cn,dn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(pn){if(pn.nextAddress==1)return sn.operation?(cn=sn.stream,dn=sn.operation,cn.segmentIndex?pn.jumpTo(2):pn.yield(cn.createSegmentIndex(),2)):pn.return();if(sn.operation!=dn||sn.stream!=cn)return pn.return();goog.asserts.assert(sn.stream.segmentIndex,"Segment index should exist by now!"),ln.shouldAbortCurrentRequest_(sn)&&(shaka.log.info("Aborting current segment request."),sn.operation.abort()),pn.jumpToEnd()})},shaka.media.StreamingEngine.prototype.shouldAbortCurrentRequest_=function(sn){goog.asserts.assert(sn.operation,"Abort logic requires an ongoing operation!"),goog.asserts.assert(sn.stream&&sn.stream.segmentIndex,"Abort logic requires a segment index");var ln=this.playerInterface_.getPresentationTime(),cn=this.playerInterface_.mediaSourceEngine.bufferEnd(sn.type),dn=this.getTimeNeeded_(sn,ln);dn=sn.stream.segmentIndex.find(dn);var pn=dn==null?null:sn.stream.segmentIndex.get(dn);return dn=pn?pn.getSize():null,pn&&!dn&&(dn=(pn.getEndTime()-pn.getStartTime())*(sn.stream.bandwidth||0)/8),dn?((pn=pn.initSegmentReference)&&(dn+=pn.getSize()||0),pn=this.playerInterface_.getBandwidthEstimate(),8*dn/pn<(cn||0)-ln-Math.max(this.manifest_.minBufferTime||0,this.config_.rebufferingGoal)||sn.operation.getBytesRemaining()>dn):!1},shaka.media.StreamingEngine.prototype.seeked=function(){if(this.playerInterface_){for(var sn=this.playerInterface_.getPresentationTime(),ln=shaka.util.ManifestParserUtils.ContentType,cn=!1,dn=$jscomp.makeIterator(this.mediaStates_.keys()),pn=dn.next();!pn.done;pn=dn.next()){pn=pn.value;var vn=this.mediaStates_.get(pn),Sn=shaka.media.StreamingEngine.logPrefix_(vn);vn.segmentIterator=null,this.playerInterface_.mediaSourceEngine.isBuffered(pn,sn)||((this.playerInterface_.mediaSourceEngine.bufferEnd(pn)!=null||vn.performingUpdate)&&(this.forceClearBuffer_(vn),cn=!0),vn.operation&&(vn.operation.abort(),shaka.log.debug(Sn,"Aborting operation due to seek"),vn.operation=null),pn===ln.TEXT&&this.playerInterface_.mediaSourceEngine.resetCaptionParser(),vn.seeked=!0)}cn||shaka.log.debug("(all): seeked: buffered seek: presentationTime="+sn)}},shaka.media.StreamingEngine.prototype.forceClearBuffer_=function(sn){var ln=this,cn=shaka.media.StreamingEngine.logPrefix_(sn);sn.clearingBuffer?shaka.log.debug(cn,"clear: already clearing the buffer"):sn.waitingToClearBuffer?shaka.log.debug(cn,"clear: already waiting"):sn.performingUpdate?(shaka.log.debug(cn,"clear: currently updating"),sn.waitingToClearBuffer=!0,sn.clearBufferSafeMargin=0):this.playerInterface_.mediaSourceEngine.bufferStart(sn.type)==null?(shaka.log.debug(cn,"clear: nothing buffered"),sn.updateTimer==null&&this.scheduleUpdate_(sn,0)):(shaka.log.debug(cn,"clear: handling right now"),this.cancelUpdate_(sn),this.clearBuffer_(sn,!1,0).catch(function(dn){ln.playerInterface_&&(goog.asserts.assert(dn instanceof shaka.util.Error,"Wrong error type!"),ln.playerInterface_.onError(dn))}))},shaka.media.StreamingEngine.prototype.initStreams_=function(){var sn=this,ln,cn,dn,pn,vn,Sn,En,Cn,Pn,Rn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ln){if(Ln.nextAddress==1){if(ln=shaka.util.ManifestParserUtils.ContentType,goog.asserts.assert(sn.config_,"StreamingEngine configure() must be called before init()!"),!sn.currentVariant_)throw shaka.log.error("init: no Streams chosen"),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STREAMING,shaka.util.Error.Code.STREAMING_ENGINE_STARTUP_INVALID_STATE);return cn=new Map,dn=new Set,sn.currentVariant_.audio&&(cn.set(ln.AUDIO,sn.currentVariant_.audio),dn.add(sn.currentVariant_.audio)),sn.currentVariant_.video&&(cn.set(ln.VIDEO,sn.currentVariant_.video),dn.add(sn.currentVariant_.video)),sn.currentTextStream_&&(cn.set(ln.TEXT,sn.currentTextStream_),dn.add(sn.currentTextStream_)),pn=sn.playerInterface_.mediaSourceEngine,vn=sn.config_.forceTransmux,Ln.yield(pn.init(cn,vn,sn.manifest_.sequenceMode),2)}for(sn.destroyer_.ensureNotDestroyed(),sn.updateDuration(),Sn=$jscomp.makeIterator(cn.keys()),En=Sn.next();!En.done;En=Sn.next())Cn=En.value,Pn=cn.get(Cn),sn.mediaStates_.has(Cn)||(Rn=sn.createMediaState_(Pn),sn.mediaStates_.set(Cn,Rn),sn.scheduleUpdate_(Rn,0));Ln.jumpToEnd()})},shaka.media.StreamingEngine.prototype.createMediaState_=function(sn){return{stream:sn,type:sn.type,segmentIterator:null,lastSegmentReference:null,lastInitSegmentReference:null,lastTimestampOffset:null,lastAppendWindowStart:null,lastAppendWindowEnd:null,restoreStreamAfterTrickPlay:null,endOfStream:!1,performingUpdate:!1,updateTimer:null,waitingToClearBuffer:!1,clearBufferSafeMargin:0,waitingToFlushBuffer:!1,clearingBuffer:!1,seeked:!0,needsResync:!1,recovering:!1,hasError:!1,operation:null}},shaka.media.StreamingEngine.prototype.updateDuration=function(){var sn=this.manifest_.presentationTimeline.getDuration();1/0>sn?this.playerInterface_.mediaSourceEngine.setDuration(sn):this.playerInterface_.mediaSourceEngine.setDuration(Math.pow(2,32))},shaka.media.StreamingEngine.prototype.onUpdate_=function(sn){var ln=this,cn,dn,pn,vn,Sn,En;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Cn){switch(Cn.nextAddress){case 1:if(ln.destroyer_.ensureNotDestroyed(),cn=shaka.media.StreamingEngine.logPrefix_(sn),goog.asserts.assert(!sn.performingUpdate&&sn.updateTimer!=null,cn+" unexpected call to onUpdate_()"),sn.performingUpdate||sn.updateTimer==null||(goog.asserts.assert(!sn.clearingBuffer,cn+" onUpdate_() should not be called when clearing the buffer"),sn.clearingBuffer))return Cn.return();if(sn.updateTimer=null,!sn.waitingToClearBuffer){Cn.jumpTo(2);break}return shaka.log.debug(cn,"skipping update and clearing the buffer"),Cn.yield(ln.clearBuffer_(sn,sn.waitingToFlushBuffer,sn.clearBufferSafeMargin),3);case 3:return Cn.return();case 2:if(sn.stream.segmentIndex){Cn.jumpTo(4);break}return dn=sn.stream,Cn.yield(sn.stream.createSegmentIndex(),5);case 5:if(dn!=sn.stream)return dn.closeSegmentIndex&&(goog.asserts.assert(!sn.stream.segmentIndex,"mediastate.stream should not have segmentIndex yet."),dn.closeSegmentIndex()),sn.performingUpdate||sn.updateTimer||ln.scheduleUpdate_(sn,0),Cn.return();case 4:Cn.setCatchFinallyBlocks(6),pn=ln.update_(sn),pn!=null&&(ln.scheduleUpdate_(sn,pn),sn.hasError=!1),Cn.leaveTryBlock(7);break;case 6:return vn=Cn.enterCatchBlock(),Cn.yield(ln.handleStreamingError_(vn),8);case 8:return Cn.return();case 7:if(Sn=Array.from(ln.mediaStates_.values()),!ln.startupComplete_||!Sn.every(function(Pn){return Pn.endOfStream})){Cn.jumpTo(0);break}return shaka.log.v1(cn,"calling endOfStream()..."),Cn.yield(ln.playerInterface_.mediaSourceEngine.endOfStream(),10);case 10:ln.destroyer_.ensureNotDestroyed(),En=ln.playerInterface_.mediaSourceEngine.getDuration(),En!=0&&En<ln.manifest_.presentationTimeline.getDuration()&&ln.manifest_.presentationTimeline.setDuration(En),Cn.jumpToEnd()}})},shaka.media.StreamingEngine.prototype.update_=function(sn){goog.asserts.assert(this.manifest_,"manifest_ should not be null"),goog.asserts.assert(this.config_,"config_ should not be null");var ln=shaka.util.ManifestParserUtils.ContentType;if(shaka.media.StreamingEngine.isEmbeddedText_(sn))return this.playerInterface_.mediaSourceEngine.setSelectedClosedCaptionId(sn.stream.originalId||""),null;sn.type==ln.TEXT&&this.playerInterface_.mediaSourceEngine.clearSelectedClosedCaptionId();var cn=shaka.media.StreamingEngine.logPrefix_(sn),dn=this.playerInterface_.getPresentationTime(),pn=this.getTimeNeeded_(sn,dn);shaka.log.v2(cn,"timeNeeded="+pn);var vn=this.playerInterface_.mediaSourceEngine.bufferedAheadOf(sn.type,dn);shaka.log.v2(cn,"update_:","presentationTime="+dn,"bufferedAhead="+vn);var Sn=Math.max(this.manifest_.minBufferTime||0,this.config_.rebufferingGoal,this.config_.bufferingGoal)*this.bufferingGoalScale_,En=this.manifest_.presentationTimeline.getDuration()-pn,Cn=this.playerInterface_.mediaSourceEngine.bufferEnd(sn.type);if(1e-6>En&&Cn)return shaka.log.debug(cn,"buffered to end of presentation"),sn.endOfStream=!0,sn.type==ln.VIDEO&&(sn=this.mediaStates_.get(ln.TEXT))&&shaka.media.StreamingEngine.isEmbeddedText_(sn)&&(sn.endOfStream=!0),null;if(sn.endOfStream=!1,vn>=Sn)return shaka.log.v2(cn,"buffering goal met"),this.config_.updateIntervalSeconds/2;if(ln=this.getSegmentReferenceNeeded_(sn,dn,Cn),!ln)return this.config_.updateIntervalSeconds;for(vn=1/0,Sn=Array.from(this.mediaStates_.values()),Sn=$jscomp.makeIterator(Sn),En=Sn.next();!En.done;En=Sn.next())En=En.value,shaka.media.StreamingEngine.isEmbeddedText_(En)||En.segmentIterator&&!En.segmentIterator.current()||(En=this.getTimeNeeded_(En,dn),vn=Math.min(vn,En));return Sn=this.manifest_.presentationTimeline.getMaxSegmentDuration()*shaka.media.StreamingEngine.MAX_RUN_AHEAD_SEGMENTS_,pn>=vn+Sn?(shaka.log.v2(cn,"waiting for other streams to buffer"),this.config_.updateIntervalSeconds):(this.fetchAndAppend_(sn,dn,ln).catch(function(){}),null)},shaka.media.StreamingEngine.prototype.getTimeNeeded_=function(sn,ln){return sn.lastSegmentReference?sn.lastSegmentReference.endTime:ln},shaka.media.StreamingEngine.prototype.getSegmentReferenceNeeded_=function(sn,ln,cn){var dn=shaka.media.StreamingEngine.logPrefix_(sn);if(goog.asserts.assert(sn.stream.segmentIndex,"segment index should have been generated already"),sn.segmentIterator)return sn.segmentIterator.current();if(sn.lastSegmentReference||cn)return ln=sn.lastSegmentReference?sn.lastSegmentReference.endTime:cn,goog.asserts.assert(ln!=null,"Should have a time to search"),shaka.log.v1(dn,"looking up segment from new stream endTime:",ln),sn.needsResync=!0,sn.segmentIterator=sn.stream.segmentIndex.getIteratorForTime(ln),sn=sn.segmentIterator&&sn.segmentIterator.next().value,sn==null&&shaka.log.warning(dn,"cannot find segment","endTime:",ln),sn;cn=this.config_.inaccurateManifestTolerance;var pn=Math.max(ln-cn,0);shaka.log.v1(dn,"looking up segment","lookupTime:",pn,"presentationTime:",ln);var vn=null;return cn&&(sn.segmentIterator=sn.stream.segmentIndex.getIteratorForTime(pn),vn=sn.segmentIterator&&sn.segmentIterator.next().value),vn||(sn.segmentIterator=sn.stream.segmentIndex.getIteratorForTime(ln),vn=sn.segmentIterator&&sn.segmentIterator.next().value),vn==null&&shaka.log.warning(dn,"cannot find segment","lookupTime:",pn,"presentationTime:",ln),vn},shaka.media.StreamingEngine.prototype.fetchAndAppend_=function(sn,ln,cn){var dn=this,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn,Gn,Dn,Kn,qn,Zn,Yn,Jn,rs,us;return $jscomp.asyncExecutePromiseGeneratorProgram(function(as){switch(as.nextAddress){case 1:if(pn=shaka.util.ManifestParserUtils.ContentType,vn=shaka.media.StreamingEngine,Sn=vn.logPrefix_(sn),shaka.log.v1(Sn,"fetchAndAppend_:","presentationTime="+ln,"reference.startTime="+cn.startTime,"reference.endTime="+cn.endTime),En=sn.stream,Cn=sn.segmentIterator,sn.performingUpdate=!0,as.setCatchFinallyBlocks(2),cn.getStatus()==shaka.media.SegmentReference.Status.MISSING)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.SEGMENT_MISSING);return as.yield(dn.initSourceBuffer_(sn,cn),4);case 4:return dn.destroyer_.ensureNotDestroyed(),dn.fatalError_?as.return():(shaka.log.v2(Sn,"fetching segment"),Pn=En.mimeType=="video/mp4"||En.mimeType=="audio/mp4",Rn=window.ReadableStream,dn.config_.lowLatencyMode&&Rn&&Pn&&!cn.hlsAes128Key?(Gn=new Uint8Array(0),Kn=Dn=!1,qn=function(cs){var _s,Es,Qn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ms){return Dn||(Kn=!0,dn.destroyer_.ensureNotDestroyed(),dn.fatalError_)?ms.return():(Gn=dn.concatArray_(Gn,cs),_s=!1,Es=0,new shaka.util.Mp4Parser().box("mdat",function($s){Es=$s.size+$s.start,_s=!0}).parse(Gn,!1,!0),_s?(Qn=Gn.subarray(0,Es),Gn=Gn.subarray(Es),ms.yield(dn.append_(sn,ln,En,cn,Qn),0)):ms.jumpTo(0))})},as.yield(dn.fetch_(sn,cn,qn),11)):(dn.config_.lowLatencyMode&&!Rn&&shaka.log.warning("Low latency streaming mode is enabled, but ReadableStream is not supported by the browser."),Ln=dn.fetch_(sn,cn),as.yield(Ln,7)));case 7:if(Fn=as.yieldResult,dn.destroyer_.ensureNotDestroyed(),dn.fatalError_)return as.return();if(!cn.hlsAes128Key){as.jumpTo(8);break}return goog.asserts.assert(Cn,"mediaState.segmentIterator should exist"),as.yield(dn.aes128Decrypt_(Fn,cn,Cn),9);case 9:Fn=as.yieldResult;case 8:return dn.destroyer_.ensureNotDestroyed(),sn.waitingToClearBuffer?(shaka.log.info(Sn,"waitingToClearBuffer, skip append"),sn.performingUpdate=!1,dn.scheduleUpdate_(sn,0),as.return()):as.yield(dn.append_(sn,ln,En,cn,Fn),6);case 11:if(Zn=as.yieldResult,Kn){as.jumpTo(6);break}return Dn=!0,dn.destroyer_.ensureNotDestroyed(),dn.fatalError_?as.return():sn.waitingToClearBuffer?(shaka.log.info(Sn,"waitingToClearBuffer, skip append"),sn.performingUpdate=!1,dn.scheduleUpdate_(sn,0),as.return()):as.yield(dn.append_(sn,ln,En,cn,Zn),6);case 6:if(dn.destroyer_.ensureNotDestroyed(),dn.fatalError_)return as.return();sn.lastSegmentReference=cn,Yn=Cn.next().value,shaka.log.v2(Sn,"advancing to next segment",Yn),sn.performingUpdate=!1,sn.recovering=!1,Jn=dn.playerInterface_.mediaSourceEngine.getBufferedInfo(),rs=Jn[sn.type],shaka.log.v1(Sn,"finished fetch and append",JSON.stringify(rs)),sn.waitingToClearBuffer||dn.playerInterface_.onSegmentAppended(cn.startTime,cn.endTime,sn.type),dn.scheduleUpdate_(sn,0),as.leaveTryBlock(0);break;case 2:if(us=as.enterCatchBlock(),dn.destroyer_.ensureNotDestroyed(us),dn.fatalError_)return as.return();if(goog.asserts.assert(us instanceof shaka.util.Error,"Should only receive a Shaka error"),sn.performingUpdate=!1,us.code==shaka.util.Error.Code.OPERATION_ABORTED)sn.performingUpdate=!1,dn.cancelUpdate_(sn),dn.scheduleUpdate_(sn,0),as.jumpTo(0);else if(sn.type==pn.TEXT&&dn.config_.ignoreTextStreamFailures)us.code==shaka.util.Error.Code.BAD_HTTP_STATUS?shaka.log.warning(Sn,"Text stream failed to download. Proceeding without it."):shaka.log.warning(Sn,"Text stream failed to parse. Proceeding without it."),dn.mediaStates_.delete(pn.TEXT),as.jumpTo(0);else if(us.code==shaka.util.Error.Code.QUOTA_EXCEEDED_ERROR)dn.handleQuotaExceeded_(sn,us),as.jumpTo(0);else return shaka.log.error(Sn,"failed fetch and append: code="+us.code),sn.hasError=!0,us.severity=shaka.util.Error.Severity.CRITICAL,as.yield(dn.handleStreamingError_(us),0)}})},shaka.media.StreamingEngine.prototype.aes128Decrypt_=function(sn,ln,cn){var dn,pn,vn,Sn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(En){if(En.nextAddress==1)return dn=ln.hlsAes128Key,dn.cryptoKey?En.jumpTo(2):(goog.asserts.assert(dn.fetchKey,"If AES-128 cryptoKey was not preloaded, fetchKey function should be provided"),En.yield(dn.fetchKey(),3));if(En.nextAddress!=2&&goog.asserts.assert(dn.cryptoKey,"AES-128 cryptoKey should now be set"),pn=dn.iv,!pn)for(pn=shaka.util.BufferUtils.toUint8(new ArrayBuffer(16)),vn=dn.firstMediaSequenceNumber+cn.currentPosition(),Sn=pn.byteLength-1;0<=Sn;Sn--)pn[Sn]=vn&255,vn>>=8;return En.return(window.crypto.subtle.decrypt({name:"AES-CBC",iv:pn},dn.cryptoKey,sn))})},shaka.media.StreamingEngine.prototype.retry=function(sn){if(this.destroyer_.destroyed())return shaka.log.error("Unable to retry after StreamingEngine is destroyed!"),!1;if(this.fatalError_)return shaka.log.error("Unable to retry after StreamingEngine encountered a fatal error!"),!1;for(var ln=$jscomp.makeIterator(this.mediaStates_.values()),cn=ln.next();!cn.done;cn=ln.next()){cn=cn.value;var dn=shaka.media.StreamingEngine.logPrefix_(cn);!cn.hasError||cn.performingUpdate||cn.updateTimer||(shaka.log.info(dn,"Retrying after failure..."),cn.hasError=!1,this.scheduleUpdate_(cn,sn))}return!0},shaka.media.StreamingEngine.prototype.concatArray_=function(sn,ln){var cn=new Uint8Array(sn.length+ln.length);return cn.set(sn),cn.set(ln,sn.length),cn},shaka.media.StreamingEngine.prototype.handleQuotaExceeded_=function(sn,ln){var cn=shaka.media.StreamingEngine.logPrefix_(sn);if(Array.from(this.mediaStates_.values()).some(function(pn){return pn!=sn&&pn.recovering}))shaka.log.debug(cn,"MediaSource threw QuotaExceededError:","waiting for another stream to recover...");else{var dn=Math.round(100*this.bufferingGoalScale_);if(20<dn)this.bufferingGoalScale_-=.2;else if(4<dn)this.bufferingGoalScale_-=.04;else{shaka.log.error(cn,"MediaSource threw QuotaExceededError too many times"),this.fatalError_=sn.hasError=!0,this.playerInterface_.onError(ln);return}shaka.log.warning(cn,"MediaSource threw QuotaExceededError:","reducing buffering goals by "+(100-Math.round(100*this.bufferingGoalScale_))+"%"),sn.recovering=!0}this.scheduleUpdate_(sn,4)},shaka.media.StreamingEngine.prototype.initSourceBuffer_=function(sn,ln){var cn=this,dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Gn){return dn=shaka.media.StreamingEngine,pn=dn.logPrefix_(sn),vn=[],Sn=Math.max(0,ln.appendWindowStart-dn.APPEND_WINDOW_START_FUDGE_),En=ln.appendWindowEnd+dn.APPEND_WINDOW_END_FUDGE_,goog.asserts.assert(ln.startTime<=En,pn+" segment should start before append window end"),Cn=ln.timestampOffset,(Cn!=sn.lastTimestampOffset||Sn!=sn.lastAppendWindowStart||En!=sn.lastAppendWindowEnd)&&(shaka.log.v1(pn,"setting timestamp offset to "+Cn),shaka.log.v1(pn,"setting append window start to "+Sn),shaka.log.v1(pn,"setting append window end to "+En),Pn=function(){var Dn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Kn){if(Kn.nextAddress==1)return Kn.setCatchFinallyBlocks(2),sn.lastAppendWindowStart=Sn,sn.lastAppendWindowEnd=En,sn.lastTimestampOffset=Cn,Kn.yield(cn.playerInterface_.mediaSourceEngine.setStreamProperties(sn.type,Cn,Sn,En,cn.manifest_.sequenceMode),4);if(Kn.nextAddress!=2)return Kn.leaveTryBlock(0);throw Dn=Kn.enterCatchBlock(),sn.lastAppendWindowStart=null,sn.lastAppendWindowEnd=null,sn.lastTimestampOffset=null,Dn})},vn.push(Pn())),!shaka.media.InitSegmentReference.equal(ln.initSegmentReference,sn.lastInitSegmentReference)&&(sn.lastInitSegmentReference=ln.initSegmentReference)&&(shaka.log.v1(pn,"fetching init segment"),Rn=cn.fetch_(sn,ln.initSegmentReference),Ln=function(){var Dn,Kn,qn,Zn,Yn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Jn){switch(Jn.nextAddress){case 1:return Jn.setCatchFinallyBlocks(2),Jn.yield(Rn,4);case 4:return Dn=Jn.yieldResult,cn.destroyer_.ensureNotDestroyed(),Kn=new shaka.util.Mp4Parser,qn=shaka.util.Mp4Parser,Kn.box("moov",qn.children).box("trak",qn.children).box("mdia",qn.children).fullBox("mdhd",function(rs){cn.parseMDHD_(ln,rs)}).parse(Dn),shaka.log.v1(pn,"appending init segment"),Zn=sn.stream.closedCaptions&&0<sn.stream.closedCaptions.size,Jn.yield(cn.playerInterface_.beforeAppendSegment(sn.type,Dn),5);case 5:return Jn.yield(cn.playerInterface_.mediaSourceEngine.appendBuffer(sn.type,Dn,null,Zn),6);case 6:Jn.leaveTryBlock(0);break;case 2:throw Yn=Jn.enterCatchBlock(),sn.lastInitSegmentReference=null,Yn}})},cn.playerInterface_.onInitSegmentAppended(ln.startTime,ln.initSegmentReference),vn.push(Ln())),Fn=sn.lastSegmentReference?sn.lastSegmentReference.discontinuitySequence:null,cn.manifest_.sequenceMode?(ln.discontinuitySequence!=Fn||sn.needsResync)&&(sn.needsResync=!1,vn.push(cn.playerInterface_.mediaSourceEngine.resync(sn.type,ln.startTime))):ln.discontinuitySequence!=Fn&&vn.push(cn.playerInterface_.mediaSourceEngine.resync(sn.type,ln.timestampOffset)),Gn.yield(Promise.all(vn),0)})},shaka.media.StreamingEngine.prototype.append_=function(sn,ln,cn,dn,pn){var vn=this,Sn,En,Cn,Pn,Rn,Ln,Fn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Gn){switch(Gn.nextAddress){case 1:return Sn=shaka.media.StreamingEngine.logPrefix_(sn),En=cn.closedCaptions&&0<cn.closedCaptions.size,Pn=cn.emsgSchemeIdUris!=null&&0<cn.emsgSchemeIdUris.length||vn.config_.dispatchAllEmsgBoxes,Rn=vn.config_.parsePrftBox&&!vn.parsedPrftEventRaised_,(Pn||Rn)&&(Cn=new shaka.util.Mp4Parser),Pn&&Cn.fullBox("emsg",function(Dn){return vn.parseEMSG_(dn,cn.emsgSchemeIdUris,Dn)}),Rn&&Cn.fullBox("prft",function(Dn){return vn.parsePrft_(dn,Dn)}),(Pn||Rn)&&Cn.parse(pn),Gn.yield(vn.evict_(sn,ln),2);case 2:return vn.destroyer_.ensureNotDestroyed(),Ln=sn.seeked,sn.seeked=!1,Fn=sn.adaptation,sn.adaptation=!1,Gn.yield(vn.playerInterface_.beforeAppendSegment(sn.type,pn),3);case 3:return Gn.yield(vn.playerInterface_.mediaSourceEngine.appendBuffer(sn.type,pn,dn,En,Ln,Fn),4);case 4:vn.destroyer_.ensureNotDestroyed(),shaka.log.v2(Sn,"appended media segment"),Gn.jumpToEnd()}})},shaka.media.StreamingEngine.prototype.parseEMSG_=function(sn,ln,cn){if(cn.version===0)var dn=cn.reader.readTerminatedString(),pn=cn.reader.readTerminatedString(),vn=cn.reader.readUint32(),Sn=cn.reader.readUint32(),En=cn.reader.readUint32(),Cn=cn.reader.readUint32(),Pn=sn.startTime+Sn/vn;else vn=cn.reader.readUint32(),Pn=cn.reader.readUint64()/vn+sn.timestampOffset,Sn=Pn-sn.startTime,En=cn.reader.readUint32(),Cn=cn.reader.readUint32(),dn=cn.reader.readTerminatedString(),pn=cn.reader.readTerminatedString();cn=cn.reader.readBytes(cn.reader.getLength()-cn.reader.getPosition()),(ln&&ln.includes(dn)||this.config_.dispatchAllEmsgBoxes)&&(dn=="urn:mpeg:dash:event:2012"?this.playerInterface_.onManifestUpdate():dn=="https://aomedia.org/emsg/ID3"?(ln=shaka.util.Id3Utils.getID3Frames(cn),ln.length&&sn&&this.playerInterface_.onMetadata([{cueTime:sn.startTime,data:cn,frames:ln,dts:sn.startTime,pts:sn.startTime}],0,sn.endTime)):(ln={startTime:Pn,endTime:Pn+En/vn,schemeIdUri:dn,value:pn,timescale:vn,presentationTimeDelta:Sn,eventDuration:En,id:Cn,messageData:cn},sn=shaka.util.FakeEvent.EventName.Emsg,ln=new Map().set("detail",ln),sn=new shaka.util.FakeEvent(sn,ln),this.playerInterface_.onEvent(sn)))},shaka.media.StreamingEngine.prototype.parseMDHD_=function(sn,ln){ln=shaka.util.Mp4BoxParsers.parseMDHD(ln.reader||0,ln.version||0),sn.initSegmentReference.timescale=ln.timescale},shaka.media.StreamingEngine.prototype.parsePrft_=function(sn,ln){if(!this.parsedPrftEventRaised_&&sn.initSegmentReference.timescale){ln.reader.readUint32();var cn=ln.reader.readUint32(),dn=ln.reader.readUint32();if(cn=1e3*cn+dn/Math.pow(2,32)*1e3,ln.version===0)var pn=ln.reader.readUint32();else try{pn=ln.reader.readUint64()}catch{shaka.log.warning("parsePrft_: parsing mediatime resulted in a MEDIA.JS_INTEGER_OVERFLOW exception"),this.parsedPrftEventRaised_=!0;return}sn=sn.initSegmentReference.timescale,ln=this.convertNtp(cn),sn={wallClockTime:ln,programStartDate:new Date(ln-pn/sn*1e3)},pn=shaka.util.FakeEvent.EventName.Prft,sn=new Map().set("detail",sn),pn=new shaka.util.FakeEvent(pn,sn),this.playerInterface_.onEvent(pn),this.parsedPrftEventRaised_=!0}},shaka.media.StreamingEngine.prototype.convertNtp=function(sn){var ln=new Date(Date.UTC(1900,0,1,0,0,0));return new Date(ln.getTime()+sn).getTime()},shaka.media.StreamingEngine.prototype.evict_=function(sn,ln){var cn=this,dn,pn,vn,Sn,En;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Cn){if(Cn.nextAddress==1)return dn=shaka.media.StreamingEngine.logPrefix_(sn),shaka.log.v2(dn,"checking buffer length"),pn=Math.max(cn.config_.bufferBehind,cn.manifest_.presentationTimeline.getMaxSegmentDuration()),vn=cn.playerInterface_.mediaSourceEngine.bufferStart(sn.type),vn==null?(shaka.log.v2(dn,"buffer behind okay because nothing buffered:","presentationTime="+ln,"bufferBehind="+pn),Cn.return()):(Sn=ln-vn,En=Sn-pn,.01>=En?(shaka.log.v2(dn,"buffer behind okay:","presentationTime="+ln,"bufferedBehind="+Sn,"bufferBehind="+pn,"underflow="+Math.abs(En)),Cn.return()):(shaka.log.v1(dn,"buffer behind too large:","presentationTime="+ln,"bufferedBehind="+Sn,"bufferBehind="+pn,"overflow="+En),Cn.yield(cn.playerInterface_.mediaSourceEngine.remove(sn.type,vn,vn+En),2)));cn.destroyer_.ensureNotDestroyed(),shaka.log.v1(dn,"evicted "+En+" seconds"),Cn.jumpToEnd()})},shaka.media.StreamingEngine.isEmbeddedText_=function(sn){var ln=shaka.util.MimeUtils,cn=ln.CEA608_CLOSED_CAPTION_MIMETYPE;return ln=ln.CEA708_CLOSED_CAPTION_MIMETYPE,sn&&sn.type==shaka.util.ManifestParserUtils.ContentType.TEXT&&(sn.stream.mimeType==cn||sn.stream.mimeType==ln)},shaka.media.StreamingEngine.prototype.fetch_=function(sn,ln,cn){var dn=this,pn,vn,Sn,En,Cn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Pn){return Pn.nextAddress==1?(pn=shaka.net.NetworkingEngine.RequestType.SEGMENT,vn=shaka.util.Networking.createSegmentRequest(ln.getUris(),ln.startByte,ln.endByte,dn.config_.retryParameters,cn),shaka.log.v2("fetching: reference=",ln),Sn=sn.stream,dn.playerInterface_.modifySegmentRequest(vn,{type:Sn.type,init:ln instanceof shaka.media.InitSegmentReference,duration:ln.endTime-ln.startTime,mimeType:Sn.mimeType,codecs:Sn.codecs,bandwidth:Sn.bandwidth}),En=dn.playerInterface_.netEngine.request(pn,vn),sn.operation=En,Pn.yield(En.promise,2)):(Cn=Pn.yieldResult,sn.operation=null,Pn.return(Cn.data))})},shaka.media.StreamingEngine.prototype.clearBuffer_=function(sn,ln,cn){var dn=this,pn,vn,Sn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(En){if(En.nextAddress==1)return pn=shaka.media.StreamingEngine.logPrefix_(sn),goog.asserts.assert(!sn.performingUpdate&&sn.updateTimer==null,pn+" unexpected call to clearBuffer_()"),sn.waitingToClearBuffer=!1,sn.waitingToFlushBuffer=!1,sn.clearBufferSafeMargin=0,sn.clearingBuffer=!0,sn.lastSegmentReference=null,sn.lastInitSegmentReference=null,sn.segmentIterator=null,shaka.log.debug(pn,"clearing buffer"),cn?(vn=dn.playerInterface_.getPresentationTime(),Sn=dn.playerInterface_.mediaSourceEngine.getDuration(),En.yield(dn.playerInterface_.mediaSourceEngine.remove(sn.type,vn+cn,Sn),3)):En.yield(dn.playerInterface_.mediaSourceEngine.clear(sn.type),4);if(En.nextAddress!=3)return dn.destroyer_.ensureNotDestroyed(),ln?En.yield(dn.playerInterface_.mediaSourceEngine.flush(sn.type),3):En.jumpTo(3);dn.destroyer_.ensureNotDestroyed(),shaka.log.debug(pn,"cleared buffer"),sn.clearingBuffer=!1,sn.endOfStream=!1,sn.performingUpdate||sn.updateTimer||dn.scheduleUpdate_(sn,0),En.jumpToEnd()})},shaka.media.StreamingEngine.prototype.scheduleUpdate_=function(sn,ln){var cn=this,dn=shaka.media.StreamingEngine.logPrefix_(sn),pn=sn.type;pn!=shaka.util.ManifestParserUtils.ContentType.TEXT||this.mediaStates_.has(pn)?(shaka.log.v2(dn,"updating in "+ln+" seconds"),goog.asserts.assert(sn.updateTimer==null,dn+" did not expect update to be scheduled"),sn.updateTimer=new shaka.util.DelayedTick(function(){var vn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Sn){if(Sn.nextAddress==1)return Sn.setCatchFinallyBlocks(2),Sn.yield(cn.onUpdate_(sn),4);if(Sn.nextAddress!=2)return Sn.leaveTryBlock(0);vn=Sn.enterCatchBlock(),cn.playerInterface_&&cn.playerInterface_.onError(vn),Sn.jumpToEnd()})}).tickAfter(ln)):shaka.log.v1(dn,"Text stream is unloaded. No update is needed.")},shaka.media.StreamingEngine.prototype.cancelUpdate_=function(sn){sn.updateTimer!=null&&(sn.updateTimer.stop(),sn.updateTimer=null)},shaka.media.StreamingEngine.prototype.abortOperations_=function(sn){return $jscomp.asyncExecutePromiseGeneratorProgram(function(ln){return sn.operation?ln.yield(sn.operation.abort(),0):ln.jumpTo(0)})},shaka.media.StreamingEngine.prototype.handleStreamingError_=function(sn){var ln=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cn){if(cn.nextAddress==1)return cn.yield(ln.failureCallbackBackoff_.attempt(),2);ln.destroyer_.ensureNotDestroyed(),ln.playerInterface_.onError(sn),sn.handled||ln.config_.failureCallback(sn),cn.jumpToEnd()})},shaka.media.StreamingEngine.logPrefix_=function(sn){return"("+sn.type+":"+sn.stream.id+")"},shaka.media.StreamingEngine.APPEND_WINDOW_START_FUDGE_=.1,shaka.media.StreamingEngine.APPEND_WINDOW_END_FUDGE_=.01,shaka.media.StreamingEngine.MAX_RUN_AHEAD_SEGMENTS_=1,shaka.routing={},shaka.routing.Node={},shaka.routing.Payload={},shaka.routing.Walker=function(sn,ln,cn){var dn=this;this.implementation_=cn,this.currentlyAt_=sn,this.currentlyWith_=ln,this.waitForWork_=null,this.requests_=[],this.currentStep_=this.currentRoute_=null,this.mainLoopPromise_=Promise.resolve().then(function(){return dn.mainLoop_()}),this.destroyer_=new shaka.util.Destroyer(function(){return dn.doDestroy_()})},shaka.routing.Walker.prototype.getCurrentPayload=function(){return this.currentlyWith_},shaka.routing.Walker.prototype.destroy=function(){return this.destroyer_.destroy()},shaka.routing.Walker.prototype.doDestroy_=function(){var sn=this,ln,cn,dn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(pn){if(pn.nextAddress==1)return sn.currentStep_&&sn.currentStep_.abort(),sn.unblockMainLoop_(),pn.yield(sn.mainLoopPromise_,2);for(sn.currentRoute_&&sn.currentRoute_.listeners.onCancel(),ln=$jscomp.makeIterator(sn.requests_),cn=ln.next();!cn.done;cn=ln.next())dn=cn.value,dn.listeners.onCancel();sn.currentRoute_=null,sn.requests_=[],sn.implementation_=null,pn.jumpToEnd()})},shaka.routing.Walker.prototype.startNewRoute=function(sn){var ln={onStart:function(){},onEnd:function(){},onCancel:function(){},onError:function(cn){},onSkip:function(){},onEnter:function(){}};return this.requests_.push({create:sn,listeners:ln}),this.currentStep_&&this.currentStep_.abort(),this.unblockMainLoop_(),ln},shaka.routing.Walker.prototype.mainLoop_=function(){var sn=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ln){return sn.destroyer_.destroyed()?ln.jumpTo(0):ln.yield(sn.doOneThing_(),1)})},shaka.routing.Walker.prototype.doOneThing_=function(){return this.tryNewRoute_()?Promise.resolve():this.currentRoute_?this.takeNextStep_():(goog.asserts.assert(this.waitForWork_==null,"We should not have a promise yet."),this.implementation_.onIdle(this.currentlyAt_),this.waitForWork_=new shaka.util.PublicPromise)},shaka.routing.Walker.prototype.tryNewRoute_=function(){if(goog.asserts.assert(this.currentStep_==null,"We should never have a current step between taking steps."),this.requests_.length==0||this.currentRoute_&&!this.currentRoute_.interruptible)return!1;this.currentRoute_&&(this.currentRoute_.listeners.onCancel(),this.currentRoute_=null);var sn=this.requests_.shift(),ln=sn.create(this.currentlyWith_);return ln?(sn.listeners.onStart(),this.currentRoute_={node:ln.node,payload:ln.payload,interruptible:ln.interruptible,listeners:sn.listeners}):sn.listeners.onSkip(),!0},shaka.routing.Walker.prototype.takeNextStep_=function(){var sn=this,ln,cn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dn){switch(dn.nextAddress){case 1:return goog.asserts.assert(sn.currentRoute_,"We need a current route to take the next step."),sn.currentlyAt_=sn.implementation_.getNext(sn.currentlyAt_,sn.currentlyWith_,sn.currentRoute_.node,sn.currentRoute_.payload),sn.currentRoute_.listeners.onEnter(sn.currentlyAt_),dn.setCatchFinallyBlocks(2),sn.currentStep_=sn.implementation_.enterNode(sn.currentlyAt_,sn.currentlyWith_,sn.currentRoute_.payload),dn.yield(sn.currentStep_.promise,4);case 4:sn.currentStep_=null,sn.currentlyAt_==sn.currentRoute_.node&&(sn.currentRoute_.listeners.onEnd(),sn.currentRoute_=null),dn.leaveTryBlock(0);break;case 2:return ln=dn.enterCatchBlock(),ln.code==shaka.util.Error.Code.OPERATION_ABORTED?(goog.asserts.assert(sn.currentRoute_.interruptible,"Do not put abortable steps in non-interruptible routes!"),sn.currentRoute_.listeners.onCancel()):sn.currentRoute_.listeners.onError(ln),sn.currentRoute_=null,sn.currentStep_=null,cn=sn,dn.yield(sn.implementation_.handleError(sn.currentlyWith_,ln),5);case 5:cn.currentlyAt_=dn.yieldResult,dn.jumpToEnd()}})},shaka.routing.Walker.prototype.unblockMainLoop_=function(){this.waitForWork_&&(this.waitForWork_.resolve(),this.waitForWork_=null)},shaka.text.Utils=function(){},shaka.text.Utils.flattenPayload_=function(sn){var ln=[],cn=sn.fontWeight>=shaka.text.Cue.fontWeight.BOLD,dn=sn.fontStyle==shaka.text.Cue.fontStyle.ITALIC,pn=sn.textDecoration.includes(shaka.text.Cue.textDecoration.UNDERLINE);return cn&&ln.push("b"),dn&&ln.push("i"),pn&&ln.push("u"),cn=ln.reduce(function(vn,Sn){return vn+"<"+Sn+">"},""),ln=ln.reduceRight(function(vn,Sn){return vn+"</"+Sn+">"},""),sn.lineBreak?`
`:sn.nestedCues.length?sn.nestedCues.map(shaka.text.Utils.flattenPayload_).join(""):cn+sn.payload+ln},shaka.text.Utils.getCuesToFlatten=function(sn,ln){sn=$jscomp.makeIterator(sn);for(var cn=sn.next();!cn.done;cn=sn.next())if(cn=cn.value,cn.isContainer)shaka.text.Utils.getCuesToFlatten(cn.nestedCues,ln);else{var dn=cn.clone();dn.nestedCues=[],dn.payload=shaka.text.Utils.flattenPayload_(cn),ln.push(dn)}return ln},shaka.text.SimpleTextDisplayer=function(sn){this.textTrack_=null;for(var ln=$jscomp.makeIterator(Array.from(sn.textTracks)),cn=ln.next();!cn.done;cn=ln.next())cn=cn.value,cn.mode="disabled",cn.label==shaka.Player.TextTrackLabel&&(this.textTrack_=cn);this.textTrack_||(this.textTrack_=sn.addTextTrack("subtitles",shaka.Player.TextTrackLabel)),this.textTrack_.mode="hidden"},shaka.text.SimpleTextDisplayer.prototype.remove=function(sn,ln){return this.textTrack_?(shaka.text.SimpleTextDisplayer.removeWhere_(this.textTrack_,function(cn){return cn.startTime<ln&&cn.endTime>sn}),!0):!1},shaka.text.SimpleTextDisplayer.prototype.append=function(sn){var ln=shaka.text.Utils.getCuesToFlatten(sn,[]),cn=[];sn=this.textTrack_.cues?Array.from(this.textTrack_.cues):[];var dn={};ln=$jscomp.makeIterator(ln);for(var pn=ln.next();!pn.done;dn={$jscomp$loop$prop$inCue$707:dn.$jscomp$loop$prop$inCue$707},pn=ln.next())dn.$jscomp$loop$prop$inCue$707=pn.value,sn.some(function(vn){return function(Sn){return Sn.startTime==vn.$jscomp$loop$prop$inCue$707.startTime&&Sn.endTime==vn.$jscomp$loop$prop$inCue$707.endTime&&Sn.text==vn.$jscomp$loop$prop$inCue$707.payload}}(dn))||(pn=shaka.text.SimpleTextDisplayer.convertToTextTrackCue_(dn.$jscomp$loop$prop$inCue$707))&&cn.push(pn);for(sn=cn.slice().sort(function(vn,Sn){return vn.startTime!=Sn.startTime?vn.startTime-Sn.startTime:vn.endTime!=Sn.endTime?vn.endTime-Sn.startTime:"line"in VTTCue.prototype?cn.indexOf(Sn)-cn.indexOf(vn):cn.indexOf(vn)-cn.indexOf(Sn)}),sn=$jscomp.makeIterator(sn),dn=sn.next();!dn.done;dn=sn.next())this.textTrack_.addCue(dn.value)},shaka.text.SimpleTextDisplayer.prototype.destroy=function(){return this.textTrack_&&(shaka.text.SimpleTextDisplayer.removeWhere_(this.textTrack_,function(sn){return!0}),this.textTrack_.mode="disabled"),this.textTrack_=null,Promise.resolve()},shaka.text.SimpleTextDisplayer.prototype.isTextVisible=function(){return this.textTrack_.mode=="showing"},shaka.text.SimpleTextDisplayer.prototype.setTextVisibility=function(sn){this.textTrack_.mode=sn?"showing":"hidden"},shaka.text.SimpleTextDisplayer.convertToTextTrackCue_=function(sn){if(sn.startTime>=sn.endTime)return shaka.log.warning("Invalid cue times: "+sn.startTime+" - "+sn.endTime),null;var ln=shaka.text.Cue,cn=new VTTCue(sn.startTime,sn.endTime,sn.payload);cn.lineAlign=sn.lineAlign,cn.positionAlign=sn.positionAlign,sn.size&&(cn.size=sn.size);try{cn.align=sn.textAlign}catch{}return sn.textAlign=="center"&&cn.align!="center"&&(cn.align="middle"),sn.writingMode==ln.writingMode.VERTICAL_LEFT_TO_RIGHT?cn.vertical="lr":sn.writingMode==ln.writingMode.VERTICAL_RIGHT_TO_LEFT&&(cn.vertical="rl"),sn.lineInterpretation==ln.lineInterpretation.PERCENTAGE&&(cn.snapToLines=!1),sn.line!=null&&(cn.line=sn.line),sn.position!=null&&(cn.position=sn.position),cn},shaka.text.SimpleTextDisplayer.removeWhere_=function(sn,ln){var cn=sn.mode,dn=cn=="showing"?"showing":"hidden";sn.mode=dn,goog.asserts.assert(sn.cues,'Cues should be accessible when mode is set to "'+dn+'".'),dn=$jscomp.makeIterator(Array.from(sn.cues));for(var pn=dn.next();!pn.done;pn=dn.next())(pn=pn.value)&&ln(pn)&&sn.removeCue(pn);sn.mode=cn},goog.exportSymbol("shaka.text.SimpleTextDisplayer",shaka.text.SimpleTextDisplayer),goog.exportProperty(shaka.text.SimpleTextDisplayer.prototype,"setTextVisibility",shaka.text.SimpleTextDisplayer.prototype.setTextVisibility),goog.exportProperty(shaka.text.SimpleTextDisplayer.prototype,"isTextVisible",shaka.text.SimpleTextDisplayer.prototype.isTextVisible),goog.exportProperty(shaka.text.SimpleTextDisplayer.prototype,"destroy",shaka.text.SimpleTextDisplayer.prototype.destroy),goog.exportProperty(shaka.text.SimpleTextDisplayer.prototype,"append",shaka.text.SimpleTextDisplayer.prototype.append),goog.exportProperty(shaka.text.SimpleTextDisplayer.prototype,"remove",shaka.text.SimpleTextDisplayer.prototype.remove),shaka.util.Dom=function(){},shaka.util.Dom.createHTMLElement=function(sn){return document.createElement(sn)},shaka.util.Dom.createButton=function(){var sn=document.createElement("button");return sn.setAttribute("type","button"),sn},shaka.util.Dom.asHTMLElement=function(sn){return sn},shaka.util.Dom.asHTMLMediaElement=function(sn){return sn},shaka.util.Dom.getElementByClassName=function(sn,ln){return ln=ln.getElementsByClassName(sn),goog.asserts.assert(ln.length==1,"Should only be one element with class name "+sn),shaka.util.Dom.asHTMLElement(ln[0])},shaka.util.Dom.removeAllChildren=function(sn){for(;sn.firstChild;)sn.removeChild(sn.firstChild)},goog.exportSymbol("shaka.util.Dom",shaka.util.Dom),goog.exportProperty(shaka.util.Dom,"removeAllChildren",shaka.util.Dom.removeAllChildren),shaka.text.UITextDisplayer=function(sn,ln){var cn=this;goog.asserts.assert(ln,"videoContainer should be valid."),this.isTextVisible_=!1,this.cues_=[],this.video_=sn,this.videoContainer_=ln,this.textContainer_=shaka.util.Dom.createHTMLElement("div"),this.textContainer_.classList.add("shaka-text-container"),this.textContainer_.style.textAlign="center",this.textContainer_.style.display="flex",this.textContainer_.style.flexDirection="column",this.textContainer_.style.alignItems="center",this.textContainer_.style.justifyContent="flex-end",this.videoContainer_.appendChild(this.textContainer_),this.captionsTimer_=new shaka.util.Timer(function(){cn.updateCaptions_()}).tickEvery(.25),this.currentCuesMap_=new Map,this.eventManager_=new shaka.util.EventManager,this.eventManager_.listen(document,"fullscreenchange",function(){cn.updateCaptions_(!0)}),this.resizeObserver_=null,"ResizeObserver"in window&&(this.resizeObserver_=new ResizeObserver(function(){cn.updateCaptions_(!0)}),this.resizeObserver_.observe(this.textContainer_)),this.regionElements_=new Map},shaka.text.UITextDisplayer.prototype.append=function(sn){var ln=[].concat($jscomp.arrayFromIterable(this.cues_)),cn={};sn=$jscomp.makeIterator(sn);for(var dn=sn.next();!dn.done;cn={$jscomp$loop$prop$cue$709:cn.$jscomp$loop$prop$cue$709},dn=sn.next())cn.$jscomp$loop$prop$cue$709=dn.value,ln.some(function(pn){return function(vn){return shaka.text.Cue.equal(vn,pn.$jscomp$loop$prop$cue$709)}}(cn))||this.cues_.push(cn.$jscomp$loop$prop$cue$709);this.updateCaptions_()},shaka.text.UITextDisplayer.prototype.destroy=function(){this.videoContainer_.removeChild(this.textContainer_),this.textContainer_=null,this.isTextVisible_=!1,this.cues_=[],this.captionsTimer_&&this.captionsTimer_.stop(),this.currentCuesMap_.clear(),this.eventManager_&&(this.eventManager_.release(),this.eventManager_=null),this.resizeObserver_&&(this.resizeObserver_.disconnect(),this.resizeObserver_=null)},shaka.text.UITextDisplayer.prototype.remove=function(sn,ln){if(!this.textContainer_)return!1;var cn=this.cues_.length;return this.cues_=this.cues_.filter(function(dn){return dn.startTime<sn||dn.endTime>=ln}),this.updateCaptions_(cn>this.cues_.length),!0},shaka.text.UITextDisplayer.prototype.isTextVisible=function(){return this.isTextVisible_},shaka.text.UITextDisplayer.prototype.setTextVisibility=function(sn){this.isTextVisible_=sn},shaka.text.UITextDisplayer.prototype.isElementUnderTextContainer_=function(sn){for(;sn!=null;){if(sn==this.textContainer_)return!0;sn=sn.parentElement}return!1},shaka.text.UITextDisplayer.prototype.updateCuesRecursive_=function(sn,ln,cn,dn){var pn=!1,vn=[],Sn=[];sn=$jscomp.makeIterator(sn);for(var En=sn.next();!En.done;En=sn.next()){En=En.value,dn.push(En);var Cn=this.currentCuesMap_.get(En),Pn=En.startTime<=cn&&En.endTime>cn,Rn=Cn?Cn.wrapper:null;Cn&&(vn.push(Cn.cueElement),Cn.regionElement&&vn.push(Cn.regionElement),Pn||(pn=!0,this.currentCuesMap_.delete(En),Cn=null)),Pn&&(Sn.push(En),Cn?this.isElementUnderTextContainer_(Rn)||(pn=!0):(this.createCue_(En,dn),Cn=this.currentCuesMap_.get(En),Rn=Cn.wrapper,pn=!0)),0<En.nestedCues.length&&Rn&&this.updateCuesRecursive_(En.nestedCues,Rn,cn,dn),Cn=dn.pop(),goog.asserts.assert(Cn==En,"Parent cues should be kept in order")}if(pn){for(cn=$jscomp.makeIterator(vn),dn=cn.next();!dn.done;dn=cn.next())dn=dn.value,dn.parentElement&&dn.parentElement.removeChild(dn);for(Sn.sort(function(Ln,Fn){return Ln.startTime!=Fn.startTime?Ln.startTime-Fn.startTime:Ln.endTime-Fn.endTime}),Sn=$jscomp.makeIterator(Sn),En=Sn.next();!En.done;En=Sn.next())cn=this.currentCuesMap_.get(En.value),goog.asserts.assert(cn,"cueRegistry should exist."),cn.regionElement?(ln.appendChild(cn.regionElement),cn.regionElement.appendChild(cn.cueElement)):ln.appendChild(cn.cueElement)}},shaka.text.UITextDisplayer.prototype.updateCaptions_=function(sn){if(this.textContainer_){var ln=this.video_.currentTime;if(!this.isTextVisible_||sn!==void 0&&sn){sn=$jscomp.makeIterator(this.regionElements_.values());for(var cn=sn.next();!cn.done;cn=sn.next())shaka.util.Dom.removeAllChildren(cn.value);shaka.util.Dom.removeAllChildren(this.textContainer_),this.currentCuesMap_.clear(),this.regionElements_.clear()}if(this.isTextVisible_){sn=new Map,cn=$jscomp.makeIterator(this.currentCuesMap_.keys());for(var dn=cn.next();!dn.done;dn=cn.next())dn=dn.value,sn.set(dn,this.currentCuesMap_.get(dn));if(this.updateCuesRecursive_(this.cues_,this.textContainer_,ln,[]),goog.DEBUG)for(ln=$jscomp.makeIterator(sn.keys()),dn=ln.next();!dn.done;dn=ln.next())cn=dn.value,this.currentCuesMap_.has(cn)||(cn=sn.get(cn).cueElement,goog.asserts.assert(!cn.parentNode,"Cue was not properly removed!"))}}},shaka.text.UITextDisplayer.prototype.generateRegionId_=function(sn){var ln=shaka.text.CueRegion.units.PERCENTAGE;return sn.id+"_"+sn.width+"x"+sn.height+(sn.heightUnits==ln?"%":"px")+"-"+sn.viewportAnchorX+"x"+sn.viewportAnchorY+(sn.viewportAnchorUnits==ln?"%":"px")},shaka.text.UITextDisplayer.prototype.getRegionElement_=function(sn){var ln=sn.region,cn=this.generateRegionId_(ln);if(this.regionElements_.has(cn))return this.regionElements_.get(cn);var dn=shaka.util.Dom.createHTMLElement("span"),pn=shaka.text.CueRegion.units.PERCENTAGE,vn=ln.heightUnits==pn?"%":"px",Sn=ln.widthUnits==pn?"%":"px";return pn=ln.viewportAnchorUnits==pn?"%":"px",dn.id="shaka-text-region---"+cn,dn.classList.add("shaka-text-region"),dn.style.height=ln.height+vn,dn.style.width=ln.width+Sn,dn.style.position="absolute",dn.style.top=ln.viewportAnchorY+pn,dn.style.left=ln.viewportAnchorX+pn,dn.style.display="flex",dn.style.flexDirection="column",dn.style.alignItems="center",dn.style.justifyContent=sn.displayAlign==shaka.text.Cue.displayAlign.BEFORE?"flex-start":sn.displayAlign==shaka.text.Cue.displayAlign.CENTER?"center":"flex-end",this.regionElements_.set(cn,dn),dn},shaka.text.UITextDisplayer.prototype.createCue_=function(sn,ln){var cn=1<ln.length,dn=cn?"span":"div";sn.lineBreak&&(dn="br"),cn=!cn&&0<sn.nestedCues.length;var pn=shaka.util.Dom.createHTMLElement(dn);dn!="br"&&this.setCaptionStyles_(pn,sn,ln,cn),ln=null,sn.region&&sn.region.id&&(ln=this.getRegionElement_(sn)),dn=pn,cn&&(dn=shaka.util.Dom.createHTMLElement("span"),dn.classList.add("shaka-text-wrapper"),dn.style.backgroundColor=sn.backgroundColor,dn.style.lineHeight="normal",pn.appendChild(dn)),this.currentCuesMap_.set(sn,{cueElement:pn,wrapper:dn,regionElement:ln})},shaka.text.UITextDisplayer.prototype.setCaptionStyles_=function(sn,ln,cn,dn){var pn=shaka.text.Cue,vn=sn.style,Sn=ln.nestedCues.length==0,En=1<cn.length;vn.whiteSpace="pre-wrap";var Cn=ln.payload.replace(/\s+$/g,function(Rn){return" ".repeat(Rn.length)});if(vn.webkitTextStrokeColor=ln.textStrokeColor,vn.webkitTextStrokeWidth=ln.textStrokeWidth,vn.color=ln.color,vn.direction=ln.direction,vn.opacity=ln.opacity,vn.paddingLeft=shaka.text.UITextDisplayer.convertLengthValue_(ln.linePadding,ln,this.videoContainer_),vn.paddingRight=shaka.text.UITextDisplayer.convertLengthValue_(ln.linePadding,ln,this.videoContainer_),vn.textShadow=ln.textShadow,ln.backgroundImage)vn.backgroundImage="url('"+ln.backgroundImage+"')",vn.backgroundRepeat="no-repeat",vn.backgroundSize="contain",vn.backgroundPosition="center",vn.width="100%",vn.height="100%";else{if(ln.nestedCues.length)var Pn=sn;else Pn=shaka.util.Dom.createHTMLElement("span"),sn.appendChild(Pn);ln.border&&(Pn.style.border=ln.border),dn||((sn=shaka.text.UITextDisplayer.inheritProperty_(cn,function(Rn){return Rn.backgroundColor}))?Pn.style.backgroundColor=sn:Cn&&(Pn.style.backgroundColor="rgba(0, 0, 0, 0.8)")),Cn&&(Pn.textContent=Cn)}En&&!cn[cn.length-1].isContainer?vn.display="inline":(vn.display="flex",vn.flexDirection="column",vn.alignItems="center",vn.justifyContent=ln.displayAlign==pn.displayAlign.BEFORE?"flex-start":ln.displayAlign==pn.displayAlign.CENTER?"center":"flex-end"),Sn||(vn.margin="0"),vn.fontFamily=ln.fontFamily,vn.fontWeight=ln.fontWeight.toString(),vn.fontStyle=ln.fontStyle,vn.letterSpacing=ln.letterSpacing,vn.fontSize=shaka.text.UITextDisplayer.convertLengthValue_(ln.fontSize,ln,this.videoContainer_),ln.line!=null&&ln.lineInterpretation==pn.lineInterpretation.PERCENTAGE&&(vn.position="absolute",ln.writingMode==pn.writingMode.HORIZONTAL_TOP_TO_BOTTOM?(vn.width="100%",ln.lineAlign==pn.lineAlign.START?vn.top=ln.line+"%":ln.lineAlign==pn.lineAlign.END&&(vn.bottom=100-ln.line+"%")):ln.writingMode==pn.writingMode.VERTICAL_LEFT_TO_RIGHT?(vn.height="100%",ln.lineAlign==pn.lineAlign.START?vn.left=ln.line+"%":ln.lineAlign==pn.lineAlign.END&&(vn.right=100-ln.line+"%")):(vn.height="100%",ln.lineAlign==pn.lineAlign.START?vn.right=ln.line+"%":ln.lineAlign==pn.lineAlign.END&&(vn.left=100-ln.line+"%"))),vn.lineHeight=ln.lineHeight,ln.position!=null&&(ln.writingMode==pn.writingMode.HORIZONTAL_TOP_TO_BOTTOM?vn.paddingLeft=ln.position:vn.paddingTop=ln.position),ln.positionAlign==pn.positionAlign.LEFT?vn.cssFloat="left":ln.positionAlign==pn.positionAlign.RIGHT&&(vn.cssFloat="right"),vn.textAlign=ln.textAlign,vn.textDecoration=ln.textDecoration.join(" "),vn.writingMode=ln.writingMode,"writingMode"in document.documentElement.style&&vn.writingMode==ln.writingMode||(vn.webkitWritingMode=ln.writingMode),ln.size&&(ln.writingMode==pn.writingMode.HORIZONTAL_TOP_TO_BOTTOM?vn.width=ln.size+"%":vn.height=ln.size+"%")},shaka.text.UITextDisplayer.getLengthValueInfo_=function(sn){return(sn=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(sn))?{value:Number(sn[1]),unit:sn[2]}:null},shaka.text.UITextDisplayer.convertLengthValue_=function(sn,ln,cn){var dn=shaka.text.UITextDisplayer.getLengthValueInfo_(sn);if(!dn)return sn;var pn=dn.value;switch(dn.unit){case"%":return shaka.text.UITextDisplayer.getAbsoluteLengthInPixels_(pn/100,ln,cn);case"c":return shaka.text.UITextDisplayer.getAbsoluteLengthInPixels_(pn,ln,cn);default:return sn}},shaka.text.UITextDisplayer.getAbsoluteLengthInPixels_=function(sn,ln,cn){return cn.clientHeight*sn/ln.cellResolution.rows+"px"},shaka.text.UITextDisplayer.inheritProperty_=function(sn,ln){for(var cn=sn.length-1;0<=cn;cn--){var dn=ln(sn[cn]);if(dn||dn===0)return dn}return null},goog.exportSymbol("shaka.text.UITextDisplayer",shaka.text.UITextDisplayer),goog.exportProperty(shaka.text.UITextDisplayer.prototype,"setTextVisibility",shaka.text.UITextDisplayer.prototype.setTextVisibility),goog.exportProperty(shaka.text.UITextDisplayer.prototype,"isTextVisible",shaka.text.UITextDisplayer.prototype.isTextVisible),goog.exportProperty(shaka.text.UITextDisplayer.prototype,"remove",shaka.text.UITextDisplayer.prototype.remove),goog.exportProperty(shaka.text.UITextDisplayer.prototype,"destroy",shaka.text.UITextDisplayer.prototype.destroy),goog.exportProperty(shaka.text.UITextDisplayer.prototype,"append",shaka.text.UITextDisplayer.prototype.append),shaka.text.WebVttGenerator=function(){},shaka.text.WebVttGenerator.convert=function(sn,ln){var cn=function(vn){for(var Sn=vn,En=$jscomp.makeIterator(ln),Cn=En.next();!Cn.done;Cn=En.next())Cn=Cn.value,Cn.end&&Cn.start<vn&&(Sn+=Cn.end-Cn.start);return vn=Math.floor(Sn/3600),En=Math.floor(Sn/60%60),Cn=Math.floor(Sn%60),Sn=Math.floor(1e3*Sn%1e3),(10>vn?"0":"")+vn+":"+(10>En?"0":"")+En+":"+(10>Cn?"0":"")+Cn+"."+(100>Sn?10>Sn?"00":"0":"")+Sn},dn=shaka.text.Utils.getCuesToFlatten(sn,[]);sn=`WEBVTT

`,dn=$jscomp.makeIterator(dn);for(var pn=dn.next();!pn.done;pn=dn.next())pn=pn.value,sn+=cn(pn.startTime)+" --> "+cn(pn.endTime)+function(vn){var Sn=[],En=shaka.text.Cue;switch(vn.textAlign){case En.textAlign.LEFT:Sn.push("align:left");break;case En.textAlign.RIGHT:Sn.push("align:right");break;case En.textAlign.CENTER:Sn.push("align:middle");break;case En.textAlign.START:Sn.push("align:start");break;case En.textAlign.END:Sn.push("align:end")}switch(vn.writingMode){case En.writingMode.VERTICAL_LEFT_TO_RIGHT:Sn.push("vertical:lr");break;case En.writingMode.VERTICAL_RIGHT_TO_LEFT:Sn.push("vertical:rl")}return Sn.length?" "+Sn.join(" "):""}(pn)+`
`,sn+=pn.payload+`

`;return sn},goog.exportSymbol("shaka.text.WebVttGenerator",shaka.text.WebVttGenerator),shaka.util.CmcdManager=function(sn,ln){this.playerInterface_=sn,this.config_=ln,this.sid_="",this.sf_=void 0,this.playbackStarted_=!1,this.buffering_=!0,this.starved_=!1},shaka.util.CmcdManager.prototype.setBuffering=function(sn){sn||this.playbackStarted_||(this.playbackStarted_=!0),this.playbackStarted_&&sn&&(this.starved_=!0),this.buffering_=sn},shaka.util.CmcdManager.prototype.applyManifestData=function(sn,ln){try{this.config_.enabled&&(this.sf_=ln.format,this.apply_(sn,{ot:shaka.util.CmcdManager.ObjectType.MANIFEST,su:!this.playbackStarted_}))}catch(cn){shaka.log.warnOnce("CMCD_MANIFEST_ERROR","Could not generate manifest CMCD data.",cn)}},shaka.util.CmcdManager.prototype.applySegmentData=function(sn,ln){try{if(this.config_.enabled){var cn={d:1e3*ln.duration,st:this.getStreamType_()};cn.ot=this.getObjectType_(ln);var dn=shaka.util.CmcdManager.ObjectType,pn=cn.ot===dn.VIDEO||cn.ot===dn.AUDIO||cn.ot===dn.MUXED||cn.ot===dn.TIMED_TEXT;pn&&(cn.bl=this.getBufferLength_(ln.type)),ln.bandwidth&&(cn.br=ln.bandwidth/1e3),pn&&cn.ot!==dn.TIMED_TEXT&&(cn.tb=this.getTopBandwidth_(cn.ot)/1e3),this.apply_(sn,cn)}}catch(vn){shaka.log.warnOnce("CMCD_SEGMENT_ERROR","Could not generate segment CMCD data.",vn)}},shaka.util.CmcdManager.prototype.applyTextData=function(sn){try{this.config_.enabled&&this.apply_(sn,{ot:shaka.util.CmcdManager.ObjectType.CAPTION,su:!0})}catch(ln){shaka.log.warnOnce("CMCD_TEXT_ERROR","Could not generate text CMCD data.",ln)}},shaka.util.CmcdManager.prototype.appendSrcData=function(sn,ln){try{if(!this.config_.enabled)return sn;var cn=this.createData_();cn.ot=this.getObjectTypeFromMimeType_(ln),cn.su=!0;var dn=shaka.util.CmcdManager.toQuery(cn);return shaka.util.CmcdManager.appendQueryToUri(sn,dn)}catch(pn){return shaka.log.warnOnce("CMCD_SRC_ERROR","Could not generate src CMCD data.",pn),sn}},shaka.util.CmcdManager.prototype.appendTextTrackData=function(sn){try{if(!this.config_.enabled)return sn;var ln=this.createData_();ln.ot=shaka.util.CmcdManager.ObjectType.CAPTION,ln.su=!0;var cn=shaka.util.CmcdManager.toQuery(ln);return shaka.util.CmcdManager.appendQueryToUri(sn,cn)}catch(dn){return shaka.log.warnOnce("CMCD_TEXT_TRACK_ERROR","Could not generate text track CMCD data.",dn),sn}},shaka.util.CmcdManager.prototype.createData_=function(){return this.sid_||(this.sid_=this.config_.sessionId||window.crypto.randomUUID()),{v:shaka.util.CmcdManager.Version,sf:this.sf_,sid:this.sid_,cid:this.config_.contentId,mtp:this.playerInterface_.getBandwidthEstimate()/1e3}},shaka.util.CmcdManager.prototype.apply_=function(sn,ln,cn){if(ln=ln===void 0?{}:ln,cn=cn===void 0?this.config_.useHeaders:cn,this.config_.enabled){Object.assign(ln,this.createData_()),ln.pr=this.playerInterface_.getPlaybackRate();var dn=ln.ot===shaka.util.CmcdManager.ObjectType.VIDEO||ln.ot===shaka.util.CmcdManager.ObjectType.MUXED;if(this.starved_&&dn&&(ln.bs=!0,ln.su=!0,this.starved_=!1),ln.su==null&&(ln.su=this.buffering_),cn)ln=shaka.util.CmcdManager.toHeaders(ln),Object.keys(ln).length&&Object.assign(sn.headers,ln);else{var pn=shaka.util.CmcdManager.toQuery(ln);pn&&(sn.uris=sn.uris.map(function(vn){return shaka.util.CmcdManager.appendQueryToUri(vn,pn)}))}}},shaka.util.CmcdManager.prototype.getObjectType_=function(sn){var ln=sn.type;if(sn.init)return shaka.util.CmcdManager.ObjectType.INIT;if(ln=="video")return sn.codecs.includes(",")?shaka.util.CmcdManager.ObjectType.MUXED:shaka.util.CmcdManager.ObjectType.VIDEO;if(ln=="audio")return shaka.util.CmcdManager.ObjectType.AUDIO;if(ln=="text")return sn.mimeType==="application/mp4"?shaka.util.CmcdManager.ObjectType.TIMED_TEXT:shaka.util.CmcdManager.ObjectType.CAPTION},shaka.util.CmcdManager.prototype.getObjectTypeFromMimeType_=function(sn){switch(sn){case"video/webm":case"video/mp4":return shaka.util.CmcdManager.ObjectType.MUXED;case"application/x-mpegurl":return shaka.util.CmcdManager.ObjectType.MANIFEST}},shaka.util.CmcdManager.prototype.getBufferLength_=function(sn){if(sn=this.playerInterface_.getBufferedInfo()[sn],!sn.length)return NaN;var ln=this.playerInterface_.getCurrentTime();return(sn=sn.find(function(cn){return cn.start<=ln&&cn.end>=ln}))?1e3*(sn.end-ln):NaN},shaka.util.CmcdManager.prototype.getStreamType_=function(){return this.playerInterface_.isLive()?shaka.util.CmcdManager.StreamType.LIVE:shaka.util.CmcdManager.StreamType.VOD},shaka.util.CmcdManager.prototype.getTopBandwidth_=function(sn){var ln=this.playerInterface_.getVariantTracks();if(!ln.length)return NaN;var cn=ln[0];ln=$jscomp.makeIterator(ln);for(var dn=ln.next();!dn.done;dn=ln.next())dn=dn.value,dn.type==="variant"&&dn.bandwidth>cn.bandwidth&&(cn=dn);switch(ln=shaka.util.CmcdManager.ObjectType,sn){case ln.VIDEO:return cn.videoBandwidth||NaN;case ln.AUDIO:return cn.audioBandwidth||NaN;default:return cn.bandwidth}},shaka.util.CmcdManager.serialize=function(sn){var ln=[],cn=function(Rn){return!Number.isNaN(Rn)&&Rn!=null&&Rn!==""&&Rn!==!1},dn=function(Rn){return Math.round(Rn)},pn=function(Rn){return 100*dn(Rn/100)};pn={br:dn,d:dn,bl:pn,dl:pn,mtp:pn,nor:function(Rn){return encodeURIComponent(Rn)},rtp:pn,tb:dn};var vn=Object.keys(sn||{}).sort();vn=$jscomp.makeIterator(vn);for(var Sn=vn.next();!Sn.done;Sn=vn.next()){Sn=Sn.value;var En=sn[Sn];if(cn(En)&&(Sn!=="v"||En!==1)&&(Sn!="pr"||En!==1)){var Cn=pn[Sn];Cn&&(En=Cn(En)),Cn=typeof En;var Pn=void 0;Pn=Cn==="string"&&Sn!=="ot"&&Sn!=="sf"&&Sn!=="st"?Sn+"="+JSON.stringify(En):Cn==="boolean"?Sn:Cn==="symbol"?Sn+"="+En.description:Sn+"="+En,ln.push(Pn)}}return ln.join(",")},shaka.util.CmcdManager.toHeaders=function(sn){var ln=Object.keys(sn),cn={},dn=["Object","Request","Session","Status"],pn=[{},{},{},{}],vn={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};ln=$jscomp.makeIterator(ln);for(var Sn=ln.next();!Sn.done;Sn=ln.next())Sn=Sn.value,pn[vn[Sn]!=null?vn[Sn]:1][Sn]=sn[Sn];for(sn=0;sn<pn.length;sn++)(vn=shaka.util.CmcdManager.serialize(pn[sn]))&&(cn["CMCD-"+dn[sn]]=vn);return cn},shaka.util.CmcdManager.toQuery=function(sn){return shaka.util.CmcdManager.serialize(sn)},shaka.util.CmcdManager.appendQueryToUri=function(sn,ln){return!ln||sn.includes("offline:")?sn:(sn=new goog.Uri(sn),sn.getQueryData().set("CMCD",ln),sn.toString())},shaka.util.CmcdManager.ObjectType={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},shaka.util.CmcdManager.StreamType={VOD:"v",LIVE:"l"},shaka.util.CmcdManager.StreamingFormat={DASH:"d",HLS:"h",SMOOTH:"s",OTHER:"o"},goog.exportSymbol("shaka.util.CmcdManager.StreamingFormat",shaka.util.CmcdManager.StreamingFormat),shaka.util.CmcdManager.Version=1,shaka.util.ConfigUtils=function(){},shaka.util.ConfigUtils.mergeConfigObjects=function(sn,ln,cn,dn,pn){goog.asserts.assert(sn,"Destination config must not be null!");var vn=pn in dn,Sn=!0,En;for(En in ln){var Cn=pn+"."+En,Pn=vn?dn[pn]:cn[En];vn||En in cn?ln[En]===void 0?Pn===void 0||vn?delete sn[En]:sn[En]=shaka.util.ObjectUtils.cloneObject(Pn):Pn.constructor==Object&&ln[En]&&ln[En].constructor==Object?(sn[En]||(sn[En]=shaka.util.ObjectUtils.cloneObject(Pn)),Cn=shaka.util.ConfigUtils.mergeConfigObjects(sn[En],ln[En],Pn,dn,Cn),Sn=Sn&&Cn):typeof ln[En]!=typeof Pn||ln[En]==null||typeof ln[En]!="function"&&ln[En].constructor!=Pn.constructor?(shaka.log.alwaysError("Invalid config, wrong type for "+Cn),Sn=!1):(typeof cn[En]=="function"&&cn[En].length!=ln[En].length&&shaka.log.alwaysWarn("Unexpected number of arguments for "+Cn),sn[En]=ln[En]):(shaka.log.alwaysError("Invalid config, unrecognized key "+Cn),Sn=!1)}return Sn},shaka.util.ConfigUtils.convertToConfigObject=function(sn,ln){for(var cn={},dn=cn,pn=0,vn=0;pn=sn.indexOf(".",pn),!(0>pn);)(pn==0||sn[pn-1]!="\\")&&(vn=sn.substring(vn,pn).replace(/\\\./g,"."),dn[vn]={},dn=dn[vn],vn=pn+1),pn+=1;return dn[sn.substring(vn).replace(/\\\./g,".")]=ln,cn},shaka.util.ConfigUtils.referenceParametersAndReturn=function(sn,ln){return sn&&ln},goog.exportSymbol("shaka.util.ConfigUtils",shaka.util.ConfigUtils),goog.exportProperty(shaka.util.ConfigUtils,"convertToConfigObject",shaka.util.ConfigUtils.convertToConfigObject),goog.exportProperty(shaka.util.ConfigUtils,"mergeConfigObjects",shaka.util.ConfigUtils.mergeConfigObjects),shaka.util.FairPlayUtils=function(){},shaka.util.FairPlayUtils.isFairPlaySupported=function(){var sn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ln){return ln.nextAddress==1?(sn={initDataTypes:["cenc","sinf","skd"],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]},ln.setCatchFinallyBlocks(2),ln.yield(navigator.requestMediaKeySystemAccess("com.apple.fps",[sn]),4)):ln.nextAddress!=2?ln.return(!0):(ln.enterCatchBlock(),ln.return(!1))})},shaka.util.FairPlayUtils.defaultGetContentId=function(sn){return sn=shaka.util.StringUtils.fromBytesAutoDetect(sn),new goog.Uri(sn).getDomain()},shaka.util.FairPlayUtils.initDataTransform=function(sn,ln,cn){if(!cn||!cn.byteLength)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.SERVER_CERTIFICATE_REQUIRED);ln=typeof ln=="string"?shaka.util.StringUtils.toUTF16(ln,!0):ln,sn=shaka.util.StringUtils.fromBytesAutoDetect(sn),sn=shaka.util.StringUtils.toUTF16(sn,!0);var dn=new Uint8Array(12+sn.byteLength+ln.byteLength+cn.byteLength),pn=0,vn=function(Sn){shaka.util.BufferUtils.toDataView(dn).setUint32(pn,Sn.byteLength,!0),pn+=4,dn.set(shaka.util.BufferUtils.toUint8(Sn),pn),pn+=Sn.byteLength};return vn(sn),vn(ln),vn(cn),goog.asserts.assert(pn==dn.length,"Inconsistent init data length"),dn},shaka.util.FairPlayUtils.verimatrixInitDataTransform=function(sn,ln,cn){if(ln!=="skd")return sn;ln=shaka.util.FairPlayUtils,cn=cn.serverCertificate;var dn=shaka.util.StringUtils.fromBytesAutoDetect(sn).split("skd://").pop();return ln.initDataTransform(sn,dn,cn)},shaka.util.FairPlayUtils.ezdrmInitDataTransform=function(sn,ln,cn){if(ln!=="skd")return sn;ln=shaka.util.FairPlayUtils,cn=cn.serverCertificate;var dn=shaka.util.StringUtils.fromBytesAutoDetect(sn).split(";").pop();return ln.initDataTransform(sn,dn,cn)},shaka.util.FairPlayUtils.conaxInitDataTransform=function(sn,ln,cn){if(ln!=="skd")return sn;ln=shaka.util.FairPlayUtils,cn=cn.serverCertificate;var dn=shaka.util.StringUtils.fromBytesAutoDetect(sn).split("skd://").pop().split("?").shift();dn=window.atob(dn);var pn=new ArrayBuffer(2*dn.length);pn=new Uint16Array(pn);for(var vn=0,Sn=dn.length;vn<Sn;vn++)pn[vn]=dn.charCodeAt(vn);return ln.initDataTransform(sn,pn,cn)},shaka.util.FairPlayUtils.verimatrixFairPlayRequest=function(sn,ln){sn===shaka.net.NetworkingEngine.RequestType.LICENSE&&(sn=shaka.util.BufferUtils.toUint8(ln.body),sn=shaka.util.Uint8ArrayUtils.toBase64(sn),ln.headers["Content-Type"]="application/x-www-form-urlencoded",ln.body=shaka.util.StringUtils.toUTF8("spc="+sn))},shaka.util.FairPlayUtils.ezdrmFairPlayRequest=function(sn,ln){sn===shaka.net.NetworkingEngine.RequestType.LICENSE&&(ln.headers["Content-Type"]="application/octet-stream")},shaka.util.FairPlayUtils.conaxFairPlayRequest=function(sn,ln){sn===shaka.net.NetworkingEngine.RequestType.LICENSE&&(ln.headers["Content-Type"]="application/octet-stream")},shaka.util.FairPlayUtils.commonFairPlayResponse=function(sn,ln){if(sn===shaka.net.NetworkingEngine.RequestType.LICENSE){try{var cn=shaka.util.StringUtils.fromUTF8(ln.data)}catch{return}sn=!1,cn=cn.trim(),cn.substr(0,5)==="<ckc>"&&cn.substr(-6)==="</ckc>"&&(cn=cn.slice(5,-6),sn=!0);try{var dn=JSON.parse(cn);dn.ckc&&(cn=dn.ckc,sn=!0),dn.CkcMessage&&(cn=dn.CkcMessage,sn=!0),dn.License&&(cn=dn.License,sn=!0)}catch{}sn&&(ln.data=shaka.util.BufferUtils.toArrayBuffer(shaka.util.Uint8ArrayUtils.fromBase64(cn)))}},goog.exportSymbol("shaka.util.FairPlayUtils",shaka.util.FairPlayUtils),goog.exportProperty(shaka.util.FairPlayUtils,"commonFairPlayResponse",shaka.util.FairPlayUtils.commonFairPlayResponse),goog.exportProperty(shaka.util.FairPlayUtils,"conaxFairPlayRequest",shaka.util.FairPlayUtils.conaxFairPlayRequest),goog.exportProperty(shaka.util.FairPlayUtils,"ezdrmFairPlayRequest",shaka.util.FairPlayUtils.ezdrmFairPlayRequest),goog.exportProperty(shaka.util.FairPlayUtils,"verimatrixFairPlayRequest",shaka.util.FairPlayUtils.verimatrixFairPlayRequest),goog.exportProperty(shaka.util.FairPlayUtils,"conaxInitDataTransform",shaka.util.FairPlayUtils.conaxInitDataTransform),goog.exportProperty(shaka.util.FairPlayUtils,"ezdrmInitDataTransform",shaka.util.FairPlayUtils.ezdrmInitDataTransform),goog.exportProperty(shaka.util.FairPlayUtils,"verimatrixInitDataTransform",shaka.util.FairPlayUtils.verimatrixInitDataTransform),goog.exportProperty(shaka.util.FairPlayUtils,"initDataTransform",shaka.util.FairPlayUtils.initDataTransform),goog.exportProperty(shaka.util.FairPlayUtils,"defaultGetContentId",shaka.util.FairPlayUtils.defaultGetContentId),goog.exportProperty(shaka.util.FairPlayUtils,"isFairPlaySupported",shaka.util.FairPlayUtils.isFairPlaySupported),shaka.util.PlayerConfiguration=function(){},shaka.util.PlayerConfiguration.createDefault=function(){var sn=1/0;navigator.connection&&navigator.connection.saveData&&(sn=360);var ln={retryParameters:shaka.net.NetworkingEngine.defaultRetryParameters(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,initDataTransform:function(Sn,En,Cn){return Cn.keySystem=="com.apple.fps.1_0"&&En=="skd"&&(En=Cn.serverCertificate,Cn=shaka.util.FairPlayUtils.defaultGetContentId(Sn),Sn=shaka.util.FairPlayUtils.initDataTransform(Sn,Cn,En)),Sn},logLicenseExchange:!1,updateExpirationTime:1,preferredKeySystems:[],keySystemsMapping:{},parseInbandPsshEnabled:shaka.util.Platform.isXboxOne()},cn={retryParameters:shaka.net.NetworkingEngine.defaultRetryParameters(),availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,defaultPresentationDelay:0,segmentRelativeVttTiming:!1,dash:{clockSyncUri:"",ignoreDrmInfo:!1,disableXlinkProcessing:!1,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},manifestPreprocessor:function(Sn){return shaka.util.ConfigUtils.referenceParametersAndReturn([Sn],Sn)},sequenceMode:!1},hls:{ignoreTextStreamFailures:!1,ignoreImageStreamFailures:!1,defaultAudioCodec:"mp4a.40.2",defaultVideoCodec:"avc1.42E01E",ignoreManifestProgramDateTime:!1,mediaPlaylistFullMimeType:'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"',useSafariBehaviorForLive:!0,liveSegmentsDelay:3}},dn={retryParameters:shaka.net.NetworkingEngine.defaultRetryParameters(),failureCallback:function(Sn){return shaka.log.error("Unhandled streaming error",Sn),shaka.util.ConfigUtils.referenceParametersAndReturn([Sn],void 0)},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.5,durationBackoff:1,forceTransmux:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1,autoLowLatencyMode:!1,forceHTTPS:!1,preferNativeHls:!1,updateIntervalSeconds:1,dispatchAllEmsgBoxes:!1,observeQualityChanges:!1,maxDisabledTime:30,parsePrftBox:!1};(shaka.util.Platform.isWebOS()||shaka.util.Platform.isTizen()||shaka.util.Platform.isChromecast())&&(dn.stallSkip=0);var pn={trackSelectionCallback:function(Sn){return $jscomp.asyncExecutePromiseGeneratorProgram(function(En){return En.return(Sn)})},downloadSizeCallback:function(Sn){var En;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Cn){return Cn.nextAddress==1?navigator.storage&&navigator.storage.estimate?Cn.yield(navigator.storage.estimate(),3):Cn.return(!0):(En=Cn.yieldResult,Cn.return(En.usage+Sn<.95*En.quota))})},progressCallback:function(Sn,En){return shaka.util.ConfigUtils.referenceParametersAndReturn([Sn,En],void 0)},usePersistentLicense:!0,numberOfParallelDownloads:5},vn={drm:ln,manifest:cn,streaming:dn,mediaSource:{sourceBufferExtraFeatures:""},offline:pn,abrFactory:function(){return new shaka.abr.SimpleAbrManager},abr:{enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:sn,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},advanced:{minTotalBytes:128e3,minBytes:16e3,fastHalfLife:2,slowHalfLife:5},restrictToElementSize:!1,restrictToScreenSize:!1,ignoreDevicePixelRatio:!1},autoShowText:shaka.config.AutoShowText.IF_SUBTITLES_MAY_BE_NEEDED,preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredVideoCodecs:[],preferredAudioCodecs:[],preferForcedSubs:!1,preferredDecodingAttributes:[],restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null},cmcd:{enabled:!1,sessionId:"",contentId:"",useHeaders:!1},lcevc:{enabled:!1,dynamicPerformanceScaling:!0,logLevel:0,drawLogo:!1}};return pn.trackSelectionCallback=function(Sn){return $jscomp.asyncExecutePromiseGeneratorProgram(function(En){return En.return(shaka.util.PlayerConfiguration.defaultTrackSelect(Sn,vn.preferredAudioLanguage))})},vn},shaka.util.PlayerConfiguration.mergeConfigObjects=function(sn,ln,cn){var dn={".drm.keySystemsMapping":"",".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",sessionType:"",serverCertificate:new Uint8Array(0),serverCertificateUri:"",individualizationServer:""}};return shaka.util.ConfigUtils.mergeConfigObjects(sn,ln,cn||shaka.util.PlayerConfiguration.createDefault(),dn,"")},shaka.util.PlayerConfiguration.defaultTrackSelect=function(sn,ln){var cn=shaka.util.ManifestParserUtils.ContentType,dn=shaka.util.LanguageUtils,pn=sn.filter(function(Cn){return Cn.type=="variant"}),vn=[],Sn=dn.findClosestLocale(ln,pn.map(function(Cn){return Cn.language}));Sn&&(vn=pn.filter(function(Cn){return dn.normalize(Cn.language)==Sn})),vn.length==0&&(vn=pn.filter(function(Cn){return Cn.primary})),vn.length==0&&(1<new Set(pn.map(function(Cn){return Cn.language})).size&&shaka.log.warning("Could not choose a good audio track based on language preferences or primary tracks.  An arbitrary language will be stored!"),vn=pn);var En=vn.filter(function(Cn){return Cn.height&&480>=Cn.height});for(En.length&&(En.sort(function(Cn,Pn){return goog.asserts.assert(Cn.height!=null,"Null height"),goog.asserts.assert(Pn.height!=null,"Null height"),Pn.height-Cn.height}),vn=En.filter(function(Cn){return Cn.height==En[0].height})),ln=[],vn.length&&(pn=Math.floor(vn.length/2),vn.sort(function(Cn,Pn){return Cn.bandwidth-Pn.bandwidth}),ln.push(vn[pn])),sn=$jscomp.makeIterator(sn),vn=sn.next();!vn.done;vn=sn.next())vn=vn.value,vn.type!=cn.TEXT&&vn.type!=cn.IMAGE||ln.push(vn);return ln},goog.exportSymbol("shaka.util.PlayerConfiguration",shaka.util.PlayerConfiguration),goog.exportProperty(shaka.util.PlayerConfiguration,"mergeConfigObjects",shaka.util.PlayerConfiguration.mergeConfigObjects),goog.exportProperty(shaka.util.PlayerConfiguration,"createDefault",shaka.util.PlayerConfiguration.createDefault),shaka.util.StateHistory=function(){this.open_=null,this.closed_=[]},shaka.util.StateHistory.prototype.update=function(sn){this.open_==null?this.start_(sn):this.update_(sn)},shaka.util.StateHistory.prototype.getTimeSpentIn=function(sn){var ln=0;this.open_&&this.open_.state==sn&&(ln+=this.open_.duration);for(var cn=$jscomp.makeIterator(this.closed_),dn=cn.next();!dn.done;dn=cn.next())dn=dn.value,ln+=dn.state==sn?dn.duration:0;return ln},shaka.util.StateHistory.prototype.getCopy=function(){for(var sn=function(pn){return{timestamp:pn.timestamp,state:pn.state,duration:pn.duration}},ln=[],cn=$jscomp.makeIterator(this.closed_),dn=cn.next();!dn.done;dn=cn.next())ln.push(sn(dn.value));return this.open_&&ln.push(sn(this.open_)),ln},shaka.util.StateHistory.prototype.start_=function(sn){goog.asserts.assert(this.open_==null,"There must be no open entry in order when we start"),shaka.log.v1("Changing Player state to",sn),this.open_={timestamp:this.getNowInSeconds_(),state:sn,duration:0}},shaka.util.StateHistory.prototype.update_=function(sn){goog.asserts.assert(this.open_,"There must be an open entry in order to update it");var ln=this.getNowInSeconds_();this.open_.duration=ln-this.open_.timestamp,this.open_.state!=sn&&(shaka.log.v1("Changing Player state to",sn),this.closed_.push(this.open_),this.open_={timestamp:ln,state:sn,duration:0})},shaka.util.StateHistory.prototype.getNowInSeconds_=function(){return Date.now()/1e3},shaka.util.SwitchHistory=function(){this.currentText_=this.currentVariant_=null,this.history_=[]},shaka.util.SwitchHistory.prototype.updateCurrentVariant=function(sn,ln){this.currentVariant_!=sn&&(this.currentVariant_=sn,this.history_.push({timestamp:this.getNowInSeconds_(),id:sn.id,type:"variant",fromAdaptation:ln,bandwidth:sn.bandwidth}))},shaka.util.SwitchHistory.prototype.updateCurrentText=function(sn,ln){this.currentText_!=sn&&(this.currentText_=sn,this.history_.push({timestamp:this.getNowInSeconds_(),id:sn.id,type:"text",fromAdaptation:ln,bandwidth:null}))},shaka.util.SwitchHistory.prototype.getCopy=function(){for(var sn=[],ln=$jscomp.makeIterator(this.history_),cn=ln.next();!cn.done;cn=ln.next())sn.push(this.clone_(cn.value));return sn},shaka.util.SwitchHistory.prototype.getNowInSeconds_=function(){return Date.now()/1e3},shaka.util.SwitchHistory.prototype.clone_=function(sn){return{timestamp:sn.timestamp,id:sn.id,type:sn.type,fromAdaptation:sn.fromAdaptation,bandwidth:sn.bandwidth}},shaka.util.Stats=function(){this.bandwidthEstimate_=this.currentStreamBandwidth_=this.maxSegmentDurationSeconds_=this.liveLatencySeconds_=this.licenseTimeSeconds_=this.drmTimeSeconds_=this.manifestTimeSeconds_=this.loadLatencySeconds_=this.completionPercent_=this.totalGapsJumped_=this.totalStallsDetected_=this.totalCorruptedFrames_=this.totalDecodedFrames_=this.totalDroppedFrames_=this.height_=this.width_=NaN,this.stateHistory_=new shaka.util.StateHistory,this.switchHistory_=new shaka.util.SwitchHistory},shaka.util.Stats.prototype.setDroppedFrames=function(sn,ln){this.totalDroppedFrames_=sn,this.totalDecodedFrames_=ln},shaka.util.Stats.prototype.setCorruptedFrames=function(sn){this.totalCorruptedFrames_=sn},shaka.util.Stats.prototype.setStallsDetected=function(sn){this.totalStallsDetected_=sn},shaka.util.Stats.prototype.setGapsJumped=function(sn){this.totalGapsJumped_=sn},shaka.util.Stats.prototype.setResolution=function(sn,ln){this.width_=sn,this.height_=ln},shaka.util.Stats.prototype.setLoadLatency=function(sn){this.loadLatencySeconds_=sn},shaka.util.Stats.prototype.setManifestTime=function(sn){this.manifestTimeSeconds_=sn},shaka.util.Stats.prototype.setCompletionPercent=function(sn){isNaN(this.completionPercent_)?this.completionPercent_=sn:this.completionPercent_=Math.max(this.completionPercent_,sn)},shaka.util.Stats.prototype.setDrmTime=function(sn){this.drmTimeSeconds_=sn},shaka.util.Stats.prototype.setLicenseTime=function(sn){this.licenseTimeSeconds_=sn},shaka.util.Stats.prototype.setLiveLatency=function(sn){this.liveLatencySeconds_=sn},shaka.util.Stats.prototype.setMaxSegmentDuration=function(sn){this.maxSegmentDurationSeconds_=sn},shaka.util.Stats.prototype.setCurrentStreamBandwidth=function(sn){this.currentStreamBandwidth_=sn},shaka.util.Stats.prototype.setBandwidthEstimate=function(sn){this.bandwidthEstimate_=sn},shaka.util.Stats.prototype.getStateHistory=function(){return this.stateHistory_},shaka.util.Stats.prototype.getSwitchHistory=function(){return this.switchHistory_},shaka.util.Stats.prototype.getBlob=function(){return{width:this.width_,height:this.height_,streamBandwidth:this.currentStreamBandwidth_,decodedFrames:this.totalDecodedFrames_,droppedFrames:this.totalDroppedFrames_,corruptedFrames:this.totalCorruptedFrames_,stallsDetected:this.totalStallsDetected_,gapsJumped:this.totalGapsJumped_,estimatedBandwidth:this.bandwidthEstimate_,completionPercent:this.completionPercent_,loadLatency:this.loadLatencySeconds_,manifestTimeSeconds:this.manifestTimeSeconds_,drmTimeSeconds:this.drmTimeSeconds_,playTime:this.stateHistory_.getTimeSpentIn("playing"),pauseTime:this.stateHistory_.getTimeSpentIn("paused"),bufferingTime:this.stateHistory_.getTimeSpentIn("buffering"),licenseTime:this.licenseTimeSeconds_,liveLatency:this.liveLatencySeconds_,maxSegmentDuration:this.maxSegmentDurationSeconds_,stateHistory:this.stateHistory_.getCopy(),switchHistory:this.switchHistory_.getCopy()}},shaka.util.Stats.getEmptyBlob=function(){return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,stallsDetected:NaN,gapsJumped:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,switchHistory:[],stateHistory:[]}},shaka.Player=function(sn,ln){shaka.util.FakeEventTarget.call(this);var cn=this;this.loadMode_=shaka.Player.LoadMode.NOT_LOADED,this.videoContainer_=this.video_=null,this.isTextVisible_=!1,this.globalEventManager_=new shaka.util.EventManager,this.attachEventManager_=new shaka.util.EventManager,this.loadEventManager_=new shaka.util.EventManager,this.assetUri_=this.manifest_=this.parserFactory_=this.parser_=this.streamingEngine_=this.qualityObserver_=this.lcevcDil_=this.lcevcCanvas_=this.cmcdManager_=this.regionTimeline_=this.bufferObserver_=this.bufferPoller_=this.playRateController_=this.playheadObservers_=this.playhead_=this.mediaSourceEngine_=this.drmEngine_=this.networkingEngine_=null,this.fullyLoaded_=!1,this.abrManagerFactory_=this.abrManager_=null,this.nextExternalStreamId_=1e9,this.config_=this.defaultConfig_(),this.maxHwRes_={width:1/0,height:1/0},this.stats_=null,this.currentAdaptationSetCriteria_=new shaka.media.PreferenceBasedCriteria(this.config_.preferredAudioLanguage,this.config_.preferredVariantRole,this.config_.preferredAudioChannelCount),this.currentTextLanguage_=this.config_.preferredTextLanguage,this.currentTextRole_=this.config_.preferredTextRole,this.currentTextForced_=this.config_.preferForcedSubs,this.cleanupOnUnload_=[],this.updatedStartTime_=null,ln&&ln(this),this.networkingEngine_=this.createNetworkingEngine(),this.networkingEngine_.setForceHTTPS(this.config_.streaming.forceHTTPS),this.adManager_=null,shaka.Player.adManagerFactory_&&(this.adManager_=shaka.Player.adManagerFactory_()),this.globalEventManager_.listen(window,"online",function(){cn.retryStreaming()}),this.detachNode_={name:"detach"},this.attachNode_={name:"attach"},this.unloadNode_={name:"unload"},this.parserNode_={name:"manifest-parser"},this.manifestNode_={name:"manifest"},this.mediaSourceNode_={name:"media-source"},this.drmNode_={name:"drm-engine"},this.loadNode_={name:"load"},this.srcEqualsDrmNode_={name:"src-equals-drm-engine"},this.srcEqualsNode_={name:"src-equals"};var dn=shaka.util.AbortableOperation,pn=new Map;pn.set(this.attachNode_,function(vn,Sn){return dn.notAbortable(cn.onAttach_(vn,Sn))}),pn.set(this.detachNode_,function(vn,Sn){return dn.notAbortable(cn.onDetach_(vn,Sn))}),pn.set(this.unloadNode_,function(vn,Sn){return dn.notAbortable(cn.onUnload_(vn,Sn))}),pn.set(this.mediaSourceNode_,function(vn,Sn){return vn=cn.onInitializeMediaSourceEngine_(vn,Sn),dn.notAbortable(vn)}),pn.set(this.parserNode_,function(vn,Sn){return vn=cn.onInitializeParser_(vn,Sn),dn.notAbortable(vn)}),pn.set(this.manifestNode_,function(vn,Sn){return cn.onParseManifest_(vn,Sn)}),pn.set(this.drmNode_,function(vn,Sn){return vn=cn.onInitializeDrm_(vn,Sn),dn.notAbortable(vn)}),pn.set(this.loadNode_,function(vn,Sn){return dn.notAbortable(cn.onLoad_(vn,Sn))}),pn.set(this.srcEqualsDrmNode_,function(vn,Sn){return vn=cn.onInitializeSrcEqualsDrm_(vn,Sn),dn.notAbortable(vn)}),pn.set(this.srcEqualsNode_,function(vn,Sn){return cn.onSrcEquals_(vn,Sn)}),this.walker_=new shaka.routing.Walker(this.detachNode_,shaka.Player.createEmptyPayload_(),{getNext:function(vn,Sn,En,Cn){return cn.getNextStep_(vn,Sn,En,Cn)},enterNode:function(vn,Sn,En){return cn.dispatchEvent(cn.makeEvent_(shaka.util.FakeEvent.EventName.OnStateChange,new Map().set("state",vn.name))),pn.get(vn)(Sn,En)},handleError:function(vn,Sn){return $jscomp.asyncExecutePromiseGeneratorProgram(function(En){return En.nextAddress==1?(shaka.log.warning("The walker saw an error:"),Sn instanceof shaka.util.Error?shaka.log.warning("Error Code:",Sn.code):(shaka.log.warning("Error Message:",Sn.message),shaka.log.warning("Error Stack:",Sn.stack)),En.yield(cn.onUnload_(vn,shaka.Player.createEmptyPayload_()),2)):En.return(vn.mediaElement?cn.attachNode_:cn.detachNode_)})},onIdle:function(vn){cn.dispatchEvent(cn.makeEvent_(shaka.util.FakeEvent.EventName.OnStateIdle,new Map().set("state",vn.name)))}}),this.checkVariantsTimer_=new shaka.util.Timer(function(){return cn.checkVariants_()}),sn&&this.attach(sn,!0)},$jscomp.inherits(shaka.Player,shaka.util.FakeEventTarget),shaka.Player.prototype.createLcevcDil_=function(sn){this.lcevcDil_==null&&(this.lcevcDil_=new shaka.lcevc.Dil(this.video_,this.lcevcCanvas_,sn),this.mediaSourceEngine_&&this.mediaSourceEngine_.updateLcevcDil(this.lcevcDil_))},shaka.Player.prototype.closeLcevcDil_=function(){this.lcevcDil_!=null&&(this.lcevcDil_.release(),this.lcevcDil_=null)},shaka.Player.prototype.setupLcevc_=function(sn){if(sn.lcevc.enabled){var ln=this.getVariantTracks();ln&&ln[0]&&ln[0].videoMimeType==shaka.Player.SRC_EQUAL_EXTENSIONS_TO_MIME_TYPES_.ts&&(shaka.util.Platform.isEdge()||shaka.util.Platform.isLegacyEdge())&&(sn.streaming.forceTransmux||shaka.log.alwaysWarn("LCEVC Warning: For MPEG-2 TS decoding the config.streaming.forceTransmux must be enabled.")),this.closeLcevcDil_(),this.createLcevcDil_(sn.lcevc)}else this.closeLcevcDil_()},shaka.Player.prototype.makeEvent_=function(sn,ln){return new shaka.util.FakeEvent(sn,ln)},shaka.Player.prototype.destroy=function(){var sn=this,ln;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cn){switch(cn.nextAddress){case 1:return sn.loadMode_==shaka.Player.LoadMode.DESTROYED?cn.return():(sn.closeLcevcDil_(),sn.loadMode_=shaka.Player.LoadMode.DESTROYED,ln=sn.walker_.startNewRoute(function(dn){return{node:sn.detachNode_,payload:shaka.Player.createEmptyPayload_(),interruptible:!1}}),cn.yield(new Promise(function(dn){ln.onStart=function(){shaka.log.info("Preparing to destroy walker...")},ln.onEnd=function(){dn()},ln.onCancel=function(){goog.asserts.assert(!1,"Our final detach call should never be cancelled."),dn()},ln.onError=function(){goog.asserts.assert(!1,"Our final detach call should never see an error"),dn()},ln.onSkip=function(){goog.asserts.assert(!1,"Our final detach call should never be skipped"),dn()}}),2));case 2:return cn.yield(sn.walker_.destroy(),3);case 3:if(sn.globalEventManager_&&(sn.globalEventManager_.release(),sn.globalEventManager_=null),sn.attachEventManager_&&(sn.attachEventManager_.release(),sn.attachEventManager_=null),sn.loadEventManager_&&(sn.loadEventManager_.release(),sn.loadEventManager_=null),sn.abrManagerFactory_=null,sn.config_=null,sn.stats_=null,sn.videoContainer_=null,sn.cmcdManager_=null,!sn.networkingEngine_){cn.jumpTo(4);break}return cn.yield(sn.networkingEngine_.destroy(),5);case 5:sn.networkingEngine_=null;case 4:sn.abrManager_&&(sn.abrManager_.release(),sn.abrManager_=null),shaka.util.FakeEventTarget.prototype.release.call(sn),cn.jumpToEnd()}})},shaka.Player.registerSupportPlugin=function(sn,ln){shaka.Player.supportPlugins_[sn]=ln},shaka.Player.setAdManagerFactory=function(sn){shaka.Player.adManagerFactory_=sn},shaka.Player.isBrowserSupported=function(){if(window.Promise||shaka.log.alwaysWarn("A Promise implementation or polyfill is required"),!(window.Promise&&window.Uint8Array&&Array.prototype.forEach)||shaka.util.Platform.isIE())return!1;var sn=shaka.util.Platform.safariVersion();return sn&&13>sn||!shaka.media.DrmEngine.isBrowserSupported()?!1:shaka.util.Platform.supportsMediaSource()?!0:shaka.util.Platform.supportsMediaType("application/x-mpegurl")},shaka.Player.probeSupport=function(sn){sn=sn===void 0?!0:sn;var ln,cn,dn,pn,vn,Sn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(En){if(En.nextAddress==1)return goog.asserts.assert(shaka.Player.isBrowserSupported(),"Must have basic support"),ln={},sn?En.yield(shaka.media.DrmEngine.probeSupport(),3):En.jumpTo(2);En.nextAddress!=2&&(ln=En.yieldResult),cn=shaka.media.ManifestParser.probeSupport(),dn=shaka.media.MediaSourceEngine.probeSupport(),pn={manifest:cn,media:dn,drm:ln},vn=shaka.Player.supportPlugins_;for(Sn in vn)pn[Sn]=vn[Sn]();return En.return(pn)})},shaka.Player.prototype.attach=function(sn,ln){if(ln=ln===void 0?!0:ln,this.loadMode_==shaka.Player.LoadMode.DESTROYED)return Promise.reject(this.createAbortLoadError_());var cn=shaka.Player.createEmptyPayload_();cn.mediaElement=sn,shaka.util.Platform.supportsMediaSource()||(ln=!1);var dn=ln?this.mediaSourceNode_:this.attachNode_;return sn=this.walker_.startNewRoute(function(pn){return{node:dn,payload:cn,interruptible:!1}}),sn.onStart=function(){return shaka.log.info("Starting attach...")},this.wrapWalkerListenersWithPromise_(sn)},shaka.Player.prototype.attachCanvas=function(sn){this.lcevcCanvas_=sn},shaka.Player.prototype.detach=function(){var sn=this;if(this.loadMode_==shaka.Player.LoadMode.DESTROYED)return Promise.reject(this.createAbortLoadError_());var ln=this.walker_.startNewRoute(function(cn){return{node:sn.detachNode_,payload:shaka.Player.createEmptyPayload_(),interruptible:!1}});return ln.onStart=function(){return shaka.log.info("Starting detach...")},this.wrapWalkerListenersWithPromise_(ln)},shaka.Player.prototype.unload=function(sn){var ln=this;if(sn=sn===void 0?!0:sn,this.loadMode_==shaka.Player.LoadMode.DESTROYED)return Promise.reject(this.createAbortLoadError_());this.fullyLoaded_=!1,shaka.util.Platform.supportsMediaSource()||(sn=!1),this.closeLcevcDil_();var cn=shaka.Player.createEmptyPayload_(),dn=this.walker_.startNewRoute(function(pn){var vn=pn.mediaElement&&sn?ln.mediaSourceNode_:pn.mediaElement?ln.attachNode_:ln.detachNode_;return goog.asserts.assert(vn,"We should have picked a destination."),cn.mediaElement=pn.mediaElement,{node:vn,payload:cn,interruptible:!1}});return dn.onStart=function(){return shaka.log.info("Starting unload...")},this.wrapWalkerListenersWithPromise_(dn)},shaka.Player.prototype.updateStartTime=function(sn){this.updatedStartTime_=sn},shaka.Player.prototype.load=function(sn,ln,cn){var dn=this;if(this.updatedStartTime_=null,this.fullyLoaded_=!1,this.loadMode_==shaka.Player.LoadMode.DESTROYED)return Promise.reject(this.createAbortLoadError_());this.dispatchEvent(this.makeEvent_(shaka.util.FakeEvent.EventName.Loading));var pn=shaka.Player.createEmptyPayload_();pn.uri=sn,pn.startTimeOfLoad=Date.now()/1e3,cn&&(pn.mimeType=cn),ln!==void 0&&(pn.startTime=ln);var vn=this.shouldUseSrcEquals_(pn)?this.srcEqualsNode_:this.loadNode_,Sn=this.walker_.startNewRoute(function(En){return En.mediaElement==null?null:(pn.mediaElement=En.mediaElement,{node:vn,payload:pn,interruptible:!0})});return this.stats_=new shaka.util.Stats,this.cmcdManager_=this.createCmcd_(),Sn.onStart=function(){return shaka.log.info("Starting load of "+sn+"...")},new Promise(function(En,Cn){Sn.onSkip=function(){return Cn(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.NO_VIDEO_ELEMENT))},Sn.onEnd=function(){En(),dn.dispatchEvent(dn.makeEvent_(shaka.util.FakeEvent.EventName.Loaded))},Sn.onCancel=function(){return Cn(dn.createAbortLoadError_())},Sn.onError=function(Pn){return Cn(Pn)}})},shaka.Player.prototype.shouldUseSrcEquals_=function(sn){var ln=shaka.util.Platform,cn=shaka.util.MimeUtils;if(!ln.supportsMediaSource())return!0;var dn=sn.mimeType,pn=sn.uri||"";if(dn||(dn=shaka.media.ManifestParser.getExtension(pn),dn=shaka.Player.SRC_EQUAL_EXTENSIONS_TO_MIME_TYPES_[dn]),dn){if(sn=(sn.mediaElement||ln.anyMediaElement()).canPlayType(dn)!="",!sn)return!1;if(pn=shaka.media.ManifestParser.isSupported(pn,dn),!pn||(goog.asserts.assert(sn&&pn,"Both native and MSE playback should be possible!"),cn.isHlsType(dn)&&this.config_.streaming.preferNativeHls))return!0;if(ln.isApple())return this.config_.streaming.useNativeHlsOnSafari}return!1},shaka.Player.prototype.onAttach_=function(sn,ln){var cn=this;return goog.asserts.assert(sn.mediaElement==null||sn.mediaElement==ln.mediaElement,"The routing logic failed. MediaElement requirement failed."),sn.mediaElement==null&&(sn.mediaElement=ln.mediaElement,this.attachEventManager_.listen(sn.mediaElement,"error",function(dn){return cn.onVideoError_(dn)})),this.video_=sn.mediaElement,Promise.resolve()},shaka.Player.prototype.onDetach_=function(sn,ln){return sn.mediaElement&&(this.attachEventManager_.removeAll(),sn.mediaElement=null),this.adManager_&&this.adManager_.release(),this.video_=null,Promise.resolve()},shaka.Player.prototype.onUnload_=function(sn,ln){var cn=this,dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Fn){switch(Fn.nextAddress){case 1:return cn.loadMode_!=shaka.Player.LoadMode.DESTROYED&&(cn.loadMode_=shaka.Player.LoadMode.NOT_LOADED),dn=cn.cleanupOnUnload_.map(function(Gn){return Gn()}),cn.cleanupOnUnload_=[],Fn.yield(Promise.all(dn),2);case 2:if(cn.dispatchEvent(cn.makeEvent_(shaka.util.FakeEvent.EventName.Unloading)),sn.mimeType=null,sn.startTime=null,sn.uri=null,cn.regionTimeline_&&(cn.regionTimeline_.release(),cn.regionTimeline_=null),sn.mediaElement&&cn.loadEventManager_.removeAll(),cn.checkVariantsTimer_.stop(),cn.playheadObservers_&&(cn.playheadObservers_.release(),cn.playheadObservers_=null),cn.bufferPoller_&&(cn.bufferPoller_.stop(),cn.bufferPoller_=null),!cn.parser_){Fn.jumpTo(3);break}return Fn.yield(cn.parser_.stop(),4);case 4:cn.parser_=null,cn.parserFactory_=null;case 3:if(!cn.abrManager_){Fn.jumpTo(5);break}return Fn.yield(cn.abrManager_.stop(),5);case 5:if(!cn.streamingEngine_){Fn.jumpTo(7);break}return Fn.yield(cn.streamingEngine_.destroy(),8);case 8:cn.streamingEngine_=null;case 7:if(cn.playRateController_&&(cn.playRateController_.release(),cn.playRateController_=null),cn.playhead_&&(cn.playhead_.release(),cn.playhead_=null),!cn.mediaSourceEngine_){Fn.jumpTo(9);break}return Fn.yield(cn.mediaSourceEngine_.destroy(),10);case 10:cn.mediaSourceEngine_=null;case 9:if(cn.adManager_&&cn.adManager_.onAssetUnload(),!sn.mediaElement||!sn.mediaElement.src){Fn.jumpTo(11);break}return Fn.yield(new Promise(function(Gn){return new shaka.util.Timer(Gn).tickAfter(.1)}),12);case 12:for(sn.mediaElement.removeAttribute("src"),sn.mediaElement.load();sn.mediaElement.lastChild;)sn.mediaElement.removeChild(sn.mediaElement.firstChild);case 11:if(!cn.drmEngine_){Fn.jumpTo(13);break}return Fn.yield(cn.drmEngine_.destroy(),14);case 14:cn.drmEngine_=null;case 13:if(cn.assetUri_=null,cn.bufferObserver_=null,cn.manifest_){for(pn=$jscomp.makeIterator(cn.manifest_.variants),vn=pn.next();!vn.done;vn=pn.next())for(Sn=vn.value,En=$jscomp.makeIterator([Sn.audio,Sn.video]),Cn=En.next();!Cn.done;Cn=En.next())(Pn=Cn.value)&&Pn.segmentIndex&&Pn.segmentIndex.release();for(Rn=$jscomp.makeIterator(cn.manifest_.textStreams),Cn=Rn.next();!Cn.done;Cn=Rn.next())Ln=Cn.value,Ln.segmentIndex&&Ln.segmentIndex.release()}cn.manifest_=null,cn.stats_=new shaka.util.Stats,cn.lastTextFactory_=null,cn.updateBufferState_(),Fn.jumpToEnd()}})},shaka.Player.prototype.onInitializeMediaSourceEngine_=function(sn,ln){var cn=this,dn,pn,vn,Sn,En;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Cn){if(Cn.nextAddress==1)return goog.asserts.assert(shaka.util.Platform.supportsMediaSource(),"We should not be initializing media source on a platform that does not support media source."),goog.asserts.assert(sn.mediaElement,"We should have a media element when initializing media source."),goog.asserts.assert(sn.mediaElement==ln.mediaElement,"|has| and |wants| should have the same media element when initializing media source."),goog.asserts.assert(cn.mediaSourceEngine_==null,"We should not have a media source engine yet."),dn=cn.config_.textDisplayFactory,pn=dn(),cn.lastTextFactory_=dn,vn=cn.createMediaSourceEngine(sn.mediaElement,pn,function(Pn,Rn,Ln){cn.processTimedMetadataMediaSrc_(Pn,Rn,Ln)},cn.lcevcDil_),vn.configure(cn.config_.mediaSource),Sn=cn.config_.manifest,En=Sn.segmentRelativeVttTiming,vn.setSegmentRelativeVttTiming(En),Cn.yield(vn.open(),2);cn.mediaSourceEngine_=vn,Cn.jumpToEnd()})},shaka.Player.prototype.onInitializeParser_=function(sn,ln){var cn=this,dn,pn,vn,Sn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(En){if(En.nextAddress==1)return goog.asserts.assert(sn.mediaElement,"We should have a media element when initializing the parser."),goog.asserts.assert(sn.mediaElement==ln.mediaElement,"|has| and |wants| should have the same media element when initializing the parser."),goog.asserts.assert(cn.networkingEngine_,"Need networking engine when initializing the parser."),goog.asserts.assert(cn.config_,"Need player config when initializing the parser."),sn.mimeType=ln.mimeType,sn.uri=ln.uri,goog.asserts.assert(sn.uri,"We should have an asset uri when initializing the parsing."),dn=sn.uri,pn=cn.networkingEngine_,cn.assetUri_=dn,vn=cn,En.yield(shaka.media.ManifestParser.getFactory(dn,pn,cn.config_.manifest.retryParameters,sn.mimeType),2);vn.parserFactory_=En.yieldResult,goog.asserts.assert(cn.parserFactory_,"Must have manifest parser"),cn.parser_=cn.parserFactory_(),Sn=shaka.util.ObjectUtils.cloneObject(cn.config_.manifest),ln.mediaElement&&ln.mediaElement.nodeName==="AUDIO"&&(Sn.disableVideo=!0),cn.parser_.configure(Sn),En.jumpToEnd()})},shaka.Player.prototype.onParseManifest_=function(sn,ln){var cn=this;goog.asserts.assert(sn.mimeType==ln.mimeType,"|has| and |wants| should have the same mime type when parsing."),goog.asserts.assert(sn.uri==ln.uri,"|has| and |wants| should have the same uri when parsing."),goog.asserts.assert(sn.uri,"|has| should have a valid uri when parsing."),goog.asserts.assert(sn.uri==this.assetUri_,"|has.uri| should match the cached asset uri."),goog.asserts.assert(this.networkingEngine_,"Need networking engine to parse manifest."),goog.asserts.assert(this.cmcdManager_,"Need CMCD manager to populate manifest request data."),goog.asserts.assert(this.config_,"Need player config to parse manifest."),goog.asserts.assert(this.parser_,"|this.parser_| should have been set in an earlier step.");var dn=sn.uri;sn=this.networkingEngine_,this.regionTimeline_=new shaka.media.RegionTimeline(function(){return cn.seekRange()}),this.regionTimeline_.addEventListener("regionadd",function(Sn){Sn=Sn.region,cn.onRegionEvent_(shaka.util.FakeEvent.EventName.TimelineRegionAdded,Sn),cn.adManager_&&cn.adManager_.onDashTimedMetadata(Sn)}),this.qualityObserver_=null,this.config_.streaming.observeQualityChanges&&(this.qualityObserver_=new shaka.media.QualityObserver(function(){return cn.getBufferedInfo()}),this.qualityObserver_.addEventListener("qualitychange",function(Sn){cn.onMediaQualityChange_(Sn.quality,Sn.position)}));var pn={networkingEngine:sn,modifyManifestRequest:function(Sn,En){cn.cmcdManager_.applyManifestData(Sn,En)},modifySegmentRequest:function(Sn,En){cn.cmcdManager_.applySegmentData(Sn,En)},filter:function(Sn){return cn.filterManifest_(Sn)},makeTextStreamsForClosedCaptions:function(Sn){return cn.makeTextStreamsForClosedCaptions_(Sn)},onTimelineRegionAdded:function(Sn){return cn.regionTimeline_.addRegion(Sn)},onEvent:function(Sn){return cn.dispatchEvent(Sn)},onError:function(Sn){return cn.onError_(Sn)},isLowLatencyMode:function(){return cn.isLowLatencyMode_()},isAutoLowLatencyMode:function(){return cn.isAutoLowLatencyMode_()},enableLowLatencyMode:function(){cn.configure("streaming.lowLatencyMode",!0)},updateDuration:function(){cn.streamingEngine_&&cn.streamingEngine_.updateDuration()},newDrmInfo:function(Sn){var En=cn.drmEngine_?cn.drmEngine_.getDrmInfo():null;En&&cn.drmEngine_.getMediaKeys()&&cn.processDrmInfos_(En.keySystem,Sn)}},vn=Date.now()/1e3;return new shaka.util.AbortableOperation(function(){var Sn,En,Cn,Pn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Rn){if(Rn.nextAddress==1)return Sn=cn,Rn.yield(cn.parser_.start(dn,pn),2);if(Sn.manifest_=Rn.yieldResult,En=cn.makeEvent_(shaka.util.FakeEvent.EventName.ManifestParsed),cn.dispatchEvent(En),cn.manifest_.variants.length==0)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.NO_VARIANTS);shaka.Player.filterForAVVariants_(cn.manifest_),Cn=Date.now()/1e3,Pn=Cn-vn,cn.stats_.setManifestTime(Pn),Rn.jumpToEnd()})}(),function(){return shaka.log.info("Aborting parser step..."),cn.parser_.stop()})},shaka.Player.prototype.onInitializeDrm_=function(sn,ln){var cn=this,dn,pn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(vn){return vn.nextAddress==1?(goog.asserts.assert(sn.mimeType==ln.mimeType,"The load graph should have ensured the mime types matched."),goog.asserts.assert(sn.uri==ln.uri,"The load graph should have ensured the uris matched"),goog.asserts.assert(cn.networkingEngine_,"|onInitializeDrm_| should never be called after |destroy|"),goog.asserts.assert(cn.config_,"|onInitializeDrm_| should never be called after |destroy|"),goog.asserts.assert(cn.manifest_,"|this.manifest_| should have been set in an earlier step."),goog.asserts.assert(sn.mediaElement,"We should have a media element when initializing the DRM Engine."),dn=Date.now()/1e3,pn=!0,cn.drmEngine_=cn.createDrmEngine({netEngine:cn.networkingEngine_,onError:function(Sn){cn.onError_(Sn)},onKeyStatus:function(Sn){cn.onKeyStatus_(Sn)},onExpirationUpdated:function(Sn,En){cn.onExpirationUpdated_(Sn,En)},onEvent:function(Sn){cn.dispatchEvent(Sn),Sn.type==shaka.util.FakeEvent.EventName.DrmSessionUpdate&&pn&&(pn=!1,Sn=Date.now()/1e3-dn,cn.stats_.setDrmTime(Sn),cn.lcevcDil_&&cn.lcevcDil_.hideCanvas())}}),cn.drmEngine_.configure(cn.config_.drm),vn.yield(cn.drmEngine_.initForPlayback(cn.manifest_.variants,cn.manifest_.offlineSessionIds),2)):vn.nextAddress!=3?vn.yield(cn.drmEngine_.attach(sn.mediaElement),3):vn.yield(cn.filterManifest_(cn.manifest_),0)})},shaka.Player.prototype.onLoad_=function(sn,ln){var cn=this,dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn,Gn,Dn,Kn,qn,Zn,Yn,Jn,rs;return $jscomp.asyncExecutePromiseGeneratorProgram(function(us){switch(us.nextAddress){case 1:for(goog.asserts.assert(sn.mimeType==ln.mimeType,"|has| and |wants| should have the same mime type when loading."),goog.asserts.assert(sn.uri==ln.uri,"|has| and |wants| should have the same uri when loading."),goog.asserts.assert(sn.mediaElement,"We should have a media element when loading."),goog.asserts.assert(!isNaN(ln.startTimeOfLoad),"|wants| should tell us when the load was originally requested"),sn.startTime=ln.startTime,cn.updatedStartTime_!=null&&(sn.startTime=cn.updatedStartTime_,cn.updatedStartTime_=null),dn=sn.mediaElement,pn=sn.uri,cn.assetUri_=pn,cn.playRateController_=new shaka.media.PlayRateController({getRate:function(){return dn.playbackRate},getDefaultRate:function(){return dn.defaultPlaybackRate},setRate:function(as){dn.playbackRate=as},movePlayhead:function(as){dn.currentTime+=as}}),vn=function(){return cn.updateStateHistory_()},Sn=function(){return cn.onRateChange_()},cn.loadEventManager_.listen(dn,"playing",vn),cn.loadEventManager_.listen(dn,"pause",vn),cn.loadEventManager_.listen(dn,"ended",vn),cn.loadEventManager_.listen(dn,"ratechange",Sn),cn.setupLcevc_(cn.config_),En=cn.config_.abrFactory,cn.abrManager_&&cn.abrManagerFactory_==En||(cn.abrManagerFactory_=En,cn.abrManager_=En(),typeof cn.abrManager_.setMediaElement!="function"&&(shaka.Deprecate.deprecateFeature(5,"AbrManager","Please use an AbrManager with setMediaElement function."),cn.abrManager_.setMediaElement=function(){}),cn.abrManager_.configure(cn.config_.abr)),cn.currentAdaptationSetCriteria_=new shaka.media.PreferenceBasedCriteria(cn.config_.preferredAudioLanguage,cn.config_.preferredVariantRole,cn.config_.preferredAudioChannelCount),cn.currentTextLanguage_=cn.config_.preferredTextLanguage,cn.currentTextRole_=cn.config_.preferredTextRole,cn.currentTextForced_=cn.config_.preferForcedSubs,shaka.Player.applyPlayRange_(cn.manifest_.presentationTimeline,cn.config_.playRangeStart,cn.config_.playRangeEnd),cn.abrManager_.init(function(as,cs,_s){return cn.switch_(as,cs,_s)}),cn.abrManager_.setMediaElement(dn),shaka.util.StreamUtils.chooseCodecsAndFilterManifest(cn.manifest_,cn.config_.preferredVideoCodecs,cn.config_.preferredAudioCodecs,cn.config_.preferredAudioChannelCount,cn.config_.preferredDecodingAttributes),cn.streamingEngine_=cn.createStreamingEngine(),cn.streamingEngine_.configure(cn.config_.streaming),cn.loadMode_=shaka.Player.LoadMode.MEDIA_SOURCE,dn.textTracks&&cn.loadEventManager_.listen(dn.textTracks,"addtrack",function(as){if(as.track)switch(as=as.track,goog.asserts.assert(as instanceof TextTrack,"Wrong track type!"),as.kind){case"chapters":cn.activateChaptersTrack_(as)}}),cn.dispatchEvent(cn.makeEvent_(shaka.util.FakeEvent.EventName.Streaming)),Cn=null,Pn=cn.streamingEngine_.getCurrentVariant(),Pn||(Cn=cn.chooseVariant_(),goog.asserts.assert(Cn,"Must choose an initial variant!")),Rn=[],Ln=Pn||Cn,Fn=$jscomp.makeIterator([Ln.video,Ln.audio]),Gn=Fn.next();!Gn.done;Gn=Fn.next())(Dn=Gn.value)&&!Dn.segmentIndex&&Rn.push(Dn.createSegmentIndex());if(!(0<Rn.length)){us.jumpTo(2);break}return us.yield(Promise.all(Rn),2);case 2:if(cn.playhead_=cn.createPlayhead(sn.startTime),cn.playheadObservers_=cn.createPlayheadObserversForMSE_(),Kn=Math.max(cn.manifest_.minBufferTime,cn.config_.streaming.rebufferingGoal),cn.startBufferManagement_(Kn),Pn){us.jumpTo(4);break}if(goog.asserts.assert(Cn,"Must have choosen an initial variant!"),cn.switchVariant_(Cn,!0,!1,0),!cn.config_.streaming.startAtSegmentBoundary){us.jumpTo(5);break}return qn=cn.playhead_.getTime(),us.yield(cn.adjustStartTime_(Cn,qn),6);case 6:Zn=us.yieldResult,cn.playhead_.setStartTime(Zn);case 5:cn.onAdaptation_(null,shaka.util.StreamUtils.variantToTrack(Cn));case 4:return cn.playhead_.ready(),Yn=cn.getTextTracks().find(function(as){return as.active}),Yn||((Jn=cn.chooseTextStream_())&&cn.addTextStreamToSwitchHistory_(Jn,!0),Cn&&cn.setInitialTextState_(Cn,Jn),Jn&&cn.shouldStreamText_()&&cn.streamingEngine_.switchTextStream(Jn)),us.yield(cn.streamingEngine_.start(),7);case 7:cn.config_.abr.enabled&&(cn.abrManager_.enable(),cn.onAbrStatusChanged_()),cn.filterManifestByCurrentVariant_(),cn.onTracksChanged_(),cn.updateAbrManagerVariants_(),rs=cn.manifest_.variants.some(function(as){return as.primary}),cn.config_.preferredAudioLanguage||rs||shaka.log.warning("No preferred audio language set.  We have chosen an arbitrary language initially"),cn.fullyLoaded_=!0,cn.loadEventManager_.listenOnce(dn,"loadedmetadata",function(){var as=Date.now()/1e3-ln.startTimeOfLoad;cn.stats_.setLoadLatency(as)}),us.jumpToEnd()}})},shaka.Player.prototype.onInitializeSrcEqualsDrm_=function(sn,ln){var cn=this,dn,pn,vn,Sn,En,Cn,Pn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Rn){return Rn.nextAddress==1?(dn=shaka.util.ManifestParserUtils.ContentType,goog.asserts.assert(cn.networkingEngine_,"|onInitializeSrcEqualsDrm_| should never be called after |destroy|"),goog.asserts.assert(cn.config_,"|onInitializeSrcEqualsDrm_| should never be called after |destroy|"),pn=Date.now()/1e3,vn=!0,cn.drmEngine_=cn.createDrmEngine({netEngine:cn.networkingEngine_,onError:function(Ln){cn.onError_(Ln)},onKeyStatus:function(Ln){cn.onKeyStatus_(Ln)},onExpirationUpdated:function(Ln,Fn){cn.onExpirationUpdated_(Ln,Fn)},onEvent:function(Ln){cn.dispatchEvent(Ln),Ln.type==shaka.util.FakeEvent.EventName.DrmSessionUpdate&&vn&&(vn=!1,Ln=Date.now()/1e3-pn,cn.stats_.setDrmTime(Ln))}}),cn.drmEngine_.configure(cn.config_.drm),Sn=ln.uri||"",En=shaka.media.ManifestParser.getExtension(Sn),Cn=shaka.Player.SRC_EQUAL_EXTENSIONS_TO_MIME_TYPES_[En],Cn=="application/x-mpegurl"&&shaka.util.Platform.isApple()&&(Cn="application/vnd.apple.mpegurl"),Cn||(Cn="video/mp4"),Pn={id:0,language:"und",disabledUntilTime:0,primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:ln.mimeType?shaka.util.MimeUtils.getBasicType(ln.mimeType):Cn,codecs:ln.mimeType?shaka.util.MimeUtils.getCodecs(ln.mimeType):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",label:null,type:dn.VIDEO,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},cn.drmEngine_.setSrcEquals(!0),Rn.yield(cn.drmEngine_.initForPlayback([Pn],[]),2)):Rn.yield(cn.drmEngine_.attach(sn.mediaElement),0)})},shaka.Player.prototype.onSrcEquals_=function(sn,ln){var cn=this;goog.asserts.assert(sn.mediaElement,"We should have a media element when loading."),goog.asserts.assert(ln.uri,"|has| should have a valid uri when loading."),goog.asserts.assert(!isNaN(ln.startTimeOfLoad),"|wants| should tell us when the load was originally requested"),goog.asserts.assert(this.video_==sn.mediaElement,"The video element should match our media element"),sn.uri=ln.uri,sn.startTime=ln.startTime,this.assetUri_=sn.uri;var dn=sn.mediaElement;this.playhead_=new shaka.media.SrcEqualsPlayhead(dn);var pn=!1;this.cleanupOnUnload_.push(function(){pn=!0}),sn.startTime!=null&&this.playhead_.setStartTime(sn.startTime),this.playRateController_=new shaka.media.PlayRateController({getRate:function(){return dn.playbackRate},getDefaultRate:function(){return dn.defaultPlaybackRate},setRate:function(En){dn.playbackRate=En},movePlayhead:function(En){dn.currentTime+=En}}),this.startBufferManagement_(this.config_.streaming.rebufferingGoal);var vn=function(){return cn.updateStateHistory_()};this.loadEventManager_.listen(dn,"playing",vn),this.loadEventManager_.listen(dn,"pause",vn),this.loadEventManager_.listen(dn,"ended",vn),this.loadEventManager_.listen(dn,"ratechange",function(){return cn.onRateChange_()}),dn.preload!="none"&&this.loadEventManager_.listenOnce(dn,"loadedmetadata",function(){var En=Date.now()/1e3-ln.startTimeOfLoad;cn.stats_.setLoadLatency(En)}),dn.audioTracks&&(this.loadEventManager_.listen(dn.audioTracks,"addtrack",function(){return cn.onTracksChanged_()}),this.loadEventManager_.listen(dn.audioTracks,"removetrack",function(){return cn.onTracksChanged_()}),this.loadEventManager_.listen(dn.audioTracks,"change",function(){return cn.onTracksChanged_()})),dn.textTracks&&(this.loadEventManager_.listen(dn.textTracks,"addtrack",function(En){if(En.track)switch(En=En.track,goog.asserts.assert(En instanceof TextTrack,"Wrong track type!"),En.kind){case"metadata":cn.processTimedMetadataSrcEqls_(En);break;case"chapters":cn.activateChaptersTrack_(En);break;default:cn.onTracksChanged_()}}),this.loadEventManager_.listen(dn.textTracks,"removetrack",function(){return cn.onTracksChanged_()}),this.loadEventManager_.listen(dn.textTracks,"change",function(){return cn.onTracksChanged_()})),vn=shaka.media.ManifestParser.getExtension(sn.uri),dn.src=this.cmcdManager_.appendSrcData(sn.uri,shaka.Player.SRC_EQUAL_EXTENSIONS_TO_MIME_TYPES_[vn]),(shaka.util.Platform.isTizen()||shaka.util.Platform.isWebOS())&&dn.load(),this.loadMode_=shaka.Player.LoadMode.SRC_EQUALS,this.dispatchEvent(this.makeEvent_(shaka.util.FakeEvent.EventName.Streaming));var Sn=new shaka.util.PublicPromise;return shaka.util.MediaReadyState.waitForReadyState(dn,HTMLMediaElement.HAVE_METADATA,this.loadEventManager_,function(){cn.playhead_.ready(),Sn.resolve()}),shaka.util.MediaReadyState.waitForReadyState(dn,HTMLMediaElement.HAVE_CURRENT_DATA,this.loadEventManager_,function(){var En;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Cn){if(Cn.nextAddress==1)return cn.setupPreferredAudioOnSrc_(),En=cn.getFilteredTextTracks_(),En.find(function(Pn){return Pn.mode!="disabled"})?(0<En.length&&(cn.isTextVisible_=!0),Cn.jumpTo(2)):Cn.yield(new Promise(function(Pn){cn.loadEventManager_.listenOnce(dn.textTracks,"change",Pn),new shaka.util.Timer(Pn).tickAfter(1)}),2);if(pn)return Cn.return();cn.setupPreferredTextOnSrc_(),Cn.jumpToEnd()})}),dn.error?Sn.reject(this.videoErrorToShakaError_()):dn.preload=="none"&&(shaka.log.alwaysWarn('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),Sn.resolve()),this.loadEventManager_.listenOnce(dn,"error",function(){Sn.reject(cn.videoErrorToShakaError_())}),new shaka.util.AbortableOperation(Sn,function(){var En=new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.OPERATION_ABORTED);return Sn.reject(En),Promise.resolve()}).chain(function(){cn.fullyLoaded_=!0})},shaka.Player.prototype.setupPreferredAudioOnSrc_=function(){var sn=this.config_.preferredAudioLanguage;if(sn!=""){this.selectAudioLanguage(sn);var ln=this.config_.preferredVariantRole;ln!=""&&this.selectAudioLanguage(sn,ln)}},shaka.Player.prototype.setupPreferredTextOnSrc_=function(){var sn=this.config_.preferredTextLanguage,ln=this.config_.preferForcedSubs;if(sn!=""){this.selectTextLanguage(sn,"",ln);var cn=this.config_.preferredTextRole;cn!=""&&this.selectTextLanguage(sn,cn,ln)}},shaka.Player.prototype.processTimedMetadataSrcEqls_=function(sn){var ln=this;if(sn.kind=="metadata"){sn.mode="hidden",this.loadEventManager_.listen(sn,"cuechange",function(){if(sn.activeCues)for(var dn=$jscomp.makeIterator(sn.activeCues),pn=dn.next();!pn.done;pn=dn.next())pn=pn.value,ln.dispatchMetadataEvent_(pn.startTime,pn.endTime,pn.type,pn.value),ln.adManager_&&ln.adManager_.onCueMetadataChange(pn.value)});var cn=new shaka.util.Timer(function(){var dn=ln.getMetadataTracks_();dn=$jscomp.makeIterator(dn);for(var pn=dn.next();!pn.done;pn=dn.next())pn.value.mode="hidden"}).tickNow().tickAfter(.5);this.cleanupOnUnload_.push(function(){cn.stop()})}},shaka.Player.prototype.processTimedMetadataMediaSrc_=function(sn,ln,cn){sn=$jscomp.makeIterator(sn);for(var dn=sn.next();!dn.done;dn=sn.next())if(dn=dn.value,dn.data&&dn.cueTime&&dn.frames){var pn=dn.cueTime+ln,vn=cn;vn&&pn>vn&&(vn=pn);for(var Sn=$jscomp.makeIterator(dn.frames),En=Sn.next();!En.done;En=Sn.next())this.dispatchMetadataEvent_(pn,vn,"org.id3",En.value);this.adManager_&&this.adManager_.onHlsTimedMetadata(dn,pn)}},shaka.Player.prototype.dispatchMetadataEvent_=function(sn,ln,cn,dn){goog.asserts.assert(!ln||sn<=ln,"Metadata start time should be less or equal to the end time!");var pn=shaka.util.FakeEvent.EventName.Metadata;sn=new Map().set("startTime",sn).set("endTime",ln).set("metadataType",cn).set("payload",dn),this.dispatchEvent(this.makeEvent_(pn,sn))},shaka.Player.prototype.activateChaptersTrack_=function(sn){if(sn&&sn.kind=="chapters"){sn.mode="hidden";var ln=new shaka.util.Timer(function(){sn.mode="hidden"}).tickNow().tickAfter(.5);this.cleanupOnUnload_.push(function(){ln.stop()})}},shaka.Player.filterForAVVariants_=function(sn){var ln=function(cn){return cn.video&&cn.audio||cn.video&&cn.video.codecs.includes(",")};sn.variants.some(ln)&&(shaka.log.debug("Found variant with audio and video content, so filtering out audio-only content."),sn.variants=sn.variants.filter(ln))},shaka.Player.prototype.createDrmEngine=function(sn){return new shaka.media.DrmEngine(sn,this.config_.drm.updateExpirationTime)},shaka.Player.prototype.createNetworkingEngine=function(){var sn=this;return new shaka.net.NetworkingEngine(function(ln,cn){sn.abrManager_&&sn.abrManager_.segmentDownloaded(ln,cn)},function(ln,cn,dn){var pn=shaka.util.FakeEvent.EventName.DownloadHeadersReceived;ln=new Map().set("headers",ln).set("request",cn).set("requestType",dn),sn.dispatchEvent(sn.makeEvent_(pn,ln))},function(ln,cn,dn,pn){var vn=shaka.util.FakeEvent.EventName.DownloadFailed;ln=new Map().set("request",ln).set("error",cn).set("httpResponseCode",dn).set("aborted",pn),sn.dispatchEvent(sn.makeEvent_(vn,ln))})},shaka.Player.prototype.createPlayhead=function(sn){var ln=this;return goog.asserts.assert(this.manifest_,"Must have manifest"),goog.asserts.assert(this.video_,"Must have video"),new shaka.media.MediaSourcePlayhead(this.video_,this.manifest_,this.config_.streaming,sn,function(){return ln.onSeek_()},function(cn){return ln.dispatchEvent(cn)})},shaka.Player.prototype.createPlayheadObserversForMSE_=function(){var sn=this;goog.asserts.assert(this.manifest_,"Must have manifest"),goog.asserts.assert(this.regionTimeline_,"Must have region timeline"),goog.asserts.assert(this.video_,"Must have video element");var ln=new shaka.media.RegionObserver(this.regionTimeline_);ln.addEventListener("enter",function(dn){sn.onRegionEvent_(shaka.util.FakeEvent.EventName.TimelineRegionEnter,dn.region)}),ln.addEventListener("exit",function(dn){sn.onRegionEvent_(shaka.util.FakeEvent.EventName.TimelineRegionExit,dn.region)}),ln.addEventListener("skip",function(dn){var pn=dn.region;dn.seeking||(sn.onRegionEvent_(shaka.util.FakeEvent.EventName.TimelineRegionEnter,pn),sn.onRegionEvent_(shaka.util.FakeEvent.EventName.TimelineRegionExit,pn))});var cn=new shaka.media.PlayheadObserverManager(this.video_);return cn.manage(ln),this.qualityObserver_&&cn.manage(this.qualityObserver_),cn},shaka.Player.prototype.startBufferManagement_=function(sn){var ln=this;goog.asserts.assert(!this.bufferObserver_,"No buffering observer should exist before initialization."),goog.asserts.assert(!this.bufferPoller_,"No buffer timer should exist before initialization."),this.bufferObserver_=new shaka.media.BufferingObserver(1,2),this.bufferObserver_.setState(shaka.media.BufferingObserver.State.STARVING),this.updateBufferingSettings_(sn),this.updateBufferState_(),this.bufferPoller_=new shaka.util.Timer(function(){ln.pollBufferState_()}).tickEvery(.25)},shaka.Player.prototype.updateBufferingSettings_=function(sn){this.bufferObserver_.setThresholds(sn,Math.min(shaka.Player.TYPICAL_BUFFERING_THRESHOLD_,sn/2))},shaka.Player.prototype.pollBufferState_=function(){switch(goog.asserts.assert(this.video_,"Need a media element to update the buffering observer"),goog.asserts.assert(this.bufferObserver_,"Need a buffering observer to update"),this.loadMode_){case shaka.Player.LoadMode.SRC_EQUALS:var sn=this.isBufferedToEndSrc_();break;case shaka.Player.LoadMode.MEDIA_SOURCE:sn=this.isBufferedToEndMS_();break;default:sn=!1}var ln=shaka.media.TimeRangesUtils.bufferedAheadOf(this.video_.buffered,this.video_.currentTime);this.bufferObserver_.update(ln,sn)&&this.updateBufferState_()},shaka.Player.prototype.createMediaSourceEngine=function(sn,ln,cn,dn){return new shaka.media.MediaSourceEngine(sn,ln,cn,dn)},shaka.Player.prototype.createCmcd_=function(){var sn=this;return new shaka.util.CmcdManager({getBandwidthEstimate:function(){return sn.abrManager_?sn.abrManager_.getBandwidthEstimate():NaN},getBufferedInfo:function(){return sn.getBufferedInfo()},getCurrentTime:function(){return sn.video_?sn.video_.currentTime:0},getVariantTracks:function(){return sn.getVariantTracks()},getPlaybackRate:function(){return sn.getPlaybackRate()},isLive:function(){return sn.isLive()}},this.config_.cmcd)},shaka.Player.prototype.createStreamingEngine=function(){var sn=this;return goog.asserts.assert(this.abrManager_&&this.mediaSourceEngine_&&this.cmcdManager_&&this.manifest_,"Must not be destroyed"),new shaka.media.StreamingEngine(this.manifest_,{getPresentationTime:function(){return sn.playhead_?sn.playhead_.getTime():0},getBandwidthEstimate:function(){return sn.abrManager_.getBandwidthEstimate()},modifySegmentRequest:function(ln,cn){sn.cmcdManager_.applySegmentData(ln,cn)},mediaSourceEngine:this.mediaSourceEngine_,netEngine:this.networkingEngine_,onError:function(ln){return sn.onError_(ln)},onEvent:function(ln){return sn.dispatchEvent(ln)},onManifestUpdate:function(){return sn.onManifestUpdate_()},onSegmentAppended:function(ln,cn,dn){sn.onSegmentAppended_(ln,cn,dn)},onInitSegmentAppended:function(ln,cn){(cn=cn.getMediaQuality())&&sn.qualityObserver_&&sn.qualityObserver_.addMediaQualityChange(cn,ln)},beforeAppendSegment:function(ln,cn){return sn.drmEngine_.parseInbandPssh(ln,cn)},onMetadata:function(ln,cn,dn){sn.processTimedMetadataMediaSrc_(ln,cn,dn)}})},shaka.Player.prototype.configure=function(sn,ln){goog.asserts.assert(this.config_,"Config must not be null!"),goog.asserts.assert(typeof sn=="object"||arguments.length==2,"String configs should have values!"),arguments.length==2&&typeof sn=="string"&&(sn=shaka.util.ConfigUtils.convertToConfigObject(sn,ln)),goog.asserts.assert(typeof sn=="object","Should be an object!"),sn.streaming&&"forceTransmuxTS"in sn.streaming&&(shaka.Deprecate.deprecateFeature(5,"streaming.forceTransmuxTS configuration","Please Use streaming.forceTransmux instead."),sn.streaming.forceTransmux=sn.streaming.forceTransmuxTS,delete sn.streaming.forceTransmuxTS),sn.streaming&&sn.streaming.lowLatencyMode&&(sn.streaming.inaccurateManifestTolerance==null&&(sn.streaming.inaccurateManifestTolerance=0),sn.streaming.rebufferingGoal==null&&(sn.streaming.rebufferingGoal=.01));var cn=shaka.util.PlayerConfiguration.mergeConfigObjects(this.config_,sn,this.defaultConfig_());return this.applyConfig_(),cn},shaka.Player.prototype.applyConfig_=function(){if(this.parser_){var sn=shaka.util.ObjectUtils.cloneObject(this.config_.manifest);this.video_&&this.video_.nodeName==="AUDIO"&&(sn.disableVideo=!0),this.parser_.configure(sn)}if(this.drmEngine_&&this.drmEngine_.configure(this.config_.drm),this.streamingEngine_){this.streamingEngine_.configure(this.config_.streaming);try{this.filterManifestWithRestrictions_(this.manifest_)}catch(cn){this.onError_(cn)}this.abrManager_&&this.updateAbrManagerVariants_(),!(sn=this.streamingEngine_.getCurrentVariant())||sn.allowedByApplication&&sn.allowedByKeySystem||(shaka.log.debug("Choosing new variant after changing configuration"),this.chooseVariantAndSwitch_())}if(this.networkingEngine_&&this.networkingEngine_.setForceHTTPS(this.config_.streaming.forceHTTPS),this.mediaSourceEngine_&&(this.mediaSourceEngine_.configure(this.config_.mediaSource),this.mediaSourceEngine_.setSegmentRelativeVttTiming(this.config_.manifest.segmentRelativeVttTiming),sn=this.config_.textDisplayFactory,this.lastTextFactory_!=sn)){var ln=sn();this.mediaSourceEngine_.setTextDisplayer(ln),this.lastTextFactory_=sn,this.streamingEngine_&&this.streamingEngine_.reloadTextStream()}this.abrManager_&&(this.abrManager_.configure(this.config_.abr),this.config_.abr.enabled?this.abrManager_.enable():this.abrManager_.disable(),this.onAbrStatusChanged_()),this.bufferObserver_&&(sn=this.config_.streaming.rebufferingGoal,this.manifest_&&(sn=Math.max(sn,this.manifest_.minBufferTime)),this.updateBufferingSettings_(sn)),this.manifest_&&shaka.Player.applyPlayRange_(this.manifest_.presentationTimeline,this.config_.playRangeStart,this.config_.playRangeEnd)},shaka.Player.prototype.getConfiguration=function(){goog.asserts.assert(this.config_,"Config must not be null!");var sn=this.defaultConfig_();return shaka.util.PlayerConfiguration.mergeConfigObjects(sn,this.config_,this.defaultConfig_()),sn},shaka.Player.prototype.getSharedConfiguration=function(){return goog.asserts.assert(this.config_,"Cannot call getSharedConfiguration after call destroy!"),this.config_},shaka.Player.prototype.getBufferFullness=function(){if(this.video_){var sn=this.video_.buffered.length;sn=sn?this.video_.buffered.end(sn-1):0;var ln=this.getConfiguration().streaming.bufferingGoal;if(ln=Math.min(this.video_.currentTime+ln,this.seekRange().end),sn>=ln)return 1;if(!(sn<=this.video_.currentTime)&&sn<ln)return(sn-this.video_.currentTime)/(ln-this.video_.currentTime)}return 0},shaka.Player.prototype.resetConfiguration=function(){goog.asserts.assert(this.config_,"Cannot be destroyed");for(var sn in this.config_)delete this.config_[sn];shaka.util.PlayerConfiguration.mergeConfigObjects(this.config_,this.defaultConfig_(),this.defaultConfig_()),this.applyConfig_()},shaka.Player.prototype.getLoadMode=function(){return this.loadMode_},shaka.Player.prototype.getMediaElement=function(){return this.video_},shaka.Player.prototype.getNetworkingEngine=function(){return this.networkingEngine_},shaka.Player.prototype.getAssetUri=function(){return this.assetUri_},shaka.Player.prototype.getAdManager=function(){return this.adManager_?this.adManager_:null},shaka.Player.prototype.isLive=function(){return this.manifest_?this.manifest_.presentationTimeline.isLive():this.video_&&this.video_.src?this.video_.duration==1/0:!1},shaka.Player.prototype.isInProgress=function(){return this.manifest_?this.manifest_.presentationTimeline.isInProgress():!1},shaka.Player.prototype.isAudioOnly=function(){if(this.manifest_){var sn=this.manifest_.variants;return sn.length?!sn[0].video:!1}return this.video_&&this.video_.src?this.video_.videoTracks?this.video_.videoTracks.length==0:this.video_.videoHeight==0:!1},shaka.Player.prototype.isLowLatencyMode_=function(){return this.config_.streaming.lowLatencyMode},shaka.Player.prototype.isAutoLowLatencyMode_=function(){return this.config_.streaming.autoLowLatencyMode},shaka.Player.prototype.seekRange=function(){if(!this.fullyLoaded_)return{start:0,end:0};if(this.manifest_){var sn=this.manifest_.presentationTimeline;return{start:sn.getSeekRangeStart(),end:sn.getSeekRangeEnd()}}return this.video_&&this.video_.src&&(sn=this.video_.seekable,sn.length)?{start:sn.start(0),end:sn.end(sn.length-1)}:{start:0,end:0}},shaka.Player.prototype.goToLive=function(){this.isLive()?this.video_.currentTime=this.seekRange().end:shaka.log.warning("goToLive is for live streams!")},shaka.Player.prototype.keySystem=function(){return shaka.media.DrmEngine.keySystem(this.drmInfo())},shaka.Player.prototype.drmInfo=function(){return this.drmEngine_?this.drmEngine_.getDrmInfo():null},shaka.Player.prototype.getDrmEngine=function(){return this.drmEngine_},shaka.Player.prototype.getExpiration=function(){return this.drmEngine_?this.drmEngine_.getExpiration():1/0},shaka.Player.prototype.getKeyStatuses=function(){return this.drmEngine_?this.drmEngine_.getKeyStatuses():{}},shaka.Player.prototype.isBuffering=function(){var sn=shaka.media.BufferingObserver.State;return this.bufferObserver_?this.bufferObserver_.getState()==sn.STARVING:!1},shaka.Player.prototype.getPlaybackRate=function(){return this.video_?this.playRateController_?this.playRateController_.getRealRate():1:0},shaka.Player.prototype.trickPlay=function(sn){goog.asserts.assert(sn!=0,"Should never set a trick play rate of 0!"),sn==0?shaka.log.alwaysWarn("A trick play rate of 0 is unsupported!"):(this.video_.paused&&this.video_.play(),this.playRateController_.set(sn),this.loadMode_==shaka.Player.LoadMode.MEDIA_SOURCE&&(this.abrManager_.playbackRateChanged(sn),this.streamingEngine_.setTrickPlay(1<Math.abs(sn))))},shaka.Player.prototype.cancelTrickPlay=function(){var sn=this.playRateController_.getDefaultRate();this.loadMode_==shaka.Player.LoadMode.SRC_EQUALS&&this.playRateController_.set(sn),this.loadMode_==shaka.Player.LoadMode.MEDIA_SOURCE&&(this.playRateController_.set(sn),this.abrManager_.playbackRateChanged(sn),this.streamingEngine_.setTrickPlay(!1))},shaka.Player.prototype.getVariantTracks=function(){if(this.manifest_){for(var sn=this.streamingEngine_?this.streamingEngine_.getCurrentVariant():null,ln=[],cn=0,dn=$jscomp.makeIterator(this.manifest_.variants),pn=dn.next();!pn.done;pn=dn.next())if(pn=pn.value,shaka.util.StreamUtils.isPlayable(pn)){var vn=shaka.util.StreamUtils.variantToTrack(pn);vn.active=pn==sn,vn.active||cn==1||sn==null||pn.video!=sn.video||pn.audio!=sn.audio||(vn.active=!0),vn.active&&cn++,ln.push(vn)}return goog.asserts.assert(1>=cn,"It should only have one active track"),ln}return this.video_&&this.video_.audioTracks?Array.from(this.video_.audioTracks).map(function(Sn){return shaka.util.StreamUtils.html5AudioTrackToTrack(Sn)}):[]},shaka.Player.prototype.getTextTracks=function(){if(this.manifest_){for(var sn=this.streamingEngine_?this.streamingEngine_.getCurrentTextStream():null,ln=[],cn=$jscomp.makeIterator(this.manifest_.textStreams),dn=cn.next();!dn.done;dn=cn.next()){dn=dn.value;var pn=shaka.util.StreamUtils.textStreamToTrack(dn);pn.active=dn==sn,ln.push(pn)}return ln}if(this.video_&&this.video_.src&&this.video_.textTracks){sn=this.getFilteredTextTracks_();var vn=shaka.util.StreamUtils;return sn.map(function(Sn){return vn.html5TextTrackToTrack(Sn)})}return[]},shaka.Player.prototype.getImageTracks=function(){if(this.manifest_){var sn=shaka.util.StreamUtils;return this.manifest_.imageStreams.map(function(ln){return sn.imageStreamToTrack(ln)})}return[]},shaka.Player.prototype.getThumbnails=function(sn,ln){var cn=this,dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn,Gn,Dn,Kn,qn,Zn,Yn,Jn,rs,us,as;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cs){return cs.nextAddress==1?cn.manifest_?(dn=cn.manifest_.imageStreams.find(function(_s){return _s.id==sn}))?dn.segmentIndex?cs.jumpTo(3):cs.yield(dn.createSegmentIndex(),3):cs.return(null):cs.jumpTo(2):cs.nextAddress!=2?(pn=dn.segmentIndex.find(ln),pn==null?cs.return(null):(vn=dn.segmentIndex.get(pn),Sn=vn.getTilesLayout()||dn.tilesLayout,En=/(\d+)x(\d+)/.exec(Sn),En?(Cn=dn.width||0,Pn=dn.height||0,Rn=parseInt(En[1],10),Ln=parseInt(En[2],10),Fn=Cn/Rn,Gn=Pn/Ln,Dn=Rn*Ln,Kn=vn.trueEndTime-vn.startTime,qn=vn.getTileDuration()||Kn/Dn,Zn=vn.startTime,Jn=Yn=0,1<Dn&&(rs=Math.floor((ln-vn.startTime)/qn),Zn=vn.startTime+rs*qn,Yn=rs%Rn*Fn,Jn=Math.floor(rs/Rn)*Gn),us=!1,(as=vn.getThumbnailSprite())&&(us=!0,Gn=as.height,Yn=as.positionX,Jn=as.positionY,Fn=as.width),cs.return({imageHeight:Pn,imageWidth:Cn,height:Gn,positionX:Yn,positionY:Jn,startTime:Zn,duration:qn,uris:vn.getUris(),width:Fn,sprite:us})):(shaka.log.warning("Tiles layout does not contain a valid format  (columns x rows)"),cs.return(null)))):cs.return(null)})},shaka.Player.prototype.selectTextTrack=function(sn){if(this.manifest_&&this.streamingEngine_){var ln=this.manifest_.textStreams.find(function(dn){return dn.id==sn.id});ln?ln==this.streamingEngine_.getCurrentTextStream()?shaka.log.debug("Text track already selected."):(this.addTextStreamToSwitchHistory_(ln,!1),this.streamingEngine_.switchTextStream(ln),this.onTextChanged_(),this.currentTextLanguage_=ln.language):shaka.log.error("No stream with id",sn.id)}else if(this.video_&&this.video_.src&&this.video_.textTracks){ln=this.getFilteredTextTracks_(),ln=$jscomp.makeIterator(ln);for(var cn=ln.next();!cn.done;cn=ln.next())cn=cn.value,shaka.util.StreamUtils.html5TrackId(cn)==sn.id?cn.mode=this.isTextVisible_?"showing":"hidden":cn.mode="disabled";this.onTextChanged_()}},shaka.Player.prototype.selectVariantTrack=function(sn,ln,cn){if(ln=ln===void 0?!1:ln,cn=cn===void 0?0:cn,this.manifest_&&this.streamingEngine_){this.config_.abr.enabled&&shaka.log.alwaysWarn("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var dn=this.manifest_.variants.find(function(pn){return pn.id==sn.id});dn?shaka.util.StreamUtils.isPlayable(dn)?(this.switchVariant_(dn,!1,ln,cn),this.currentAdaptationSetCriteria_=new shaka.media.ExampleBasedCriteria(dn),this.updateAbrManagerVariants_()):shaka.log.error("Unable to switch to restricted track",sn.id):shaka.log.error("No variant with id",sn.id)}else if(this.video_&&this.video_.audioTracks){for(ln=Array.from(this.video_.audioTracks),ln=$jscomp.makeIterator(ln),cn=ln.next();!cn.done;cn=ln.next())if(cn=cn.value,shaka.util.StreamUtils.html5TrackId(cn)==sn.id){this.switchHtml5Track_(cn);break}}},shaka.Player.prototype.getAudioLanguagesAndRoles=function(){return shaka.Player.getLanguageAndRolesFrom_(this.getVariantTracks())},shaka.Player.prototype.getTextLanguagesAndRoles=function(){return shaka.Player.getLanguageAndRolesFrom_(this.getTextTracks())},shaka.Player.prototype.getAudioLanguages=function(){return Array.from(shaka.Player.getLanguagesFrom_(this.getVariantTracks()))},shaka.Player.prototype.getTextLanguages=function(){return Array.from(shaka.Player.getLanguagesFrom_(this.getTextTracks()))},shaka.Player.prototype.selectAudioLanguage=function(sn,ln,cn){cn=cn===void 0?0:cn;var dn=shaka.util.LanguageUtils;if(this.manifest_&&this.playhead_){this.currentAdaptationSetCriteria_=new shaka.media.PreferenceBasedCriteria(sn,ln||"",cn,""),ln=function(Cn,Pn){return Cn.video||Pn.video?Cn.video&&Pn.video?Math.abs((Cn.video.height||0)-(Pn.video.height||0))+Math.abs((Cn.video.width||0)-(Pn.video.width||0)):1/0:0},dn=this.streamingEngine_.getCurrentVariant(),cn=this.currentAdaptationSetCriteria_.create(this.manifest_.variants),sn=null,cn=$jscomp.makeIterator(cn.values());for(var pn=cn.next();!pn.done;pn=cn.next())pn=pn.value,(!sn||ln(sn,dn)>ln(pn,dn))&&(sn=pn);sn?(ln=shaka.util.StreamUtils.variantToTrack(sn),this.selectVariantTrack(ln,!0)):this.chooseVariantAndSwitch_()}else if(this.video_&&this.video_.audioTracks){var vn=Array.from(this.video_.audioTracks);sn=dn.normalize(sn),pn=cn=null,vn=$jscomp.makeIterator(vn);for(var Sn=vn.next();!Sn.done;Sn=vn.next()){Sn=Sn.value;var En=shaka.util.StreamUtils.html5AudioTrackToTrack(Sn);dn.normalize(En.language)==sn&&(cn=Sn,ln?En.roles.includes(ln)&&(pn=Sn):En.roles.length==0&&(pn=Sn))}pn?this.switchHtml5Track_(pn):cn&&this.switchHtml5Track_(cn)}},shaka.Player.prototype.selectTextLanguage=function(sn,ln,cn){cn=cn===void 0?!1:cn;var dn=shaka.util.LanguageUtils;if(this.manifest_&&this.playhead_)this.currentTextLanguage_=sn,this.currentTextRole_=ln||"",this.currentTextForced_=cn,(sn=this.chooseTextStream_())&&(sn==this.streamingEngine_.getCurrentTextStream()?shaka.log.debug("Text track already selected."):(this.addTextStreamToSwitchHistory_(sn,!1),this.shouldStreamText_()&&(this.streamingEngine_.switchTextStream(sn),this.onTextChanged_())));else{var pn=dn.normalize(sn);(sn=this.getTextTracks().find(function(vn){return dn.normalize(vn.language)==pn&&(!ln||vn.roles.includes(ln))&&vn.forced==cn}))&&this.selectTextTrack(sn)}},shaka.Player.prototype.selectVariantsByLabel=function(sn){if(this.manifest_&&this.playhead_){for(var ln=null,cn=$jscomp.makeIterator(this.manifest_.variants),dn=cn.next();!dn.done;dn=cn.next())if(dn=dn.value,dn.audio.label==sn){ln=dn;break}ln==null?shaka.log.warning("No variants were found with label: "+sn+". Ignoring the request to switch."):(this.currentAdaptationSetCriteria_=new shaka.media.PreferenceBasedCriteria(ln.language,"",0,sn),this.chooseVariantAndSwitch_())}else if(this.video_&&this.video_.audioTracks){for(cn=Array.from(this.video_.audioTracks),ln=null,cn=$jscomp.makeIterator(cn),dn=cn.next();!dn.done;dn=cn.next())dn=dn.value,dn.label==sn&&(ln=dn);ln&&this.switchHtml5Track_(ln)}},shaka.Player.prototype.isTextTrackVisible=function(){var sn=this.isTextVisible_;if(this.mediaSourceEngine_){var ln=this.mediaSourceEngine_.getTextDisplayer().isTextVisible();return goog.asserts.assert(ln==sn,"text visibility has fallen out of sync"),ln}return this.video_&&this.video_.src&&this.video_.textTracks?this.getFilteredTextTracks_().some(function(cn){return cn.mode=="showing"}):sn},shaka.Player.prototype.getChaptersTracks=function(){if(this.video_&&this.video_.src&&this.video_.textTracks){var sn=this.getChaptersTracks_(),ln=shaka.util.StreamUtils;return sn.map(function(cn){return ln.html5TextTrackToTrack(cn)})}return[]},shaka.Player.prototype.getChapters=function(sn){var ln=shaka.util.LanguageUtils,cn=ln.normalize(sn),dn=this.getChaptersTracks_().filter(function(Cn){return ln.normalize(Cn.language)==cn});if(!dn||!dn.length)return[];sn=[];var pn=new Set;dn=$jscomp.makeIterator(dn);for(var vn=dn.next();!vn.done;vn=dn.next())if((vn=vn.value)&&vn.cues){vn=$jscomp.makeIterator(vn.cues);for(var Sn=vn.next();!Sn.done;Sn=vn.next()){var En=Sn.value;(Sn=En.id)&&Sn!=""||(Sn=En.startTime+"-"+En.endTime+"-"+En.text),En={id:Sn,title:En.text,startTime:En.startTime,endTime:En.endTime},pn.has(Sn)||(sn.push(En),pn.add(Sn))}}return sn},shaka.Player.prototype.getFilteredTextTracks_=function(){return goog.asserts.assert(this.video_.textTracks,"TextTracks should be valid."),Array.from(this.video_.textTracks).filter(function(sn){return sn.kind!="metadata"&&sn.kind!="chapters"&&sn.label!=shaka.Player.TextTrackLabel})},shaka.Player.prototype.getMetadataTracks_=function(){return goog.asserts.assert(this.video_.textTracks,"TextTracks should be valid."),Array.from(this.video_.textTracks).filter(function(sn){return sn.kind=="metadata"})},shaka.Player.prototype.getChaptersTracks_=function(){return goog.asserts.assert(this.video_.textTracks,"TextTracks should be valid."),Array.from(this.video_.textTracks).filter(function(sn){return sn.kind=="chapters"})},shaka.Player.prototype.setTextTrackVisibility=function(sn){if(sn=!!sn,this.isTextVisible_!=sn){if(this.isTextVisible_=sn,this.loadMode_==shaka.Player.LoadMode.MEDIA_SOURCE)this.mediaSourceEngine_.getTextDisplayer().setTextVisibility(sn),this.config_.streaming.alwaysStreamText||(sn?this.streamingEngine_.getCurrentTextStream()||(sn=shaka.util.StreamUtils.filterStreamsByLanguageAndRole(this.manifest_.textStreams,this.currentTextLanguage_,this.currentTextRole_,this.currentTextForced_),0<sn.length&&(this.streamingEngine_.switchTextStream(sn[0]),this.onTextChanged_())):this.streamingEngine_.unloadTextStream());else if(this.video_&&this.video_.src&&this.video_.textTracks){var ln=this.getFilteredTextTracks_();ln=$jscomp.makeIterator(ln);for(var cn=ln.next();!cn.done;cn=ln.next())cn=cn.value,cn.mode!="disabled"&&(cn.mode=sn?"showing":"hidden")}this.onTextTrackVisibility_()}},shaka.Player.prototype.getPlayheadTimeAsDate=function(){if(!this.isLive())return shaka.log.warning("getPlayheadTimeAsDate is for live streams!"),null;var sn=this.walker_.getCurrentPayload(),ln=0;if(this.playhead_)ln=this.playhead_.getTime();else if(sn){if(sn.startTime==null)return new Date;ln=sn.startTime}return this.manifest_?(sn=this.manifest_.presentationTimeline.getPresentationStartTime(),new Date(1e3*(sn+ln))):this.video_&&this.video_.getStartDate?(sn=this.video_.getStartDate(),isNaN(sn.getTime())?(shaka.log.warning("EXT-X-PROGRAM-DATETIME required to get playhead time as Date!"),null):new Date(sn.getTime()+1e3*ln)):(shaka.log.warning("No way to get playhead time as Date!"),null)},shaka.Player.prototype.getPresentationStartTimeAsDate=function(){if(!this.isLive())return shaka.log.warning("getPresentationStartTimeAsDate is for live streams!"),null;if(this.manifest_){var sn=this.manifest_.presentationTimeline.getPresentationStartTime();return goog.asserts.assert(sn!=null,"Presentation start time should not be null!"),new Date(1e3*sn)}return this.video_&&this.video_.getStartDate?(sn=this.video_.getStartDate(),isNaN(sn.getTime())?(shaka.log.warning("EXT-X-PROGRAM-DATETIME required to get presentation start time as Date!"),null):sn):(shaka.log.warning("No way to get presentation start time as Date!"),null)},shaka.Player.prototype.getBufferedInfo=function(){if(this.loadMode_==shaka.Player.LoadMode.MEDIA_SOURCE)return this.mediaSourceEngine_.getBufferedInfo();var sn={total:[],audio:[],video:[],text:[]};return this.loadMode_==shaka.Player.LoadMode.SRC_EQUALS&&(sn.total=shaka.media.TimeRangesUtils.getBufferedInfo(this.video_.buffered)),sn},shaka.Player.prototype.getStats=function(){if(this.loadMode_!=shaka.Player.LoadMode.MEDIA_SOURCE&&this.loadMode_!=shaka.Player.LoadMode.SRC_EQUALS)return shaka.util.Stats.getEmptyBlob();this.updateStateHistory_(),goog.asserts.assert(this.video_,"If we have stats, we should have video_");var sn=this.video_,ln=sn.currentTime/sn.duration;if(isNaN(ln)||this.stats_.setCompletionPercent(Math.round(100*ln)),this.playhead_&&(this.stats_.setGapsJumped(this.playhead_.getGapsJumped()),this.stats_.setStallsDetected(this.playhead_.getStallsDetected())),sn.getVideoPlaybackQuality&&(ln=sn.getVideoPlaybackQuality(),this.stats_.setDroppedFrames(Number(ln.droppedVideoFrames),Number(ln.totalVideoFrames)),this.stats_.setCorruptedFrames(Number(ln.corruptedVideoFrames))),ln=this.drmEngine_?this.drmEngine_.getLicenseTime():NaN,this.stats_.setLicenseTime(ln),this.loadMode_==shaka.Player.LoadMode.MEDIA_SOURCE){if(ln=this.streamingEngine_.getCurrentVariant()){var cn=(this.playRateController_?this.playRateController_.getRealRate():1)*ln.bandwidth;this.stats_.setCurrentStreamBandwidth(cn)}ln&&ln.video&&this.stats_.setResolution(ln.video.width||NaN,ln.video.height||NaN),this.isLive()&&(ln=this.getPresentationStartTimeAsDate().valueOf()+1e3*this.seekRange().end,ln=(Date.now()-ln)/1e3,this.stats_.setLiveLatency(ln)),this.manifest_&&this.manifest_.presentationTimeline&&(ln=this.manifest_.presentationTimeline.getMaxSegmentDuration(),this.stats_.setMaxSegmentDuration(ln)),ln=this.abrManager_.getBandwidthEstimate(),this.stats_.setBandwidthEstimate(ln)}return this.loadMode_==shaka.Player.LoadMode.SRC_EQUALS&&this.stats_.setResolution(sn.videoWidth||NaN,sn.videoHeight||NaN),this.stats_.getBlob()},shaka.Player.prototype.addTextTrackAsync=function(sn,ln,cn,dn,pn,vn,Sn){Sn=Sn===void 0?!1:Sn;var En=this,Cn,Pn,Rn,Ln,Fn,Gn,Dn,Kn,qn,Zn,Yn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Jn){switch(Jn.nextAddress){case 1:if(En.loadMode_!=shaka.Player.LoadMode.MEDIA_SOURCE&&En.loadMode_!=shaka.Player.LoadMode.SRC_EQUALS)throw shaka.log.error("Must call load() and wait for it to resolve before adding text tracks."),new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.CONTENT_NOT_LOADED);if(dn){Jn.jumpTo(2);break}return Jn.yield(En.getTextMimetype_(sn),3);case 3:dn=Jn.yieldResult;case 2:if(Cn=[],En.adManager_)try{Cn=En.adManager_.getServerSideCuePoints()}catch{}if(En.loadMode_!=shaka.Player.LoadMode.SRC_EQUALS){Jn.jumpTo(4);break}return Sn&&(cn="forced"),Jn.yield(En.addSrcTrackElement_(sn,ln,cn,dn,vn||"",Cn),5);case 5:if(Pn=En.getTextTracks(),Rn=Pn.find(function(rs){return rs.language==ln&&rs.label==(vn||"")&&rs.kind==cn}))return En.onTracksChanged_(),Jn.return(Rn);throw shaka.log.error("Cannot add this text when loaded with src="),new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS);case 4:if(Ln=shaka.util.ManifestParserUtils.ContentType,Fn=En.manifest_.presentationTimeline.getDuration(),Fn==1/0)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM);if(!Cn.length){Jn.jumpTo(6);break}return goog.asserts.assert(En.networkingEngine_,"Need networking engine."),Jn.yield(En.getTextData_(sn,En.networkingEngine_,En.config_.streaming.retryParameters),7);case 7:Gn=Jn.yieldResult,Dn=En.convertToWebVTT_(Gn,dn,Cn),Kn=new Blob([Dn],{type:"text/vtt"}),sn=shaka.media.MediaSourceEngine.createObjectURL(Kn),dn="text/vtt";case 6:if(qn={id:En.nextExternalStreamId_++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:shaka.media.SegmentIndex.forSingleSegment(0,Fn,[sn]),mimeType:dn||"",codecs:pn||"",kind:cn,encrypted:!1,drmInfos:[],keyIds:new Set,language:ln,label:vn||null,type:Ln.TEXT,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!Sn,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},Zn=shaka.util.MimeUtils.getFullType(qn.mimeType,qn.codecs),Yn=shaka.text.TextEngine.isTypeSupported(Zn),!Yn)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.MISSING_TEXT_PLUGIN,dn);return En.manifest_.textStreams.push(qn),En.onTracksChanged_(),Jn.return(shaka.util.StreamUtils.textStreamToTrack(qn))}})},shaka.Player.prototype.addThumbnailsTrack=function(sn,ln){var cn=this,dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn,Gn,Dn,Kn,qn,Zn,Yn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Jn){switch(Jn.nextAddress){case 1:if(cn.loadMode_!=shaka.Player.LoadMode.MEDIA_SOURCE&&cn.loadMode_!=shaka.Player.LoadMode.SRC_EQUALS)throw shaka.log.error("Must call load() and wait for it to resolve before adding image tracks."),new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.CONTENT_NOT_LOADED);if(cn.loadMode_==shaka.Player.LoadMode.SRC_EQUALS)throw shaka.log.error("Cannot add this thumbnail track when loaded with src="),new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_SRC_EQUALS);if(ln){Jn.jumpTo(2);break}return Jn.yield(cn.getTextMimetype_(sn),3);case 3:ln=Jn.yieldResult;case 2:if(ln!="text/vtt")throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.UNSUPPORTED_EXTERNAL_THUMBNAILS_URI,sn);if(dn=shaka.util.ManifestParserUtils.ContentType,pn=cn.manifest_.presentationTimeline.getDuration(),pn==1/0)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM);return goog.asserts.assert(cn.networkingEngine_,"Need networking engine."),Jn.yield(cn.getTextData_(sn,cn.networkingEngine_,cn.config_.streaming.retryParameters),4);case 4:if(vn=Jn.yieldResult,Sn=shaka.text.TextEngine.findParser(ln),!Sn)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.MISSING_TEXT_PLUGIN,ln);for(En=Sn(),Cn={periodStart:0,segmentStart:0,segmentEnd:pn,vttOffset:0},Pn=shaka.util.BufferUtils.toUint8(vn),Rn=En.parseMedia(Pn,Cn),Ln=[],Fn={},Gn=$jscomp.makeIterator(Rn),Dn=Gn.next();!Dn.done;Fn={$jscomp$loop$prop$imageUri$711:Fn.$jscomp$loop$prop$imageUri$711},Dn=Gn.next())Kn=Dn.value,Fn.$jscomp$loop$prop$imageUri$711=shaka.util.ManifestParserUtils.resolveUris([sn],[Kn.payload])[0],qn=new shaka.media.SegmentReference(Kn.startTime,Kn.endTime,function(rs){return function(){return[rs.$jscomp$loop$prop$imageUri$711]}}(Fn),0,null,null,0,0,1/0),Fn.$jscomp$loop$prop$imageUri$711.includes("#xywh")&&(Zn=Fn.$jscomp$loop$prop$imageUri$711.split("#xywh=")[1].split(","),Zn.length===4&&qn.setThumbnailSprite({height:parseInt(Zn[3],10),positionX:parseInt(Zn[0],10),positionY:parseInt(Zn[1],10),width:parseInt(Zn[2],10)})),Ln.push(qn);return Yn={id:cn.nextExternalStreamId_++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new shaka.media.SegmentIndex(Ln),mimeType:ln||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",label:null,type:dn.IMAGE,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1"},cn.manifest_.imageStreams.push(Yn),cn.onTracksChanged_(),Jn.return(shaka.util.StreamUtils.imageStreamToTrack(Yn))}})},shaka.Player.prototype.addChaptersTrack=function(sn,ln,cn){var dn=this,pn,vn,Sn,En;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Cn){switch(Cn.nextAddress){case 1:if(dn.loadMode_!=shaka.Player.LoadMode.MEDIA_SOURCE&&dn.loadMode_!=shaka.Player.LoadMode.SRC_EQUALS)throw shaka.log.error("Must call load() and wait for it to resolve before adding chapters tracks."),new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.CONTENT_NOT_LOADED);if(cn){Cn.jumpTo(2);break}return Cn.yield(dn.getTextMimetype_(sn),3);case 3:cn=Cn.yieldResult;case 2:if(pn=[],dn.adManager_)try{pn=dn.adManager_.getServerSideCuePoints()}catch{}return Cn.yield(dn.addSrcTrackElement_(sn,ln,"chapters",cn,"",pn),4);case 4:if(vn=Cn.yieldResult,Sn=dn.getChaptersTracks(),En=Sn.find(function(Pn){return Pn.language==ln}),!En){Cn.jumpTo(5);break}return Cn.yield(new Promise(function(Pn,Rn){dn.loadEventManager_.listenOnce(vn,"load",Pn),dn.loadEventManager_.listenOnce(vn,"error",function(Ln){Rn(new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.CHAPTERS_TRACK_FAILED))})}),6);case 6:return Cn.return(En);case 5:throw shaka.log.error("Cannot add this text when loaded with src="),new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS)}})},shaka.Player.prototype.getTextMimetype_=function(sn){var ln=this,cn,dn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(pn){switch(pn.nextAddress){case 1:return cn=shaka.media.ManifestParser.getExtension(sn),(dn=shaka.Player.TEXT_EXTENSIONS_TO_MIME_TYPES_[cn])?pn.return(dn):(pn.setCatchFinallyBlocks(2),goog.asserts.assert(ln.networkingEngine_,"Need networking engine."),pn.yield(shaka.media.ManifestParser.getMimeType(sn,ln.networkingEngine_,ln.config_.streaming.retryParameters),4));case 4:dn=pn.yieldResult,pn.leaveTryBlock(3);break;case 2:pn.enterCatchBlock();case 3:if(dn)return pn.return(dn);throw shaka.log.error("The mimeType has not been provided and it could not be deduced from its extension."),new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.TEXT_COULD_NOT_GUESS_MIME_TYPE,cn)}})},shaka.Player.prototype.addSrcTrackElement_=function(sn,ln,cn,dn,pn,vn){var Sn=this,En,Cn,Pn,Rn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ln){return Ln.nextAddress==1?dn=="text/vtt"&&!vn.length?Ln.jumpTo(2):(goog.asserts.assert(Sn.networkingEngine_,"Need networking engine."),Ln.yield(Sn.getTextData_(sn,Sn.networkingEngine_,Sn.config_.streaming.retryParameters),3)):(Ln.nextAddress!=2&&(En=Ln.yieldResult,Cn=Sn.convertToWebVTT_(En,dn,vn),Pn=new Blob([Cn],{type:"text/vtt"}),sn=shaka.media.MediaSourceEngine.createObjectURL(Pn),dn="text/vtt"),Rn=document.createElement("track"),Rn.src=Sn.cmcdManager_.appendTextTrackData(sn),Rn.label=pn,Rn.kind=cn,Rn.srclang=ln,Sn.video_.getAttribute("crossorigin")||Sn.video_.setAttribute("crossorigin","anonymous"),Sn.video_.appendChild(Rn),Ln.return(Rn))})},shaka.Player.prototype.getTextData_=function(sn,ln,cn){var dn=this,pn,vn,Sn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(En){return En.nextAddress==1?(pn=shaka.net.NetworkingEngine.RequestType.SEGMENT,vn=shaka.net.NetworkingEngine.makeRequest([sn],cn),vn.method="GET",dn.cmcdManager_.applyTextData(vn),En.yield(ln.request(pn,vn).promise,2)):(Sn=En.yieldResult,En.return(Sn.data))})},shaka.Player.prototype.convertToWebVTT_=function(sn,ln,cn){var dn=shaka.text.TextEngine.findParser(ln);if(dn)return ln=dn(),dn={periodStart:0,segmentStart:0,segmentEnd:this.video_.duration,vttOffset:0},sn=shaka.util.BufferUtils.toUint8(sn),sn=ln.parseMedia(sn,dn),shaka.text.WebVttGenerator.convert(sn,cn);throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.MISSING_TEXT_PLUGIN,ln)},shaka.Player.prototype.setMaxHardwareResolution=function(sn,ln){this.maxHwRes_.width=sn,this.maxHwRes_.height=ln},shaka.Player.prototype.retryStreaming=function(sn){return this.loadMode_==shaka.Player.LoadMode.MEDIA_SOURCE?this.streamingEngine_.retry(sn===void 0?.1:sn):!1},shaka.Player.prototype.getManifest=function(){return shaka.log.alwaysWarn("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.manifest_},shaka.Player.prototype.getManifestParserFactory=function(){return this.parserFactory_},shaka.Player.prototype.addVariantToSwitchHistory_=function(sn,ln){this.stats_.getSwitchHistory().updateCurrentVariant(sn,ln)},shaka.Player.prototype.addTextStreamToSwitchHistory_=function(sn,ln){this.stats_.getSwitchHistory().updateCurrentText(sn,ln)},shaka.Player.prototype.defaultConfig_=function(){var sn=this,ln=shaka.util.PlayerConfiguration.createDefault();return ln.streaming.failureCallback=function(cn){sn.defaultStreamingFailureCallback_(cn)},ln.textDisplayFactory=function(){return sn.videoContainer_?new shaka.text.UITextDisplayer(sn.video_,sn.videoContainer_):new shaka.text.SimpleTextDisplayer(sn.video_)},ln},shaka.Player.prototype.setVideoContainer=function(sn){this.videoContainer_=sn},shaka.Player.prototype.defaultStreamingFailureCallback_=function(sn){if(this.isLive()){var ln=null;sn.code==shaka.util.Error.Code.BAD_HTTP_STATUS||sn.code==shaka.util.Error.Code.HTTP_ERROR?ln=1:sn.code==shaka.util.Error.Code.TIMEOUT&&(ln=.1),ln!=null&&(sn.severity=shaka.util.Error.Severity.RECOVERABLE,shaka.log.warning("Live streaming error.  Retrying automatically..."),this.retryStreaming(ln))}},shaka.Player.prototype.makeTextStreamsForClosedCaptions_=function(sn){for(var ln=shaka.util.ManifestParserUtils.ContentType,cn=shaka.util.ManifestParserUtils.TextStreamKind,dn=shaka.util.MimeUtils.CEA608_CLOSED_CAPTION_MIMETYPE,pn=shaka.util.MimeUtils.CEA708_CLOSED_CAPTION_MIMETYPE,vn=new Set,Sn=$jscomp.makeIterator(sn.textStreams),En=Sn.next();!En.done;En=Sn.next())En=En.value,En.mimeType!=dn&&En.mimeType!=pn||vn.add(En.originalId);for(Sn=$jscomp.makeIterator(sn.variants),En=Sn.next();!En.done;En=Sn.next())if((En=En.value.video)&&En.closedCaptions){for(var Cn=$jscomp.makeIterator(En.closedCaptions.keys()),Pn=Cn.next();!Pn.done;Pn=Cn.next())if(Pn=Pn.value,!vn.has(Pn)){var Rn=Pn.startsWith("CC")?dn:pn,Ln=new shaka.media.MetaSegmentIndex;Rn={id:this.nextExternalStreamId_++,originalId:Pn,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Ln,mimeType:Rn,codecs:"",kind:cn.CLOSED_CAPTION,encrypted:!1,drmInfos:[],keyIds:new Set,language:En.closedCaptions.get(Pn),label:null,type:ln.TEXT,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:En.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},sn.textStreams.push(Rn),vn.add(Pn)}}},shaka.Player.prototype.filterManifest_=function(sn){var ln=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cn){if(cn.nextAddress==1)return cn.yield(ln.filterManifestWithStreamUtils_(sn),2);ln.filterManifestWithRestrictions_(sn),cn.jumpToEnd()})},shaka.Player.prototype.filterManifestWithStreamUtils_=function(sn){var ln=this,cn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dn){if(dn.nextAddress==1)return goog.asserts.assert(sn,"Manifest should exist!"),goog.asserts.assert(ln.video_,"Must not be destroyed"),cn=ln.streamingEngine_?ln.streamingEngine_.getCurrentVariant():null,dn.yield(shaka.util.StreamUtils.filterManifest(ln.drmEngine_,cn,sn),2);ln.checkPlayableVariants_(sn),dn.jumpToEnd()})},shaka.Player.prototype.filterManifestWithRestrictions_=function(sn){if(this.loadMode_!=shaka.Player.LoadMode.DESTROYED){shaka.util.StreamUtils.applyRestrictions(sn.variants,this.config_.restrictions,this.maxHwRes_)&&this.streamingEngine_&&this.onTracksChanged_();var ln=this.drmEngine_?this.drmEngine_.getDrmInfo():null;if(ln&&this.drmEngine_.getMediaKeys())for(var cn=$jscomp.makeIterator(sn.variants),dn=cn.next();!dn.done;dn=cn.next())dn=dn.value,this.processDrmInfos_(ln.keySystem,dn.video),this.processDrmInfos_(ln.keySystem,dn.audio);this.checkRestrictedVariants_(sn)}},shaka.Player.prototype.processDrmInfos_=function(sn,ln){if(ln){ln=$jscomp.makeIterator(ln.drmInfos);for(var cn=ln.next();!cn.done;cn=ln.next())if(cn=cn.value,cn.keySystem==sn){cn=$jscomp.makeIterator(cn.initData||[]);for(var dn=cn.next();!dn.done;dn=cn.next())dn=dn.value,this.drmEngine_.newInitData(dn.initDataType,dn.initData)}}},shaka.Player.prototype.filterManifestByCurrentVariant_=function(){goog.asserts.assert(this.manifest_,"Manifest should be valid"),goog.asserts.assert(this.streamingEngine_,"StreamingEngine should be valid");var sn=this.streamingEngine_?this.streamingEngine_.getCurrentVariant():null;shaka.util.StreamUtils.filterManifestByCurrentVariant(sn,this.manifest_),this.checkPlayableVariants_(this.manifest_)},shaka.Player.prototype.adjustStartTime_=function(sn,ln){var cn,dn,pn,vn,Sn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(En){return En.nextAddress==1?(cn=sn.audio,dn=sn.video,pn=function(Cn,Pn){var Rn,Ln,Fn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Gn){return Gn.nextAddress==1?Cn?Gn.yield(Cn.createSegmentIndex(),2):Gn.return(null):(Ln=(Rn=Cn.segmentIndex.getIteratorForTime(Pn))?Rn.next().value:null,Ln?(Fn=Ln.startTime,goog.asserts.assert(Fn<=Pn,"Segment should start before target time!"),Gn.return(Fn)):Gn.return(null))})},En.yield(pn(cn,ln),2)):En.nextAddress!=3?(vn=En.yieldResult,En.yield(pn(dn,ln),3)):(Sn=En.yieldResult,Sn!=null&&vn!=null?En.return(Math.max(Sn,vn)):Sn!=null?En.return(Sn):vn!=null?En.return(vn):En.return(ln))})},shaka.Player.prototype.updateBufferState_=function(){var sn=this.isBuffering();shaka.log.v2("Player changing buffering state to",sn),this.stats_&&this.bufferObserver_&&this.playhead_&&(this.playRateController_.setBuffering(sn),this.cmcdManager_&&this.cmcdManager_.setBuffering(sn),this.updateStateHistory_());var ln=shaka.util.FakeEvent.EventName.Buffering;sn=new Map().set("buffering",sn),this.dispatchEvent(this.makeEvent_(ln,sn))},shaka.Player.prototype.onRateChange_=function(){var sn=this.video_.playbackRate;sn!=0&&(this.playRateController_&&this.playRateController_.set(sn),sn=this.makeEvent_(shaka.util.FakeEvent.EventName.RateChange),this.dispatchEvent(sn))},shaka.Player.prototype.updateStateHistory_=function(){if(this.stats_&&this.bufferObserver_){var sn=shaka.media.BufferingObserver.State,ln=this.stats_.getStateHistory();this.bufferObserver_.getState()==sn.STARVING?ln.update("buffering"):this.video_.paused?ln.update("paused"):this.video_.ended?ln.update("ended"):ln.update("playing")}},shaka.Player.prototype.onSeek_=function(){this.playheadObservers_&&this.playheadObservers_.notifyOfSeek(),this.streamingEngine_&&this.streamingEngine_.seeked(),this.bufferObserver_&&this.pollBufferState_()},shaka.Player.prototype.updateAbrManagerVariants_=function(){try{goog.asserts.assert(this.manifest_,"Manifest should exist by now!"),this.checkRestrictedVariants_(this.manifest_)}catch(ln){return this.onError_(ln),!1}var sn=this.manifest_.variants.filter(function(ln){return shaka.util.StreamUtils.isPlayable(ln)});return sn=this.currentAdaptationSetCriteria_.create(sn),this.abrManager_.setVariants(Array.from(sn.values())),!0},shaka.Player.prototype.chooseVariant_=function(){return this.updateAbrManagerVariants_()?this.abrManager_.chooseVariant():null},shaka.Player.prototype.checkVariants_=function(){shaka.util.StreamUtils.applyRestrictions(this.manifest_.variants,this.config_.restrictions,this.maxHwRes_)&&this.chooseVariant_()},shaka.Player.prototype.chooseTextStream_=function(){return shaka.util.StreamUtils.filterStreamsByLanguageAndRole(this.manifest_.textStreams,this.currentTextLanguage_,this.currentTextRole_,this.currentTextForced_)[0]||null},shaka.Player.prototype.chooseVariantAndSwitch_=function(){goog.asserts.assert(this.config_,"Must not be destroyed");var sn=this.chooseVariant_();sn&&this.switchVariant_(sn,!0,!0,0)},shaka.Player.prototype.switchVariant_=function(sn,ln,cn,dn){var pn=this.streamingEngine_.getCurrentVariant();sn==pn?(shaka.log.debug("Variant already selected."),cn&&this.streamingEngine_.switchVariant(sn,cn,dn,!0)):(this.addVariantToSwitchHistory_(sn,ln),this.streamingEngine_.switchVariant(sn,cn,dn,void 0,ln),cn=null,pn&&(cn=shaka.util.StreamUtils.variantToTrack(pn)),sn=shaka.util.StreamUtils.variantToTrack(sn),ln?this.onAdaptation_(cn,sn):this.onVariantChanged_(cn,sn))},shaka.Player.prototype.switchHtml5Track_=function(sn){goog.asserts.assert(this.video_&&this.video_.audioTracks,"Video and video.audioTracks should not be null!");var ln=Array.from(this.video_.audioTracks).find(function(cn){return cn.enabled});sn.enabled=!0,sn.id!==ln.id&&(ln.enabled=!1),ln=shaka.util.StreamUtils.html5AudioTrackToTrack(ln),sn=shaka.util.StreamUtils.html5AudioTrackToTrack(sn),this.onVariantChanged_(ln,sn)},shaka.Player.prototype.setInitialTextState_=function(sn,ln){ln?(sn.audio&&this.shouldInitiallyShowText_(sn.audio,ln)&&(this.isTextVisible_=!0),this.isTextVisible_&&(this.mediaSourceEngine_.getTextDisplayer().setTextVisibility(!0),goog.asserts.assert(this.shouldStreamText_(),"Should be streaming text")),this.onTextTrackVisibility_()):this.isTextVisible_=!1},shaka.Player.prototype.shouldInitiallyShowText_=function(sn,ln){var cn=shaka.config.AutoShowText;if(this.config_.autoShowText==cn.NEVER)return!1;if(this.config_.autoShowText==cn.ALWAYS)return!0;var dn=shaka.util.LanguageUtils,pn=dn.normalize(this.config_.preferredTextLanguage);return ln=dn.normalize(ln.language),this.config_.autoShowText==cn.IF_PREFERRED_TEXT_LANGUAGE?dn.areLanguageCompatible(ln,pn):this.config_.autoShowText==cn.IF_SUBTITLES_MAY_BE_NEEDED?(sn=dn.normalize(sn.language),dn.areLanguageCompatible(ln,pn)&&!dn.areLanguageCompatible(sn,ln)):(shaka.log.alwaysWarn("Invalid autoShowText setting!"),!1)},shaka.Player.prototype.onManifestUpdate_=function(){this.parser_&&this.parser_.update&&this.parser_.update()},shaka.Player.prototype.onSegmentAppended_=function(sn,ln,cn){this.playhead_&&this.playhead_.notifyOfBufferingChange(),this.pollBufferState_(),sn=new Map().set("start",sn).set("end",ln).set("contentType",cn),this.dispatchEvent(this.makeEvent_(shaka.util.FakeEvent.EventName.SegmentAppended,sn))},shaka.Player.prototype.switch_=function(sn,ln,cn){ln=ln===void 0?!1:ln,cn=cn===void 0?0:cn,shaka.log.debug("switch_"),goog.asserts.assert(this.config_.abr.enabled,"AbrManager should not call switch while disabled!"),goog.asserts.assert(this.manifest_,"We need a manifest to switch variants."),this.streamingEngine_&&sn!=this.streamingEngine_.getCurrentVariant()&&this.switchVariant_(sn,!0,ln,cn)},shaka.Player.prototype.onAdaptation_=function(sn,ln){sn=new Map().set("oldTrack",sn).set("newTrack",ln),this.lcevcDil_&&this.lcevcDil_.updateVariant(ln),ln=this.makeEvent_(shaka.util.FakeEvent.EventName.Adaptation,sn),this.delayDispatchEvent_(ln)},shaka.Player.prototype.onTracksChanged_=function(){var sn=this.makeEvent_(shaka.util.FakeEvent.EventName.TracksChanged);this.delayDispatchEvent_(sn)},shaka.Player.prototype.onVariantChanged_=function(sn,ln){sn=new Map().set("oldTrack",sn).set("newTrack",ln),this.lcevcDil_&&this.lcevcDil_.updateVariant(ln),ln=this.makeEvent_(shaka.util.FakeEvent.EventName.VariantChanged,sn),this.delayDispatchEvent_(ln)},shaka.Player.prototype.onTextChanged_=function(){var sn=this.makeEvent_(shaka.util.FakeEvent.EventName.TextChanged);this.delayDispatchEvent_(sn)},shaka.Player.prototype.onTextTrackVisibility_=function(){var sn=this.makeEvent_(shaka.util.FakeEvent.EventName.TextTrackVisibility);this.delayDispatchEvent_(sn)},shaka.Player.prototype.onAbrStatusChanged_=function(){var sn=new Map().set("newStatus",this.config_.abr.enabled);this.delayDispatchEvent_(this.makeEvent_(shaka.util.FakeEvent.EventName.AbrStatusChanged,sn))},shaka.Player.prototype.tryToRecoverFromError_=function(sn){if(sn.code!=shaka.util.Error.Code.HTTP_ERROR&&sn.code!=shaka.util.Error.Code.SEGMENT_MISSING||sn.category!=shaka.util.Error.Category.NETWORK||!navigator.onLine)return!1;var ln=this.config_.streaming.maxDisabledTime;if(ln==0)if(sn.code==shaka.util.Error.Code.SEGMENT_MISSING)ln=1;else return!1;sn.code==shaka.util.Error.Code.HTTP_ERROR&&shaka.log.debug("Recoverable NETWORK HTTP_ERROR, trying to recover..."),sn=this.getVariantTracks().find(function(vn){return vn.active}),goog.asserts.assert(sn,"Active variant should be found");for(var cn=this.manifest_,dn=$jscomp.makeIterator(cn.variants),pn=dn.next();!pn.done;pn=dn.next())pn=pn.value,pn.id===sn.id&&(pn.disabledUntilTime=Date.now()/1e3+ln);return shaka.util.StreamUtils.applyRestrictions(cn.variants,this.config_.restrictions,this.maxHwRes_),sn=this.chooseVariant_(),sn?(cn=this.getBufferedInfo().video.reduce(function(vn,Sn){return vn+Sn.end-Sn.start},0),this.switchVariant_(sn,!1,!0,cn),this.checkVariantsTimer_.tickAfter(ln),!0):(shaka.log.warning("Not enough variants to recover from error"),!1)},shaka.Player.prototype.onError_=function(sn){if(goog.asserts.assert(sn instanceof shaka.util.Error,"Wrong error type!"),this.loadMode_!=shaka.Player.LoadMode.DESTROYED)if(this.tryToRecoverFromError_(sn))sn.handled=!0;else{var ln=this.makeEvent_(shaka.util.FakeEvent.EventName.Error,new Map().set("detail",sn));this.dispatchEvent(ln),ln.defaultPrevented&&(sn.handled=!0)}},shaka.Player.prototype.onRegionEvent_=function(sn,ln){ln={schemeIdUri:ln.schemeIdUri,value:ln.value,startTime:ln.startTime,endTime:ln.endTime,id:ln.id,eventElement:ln.eventElement},ln=new Map().set("detail",ln),this.dispatchEvent(this.makeEvent_(sn,ln))},shaka.Player.prototype.onMediaQualityChange_=function(sn,ln){sn={bandwidth:sn.bandwidth,audioSamplingRate:sn.audioSamplingRate,codecs:sn.codecs,contentType:sn.contentType,frameRate:sn.frameRate,height:sn.height,mimeType:sn.mimeType,channelsCount:sn.channelsCount,pixelAspectRatio:sn.pixelAspectRatio,width:sn.width},ln=new Map().set("mediaQuality",sn).set("position",ln),this.dispatchEvent(this.makeEvent_(shaka.util.FakeEvent.EventName.MediaQualityChanged,ln))},shaka.Player.prototype.videoErrorToShakaError_=function(){if(goog.asserts.assert(this.video_.error,"Video error expected, but missing!"),!this.video_.error)return null;var sn=this.video_.error.code;if(sn==1)return null;var ln=this.video_.error.msExtendedCode;return ln&&(0>ln&&(ln+=Math.pow(2,32)),ln=ln.toString(16)),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.VIDEO_ERROR,sn,ln,this.video_.error.message)},shaka.Player.prototype.onVideoError_=function(sn){(sn=this.videoErrorToShakaError_())&&this.onError_(sn)},shaka.Player.prototype.onKeyStatus_=function(sn){if(this.streamingEngine_){var ln=Object.keys(sn);ln.length==0&&shaka.log.warning("Got a key status event without any key statuses, so we don't know the real key statuses. If we don't have all the keys, you'll need to set restrictions so we don't select those tracks.");var cn=ln.length==1&&ln[0]=="00";cn&&shaka.log.warning("Got a synthetic key status event, so we don't know the real key statuses. If we don't have all the keys, you'll need to set restrictions so we don't select those tracks.");var dn=shaka.Player.restrictedStatuses_,pn=!1;if(ln.length){ln=$jscomp.makeIterator(this.manifest_.variants);for(var vn=ln.next();!vn.done;vn=ln.next()){vn=vn.value;var Sn=shaka.util.StreamUtils.getVariantStreams(vn);Sn=$jscomp.makeIterator(Sn);for(var En=Sn.next();!En.done;En=Sn.next()){var Cn=En.value;if(En=vn.allowedByKeySystem,Cn.keyIds.size){vn.allowedByKeySystem=!0,Cn=$jscomp.makeIterator(Cn.keyIds);for(var Pn=Cn.next();!Pn.done;Pn=Cn.next())Pn=Pn.value,Pn=sn[cn?"00":Pn],vn.allowedByKeySystem=vn.allowedByKeySystem&&!!Pn&&!dn.includes(Pn)}En!=vn.allowedByKeySystem&&(pn=!0)}}}(!pn||this.updateAbrManagerVariants_())&&((sn=this.streamingEngine_.getCurrentVariant())&&!sn.allowedByKeySystem&&(shaka.log.debug("Choosing new streams after key status changed"),this.chooseVariantAndSwitch_()),pn&&this.onTracksChanged_())}},shaka.Player.prototype.onExpirationUpdated_=function(sn,ln){this.parser_&&this.parser_.onExpirationUpdated&&this.parser_.onExpirationUpdated(sn,ln),sn=this.makeEvent_(shaka.util.FakeEvent.EventName.ExpirationUpdated),this.dispatchEvent(sn)},shaka.Player.prototype.shouldStreamText_=function(){return this.config_.streaming.alwaysStreamText||this.isTextTrackVisible()},shaka.Player.applyPlayRange_=function(sn,ln,cn){0<ln&&(sn.isLive()?shaka.log.warning("|playRangeStart| has been configured for live content. Ignoring the setting."):sn.setUserSeekStart(ln)),ln=sn.getDuration(),cn<ln&&(sn.isLive()?shaka.log.warning("|playRangeEnd| has been configured for live content. Ignoring the setting."):sn.setDuration(cn))},shaka.Player.prototype.checkRestrictedVariants_=function(sn){var ln=shaka.Player.restrictedStatuses_,cn=this.drmEngine_?this.drmEngine_.getKeyStatuses():{},dn=Object.keys(cn);dn=dn.length&&dn[0]=="00";var pn=!1,vn=!1,Sn=new Set,En=new Set;sn=$jscomp.makeIterator(sn.variants);for(var Cn=sn.next();!Cn.done;Cn=sn.next()){Cn=Cn.value;var Pn=[];Cn.audio&&Pn.push(Cn.audio),Cn.video&&Pn.push(Cn.video),Pn=$jscomp.makeIterator(Pn);for(var Rn=Pn.next();!Rn.done;Rn=Pn.next())if(Rn=Rn.value,Rn.keyIds.size){Rn=$jscomp.makeIterator(Rn.keyIds);for(var Ln=Rn.next();!Ln.done;Ln=Rn.next()){Ln=Ln.value;var Fn=cn[dn?"00":Ln];Fn?ln.includes(Fn)&&En.add(Fn):Sn.add(Ln)}}Cn.allowedByApplication?Cn.allowedByKeySystem&&(pn=!0):vn=!0}if(!pn)throw ln={hasAppRestrictions:vn,missingKeys:Array.from(Sn),restrictedKeyStatuses:Array.from(En)},new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.RESTRICTIONS_CANNOT_BE_MET,ln)},shaka.Player.prototype.checkPlayableVariants_=function(sn){if(!sn.variants.some(shaka.util.StreamUtils.isPlayable))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.CONTENT_UNSUPPORTED_BY_BROWSER)},shaka.Player.prototype.delayDispatchEvent_=function(sn){var ln=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cn){if(cn.nextAddress==1)return cn.yield(Promise.resolve(),2);ln.loadMode_!=shaka.Player.LoadMode.DESTROYED&&ln.dispatchEvent(sn),cn.jumpToEnd()})},shaka.Player.getLanguagesFrom_=function(sn){var ln=new Set;sn=$jscomp.makeIterator(sn);for(var cn=sn.next();!cn.done;cn=sn.next())cn=cn.value,cn.language?ln.add(shaka.util.LanguageUtils.normalize(cn.language)):ln.add("und");return ln},shaka.Player.getLanguageAndRolesFrom_=function(sn){var ln=new Map,cn=new Map;sn=$jscomp.makeIterator(sn);for(var dn=sn.next();!dn.done;dn=sn.next()){dn=dn.value;var pn="und",vn=[];dn.language&&(pn=shaka.util.LanguageUtils.normalize(dn.language)),(vn=dn.type=="variant"?dn.audioRoles:dn.roles)&&vn.length||(vn=[""]),ln.has(pn)||ln.set(pn,new Set),vn=$jscomp.makeIterator(vn);for(var Sn=vn.next();!Sn.done;Sn=vn.next())Sn=Sn.value,ln.get(pn).add(Sn),dn.label&&(cn.has(pn)||cn.set(pn,new Map),cn.get(pn).set(Sn,dn.label))}var En=[];return ln.forEach(function(Cn,Pn){Cn=$jscomp.makeIterator(Cn);for(var Rn=Cn.next();!Rn.done;Rn=Cn.next()){Rn=Rn.value;var Ln=null;cn.has(Pn)&&cn.get(Pn).has(Rn)&&(Ln=cn.get(Pn).get(Rn)),En.push({language:Pn,role:Rn,label:Ln})}}),En},shaka.Player.prototype.isBufferedToEndMS_=function(){if(goog.asserts.assert(this.video_,"We need a video element to get buffering information"),goog.asserts.assert(this.mediaSourceEngine_,"We need a media source engine to get buffering information"),goog.asserts.assert(this.manifest_,"We need a manifest to get buffering information"),this.video_.ended||this.mediaSourceEngine_.ended())return!0;if(this.manifest_.presentationTimeline.isLive()){var sn=this.manifest_.presentationTimeline.getSegmentAvailabilityEnd(),ln=shaka.media.TimeRangesUtils.bufferEnd(this.video_.buffered);if(ln!=null&&ln>=sn)return!0}return!1},shaka.Player.prototype.isBufferedToEndSrc_=function(){if(goog.asserts.assert(this.video_,"We need a video element to get buffering information"),this.video_.ended)return!0;var sn=shaka.media.TimeRangesUtils.bufferEnd(this.video_.buffered);return sn!=null&&sn>=this.video_.duration-1},shaka.Player.prototype.createAbortLoadError_=function(){return new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.LOAD_INTERRUPTED)},shaka.Player.prototype.getNextStep_=function(sn,ln,cn,dn){var pn=null;return sn==this.detachNode_&&(pn=cn==this.detachNode_?this.detachNode_:this.attachNode_),sn==this.attachNode_&&(pn=this.getNextAfterAttach_(cn,ln,dn)),sn==this.mediaSourceNode_&&(pn=this.getNextAfterMediaSource_(cn,ln,dn)),sn==this.parserNode_&&(pn=this.getNextMatchingAllDependencies_(this.loadNode_,this.manifestNode_,this.unloadNode_,cn,ln,dn)),sn==this.manifestNode_&&(pn=this.getNextMatchingAllDependencies_(this.loadNode_,this.drmNode_,this.unloadNode_,cn,ln,dn)),sn==this.drmNode_&&(pn=this.getNextMatchingAllDependencies_(this.loadNode_,this.loadNode_,this.unloadNode_,cn,ln,dn)),sn==this.srcEqualsDrmNode_&&(pn=cn==this.srcEqualsNode_&&ln.mediaElement==dn.mediaElement?this.srcEqualsNode_:this.unloadNode_),(sn==this.loadNode_||sn==this.srcEqualsNode_)&&(pn=this.unloadNode_),sn==this.unloadNode_&&(pn=this.getNextAfterUnload_(cn,ln,dn)),goog.asserts.assert(pn,"Missing next step!"),pn},shaka.Player.prototype.getNextAfterAttach_=function(sn,ln,cn){return sn==this.detachNode_||ln.mediaElement!=cn.mediaElement?this.detachNode_:sn==this.attachNode_?this.attachNode_:sn==this.mediaSourceNode_||sn==this.loadNode_?this.mediaSourceNode_:sn==this.srcEqualsNode_?this.srcEqualsDrmNode_:null},shaka.Player.prototype.getNextAfterMediaSource_=function(sn,ln,cn){return sn==this.loadNode_&&ln.mediaElement==cn.mediaElement?this.parserNode_:this.unloadNode_},shaka.Player.prototype.getNextAfterUnload_=function(sn,ln,cn){return cn.mediaElement&&ln.mediaElement==cn.mediaElement?this.attachNode_:this.detachNode_},shaka.Player.prototype.getNextMatchingAllDependencies_=function(sn,ln,cn,dn,pn,vn){return dn==sn&&pn.mediaElement==vn.mediaElement&&pn.uri==vn.uri&&pn.mimeType==vn.mimeType?ln:cn},shaka.Player.createEmptyPayload_=function(){return{mediaElement:null,mimeType:null,startTime:null,startTimeOfLoad:NaN,uri:null}},shaka.Player.prototype.wrapWalkerListenersWithPromise_=function(sn){var ln=this;return new Promise(function(cn,dn){sn.onCancel=function(){return dn(ln.createAbortLoadError_())},sn.onEnd=function(){return cn()},sn.onError=function(pn){return dn(pn)},sn.onSkip=function(){return dn(ln.createAbortLoadError_())}})},goog.exportSymbol("shaka.Player",shaka.Player),goog.exportProperty(shaka.Player.prototype,"setVideoContainer",shaka.Player.prototype.setVideoContainer),goog.exportProperty(shaka.Player.prototype,"getManifestParserFactory",shaka.Player.prototype.getManifestParserFactory),goog.exportProperty(shaka.Player.prototype,"getManifest",shaka.Player.prototype.getManifest),goog.exportProperty(shaka.Player.prototype,"retryStreaming",shaka.Player.prototype.retryStreaming),goog.exportProperty(shaka.Player.prototype,"setMaxHardwareResolution",shaka.Player.prototype.setMaxHardwareResolution),goog.exportProperty(shaka.Player.prototype,"addChaptersTrack",shaka.Player.prototype.addChaptersTrack),goog.exportProperty(shaka.Player.prototype,"addThumbnailsTrack",shaka.Player.prototype.addThumbnailsTrack),goog.exportProperty(shaka.Player.prototype,"addTextTrackAsync",shaka.Player.prototype.addTextTrackAsync),goog.exportProperty(shaka.Player.prototype,"getStats",shaka.Player.prototype.getStats),goog.exportProperty(shaka.Player.prototype,"getBufferedInfo",shaka.Player.prototype.getBufferedInfo),goog.exportProperty(shaka.Player.prototype,"getPresentationStartTimeAsDate",shaka.Player.prototype.getPresentationStartTimeAsDate),goog.exportProperty(shaka.Player.prototype,"getPlayheadTimeAsDate",shaka.Player.prototype.getPlayheadTimeAsDate),goog.exportProperty(shaka.Player.prototype,"setTextTrackVisibility",shaka.Player.prototype.setTextTrackVisibility),goog.exportProperty(shaka.Player.prototype,"getChapters",shaka.Player.prototype.getChapters),goog.exportProperty(shaka.Player.prototype,"getChaptersTracks",shaka.Player.prototype.getChaptersTracks),goog.exportProperty(shaka.Player.prototype,"isTextTrackVisible",shaka.Player.prototype.isTextTrackVisible),goog.exportProperty(shaka.Player.prototype,"selectVariantsByLabel",shaka.Player.prototype.selectVariantsByLabel),goog.exportProperty(shaka.Player.prototype,"selectTextLanguage",shaka.Player.prototype.selectTextLanguage),goog.exportProperty(shaka.Player.prototype,"selectAudioLanguage",shaka.Player.prototype.selectAudioLanguage),goog.exportProperty(shaka.Player.prototype,"getTextLanguages",shaka.Player.prototype.getTextLanguages),goog.exportProperty(shaka.Player.prototype,"getAudioLanguages",shaka.Player.prototype.getAudioLanguages),goog.exportProperty(shaka.Player.prototype,"getTextLanguagesAndRoles",shaka.Player.prototype.getTextLanguagesAndRoles),goog.exportProperty(shaka.Player.prototype,"getAudioLanguagesAndRoles",shaka.Player.prototype.getAudioLanguagesAndRoles),goog.exportProperty(shaka.Player.prototype,"selectVariantTrack",shaka.Player.prototype.selectVariantTrack),goog.exportProperty(shaka.Player.prototype,"selectTextTrack",shaka.Player.prototype.selectTextTrack),goog.exportProperty(shaka.Player.prototype,"getThumbnails",shaka.Player.prototype.getThumbnails),goog.exportProperty(shaka.Player.prototype,"getImageTracks",shaka.Player.prototype.getImageTracks),goog.exportProperty(shaka.Player.prototype,"getTextTracks",shaka.Player.prototype.getTextTracks),goog.exportProperty(shaka.Player.prototype,"getVariantTracks",shaka.Player.prototype.getVariantTracks),goog.exportProperty(shaka.Player.prototype,"cancelTrickPlay",shaka.Player.prototype.cancelTrickPlay),goog.exportProperty(shaka.Player.prototype,"trickPlay",shaka.Player.prototype.trickPlay),goog.exportProperty(shaka.Player.prototype,"getPlaybackRate",shaka.Player.prototype.getPlaybackRate),goog.exportProperty(shaka.Player.prototype,"isBuffering",shaka.Player.prototype.isBuffering),goog.exportProperty(shaka.Player.prototype,"getKeyStatuses",shaka.Player.prototype.getKeyStatuses),goog.exportProperty(shaka.Player.prototype,"getExpiration",shaka.Player.prototype.getExpiration),goog.exportProperty(shaka.Player.prototype,"drmInfo",shaka.Player.prototype.drmInfo),goog.exportProperty(shaka.Player.prototype,"keySystem",shaka.Player.prototype.keySystem),goog.exportProperty(shaka.Player.prototype,"goToLive",shaka.Player.prototype.goToLive),goog.exportProperty(shaka.Player.prototype,"seekRange",shaka.Player.prototype.seekRange),goog.exportProperty(shaka.Player.prototype,"isAudioOnly",shaka.Player.prototype.isAudioOnly),goog.exportProperty(shaka.Player.prototype,"isInProgress",shaka.Player.prototype.isInProgress),goog.exportProperty(shaka.Player.prototype,"isLive",shaka.Player.prototype.isLive),goog.exportProperty(shaka.Player.prototype,"getAdManager",shaka.Player.prototype.getAdManager),goog.exportProperty(shaka.Player.prototype,"getAssetUri",shaka.Player.prototype.getAssetUri),goog.exportProperty(shaka.Player.prototype,"getNetworkingEngine",shaka.Player.prototype.getNetworkingEngine),goog.exportProperty(shaka.Player.prototype,"getMediaElement",shaka.Player.prototype.getMediaElement),goog.exportProperty(shaka.Player.prototype,"getLoadMode",shaka.Player.prototype.getLoadMode),goog.exportProperty(shaka.Player.prototype,"resetConfiguration",shaka.Player.prototype.resetConfiguration),goog.exportProperty(shaka.Player.prototype,"getBufferFullness",shaka.Player.prototype.getBufferFullness),goog.exportProperty(shaka.Player.prototype,"getConfiguration",shaka.Player.prototype.getConfiguration),goog.exportProperty(shaka.Player.prototype,"configure",shaka.Player.prototype.configure),goog.exportProperty(shaka.Player.prototype,"load",shaka.Player.prototype.load),goog.exportProperty(shaka.Player.prototype,"updateStartTime",shaka.Player.prototype.updateStartTime),goog.exportProperty(shaka.Player.prototype,"unload",shaka.Player.prototype.unload),goog.exportProperty(shaka.Player.prototype,"detach",shaka.Player.prototype.detach),goog.exportProperty(shaka.Player.prototype,"attachCanvas",shaka.Player.prototype.attachCanvas),goog.exportProperty(shaka.Player.prototype,"attach",shaka.Player.prototype.attach),goog.exportProperty(shaka.Player,"probeSupport",shaka.Player.probeSupport),goog.exportProperty(shaka.Player,"isBrowserSupported",shaka.Player.isBrowserSupported),goog.exportProperty(shaka.Player,"setAdManagerFactory",shaka.Player.setAdManagerFactory),goog.exportProperty(shaka.Player,"registerSupportPlugin",shaka.Player.registerSupportPlugin),goog.exportProperty(shaka.Player.prototype,"destroy",shaka.Player.prototype.destroy),shaka.Player.LoadMode={DESTROYED:0,NOT_LOADED:1,MEDIA_SOURCE:2,SRC_EQUALS:3},goog.exportProperty(shaka.Player,"LoadMode",shaka.Player.LoadMode),shaka.Player.TYPICAL_BUFFERING_THRESHOLD_=.5,shaka.Player.version="v4.3.6-debug",goog.exportProperty(shaka.Player,"version",shaka.Player.version),shaka.Deprecate.init(shaka.Player.version),shaka.Player.restrictedStatuses_=["output-restricted","internal-error"],shaka.Player.supportPlugins_={},shaka.Player.adManagerFactory_=null,shaka.Player.SRC_EQUAL_EXTENSIONS_TO_MIME_TYPES_={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mpd:"application/dash+xml",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav"},shaka.Player.TEXT_EXTENSIONS_TO_MIME_TYPES_={sbv:"text/x-subviewer",srt:"text/srt",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml",lrc:"application/x-subtitle-lrc",ssa:"text/x-ssa",ass:"text/x-ssa"},shaka.Player.TextTrackLabel="Shaka Player TextTrack",shaka.ads={},shaka.ads.AdsStats=function(){this.loadTimes_=[],this.skipped_=this.playedCompletely_=this.started_=0},shaka.ads.AdsStats.prototype.addLoadTime=function(sn){this.loadTimes_.push(sn)},shaka.ads.AdsStats.prototype.incrementStarted=function(){this.started_++},shaka.ads.AdsStats.prototype.incrementPlayedCompletely=function(){this.playedCompletely_++},shaka.ads.AdsStats.prototype.incrementSkipped=function(){this.skipped_++},shaka.ads.AdsStats.prototype.getBlob=function(){return{loadTimes:this.loadTimes_,started:this.started_,playedCompletely:this.playedCompletely_,skipped:this.skipped_}},shaka.ads.ClientSideAd=function(sn,ln,cn){var dn=this;this.ad_=sn,this.manager_=ln,this.video_=cn,this.isPaused_=!1,this.volume_=this.manager_.getVolume(),this.eventManager_=new shaka.util.EventManager,this.eventManager_.listen(this.manager_,google.ima.AdEvent.Type.PAUSED,function(){dn.isPaused_=!0}),this.eventManager_.listen(this.manager_,google.ima.AdEvent.Type.RESUMED,function(){dn.isPaused_=!1})},shaka.ads.ClientSideAd.prototype.getDuration=function(){return this.ad_.getDuration()},shaka.ads.ClientSideAd.prototype.getMinSuggestedDuration=function(){return this.ad_.getMinSuggestedDuration()},shaka.ads.ClientSideAd.prototype.getRemainingTime=function(){return this.manager_.getRemainingTime()},shaka.ads.ClientSideAd.prototype.isPaused=function(){return this.isPaused_},shaka.ads.ClientSideAd.prototype.isSkippable=function(){return 0<=this.ad_.getSkipTimeOffset()},shaka.ads.ClientSideAd.prototype.getTimeUntilSkippable=function(){var sn=this.ad_.getSkipTimeOffset();return sn=this.getRemainingTime()-sn,Math.max(sn,0)},shaka.ads.ClientSideAd.prototype.canSkipNow=function(){return this.manager_.getAdSkippableState()},shaka.ads.ClientSideAd.prototype.skip=function(){return this.manager_.skip()},shaka.ads.ClientSideAd.prototype.setPaused=function(sn){this.isPaused_=sn},shaka.ads.ClientSideAd.prototype.pause=function(){return this.manager_.pause()},shaka.ads.ClientSideAd.prototype.play=function(){return this.manager_.resume()},shaka.ads.ClientSideAd.prototype.getVolume=function(){return this.manager_.getVolume()},shaka.ads.ClientSideAd.prototype.setVolume=function(sn){return this.manager_.setVolume(sn)},shaka.ads.ClientSideAd.prototype.isMuted=function(){return this.manager_.getVolume()==0},shaka.ads.ClientSideAd.prototype.isLinear=function(){return this.ad_.isLinear()},shaka.ads.ClientSideAd.prototype.resize=function(sn,ln){var cn=!1,dn=this.video_;document.fullscreenEnabled?cn=!!document.fullscreenElement:dn.webkitSupportsFullscreen&&(cn=dn.webkitDisplayingFullscreen),this.manager_.resize(sn,ln,cn?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},shaka.ads.ClientSideAd.prototype.setMuted=function(sn){sn?(this.volume_=this.getVolume(),this.setVolume(0)):this.setVolume(this.volume_)},shaka.ads.ClientSideAd.prototype.getSequenceLength=function(){var sn=this.ad_.getAdPodInfo();return sn==null?1:sn.getTotalAds()},shaka.ads.ClientSideAd.prototype.getPositionInSequence=function(){var sn=this.ad_.getAdPodInfo();return sn==null?1:sn.getAdPosition()},shaka.ads.ClientSideAd.prototype.getTitle=function(){return this.ad_.getTitle()},shaka.ads.ClientSideAd.prototype.getDescription=function(){return this.ad_.getDescription()},shaka.ads.ClientSideAd.prototype.release=function(){this.manager_=this.ad_=null},goog.exportSymbol("shaka.ads.ClientSideAd",shaka.ads.ClientSideAd),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"release",shaka.ads.ClientSideAd.prototype.release),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"getDescription",shaka.ads.ClientSideAd.prototype.getDescription),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"getTitle",shaka.ads.ClientSideAd.prototype.getTitle),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"getPositionInSequence",shaka.ads.ClientSideAd.prototype.getPositionInSequence),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"getSequenceLength",shaka.ads.ClientSideAd.prototype.getSequenceLength),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"setMuted",shaka.ads.ClientSideAd.prototype.setMuted),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"resize",shaka.ads.ClientSideAd.prototype.resize),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"isLinear",shaka.ads.ClientSideAd.prototype.isLinear),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"isMuted",shaka.ads.ClientSideAd.prototype.isMuted),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"setVolume",shaka.ads.ClientSideAd.prototype.setVolume),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"getVolume",shaka.ads.ClientSideAd.prototype.getVolume),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"play",shaka.ads.ClientSideAd.prototype.play),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"pause",shaka.ads.ClientSideAd.prototype.pause),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"skip",shaka.ads.ClientSideAd.prototype.skip),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"canSkipNow",shaka.ads.ClientSideAd.prototype.canSkipNow),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"getTimeUntilSkippable",shaka.ads.ClientSideAd.prototype.getTimeUntilSkippable),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"isSkippable",shaka.ads.ClientSideAd.prototype.isSkippable),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"isPaused",shaka.ads.ClientSideAd.prototype.isPaused),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"getRemainingTime",shaka.ads.ClientSideAd.prototype.getRemainingTime),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"getMinSuggestedDuration",shaka.ads.ClientSideAd.prototype.getMinSuggestedDuration),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"getDuration",shaka.ads.ClientSideAd.prototype.getDuration),shaka.ads.ClientSideAdManager=function(sn,ln,cn,dn){var pn=this;this.adContainer_=sn,this.video_=ln,this.resizeObserver_=null,this.requestAdsStartTime_=NaN,this.onEvent_=dn,this.ad_=null,this.eventManager_=new shaka.util.EventManager,google.ima.settings.setLocale(cn),sn=new google.ima.AdDisplayContainer(this.adContainer_,this.video_),sn.initialize(),this.adsLoader_=new google.ima.AdsLoader(sn),this.adsLoader_.getSettings().setPlayerType("shaka-player"),this.adsLoader_.getSettings().setPlayerVersion(shaka.Player.version),this.imaAdsManager_=null,this.eventManager_.listenOnce(this.adsLoader_,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(vn){pn.onAdsManagerLoaded_(vn)}),this.eventManager_.listen(this.adsLoader_,google.ima.AdErrorEvent.Type.AD_ERROR,function(vn){pn.onAdError_(vn)}),this.eventManager_.listen(this.video_,"ended",function(){pn.adsLoader_.contentComplete()})},shaka.ads.ClientSideAdManager.prototype.requestAds=function(sn){goog.asserts.assert(sn.adTagUrl||sn.adsResponse,"The ad tag needs to be set up before requesting ads, or adsResponse must be filled."),this.requestAdsStartTime_=Date.now()/1e3,this.adsLoader_.requestAds(sn)},shaka.ads.ClientSideAdManager.prototype.stop=function(){this.imaAdsManager_&&this.imaAdsManager_.stop(),this.adContainer_&&shaka.util.Dom.removeAllChildren(this.adContainer_)},shaka.ads.ClientSideAdManager.prototype.release=function(){this.stop(),this.resizeObserver_&&this.resizeObserver_.disconnect(),this.eventManager_&&this.eventManager_.release(),this.imaAdsManager_&&this.imaAdsManager_.destroy(),this.adsLoader_.destroy()},shaka.ads.ClientSideAdManager.prototype.onAdError_=function(sn){shaka.log.warning("There was an ad error from the IMA SDK: "+sn.getError()),shaka.log.warning("Resuming playback."),this.onAdComplete_(null),this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.CUEPOINTS_CHANGED,new Map().set("cuepoints",[])))},shaka.ads.ClientSideAdManager.prototype.onAdsManagerLoaded_=function(sn){var ln=this;goog.asserts.assert(this.video_!=null,"Video should not be null!");var cn=Date.now()/1e3-this.requestAdsStartTime_;if(this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.ADS_LOADED,new Map().set("loadTime",cn))),this.imaAdsManager_=sn.getAdsManager(this.video_),this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.IMA_AD_MANAGER_LOADED,new Map().set("imaAdManager",this.imaAdsManager_))),cn=this.imaAdsManager_.getCuePoints(),cn.length){sn=[],cn=$jscomp.makeIterator(cn);for(var dn=cn.next();!dn.done;dn=cn.next())sn.push({start:dn.value,end:null});this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.CUEPOINTS_CHANGED,new Map().set("cuepoints",sn)))}this.addImaEventListeners_();try{var pn=this.isFullScreenEnabled_()?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL;this.imaAdsManager_.init(this.video_.offsetWidth,this.video_.offsetHeight,pn),this.eventManager_.listen(this.video_,"loadeddata",function(){var vn=ln.isFullScreenEnabled_()?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL;ln.imaAdsManager_.resize(ln.video_.offsetWidth,ln.video_.offsetHeight,vn)}),"ResizeObserver"in window?(this.resizeObserver_=new ResizeObserver(function(){var vn=ln.isFullScreenEnabled_()?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL;ln.imaAdsManager_.resize(ln.video_.offsetWidth,ln.video_.offsetHeight,vn)}),this.resizeObserver_.observe(this.video_)):this.eventManager_.listen(document,"fullscreenchange",function(){var vn=ln.isFullScreenEnabled_()?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL;ln.imaAdsManager_.resize(ln.video_.offsetWidth,ln.video_.offsetHeight,vn)}),this.eventManager_.listenOnce(this.video_,"play",function(){ln.imaAdsManager_.start()})}catch{this.onAdComplete_(null)}},shaka.ads.ClientSideAdManager.prototype.isFullScreenEnabled_=function(){if(document.fullscreenEnabled)return!!document.fullscreenElement;var sn=this.video_;return sn.webkitSupportsFullscreen?sn.webkitDisplayingFullscreen:!1},shaka.ads.ClientSideAdManager.prototype.addImaEventListeners_=function(){var sn=this,ln=function(cn,dn){cn=new Map().set("originalEvent",cn),sn.onEvent_(new shaka.util.FakeEvent(dn,cn))};this.eventManager_.listen(this.imaAdsManager_,google.ima.AdErrorEvent.Type.AD_ERROR,function(cn){sn.onAdError_(cn)}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(cn){sn.onAdStart_(cn)}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.STARTED,function(cn){sn.onAdStart_(cn)}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.FIRST_QUARTILE,function(cn){ln(cn,shaka.ads.AdManager.AD_FIRST_QUARTILE)}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.MIDPOINT,function(cn){ln(cn,shaka.ads.AdManager.AD_MIDPOINT)}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.THIRD_QUARTILE,function(cn){ln(cn,shaka.ads.AdManager.AD_THIRD_QUARTILE)}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.COMPLETE,function(cn){ln(cn,shaka.ads.AdManager.AD_COMPLETE)}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(cn){sn.onAdComplete_(cn)}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(cn){sn.onAdComplete_(cn)}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.SKIPPED,function(cn){ln(cn,shaka.ads.AdManager.AD_SKIPPED)}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.VOLUME_CHANGED,function(cn){ln(cn,shaka.ads.AdManager.AD_VOLUME_CHANGED)}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.VOLUME_MUTED,function(cn){ln(cn,shaka.ads.AdManager.AD_MUTED)}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.PAUSED,function(cn){sn.ad_&&(sn.ad_.setPaused(!0),ln(cn,shaka.ads.AdManager.AD_PAUSED))}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.RESUMED,function(cn){sn.ad_&&(sn.ad_.setPaused(!1),ln(cn,shaka.ads.AdManager.AD_RESUMED))}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,function(cn){sn.ad_&&ln(cn,shaka.ads.AdManager.AD_SKIP_STATE_CHANGED)}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.CLICK,function(cn){ln(cn,shaka.ads.AdManager.AD_CLICKED)}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.AD_PROGRESS,function(cn){ln(cn,shaka.ads.AdManager.AD_PROGRESS)}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.AD_BUFFERING,function(cn){ln(cn,shaka.ads.AdManager.AD_BUFFERING)}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.IMPRESSION,function(cn){ln(cn,shaka.ads.AdManager.AD_IMPRESSION)}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.DURATION_CHANGE,function(cn){ln(cn,shaka.ads.AdManager.AD_DURATION_CHANGED)}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.USER_CLOSE,function(cn){ln(cn,shaka.ads.AdManager.AD_CLOSED)}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.LOADED,function(cn){ln(cn,shaka.ads.AdManager.AD_LOADED)}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(cn){ln(cn,shaka.ads.AdManager.ALL_ADS_COMPLETED)}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.LINEAR_CHANGED,function(cn){ln(cn,shaka.ads.AdManager.AD_LINEAR_CHANGED)}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.AD_METADATA,function(cn){ln(cn,shaka.ads.AdManager.AD_METADATA)}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.LOG,function(cn){ln(cn,shaka.ads.AdManager.AD_RECOVERABLE_ERROR)}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.AD_BREAK_READY,function(cn){ln(cn,shaka.ads.AdManager.AD_BREAK_READY)}),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.INTERACTION,function(cn){ln(cn,shaka.ads.AdManager.AD_INTERACTION)})},shaka.ads.ClientSideAdManager.prototype.onAdStart_=function(sn){goog.asserts.assert(this.imaAdsManager_,"Should have an ads manager at this point!");var ln=sn.getAd();ln?(this.ad_=new shaka.ads.ClientSideAd(ln,this.imaAdsManager_,this.video_),sn=new Map().set("ad",this.ad_).set("sdkAdObject",ln).set("originalEvent",sn),this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_STARTED,sn)),this.ad_.isLinear()&&(this.adContainer_.setAttribute("ad-active","true"),this.video_.pause(),this.ad_.setVolume(this.video_.volume),this.video_.muted&&this.ad_.setMuted(!0))):shaka.log.alwaysWarn("The IMA SDK fired a "+sn.type+" event with no associated ad. Unable to play ad!")},shaka.ads.ClientSideAdManager.prototype.onAdComplete_=function(sn){this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_STOPPED,new Map().set("originalEvent",sn))),this.ad_&&this.ad_.isLinear()&&(this.adContainer_.removeAttribute("ad-active"),this.video_.ended||this.video_.play())},shaka.ads.ServerSideAd=function(sn,ln){this.ad_=sn,this.adProgressData_=null,this.video_=ln},shaka.ads.ServerSideAd.prototype.setProgressData=function(sn){this.adProgressData_=sn},shaka.ads.ServerSideAd.prototype.getDuration=function(){return this.adProgressData_?this.adProgressData_.duration:-1},shaka.ads.ServerSideAd.prototype.getMinSuggestedDuration=function(){return this.getDuration()},shaka.ads.ServerSideAd.prototype.getRemainingTime=function(){return this.adProgressData_?this.adProgressData_.duration-this.adProgressData_.currentTime:-1},shaka.ads.ServerSideAd.prototype.isPaused=function(){return this.video_.paused},shaka.ads.ServerSideAd.prototype.isSkippable=function(){return this.ad_.isSkippable()},shaka.ads.ServerSideAd.prototype.getTimeUntilSkippable=function(){var sn=this.ad_.getSkipTimeOffset();return sn=this.getRemainingTime()-sn,Math.max(sn,0)},shaka.ads.ServerSideAd.prototype.canSkipNow=function(){return this.getTimeUntilSkippable()==0},shaka.ads.ServerSideAd.prototype.skip=function(){this.video_.currentTime+=this.getRemainingTime()},shaka.ads.ServerSideAd.prototype.pause=function(){return this.video_.pause()},shaka.ads.ServerSideAd.prototype.play=function(){return this.video_.play()},shaka.ads.ServerSideAd.prototype.getVolume=function(){return this.video_.volume},shaka.ads.ServerSideAd.prototype.setVolume=function(sn){this.video_.volume=sn},shaka.ads.ServerSideAd.prototype.isMuted=function(){return this.video_.muted},shaka.ads.ServerSideAd.prototype.isLinear=function(){return!0},shaka.ads.ServerSideAd.prototype.resize=function(sn,ln){},shaka.ads.ServerSideAd.prototype.setMuted=function(sn){this.video_.muted=sn},shaka.ads.ServerSideAd.prototype.getSequenceLength=function(){var sn=this.ad_.getAdPodInfo();return sn==null?1:sn.getTotalAds()},shaka.ads.ServerSideAd.prototype.getPositionInSequence=function(){var sn=this.ad_.getAdPodInfo();return sn==null?1:sn.getAdPosition()},shaka.ads.ServerSideAd.prototype.getTitle=function(){return this.ad_.getTitle()},shaka.ads.ServerSideAd.prototype.getDescription=function(){return this.ad_.getDescription()},shaka.ads.ServerSideAd.prototype.release=function(){this.video_=this.adProgressData_=this.ad_=null},goog.exportSymbol("shaka.ads.ServerSideAd",shaka.ads.ServerSideAd),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"release",shaka.ads.ServerSideAd.prototype.release),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"getDescription",shaka.ads.ServerSideAd.prototype.getDescription),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"getTitle",shaka.ads.ServerSideAd.prototype.getTitle),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"getPositionInSequence",shaka.ads.ServerSideAd.prototype.getPositionInSequence),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"getSequenceLength",shaka.ads.ServerSideAd.prototype.getSequenceLength),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"setMuted",shaka.ads.ServerSideAd.prototype.setMuted),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"resize",shaka.ads.ServerSideAd.prototype.resize),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"isLinear",shaka.ads.ServerSideAd.prototype.isLinear),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"isMuted",shaka.ads.ServerSideAd.prototype.isMuted),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"setVolume",shaka.ads.ServerSideAd.prototype.setVolume),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"getVolume",shaka.ads.ServerSideAd.prototype.getVolume),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"play",shaka.ads.ServerSideAd.prototype.play),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"pause",shaka.ads.ServerSideAd.prototype.pause),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"skip",shaka.ads.ServerSideAd.prototype.skip),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"canSkipNow",shaka.ads.ServerSideAd.prototype.canSkipNow),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"getTimeUntilSkippable",shaka.ads.ServerSideAd.prototype.getTimeUntilSkippable),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"isSkippable",shaka.ads.ServerSideAd.prototype.isSkippable),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"isPaused",shaka.ads.ServerSideAd.prototype.isPaused),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"getRemainingTime",shaka.ads.ServerSideAd.prototype.getRemainingTime),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"getMinSuggestedDuration",shaka.ads.ServerSideAd.prototype.getMinSuggestedDuration),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"getDuration",shaka.ads.ServerSideAd.prototype.getDuration),shaka.ads.ServerSideAdManager=function(sn,ln,cn,dn){var pn=this;this.adContainer_=sn,this.video_=ln,this.streamPromise_=null,this.streamRequestStartTime_=NaN,this.onEvent_=dn,this.isLiveContent_=!1,this.adProgressData_=this.ad_=this.snapForwardTime_=null,this.backupUrl_="",this.currentCuePoints_=[],this.eventManager_=new shaka.util.EventManager,sn=new google.ima.dai.api.UiSettings,sn.setLocale(cn),this.streamManager_=new google.ima.dai.api.StreamManager(this.video_,this.adContainer_,sn),this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.IMA_STREAM_MANAGER_LOADED,new Map().set("imaStreamManager",this.streamManager_))),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.LOADED,function(vn){shaka.log.info("Ad SS Loaded"),pn.onLoaded_(vn)}),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.ERROR,function(){shaka.log.info("Ad SS Error"),pn.onError_()}),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,function(){shaka.log.info("Ad Break Started")}),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.STARTED,function(vn){shaka.log.info("Ad Started"),pn.onAdStart_(vn)}),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,function(){shaka.log.info("Ad Break Ended"),pn.onAdBreakEnded_()}),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,function(vn){pn.onAdProgress_(vn)}),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,function(){shaka.log.info("Ad event: First Quartile"),pn.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_FIRST_QUARTILE))}),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.MIDPOINT,function(){shaka.log.info("Ad event: Midpoint"),pn.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_MIDPOINT))}),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,function(){shaka.log.info("Ad event: Third Quartile"),pn.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_THIRD_QUARTILE))}),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.COMPLETE,function(){shaka.log.info("Ad event: Complete"),pn.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_COMPLETE)),pn.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_STOPPED)),pn.adContainer_.removeAttribute("ad-active"),pn.ad_=null}),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.SKIPPED,function(){shaka.log.info("Ad event: Skipped"),pn.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_SKIPPED)),pn.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_STOPPED))}),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,function(vn){shaka.log.info("Ad event: Cue points changed"),pn.onCuePointsChanged_(vn)})},shaka.ads.ServerSideAdManager.prototype.streamRequest=function(sn,ln){return this.streamPromise_?Promise.reject(new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.ADS,shaka.util.Error.Code.CURRENT_DAI_REQUEST_NOT_FINISHED)):(sn instanceof google.ima.dai.api.LiveStreamRequest&&(this.isLiveContent_=!0),this.streamPromise_=new shaka.util.PublicPromise,this.streamManager_.requestStream(sn),this.backupUrl_=ln||"",this.streamRequestStartTime_=Date.now()/1e3,this.streamPromise_)},shaka.ads.ServerSideAdManager.prototype.replaceAdTagParameters=function(sn){this.streamManager_.replaceAdTagParameters(sn)},shaka.ads.ServerSideAdManager.prototype.stop=function(){this.backupUrl_="",this.snapForwardTime_=null,this.currentCuePoints_=[]},shaka.ads.ServerSideAdManager.prototype.release=function(){this.stop(),this.eventManager_&&this.eventManager_.release()},shaka.ads.ServerSideAdManager.prototype.onTimedMetadata=function(sn,ln,cn){this.streamManager_.processMetadata(sn,ln,cn)},shaka.ads.ServerSideAdManager.prototype.onCueMetadataChange=function(sn){if(sn.key&&sn.data){var ln={};ln[sn.key]=sn.data,this.streamManager_.onTimedMetadata(ln)}},shaka.ads.ServerSideAdManager.prototype.getCuePoints=function(){return this.currentCuePoints_},shaka.ads.ServerSideAdManager.prototype.checkForSnapback_=function(){var sn=this.video_.currentTime;if(sn!=0){this.streamManager_.streamTimeForContentTime(sn);var ln=this.streamManager_.previousCuePointForStreamTime(sn);ln&&!ln.played&&(shaka.log.info("Seeking back to the start of the ad break at "+ln.start+" and will return to "+sn),this.snapForwardTime_=sn,this.video_.currentTime=ln.start)}},shaka.ads.ServerSideAdManager.prototype.onAdStart_=function(sn){goog.asserts.assert(this.streamManager_,"Should have a stream manager at this point!"),sn=sn.getAd(),this.ad_=new shaka.ads.ServerSideAd(sn,this.video_),this.adProgressData_&&this.ad_.setProgressData(this.adProgressData_),this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_STARTED,new Map().set("ad",this.ad_))),this.adContainer_.setAttribute("ad-active","true")},shaka.ads.ServerSideAdManager.prototype.onAdBreakEnded_=function(){this.adContainer_.removeAttribute("ad-active");var sn=this.video_.currentTime;this.snapForwardTime_&&this.snapForwardTime_>sn&&(this.video_.currentTime=this.snapForwardTime_,this.snapForwardTime_=null)},shaka.ads.ServerSideAdManager.prototype.onLoaded_=function(sn){var ln=this,cn=Date.now()/1e3-this.streamRequestStartTime_;this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.ADS_LOADED,new Map().set("loadTime",cn))),sn=sn.getStreamData().url,this.streamPromise_.resolve(sn),this.streamPromise_=null,this.isLiveContent_||this.eventManager_.listen(this.video_,"seeked",function(){ln.checkForSnapback_()})},shaka.ads.ServerSideAdManager.prototype.onError_=function(){this.backupUrl_.length?(shaka.log.warning("IMA stream request returned an error. Falling back to the backup asset uri."),this.streamPromise_.resolve(this.backupUrl_)):this.streamPromise_.reject("IMA Stream request returned an error and there was no backup asset uri provided."),this.streamPromise_=null},shaka.ads.ServerSideAdManager.prototype.onAdProgress_=function(sn){this.adProgressData_=sn.getStreamData().adProgressData,this.ad_&&this.ad_.setProgressData(this.adProgressData_)},shaka.ads.ServerSideAdManager.prototype.onCuePointsChanged_=function(sn){var ln=sn.getStreamData();sn=[],ln=$jscomp.makeIterator(ln.cuepoints);for(var cn=ln.next();!cn.done;cn=ln.next())cn=cn.value,sn.push({start:cn.start,end:cn.end});this.currentCuePoints_=sn,this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.CUEPOINTS_CHANGED,new Map().set("cuepoints",sn)))},shaka.ads.AdManager=function(){shaka.util.FakeEventTarget.call(this),this.ssAdManager_=this.csAdManager_=null,this.stats_=new shaka.ads.AdsStats,this.locale_=navigator.language},$jscomp.inherits(shaka.ads.AdManager,shaka.util.FakeEventTarget),shaka.ads.AdManager.prototype.setLocale=function(sn){this.locale_=sn},shaka.ads.AdManager.prototype.initClientSide=function(sn,ln){var cn=this;if(!window.google||!google.ima||!google.ima.AdsLoader)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.ADS,shaka.util.Error.Code.CS_IMA_SDK_MISSING);this.csAdManager_&&this.csAdManager_.release(),this.csAdManager_=new shaka.ads.ClientSideAdManager(sn,ln,this.locale_,function(dn){if(dn&&dn.type)switch(dn.type){case shaka.ads.AdManager.ADS_LOADED:cn.stats_.addLoadTime(dn.loadTime);break;case shaka.ads.AdManager.AD_STARTED:cn.stats_.incrementStarted();break;case shaka.ads.AdManager.AD_COMPLETE:cn.stats_.incrementPlayedCompletely();break;case shaka.ads.AdManager.AD_SKIPPED:cn.stats_.incrementSkipped()}cn.dispatchEvent(dn)})},shaka.ads.AdManager.prototype.release=function(){this.csAdManager_&&(this.csAdManager_.release(),this.csAdManager_=null),this.ssAdManager_&&(this.ssAdManager_.release(),this.ssAdManager_=null),shaka.util.FakeEventTarget.prototype.release.call(this)},shaka.ads.AdManager.prototype.onAssetUnload=function(){this.csAdManager_&&this.csAdManager_.stop(),this.ssAdManager_&&this.ssAdManager_.stop(),this.dispatchEvent(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_STOPPED)),this.stats_=new shaka.ads.AdsStats},shaka.ads.AdManager.prototype.requestClientSideAds=function(sn){if(!this.csAdManager_)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.ADS,shaka.util.Error.Code.CS_AD_MANAGER_NOT_INITIALIZED);this.csAdManager_.requestAds(sn)},shaka.ads.AdManager.prototype.initServerSide=function(sn,ln){var cn=this;if(!window.google||!google.ima||!google.ima.dai)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.ADS,shaka.util.Error.Code.SS_IMA_SDK_MISSING);this.ssAdManager_&&this.ssAdManager_.release(),this.ssAdManager_=new shaka.ads.ServerSideAdManager(sn,ln,this.locale_,function(dn){if(dn&&dn.type)switch(dn.type){case shaka.ads.AdManager.ADS_LOADED:cn.stats_.addLoadTime(dn.loadTime);break;case shaka.ads.AdManager.AD_STARTED:cn.stats_.incrementStarted();break;case shaka.ads.AdManager.AD_COMPLETE:cn.stats_.incrementPlayedCompletely();break;case shaka.ads.AdManager.AD_SKIPPED:cn.stats_.incrementSkipped()}cn.dispatchEvent(dn)})},shaka.ads.AdManager.prototype.requestServerSideStream=function(sn,ln){if(ln=ln===void 0?"":ln,!this.ssAdManager_)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.ADS,shaka.util.Error.Code.SS_AD_MANAGER_NOT_INITIALIZED);sn.adTagParameters||(sn.adTagParameters={});var cn=sn.adTagParameters;return(cn.mpt||cn.mpv)&&shaka.log.alwaysWarn('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),sn.adTagParameters.mpt="shaka-player",sn.adTagParameters.mpv=shaka.Player.version,this.ssAdManager_.streamRequest(sn,ln)},shaka.ads.AdManager.prototype.replaceServerSideAdTagParameters=function(sn){if(!this.ssAdManager_)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.ADS,shaka.util.Error.Code.SS_AD_MANAGER_NOT_INITIALIZED);(sn.mpt||sn.mpv)&&shaka.log.alwaysWarn('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),sn.mpt="Shaka Player",sn.mpv=shaka.Player.version,this.ssAdManager_.replaceAdTagParameters(sn)},shaka.ads.AdManager.prototype.getServerSideCuePoints=function(){if(!this.ssAdManager_)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.ADS,shaka.util.Error.Code.SS_AD_MANAGER_NOT_INITIALIZED);return this.ssAdManager_.getCuePoints()},shaka.ads.AdManager.prototype.getStats=function(){return this.stats_.getBlob()},shaka.ads.AdManager.prototype.onDashTimedMetadata=function(sn){if(this.ssAdManager_&&sn.schemeIdUri=="urn:google:dai:2018"){var ln=sn.schemeIdUri,cn=sn.eventElement?sn.eventElement.getAttribute("messageData"):null;this.ssAdManager_.onTimedMetadata(ln,cn,sn.startTime)}},shaka.ads.AdManager.prototype.onHlsTimedMetadata=function(sn,ln){this.ssAdManager_&&this.ssAdManager_.onTimedMetadata("ID3",sn.data,ln)},shaka.ads.AdManager.prototype.onCueMetadataChange=function(sn){this.ssAdManager_&&this.ssAdManager_.onCueMetadataChange(sn)},goog.exportSymbol("shaka.ads.AdManager",shaka.ads.AdManager),goog.exportProperty(shaka.ads.AdManager.prototype,"onCueMetadataChange",shaka.ads.AdManager.prototype.onCueMetadataChange),goog.exportProperty(shaka.ads.AdManager.prototype,"onHlsTimedMetadata",shaka.ads.AdManager.prototype.onHlsTimedMetadata),goog.exportProperty(shaka.ads.AdManager.prototype,"onDashTimedMetadata",shaka.ads.AdManager.prototype.onDashTimedMetadata),goog.exportProperty(shaka.ads.AdManager.prototype,"getStats",shaka.ads.AdManager.prototype.getStats),goog.exportProperty(shaka.ads.AdManager.prototype,"getServerSideCuePoints",shaka.ads.AdManager.prototype.getServerSideCuePoints),goog.exportProperty(shaka.ads.AdManager.prototype,"replaceServerSideAdTagParameters",shaka.ads.AdManager.prototype.replaceServerSideAdTagParameters),goog.exportProperty(shaka.ads.AdManager.prototype,"requestServerSideStream",shaka.ads.AdManager.prototype.requestServerSideStream),goog.exportProperty(shaka.ads.AdManager.prototype,"initServerSide",shaka.ads.AdManager.prototype.initServerSide),goog.exportProperty(shaka.ads.AdManager.prototype,"requestClientSideAds",shaka.ads.AdManager.prototype.requestClientSideAds),goog.exportProperty(shaka.ads.AdManager.prototype,"onAssetUnload",shaka.ads.AdManager.prototype.onAssetUnload),goog.exportProperty(shaka.ads.AdManager.prototype,"release",shaka.ads.AdManager.prototype.release),goog.exportProperty(shaka.ads.AdManager.prototype,"initClientSide",shaka.ads.AdManager.prototype.initClientSide),goog.exportProperty(shaka.ads.AdManager.prototype,"setLocale",shaka.ads.AdManager.prototype.setLocale),shaka.ads.AdManager.ADS_LOADED="ads-loaded",goog.exportProperty(shaka.ads.AdManager,"ADS_LOADED",shaka.ads.AdManager.ADS_LOADED),shaka.ads.AdManager.AD_STARTED="ad-started",goog.exportProperty(shaka.ads.AdManager,"AD_STARTED",shaka.ads.AdManager.AD_STARTED),shaka.ads.AdManager.AD_FIRST_QUARTILE="ad-first-quartile",goog.exportProperty(shaka.ads.AdManager,"AD_FIRST_QUARTILE",shaka.ads.AdManager.AD_FIRST_QUARTILE),shaka.ads.AdManager.AD_MIDPOINT="ad-midpoint",goog.exportProperty(shaka.ads.AdManager,"AD_MIDPOINT",shaka.ads.AdManager.AD_MIDPOINT),shaka.ads.AdManager.AD_THIRD_QUARTILE="ad-third-quartile",goog.exportProperty(shaka.ads.AdManager,"AD_THIRD_QUARTILE",shaka.ads.AdManager.AD_THIRD_QUARTILE),shaka.ads.AdManager.AD_COMPLETE="ad-complete",goog.exportProperty(shaka.ads.AdManager,"AD_COMPLETE",shaka.ads.AdManager.AD_COMPLETE),shaka.ads.AdManager.AD_STOPPED="ad-stopped",goog.exportProperty(shaka.ads.AdManager,"AD_STOPPED",shaka.ads.AdManager.AD_STOPPED),shaka.ads.AdManager.AD_SKIPPED="ad-skipped",goog.exportProperty(shaka.ads.AdManager,"AD_SKIPPED",shaka.ads.AdManager.AD_SKIPPED),shaka.ads.AdManager.AD_VOLUME_CHANGED="ad-volume-changed",goog.exportProperty(shaka.ads.AdManager,"AD_VOLUME_CHANGED",shaka.ads.AdManager.AD_VOLUME_CHANGED),shaka.ads.AdManager.AD_MUTED="ad-muted",goog.exportProperty(shaka.ads.AdManager,"AD_MUTED",shaka.ads.AdManager.AD_MUTED),shaka.ads.AdManager.AD_PAUSED="ad-paused",goog.exportProperty(shaka.ads.AdManager,"AD_PAUSED",shaka.ads.AdManager.AD_PAUSED),shaka.ads.AdManager.AD_RESUMED="ad-resumed",goog.exportProperty(shaka.ads.AdManager,"AD_RESUMED",shaka.ads.AdManager.AD_RESUMED),shaka.ads.AdManager.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",goog.exportProperty(shaka.ads.AdManager,"AD_SKIP_STATE_CHANGED",shaka.ads.AdManager.AD_SKIP_STATE_CHANGED),shaka.ads.AdManager.CUEPOINTS_CHANGED="ad-cue-points-changed",goog.exportProperty(shaka.ads.AdManager,"CUEPOINTS_CHANGED",shaka.ads.AdManager.CUEPOINTS_CHANGED),shaka.ads.AdManager.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",goog.exportProperty(shaka.ads.AdManager,"IMA_AD_MANAGER_LOADED",shaka.ads.AdManager.IMA_AD_MANAGER_LOADED),shaka.ads.AdManager.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",goog.exportProperty(shaka.ads.AdManager,"IMA_STREAM_MANAGER_LOADED",shaka.ads.AdManager.IMA_STREAM_MANAGER_LOADED),shaka.ads.AdManager.AD_CLICKED="ad-clicked",goog.exportProperty(shaka.ads.AdManager,"AD_CLICKED",shaka.ads.AdManager.AD_CLICKED),shaka.ads.AdManager.AD_PROGRESS="ad-progress",goog.exportProperty(shaka.ads.AdManager,"AD_PROGRESS",shaka.ads.AdManager.AD_PROGRESS),shaka.ads.AdManager.AD_BUFFERING="ad-buffering",goog.exportProperty(shaka.ads.AdManager,"AD_BUFFERING",shaka.ads.AdManager.AD_BUFFERING),shaka.ads.AdManager.AD_IMPRESSION="ad-impression",goog.exportProperty(shaka.ads.AdManager,"AD_IMPRESSION",shaka.ads.AdManager.AD_IMPRESSION),shaka.ads.AdManager.AD_DURATION_CHANGED="ad-duration-changed",goog.exportProperty(shaka.ads.AdManager,"AD_DURATION_CHANGED",shaka.ads.AdManager.AD_DURATION_CHANGED),shaka.ads.AdManager.AD_CLOSED="ad-closed",goog.exportProperty(shaka.ads.AdManager,"AD_CLOSED",shaka.ads.AdManager.AD_CLOSED),shaka.ads.AdManager.AD_LOADED="ad-loaded",goog.exportProperty(shaka.ads.AdManager,"AD_LOADED",shaka.ads.AdManager.AD_LOADED),shaka.ads.AdManager.ALL_ADS_COMPLETED="all-ads-completed",goog.exportProperty(shaka.ads.AdManager,"ALL_ADS_COMPLETED",shaka.ads.AdManager.ALL_ADS_COMPLETED),shaka.ads.AdManager.AD_LINEAR_CHANGED="ad-linear-changed",goog.exportProperty(shaka.ads.AdManager,"AD_LINEAR_CHANGED",shaka.ads.AdManager.AD_LINEAR_CHANGED),shaka.ads.AdManager.AD_METADATA="ad-metadata",goog.exportProperty(shaka.ads.AdManager,"AD_METADATA",shaka.ads.AdManager.AD_METADATA),shaka.ads.AdManager.AD_RECOVERABLE_ERROR="ad-recoverable-error",goog.exportProperty(shaka.ads.AdManager,"AD_RECOVERABLE_ERROR",shaka.ads.AdManager.AD_RECOVERABLE_ERROR),shaka.ads.AdManager.AD_BREAK_READY="ad-break-ready",goog.exportProperty(shaka.ads.AdManager,"AD_BREAK_READY",shaka.ads.AdManager.AD_BREAK_READY),shaka.ads.AdManager.AD_INTERACTION="ad-interaction",goog.exportProperty(shaka.ads.AdManager,"AD_INTERACTION",shaka.ads.AdManager.AD_INTERACTION),shaka.Player.setAdManagerFactory(function(){return new shaka.ads.AdManager}),shaka.cast={},shaka.cast.CastUtils=function(){},shaka.cast.CastUtils.serialize=function(sn){return JSON.stringify(sn,function(ln,cn){if(typeof cn!="function"){if(cn instanceof Event||cn instanceof shaka.util.FakeEvent){ln={};for(var dn in cn){var pn=cn[dn];pn&&typeof pn=="object"?dn=="detail"&&(ln[dn]=pn):dn in Event||(ln[dn]=pn)}return ln}return cn instanceof Error?shaka.cast.CastUtils.unpackError_(cn):cn instanceof TimeRanges?shaka.cast.CastUtils.unpackTimeRanges_(cn):cn instanceof Uint8Array?shaka.cast.CastUtils.unpackUint8Array_(cn):typeof cn=="number"?isNaN(cn)?"NaN":isFinite(cn)?cn:0>cn?"-Infinity":"Infinity":cn}})},shaka.cast.CastUtils.deserialize=function(sn){return JSON.parse(sn,function(ln,cn){return cn=="NaN"?NaN:cn=="-Infinity"?-1/0:cn=="Infinity"?1/0:cn&&typeof cn=="object"&&cn.__type__=="TimeRanges"?shaka.cast.CastUtils.simulateTimeRanges_(cn):cn&&typeof cn=="object"&&cn.__type__=="Uint8Array"?shaka.cast.CastUtils.makeUint8Array_(cn):cn&&typeof cn=="object"&&cn.__type__=="Error"?shaka.cast.CastUtils.makeError_(cn):cn})},shaka.cast.CastUtils.unpackTimeRanges_=function(sn){var ln={__type__:"TimeRanges",length:sn.length,start:[],end:[]};sn=$jscomp.makeIterator(shaka.media.TimeRangesUtils.getBufferedInfo(sn));for(var cn=sn.next();!cn.done;cn=sn.next()){cn=cn.value;var dn=cn.end;ln.start.push(cn.start),ln.end.push(dn)}return ln},shaka.cast.CastUtils.simulateTimeRanges_=function(sn){return{length:sn.length,start:function(ln){return sn.start[ln]},end:function(ln){return sn.end[ln]}}},shaka.cast.CastUtils.unpackUint8Array_=function(sn){return{__type__:"Uint8Array",entries:Array.from(sn)}},shaka.cast.CastUtils.makeUint8Array_=function(sn){return new Uint8Array(sn.entries)},shaka.cast.CastUtils.unpackError_=function(sn){var ln=new Set(["name","message","stack"]),cn;for(cn in sn)ln.add(cn);var dn=$jscomp.makeIterator(Object.getOwnPropertyNames(sn));for(cn=dn.next();!cn.done;cn=dn.next())ln.add(cn.value);for(dn={},ln=$jscomp.makeIterator(ln),cn=ln.next();!cn.done;cn=ln.next())cn=cn.value,dn[cn]=sn[cn];return{__type__:"Error",contents:dn}},shaka.cast.CastUtils.makeError_=function(sn){sn=sn.contents;var ln=Error(sn.message),cn;for(cn in sn)ln[cn]=sn[cn];return ln},shaka.cast.CastUtils.VideoEvents="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),shaka.cast.CastUtils.VideoAttributes="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),shaka.cast.CastUtils.VideoInitStateAttributes=["loop","playbackRate"],shaka.cast.CastUtils.VideoVoidMethods=["pause","play"],shaka.cast.CastUtils.PlayerGetterMethods={getAssetUri:2,getAudioLanguages:4,getAudioLanguagesAndRoles:4,getBufferFullness:1,getBufferedInfo:2,getExpiration:2,getKeyStatuses:2,getPlaybackRate:2,getTextLanguages:4,getTextLanguagesAndRoles:4,getImageTracks:2,getThumbnails:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,getLoadMode:10},shaka.cast.CastUtils.LargePlayerGetterMethods={getConfiguration:4,getStats:5,getTextTracks:2,getVariantTracks:2},shaka.cast.CastUtils.PlayerGetterMethodsThatRequireLive={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},shaka.cast.CastUtils.PlayerInitState=[["getConfiguration","configure"]],shaka.cast.CastUtils.PlayerInitAfterLoadState=[["isTextTrackVisible","setTextTrackVisibility"]],shaka.cast.CastUtils.PlayerVoidMethods="addChaptersTrack addTextTrackAsync addThumbnailsTrack cancelTrickPlay configure getChapters getChaptersTracks resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay updateStartTime goToLive".split(" "),shaka.cast.CastUtils.PlayerPromiseMethods=["attach","attachCanvas","detach","load","unload"],shaka.cast.CastUtils.SHAKA_MESSAGE_NAMESPACE="urn:x-cast:com.google.shaka.v2",shaka.cast.CastUtils.GENERIC_MESSAGE_NAMESPACE="urn:x-cast:com.google.cast.media",shaka.cast.CastSender=function(sn,ln,cn,dn,pn,vn,Sn){var En=this;this.receiverAppId_=sn,this.androidReceiverCompatible_=Sn,this.statusChangeTimer_=new shaka.util.Timer(ln),this.onFirstCastStateUpdate_=cn,this.hasJoinedExistingSession_=!1,this.onRemoteEvent_=dn,this.onResumeLocal_=pn,this.onInitStateRequired_=vn,this.isCasting_=this.apiReady_=!1,this.receiverName_="",this.appData_=null,this.onConnectionStatusChangedBound_=function(){return En.onConnectionStatusChanged_()},this.onMessageReceivedBound_=function(Cn,Pn){return En.onMessageReceived_(Cn,Pn)},this.cachedProperties_={video:{},player:{}},this.nextAsyncCallId_=0,this.asyncCallPromises_={},this.castPromise_=null,shaka.cast.CastSender.instances_.add(this)},shaka.cast.CastSender.prototype.destroy=function(){return shaka.cast.CastSender.instances_.delete(this),this.rejectAllPromises_(),shaka.cast.CastSender.session_&&this.removeListeners_(),this.statusChangeTimer_&&(this.statusChangeTimer_.stop(),this.statusChangeTimer_=null),this.onResumeLocal_=this.onRemoteEvent_=null,this.isCasting_=this.apiReady_=!1,this.onMessageReceivedBound_=this.onConnectionStatusChangedBound_=this.castPromise_=this.asyncCallPromises_=this.cachedProperties_=this.appData_=null,Promise.resolve()},shaka.cast.CastSender.prototype.apiReady=function(){return this.apiReady_},shaka.cast.CastSender.prototype.hasReceivers=function(){return shaka.cast.CastSender.hasReceivers_},shaka.cast.CastSender.prototype.isCasting=function(){return this.isCasting_},shaka.cast.CastSender.prototype.receiverName=function(){return this.receiverName_},shaka.cast.CastSender.prototype.hasRemoteProperties=function(){return Object.keys(this.cachedProperties_.video).length!=0},shaka.cast.CastSender.prototype.init=function(){var sn=shaka.cast.CastSender;if(this.receiverAppId_.length)if(window.chrome&&chrome.cast&&chrome.cast.isAvailable){this.apiReady_=!0,this.statusChangeTimer_.tickNow();var ln=new chrome.cast.SessionRequest(this.receiverAppId_,[],null,this.androidReceiverCompatible_,null);ln=new chrome.cast.ApiConfig(ln,function(cn){return sn.onExistingSessionJoined_(cn)},function(cn){return sn.onReceiverStatusChanged_(cn)},"origin_scoped"),chrome.cast.initialize(ln,function(){shaka.log.debug("CastSender: init")},function(cn){shaka.log.error("CastSender: init error",cn)}),shaka.cast.CastSender.hasReceivers_&&this.statusChangeTimer_.tickAfter(shaka.cast.CastSender.STATUS_DELAY),(ln=shaka.cast.CastSender.session_)&&ln.status!=chrome.cast.SessionStatus.STOPPED?(shaka.log.debug("CastSender: re-using existing connection"),this.onExistingSessionJoined_(ln)):shaka.cast.CastSender.session_=null}else window.__onGCastApiAvailable!==sn.onGCastApiAvailable_&&(sn.__onGCastApiAvailable_=window.__onGCastApiAvailable||null,window.__onGCastApiAvailable=sn.onGCastApiAvailable_)},shaka.cast.CastSender.prototype.setAppData=function(sn){this.appData_=sn,this.isCasting_&&this.sendMessage_({type:"appData",appData:this.appData_})},shaka.cast.CastSender.prototype.cast=function(sn){var ln=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cn){if(!ln.apiReady_)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.CAST,shaka.util.Error.Code.CAST_API_UNAVAILABLE);if(!shaka.cast.CastSender.hasReceivers_)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.CAST,shaka.util.Error.Code.NO_CAST_RECEIVERS);if(ln.isCasting_)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.CAST,shaka.util.Error.Code.ALREADY_CASTING);return ln.castPromise_=new shaka.util.PublicPromise,chrome.cast.requestSession(function(dn){return ln.onSessionInitiated_(sn,dn)},function(dn){return ln.onConnectionError_(dn)}),cn.yield(ln.castPromise_,0)})},shaka.cast.CastSender.prototype.showDisconnectDialog=function(){var sn=this;if(this.isCasting_){var ln=this.onInitStateRequired_();chrome.cast.requestSession(function(cn){return sn.onSessionInitiated_(ln,cn)},function(cn){return sn.onConnectionError_(cn)})}},shaka.cast.CastSender.prototype.forceDisconnect=function(){if(this.isCasting_){if(this.rejectAllPromises_(),shaka.cast.CastSender.session_){this.removeListeners_();try{shaka.cast.CastSender.session_.stop(function(){},function(){})}catch{}shaka.cast.CastSender.session_=null}this.onConnectionStatusChanged_()}},shaka.cast.CastSender.prototype.get=function(sn,ln){var cn=this;goog.asserts.assert(sn=="video"||sn=="player","Unexpected target name");var dn=shaka.cast.CastUtils;if(sn=="video"){if(dn.VideoVoidMethods.includes(ln))return function(){var vn=$jscomp.getRestArguments.apply(0,arguments);return cn.remoteCall_.apply(cn,[sn,ln].concat($jscomp.arrayFromIterable(vn)))}}else if(sn=="player"){if(dn.PlayerGetterMethodsThatRequireLive[ln]){var pn=this.get("player","isLive")();if(goog.asserts.assert(pn,ln+" should be called on a live stream!"),!pn)return function(){}}if(dn.PlayerVoidMethods.includes(ln))return function(){var vn=$jscomp.getRestArguments.apply(0,arguments);return cn.remoteCall_.apply(cn,[sn,ln].concat($jscomp.arrayFromIterable(vn)))};if(dn.PlayerPromiseMethods.includes(ln))return function(){var vn=$jscomp.getRestArguments.apply(0,arguments);return cn.remoteAsyncCall_.apply(cn,[sn,ln].concat($jscomp.arrayFromIterable(vn)))};if(dn.PlayerGetterMethods[ln]||dn.LargePlayerGetterMethods[ln])return function(){return cn.propertyGetter_(sn,ln)}}return this.propertyGetter_(sn,ln)},shaka.cast.CastSender.prototype.set=function(sn,ln,cn){goog.asserts.assert(sn=="video"||sn=="player","Unexpected target name"),this.cachedProperties_[sn][ln]=cn,this.sendMessage_({type:"set",targetName:sn,property:ln,value:cn})},shaka.cast.CastSender.prototype.onSessionInitiated_=function(sn,ln){shaka.log.debug("CastSender: onSessionInitiated"),this.onSessionCreated_(ln),this.sendMessage_({type:"init",initState:sn,appData:this.appData_}),this.castPromise_.resolve()},shaka.cast.CastSender.prototype.onConnectionError_=function(sn){var ln=shaka.util.Error.Code.UNEXPECTED_CAST_ERROR;switch(sn.code){case"cancel":ln=shaka.util.Error.Code.CAST_CANCELED_BY_USER;break;case"timeout":ln=shaka.util.Error.Code.CAST_CONNECTION_TIMED_OUT;break;case"receiver_unavailable":ln=shaka.util.Error.Code.CAST_RECEIVER_APP_UNAVAILABLE}this.castPromise_.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.CAST,ln,sn))},shaka.cast.CastSender.prototype.propertyGetter_=function(sn,ln){return goog.asserts.assert(sn=="video"||sn=="player","Unexpected target name"),this.cachedProperties_[sn][ln]},shaka.cast.CastSender.prototype.remoteCall_=function(sn,ln){var cn=$jscomp.getRestArguments.apply(2,arguments);goog.asserts.assert(sn=="video"||sn=="player","Unexpected target name"),this.sendMessage_({type:"call",targetName:sn,methodName:ln,args:cn})},shaka.cast.CastSender.prototype.remoteAsyncCall_=function(sn,ln){var cn=$jscomp.getRestArguments.apply(2,arguments);goog.asserts.assert(sn=="video"||sn=="player","Unexpected target name");var dn=new shaka.util.PublicPromise,pn=this.nextAsyncCallId_.toString();this.nextAsyncCallId_++,this.asyncCallPromises_[pn]=dn;try{this.sendMessage_({type:"asyncCall",targetName:sn,methodName:ln,args:cn,id:pn})}catch(vn){dn.reject(vn)}return dn},shaka.cast.CastSender.onExistingSessionJoined_=function(sn){for(var ln=$jscomp.makeIterator(shaka.cast.CastSender.instances_),cn=ln.next();!cn.done;cn=ln.next())cn.value.onExistingSessionJoined_(sn)},shaka.cast.CastSender.prototype.onExistingSessionJoined_=function(sn){shaka.log.debug("CastSender: onExistingSessionJoined");var ln=this.onInitStateRequired_();this.castPromise_=new shaka.util.PublicPromise,this.hasJoinedExistingSession_=!0,this.onSessionInitiated_(ln,sn)},shaka.cast.CastSender.onReceiverStatusChanged_=function(sn){for(var ln=$jscomp.makeIterator(shaka.cast.CastSender.instances_),cn=ln.next();!cn.done;cn=ln.next())cn.value.onReceiverStatusChanged_(sn)},shaka.cast.CastSender.prototype.onReceiverStatusChanged_=function(sn){shaka.log.debug("CastSender: receiver status",sn),shaka.cast.CastSender.hasReceivers_=sn=="available",this.statusChangeTimer_.tickNow()},shaka.cast.CastSender.prototype.onSessionCreated_=function(sn){shaka.cast.CastSender.session_=sn,sn.addUpdateListener(this.onConnectionStatusChangedBound_),sn.addMessageListener(shaka.cast.CastUtils.SHAKA_MESSAGE_NAMESPACE,this.onMessageReceivedBound_),this.onConnectionStatusChanged_()},shaka.cast.CastSender.prototype.removeListeners_=function(){var sn=shaka.cast.CastSender.session_;sn.removeUpdateListener(this.onConnectionStatusChangedBound_),sn.removeMessageListener(shaka.cast.CastUtils.SHAKA_MESSAGE_NAMESPACE,this.onMessageReceivedBound_)},shaka.cast.CastSender.prototype.onConnectionStatusChanged_=function(){var sn=shaka.cast.CastSender.session_?shaka.cast.CastSender.session_.status=="connected":!1;if(shaka.log.debug("CastSender: connection status",sn),this.isCasting_&&!sn){this.onResumeLocal_();for(var ln in this.cachedProperties_)this.cachedProperties_[ln]={};this.rejectAllPromises_()}this.receiverName_=(this.isCasting_=sn)?shaka.cast.CastSender.session_.receiver.friendlyName:"",this.statusChangeTimer_.tickNow()},shaka.cast.CastSender.prototype.rejectAllPromises_=function(){for(var sn in this.asyncCallPromises_){var ln=this.asyncCallPromises_[sn];delete this.asyncCallPromises_[sn],ln.reject(new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.LOAD_INTERRUPTED))}},shaka.cast.CastSender.prototype.onMessageReceived_=function(sn,ln){switch(sn=shaka.cast.CastUtils.deserialize(ln),shaka.log.v2("CastSender: message",sn),sn.type){case"event":var cn=sn.targetName,dn=shaka.util.FakeEvent.fromRealEvent(sn.event);this.onRemoteEvent_(cn,dn);break;case"update":cn=sn.update;for(dn in cn){sn=this.cachedProperties_[dn]||{};for(var pn in cn[dn])sn[pn]=cn[dn][pn]}this.hasJoinedExistingSession_&&(this.onFirstCastStateUpdate_(),this.hasJoinedExistingSession_=!1);break;case"asyncComplete":if(dn=sn.id,pn=sn.error,sn=this.asyncCallPromises_[dn],delete this.asyncCallPromises_[dn],goog.asserts.assert(sn,"Unexpected async id"),sn)if(pn){dn=new shaka.util.Error(pn.severity,pn.category,pn.code);for(cn in pn)dn[cn]=pn[cn];sn.reject(dn)}else sn.resolve()}},shaka.cast.CastSender.prototype.sendMessage_=function(sn){sn=shaka.cast.CastUtils.serialize(sn);var ln=shaka.cast.CastSender.session_;try{ln.sendMessage(shaka.cast.CastUtils.SHAKA_MESSAGE_NAMESPACE,sn,function(){},shaka.log.error)}catch(cn){throw shaka.log.error("Cast session sendMessage threw",cn),sn=new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.CAST,shaka.util.Error.Code.CAST_CONNECTION_TIMED_OUT,cn),ln=new shaka.util.FakeEvent("error",new Map().set("detail",sn)),this.onRemoteEvent_("player",ln),this.forceDisconnect(),sn}},shaka.cast.CastSender.STATUS_DELAY=.02,shaka.cast.CastSender.hasReceivers_=!1,shaka.cast.CastSender.session_=null,shaka.cast.CastSender.__onGCastApiAvailable_=null,shaka.cast.CastSender.instances_=new Set,shaka.cast.CastSender.onSdkLoaded_=function(sn){if(sn){sn=$jscomp.makeIterator(shaka.cast.CastSender.instances_);for(var ln=sn.next();!ln.done;ln=sn.next())ln.value.init()}},shaka.cast.CastSender.onGCastApiAvailable_=function(sn){shaka.cast.CastSender.__onGCastApiAvailable_?window.__onGCastApiAvailable=shaka.cast.CastSender.__onGCastApiAvailable_:delete window.__onGCastApiAvailable,shaka.cast.CastSender.__onGCastApiAvailable_=null,shaka.cast.CastSender.onSdkLoaded_(sn),typeof window.__onGCastApiAvailable=="function"&&window.__onGCastApiAvailable(sn)},shaka.cast.CastProxy=function(sn,ln,cn,dn){dn=dn===void 0?!1:dn,shaka.util.FakeEventTarget.call(this);var pn=this;this.localVideo_=sn,this.localPlayer_=ln,this.eventManager_=this.playerEventTarget_=this.videoEventTarget_=this.playerProxy_=this.videoProxy_=null,this.receiverAppId_=cn,this.androidReceiverCompatible_=dn,this.compiledToExternNames_=new Map,this.sender_=new shaka.cast.CastSender(cn,function(){return pn.onCastStatusChanged_()},function(){return pn.onFirstCastStateUpdate_()},function(vn,Sn){return pn.onRemoteEvent_(vn,Sn)},function(){return pn.onResumeLocal_()},function(){return pn.getInitState_()},dn),this.init_()},$jscomp.inherits(shaka.cast.CastProxy,shaka.util.FakeEventTarget),shaka.cast.CastProxy.prototype.destroy=function(sn){return sn&&this.sender_.forceDisconnect(),this.eventManager_&&(this.eventManager_.release(),this.eventManager_=null),sn=[],this.localPlayer_&&(sn.push(this.localPlayer_.destroy()),this.localPlayer_=null),this.sender_&&(sn.push(this.sender_.destroy()),this.sender_=null),this.playerProxy_=this.videoProxy_=this.localVideo_=null,shaka.util.FakeEventTarget.prototype.release.call(this),Promise.all(sn)},shaka.cast.CastProxy.prototype.getVideo=function(){return this.videoProxy_},shaka.cast.CastProxy.prototype.getPlayer=function(){return this.playerProxy_},shaka.cast.CastProxy.prototype.canCast=function(){return this.sender_.apiReady()&&this.sender_.hasReceivers()},shaka.cast.CastProxy.prototype.isCasting=function(){return this.sender_.isCasting()},shaka.cast.CastProxy.prototype.receiverName=function(){return this.sender_.receiverName()},shaka.cast.CastProxy.prototype.cast=function(){var sn=this,ln;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cn){return cn.nextAddress==1?(ln=sn.getInitState_(),cn.yield(sn.sender_.cast(ln),2)):sn.localPlayer_?cn.yield(sn.localPlayer_.unload(),0):cn.return()})},shaka.cast.CastProxy.prototype.setAppData=function(sn){this.sender_.setAppData(sn)},shaka.cast.CastProxy.prototype.suggestDisconnect=function(){this.sender_.showDisconnectDialog()},shaka.cast.CastProxy.prototype.forceDisconnect=function(){this.sender_.forceDisconnect()},shaka.cast.CastProxy.prototype.changeReceiverId=function(sn,ln){ln=ln===void 0?!1:ln;var cn=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dn){if(dn.nextAddress==1)return sn==cn.receiverAppId_&&ln==cn.androidReceiverCompatible_?dn.return():(cn.receiverAppId_=sn,cn.androidReceiverCompatible_=ln,cn.sender_.forceDisconnect(),dn.yield(cn.sender_.destroy(),2));cn.sender_=null,cn.sender_=new shaka.cast.CastSender(sn,function(){return cn.onCastStatusChanged_()},function(){return cn.onFirstCastStateUpdate_()},function(pn,vn){return cn.onRemoteEvent_(pn,vn)},function(){return cn.onResumeLocal_()},function(){return cn.getInitState_()},ln),cn.sender_.init(),dn.jumpToEnd()})},shaka.cast.CastProxy.prototype.init_=function(){var sn=this;this.sender_.init(),this.eventManager_=new shaka.util.EventManager;for(var ln=$jscomp.makeIterator(shaka.cast.CastUtils.VideoEvents),cn=ln.next();!cn.done;cn=ln.next())this.eventManager_.listen(this.localVideo_,cn.value,function(vn){return sn.videoProxyLocalEvent_(vn)});for(var dn in shaka.util.FakeEvent.EventName)this.eventManager_.listen(this.localPlayer_,shaka.util.FakeEvent.EventName[dn],function(vn){return sn.playerProxyLocalEvent_(vn)});this.videoProxy_={},ln={};for(var pn in this.localVideo_)ln.$jscomp$loop$prop$k$714=pn,Object.defineProperty(this.videoProxy_,ln.$jscomp$loop$prop$k$714,{configurable:!1,enumerable:!0,get:function(vn){return function(){return sn.videoProxyGet_(vn.$jscomp$loop$prop$k$714)}}(ln),set:function(vn){return function(Sn){sn.videoProxySet_(vn.$jscomp$loop$prop$k$714,Sn)}}(ln)}),ln={$jscomp$loop$prop$k$714:ln.$jscomp$loop$prop$k$714};this.playerProxy_={},this.iterateOverPlayerMethods_(function(vn,Sn){goog.asserts.assert(sn.playerProxy_,"Must have player proxy!"),Object.defineProperty(sn.playerProxy_,vn,{configurable:!1,enumerable:!0,get:function(){return sn.playerProxyGet_(vn)}})}),this.mapCompiledToUncompiledPlayerMethodNames_(),this.videoEventTarget_=new shaka.util.FakeEventTarget,this.videoEventTarget_.dispatchTarget=this.videoProxy_,this.playerEventTarget_=new shaka.util.FakeEventTarget,this.playerEventTarget_.dispatchTarget=this.playerProxy_},shaka.cast.CastProxy.prototype.mapCompiledToUncompiledPlayerMethodNames_=function(){var sn=this,ln=new Map;this.iterateOverPlayerMethods_(function(cn,dn){ln.has(dn)?(dn=ln.get(dn),cn.length<dn.length?sn.compiledToExternNames_.set(cn,dn):sn.compiledToExternNames_.set(dn,cn)):ln.set(dn,cn)})},shaka.cast.CastProxy.prototype.iterateOverPlayerMethods_=function(sn){function ln(Cn){return Cn=="constructor"||typeof cn[Cn]!="function"?!1:!dn.has(Cn)}goog.asserts.assert(this.localPlayer_,"Must have player!");var cn=this.localPlayer_,dn=new Set;for(pn in cn)ln(pn)&&(dn.add(pn),sn(pn,cn[pn]));for(var pn=Object.getPrototypeOf(cn),vn=Object.getPrototypeOf({});pn&&pn!=vn;){for(var Sn=$jscomp.makeIterator(Object.getOwnPropertyNames(pn)),En=Sn.next();!En.done;En=Sn.next())En=En.value,ln(En)&&(dn.add(En),sn(En,cn[En]));pn=Object.getPrototypeOf(pn)}},shaka.cast.CastProxy.prototype.getInitState_=function(){var sn={video:{},player:{},playerAfterLoad:{},manifest:this.localPlayer_.getAssetUri(),startTime:null};this.localVideo_.pause();for(var ln=$jscomp.makeIterator(shaka.cast.CastUtils.VideoInitStateAttributes),cn=ln.next();!cn.done;cn=ln.next())cn=cn.value,sn.video[cn]=this.localVideo_[cn];for(this.localVideo_.ended||(sn.startTime=this.localVideo_.currentTime),ln=$jscomp.makeIterator(shaka.cast.CastUtils.PlayerInitState),cn=ln.next();!cn.done;cn=ln.next()){var dn=cn.value;cn=dn[1],dn=this.localPlayer_[dn[0]](),sn.player[cn]=dn}for(ln=$jscomp.makeIterator(shaka.cast.CastUtils.PlayerInitAfterLoadState),cn=ln.next();!cn.done;cn=ln.next())dn=cn.value,cn=dn[1],dn=this.localPlayer_[dn[0]](),sn.playerAfterLoad[cn]=dn;return sn},shaka.cast.CastProxy.prototype.onCastStatusChanged_=function(){var sn=new shaka.util.FakeEvent("caststatuschanged");this.dispatchEvent(sn)},shaka.cast.CastProxy.prototype.onFirstCastStateUpdate_=function(){var sn=new shaka.util.FakeEvent(this.videoProxy_.paused?"pause":"play");this.videoEventTarget_.dispatchEvent(sn)},shaka.cast.CastProxy.prototype.onResumeLocal_=function(){for(var sn=this,ln=$jscomp.makeIterator(shaka.cast.CastUtils.PlayerInitState),cn=ln.next();!cn.done;cn=ln.next()){var dn=cn.value;cn=dn[1],dn=this.sender_.get("player",dn[0])(),this.localPlayer_[cn](dn)}var pn=this.sender_.get("player","getAssetUri")();cn=this.sender_.get("video","ended"),ln=Promise.resolve();var vn=this.localVideo_.autoplay;dn=null,cn||(dn=this.sender_.get("video","currentTime")),pn&&(this.localVideo_.autoplay=!1,ln=this.localPlayer_.load(pn,dn));var Sn={};for(cn=$jscomp.makeIterator(shaka.cast.CastUtils.VideoInitStateAttributes),dn=cn.next();!dn.done;dn=cn.next())dn=dn.value,Sn[dn]=this.sender_.get("video",dn);ln.then(function(){if(sn.localVideo_){for(var En=$jscomp.makeIterator(shaka.cast.CastUtils.VideoInitStateAttributes),Cn=En.next();!Cn.done;Cn=En.next())Cn=Cn.value,sn.localVideo_[Cn]=Sn[Cn];for(En=$jscomp.makeIterator(shaka.cast.CastUtils.PlayerInitAfterLoadState),Cn=En.next();!Cn.done;Cn=En.next()){var Pn=Cn.value;Cn=Pn[1],Pn=sn.sender_.get("player",Pn[0])(),sn.localPlayer_[Cn](Pn)}sn.localVideo_.autoplay=vn,pn&&sn.localVideo_.play()}},function(En){goog.asserts.assert(En instanceof shaka.util.Error,"Wrong error type!");var Cn=shaka.util.FakeEvent.EventName.Error;En=new Map().set("detail",En),Cn=new shaka.util.FakeEvent(Cn,En),sn.localPlayer_.dispatchEvent(Cn)})},shaka.cast.CastProxy.prototype.videoProxyGet_=function(sn){var ln=this;if(sn=="addEventListener")return function(dn,pn,vn){return ln.videoEventTarget_.addEventListener(dn,pn,vn)};if(sn=="removeEventListener")return function(dn,pn,vn){return ln.videoEventTarget_.removeEventListener(dn,pn,vn)};if(this.sender_.isCasting()&&!this.sender_.hasRemoteProperties()){var cn=this.localVideo_[sn];if(typeof cn!="function")return cn}return this.sender_.isCasting()?this.sender_.get("video",sn):(sn=this.localVideo_[sn],typeof sn=="function"&&(sn=sn.bind(this.localVideo_)),sn)},shaka.cast.CastProxy.prototype.videoProxySet_=function(sn,ln){this.sender_.isCasting()?this.sender_.set("video",sn,ln):this.localVideo_[sn]=ln},shaka.cast.CastProxy.prototype.videoProxyLocalEvent_=function(sn){this.sender_.isCasting()||(sn=shaka.util.FakeEvent.fromRealEvent(sn),this.videoEventTarget_.dispatchEvent(sn))},shaka.cast.CastProxy.prototype.playerProxyGet_=function(sn){var ln=this;if(this.compiledToExternNames_.has(sn)&&(sn=this.compiledToExternNames_.get(sn)),sn=="addEventListener")return function(dn,pn,vn){return ln.playerEventTarget_.addEventListener(dn,pn,vn)};if(sn=="removeEventListener")return function(dn,pn,vn){return ln.playerEventTarget_.removeEventListener(dn,pn,vn)};if(sn=="getMediaElement")return function(){return ln.videoProxy_};if(sn=="getSharedConfiguration")return shaka.log.warning("Can't share configuration across a network. Returning copy."),this.sender_.get("player","getConfiguration");if(sn=="getNetworkingEngine")return this.sender_.isCasting()&&shaka.log.warning("NOTE: getNetworkingEngine() is always local!"),function(){return ln.localPlayer_.getNetworkingEngine()};if(sn=="getDrmEngine")return this.sender_.isCasting()&&shaka.log.warning("NOTE: getDrmEngine() is always local!"),function(){return ln.localPlayer_.getDrmEngine()};if(sn=="getAdManager")return this.sender_.isCasting()&&shaka.log.warning("NOTE: getAdManager() is always local!"),function(){return ln.localPlayer_.getAdManager()};if(sn=="setVideoContainer")return this.sender_.isCasting()&&shaka.log.warning("NOTE: setVideoContainer() is always local!"),function(dn){return ln.localPlayer_.setVideoContainer(dn)};if(this.sender_.isCasting()){if(sn=="getManifest"||sn=="drmInfo")return function(){return shaka.log.alwaysWarn(sn+"() does not work while casting!"),null};if(sn=="attach"||sn=="detach")return function(){return shaka.log.alwaysWarn(sn+"() does not work while casting!"),Promise.resolve()}}if(this.sender_.isCasting()&&!this.sender_.hasRemoteProperties()&&(shaka.cast.CastUtils.PlayerGetterMethods[sn]||shaka.cast.CastUtils.LargePlayerGetterMethods[sn])){var cn=this.localPlayer_[sn];return goog.asserts.assert(typeof cn=="function","only methods on Player"),cn.bind(this.localPlayer_)}return this.sender_.isCasting()?this.sender_.get("player",sn):(cn=this.localPlayer_[sn],goog.asserts.assert(typeof cn=="function","only methods on Player"),cn.bind(this.localPlayer_))},shaka.cast.CastProxy.prototype.playerProxyLocalEvent_=function(sn){this.sender_.isCasting()||this.playerEventTarget_.dispatchEvent(sn)},shaka.cast.CastProxy.prototype.onRemoteEvent_=function(sn,ln){goog.asserts.assert(this.sender_.isCasting(),"Should only receive remote events while casting"),this.sender_.isCasting()&&(sn=="video"?this.videoEventTarget_.dispatchEvent(ln):sn=="player"&&this.playerEventTarget_.dispatchEvent(ln))},goog.exportSymbol("shaka.cast.CastProxy",shaka.cast.CastProxy),goog.exportProperty(shaka.cast.CastProxy.prototype,"changeReceiverId",shaka.cast.CastProxy.prototype.changeReceiverId),goog.exportProperty(shaka.cast.CastProxy.prototype,"forceDisconnect",shaka.cast.CastProxy.prototype.forceDisconnect),goog.exportProperty(shaka.cast.CastProxy.prototype,"suggestDisconnect",shaka.cast.CastProxy.prototype.suggestDisconnect),goog.exportProperty(shaka.cast.CastProxy.prototype,"setAppData",shaka.cast.CastProxy.prototype.setAppData),goog.exportProperty(shaka.cast.CastProxy.prototype,"cast",shaka.cast.CastProxy.prototype.cast),goog.exportProperty(shaka.cast.CastProxy.prototype,"receiverName",shaka.cast.CastProxy.prototype.receiverName),goog.exportProperty(shaka.cast.CastProxy.prototype,"isCasting",shaka.cast.CastProxy.prototype.isCasting),goog.exportProperty(shaka.cast.CastProxy.prototype,"canCast",shaka.cast.CastProxy.prototype.canCast),goog.exportProperty(shaka.cast.CastProxy.prototype,"getPlayer",shaka.cast.CastProxy.prototype.getPlayer),goog.exportProperty(shaka.cast.CastProxy.prototype,"getVideo",shaka.cast.CastProxy.prototype.getVideo),goog.exportProperty(shaka.cast.CastProxy.prototype,"destroy",shaka.cast.CastProxy.prototype.destroy),shaka.cast.CastReceiver=function(sn,ln,cn,dn){shaka.util.FakeEventTarget.call(this);var pn=this;this.video_=sn,this.player_=ln,this.eventManager_=new shaka.util.EventManager,this.targets_={video:sn,player:ln},this.appDataCallback_=cn||function(){},this.contentIdCallback_=dn||function(vn){return vn},this.metadata_=null,this.isConnected_=!1,this.isIdle_=!0,this.updateNumber_=0,this.startUpdatingUpdateNumber_=!1,this.initialStatusUpdatePending_=!0,this.genericBus_=this.shakaBus_=null,this.pollTimer_=new shaka.util.Timer(function(){pn.pollAttributes_()}),this.init_()},$jscomp.inherits(shaka.cast.CastReceiver,shaka.util.FakeEventTarget),shaka.cast.CastReceiver.prototype.isConnected=function(){return this.isConnected_},shaka.cast.CastReceiver.prototype.isIdle=function(){return this.isIdle_},shaka.cast.CastReceiver.prototype.setContentMetadata=function(sn){this.metadata_=sn},shaka.cast.CastReceiver.prototype.clearContentMetadata=function(){this.metadata_=null},shaka.cast.CastReceiver.prototype.setContentTitle=function(sn){this.metadata_||(this.metadata_={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.metadata_.title=sn},shaka.cast.CastReceiver.prototype.setContentImage=function(sn){this.metadata_||(this.metadata_={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.metadata_.images=[{url:sn}]},shaka.cast.CastReceiver.prototype.setContentArtist=function(sn){this.metadata_||(this.metadata_={}),this.metadata_.artist=sn,this.metadata_.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},shaka.cast.CastReceiver.prototype.destroy=function(){var sn=this,ln,cn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dn){if(dn.nextAddress==1)return sn.eventManager_&&(sn.eventManager_.release(),sn.eventManager_=null),ln=[],sn.player_&&(ln.push(sn.player_.destroy()),sn.player_=null),sn.pollTimer_&&(sn.pollTimer_.stop(),sn.pollTimer_=null),sn.video_=null,sn.targets_=null,sn.appDataCallback_=null,sn.isConnected_=!1,sn.isIdle_=!0,sn.shakaBus_=null,sn.genericBus_=null,shaka.util.FakeEventTarget.prototype.release.call(sn),dn.yield(Promise.all(ln),2);cn=cast.receiver.CastReceiverManager.getInstance(),cn.stop(),dn.jumpToEnd()})},shaka.cast.CastReceiver.prototype.init_=function(){var sn=this,ln=cast.receiver.CastReceiverManager.getInstance();ln.onSenderConnected=function(){return sn.onSendersChanged_()},ln.onSenderDisconnected=function(){return sn.onSendersChanged_()},ln.onSystemVolumeChanged=function(){return sn.fakeVolumeChangeEvent_()},this.genericBus_=ln.getCastMessageBus(shaka.cast.CastUtils.GENERIC_MESSAGE_NAMESPACE),this.genericBus_.onMessage=function(pn){return sn.onGenericMessage_(pn)},this.shakaBus_=ln.getCastMessageBus(shaka.cast.CastUtils.SHAKA_MESSAGE_NAMESPACE),this.shakaBus_.onMessage=function(pn){return sn.onShakaMessage_(pn)},goog.DEBUG?shaka.util.Platform.isChromecast()&&ln.start():ln.start(),ln=$jscomp.makeIterator(shaka.cast.CastUtils.VideoEvents);for(var cn=ln.next();!cn.done;cn=ln.next())this.eventManager_.listen(this.video_,cn.value,function(pn){return sn.proxyEvent_("video",pn)});for(var dn in shaka.util.FakeEvent.EventName)this.eventManager_.listen(this.player_,shaka.util.FakeEvent.EventName[dn],function(pn){return sn.proxyEvent_("player",pn)});cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?this.player_.setMaxHardwareResolution(3840,2160):this.player_.setMaxHardwareResolution(1920,1080),this.eventManager_.listen(this.video_,"loadeddata",function(){sn.startUpdatingUpdateNumber_=!0}),this.eventManager_.listen(this.player_,"loading",function(){sn.isIdle_=!1,sn.onCastStatusChanged_()}),this.eventManager_.listen(this.video_,"playing",function(){sn.isIdle_=!1,sn.onCastStatusChanged_()}),this.eventManager_.listen(this.video_,"pause",function(){sn.onCastStatusChanged_()}),this.eventManager_.listen(this.player_,"unloading",function(){sn.isIdle_=!0,sn.onCastStatusChanged_()}),this.eventManager_.listen(this.video_,"ended",function(){new shaka.util.Timer(function(){sn.video_&&sn.video_.ended&&(sn.isIdle_=!0,sn.onCastStatusChanged_())}).tickAfter(shaka.cast.CastReceiver.IDLE_INTERVAL)})},shaka.cast.CastReceiver.prototype.onSendersChanged_=function(){this.updateNumber_=0,this.initialStatusUpdatePending_=!0,this.isConnected_=cast.receiver.CastReceiverManager.getInstance().getSenders().length!=0,this.onCastStatusChanged_()},shaka.cast.CastReceiver.prototype.onCastStatusChanged_=function(){var sn=this,ln;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cn){if(cn.nextAddress==1)return cn.yield(Promise.resolve(),2);if(!sn.player_)return cn.return();ln=new shaka.util.FakeEvent("caststatuschanged"),sn.dispatchEvent(ln),sn.maybeSendMediaInfoMessage_()||sn.sendMediaStatus_(),cn.jumpToEnd()})},shaka.cast.CastReceiver.prototype.initState_=function(sn,ln){var cn=this,dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn,Gn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Dn){switch(Dn.nextAddress){case 1:for(dn in sn.player)pn=sn.player[dn],cn.player_[dn](pn);return cn.appDataCallback_(ln),vn=cn.video_.autoplay,sn.manifest?(cn.video_.autoplay=!1,Dn.setCatchFinallyBlocks(5),Dn.yield(cn.player_.load(sn.manifest,sn.startTime),7)):Dn.yield(Promise.resolve(),3);case 7:Dn.leaveTryBlock(3);break;case 5:return Sn=Dn.enterCatchBlock(),goog.asserts.assert(Sn instanceof shaka.util.Error,"Wrong error type!"),En=shaka.util.FakeEvent.EventName.Error,Cn=new Map().set("detail",Sn),Pn=new shaka.util.FakeEvent(En,Cn),cn.player_&&cn.player_.dispatchEvent(Pn),Dn.return();case 3:if(!cn.player_)return Dn.return();for(Rn in sn.video)Ln=sn.video[Rn],cn.video_[Rn]=Ln;for(Fn in sn.playerAfterLoad)Gn=sn.playerAfterLoad[Fn],cn.player_[Fn](Gn);cn.video_.autoplay=vn,sn.manifest&&(cn.video_.play(),cn.sendMediaStatus_()),Dn.jumpToEnd()}})},shaka.cast.CastReceiver.prototype.proxyEvent_=function(sn,ln){this.player_&&(this.pollAttributes_(),this.sendMessage_({type:"event",targetName:sn,event:ln},this.shakaBus_))},shaka.cast.CastReceiver.prototype.pollAttributes_=function(){this.pollTimer_.tickAfter(shaka.cast.CastReceiver.POLL_INTERVAL);for(var sn={video:{},player:{}},ln=$jscomp.makeIterator(shaka.cast.CastUtils.VideoAttributes),cn=ln.next();!cn.done;cn=ln.next())cn=cn.value,sn.video[cn]=this.video_[cn];if(this.player_.isLive()){ln=shaka.cast.CastUtils.PlayerGetterMethodsThatRequireLive;for(var dn in ln)this.updateNumber_%ln[dn]==0&&(sn.player[dn]=this.player_[dn]())}for(var pn in shaka.cast.CastUtils.PlayerGetterMethods)this.updateNumber_%shaka.cast.CastUtils.PlayerGetterMethods[pn]==0&&(sn.player[pn]=this.player_[pn]());(dn=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(sn.video.volume=dn.level,sn.video.muted=dn.muted),this.sendMessage_({type:"update",update:sn},this.shakaBus_);for(var vn in shaka.cast.CastUtils.LargePlayerGetterMethods)this.updateNumber_%shaka.cast.CastUtils.LargePlayerGetterMethods[vn]==0&&(sn={player:{}},sn.player[vn]=this.player_[vn](),this.sendMessage_({type:"update",update:sn},this.shakaBus_));this.startUpdatingUpdateNumber_&&(this.updateNumber_+=1),this.maybeSendMediaInfoMessage_()},shaka.cast.CastReceiver.prototype.maybeSendMediaInfoMessage_=function(){return this.initialStatusUpdatePending_&&(this.video_.duration||this.player_.isLive())?(this.sendMediaInfoMessage_(),this.initialStatusUpdatePending_=!1,!0):!1},shaka.cast.CastReceiver.prototype.sendMediaInfoMessage_=function(sn){sn=sn===void 0?0:sn;var ln={contentId:this.player_.getAssetUri(),streamType:this.player_.isLive()?"LIVE":"BUFFERED",contentType:""};this.player_.isLive()||(ln.duration=this.video_.duration),this.metadata_&&(ln.metadata=this.metadata_),this.sendMediaStatus_(sn,ln)},shaka.cast.CastReceiver.prototype.fakeVolumeChangeEvent_=function(){var sn=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();goog.asserts.assert(sn,"System volume should not be null!"),sn&&this.sendMessage_({type:"update",update:{video:{volume:sn.level,muted:sn.muted}}},this.shakaBus_),this.sendMessage_({type:"event",targetName:"video",event:{type:"volumechange"}},this.shakaBus_)},shaka.cast.CastReceiver.prototype.onShakaMessage_=function(sn){var ln=this,cn=shaka.cast.CastUtils.deserialize(sn.data);switch(shaka.log.debug("CastReceiver: message",cn),cn.type){case"init":this.updateNumber_=0,this.startUpdatingUpdateNumber_=!1,this.initialStatusUpdatePending_=!0,this.initState_(cn.initState,cn.appData),this.pollAttributes_();break;case"appData":this.appDataCallback_(cn.appData);break;case"set":var dn=cn.targetName,pn=cn.property;if(cn=cn.value,dn=="video"){if(sn=cast.receiver.CastReceiverManager.getInstance(),pn=="volume"){sn.setSystemVolumeLevel(cn);break}else if(pn=="muted"){sn.setSystemVolumeMuted(cn);break}}this.targets_[dn][pn]=cn;break;case"call":dn=this.targets_[cn.targetName],dn[cn.methodName].apply(dn,cn.args);break;case"asyncCall":dn=cn.targetName,pn=cn.methodName,dn=="player"&&pn=="load"&&(this.updateNumber_=0,this.startUpdatingUpdateNumber_=!1);var vn=cn.id,Sn=sn.senderId;sn=this.targets_[dn],cn=sn[pn].apply(sn,cn.args),dn=="player"&&pn=="load"&&(cn=cn.then(function(){ln.initialStatusUpdatePending_=!0})),cn.then(function(){return ln.sendAsyncComplete_(Sn,vn,null)},function(En){return ln.sendAsyncComplete_(Sn,vn,En)})}},shaka.cast.CastReceiver.prototype.onGenericMessage_=function(sn){var ln=this,cn=shaka.cast.CastUtils.deserialize(sn.data);switch(shaka.log.debug("CastReceiver: message",cn),cn.type){case"PLAY":this.video_.play(),this.sendMediaStatus_();break;case"PAUSE":this.video_.pause(),this.sendMediaStatus_();break;case"SEEK":sn=cn.currentTime;var dn=cn.resumeState;sn!=null&&(this.video_.currentTime=Number(sn)),dn&&dn=="PLAYBACK_START"?(this.video_.play(),this.sendMediaStatus_()):dn&&dn=="PLAYBACK_PAUSE"&&(this.video_.pause(),this.sendMediaStatus_());break;case"STOP":this.player_.unload().then(function(){ln.player_&&ln.sendMediaStatus_()});break;case"GET_STATUS":this.sendMediaInfoMessage_(Number(cn.requestId));break;case"VOLUME":dn=cn.volume,sn=dn.level,dn=dn.muted;var pn=this.video_.volume,vn=this.video_.muted;sn!=null&&(this.video_.volume=Number(sn)),dn!=null&&(this.video_.muted=dn),pn==this.video_.volume&&vn==this.video_.muted||this.sendMediaStatus_();break;case"LOAD":this.updateNumber_=0,this.initialStatusUpdatePending_=this.startUpdatingUpdateNumber_=!1,sn=cn.media,dn=cn.currentTime,pn=this.contentIdCallback_(sn.contentId),vn=cn.autoplay||!0,this.appDataCallback_(sn.customData),vn&&(this.video_.autoplay=!0),this.player_.load(pn,dn).then(function(){ln.player_&&ln.sendMediaInfoMessage_()}).catch(function(Sn){goog.asserts.assert(Sn instanceof shaka.util.Error,"Wrong error type!");var En="LOAD_FAILED";Sn.category==shaka.util.Error.Category.PLAYER&&Sn.code==shaka.util.Error.Code.LOAD_INTERRUPTED&&(En="LOAD_CANCELLED"),ln.sendMessage_({requestId:Number(cn.requestId),type:En},ln.genericBus_)});break;default:shaka.log.warning("Unrecognized message type from the generic Chromecast controller!",cn.type),this.sendMessage_({requestId:Number(cn.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},this.genericBus_)}},shaka.cast.CastReceiver.prototype.sendAsyncComplete_=function(sn,ln,cn){this.player_&&this.sendMessage_({type:"asyncComplete",id:ln,error:cn},this.shakaBus_,sn)},shaka.cast.CastReceiver.prototype.sendMessage_=function(sn,ln,cn){this.isConnected_&&(sn=shaka.cast.CastUtils.serialize(sn),cn?ln.getCastChannel(cn).send(sn):ln.broadcast(sn))},shaka.cast.CastReceiver.prototype.getPlayState_=function(){var sn=shaka.cast.CastReceiver.PLAY_STATE;return this.isIdle_?sn.IDLE:this.player_.isBuffering()?sn.BUFFERING:this.video_.paused?sn.PAUSED:sn.PLAYING},shaka.cast.CastReceiver.prototype.sendMediaStatus_=function(sn,ln){sn=sn===void 0?0:sn,ln=ln===void 0?null:ln;var cn={mediaSessionId:0,playbackRate:this.video_.playbackRate,playerState:this.getPlayState_(),currentTime:this.video_.currentTime,supportedMediaCommands:63,volume:{level:this.video_.volume,muted:this.video_.muted}};ln&&(cn.media=ln),this.sendMessage_({requestId:sn,type:"MEDIA_STATUS",status:[cn]},this.genericBus_)},goog.exportSymbol("shaka.cast.CastReceiver",shaka.cast.CastReceiver),goog.exportProperty(shaka.cast.CastReceiver.prototype,"destroy",shaka.cast.CastReceiver.prototype.destroy),goog.exportProperty(shaka.cast.CastReceiver.prototype,"setContentArtist",shaka.cast.CastReceiver.prototype.setContentArtist),goog.exportProperty(shaka.cast.CastReceiver.prototype,"setContentImage",shaka.cast.CastReceiver.prototype.setContentImage),goog.exportProperty(shaka.cast.CastReceiver.prototype,"setContentTitle",shaka.cast.CastReceiver.prototype.setContentTitle),goog.exportProperty(shaka.cast.CastReceiver.prototype,"clearContentMetadata",shaka.cast.CastReceiver.prototype.clearContentMetadata),goog.exportProperty(shaka.cast.CastReceiver.prototype,"setContentMetadata",shaka.cast.CastReceiver.prototype.setContentMetadata),goog.exportProperty(shaka.cast.CastReceiver.prototype,"isIdle",shaka.cast.CastReceiver.prototype.isIdle),goog.exportProperty(shaka.cast.CastReceiver.prototype,"isConnected",shaka.cast.CastReceiver.prototype.isConnected),shaka.cast.CastReceiver.POLL_INTERVAL=.5,shaka.cast.CastReceiver.IDLE_INTERVAL=5,shaka.cast.CastReceiver.PLAY_STATE={IDLE:"IDLE",PLAYING:"PLAYING",BUFFERING:"BUFFERING",PAUSED:"PAUSED"},shaka.dash={},shaka.dash.ContentProtection=function(){},shaka.dash.ContentProtection.parseFromAdaptationSet=function(sn,ln,cn){var dn=shaka.dash.ContentProtection,pn=shaka.util.ManifestParserUtils,vn=dn.parseElements_(sn),Sn=null;sn=[];var En=[],Cn=new Set(vn.map(function(Pn){return Pn.keyId}));if(Cn.delete(null),1<Cn.size)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_CONFLICTING_KEY_IDS);if(ln||(En=vn.filter(function(Pn){return Pn.schemeUri==dn.MP4Protection_?(goog.asserts.assert(!Pn.init||Pn.init.length,"Init data must be null or non-empty."),Sn=Pn.init||Sn,!1):!0}),En.length&&(sn=dn.convertElements_(Sn,En,cn,Cn),sn.length==0&&(sn=[pn.createDrmInfo("",Sn)]))),vn.length&&(ln||!En.length))for(sn=[],ln=$jscomp.makeIterator(Object.values(cn)),cn=ln.next();!cn.done;cn=ln.next())cn=cn.value,cn!="org.w3.clearkey"&&(cn=pn.createDrmInfo(cn,Sn),sn.push(cn));if(pn=Array.from(Cn)[0]||null)for(Cn=$jscomp.makeIterator(sn),ln=Cn.next();!ln.done;ln=Cn.next())for(ln=$jscomp.makeIterator(ln.value.initData),cn=ln.next();!cn.done;cn=ln.next())cn.value.keyId=pn;return{defaultKeyId:pn,defaultInit:Sn,drmInfos:sn,firstRepresentation:!0}},shaka.dash.ContentProtection.parseFromRepresentation=function(sn,ln,cn,dn){var pn=shaka.dash.ContentProtection.parseFromAdaptationSet(sn,cn,dn);if(ln.firstRepresentation)sn=ln.drmInfos.length==1&&!ln.drmInfos[0].keySystem,cn=pn.drmInfos.length==0,(ln.drmInfos.length==0||sn&&!cn)&&(ln.drmInfos=pn.drmInfos),ln.firstRepresentation=!1;else if(0<pn.drmInfos.length&&(ln.drmInfos=ln.drmInfos.filter(function(vn){return pn.drmInfos.some(function(Sn){return Sn.keySystem==vn.keySystem})}),ln.drmInfos.length==0))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_NO_COMMON_KEY_SYSTEM);return pn.defaultKeyId||ln.defaultKeyId},shaka.dash.ContentProtection.getWidevineLicenseUrl=function(sn){return(sn=shaka.util.XmlUtils.findChildNS(sn.node,"urn:microsoft","laurl"))&&sn.getAttribute("licenseUrl")||""},shaka.dash.ContentProtection.getClearKeyLicenseUrl=function(sn){return(sn=shaka.util.XmlUtils.findChildNS(sn.node,shaka.dash.ContentProtection.ClearKeyNamespaceUri_,"Laurl"))&&sn.getAttribute("Lic_type")==="EME-1.0"&&sn.textContent?sn.textContent:""},shaka.dash.ContentProtection.parseMsProRecords_=function(sn,ln){for(var cn=[];ln<sn.byteLength-1;){var dn=sn.getUint16(ln,!0);ln+=2;var pn=sn.getUint16(ln,!0);if(ln+=2,pn&1||pn+ln>sn.byteLength)return shaka.log.warning("Malformed MS PRO object"),[];var vn=shaka.util.BufferUtils.toUint8(sn,ln,pn);cn.push({type:dn,value:vn}),ln+=pn}return cn},shaka.dash.ContentProtection.parseMsPro_=function(sn){var ln=0,cn=shaka.util.BufferUtils.toDataView(sn),dn=cn.getUint32(ln,!0);return ln+=4,dn!=sn.byteLength?(shaka.log.warning("PlayReady Object with invalid length encountered."),[]):shaka.dash.ContentProtection.parseMsProRecords_(cn,ln+2)},shaka.dash.ContentProtection.getLaurl_=function(sn){sn=$jscomp.makeIterator(sn.getElementsByTagName("DATA"));for(var ln=sn.next();!ln.done;ln=sn.next()){ln=$jscomp.makeIterator(ln.value.childNodes);for(var cn=ln.next();!cn.done;cn=ln.next())if(cn=cn.value,cn instanceof Element&&cn.tagName=="LA_URL")return cn.textContent}return""},shaka.dash.ContentProtection.getPlayReadyLicenseUrl=function(sn){var ln=shaka.util.XmlUtils.findChildNS(sn.node,"urn:microsoft:playready","pro");if(!ln)return"";sn=shaka.dash.ContentProtection;var cn=sn.PLAYREADY_RECORD_TYPES;return ln=shaka.util.Uint8ArrayUtils.fromBase64(ln.textContent),ln=sn.parseMsPro_(ln).filter(function(dn){return dn.type===cn.RIGHTS_MANAGEMENT})[0],ln?(ln=shaka.util.StringUtils.fromUTF16(ln.value,!0),(ln=shaka.util.XmlUtils.parseXmlString(ln,"WRMHEADER"))?sn.getLaurl_(ln):""):""},shaka.dash.ContentProtection.getInitDataFromPro_=function(sn){var ln=shaka.util.XmlUtils.findChildNS(sn.node,"urn:microsoft:playready","pro");if(!ln)return null;ln=shaka.util.Uint8ArrayUtils.fromBase64(ln.textContent);var cn=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),dn=new Set;return[{initData:shaka.util.Pssh.createPssh(ln,cn,dn,0),initDataType:"cenc",keyId:sn.keyId}]},shaka.dash.ContentProtection.getInitDataClearKey_=function(sn,ln){if(ln.size==0)return null;var cn=new Uint8Array([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]),dn=new Uint8Array([]);return[{initData:shaka.util.Pssh.createPssh(dn,cn,ln,1),initDataType:"cenc",keyId:sn.keyId}]},shaka.dash.ContentProtection.convertElements_=function(sn,ln,cn,dn){var pn=shaka.dash.ContentProtection,vn=shaka.util.ManifestParserUtils,Sn=pn.licenseUrlParsers_,En=[];ln=$jscomp.makeIterator(ln);for(var Cn=ln.next();!Cn.done;Cn=ln.next()){Cn=Cn.value;var Pn=cn[Cn.schemeUri];if(Pn){goog.asserts.assert(!Cn.init||Cn.init.length,"Init data must be null or non-empty.");var Rn=pn.getInitDataFromPro_(Cn),Ln=null;Cn.schemeUri===shaka.dash.ContentProtection.ClearKeySchemeUri_&&(Ln=pn.getInitDataClearKey_(Cn,dn)),Rn=vn.createDrmInfo(Pn,Cn.init||sn||Rn||Ln),(Pn=Sn.get(Pn))&&(Rn.licenseServerUri=Pn(Cn)),En.push(Rn)}}return En},shaka.dash.ContentProtection.parseElements_=function(sn){var ln=[];sn=$jscomp.makeIterator(sn);for(var cn=sn.next();!cn.done;cn=sn.next())(cn=shaka.dash.ContentProtection.parseElement_(cn.value))&&ln.push(cn);return ln},shaka.dash.ContentProtection.parseElement_=function(sn){var ln=shaka.dash.ContentProtection.CencNamespaceUri_,cn=sn.getAttribute("schemeIdUri"),dn=shaka.util.XmlUtils.getAttributeNS(sn,ln,"default_KID");if(ln=shaka.util.XmlUtils.findChildrenNS(sn,ln,"pssh").map(shaka.util.XmlUtils.getContents),!cn)return shaka.log.error("Missing required schemeIdUri attribute on","ContentProtection element",sn),null;if(cn=cn.toLowerCase(),dn&&(dn=dn.replace(/-/g,"").toLowerCase(),dn.includes(" ")))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED);var pn=[];try{pn=ln.map(function(vn){return{initDataType:"cenc",initData:shaka.util.Uint8ArrayUtils.fromBase64(vn),keyId:null}})}catch{throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_PSSH_BAD_ENCODING)}return{node:sn,schemeUri:cn,keyId:dn,init:0<pn.length?pn:null}},shaka.dash.ContentProtection.PLAYREADY_RECORD_TYPES={RIGHTS_MANAGEMENT:1,RESERVED:2,EMBEDDED_LICENSE:3},shaka.dash.ContentProtection.licenseUrlParsers_=new Map().set("com.widevine.alpha",shaka.dash.ContentProtection.getWidevineLicenseUrl).set("com.microsoft.playready",shaka.dash.ContentProtection.getPlayReadyLicenseUrl).set("com.microsoft.playready.recommendation",shaka.dash.ContentProtection.getPlayReadyLicenseUrl).set("com.microsoft.playready.software",shaka.dash.ContentProtection.getPlayReadyLicenseUrl).set("com.microsoft.playready.hardware",shaka.dash.ContentProtection.getPlayReadyLicenseUrl).set("org.w3.clearkey",shaka.dash.ContentProtection.getClearKeyLicenseUrl),shaka.dash.ContentProtection.MP4Protection_="urn:mpeg:dash:mp4protection:2011",shaka.dash.ContentProtection.CencNamespaceUri_="urn:mpeg:cenc:2013",shaka.dash.ContentProtection.ClearKeyNamespaceUri_="http://dashif.org/guidelines/clearKey",shaka.dash.ContentProtection.ClearKeySchemeUri_="urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e",shaka.dash.MpdUtils=function(){},shaka.dash.MpdUtils.fillUriTemplate=function(sn,ln,cn,dn,pn){var vn={RepresentationID:ln,Number:cn,Bandwidth:dn,Time:pn};return sn.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,function(Sn,En,Cn,Pn){if(Sn=="$$")return"$";var Rn=vn[En];if(goog.asserts.assert(Rn!==void 0,"Unrecognized identifier"),Rn==null)return shaka.log.warning("URL template does not have an available substitution for ",'identifier "'+En+'":',sn),Sn;switch(En=="RepresentationID"&&Cn&&(shaka.log.warning("URL template should not contain a width specifier for identifier",'"RepresentationID":',sn),Cn=void 0),En=="Time"&&(goog.asserts.assert(typeof Rn=="number","Time value should be a number!"),goog.asserts.assert(.2>Math.abs(Rn-Math.round(Rn)),"Calculated $Time$ values must be close to integers"),Rn=Math.round(Rn)),Pn){case void 0:case"d":case"i":case"u":Sn=Rn.toString();break;case"o":Sn=Rn.toString(8);break;case"x":Sn=Rn.toString(16);break;case"X":Sn=Rn.toString(16).toUpperCase();break;default:goog.asserts.assert(!1,"Unhandled format specifier"),Sn=Rn.toString()}return Cn=window.parseInt(Cn,10)||1,Array(Math.max(0,Cn-Sn.length)+1).join("0")+Sn})},shaka.dash.MpdUtils.createTimeline=function(sn,ln,cn,dn){goog.asserts.assert(0<ln&&1/0>ln,"timescale must be a positive, finite integer"),goog.asserts.assert(0<dn,"period duration must be a positive integer");var pn=shaka.util.XmlUtils;sn=pn.findChildren(sn,"S");for(var vn=[],Sn=-cn,En=0;En<sn.length;++En){var Cn=sn[En],Pn=sn[En+1],Rn=pn.parseAttr(Cn,"t",pn.parseNonNegativeInt),Ln=pn.parseAttr(Cn,"d",pn.parseNonNegativeInt),Fn=pn.parseAttr(Cn,"r",pn.parseInt);if(Rn!=null&&(Rn-=cn),!Ln){shaka.log.warning('"S" element must have a duration:','ignoring the remaining "S" elements.',Cn);break}if(Rn=Rn??Sn,Fn=Fn||0,0>Fn)if(Pn){if(Pn=pn.parseAttr(Pn,"t",pn.parseNonNegativeInt),Pn==null){shaka.log.warning('An "S" element cannot have a negative repeat','if the next "S" element does not have a valid start time:','ignoring the remaining "S" elements.',Cn);break}else if(Rn>=Pn){shaka.log.warning('An "S" element cannot have a negative repeatif its start ',`time exceeds the next "S" element's start time:`,'ignoring the remaining "S" elements.',Cn);break}Fn=Math.ceil((Pn-Rn)/Ln)-1}else{if(dn==1/0){shaka.log.warning('The last "S" element cannot have a negative repeat',"if the Period has an infinite duration:",'ignoring the last "S" element.',Cn);break}else if(Rn/ln>=dn){shaka.log.warning('The last "S" element cannot have a negative repeat',"if its start time exceeds the Period's duration:",'igoring the last "S" element.',Cn);break}Fn=Math.ceil((dn*ln-Rn)/Ln)-1}for(0<vn.length&&Rn!=Sn&&(Math.abs((Rn-Sn)/ln)>=shaka.util.ManifestParserUtils.GAP_OVERLAP_TOLERANCE_SECONDS&&shaka.log.warning("SegmentTimeline contains a large gap/overlap:","the content may have errors in it.",Cn),vn[vn.length-1].end=Rn/ln),Cn=0;Cn<=Fn;++Cn)Sn=Rn+Ln,vn.push({start:Rn/ln,end:Sn/ln,unscaledStart:Rn}),Rn=Sn}return vn},shaka.dash.MpdUtils.parseSegmentInfo=function(sn,ln){goog.asserts.assert(ln(sn.representation),"There must be at least one element of the given type.");var cn=shaka.dash.MpdUtils,dn=shaka.util.XmlUtils,pn=cn.inheritAttribute(sn,ln,"timescale"),vn=1;pn&&(vn=dn.parsePositiveInt(pn)||1);var Sn=cn.inheritAttribute(sn,ln,"duration");pn=dn.parsePositiveInt(Sn||""),sn.representation.contentType==shaka.util.ManifestParserUtils.ContentType.IMAGE&&(pn=dn.parseFloat(Sn||"")),pn&&(pn/=vn);var En=cn.inheritAttribute(sn,ln,"startNumber");return Sn=Number(cn.inheritAttribute(sn,ln,"presentationTimeOffset"))||0,dn=dn.parseNonNegativeInt(En||""),(En==null||dn==null)&&(dn=1),ln=cn.inheritChild(sn,ln,"SegmentTimeline"),En=null,ln&&(En=cn.createTimeline(ln,vn,Sn,sn.periodInfo.duration||1/0)),{timescale:vn,segmentDuration:pn,startNumber:dn,scaledPresentationTimeOffset:Sn/vn||0,unscaledPresentationTimeOffset:Sn,timeline:En}},shaka.dash.MpdUtils.inheritAttribute=function(sn,ln,cn){var dn=shaka.util.Functional;return goog.asserts.assert(ln(sn.representation),"There must be at least one element of the given type"),[ln(sn.representation),ln(sn.adaptationSet),ln(sn.period)].filter(dn.isNotNull).map(function(pn){return pn.getAttribute(cn)}).reduce(function(pn,vn){return pn||vn})},shaka.dash.MpdUtils.inheritChild=function(sn,ln,cn){var dn=shaka.util.Functional;goog.asserts.assert(ln(sn.representation),"There must be at least one element of the given type"),sn=[ln(sn.representation),ln(sn.adaptationSet),ln(sn.period)].filter(dn.isNotNull);var pn=shaka.util.XmlUtils;return sn.map(function(vn){return pn.findChild(vn,cn)}).reduce(function(vn,Sn){return vn||Sn})},shaka.dash.MpdUtils.handleXlinkInElement_=function(sn,ln,cn,dn,pn,vn){var Sn=shaka.util.XmlUtils,En=shaka.util.Error,Cn=shaka.util.ManifestParserUtils,Pn=shaka.dash.MpdUtils.XlinkNamespaceUri_,Rn=Sn.getAttributeNS(sn,Pn,"href");Sn=Sn.getAttributeNS(sn,Pn,"actuate")||"onRequest";for(var Ln=$jscomp.makeIterator(Array.from(sn.attributes)),Fn=Ln.next();!Fn.done;Fn=Ln.next())Fn=Fn.value,Fn.namespaceURI==Pn&&sn.removeAttributeNS(Fn.namespaceURI,Fn.localName);if(5<=vn)return shaka.util.AbortableOperation.failed(new En(En.Severity.CRITICAL,En.Category.MANIFEST,En.Code.DASH_XLINK_DEPTH_LIMIT));if(Sn!="onLoad")return shaka.util.AbortableOperation.failed(new En(En.Severity.CRITICAL,En.Category.MANIFEST,En.Code.DASH_UNSUPPORTED_XLINK_ACTUATE));var Gn=Cn.resolveUris([dn],[Rn]);return dn=shaka.net.NetworkingEngine.RequestType.MANIFEST,Cn=shaka.net.NetworkingEngine.makeRequest(Gn,ln),dn=pn.request(dn,Cn),goog.asserts.assert(dn instanceof shaka.util.AbortableOperation,"Unexpected implementation of IAbortableOperation!"),dn.chain(function(Dn){if(Dn=shaka.util.XmlUtils.parseXml(Dn.data,sn.tagName),!Dn)return shaka.util.AbortableOperation.failed(new En(En.Severity.CRITICAL,En.Category.MANIFEST,En.Code.DASH_INVALID_XML,Rn));for(;sn.childNodes.length;)sn.removeChild(sn.childNodes[0]);for(;Dn.childNodes.length;){var Kn=Dn.childNodes[0];Dn.removeChild(Kn),sn.appendChild(Kn)}for(Dn=$jscomp.makeIterator(Array.from(Dn.attributes)),Kn=Dn.next();!Kn.done;Kn=Dn.next())sn.setAttributeNode(Kn.value.cloneNode(!1));return shaka.dash.MpdUtils.processXlinks(sn,ln,cn,Gn[0],pn,vn+1)})},shaka.dash.MpdUtils.processXlinks=function(sn,ln,cn,dn,pn,vn){vn=vn===void 0?0:vn;var Sn=shaka.dash.MpdUtils,En=shaka.util.XmlUtils,Cn=Sn.XlinkNamespaceUri_;if(En.getAttributeNS(sn,Cn,"href"))return En=Sn.handleXlinkInElement_(sn,ln,cn,dn,pn,vn),cn&&(En=En.chain(void 0,function(Fn){return Sn.processXlinks(sn,ln,cn,dn,pn,vn)})),En;for(var Pn=[],Rn=$jscomp.makeIterator(Array.from(sn.childNodes)),Ln=Rn.next();!Ln.done;Ln=Rn.next())Ln=Ln.value,Ln instanceof Element&&(En.getAttributeNS(Ln,Cn,"href")=="urn:mpeg:dash:resolve-to-zero:2013"?sn.removeChild(Ln):Ln.tagName!="SegmentTimeline"&&Pn.push(shaka.dash.MpdUtils.processXlinks(Ln,ln,cn,dn,pn,vn)));return shaka.util.AbortableOperation.all(Pn).chain(function(){return sn})},shaka.dash.MpdUtils.XlinkNamespaceUri_="http://www.w3.org/1999/xlink",shaka.media.Mp4SegmentIndexParser=function(){},shaka.media.Mp4SegmentIndexParser.parse=function(sn,ln,cn,dn,pn,vn,Sn){var En=shaka.media.Mp4SegmentIndexParser,Cn,Pn=new shaka.util.Mp4Parser().fullBox("sidx",function(Rn){Cn=En.parseSIDX_(ln,dn,pn,vn,Sn,cn,Rn)});if(sn&&Pn.parse(sn),Cn)return Cn;throw shaka.log.error('Invalid box type, expected "sidx".'),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.MP4_SIDX_WRONG_BOX_TYPE)},shaka.media.Mp4SegmentIndexParser.parseSIDX_=function(sn,ln,cn,dn,pn,vn,Sn){goog.asserts.assert(Sn.version!=null,"SIDX is a full box and should have a valid version.");var En=[];Sn.reader.skip(4);var Cn=Sn.reader.readUint32();if(Cn==0)throw shaka.log.error("Invalid timescale."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.MP4_SIDX_INVALID_TIMESCALE);if(Sn.version==0)var Pn=Sn.reader.readUint32(),Rn=Sn.reader.readUint32();else Pn=Sn.reader.readUint64(),Rn=Sn.reader.readUint64();Sn.reader.skip(2);var Ln=Sn.reader.readUint16();for(sn=sn+Sn.size+Rn,Rn=0;Rn<Ln;Rn++){var Fn=Sn.reader.readUint32(),Gn=(Fn&2147483648)>>>31;Fn&=2147483647;var Dn=Sn.reader.readUint32();if(Sn.reader.skip(4),Gn==1)throw shaka.log.error("Heirarchical SIDXs are not supported."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.MP4_SIDX_TYPE_NOT_SUPPORTED);En.push(new shaka.media.SegmentReference(Pn/Cn+cn,(Pn+Dn)/Cn+cn,function(){return vn},sn,sn+Fn-1,ln,cn,dn,pn)),Pn+=Dn,sn+=Fn}return Sn.parser.stop(),En},shaka.util.EbmlParser=function(sn){this.dataView_=shaka.util.BufferUtils.toDataView(sn),this.reader_=new shaka.util.DataViewReader(this.dataView_,shaka.util.DataViewReader.Endianness.BIG_ENDIAN)},shaka.util.EbmlParser.prototype.hasMoreData=function(){return this.reader_.hasMoreData()},shaka.util.EbmlParser.prototype.parseElement=function(){var sn=this.parseId_(),ln=this.parseVint_();ln=shaka.util.EbmlParser.isDynamicSizeValue_(ln)?this.dataView_.byteLength-this.reader_.getPosition():shaka.util.EbmlParser.getVintValue_(ln),ln=this.reader_.getPosition()+ln<=this.dataView_.byteLength?ln:this.dataView_.byteLength-this.reader_.getPosition();var cn=shaka.util.BufferUtils.toDataView(this.dataView_,this.reader_.getPosition(),ln);return this.reader_.skip(ln),new shaka.util.EbmlElement(sn,cn)},shaka.util.EbmlParser.prototype.parseId_=function(){var sn=this.parseVint_();if(7<sn.length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.EBML_OVERFLOW);var ln=0;sn=$jscomp.makeIterator(sn);for(var cn=sn.next();!cn.done;cn=sn.next())ln=256*ln+cn.value;return ln},shaka.util.EbmlParser.prototype.parseVint_=function(){var sn=this.reader_.getPosition(),ln=this.reader_.readUint8();if(ln==0)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.EBML_OVERFLOW);return ln=8-Math.floor(Math.log2(ln)),goog.asserts.assert(8>=ln&&1<=ln,"Incorrect log2 value"),this.reader_.skip(ln-1),shaka.util.BufferUtils.toUint8(this.dataView_,sn,ln)},shaka.util.EbmlParser.getVintValue_=function(sn){if(sn.length==8&&sn[1]&224)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.JS_INTEGER_OVERFLOW);for(var ln=0,cn=0;cn<sn.length;cn++){var dn=sn[cn];ln=cn==0?dn&(1<<8-sn.length)-1:256*ln+dn}return ln},shaka.util.EbmlParser.isDynamicSizeValue_=function(sn){for(var ln=shaka.util.BufferUtils,cn=$jscomp.makeIterator(shaka.util.EbmlParser.DYNAMIC_SIZES),dn=cn.next();!dn.done;dn=cn.next())if(ln.equal(sn,new Uint8Array(dn.value)))return!0;return!1},shaka.util.EbmlParser.DYNAMIC_SIZES=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]],shaka.util.EbmlElement=function(sn,ln){this.id=sn,this.dataView_=ln},shaka.util.EbmlElement.prototype.getOffset=function(){return this.dataView_.byteOffset},shaka.util.EbmlElement.prototype.createParser=function(){return new shaka.util.EbmlParser(this.dataView_)},shaka.util.EbmlElement.prototype.getUint=function(){if(8<this.dataView_.byteLength)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.EBML_OVERFLOW);if(this.dataView_.byteLength==8&&this.dataView_.getUint8(0)&224)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.JS_INTEGER_OVERFLOW);for(var sn=0,ln=0;ln<this.dataView_.byteLength;ln++){var cn=this.dataView_.getUint8(ln);sn=256*sn+cn}return sn},shaka.util.EbmlElement.prototype.getFloat=function(){if(this.dataView_.byteLength==4)return this.dataView_.getFloat32(0);if(this.dataView_.byteLength==8)return this.dataView_.getFloat64(0);throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.EBML_BAD_FLOATING_POINT_SIZE)},shaka.media.WebmSegmentIndexParser=function(){},shaka.media.WebmSegmentIndexParser.parse=function(sn,ln,cn,dn,pn,vn,Sn){if(ln=shaka.media.WebmSegmentIndexParser.parseWebmContainer_(ln),sn=new shaka.util.EbmlParser(sn).parseElement(),sn.id!=shaka.media.WebmSegmentIndexParser.CUES_ID)throw shaka.log.error("Not a Cues element."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.WEBM_CUES_ELEMENT_MISSING);return shaka.media.WebmSegmentIndexParser.parseCues_(sn,ln.segmentOffset,ln.timecodeScale,ln.duration,cn,dn,pn,vn,Sn)},shaka.media.WebmSegmentIndexParser.parseWebmContainer_=function(sn){if(sn=new shaka.util.EbmlParser(sn),sn.parseElement().id!=shaka.media.WebmSegmentIndexParser.EBML_ID)throw shaka.log.error("Not an EBML element."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.WEBM_EBML_HEADER_ELEMENT_MISSING);var ln=sn.parseElement();if(ln.id!=shaka.media.WebmSegmentIndexParser.SEGMENT_ID)throw shaka.log.error("Not a Segment element."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.WEBM_SEGMENT_ELEMENT_MISSING);return sn=ln.getOffset(),ln=shaka.media.WebmSegmentIndexParser.parseSegment_(ln),{segmentOffset:sn,timecodeScale:ln.timecodeScale,duration:ln.duration}},shaka.media.WebmSegmentIndexParser.parseSegment_=function(sn){sn=sn.createParser();for(var ln=null;sn.hasMoreData();){var cn=sn.parseElement();if(cn.id==shaka.media.WebmSegmentIndexParser.INFO_ID){ln=cn;break}}if(!ln)throw shaka.log.error("Not an Info element."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.WEBM_INFO_ELEMENT_MISSING);return shaka.media.WebmSegmentIndexParser.parseInfo_(ln)},shaka.media.WebmSegmentIndexParser.parseInfo_=function(sn){var ln=sn.createParser(),cn=1e6;for(sn=null;ln.hasMoreData();){var dn=ln.parseElement();dn.id==shaka.media.WebmSegmentIndexParser.TIMECODE_SCALE_ID?cn=dn.getUint():dn.id==shaka.media.WebmSegmentIndexParser.DURATION_ID&&(sn=dn.getFloat())}if(sn==null)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.WEBM_DURATION_ELEMENT_MISSING);return ln=cn/1e9,{timecodeScale:ln,duration:sn*ln}},shaka.media.WebmSegmentIndexParser.parseCues_=function(sn,ln,cn,dn,pn,vn,Sn,En,Cn){var Pn=[],Rn=function(){return pn};sn=sn.createParser();for(var Ln=null,Fn=null;sn.hasMoreData();){var Gn=sn.parseElement();if(Gn.id==shaka.media.WebmSegmentIndexParser.CUE_POINT_ID){var Dn=shaka.media.WebmSegmentIndexParser.parseCuePoint_(Gn);Dn&&(Gn=cn*Dn.unscaledTime,Dn=ln+Dn.relativeOffset,Ln!=null&&(goog.asserts.assert(Fn!=null,"last offset cannot be null"),Pn.push(new shaka.media.SegmentReference(Ln+Sn,Gn+Sn,Rn,Fn,Dn-1,vn,Sn,En,Cn))),Ln=Gn,Fn=Dn)}}return Ln!=null&&(goog.asserts.assert(Fn!=null,"last offset cannot be null"),Pn.push(new shaka.media.SegmentReference(Ln+Sn,dn+Sn,Rn,Fn,null,vn,Sn,En,Cn))),Pn},shaka.media.WebmSegmentIndexParser.parseCuePoint_=function(sn){var ln=sn.createParser();if(sn=ln.parseElement(),sn.id!=shaka.media.WebmSegmentIndexParser.CUE_TIME_ID)throw shaka.log.warning("Not a CueTime element."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.WEBM_CUE_TIME_ELEMENT_MISSING);if(sn=sn.getUint(),ln=ln.parseElement(),ln.id!=shaka.media.WebmSegmentIndexParser.CUE_TRACK_POSITIONS_ID)throw shaka.log.warning("Not a CueTrackPositions element."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING);ln=ln.createParser();for(var cn=0;ln.hasMoreData();){var dn=ln.parseElement();if(dn.id==shaka.media.WebmSegmentIndexParser.CUE_CLUSTER_POSITION){cn=dn.getUint();break}}return{unscaledTime:sn,relativeOffset:cn}},shaka.media.WebmSegmentIndexParser.EBML_ID=440786851,shaka.media.WebmSegmentIndexParser.SEGMENT_ID=408125543,shaka.media.WebmSegmentIndexParser.INFO_ID=357149030,shaka.media.WebmSegmentIndexParser.TIMECODE_SCALE_ID=2807729,shaka.media.WebmSegmentIndexParser.DURATION_ID=17545,shaka.media.WebmSegmentIndexParser.CUES_ID=475249515,shaka.media.WebmSegmentIndexParser.CUE_POINT_ID=187,shaka.media.WebmSegmentIndexParser.CUE_TIME_ID=179,shaka.media.WebmSegmentIndexParser.CUE_TRACK_POSITIONS_ID=183,shaka.media.WebmSegmentIndexParser.CUE_CLUSTER_POSITION=241,shaka.dash.SegmentBase=function(){},shaka.dash.SegmentBase.createInitSegment=function(sn,ln){var cn=shaka.util.XmlUtils,dn=shaka.util.ManifestParserUtils;if(ln=shaka.dash.MpdUtils.inheritChild(sn,ln,"Initialization"),!ln)return null;var pn=sn.representation.baseUris,vn=ln.getAttribute("sourceURL");return vn&&(pn=dn.resolveUris(sn.representation.baseUris,[vn])),dn=0,vn=null,(cn=cn.parseAttr(ln,"range",cn.parseRange))&&(dn=cn.start,vn=cn.end),sn=shaka.dash.SegmentBase.createQualityInfo(sn),new shaka.media.InitSegmentReference(function(){return pn},dn,vn,sn)},shaka.dash.SegmentBase.createStreamInfo=function(sn,ln){goog.asserts.assert(sn.representation.segmentBase,"Should only be called with SegmentBase");var cn=shaka.dash.MpdUtils,dn=shaka.dash.SegmentBase,pn=shaka.util.XmlUtils,vn=Number(cn.inheritAttribute(sn,dn.fromInheritance_,"presentationTimeOffset"))||0;cn=cn.inheritAttribute(sn,dn.fromInheritance_,"timescale");var Sn=1;cn&&(Sn=pn.parsePositiveInt(cn)||1);var En=vn/Sn||0,Cn=dn.createInitSegment(sn,dn.fromInheritance_);dn.checkSegmentIndexRangeSupport_(sn,Cn);var Pn=shaka.util.ObjectUtils.shallowCloneObject(sn);return{generateSegmentIndex:function(){return dn.generateSegmentIndex_(Pn,ln,Cn,En)}}},shaka.dash.SegmentBase.generateSegmentIndexFromUris=function(sn,ln,cn,dn,pn,vn,Sn){var En,Cn,Pn,Rn,Ln,Fn,Gn,Dn,Kn,qn,Zn,Yn,Jn,rs,us;return $jscomp.asyncExecutePromiseGeneratorProgram(function(as){return as.nextAddress==1?(En=sn.presentationTimeline,Cn=!sn.dynamic||!sn.periodInfo.isLastPeriod,Pn=sn.periodInfo.start,Rn=sn.periodInfo.duration,Ln=sn.representation.mimeType.split("/")[1],Fn=ln,Gn=null,Dn=[Fn(dn,pn,vn),Ln=="webm"?Fn(cn.getUris(),cn.startByte,cn.endByte):null],Fn=null,as.yield(Promise.all(Dn),2)):(Kn=as.yieldResult,qn=Kn[0],Zn=Kn[1]||null,Yn=null,Jn=Pn-Sn,rs=Pn,us=Rn?Pn+Rn:1/0,Ln=="mp4"?Yn=shaka.media.Mp4SegmentIndexParser.parse(qn,pn,dn,cn,Jn,rs,us):(goog.asserts.assert(Zn,"WebM requires init data"),Yn=shaka.media.WebmSegmentIndexParser.parse(qn,Zn,dn,cn,Jn,rs,us)),En.notifySegments(Yn),goog.asserts.assert(!Gn,"Should not call generateSegmentIndex twice"),Gn=new shaka.media.SegmentIndex(Yn),Cn&&Gn.fit(rs,us,!0),as.return(Gn))})},shaka.dash.SegmentBase.fromInheritance_=function(sn){return sn.segmentBase},shaka.dash.SegmentBase.computeIndexRange_=function(sn){var ln=shaka.dash.MpdUtils,cn=shaka.dash.SegmentBase,dn=shaka.util.XmlUtils,pn=ln.inheritChild(sn,cn.fromInheritance_,"RepresentationIndex");return sn=ln.inheritAttribute(sn,cn.fromInheritance_,"indexRange"),sn=dn.parseRange(sn||""),pn&&(sn=dn.parseAttr(pn,"range",dn.parseRange,sn)),sn},shaka.dash.SegmentBase.computeIndexUris_=function(sn){var ln=shaka.util.ManifestParserUtils,cn=shaka.dash.MpdUtils.inheritChild(sn,shaka.dash.SegmentBase.fromInheritance_,"RepresentationIndex"),dn=sn.representation.baseUris;return cn&&(cn=cn.getAttribute("sourceURL"))&&(dn=ln.resolveUris(sn.representation.baseUris,[cn])),dn},shaka.dash.SegmentBase.checkSegmentIndexRangeSupport_=function(sn,ln){var cn=shaka.dash.SegmentBase;if(cn.checkSegmentIndexSupport(sn,ln),!cn.computeIndexRange_(sn))throw shaka.log.error("SegmentBase does not contain sufficient segment information:","the SegmentBase does not contain @indexRange","or a RepresentationIndex element.",sn.representation),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_NO_SEGMENT_INFO)},shaka.dash.SegmentBase.checkSegmentIndexSupport=function(sn,ln){var cn=shaka.util.ManifestParserUtils.ContentType,dn=sn.representation.contentType,pn=sn.representation.mimeType.split("/")[1];if(dn!=cn.TEXT&&pn!="mp4"&&pn!="webm")throw shaka.log.error("SegmentBase specifies an unsupported container type.",sn.representation),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_UNSUPPORTED_CONTAINER);if(pn=="webm"&&!ln)throw shaka.log.error("SegmentBase does not contain sufficient segment information:","the SegmentBase uses a WebM container,","but does not contain an Initialization element.",sn.representation),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_WEBM_MISSING_INIT)},shaka.dash.SegmentBase.generateSegmentIndex_=function(sn,ln,cn,dn){var pn=shaka.dash.SegmentBase,vn=pn.computeIndexUris_(sn);return pn=pn.computeIndexRange_(sn),goog.asserts.assert(pn,"Index range should not be null!"),shaka.dash.SegmentBase.generateSegmentIndexFromUris(sn,ln,cn,vn,pn.start,pn.end,dn)},shaka.dash.SegmentBase.createQualityInfo=function(sn){var ln=sn.representation;return{bandwidth:sn.bandwidth,audioSamplingRate:ln.audioSamplingRate,codecs:ln.codecs,contentType:ln.contentType,frameRate:ln.frameRate||null,height:ln.height||null,mimeType:ln.mimeType,channelsCount:ln.numChannels,pixelAspectRatio:ln.pixelAspectRatio||null,width:ln.width||null}},shaka.dash.SegmentList=function(){},shaka.dash.SegmentList.createStreamInfo=function(sn,ln){goog.asserts.assert(sn.representation.segmentList,"Should only be called with SegmentList");var cn=shaka.dash.SegmentList,dn=shaka.dash.SegmentBase.createInitSegment(sn,cn.fromInheritance_),pn=cn.parseSegmentListInfo_(sn);cn.checkSegmentListInfo_(sn,pn);var vn=null,Sn=null;sn.period.id&&sn.representation.id&&(Sn=ln[sn.period.id+","+sn.representation.id])&&(vn=Sn.segmentIndex);var En=cn.createSegmentReferences_(sn.periodInfo.start,sn.periodInfo.duration,pn.startNumber,sn.representation.baseUris,pn,dn);return ln=!vn,vn?(cn=sn.presentationTimeline.getSegmentAvailabilityStart(),vn.mergeAndEvict(En,cn)):vn=new shaka.media.SegmentIndex(En),sn.presentationTimeline.notifySegments(En),sn.dynamic&&sn.periodInfo.isLastPeriod||vn.fit(sn.periodInfo.start,sn.periodInfo.duration?sn.periodInfo.start+sn.periodInfo.duration:1/0,ln),Sn&&(Sn.segmentIndex=vn),{generateSegmentIndex:function(){return vn&&!vn.isEmpty()||vn.merge(En),Promise.resolve(vn)}}},shaka.dash.SegmentList.fromInheritance_=function(sn){return sn.segmentList},shaka.dash.SegmentList.parseSegmentListInfo_=function(sn){var ln=shaka.dash.SegmentList,cn=shaka.dash.MpdUtils,dn=ln.parseMediaSegments_(sn);return sn=cn.parseSegmentInfo(sn,ln.fromInheritance_),ln=sn.startNumber,ln==0&&(shaka.log.warning("SegmentList@startNumber must be > 0"),ln=1),cn=0,sn.segmentDuration?cn=sn.segmentDuration*(ln-1):sn.timeline&&0<sn.timeline.length&&(cn=sn.timeline[0].start),{segmentDuration:sn.segmentDuration,startTime:cn,startNumber:ln,scaledPresentationTimeOffset:sn.scaledPresentationTimeOffset,timeline:sn.timeline,mediaSegments:dn}},shaka.dash.SegmentList.checkSegmentListInfo_=function(sn,ln){if(!ln.segmentDuration&&!ln.timeline&&1<ln.mediaSegments.length)throw shaka.log.warning("SegmentList does not contain sufficient segment information:","the SegmentList specifies multiple segments,","but does not specify a segment duration or timeline.",sn.representation),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_NO_SEGMENT_INFO);if(!ln.segmentDuration&&!sn.periodInfo.duration&&!ln.timeline&&ln.mediaSegments.length==1)throw shaka.log.warning("SegmentList does not contain sufficient segment information:","the SegmentList specifies one segment,","but does not specify a segment duration, period duration,","or timeline.",sn.representation),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_NO_SEGMENT_INFO);if(ln.timeline&&ln.timeline.length==0)throw shaka.log.warning("SegmentList does not contain sufficient segment information:","the SegmentList has an empty timeline.",sn.representation),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_NO_SEGMENT_INFO)},shaka.dash.SegmentList.createSegmentReferences_=function(sn,ln,cn,dn,pn,vn){cn=shaka.util.ManifestParserUtils;var Sn=pn.mediaSegments.length;pn.timeline&&pn.timeline.length!=pn.mediaSegments.length&&(Sn=Math.min(pn.timeline.length,pn.mediaSegments.length),shaka.log.warning("The number of items in the segment timeline and the number of ","segment URLs do not match, truncating",pn.mediaSegments.length,"to",Sn));for(var En=sn-pn.scaledPresentationTimeOffset,Cn=ln?sn+ln:1/0,Pn=[],Rn=pn.startTime,Ln={},Fn=0;Fn<Sn;Ln={$jscomp$loop$prop$mediaUri$716:Ln.$jscomp$loop$prop$mediaUri$716},Fn++){var Gn=pn.mediaSegments[Fn];Ln.$jscomp$loop$prop$mediaUri$716=cn.resolveUris(dn,[Gn.mediaUri]);var Dn=void 0;pn.segmentDuration!=null?Dn=Rn+pn.segmentDuration:pn.timeline?Dn=pn.timeline[Fn].end:(goog.asserts.assert(pn.mediaSegments.length==1&&ln,"There should be exactly one segment with a Period duration."),Dn=Rn+ln);var Kn=function(qn){return function(){return qn.$jscomp$loop$prop$mediaUri$716}}(Ln);Pn.push(new shaka.media.SegmentReference(sn+Rn,sn+Dn,Kn,Gn.start,Gn.end,vn,En,sn,Cn)),Rn=Dn}return Pn},shaka.dash.SegmentList.parseMediaSegments_=function(sn){var ln=[sn.representation.segmentList,sn.adaptationSet.segmentList,sn.period.segmentList].filter(shaka.util.Functional.isNotNull),cn=shaka.util.XmlUtils;return ln.map(function(dn){return cn.findChildren(dn,"SegmentURL")}).reduce(function(dn,pn){return 0<dn.length?dn:pn}).map(function(dn){dn.getAttribute("indexRange")&&!sn.indexRangeWarningGiven&&(sn.indexRangeWarningGiven=!0,shaka.log.warning("We do not support the SegmentURL@indexRange attribute on SegmentList.  We only use the SegmentList@duration attribute or SegmentTimeline, which must be accurate."));var pn=dn.getAttribute("media");return dn=cn.parseAttr(dn,"mediaRange",cn.parseRange,{start:0,end:null}),{mediaUri:pn,start:dn.start,end:dn.end}})},shaka.dash.SegmentTemplate=function(){},shaka.dash.SegmentTemplate.createStreamInfo=function(sn,ln,cn,dn,pn,vn){goog.asserts.assert(sn.representation.segmentTemplate,"Should only be called with SegmentTemplate");var Sn=shaka.dash.SegmentTemplate,En=Sn.createInitSegment_(sn),Cn=Sn.parseSegmentTemplateInfo_(sn);Sn.checkSegmentTemplateInfo_(sn,Cn);var Pn=shaka.util.ObjectUtils.shallowCloneObject(sn);if(Cn.indexTemplate)return shaka.dash.SegmentBase.checkSegmentIndexSupport(sn,En),{generateSegmentIndex:function(){return Sn.generateSegmentIndexFromIndexTemplate_(Pn,ln,En,Cn)}};if(Cn.segmentDuration)return dn||sn.adaptationSet.contentType==="image"||(sn.presentationTimeline.notifyMaxSegmentDuration(Cn.segmentDuration),sn.presentationTimeline.notifyMinSegmentStartTime(sn.periodInfo.start)),{generateSegmentIndex:function(){return Sn.generateSegmentIndexFromDuration_(Pn,Cn,pn,En,vn)}};var Rn=null;dn=dn=null,sn.period.id&&sn.representation.id&&(dn=sn.period.id+","+sn.representation.id,dn=cn[dn])&&(Rn=dn.segmentIndex);var Ln=Sn.createFromTimeline_(Pn,Cn,En);cn=sn.periodInfo.start;var Fn=sn.periodInfo.duration?sn.periodInfo.start+sn.periodInfo.duration:1/0,Gn=!(sn.dynamic&&sn.periodInfo.isLastPeriod);return Rn?(Gn&&new shaka.media.SegmentIndex(Ln).fit(cn,Fn,!0),Rn.mergeAndEvict(Ln,sn.presentationTimeline.getSegmentAvailabilityStart())):Rn=new shaka.media.SegmentIndex(Ln),sn.presentationTimeline.notifySegments(Ln),Gn&&Rn.fit(cn,Fn),dn&&sn.dynamic&&(dn.segmentIndex=Rn),{generateSegmentIndex:function(){return Rn&&!Rn.isEmpty()||Rn.merge(Ln),Promise.resolve(Rn)}}},shaka.dash.SegmentTemplate.fromInheritance_=function(sn){return sn.segmentTemplate},shaka.dash.SegmentTemplate.parseSegmentTemplateInfo_=function(sn){var ln=shaka.dash.SegmentTemplate,cn=shaka.dash.MpdUtils,dn=cn.parseSegmentInfo(sn,ln.fromInheritance_),pn=cn.inheritAttribute(sn,ln.fromInheritance_,"media");return sn=cn.inheritAttribute(sn,ln.fromInheritance_,"index"),{segmentDuration:dn.segmentDuration,timescale:dn.timescale,startNumber:dn.startNumber,scaledPresentationTimeOffset:dn.scaledPresentationTimeOffset,unscaledPresentationTimeOffset:dn.unscaledPresentationTimeOffset,timeline:dn.timeline,mediaTemplate:pn,indexTemplate:sn}},shaka.dash.SegmentTemplate.checkSegmentTemplateInfo_=function(sn,ln){var cn=ln.indexTemplate?1:0;if(cn+=ln.timeline?1:0,cn+=ln.segmentDuration?1:0,cn==0)throw shaka.log.error("SegmentTemplate does not contain any segment information:","the SegmentTemplate must contain either an index URL template","a SegmentTimeline, or a segment duration.",sn.representation),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_NO_SEGMENT_INFO);if(cn!=1&&(shaka.log.warning("SegmentTemplate containes multiple segment information sources:","the SegmentTemplate should only contain an index URL template,","a SegmentTimeline or a segment duration.",sn.representation),ln.indexTemplate?(shaka.log.info("Using the index URL template by default."),ln.timeline=null):(goog.asserts.assert(ln.timeline,"There should be a timeline"),shaka.log.info("Using the SegmentTimeline by default.")),ln.segmentDuration=null),!ln.indexTemplate&&!ln.mediaTemplate)throw shaka.log.error("SegmentTemplate does not contain sufficient segment information:","the SegmentTemplate's media URL template is missing.",sn.representation),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_NO_SEGMENT_INFO)},shaka.dash.SegmentTemplate.generateSegmentIndexFromIndexTemplate_=function(sn,ln,cn,dn){var pn=shaka.dash.MpdUtils,vn=shaka.util.ManifestParserUtils;return goog.asserts.assert(dn.indexTemplate,"must be using index template"),pn=pn.fillUriTemplate(dn.indexTemplate,sn.representation.id,null,sn.bandwidth||null,null),vn=vn.resolveUris(sn.representation.baseUris,[pn]),shaka.dash.SegmentBase.generateSegmentIndexFromUris(sn,ln,cn,vn,0,null,dn.scaledPresentationTimeOffset)},shaka.dash.SegmentTemplate.generateSegmentIndexFromDuration_=function(sn,ln,cn,dn,pn){goog.asserts.assert(ln.mediaTemplate,"There should be a media template with duration");var vn=shaka.dash.MpdUtils,Sn=shaka.util.ManifestParserUtils,En=sn.presentationTimeline,Cn=sn.periodInfo.start,Pn=sn.period.id,Rn=sn.periodInfo.duration,Ln=function(){var ms=Pn!=null&&pn[Pn]||Rn;return ms?Cn+ms:1/0},Fn=ln.segmentDuration;goog.asserts.assert(Fn!=null,"Segment duration must not be null!");var Gn=ln.startNumber,Dn=ln.timescale,Kn=ln.mediaTemplate,qn=sn.bandwidth||null,Zn=sn.representation.id,Yn=sn.representation.baseUris,Jn=Cn-ln.scaledPresentationTimeOffset,rs=function(){var ms=[Math.max(En.getSegmentAvailabilityStart(),Cn),Math.min(En.getSegmentAvailabilityEnd(),Ln())];return goog.asserts.assert(ms.every(isFinite),"Available presentation times must be finite!"),goog.asserts.assert(ms.every(function($s){return 0<=$s}),"Available presentation times must be positive!"),goog.asserts.assert(Fn!=null,"Segment duration must not be null!"),ms=ms.map(function($s){return $s-Cn}),[Math.ceil(ms[0]/Fn),Math.ceil(ms[1]/Fn)-1].map(function($s){return $s+Gn})},us=rs();sn=sn.dynamic?Math.max(us[0],us[1]-cn+1):us[0],us=us[1],cn=[];for(var as=function(ms){goog.asserts.assert(Fn!=null,"Segment duration must not be null!");var $s=(ms-Gn)*Fn,Ms=$s+ln.scaledPresentationTimeOffset,gs=$s+Cn;$s=gs+Fn;var Ss=Math.min($s,Ln());return goog.asserts.assert(gs<Ss,"Generated a segment outside of the period!"),gs=new shaka.media.SegmentReference(gs,Ss,function(){var js=vn.fillUriTemplate(Kn,Zn,ms,qn,Ms*Dn);return Sn.resolveUris(Yn,[js])},0,null,dn,Jn,Cn,Ln()),gs.trueEndTime=$s,gs},cs=sn;cs<=us;++cs){var _s=as(cs);cn.push(_s)}var Es=new shaka.media.SegmentIndex(cn);if(cn=En.getSegmentAvailabilityEnd()<Ln(),cs=En.isLive(),cn||cs){var Qn=Math.max(sn,us+1);Es.updateEvery(Fn,function(){var ms=En.getSegmentAvailabilityStart();Es.evict(ms);var $s=$jscomp.makeIterator(rs());$s.next(),$s=$s.next().value;for(var Ms=[];Qn<=$s;){var gs=as(Qn);Ms.push(gs),Qn++}return ms>Ln()&&!Ms.length?null:Ms})}return Promise.resolve(Es)},shaka.dash.SegmentTemplate.createFromTimeline_=function(sn,ln,cn){var dn=shaka.dash.MpdUtils,pn=shaka.util.ManifestParserUtils,vn=sn.periodInfo.start,Sn=sn.periodInfo.duration,En=vn-ln.scaledPresentationTimeOffset;Sn=Sn?vn+Sn:1/0;for(var Cn=[],Pn={},Rn=0;Rn<ln.timeline.length;Pn={$jscomp$loop$prop$mediaTemplate$718:Pn.$jscomp$loop$prop$mediaTemplate$718,$jscomp$loop$prop$repId$719:Pn.$jscomp$loop$prop$repId$719,$jscomp$loop$prop$segmentReplacement$720:Pn.$jscomp$loop$prop$segmentReplacement$720,$jscomp$loop$prop$bandwidth$721:Pn.$jscomp$loop$prop$bandwidth$721,$jscomp$loop$prop$timeReplacement$722:Pn.$jscomp$loop$prop$timeReplacement$722,$jscomp$loop$prop$baseUris$723:Pn.$jscomp$loop$prop$baseUris$723},Rn++){var Ln=ln.timeline[Rn],Fn=Ln.start,Gn=Ln.unscaledStart;Ln=Ln.end,Pn.$jscomp$loop$prop$segmentReplacement$720=Rn+ln.startNumber,Pn.$jscomp$loop$prop$timeReplacement$722=Gn+ln.unscaledPresentationTimeOffset,Pn.$jscomp$loop$prop$repId$719=sn.representation.id,Pn.$jscomp$loop$prop$bandwidth$721=sn.bandwidth||null,Pn.$jscomp$loop$prop$mediaTemplate$718=ln.mediaTemplate,Pn.$jscomp$loop$prop$baseUris$723=sn.representation.baseUris,Gn=function(Dn){return function(){goog.asserts.assert(Dn.$jscomp$loop$prop$mediaTemplate$718,"There should be a media template with a timeline");var Kn=dn.fillUriTemplate(Dn.$jscomp$loop$prop$mediaTemplate$718,Dn.$jscomp$loop$prop$repId$719,Dn.$jscomp$loop$prop$segmentReplacement$720,Dn.$jscomp$loop$prop$bandwidth$721||null,Dn.$jscomp$loop$prop$timeReplacement$722);return pn.resolveUris(Dn.$jscomp$loop$prop$baseUris$723,[Kn]).map(function(qn){return qn.toString()})}}(Pn),Cn.push(new shaka.media.SegmentReference(vn+Fn,vn+Ln,Gn,0,null,cn,En,vn,Sn))}return Cn},shaka.dash.SegmentTemplate.createInitSegment_=function(sn){var ln=shaka.dash.MpdUtils,cn=shaka.util.ManifestParserUtils,dn=ln.inheritAttribute(sn,shaka.dash.SegmentTemplate.fromInheritance_,"initialization");if(!dn)return null;var pn=sn.representation.id,vn=sn.bandwidth||null,Sn=sn.representation.baseUris;return sn=shaka.dash.SegmentBase.createQualityInfo(sn),new shaka.media.InitSegmentReference(function(){goog.asserts.assert(dn,"Should have returned earler");var En=ln.fillUriTemplate(dn,pn,null,vn,null);return cn.resolveUris(Sn,[En])},0,null,sn)},shaka.util.PeriodCombiner=function(){this.variants_=[],this.audioStreams_=[],this.videoStreams_=[],this.textStreams_=[],this.imageStreams_=[],this.usedPeriodIds_=new Set},shaka.util.PeriodCombiner.prototype.release=function(){var sn=this.audioStreams_.concat(this.videoStreams_,this.textStreams_,this.imageStreams_);sn=$jscomp.makeIterator(sn);for(var ln=sn.next();!ln.done;ln=sn.next())ln=ln.value,ln.segmentIndex&&ln.segmentIndex.release();this.audioStreams_=[],this.videoStreams_=[],this.textStreams_=[],this.imageStreams_=[],this.variants_=[]},shaka.util.PeriodCombiner.prototype.getVariants=function(){return this.variants_},shaka.util.PeriodCombiner.prototype.getTextStreams=function(){return this.textStreams_.slice()},shaka.util.PeriodCombiner.prototype.getImageStreams=function(){return this.imageStreams_},shaka.util.PeriodCombiner.prototype.combinePeriods=function(sn,ln){var cn=this,dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn,Gn,Dn,Kn,qn,Zn,Yn,Jn,rs,us,as,cs,_s,Es,Qn,ms,$s,Ms,gs,Ss,js;return $jscomp.asyncExecutePromiseGeneratorProgram(function(bs){switch(bs.nextAddress){case 1:if(dn=shaka.util.ManifestParserUtils.ContentType,shaka.util.PeriodCombiner.filterOutAudioStreamDuplicates_(sn),shaka.util.PeriodCombiner.filterOutVideoStreamDuplicates_(sn),shaka.util.PeriodCombiner.filterOutTextStreamDuplicates_(sn),shaka.util.PeriodCombiner.filterOutImageStreamDuplicates_(sn),!ln&&sn.length==1){pn=sn[0],cn.audioStreams_=pn.audioStreams,cn.videoStreams_=pn.videoStreams,cn.textStreams_=pn.textStreams,cn.imageStreams_=pn.imageStreams,bs.jumpTo(2);break}for(vn=-1,Sn=0;Sn<sn.length;Sn++)En=sn[Sn],cn.usedPeriodIds_.has(En.id)||(cn.usedPeriodIds_.add(En.id),vn==-1&&(vn=Sn));if(vn==-1)return bs.return();for(Cn=sn.map(function(Ts){return Ts.audioStreams}),Pn=sn.map(function(Ts){return Ts.videoStreams}),Rn=sn.map(function(Ts){return Ts.textStreams}),Ln=sn.map(function(Ts){return Ts.imageStreams}),Fn=$jscomp.makeIterator(Rn),Gn=Fn.next();!Gn.done;Gn=Fn.next())Dn=Gn.value,Dn.push(shaka.util.PeriodCombiner.dummyStream_(dn.TEXT));for(Kn=$jscomp.makeIterator(Ln),qn=Kn.next();!qn.done;qn=Kn.next())Zn=qn.value,Zn.push(shaka.util.PeriodCombiner.dummyStream_(dn.IMAGE));return bs.yield(shaka.util.PeriodCombiner.combine_(cn.audioStreams_,Cn,vn,shaka.util.PeriodCombiner.cloneStream_,shaka.util.PeriodCombiner.concatenateStreams_),3);case 3:return bs.yield(shaka.util.PeriodCombiner.combine_(cn.videoStreams_,Pn,vn,shaka.util.PeriodCombiner.cloneStream_,shaka.util.PeriodCombiner.concatenateStreams_),4);case 4:return bs.yield(shaka.util.PeriodCombiner.combine_(cn.textStreams_,Rn,vn,shaka.util.PeriodCombiner.cloneStream_,shaka.util.PeriodCombiner.concatenateStreams_),5);case 5:return bs.yield(shaka.util.PeriodCombiner.combine_(cn.imageStreams_,Ln,vn,shaka.util.PeriodCombiner.cloneStream_,shaka.util.PeriodCombiner.concatenateStreams_),2);case 2:if(Yn=0,Jn=[],cn.videoStreams_.length&&cn.audioStreams_.length)for(Es=$jscomp.makeIterator(cn.audioStreams_),Qn=Es.next();!Qn.done;Qn=Es.next())for(ms=Qn.value,$s=$jscomp.makeIterator(cn.videoStreams_),Ms=$s.next();!Ms.done;Ms=$s.next())gs=Ms.value,Ss=shaka.media.DrmEngine.getCommonDrmInfos(ms.drmInfos,gs.drmInfos),ms.drmInfos.length&&gs.drmInfos.length&&!Ss.length?shaka.log.warning("Incompatible DRM in audio & video, skipping variant creation.",ms,gs):(js=Yn++,Jn.push({id:js,language:ms.language,primary:ms.primary,audio:ms,video:gs,bandwidth:(ms.bandwidth||0)+(gs.bandwidth||0),drmInfos:Ss,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(rs=cn.videoStreams_.concat(cn.audioStreams_),us=$jscomp.makeIterator(rs),as=us.next();!as.done;as=us.next())cs=as.value,_s=Yn++,Jn.push({id:_s,language:cs.language,primary:cs.primary,audio:cs.type==dn.AUDIO?cs:null,video:cs.type==dn.VIDEO?cs:null,bandwidth:cs.bandwidth||0,drmInfos:cs.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});cn.variants_=Jn,bs.jumpToEnd()}})},shaka.util.PeriodCombiner.filterOutAudioStreamDuplicates_=function(sn){var ln=shaka.util.ArrayUtils;sn=$jscomp.makeIterator(sn);for(var cn=sn.next();!cn.done;cn=sn.next()){cn=cn.value;for(var dn=[],pn=$jscomp.makeIterator(cn.audioStreams),vn=pn.next();!vn.done;vn=pn.next()){vn=vn.value;for(var Sn=!1,En=$jscomp.makeIterator(dn),Cn=En.next();!Cn.done;Cn=En.next())Cn=Cn.value,vn.id!=Cn.id&&vn.channelsCount==Cn.channelsCount&&vn.language==Cn.language&&vn.bandwidth==Cn.bandwidth&&vn.label==Cn.label&&vn.codecs==Cn.codecs&&vn.mimeType==Cn.mimeType&&ln.hasSameElements(vn.roles,Cn.roles)&&vn.audioSamplingRate==Cn.audioSamplingRate&&vn.primary==Cn.primary&&(Sn=!0);Sn||dn.push(vn)}cn.audioStreams=dn}},shaka.util.PeriodCombiner.filterOutTextStreamDuplicates_=function(sn){var ln=shaka.util.ArrayUtils;sn=$jscomp.makeIterator(sn);for(var cn=sn.next();!cn.done;cn=sn.next()){cn=cn.value;for(var dn=[],pn=$jscomp.makeIterator(cn.textStreams),vn=pn.next();!vn.done;vn=pn.next()){vn=vn.value;for(var Sn=!1,En=$jscomp.makeIterator(dn),Cn=En.next();!Cn.done;Cn=En.next())Cn=Cn.value,vn.id!=Cn.id&&vn.language==Cn.language&&vn.label==Cn.label&&vn.codecs==Cn.codecs&&vn.mimeType==Cn.mimeType&&vn.bandwidth==Cn.bandwidth&&ln.hasSameElements(vn.roles,Cn.roles)&&(Sn=!0);Sn||dn.push(vn)}cn.textStreams=dn}},shaka.util.PeriodCombiner.filterOutVideoStreamDuplicates_=function(sn){var ln=shaka.util.ArrayUtils,cn=shaka.util.MapUtils;sn=$jscomp.makeIterator(sn);for(var dn=sn.next();!dn.done;dn=sn.next()){dn=dn.value;for(var pn=[],vn=$jscomp.makeIterator(dn.videoStreams),Sn=vn.next();!Sn.done;Sn=vn.next()){Sn=Sn.value;for(var En=!1,Cn=$jscomp.makeIterator(pn),Pn=Cn.next();!Pn.done;Pn=Cn.next())Pn=Pn.value,Sn.id!=Pn.id&&Sn.width==Pn.width&&Sn.frameRate==Pn.frameRate&&Sn.codecs==Pn.codecs&&Sn.mimeType==Pn.mimeType&&Sn.label==Pn.label&&ln.hasSameElements(Sn.roles,Pn.roles)&&cn.hasSameElements(Sn.closedCaptions,Pn.closedCaptions)&&Sn.bandwidth==Pn.bandwidth&&(En=!0);En||pn.push(Sn)}dn.videoStreams=pn}},shaka.util.PeriodCombiner.filterOutImageStreamDuplicates_=function(sn){sn=$jscomp.makeIterator(sn);for(var ln=sn.next();!ln.done;ln=sn.next()){ln=ln.value;for(var cn=[],dn=$jscomp.makeIterator(ln.imageStreams),pn=dn.next();!pn.done;pn=dn.next()){pn=pn.value;for(var vn=!1,Sn=$jscomp.makeIterator(cn),En=Sn.next();!En.done;En=Sn.next())En=En.value,pn.id!=En.id&&pn.width==En.width&&pn.codecs==En.codecs&&pn.mimeType==En.mimeType&&(vn=!0);vn||cn.push(pn)}ln.imageStreams=cn}},shaka.util.PeriodCombiner.combineDbStreams=function(sn){var ln,cn,dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn,Gn,Dn,Kn,qn,Zn,Yn,Jn,rs,us,as,cs,_s,Es,Qn,ms;return $jscomp.asyncExecutePromiseGeneratorProgram(function($s){switch($s.nextAddress){case 1:if(ln=shaka.util.ManifestParserUtils.ContentType,sn.length==1)return $s.return(sn[0]);for(cn=sn.map(function(Ms){return Ms.filter(function(gs){return gs.type==ln.AUDIO})}),dn=sn.map(function(Ms){return Ms.filter(function(gs){return gs.type==ln.VIDEO})}),pn=sn.map(function(Ms){return Ms.filter(function(gs){return gs.type==ln.TEXT})}),vn=sn.map(function(Ms){return Ms.filter(function(gs){return gs.type==ln.IMAGE})}),Sn=$jscomp.makeIterator(pn),En=Sn.next();!En.done;En=Sn.next())Cn=En.value,Cn.push(shaka.util.PeriodCombiner.dummyStreamDB_(ln.TEXT));for(Pn=$jscomp.makeIterator(vn),Rn=Pn.next();!Rn.done;Rn=Pn.next())Ln=Rn.value,Ln.push(shaka.util.PeriodCombiner.dummyStreamDB_(ln.IMAGE));return $s.yield(shaka.util.PeriodCombiner.combine_([],cn,0,shaka.util.PeriodCombiner.cloneStreamDB_,shaka.util.PeriodCombiner.concatenateStreamDBs_),2);case 2:return Fn=$s.yieldResult,$s.yield(shaka.util.PeriodCombiner.combine_([],dn,0,shaka.util.PeriodCombiner.cloneStreamDB_,shaka.util.PeriodCombiner.concatenateStreamDBs_),3);case 3:return Gn=$s.yieldResult,$s.yield(shaka.util.PeriodCombiner.combine_([],pn,0,shaka.util.PeriodCombiner.cloneStreamDB_,shaka.util.PeriodCombiner.concatenateStreamDBs_),4);case 4:return Dn=$s.yieldResult,$s.yield(shaka.util.PeriodCombiner.combine_([],vn,0,shaka.util.PeriodCombiner.cloneStreamDB_,shaka.util.PeriodCombiner.concatenateStreamDBs_),5);case 5:if(Kn=$s.yieldResult,qn=0,Gn.length&&Fn.length)for(us=$jscomp.makeIterator(Fn),as=us.next();!as.done;as=us.next())for(cs=as.value,_s=$jscomp.makeIterator(Gn),Es=_s.next();!Es.done;Es=_s.next())Qn=Es.value,ms=qn++,Qn.variantIds.push(ms),cs.variantIds.push(ms);else for(Zn=Gn.concat(Fn),Yn=$jscomp.makeIterator(Zn),Jn=Yn.next();!Jn.done;Jn=Yn.next())rs=Jn.value,rs.variantIds=[qn++];return $s.return(Gn.concat(Fn).concat(Dn).concat(Kn))}})},shaka.util.PeriodCombiner.combine_=function(sn,ln,cn,dn,pn){var vn,Sn,En,Cn,Pn,Rn,Ln,Fn,Gn,Dn,Kn,qn,Zn,Yn,Jn,rs,us,as,cs,_s;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Es){switch(Es.nextAddress){case 1:for(vn=shaka.util.ManifestParserUtils.ContentType,Sn=[],En=0;En<ln.length;En++)En>=cn?Sn.push(new Set(ln[En])):Sn.push(new Set);Cn=$jscomp.makeIterator(sn),Pn=Cn.next();case 2:if(Pn.done){Es.jumpTo(4);break}return Rn=Pn.value,Es.yield(shaka.util.PeriodCombiner.extendExistingOutputStream_(Rn,ln,cn,pn,Sn),5);case 5:if(Ln=Es.yieldResult,!Ln)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.PERIOD_FLATTENING_FAILED);Pn=Cn.next(),Es.jumpTo(2);break;case 4:for(Fn=$jscomp.makeIterator(Sn),Gn=Fn.next();!Gn.done;Gn=Fn.next())for(Dn=Gn.value,Kn=$jscomp.makeIterator(Dn),qn=Kn.next();!qn.done;qn=Kn.next())Zn=qn.value,(Yn=shaka.util.PeriodCombiner.createNewOutputStream_(Zn,ln,dn,pn,Sn))&&sn.push(Yn);for(Jn=$jscomp.makeIterator(Sn),Gn=Jn.next();!Gn.done;Gn=Jn.next())for(rs=Gn.value,us={},as=$jscomp.makeIterator(rs),qn=as.next();!qn.done;us={$jscomp$loop$prop$stream$582$725:us.$jscomp$loop$prop$stream$582$725},qn=as.next())if(us.$jscomp$loop$prop$stream$582$725=qn.value,cs=us.$jscomp$loop$prop$stream$582$725.type==vn.TEXT&&!us.$jscomp$loop$prop$stream$582$725.language,_s=us.$jscomp$loop$prop$stream$582$725.type==vn.IMAGE&&!us.$jscomp$loop$prop$stream$582$725.tilesLayout,!cs&&!_s&&sn.some(function(Qn){return function(ms){return ms.mimeType==Qn.$jscomp$loop$prop$stream$582$725.mimeType&&shaka.util.MimeUtils.getNormalizedCodec(ms.codecs)==shaka.util.MimeUtils.getNormalizedCodec(Qn.$jscomp$loop$prop$stream$582$725.codecs)}}(us)))throw shaka.log.error("Unused stream in period-flattening!",us.$jscomp$loop$prop$stream$582$725,sn),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.PERIOD_FLATTENING_FAILED);return Es.return(sn)}})},shaka.util.PeriodCombiner.extendExistingOutputStream_=function(sn,ln,cn,dn,pn){return $jscomp.asyncExecutePromiseGeneratorProgram(function(vn){return vn.nextAddress==1?(shaka.util.PeriodCombiner.findMatchesInAllPeriods_(ln,sn),goog.asserts.assert(sn.createSegmentIndex,"outputStream should be a Stream type!"),sn.matchedStreams?sn.segmentIndex?vn.yield(shaka.util.PeriodCombiner.extendOutputSegmentIndex_(sn,cn),2):vn.jumpTo(2):(shaka.log.error("No matches extending output stream!",sn,ln),vn.return(!1))):(shaka.util.PeriodCombiner.extendOutputStream_(sn,cn,dn,pn),vn.return(!0))})},shaka.util.PeriodCombiner.extendOutputSegmentIndex_=function(sn,ln){var cn,dn,pn,vn,Sn,En,Cn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Pn){if(Pn.nextAddress==1){for(cn=[],dn=sn.matchedStreams,goog.asserts.assert(dn,"matched streams should be valid"),pn=$jscomp.makeIterator(dn),vn=pn.next();!vn.done;vn=pn.next())Sn=vn.value,cn.push(Sn.createSegmentIndex()),Sn.trickModeVideo&&!Sn.trickModeVideo.segmentIndex&&cn.push(Sn.trickModeVideo.createSegmentIndex());return Pn.yield(Promise.all(cn),2)}if(sn.segmentIndex instanceof shaka.media.MetaSegmentIndex)for(En=ln;En<dn.length;En++)Cn=dn[En],goog.asserts.assert(Cn.segmentIndex,"stream should have a segmentIndex."),Cn.segmentIndex&&sn.segmentIndex.appendSegmentIndex(Cn.segmentIndex);Pn.jumpToEnd()})},shaka.util.PeriodCombiner.createNewOutputStream_=function(sn,ln,cn,dn,pn){var vn=cn(sn);return shaka.util.PeriodCombiner.findMatchesInAllPeriods_(ln,vn),vn.createSegmentIndex&&(vn.createSegmentIndex=function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(Sn){return vn.segmentIndex?Sn.jumpTo(0):(vn.segmentIndex=new shaka.media.MetaSegmentIndex,Sn.yield(shaka.util.PeriodCombiner.extendOutputSegmentIndex_(vn,0),0))})}),!vn.matchedStreams||!vn.matchedStreams.length?null:(shaka.util.PeriodCombiner.extendOutputStream_(vn,0,dn,pn),vn)},shaka.util.PeriodCombiner.extendOutputStream_=function(sn,ln,cn,dn){var pn=shaka.util.ManifestParserUtils.ContentType,vn=shaka.util.LanguageUtils,Sn=sn.matchedStreams;goog.asserts.assert(sn.matchedStreams,"matchedStreams should be non-null");for(var En=0;En<Sn.length;En++)if(En>=ln){var Cn=Sn[En];cn(sn,Cn);var Pn=!0;sn.type==pn.AUDIO&&vn.relatedness(sn.language,Cn.language)==0&&(Pn=!1),Pn&&dn[En].delete(Cn)}},shaka.util.PeriodCombiner.cloneStream_=function(sn){var ln=Object.assign({},sn);return ln.originalId=null,ln.createSegmentIndex=function(){return Promise.resolve()},ln.closeSegmentIndex=function(){if(ln.segmentIndex&&(ln.segmentIndex.release(),ln.segmentIndex=null),ln.matchedStreams)for(var cn=$jscomp.makeIterator(ln.matchedStreams),dn=cn.next();!dn.done;dn=cn.next())dn=dn.value,dn.segmentIndex&&(dn.segmentIndex.release(),dn.segmentIndex=null)},ln.segmentIndex=null,ln.emsgSchemeIdUris=[],ln.keyIds=new Set,ln.closedCaptions=null,ln.trickModeVideo=null,ln},shaka.util.PeriodCombiner.cloneStreamDB_=function(sn){return sn=Object.assign({},sn),sn.keyIds=new Set,sn.segments=[],sn.variantIds=[],sn.closedCaptions=null,sn},shaka.util.PeriodCombiner.concatenateStreams_=function(sn,ln){sn.roles=Array.from(new Set(sn.roles.concat(ln.roles))),ln.emsgSchemeIdUris&&(sn.emsgSchemeIdUris=Array.from(new Set(sn.emsgSchemeIdUris.concat(ln.emsgSchemeIdUris)))),sn.keyIds=function(vn,Sn){return new Set([].concat($jscomp.arrayFromIterable(vn),$jscomp.arrayFromIterable(Sn)))}(sn.keyIds,ln.keyIds),sn.originalId=sn.originalId==null?ln.originalId:sn.originalId+(","+(ln.originalId||""));var cn=shaka.media.DrmEngine.getCommonDrmInfos(sn.drmInfos,ln.drmInfos);if(ln.drmInfos.length&&sn.drmInfos.length&&!cn.length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.INCONSISTENT_DRM_ACROSS_PERIODS);if(sn.drmInfos=cn,sn.encrypted=sn.encrypted||ln.encrypted,ln.closedCaptions){sn.closedCaptions||(sn.closedCaptions=new Map),cn=$jscomp.makeIterator(ln.closedCaptions);for(var dn=cn.next();!dn.done;dn=cn.next()){var pn=$jscomp.makeIterator(dn.value);dn=pn.next().value,pn=pn.next().value,sn.closedCaptions.set(dn,pn)}}ln.trickModeVideo?(sn.trickModeVideo||(sn.trickModeVideo=shaka.util.PeriodCombiner.cloneStream_(ln.trickModeVideo),sn.trickModeVideo.createSegmentIndex=function(){return goog.asserts.assert(sn.segmentIndex instanceof shaka.media.MetaSegmentIndex,"The stream should have a MetaSegmentIndex."),sn.trickModeVideo.segmentIndex=sn.segmentIndex.clone(),Promise.resolve()}),shaka.util.PeriodCombiner.concatenateStreams_(sn.trickModeVideo,ln.trickModeVideo)):sn.trickModeVideo&&shaka.util.PeriodCombiner.concatenateStreams_(sn.trickModeVideo,ln)},shaka.util.PeriodCombiner.concatenateStreamDBs_=function(sn,ln){sn.roles=Array.from(new Set(sn.roles.concat(ln.roles)));var cn=ln.keyIds;if(cn=new Set([].concat($jscomp.arrayFromIterable(sn.keyIds),$jscomp.arrayFromIterable(cn))),sn.keyIds=cn,sn.encrypted=sn.encrypted&&ln.encrypted,sn.segments.push.apply(sn.segments,$jscomp.arrayFromIterable(ln.segments)),ln.closedCaptions)for(sn.closedCaptions||(sn.closedCaptions=new Map),ln=$jscomp.makeIterator(ln.closedCaptions),cn=ln.next();!cn.done;cn=ln.next()){var dn=$jscomp.makeIterator(cn.value);cn=dn.next().value,dn=dn.next().value,sn.closedCaptions.set(cn,dn)}},shaka.util.PeriodCombiner.findMatchesInAllPeriods_=function(sn,ln){var cn=[];sn=$jscomp.makeIterator(sn);for(var dn=sn.next();!dn.done;dn=sn.next()){if(dn=shaka.util.PeriodCombiner.findBestMatchInPeriod_(dn.value,ln),!dn)return;cn.push(dn)}ln.matchedStreams=cn},shaka.util.PeriodCombiner.findBestMatchInPeriod_=function(sn,ln){var cn={audio:shaka.util.PeriodCombiner.areAVStreamsCompatible_,video:shaka.util.PeriodCombiner.areAVStreamsCompatible_,text:shaka.util.PeriodCombiner.areTextStreamsCompatible_,image:shaka.util.PeriodCombiner.areImageStreamsCompatible_}[ln.type],dn={audio:shaka.util.PeriodCombiner.isAudioStreamBetterMatch_,video:shaka.util.PeriodCombiner.isVideoStreamBetterMatch_,text:shaka.util.PeriodCombiner.isTextStreamBetterMatch_,image:shaka.util.PeriodCombiner.isImageStreamBetterMatch_}[ln.type],pn=null;sn=$jscomp.makeIterator(sn);for(var vn=sn.next();!vn.done;vn=sn.next())vn=vn.value,!cn(ln,vn)||pn&&!dn(ln,pn,vn)||(pn=vn);return pn},shaka.util.PeriodCombiner.areAVStreamsCompatible_=function(sn,ln){return!(ln.mimeType!=sn.mimeType||shaka.util.MimeUtils.getNormalizedCodec(ln.codecs)!=shaka.util.MimeUtils.getNormalizedCodec(sn.codecs)||sn.drmInfos&&!shaka.media.DrmEngine.areDrmCompatible(sn.drmInfos,ln.drmInfos))},shaka.util.PeriodCombiner.areTextStreamsCompatible_=function(sn,ln){return sn.language?ln.language?!(shaka.util.LanguageUtils.relatedness(sn.language,ln.language)==0||ln.kind!=sn.kind):!0:!1},shaka.util.PeriodCombiner.areImageStreamsCompatible_=function(sn,ln){return!!sn.tilesLayout},shaka.util.PeriodCombiner.isAudioStreamBetterMatch_=function(sn,ln,cn){var dn=shaka.util.LanguageUtils,pn=shaka.util.PeriodCombiner.BetterOrWorse,vn=pn.BETTER;if(pn=pn.WORSE,sn.id==cn.id)return!0;var Sn=dn.relatedness(sn.language,ln.language);return dn=dn.relatedness(sn.language,cn.language),dn>Sn?!0:dn<Sn?!1:sn.roles.length?(vn=ln.roles.filter(function(En){return sn.roles.includes(En)}),pn=cn.roles.filter(function(En){return sn.roles.includes(En)}),pn.length>vn.length?!0:pn.length<vn.length?!1:cn.roles.length<ln.roles.length):!cn.roles.length&&ln.roles.length?!0:cn.roles.length&&!ln.roles.length?!1:!ln.primary&&cn.primary?!0:ln.primary&&!cn.primary?!1:(dn=shaka.util.PeriodCombiner.compareClosestPreferLower(sn.channelsCount,ln.channelsCount,cn.channelsCount),dn==vn?!0:dn==pn?!1:(dn=shaka.util.PeriodCombiner.compareClosestPreferLower(sn.audioSamplingRate,ln.audioSamplingRate,cn.audioSamplingRate),dn==vn?!0:dn==pn?!1:!!(sn.bandwidth&&shaka.util.PeriodCombiner.compareClosestPreferMinimalAbsDiff_(sn.bandwidth,ln.bandwidth,cn.bandwidth)==vn)))},shaka.util.PeriodCombiner.isVideoStreamBetterMatch_=function(sn,ln,cn){var dn=shaka.util.PeriodCombiner.BetterOrWorse,pn=dn.BETTER;if(dn=dn.WORSE,sn.id==cn.id)return!0;var vn=shaka.util.PeriodCombiner.compareClosestPreferLower(sn.width*sn.height,ln.width*ln.height,cn.width*cn.height);if(vn==pn)return!0;if(vn==dn)return!1;if(sn.frameRate){if(vn=shaka.util.PeriodCombiner.compareClosestPreferLower(sn.frameRate,ln.frameRate,cn.frameRate),vn==pn)return!0;if(vn==dn)return!1}return!!(sn.bandwidth&&shaka.util.PeriodCombiner.compareClosestPreferMinimalAbsDiff_(sn.bandwidth,ln.bandwidth,cn.bandwidth)==pn)},shaka.util.PeriodCombiner.isTextStreamBetterMatch_=function(sn,ln,cn){var dn=shaka.util.LanguageUtils;if(sn.id==cn.id)return!0;var pn=dn.relatedness(sn.language,ln.language);if(dn=dn.relatedness(sn.language,cn.language),dn>pn)return!0;if(dn<pn)return!1;if(!ln.primary&&cn.primary)return!0;if(ln.primary&&!cn.primary)return!1;if(sn.roles.length){if(pn=ln.roles.filter(function(vn){return sn.roles.includes(vn)}),dn=cn.roles.filter(function(vn){return sn.roles.includes(vn)}),dn.length>pn.length)return!0;if(dn.length<pn.length)return!1}else{if(!cn.roles.length&&ln.roles.length)return!0;if(cn.roles.length&&!ln.roles.length)return!1}return!(cn.mimeType!=sn.mimeType||cn.codecs!=sn.codecs||ln.mimeType==sn.mimeType&&ln.codecs==sn.codecs)},shaka.util.PeriodCombiner.isImageStreamBetterMatch_=function(sn,ln,cn){var dn=shaka.util.PeriodCombiner.BetterOrWorse.BETTER;return sn.id==cn.id?!0:shaka.util.PeriodCombiner.compareClosestPreferLower(sn.width*sn.height,ln.width*ln.height,cn.width*cn.height)==dn},shaka.util.PeriodCombiner.dummyStreamDB_=function(sn){return{id:0,originalId:"",primary:!1,type:sn,mimeType:"",codecs:"",language:"",label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null}},shaka.util.PeriodCombiner.dummyStream_=function(sn){return{id:0,originalId:"",createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new shaka.media.SegmentIndex([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",label:null,type:sn,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null}},shaka.util.PeriodCombiner.compareClosestPreferLower=function(sn,ln,cn){var dn=shaka.util.PeriodCombiner.BetterOrWorse,pn=dn.BETTER,vn=dn.WORSE;if(ln==sn&&sn!=cn)return vn;if(cn==sn&&sn!=ln)return pn;if(ln>sn){if(cn<=sn||cn-sn<ln-sn)return pn;if(cn-sn>ln-sn)return vn}else{if(cn>sn)return vn;if(sn-cn<sn-ln)return pn;if(sn-cn>sn-ln)return vn}return dn.EQUAL},shaka.util.PeriodCombiner.compareClosestPreferMinimalAbsDiff_=function(sn,ln,cn){var dn=shaka.util.PeriodCombiner.BetterOrWorse,pn=dn.BETTER,vn=dn.WORSE;return ln=Math.abs(sn-ln),sn=Math.abs(sn-cn),sn<ln?pn:ln<sn?vn:dn.EQUAL},shaka.util.PeriodCombiner.BetterOrWorse={BETTER:1,EQUAL:0,WORSE:-1},shaka.dash.DashParser=function(){var sn=this;this.playerInterface_=this.config_=null,this.manifestUris_=[],this.manifest_=null,this.globalId_=1,this.streamMap_={},this.periodDurations_={},this.periodCombiner_=new shaka.util.PeriodCombiner,this.updatePeriod_=0,this.averageUpdateDuration_=new shaka.abr.Ewma(5),this.updateTimer_=new shaka.util.Timer(function(){sn.onUpdate_()}),this.operationManager_=new shaka.util.OperationManager,this.largestPeriodStartTime_=null,this.lastManifestUpdatePeriodIds_=[],this.minTotalAvailabilityTimeOffset_=1/0,this.lowLatencyMode_=!1},shaka.dash.DashParser.prototype.configure=function(sn){goog.asserts.assert(sn.dash!=null,"DashManifestConfiguration should not be null!"),this.config_=sn},shaka.dash.DashParser.prototype.start=function(sn,ln){var cn=this,dn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(pn){if(pn.nextAddress==1)return goog.asserts.assert(cn.config_,"Must call configure() before start()!"),cn.lowLatencyMode_=ln.isLowLatencyMode(),cn.manifestUris_=[sn],cn.playerInterface_=ln,pn.yield(cn.requestManifest_(),2);if(dn=pn.yieldResult,cn.playerInterface_&&cn.setUpdateTimer_(dn),!cn.playerInterface_)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.OPERATION_ABORTED);return goog.asserts.assert(cn.manifest_,"Manifest should be non-null!"),pn.return(cn.manifest_)})},shaka.dash.DashParser.prototype.stop=function(){for(var sn=$jscomp.makeIterator(Object.values(this.streamMap_)),ln=sn.next();!ln.done;ln=sn.next())ln=ln.value,ln.segmentIndex&&ln.segmentIndex.release();return this.periodCombiner_&&this.periodCombiner_.release(),this.config_=this.playerInterface_=null,this.manifestUris_=[],this.manifest_=null,this.streamMap_={},this.periodCombiner_=null,this.updateTimer_!=null&&(this.updateTimer_.stop(),this.updateTimer_=null),this.operationManager_.destroy()},shaka.dash.DashParser.prototype.update=function(){var sn=this,ln;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cn){if(cn.nextAddress==1)return cn.setCatchFinallyBlocks(2),cn.yield(sn.requestManifest_(),4);if(cn.nextAddress!=2)return cn.leaveTryBlock(0);if(ln=cn.enterCatchBlock(),!sn.playerInterface_||!ln)return cn.return();goog.asserts.assert(ln instanceof shaka.util.Error,"Bad error type"),sn.playerInterface_.onError(ln),cn.jumpToEnd()})},shaka.dash.DashParser.prototype.onExpirationUpdated=function(sn,ln){},shaka.dash.DashParser.prototype.requestManifest_=function(){var sn=this,ln,cn,dn,pn,vn,Sn,En,Cn,Pn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Rn){return Rn.nextAddress==1?(ln=shaka.net.NetworkingEngine.RequestType.MANIFEST,cn=shaka.net.NetworkingEngine.makeRequest(sn.manifestUris_,sn.config_.retryParameters),dn=sn.playerInterface_.networkingEngine,pn=shaka.util.CmcdManager.StreamingFormat.DASH,sn.playerInterface_.modifyManifestRequest(cn,{format:pn}),vn=Date.now(),Sn=dn.request(ln,cn),sn.operationManager_.manage(Sn),Rn.yield(Sn.promise,2)):Rn.nextAddress!=3?(En=Rn.yieldResult,sn.playerInterface_?(En.uri&&!sn.manifestUris_.includes(En.uri)&&sn.manifestUris_.unshift(En.uri),Rn.yield(sn.parseManifest_(En.data,En.uri),3)):Rn.return(0)):(Cn=Date.now(),Pn=(Cn-vn)/1e3,sn.averageUpdateDuration_.sample(1,Pn),Rn.return(Pn))})},shaka.dash.DashParser.prototype.parseManifest_=function(sn,ln){var cn=this,dn,pn,vn,Sn,En,Cn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Pn){if(Pn.nextAddress==1){if(dn=shaka.util.Error,pn=shaka.dash.MpdUtils,vn=shaka.util.XmlUtils.parseXml(sn,"MPD"),!vn)throw new dn(dn.Severity.CRITICAL,dn.Category.MANIFEST,dn.Code.DASH_INVALID_XML,ln);return cn.config_.dash.disableXlinkProcessing?Pn.return(cn.processManifest_(vn,ln)):(Sn=cn.config_.dash.xlinkFailGracefully,En=pn.processXlinks(vn,cn.config_.retryParameters,Sn,ln,cn.playerInterface_.networkingEngine),cn.operationManager_.manage(En),Pn.yield(En.promise,2))}return Cn=Pn.yieldResult,Pn.return(cn.processManifest_(Cn,ln))})},shaka.dash.DashParser.prototype.processManifest_=function(sn,ln){var cn=this,dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn,Gn,Dn,Kn,qn,Zn,Yn,Jn,rs,us,as,cs,_s,Es,Qn,ms,$s,Ms,gs,Ss,js,bs,Ts,xs;return $jscomp.asyncExecutePromiseGeneratorProgram(function(zs){switch(zs.nextAddress){case 1:if(dn=shaka.util.Functional,pn=shaka.util.XmlUtils,(vn=cn.config_.dash.manifestPreprocessor)&&vn(sn),Sn=[ln],En=pn.findChildren(sn,"Location").map(pn.getContents).filter(dn.isNotNull),0<En.length&&(Cn=shaka.util.ManifestParserUtils.resolveUris(Sn,En),Sn=cn.manifestUris_=Cn),Pn=pn.findChildren(sn,"BaseURL"),Rn=Pn.map(pn.getContents),Ln=shaka.util.ManifestParserUtils.resolveUris(Sn,Rn),Fn=0,Pn&&Pn.length&&(Fn=pn.parseAttr(Pn[0],"availabilityTimeOffset",pn.parseFloat)||0),Gn=cn.config_.dash.ignoreMinBufferTime,Dn=0,Gn||(Dn=pn.parseAttr(sn,"minBufferTime",pn.parseDuration)||0),cn.updatePeriod_=pn.parseAttr(sn,"minimumUpdatePeriod",pn.parseDuration,-1),Kn=pn.parseAttr(sn,"availabilityStartTime",pn.parseDate),qn=pn.parseAttr(sn,"timeShiftBufferDepth",pn.parseDuration),Zn=cn.config_.dash.ignoreSuggestedPresentationDelay,Yn=null,Zn||(Yn=pn.parseAttr(sn,"suggestedPresentationDelay",pn.parseDuration)),Jn=cn.config_.dash.ignoreMaxSegmentDuration,rs=null,Jn||(rs=pn.parseAttr(sn,"maxSegmentDuration",pn.parseDuration)),us=sn.getAttribute("type")||"static",cn.manifest_)for(as=cn.manifest_.presentationTimeline,cs=$jscomp.makeIterator(Object.values(cn.streamMap_)),_s=cs.next();!_s.done;_s=cs.next())Es=_s.value,Es.segmentIndex&&Es.segmentIndex.evict(as.getSegmentAvailabilityStart());else Qn=cn.config_.defaultPresentationDelay||1.5*Dn,ms=Yn??Qn,as=new shaka.media.PresentationTimeline(Kn,ms,cn.config_.dash.autoCorrectDrift);return as.setStatic(us=="static"),as.isLive()&&!isNaN(cn.config_.availabilityWindowOverride)&&(qn=cn.config_.availabilityWindowOverride),qn==null&&(qn=1/0),as.setSegmentAvailabilityDuration(qn),$s=sn.getAttribute("profiles")||"",Ms={dynamic:us!="static",presentationTimeline:as,period:null,periodInfo:null,adaptationSet:null,representation:null,bandwidth:0,indexRangeWarningGiven:!1,availabilityTimeOffset:Fn,profiles:$s.split(",")},gs=cn.parsePeriods_(Ms,Ln,sn),Ss=gs.duration,js=gs.periods,us!="static"&&gs.durationDerivedFromPeriods||as.setDuration(Ss||1/0),cn.minTotalAvailabilityTimeOffset_&&!cn.lowLatencyMode_&&cn.playerInterface_.isAutoLowLatencyMode()&&(cn.playerInterface_.enableLowLatencyMode(),cn.lowLatencyMode_=cn.playerInterface_.isLowLatencyMode()),cn.lowLatencyMode_?as.setAvailabilityTimeOffset(cn.minTotalAvailabilityTimeOffset_):cn.minTotalAvailabilityTimeOffset_&&shaka.log.alwaysWarn("Low-latency DASH live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),as.notifyMaxSegmentDuration(rs||1),goog.DEBUG&&as.assertIsValid(),zs.yield(cn.periodCombiner_.combinePeriods(js,Ms.dynamic),2);case 2:if(cn.manifest_){cn.manifest_.variants=cn.periodCombiner_.getVariants(),cn.manifest_.textStreams=cn.periodCombiner_.getTextStreams(),cn.manifest_.imageStreams=cn.periodCombiner_.getImageStreams(),cn.playerInterface_.filter(cn.manifest_),zs.jumpTo(3);break}if(cn.manifest_={presentationTimeline:as,variants:cn.periodCombiner_.getVariants(),textStreams:cn.periodCombiner_.getTextStreams(),imageStreams:cn.periodCombiner_.getImageStreams(),offlineSessionIds:[],minBufferTime:Dn||0,sequenceMode:cn.config_.dash.sequenceMode},!as.usingPresentationStartTime()){zs.jumpTo(4);break}return bs=shaka.util.XmlUtils,Ts=bs.findChildren(sn,"UTCTiming"),zs.yield(cn.parseUtcTiming_(Ln,Ts),5);case 5:if(xs=zs.yieldResult,!cn.playerInterface_)return zs.return();as.setClockOffset(xs);case 4:as.lockStartTime();case 3:cn.playerInterface_.makeTextStreamsForClosedCaptions(cn.manifest_),zs.jumpToEnd()}})},shaka.dash.DashParser.prototype.parsePeriods_=function(sn,ln,cn){var dn=shaka.util.XmlUtils,pn=dn.parseAttr(cn,"mediaPresentationDuration",dn.parseDuration),vn=[],Sn=0;cn=dn.findChildren(cn,"Period");for(var En=0;En<cn.length;En++){var Cn=cn[En],Pn=cn[En+1],Rn=dn.parseAttr(Cn,"start",dn.parseDuration,Sn),Ln=Cn.id,Fn=dn.parseAttr(Cn,"duration",dn.parseDuration),Gn=null;if(Pn){var Dn=dn.parseAttr(Pn,"start",dn.parseDuration);Dn!=null&&(Gn=Dn-Rn)}else pn!=null&&(Gn=pn-Rn);if(Dn=shaka.util.ManifestParserUtils.GAP_OVERLAP_TOLERANCE_SECONDS,Gn&&Fn&&Math.abs(Gn-Fn)>Dn&&shaka.log.warning("There is a gap/overlap between Periods",Cn),Gn==null&&(Gn=Fn),this.largestPeriodStartTime_!==null&&Ln!==null&&Rn!==null&&Rn<this.largestPeriodStartTime_&&!this.lastManifestUpdatePeriodIds_.includes(Ln)&&En+1!=cn.length)shaka.log.debug("Skipping Period with ID "+Ln+" as its start time is smaller than the largest period start time that has been seen, and ID is unseen before");else{if(Rn!==null&&(this.largestPeriodStartTime_===null||Rn>this.largestPeriodStartTime_)&&(this.largestPeriodStartTime_=Rn),Sn=this.parsePeriod_(sn,ln,{start:Rn,duration:Gn,node:Cn,isLastPeriod:Gn==null||!Pn}),vn.push(Sn),sn.period.id&&Gn&&(this.periodDurations_[sn.period.id]=Gn),Gn==null){Pn&&shaka.log.warning("Skipping Period",En+1,"and any subsequent Periods:","Period",En+1,"does not have a valid start time.",Pn),Sn=null;break}Sn=Rn+Gn}}return this.lastManifestUpdatePeriodIds_=vn.map(function(Kn){return Kn.id}),pn!=null?(Sn!=pn&&shaka.log.warning("@mediaPresentationDuration does not match the total duration of ","all Periods."),{periods:vn,duration:pn,durationDerivedFromPeriods:!1}):{periods:vn,duration:Sn,durationDerivedFromPeriods:!0}},shaka.dash.DashParser.prototype.parsePeriod_=function(sn,ln,cn){var dn=this,pn=shaka.util.Functional,vn=shaka.util.XmlUtils,Sn=shaka.util.ManifestParserUtils.ContentType;sn.period=this.createFrame_(cn.node,null,ln),sn.periodInfo=cn,sn.period.availabilityTimeOffset=sn.availabilityTimeOffset,sn.period.id||(shaka.log.info("No Period ID given for Period with start time "+cn.start+",  Assigning a default"),sn.period.id="__shaka_period_"+cn.start);var En=vn.findChildren(cn.node,"EventStream");ln=sn.presentationTimeline.getSegmentAvailabilityStart(),En=$jscomp.makeIterator(En);for(var Cn=En.next();!Cn.done;Cn=En.next())this.parseEventStream_(cn.start,cn.duration,Cn.value,ln);if(pn=vn.findChildren(cn.node,"AdaptationSet").map(function(Ln){return dn.parseAdaptationSet_(sn,Ln)}).filter(pn.isNotNull),sn.dynamic){for(cn=[],vn=$jscomp.makeIterator(pn),ln=vn.next();!ln.done;ln=vn.next())for(ln=$jscomp.makeIterator(ln.value.representationIds),En=ln.next();!En.done;En=ln.next())cn.push(En.value);if(vn=new Set(cn),cn.length!=vn.size)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_DUPLICATE_REPRESENTATION_ID)}for(cn=pn.filter(function(Ln){return!Ln.trickModeFor}),pn=pn.filter(function(Ln){return Ln.trickModeFor}),pn=$jscomp.makeIterator(pn),vn=pn.next();!vn.done;vn=pn.next())for(vn=vn.value,ln=vn.trickModeFor.split(" "),En=$jscomp.makeIterator(cn),Cn=En.next();!Cn.done;Cn=En.next()){var Pn=Cn.value;if(ln.includes(Pn.id)){Cn={},Pn=$jscomp.makeIterator(Pn.streams);for(var Rn=Pn.next();!Rn.done;Cn={$jscomp$loop$prop$stream$727:Cn.$jscomp$loop$prop$stream$727},Rn=Pn.next())Cn.$jscomp$loop$prop$stream$727=Rn.value,Cn.$jscomp$loop$prop$stream$727.trickModeVideo=vn.streams.find(function(Ln){return function(Fn){return shaka.util.MimeUtils.getNormalizedCodec(Ln.$jscomp$loop$prop$stream$727.codecs)==shaka.util.MimeUtils.getNormalizedCodec(Fn.codecs)}}(Cn))}}if(vn=this.config_.disableAudio?[]:this.getSetsOfType_(cn,Sn.AUDIO),ln=this.config_.disableVideo?[]:this.getSetsOfType_(cn,Sn.VIDEO),pn=this.config_.disableText?[]:this.getSetsOfType_(cn,Sn.TEXT),cn=this.config_.disableThumbnails?[]:this.getSetsOfType_(cn,Sn.IMAGE),!ln.length&&!vn.length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_EMPTY_PERIOD);for(Sn=[],vn=$jscomp.makeIterator(vn),En=vn.next();!En.done;En=vn.next())Sn.push.apply(Sn,$jscomp.arrayFromIterable(En.value.streams));for(vn=[],ln=$jscomp.makeIterator(ln),En=ln.next();!En.done;En=ln.next())vn.push.apply(vn,$jscomp.arrayFromIterable(En.value.streams));for(ln=[],pn=$jscomp.makeIterator(pn),En=pn.next();!En.done;En=pn.next())ln.push.apply(ln,$jscomp.arrayFromIterable(En.value.streams));for(pn=[],cn=$jscomp.makeIterator(cn),En=cn.next();!En.done;En=cn.next())pn.push.apply(pn,$jscomp.arrayFromIterable(En.value.streams));return{id:sn.period.id,audioStreams:Sn,videoStreams:vn,textStreams:ln,imageStreams:pn}},shaka.dash.DashParser.prototype.getSetsOfType_=function(sn,ln){return sn.filter(function(cn){return cn.contentType==ln})},shaka.dash.DashParser.prototype.parseAdaptationSet_=function(sn,ln){var cn=this,dn=shaka.util.XmlUtils,pn=shaka.util.Functional,vn=shaka.util.ManifestParserUtils,Sn=vn.ContentType,En=shaka.dash.ContentProtection;sn.adaptationSet=this.createFrame_(ln,sn.period,null);var Cn=!1,Pn=dn.findChildren(ln,"Role"),Rn=Pn.map(function(Qn){return Qn.getAttribute("value")}).filter(pn.isNotNull),Ln=void 0;(pn=sn.adaptationSet.contentType==Sn.TEXT)&&(Ln=vn.TextStreamKind.SUBTITLE),Pn=$jscomp.makeIterator(Pn);for(var Fn=Pn.next();!Fn.done;Fn=Pn.next()){Fn=Fn.value;var Gn=Fn.getAttribute("schemeIdUri");if(Gn==null||Gn=="urn:mpeg:dash:role:2011")switch(Fn=Fn.getAttribute("value"),Fn){case"main":Cn=!0;break;case"caption":case"subtitle":Ln=Fn}}var Dn;Gn=function(Qn){switch(Qn){case 1:case 6:case 13:case 14:case 15:return"SDR";case 16:return"PQ";case 18:return"HLG"}};var Kn=dn.findChildren(ln,"EssentialProperty");Pn=null,Fn=!1,Kn=$jscomp.makeIterator(Kn);for(var qn=Kn.next();!qn.done;qn=Kn.next()){qn=qn.value;var Zn=qn.getAttribute("schemeIdUri");Zn=="http://dashif.org/guidelines/trickmode"?Pn=qn.getAttribute("value"):Zn=="urn:mpeg:mpegB:cicp:TransferCharacteristics"?Dn=Gn(parseInt(qn.getAttribute("value"),10)):Fn=!0}for(Kn=dn.findChildren(ln,"SupplementalProperty"),Kn=$jscomp.makeIterator(Kn),qn=Kn.next();!qn.done;qn=Kn.next())qn=qn.value,qn.getAttribute("schemeIdUri")=="urn:mpeg:mpegB:cicp:TransferCharacteristics"&&(Dn=Gn(parseInt(qn.getAttribute("value"),10)));Kn=dn.findChildren(ln,"Accessibility"),Gn=shaka.util.LanguageUtils;var Yn=new Map;for(Kn=$jscomp.makeIterator(Kn),qn=Kn.next();!qn.done;qn=Kn.next())if(Zn=qn.value,qn=Zn.getAttribute("schemeIdUri"),Zn=Zn.getAttribute("value"),qn=="urn:scte:dash:cc:cea-608:2015")if(qn=1,Zn!=null){Zn=Zn.split(";");for(var Jn=$jscomp.makeIterator(Zn),rs=Jn.next();!rs.done;rs=Jn.next()){var us=rs.value,as=rs=void 0;us.includes("=")?(us=us.split("="),rs=us[0].startsWith("CC")?us[0]:"CC"+us[0],as=us[1]||"und"):(rs="CC"+qn,Zn.length==2?qn+=2:qn++,as=us),Yn.set(rs,Gn.normalize(as))}}else Yn.set("CC1","und");else if(qn=="urn:scte:dash:cc:cea-708:2015")if(qn=1,Zn!=null)for(Zn=$jscomp.makeIterator(Zn.split(";")),rs=Zn.next();!rs.done;rs=Zn.next())rs=rs.value,us=Jn=void 0,rs.includes("=")?(rs=rs.split("="),Jn="svc"+rs[0],us=rs[1].split(",")[0].split(":").pop()):(Jn="svc"+qn,qn++,us=rs),Yn.set(Jn,Gn.normalize(us));else Yn.set("svc1","und");else qn=="urn:mpeg:dash:role:2011"&&Zn!=null&&(Rn.push(Zn),Zn=="captions"&&(Ln=vn.TextStreamKind.CLOSED_CAPTION));if(Fn)return null;vn=dn.findChildren(ln,"ContentProtection");var cs=En.parseFromAdaptationSet(vn,this.config_.dash.ignoreDrmInfo,this.config_.dash.keySystemsByURI),_s=shaka.util.LanguageUtils.normalize(ln.getAttribute("lang")||"und"),Es=ln.getAttribute("label");if((En=dn.findChildren(ln,"Label"))&&En.length&&(En=En[0],En.textContent&&(Es=En.textContent)),dn=dn.findChildren(ln,"Representation"),ln=dn.map(function(Qn){return(Qn=cn.parseRepresentation_(sn,cs,Ln,_s,Es,Cn,Rn,Yn,Qn))&&(Qn.hdr=Qn.hdr||Dn),Qn}).filter(function(Qn){return!!Qn}),ln.length==0){if(Pn=sn.adaptationSet.contentType==Sn.IMAGE,this.config_.dash.ignoreEmptyAdaptationSet||pn||Pn)return null;throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_EMPTY_ADAPTATION_SET)}if(!sn.adaptationSet.contentType||sn.adaptationSet.contentType==Sn.APPLICATION)for(sn.adaptationSet.contentType=shaka.dash.DashParser.guessContentType_(ln[0].mimeType,ln[0].codecs),Sn=$jscomp.makeIterator(ln),pn=Sn.next();!pn.done;pn=Sn.next())pn.value.type=sn.adaptationSet.contentType;for(Sn=$jscomp.makeIterator(ln),pn=Sn.next();!pn.done;pn=Sn.next())for(pn=pn.value,En=$jscomp.makeIterator(cs.drmInfos),vn=En.next();!vn.done;vn=En.next())vn=vn.value,vn.keyIds=vn.keyIds&&pn.keyIds?new Set([].concat($jscomp.arrayFromIterable(vn.keyIds),$jscomp.arrayFromIterable(pn.keyIds))):vn.keyIds||pn.keyIds;return Sn=dn.map(function(Qn){return Qn.getAttribute("id")}).filter(shaka.util.Functional.isNotNull),{id:sn.adaptationSet.id||"__fake__"+this.globalId_++,contentType:sn.adaptationSet.contentType,language:_s,main:Cn,streams:ln,drmInfos:cs.drmInfos,trickModeFor:Pn,representationIds:Sn}},shaka.dash.DashParser.prototype.parseRepresentation_=function(sn,ln,cn,dn,pn,vn,Sn,En,Cn){var Pn=this,Rn=shaka.util.XmlUtils,Ln=shaka.util.ManifestParserUtils.ContentType;if(sn.representation=this.createFrame_(Cn,sn.adaptationSet,null),this.minTotalAvailabilityTimeOffset_=Math.min(this.minTotalAvailabilityTimeOffset_,sn.representation.availabilityTimeOffset),!this.verifyRepresentation_(sn.representation))return shaka.log.warning("Skipping Representation",sn.representation),null;var Fn=sn.periodInfo.start;sn.bandwidth=Rn.parseAttr(Cn,"bandwidth",Rn.parsePositiveInt)||0;var Gn=sn.representation.contentType,Dn=Gn==Ln.TEXT||Gn==Ln.APPLICATION;Ln=Gn==Ln.IMAGE;try{if(Gn=function(cs,_s,Es){return Pn.requestInitSegment_(cs,_s,Es)},sn.representation.segmentBase)var Kn=shaka.dash.SegmentBase.createStreamInfo(sn,Gn);else if(sn.representation.segmentList)Kn=shaka.dash.SegmentList.createStreamInfo(sn,this.streamMap_);else if(sn.representation.segmentTemplate)Kn=shaka.dash.SegmentTemplate.createStreamInfo(sn,Gn,this.streamMap_,!!this.manifest_,this.config_.dash.initialSegmentLimit,this.periodDurations_);else{goog.asserts.assert(Dn,"Must have Segment* with non-text streams.");var qn=sn.representation.baseUris,Zn=sn.periodInfo.duration||0;Kn={generateSegmentIndex:function(){return Promise.resolve(shaka.media.SegmentIndex.forSingleSegment(Fn,Zn,qn))}}}}catch(cs){if((Dn||Ln)&&cs.code==shaka.util.Error.Code.DASH_NO_SEGMENT_INFO)return null;throw cs}Gn=Rn.findChildren(Cn,"ContentProtection"),Gn=shaka.dash.ContentProtection.parseFromRepresentation(Gn,ln,this.config_.dash.ignoreDrmInfo,this.config_.dash.keySystemsByURI),Gn=new Set(Gn?[Gn]:[]);var Yn=!1;Rn.findChildren(Cn,"SupplementalProperty").some(function(cs){return cs.getAttribute("schemeIdUri")=="tag:dolby.com,2018:dash:EC3_ExtensionType:2018"&&cs.getAttribute("value")=="JOC"})&&(Yn=!0);var Jn=!1;Dn&&(Jn=Sn.includes("forced_subtitle")||Sn.includes("forced-subtitle"));var rs;if(Ln&&((Cn=Rn.findChildren(Cn,"EssentialProperty").find(function(cs){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(cs.getAttribute("schemeIdUri"))}))&&(rs=Cn.getAttribute("value")),!rs))return null;var us;Cn=sn.representation.codecs,sn.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(Cn.includes("hvc1.2.4.L153.B0")||Cn.includes("hev1.2.4.L153.B0"))&&(us="PQ"),Cn=sn.representation.id?sn.period.id+","+sn.representation.id:"";var as=Cn&&this.streamMap_[Cn]?this.streamMap_[Cn]:{id:this.globalId_++,originalId:sn.representation.id,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){as.segmentIndex&&(as.segmentIndex.release(),as.segmentIndex=null)},segmentIndex:null,mimeType:sn.representation.mimeType,codecs:sn.representation.codecs,frameRate:sn.representation.frameRate,pixelAspectRatio:sn.representation.pixelAspectRatio,bandwidth:sn.bandwidth,width:sn.representation.width,height:sn.representation.height,kind:cn,encrypted:0<ln.drmInfos.length,drmInfos:ln.drmInfos,keyIds:Gn,language:dn,label:pn,type:sn.adaptationSet.contentType,primary:vn,trickModeVideo:null,emsgSchemeIdUris:sn.representation.emsgSchemeIdUris,roles:Sn,forced:Jn,channelsCount:sn.representation.numChannels,audioSamplingRate:sn.representation.audioSamplingRate,spatialAudio:Yn,closedCaptions:En,hdr:us,tilesLayout:rs,matchedStreams:[]};return as.createSegmentIndex=function(){var cs;return $jscomp.asyncExecutePromiseGeneratorProgram(function(_s){if(_s.nextAddress==1)return as.segmentIndex?_s.jumpTo(0):(cs=as,_s.yield(Kn.generateSegmentIndex(),3));cs.segmentIndex=_s.yieldResult,_s.jumpToEnd()})},Cn&&sn.dynamic&&!this.streamMap_[Cn]&&(this.streamMap_[Cn]=as),as},shaka.dash.DashParser.prototype.onUpdate_=function(){var sn=this,ln,cn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dn){switch(dn.nextAddress){case 1:return goog.asserts.assert(0<=sn.updatePeriod_,"There should be an update period"),shaka.log.info("Updating manifest..."),ln=0,dn.setCatchFinallyBlocks(2),dn.yield(sn.requestManifest_(),4);case 4:ln=dn.yieldResult,dn.leaveTryBlock(3);break;case 2:cn=dn.enterCatchBlock(),goog.asserts.assert(cn instanceof shaka.util.Error,"Should only receive a Shaka error"),sn.playerInterface_&&(cn.severity=shaka.util.Error.Severity.RECOVERABLE,sn.playerInterface_.onError(cn));case 3:if(!sn.playerInterface_)return dn.return();sn.setUpdateTimer_(ln),dn.jumpToEnd()}})},shaka.dash.DashParser.prototype.setUpdateTimer_=function(sn){0>this.updatePeriod_||(sn=Math.max(shaka.dash.DashParser.MIN_UPDATE_PERIOD_,this.updatePeriod_-sn,this.averageUpdateDuration_.getEstimate()),this.updateTimer_.tickAfter(sn))},shaka.dash.DashParser.prototype.createFrame_=function(sn,ln,cn){goog.asserts.assert(ln||cn,"Must provide either parent or baseUris");var dn=shaka.util.ManifestParserUtils,pn=shaka.util.XmlUtils;ln=ln||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,numChannels:null,audioSamplingRate:null,availabilityTimeOffset:0},cn=cn||ln.baseUris;var vn=pn.parseNonNegativeInt,Sn=pn.evalDivision,En=pn.findChildren(sn,"BaseURL"),Cn=En.map(pn.getContents),Pn=sn.getAttribute("contentType")||ln.contentType,Rn=sn.getAttribute("mimeType")||ln.mimeType,Ln=sn.getAttribute("codecs")||ln.codecs;Sn=pn.parseAttr(sn,"frameRate",Sn)||ln.frameRate;var Fn=sn.getAttribute("sar")||ln.pixelAspectRatio,Gn=this.emsgSchemeIdUris_(pn.findChildren(sn,"InbandEventStream"),ln.emsgSchemeIdUris),Dn=pn.findChildren(sn,"AudioChannelConfiguration");Dn=this.parseAudioChannels_(Dn)||ln.numChannels;var Kn=pn.parseAttr(sn,"audioSamplingRate",vn)||ln.audioSamplingRate;Pn||(Pn=shaka.dash.DashParser.guessContentType_(Rn,Ln));var qn=pn.findChild(sn,"SegmentBase"),Zn=pn.findChild(sn,"SegmentTemplate"),Yn=qn&&pn.parseAttr(qn,"availabilityTimeOffset",pn.parseFloat)||0,Jn=Zn&&pn.parseAttr(Zn,"availabilityTimeOffset",pn.parseFloat)||0;return En=En&&En.length&&pn.parseAttr(En[0],"availabilityTimeOffset",pn.parseFloat)||0,En=ln.availabilityTimeOffset+En+Yn+Jn,{baseUris:dn.resolveUris(cn,Cn),segmentBase:qn||ln.segmentBase,segmentList:pn.findChild(sn,"SegmentList")||ln.segmentList,segmentTemplate:Zn||ln.segmentTemplate,width:pn.parseAttr(sn,"width",vn)||ln.width,height:pn.parseAttr(sn,"height",vn)||ln.height,contentType:Pn,mimeType:Rn,codecs:Ln,frameRate:Sn,pixelAspectRatio:Fn,emsgSchemeIdUris:Gn,id:sn.getAttribute("id"),numChannels:Dn,audioSamplingRate:Kn,availabilityTimeOffset:En}},shaka.dash.DashParser.prototype.emsgSchemeIdUris_=function(sn,ln){ln=ln.slice(),sn=$jscomp.makeIterator(sn);for(var cn=sn.next();!cn.done;cn=sn.next())cn=cn.value.getAttribute("schemeIdUri"),ln.includes(cn)||ln.push(cn);return ln},shaka.dash.DashParser.prototype.parseAudioChannels_=function(sn){sn=$jscomp.makeIterator(sn);for(var ln=sn.next();!ln.done;ln=sn.next()){var cn=ln.value;if((ln=cn.getAttribute("schemeIdUri"))&&(cn=cn.getAttribute("value")))switch(ln){case"urn:mpeg:dash:outputChannelPositionList:2012":return cn.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":var dn=parseInt(cn,10);if(!dn){shaka.log.warning("Channel parsing failure! Ignoring scheme and value",ln,cn);continue}return dn;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(dn=parseInt(cn,16),!dn){shaka.log.warning("Channel parsing failure! Ignoring scheme and value",ln,cn);continue}for(sn=0;dn;)dn&1&&++sn,dn>>=1;return sn;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":dn=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14];var pn=parseInt(cn,10);if(!pn){shaka.log.warning("Channel parsing failure! Ignoring scheme and value",ln,cn);continue}if(0<pn&&pn<dn.length)return dn[pn];continue;default:shaka.log.warning("Unrecognized audio channel scheme:",ln,cn)}}return null},shaka.dash.DashParser.prototype.verifyRepresentation_=function(sn){var ln=shaka.util.ManifestParserUtils.ContentType,cn=sn.segmentBase?1:0;return cn+=sn.segmentList?1:0,cn+=sn.segmentTemplate?1:0,cn==0?sn.contentType==ln.TEXT||sn.contentType==ln.APPLICATION?!0:(shaka.log.warning("Representation does not contain a segment information source:","the Representation must contain one of SegmentBase, SegmentList,",'SegmentTemplate, or explicitly indicate that it is "text".',sn),!1):(cn!=1&&(shaka.log.warning("Representation contains multiple segment information sources:","the Representation should only contain one of SegmentBase,","SegmentList, or SegmentTemplate.",sn),sn.segmentBase?(shaka.log.info("Using SegmentBase by default."),sn.segmentList=null):(goog.asserts.assert(sn.segmentList,"There should be a SegmentList"),shaka.log.info("Using SegmentList by default.")),sn.segmentTemplate=null),!0)},shaka.dash.DashParser.prototype.requestForTiming_=function(sn,ln,cn){var dn=this,pn,vn,Sn,En,Cn,Pn,Rn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ln){if(Ln.nextAddress==1)return pn=shaka.util.ManifestParserUtils.resolveUris(sn,[ln]),vn=shaka.net.NetworkingEngine.makeRequest(pn,dn.config_.retryParameters),vn.method=cn,Sn=shaka.net.NetworkingEngine.RequestType.TIMING,En=dn.playerInterface_.networkingEngine.request(Sn,vn),dn.operationManager_.manage(En),Ln.yield(En.promise,2);if(Cn=Ln.yieldResult,cn=="HEAD"){if(!Cn.headers||!Cn.headers.date)return shaka.log.warning("UTC timing response is missing","expected date header"),Ln.return(0);Pn=Cn.headers.date}else Pn=shaka.util.StringUtils.fromUTF8(Cn.data);return Rn=Date.parse(Pn),isNaN(Rn)?(shaka.log.warning("Unable to parse date from UTC timing response"),Ln.return(0)):Ln.return(Rn-Date.now())})},shaka.dash.DashParser.prototype.parseUtcTiming_=function(sn,ln){var cn=this,dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Fn){switch(Fn.nextAddress){case 1:dn=ln.map(function(Gn){return{scheme:Gn.getAttribute("schemeIdUri"),value:Gn.getAttribute("value")}}),pn=cn.config_.dash.clockSyncUri,!dn.length&&pn&&dn.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:pn}),vn=$jscomp.makeIterator(dn),Sn=vn.next();case 2:if(Sn.done){Fn.jumpTo(4);break}switch(En=Sn.value,Fn.setCatchFinallyBlocks(5),Cn=En.scheme,Pn=En.value,Cn){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return Fn.jumpTo(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return Fn.jumpTo(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return Rn=Date.parse(Pn),Fn.return(isNaN(Rn)?0:Rn-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":shaka.log.alwaysWarn("NTP UTCTiming scheme is not supported");break;default:shaka.log.alwaysWarn("Unrecognized scheme in UTCTiming element",Cn)}Fn.jumpTo(9);break;case 7:return Fn.yield(cn.requestForTiming_(sn,Pn,"HEAD"),10);case 10:return Fn.return(Fn.yieldResult);case 8:return Fn.yield(cn.requestForTiming_(sn,Pn,"GET"),11);case 11:return Fn.return(Fn.yieldResult);case 9:Fn.leaveTryBlock(3);break;case 5:Ln=Fn.enterCatchBlock(),shaka.log.warning("Error fetching time from UTCTiming elem",Ln.message);case 3:Sn=vn.next(),Fn.jumpTo(2);break;case 4:return shaka.log.alwaysWarn("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),Fn.return(0)}})},shaka.dash.DashParser.prototype.parseEventStream_=function(sn,ln,cn,dn){var pn=shaka.util.XmlUtils,vn=pn.parseNonNegativeInt,Sn=cn.getAttribute("schemeIdUri")||"",En=cn.getAttribute("value")||"",Cn=pn.parseAttr(cn,"timescale",vn)||1;cn=$jscomp.makeIterator(pn.findChildren(cn,"Event"));for(var Pn=cn.next();!Pn.done;Pn=cn.next()){Pn=Pn.value;var Rn=pn.parseAttr(Pn,"presentationTime",vn)||0,Ln=pn.parseAttr(Pn,"duration",vn)||0;Rn=Rn/Cn+sn,Ln=Rn+Ln/Cn,ln!=null&&(Rn=Math.min(Rn,sn+ln),Ln=Math.min(Ln,sn+ln)),Ln<dn||(Pn={schemeIdUri:Sn,value:En,startTime:Rn,endTime:Ln,id:Pn.getAttribute("id")||"",eventElement:Pn},this.playerInterface_.onTimelineRegionAdded(Pn))}},shaka.dash.DashParser.prototype.requestInitSegment_=function(sn,ln,cn){var dn=this,pn,vn,Sn,En,Cn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Pn){return Pn.nextAddress==1?(pn=shaka.net.NetworkingEngine.RequestType.SEGMENT,vn=shaka.util.Networking.createSegmentRequest(sn,ln,cn,dn.config_.retryParameters),Sn=dn.playerInterface_.networkingEngine,En=Sn.request(pn,vn),dn.operationManager_.manage(En),Pn.yield(En.promise,2)):(Cn=Pn.yieldResult,Pn.return(Cn.data))})},shaka.dash.DashParser.guessContentType_=function(sn,ln){return ln=shaka.util.MimeUtils.getFullType(sn,ln),shaka.text.TextEngine.isTypeSupported(ln)?shaka.util.ManifestParserUtils.ContentType.TEXT:sn.split("/")[0]},goog.exportSymbol("shaka.dash.DashParser",shaka.dash.DashParser),shaka.dash.DashParser.MIN_UPDATE_PERIOD_=3,shaka.media.ManifestParser.registerParserByExtension("mpd",function(){return new shaka.dash.DashParser}),shaka.media.ManifestParser.registerParserByMime("application/dash+xml",function(){return new shaka.dash.DashParser}),shaka.media.ManifestParser.registerParserByMime("video/vnd.mpeg.dash.mpd",function(){return new shaka.dash.DashParser}),shaka.hls={},shaka.hls.Playlist=function(sn,ln,cn,dn){this.absoluteUri=sn,this.type=ln,this.tags=cn,this.segments=dn||null},shaka.hls.PlaylistType={MASTER:0,MEDIA:1},shaka.hls.Tag=function(sn,ln,cn,dn){this.id=sn,this.name=ln,this.attributes=cn,this.value=dn===void 0?null:dn},shaka.hls.Tag.prototype.toString=function(){var sn=function(cn){var dn=isNaN(Number(cn.value))?'"'+cn.value+'"':cn.value;return cn.name+"="+dn},ln="#"+this.name;return sn=this.attributes?this.attributes.map(sn):[],this.value&&sn.unshift(this.value),0<sn.length&&(ln+=":"+sn.join(",")),ln},shaka.hls.Tag.prototype.addAttribute=function(sn){this.attributes.push(sn)},shaka.hls.Tag.prototype.getAttribute=function(sn){var ln=this.attributes.filter(function(cn){return cn.name==sn});return goog.asserts.assert(2>ln.length,"A tag should not have multiple attributes with the same name!"),ln.length?ln[0]:null},shaka.hls.Tag.prototype.getAttributeValue=function(sn,ln){return(sn=this.getAttribute(sn))?sn.value:ln||null},shaka.hls.Tag.prototype.getRequiredAttrValue=function(sn){var ln=this.getAttribute(sn);if(!ln)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_REQUIRED_ATTRIBUTE_MISSING,sn);return ln.value},shaka.hls.Tag.prototype.setName=function(sn){this.name=sn},shaka.hls.Segment=function(sn,ln,cn){cn=cn===void 0?[]:cn,this.tags=ln,this.absoluteUri=sn,this.partialSegments=cn},shaka.hls.Attribute=function(sn,ln){this.name=sn,this.value=ln},shaka.hls.Utils=function(){},shaka.hls.Utils.filterTagsByName=function(sn,ln){return sn.filter(function(cn){return cn.name==ln})},shaka.hls.Utils.filterTagsByType=function(sn,ln){return sn.filter(function(cn){return cn.getRequiredAttrValue("TYPE")==ln})},shaka.hls.Utils.getFirstTagWithName=function(sn,ln){return sn=shaka.hls.Utils.filterTagsByName(sn,ln),sn.length?sn[0]:null},shaka.hls.Utils.getFirstTagWithNameAsNumber=function(sn,ln,cn){return cn=cn===void 0?0:cn,(sn=shaka.hls.Utils.getFirstTagWithName(sn,ln))?Number(sn.value):cn},shaka.hls.Utils.constructAbsoluteUri=function(sn,ln){return shaka.util.ManifestParserUtils.resolveUris([sn],[ln])[0]},shaka.hls.Utils.isComment=function(sn){return/^#(?!EXT)/m.test(sn)},shaka.util.TextParser=function(sn){this.data_=sn,this.position_=0},shaka.util.TextParser.prototype.atEnd=function(){return this.position_==this.data_.length},shaka.util.TextParser.prototype.readLine=function(){return this.readRegexReturnCapture_(/(.*?)(\n|$)/gm,1)},shaka.util.TextParser.prototype.readWord=function(){return this.readRegexReturnCapture_(/[^ \t\n]*/gm,0)},shaka.util.TextParser.prototype.skipWhitespace=function(){this.readRegex(/[ \t]+/gm)},shaka.util.TextParser.prototype.readRegex=function(sn){return sn=this.indexOf_(sn),this.atEnd()||sn==null||sn.position!=this.position_?null:(this.position_+=sn.length,sn.results)},shaka.util.TextParser.prototype.readRegexReturnCapture_=function(sn,ln){return this.atEnd()?null:(sn=this.readRegex(sn))?sn[ln]:null},shaka.util.TextParser.prototype.indexOf_=function(sn){return goog.asserts.assert(sn.global,"global flag should be set"),sn.lastIndex=this.position_,sn=sn.exec(this.data_),sn==null?null:{position:sn.index,length:sn[0].length,results:sn}},shaka.hls.ManifestTextParser=function(){this.globalId_=0},shaka.hls.ManifestTextParser.prototype.parsePlaylist=function(sn,ln){var cn=shaka.hls.ManifestTextParser.MEDIA_PLAYLIST_TAGS,dn=shaka.hls.ManifestTextParser.SEGMENT_TAGS;sn=shaka.util.StringUtils.fromUTF8(sn),sn=sn.replace(/\r\n|\r(?=[^\n]|$)/gm,`
`).trim();var pn=sn.split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(pn[0]))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_PLAYLIST_HEADER_MISSING);sn=shaka.hls.PlaylistType.MASTER;for(var vn=!0,Sn=$jscomp.makeIterator(pn),En=Sn.next();!En.done;En=Sn.next())if(En=En.value,shaka.hls.Utils.isComment(En)||vn)vn=!1;else if(En=this.parseTag_(En),--this.globalId_,cn.includes(En.name)){sn=shaka.hls.PlaylistType.MEDIA;break}else En.name=="EXT-X-STREAM-INF"&&(vn=!0);for(cn=[],vn=!0,Sn=0;Sn<pn.length;Sn++){var Cn=pn[Sn];if(En=pn[Sn+1],shaka.hls.Utils.isComment(Cn)||vn)vn=!1;else{if(Cn=this.parseTag_(Cn),dn.includes(Cn.name)){if(sn!=shaka.hls.PlaylistType.MEDIA)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_INVALID_PLAYLIST_HIERARCHY);return dn=pn.splice(Sn,pn.length-Sn),dn=this.parseSegments_(ln,dn,cn),new shaka.hls.Playlist(ln,sn,cn,dn)}cn.push(Cn),Cn.name=="EXT-X-STREAM-INF"&&(vn=new shaka.hls.Attribute("URI",En),Cn.addAttribute(vn),vn=!0)}}return new shaka.hls.Playlist(ln,sn,cn)},shaka.hls.ManifestTextParser.prototype.parseSegments_=function(sn,ln,cn){var dn=[],pn=[],vn=[],Sn=null;ln=$jscomp.makeIterator(ln);for(var En=ln.next();!En.done;En=ln.next())En=En.value,/^(#EXT)/.test(En)?(En=this.parseTag_(En),shaka.hls.ManifestTextParser.MEDIA_PLAYLIST_TAGS.includes(En.name)?cn.push(En):En.name=="EXT-X-MAP"?Sn=En:En.name=="EXT-X-PART"?vn.push(En):En.name=="EXT-X-PRELOAD-HINT"?En.getAttributeValue("TYPE")=="PART"?vn.push(En):En.getAttributeValue("TYPE")=="MAP"&&(En.setName("EXT-X-MAP"),Sn=En):pn.push(En)):shaka.hls.Utils.isComment(En)||(En=En.trim(),En=shaka.hls.Utils.constructAbsoluteUri(sn,En),Sn&&pn.push(Sn),pn=new shaka.hls.Segment(En,pn,vn),dn.push(pn),pn=[],vn=[]);return vn.length&&(Sn&&pn.push(Sn),sn=new shaka.hls.Segment("",pn,vn),dn.push(sn)),dn},shaka.hls.ManifestTextParser.prototype.parseTag_=function(sn){return shaka.hls.ManifestTextParser.parseTag(this.globalId_++,sn)},shaka.hls.ManifestTextParser.parseTag=function(sn,ln){var cn=ln.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!cn)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.INVALID_HLS_TAG,ln);ln=cn[1];var dn=cn[2];cn=[];var pn;if(dn){dn=new shaka.util.TextParser(dn);var vn,Sn=dn.readRegex(/^([^,=]+)(?:,|$)/g);for(Sn&&(pn=Sn[1]),Sn=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;vn=dn.readRegex(Sn);)vn=new shaka.hls.Attribute(vn[1],vn[2]||vn[3]),cn.push(vn),dn.skipWhitespace()}return new shaka.hls.Tag(sn,ln,cn,pn)},shaka.hls.ManifestTextParser.MEDIA_PLAYLIST_TAGS="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP".split(" "),shaka.hls.ManifestTextParser.SEGMENT_TAGS="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP".split(" "),shaka.net.DataUriPlugin=function(){},shaka.net.DataUriPlugin.parse=function(sn,ln,cn,dn){try{var pn=shaka.net.DataUriPlugin.parseRaw(sn);return shaka.util.AbortableOperation.completed({uri:sn,originalUri:sn,data:pn.data,headers:{"content-type":pn.contentType}})}catch(vn){return shaka.util.AbortableOperation.failed(vn)}},shaka.net.DataUriPlugin.parseRaw=function(sn){var ln=sn.split(":");if(2>ln.length||ln[0]!="data")throw shaka.log.error("Bad data URI, failed to parse scheme"),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.MALFORMED_DATA_URI,sn);if(ln=ln.slice(1).join(":").split(","),2>ln.length)throw shaka.log.error("Bad data URI, failed to extract encoding and MIME type"),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.MALFORMED_DATA_URI,sn);var cn=ln[0];sn=window.decodeURIComponent(ln.slice(1).join(",")),ln=cn.split(";"),cn=ln[0];var dn=!1;return 1<ln.length&&ln[ln.length-1]=="base64"&&(dn=!0,ln.pop()),{data:dn?shaka.util.Uint8ArrayUtils.fromBase64(sn):shaka.util.StringUtils.toUTF8(sn),contentType:cn}},goog.exportSymbol("shaka.net.DataUriPlugin",shaka.net.DataUriPlugin),goog.exportProperty(shaka.net.DataUriPlugin,"parse",shaka.net.DataUriPlugin.parse),shaka.net.NetworkingEngine.registerScheme("data",shaka.net.DataUriPlugin.parse),shaka.hls.HlsParser=function(){var sn=this;this.config_=this.playerInterface_=null,this.globalId_=1,this.globalVariables_=new Map,this.groupIdToStreamInfosMap_=new Map,this.mediaSequenceToStartTimeByType_=new Map;var ln=shaka.util.ManifestParserUtils.ContentType;this.mediaSequenceToStartTimeByType_.set(ln.VIDEO,new Map),this.mediaSequenceToStartTimeByType_.set(ln.AUDIO,new Map),this.mediaSequenceToStartTimeByType_.set(ln.TEXT,new Map),this.mediaSequenceToStartTimeByType_.set(ln.IMAGE,new Map),this.variantUriSet_=new Set,this.uriToStreamInfosMap_=new Map,this.presentationTimeline_=null,this.masterPlaylistUri_="",this.manifestTextParser_=new shaka.hls.ManifestTextParser,this.updatePlaylistDelay_=0,this.minSequenceNumber_=-1,this.lowestSyncTime_=1/0,this.streamsFinalized_=!1,this.updatePlaylistTimer_=new shaka.util.Timer(function(){sn.onUpdate_()}),this.presentationType_=shaka.hls.HlsParser.PresentationType_.VOD,this.manifest_=null,this.maxTargetDuration_=0,this.minTargetDuration_=1/0,this.lowLatencyPresentationDelay_=this.partialTargetDuration_=0,this.operationManager_=new shaka.util.OperationManager,this.groupIdToClosedCaptionsMap_=new Map,this.groupIdToCodecsMap_=new Map,this.mapTagToInitSegmentRefMap_=new Map,this.lowLatencyMode_=!1},shaka.hls.HlsParser.prototype.configure=function(sn){this.config_=sn},shaka.hls.HlsParser.prototype.start=function(sn,ln){var cn=this,dn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(pn){return pn.nextAddress==1?(goog.asserts.assert(cn.config_,"Must call configure() before start()!"),cn.playerInterface_=ln,cn.lowLatencyMode_=ln.isLowLatencyMode(),pn.yield(cn.requestManifest_(sn),2)):pn.nextAddress!=3?(dn=pn.yieldResult,cn.masterPlaylistUri_=dn.uri,goog.asserts.assert(dn.data,"Response data should be non-null!"),pn.yield(cn.parseManifest_(dn.data,sn),3)):(goog.asserts.assert(cn.manifest_,"Manifest should be non-null"),pn.return(cn.manifest_))})},shaka.hls.HlsParser.prototype.stop=function(){this.updatePlaylistTimer_&&(this.updatePlaylistTimer_.stop(),this.updatePlaylistTimer_=null);var sn=[];return this.operationManager_&&(sn.push(this.operationManager_.destroy()),this.operationManager_=null),this.config_=this.playerInterface_=null,this.variantUriSet_.clear(),this.manifest_=null,this.uriToStreamInfosMap_.clear(),this.groupIdToStreamInfosMap_.clear(),this.groupIdToCodecsMap_.clear(),this.globalVariables_.clear(),Promise.all(sn)},shaka.hls.HlsParser.prototype.update=function(){var sn=this,ln,cn,dn,pn,vn,Sn,En,Cn,Pn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Rn){if(Rn.nextAddress==1){if(!sn.isLive_())return Rn.return();for(ln=[],cn=Array.from(sn.uriToStreamInfosMap_.values()),dn=cn.filter(function(Ln){return Ln.stream.segmentIndex}),pn=$jscomp.makeIterator(dn),vn=pn.next();!vn.done;vn=pn.next())Sn=vn.value,ln.push(sn.updateStream_(Sn));return Rn.yield(Promise.all(ln),2)}sn.notifySegmentsForStreams_(dn.map(function(Ln){return Ln.stream})),En=dn.some(function(Ln){return Ln.hasEndList==0}),dn.length&&!En&&(Cn=shaka.hls.HlsParser.PresentationType_,sn.setPresentationType_(Cn.VOD),Pn=dn.map(function(Ln){return Ln.maxTimestamp}),sn.presentationTimeline_.setDuration(Math.min.apply(Math,$jscomp.arrayFromIterable(Pn))),sn.playerInterface_.updateDuration()),Rn.jumpToEnd()})},shaka.hls.HlsParser.prototype.getMediaSequenceToStartTimeFor_=function(sn){return this.isLive_()?this.mediaSequenceToStartTimeByType_.get(sn.type):sn.mediaSequenceToStartTime},shaka.hls.HlsParser.prototype.updateStream_=function(sn){var ln=this,cn,dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn,Gn,Dn,Kn,qn,Zn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Yn){if(Yn.nextAddress==1)return cn=sn.absoluteMediaPlaylistUri,dn=new goog.Uri(cn),ln.lowLatencyMode_&&sn.canSkipSegments&&dn.setQueryData(new goog.Uri.QueryData("_HLS_skip=YES")),Yn.yield(ln.requestManifest_(dn.toString()),2);if(pn=Yn.yieldResult,!sn.stream.segmentIndex)return Yn.return();if(vn=ln.manifestTextParser_.parsePlaylist(pn.data,pn.uri),vn.type!=shaka.hls.PlaylistType.MEDIA)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_INVALID_PLAYLIST_HIERARCHY);Sn=shaka.hls.Utils.filterTagsByName(vn.tags,"EXT-X-DEFINE"),En=ln.parseMediaVariables_(Sn),Cn=sn.stream,Pn=ln.getMediaSequenceToStartTimeFor_(sn),Rn=ln.parseDrmInfo_(vn,Cn.mimeType),Ln=Rn.keyIds,Fn=Rn.drmInfos,Gn=function(Jn,rs){return Jn.size===rs.size&&[].concat($jscomp.arrayFromIterable(Jn)).every(function(us){return rs.has(us)})},Gn(Cn.keyIds,Ln)||(Cn.keyIds=Ln,Cn.drmInfos=Fn,ln.playerInterface_.newDrmInfo(Cn)),Dn=ln.createSegments_(sn.verbatimMediaPlaylistUri,vn,Cn.type,Cn.mimeType,Pn,En),Cn.segmentIndex.mergeAndEvict(Dn,ln.presentationTimeline_.getSegmentAvailabilityStart()),Dn.length&&(Kn=shaka.hls.Utils.getFirstTagWithNameAsNumber(vn.tags,"EXT-X-MEDIA-SEQUENCE",0),qn=Pn.get(Kn),Cn.segmentIndex.evict(qn)),Zn=Dn[Dn.length-1],goog.asserts.assert(Zn,"Should have segments!"),shaka.hls.Utils.getFirstTagWithName(vn.tags,"EXT-X-ENDLIST")&&(sn.hasEndList=!0,sn.maxTimestamp=Zn.endTime),Yn.jumpToEnd()})},shaka.hls.HlsParser.prototype.onExpirationUpdated=function(sn,ln){},shaka.hls.HlsParser.prototype.syncStreamsWithSequenceNumber_=function(sn){for(var ln=this.minSequenceNumber_==-1,cn=$jscomp.makeIterator(sn),dn=cn.next();!dn.done;dn=cn.next()){dn=dn.value;var pn=dn.stream.segmentIndex;goog.asserts.assert(pn,"Only loaded streams should be synced");var vn=this.getMediaSequenceToStartTimeFor_(dn);if(pn=pn.earliestReference()){if(goog.DEBUG){var Sn=vn.values().next().value;goog.asserts.assert(Sn==pn.startTime,"Sequence number map is not ordered as expected!")}for(vn=$jscomp.makeIterator(vn),Sn=vn.next();!Sn.done;Sn=vn.next()){Sn=$jscomp.makeIterator(Sn.value);var En=Sn.next().value;if(Sn.next().value==pn.startTime){ln&&(this.minSequenceNumber_=Math.max(this.minSequenceNumber_,En)),dn.firstSequenceNumber=En;break}}}}if(!(0>this.minSequenceNumber_))for(shaka.log.debug("Syncing HLS streams against base sequence number:",this.minSequenceNumber_),sn=$jscomp.makeIterator(sn),dn=sn.next();!dn.done;dn=sn.next())ln=dn.value,(cn=ln.stream.segmentIndex)&&(cn.dropFirstReferences(this.minSequenceNumber_-ln.firstSequenceNumber),(cn=cn.earliestReference())&&(cn=-cn.startTime,ln.stream.segmentIndex.offset(cn),this.offsetStreamInfo_(ln,cn)))},shaka.hls.HlsParser.prototype.syncStreamsWithProgramDateTime_=function(sn){if(this.lowestSyncTime_==1/0){sn=$jscomp.makeIterator(sn);for(var ln=sn.next();!ln.done;ln=sn.next()){var cn=ln.value.stream.segmentIndex;goog.asserts.assert(cn,"Only loaded streams should be synced"),cn=cn.earliestReference(),cn!=null&&cn.syncTime!=null&&(this.lowestSyncTime_=Math.min(this.lowestSyncTime_,cn.syncTime))}}if(sn=this.lowestSyncTime_,sn!=1/0)for(shaka.log.debug("Syncing HLS streams against base time:",sn),cn=$jscomp.makeIterator(this.uriToStreamInfosMap_.values()),ln=cn.next();!ln.done;ln=cn.next()){ln=ln.value;var dn=ln.stream.segmentIndex;if(dn!=null){var pn=dn.earliestReference();if(pn.syncTime==null)shaka.log.alwaysError("Missing EXT-X-PROGRAM-DATE-TIME for stream",ln.verbatimMediaPlaylistUri,"Expect AV sync issues!");else for(this.offsetStreamInfo_(ln,pn.syncTime-sn-pn.startTime),ln=$jscomp.makeIterator(dn),dn=ln.next();!dn.done;dn=ln.next())dn.value.syncAgainst(sn)}}},shaka.hls.HlsParser.prototype.offsetStreamInfo_=function(sn,ln){sn.maxTimestamp+=ln,goog.asserts.assert(0<=sn.maxTimestamp,"Negative maxTimestamp after adjustment!");for(var cn=this.getMediaSequenceToStartTimeFor_(sn),dn=$jscomp.makeIterator(cn),pn=dn.next();!pn.done;pn=dn.next()){var vn=$jscomp.makeIterator(pn.value);pn=vn.next().value,vn=vn.next().value,cn.set(pn,vn+ln)}shaka.log.debug("Offset",ln,"applied to",sn.verbatimMediaPlaylistUri)},shaka.hls.HlsParser.prototype.parseManifest_=function(sn,ln){var cn=this,dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn,Gn,Dn,Kn,qn,Zn,Yn,Jn,rs,us,as,cs,_s,Es,Qn,ms,$s,Ms,gs,Ss,js,bs,Ts,xs,zs;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Bs){switch(Bs.nextAddress){case 1:if(dn=shaka.hls.HlsParser,pn=shaka.hls.Utils,goog.asserts.assert(cn.masterPlaylistUri_,"Master playlist URI must be set before calling parseManifest_!"),vn=cn.manifestTextParser_.parsePlaylist(sn,cn.masterPlaylistUri_),Sn=pn.filterTagsByName(vn.tags,"EXT-X-DEFINE"),cn.parseMasterVariables_(Sn),En=[],Cn=[],Pn=[],vn.type==shaka.hls.PlaylistType.MEDIA)return _s=cn.config_.hls.mediaPlaylistFullMimeType,vn.segments.length&&(Es=new goog.Uri(vn.segments[0].absoluteUri),Qn=Es.getPath().split(".").pop(),(ms=dn.RAW_FORMATS_TO_MIME_TYPES_[Qn])?_s=ms:Qn!=="ts"&&Qn!=="mp4"&&(dn.AUDIO_EXTENSIONS_TO_MIME_TYPES_[Qn]?(ms=dn.AUDIO_EXTENSIONS_TO_MIME_TYPES_[Qn],$s=cn.config_.hls.defaultAudioCodec,_s=ms+'; codecs="'+$s+'"'):dn.VIDEO_EXTENSIONS_TO_MIME_TYPES_[Qn]&&(ms=dn.VIDEO_EXTENSIONS_TO_MIME_TYPES_[Qn],Ms=cn.config_.hls.defaultVideoCodec,_s=ms+'; codecs="'+Ms+'"'))),gs=shaka.util.MimeUtils.getBasicType(_s),Ss=gs.split("/")[0],js=shaka.util.MimeUtils.getCodecs(_s),bs=new Map,Bs.yield(cn.convertParsedPlaylistIntoStreamInfo_(vn,ln,ln,js,Ss,"",!0,"Media Playlist",null,bs,null,!1,!1,gs),5);for(Rn=pn.filterTagsByName(vn.tags,"EXT-X-MEDIA"),Ln=pn.filterTagsByName(vn.tags,"EXT-X-STREAM-INF"),Fn=pn.filterTagsByName(vn.tags,"EXT-X-IMAGE-STREAM-INF"),Gn=pn.filterTagsByName(vn.tags,"EXT-X-SESSION-KEY"),cn.parseCodecs_(Ln),Dn=pn.filterTagsByName(vn.tags,"EXT-X-SESSION-DATA"),Kn=$jscomp.makeIterator(Dn),qn=Kn.next();!qn.done;qn=Kn.next())Zn=qn.value,Yn=Zn.getAttributeValue("DATA-ID"),Jn=Zn.getAttributeValue("URI"),rs=Zn.getAttributeValue("LANGUAGE"),us=Zn.getAttributeValue("VALUE"),as=new Map().set("id",Yn),Jn&&as.set("uri",shaka.hls.Utils.constructAbsoluteUri(cn.masterPlaylistUri_,Jn)),rs&&as.set("language",rs),us&&as.set("value",us),cs=new shaka.util.FakeEvent("sessiondata",as),cn.playerInterface_&&cn.playerInterface_.onEvent(cs);return cn.createStreamInfosFromMediaTags_(Rn),cn.parseClosedCaptions_(Rn),En=cn.createVariantsForTags_(Ln,Gn),Cn=cn.parseTexts_(Rn),Bs.yield(cn.parseImages_(Fn),4);case 4:Pn=Bs.yieldResult,Bs.jumpTo(3);break;case 5:Ts=Bs.yieldResult,cn.uriToStreamInfosMap_.set(ln,Ts),En.push({id:0,language:"und",disabledUntilTime:0,primary:!0,audio:Ss=="audio"?Ts.stream:null,video:Ss=="video"?Ts.stream:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});case 3:if(!cn.playerInterface_)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.OPERATION_ABORTED);goog.asserts.assert(cn.presentationTimeline_==null,"Presentation timeline created early!"),cn.presentationTimeline_=new shaka.media.PresentationTimeline(null,0),cn.presentationTimeline_.setStatic(!0),vn.type==shaka.hls.PlaylistType.MEDIA&&(cn.isLive_()&&(cn.changePresentationTimelineToLive_(),xs=cn.updatePlaylistDelay_,cn.updatePlaylistTimer_.tickAfter(xs)),zs=Array.from(cn.uriToStreamInfosMap_.values()),cn.finalizeStreams_(zs),cn.determineDuration_()),cn.manifest_={presentationTimeline:cn.presentationTimeline_,variants:En,textStreams:Cn,imageStreams:Pn,offlineSessionIds:[],minBufferTime:0,sequenceMode:!0},cn.playerInterface_.makeTextStreamsForClosedCaptions(cn.manifest_),Bs.jumpToEnd()}})},shaka.hls.HlsParser.prototype.determineDuration_=function(){if(goog.asserts.assert(this.presentationTimeline_,"Presentation timeline not created!"),this.isLive_()){if(this.updatePlaylistDelay_=this.minTargetDuration_,this.presentationType_==shaka.hls.HlsParser.PresentationType_.LIVE){var sn=this.getMinDuration_();this.config_.hls.useSafariBehaviorForLive&&(sn=this.presentationTimeline_.getDelay()),isNaN(this.config_.availabilityWindowOverride)||(sn=this.config_.availabilityWindowOverride),this.presentationTimeline_.setSegmentAvailabilityDuration(sn)}}else this.presentationTimeline_.setDuration(this.getMinDuration_());this.presentationTimeline_.lockStartTime(),goog.asserts.assert(!this.presentationTimeline_.usingPresentationStartTime(),"We should not be using the presentation start time in HLS!")},shaka.hls.HlsParser.prototype.parseMasterVariables_=function(sn){sn=$jscomp.makeIterator(sn);for(var ln=sn.next();!ln.done;ln=sn.next()){var cn=ln.value;ln=cn.getAttributeValue("NAME"),cn=cn.getAttributeValue("VALUE"),ln&&cn&&(this.globalVariables_.has(ln)||this.globalVariables_.set(ln,cn))}},shaka.hls.HlsParser.prototype.parseMediaVariables_=function(sn){var ln=new Map;sn=$jscomp.makeIterator(sn);for(var cn=sn.next();!cn.done;cn=sn.next()){var dn=cn.value;cn=dn.getAttributeValue("NAME");var pn=dn.getAttributeValue("VALUE");dn=dn.getAttributeValue("IMPORT"),cn&&pn&&ln.set(cn,pn),dn&&(cn=this.globalVariables_.get(dn))&&ln.set(dn,cn)}return ln},shaka.hls.HlsParser.prototype.parseCodecs_=function(sn){var ln=shaka.util.ManifestParserUtils.ContentType;sn=$jscomp.makeIterator(sn);for(var cn=sn.next();!cn.done;cn=sn.next()){var dn=cn.value,pn=dn.getAttributeValue("AUDIO");cn=dn.getAttributeValue("VIDEO");var vn=dn.getAttributeValue("SUBTITLES");if(dn=this.getCodecsForVariantTag_(dn),vn){var Sn=shaka.util.ManifestParserUtils.guessCodecsSafe(ln.TEXT,dn);goog.asserts.assert(Sn!=null,"Text codecs should be valid."),this.groupIdToCodecsMap_.set(vn,Sn),shaka.util.ArrayUtils.remove(dn,Sn)}pn&&(vn=shaka.util.ManifestParserUtils.guessCodecsSafe(ln.AUDIO,dn),vn||(vn=this.config_.hls.defaultAudioCodec),this.groupIdToCodecsMap_.set(pn,vn)),cn&&(pn=shaka.util.ManifestParserUtils.guessCodecsSafe(ln.VIDEO,dn),pn||(pn=this.config_.hls.defaultVideoCodec),this.groupIdToCodecsMap_.set(cn,pn))}},shaka.hls.HlsParser.prototype.parseTexts_=function(sn){var ln=this,cn=shaka.hls.Utils.filterTagsByType(sn,"SUBTITLES");sn=cn.map(function(En){if(ln.config_.disableText)return null;try{return ln.createStreamInfoFromMediaTag_(En).stream}catch(Cn){if(ln.config_.hls.ignoreTextStreamFailures)return null;throw Cn}});var dn=shaka.util.ManifestParserUtils.ContentType.TEXT;cn=$jscomp.makeIterator(cn);for(var pn=cn.next();!pn.done;pn=cn.next()){var vn=pn.value.getRequiredAttrValue("GROUP-ID");if((pn=this.groupIdToCodecsMap_.get(vn))&&(vn=this.groupIdToStreamInfosMap_.get(vn))){vn=$jscomp.makeIterator(vn);for(var Sn=vn.next();!Sn.done;Sn=vn.next())Sn=Sn.value,Sn.stream.codecs=pn,Sn.stream.mimeType=this.guessMimeTypeBeforeLoading_(dn,pn)||this.guessMimeTypeFallback_(dn)}}return sn.filter(function(En){return En})},shaka.hls.HlsParser.prototype.parseImages_=function(sn){var ln=this,cn,dn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(pn){return pn.nextAddress==1?(cn=sn.map(function(vn){var Sn,En;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Cn){if(Cn.nextAddress==1)return ln.config_.disableThumbnails?Cn.return(null):(Cn.setCatchFinallyBlocks(2),Cn.yield(ln.createStreamInfoFromImageTag_(vn),4));if(Cn.nextAddress!=2)return Sn=Cn.yieldResult,Cn.return(Sn.stream);if(En=Cn.enterCatchBlock(),ln.config_.hls.ignoreImageStreamFailures)return Cn.return(null);throw En})}),pn.yield(Promise.all(cn),2)):(dn=pn.yieldResult,pn.return(dn.filter(function(vn){return vn})))})},shaka.hls.HlsParser.prototype.createStreamInfosFromMediaTags_=function(sn){sn=sn.filter(function(cn){var dn=cn.getAttributeValue("URI")||"";return cn.getAttributeValue("TYPE")!="SUBTITLES"&&dn!=""}),sn=$jscomp.makeIterator(sn);for(var ln=sn.next();!ln.done;ln=sn.next())this.createStreamInfoFromMediaTag_(ln.value)},shaka.hls.HlsParser.prototype.createVariantsForTags_=function(sn,ln){var cn=this,dn=[],pn=new Set;if(0<ln.length){ln=$jscomp.makeIterator(ln);for(var vn=ln.next();!vn.done;vn=ln.next()){vn=vn.value;var Sn=vn.getRequiredAttrValue("METHOD");if(Sn!="NONE"&&Sn!="AES-128"){Sn=vn.getAttributeValue("KEYFORMAT")||"identity";var En=shaka.hls.HlsParser.KEYFORMATS_TO_DRM_PARSERS_[Sn];if(vn=En?En(vn,""):null){if(vn.keyIds)for(Sn=$jscomp.makeIterator(vn.keyIds),En=Sn.next();!En.done;En=Sn.next())pn.add(En.value);dn.push(vn)}else shaka.log.warning("Unsupported HLS KEYFORMAT",Sn)}}}return sn=sn.map(function(Cn){var Pn=Cn.getAttributeValue("FRAME-RATE"),Rn=Number(Cn.getAttributeValue("AVERAGE-BANDWIDTH"))||Number(Cn.getRequiredAttrValue("BANDWIDTH")),Ln=Cn.getAttributeValue("RESOLUTION"),Fn=$jscomp.makeIterator(Ln?Ln.split("x"):[null,null]),Gn=Fn.next().value;Fn=Fn.next().value;var Dn=Cn.getAttributeValue("VIDEO-RANGE");return Cn=cn.createStreamInfosForVariantTag_(Cn,Ln,Pn),goog.asserts.assert(Cn.audio.length||Cn.video.length,"We should have created a stream!"),cn.createVariants_(Cn.audio,Cn.video,Rn,Gn,Fn,Pn,Dn,dn,pn)}).reduce(shaka.util.Functional.collapseArrays,[]),sn=sn.filter(function(Cn){return Cn!=null})},shaka.hls.HlsParser.prototype.createStreamInfosForVariantTag_=function(sn,ln,cn){cn=shaka.util.ManifestParserUtils.ContentType,ln=this.getCodecsForVariantTag_(sn);var dn=sn.getAttributeValue("AUDIO"),pn=sn.getAttributeValue("VIDEO");goog.asserts.assert(dn==null||pn==null,"Unexpected: both video and audio described by media tags!");var vn=dn||pn;vn=vn&&this.groupIdToStreamInfosMap_.has(vn)?this.groupIdToStreamInfosMap_.get(vn):[],dn={audio:dn?vn:[],video:pn?vn:[]},shaka.log.debug("Guessing stream type for",sn.toString()),pn=!1;var Sn=sn.getRequiredAttrValue("URI"),En=dn.audio.find(function(Rn){return Rn&&Rn.verbatimMediaPlaylistUri==Sn}),Cn=shaka.util.ManifestParserUtils.guessCodecsSafe(cn.VIDEO,ln),Pn=shaka.util.ManifestParserUtils.guessCodecsSafe(cn.AUDIO,ln);return Pn&&!Cn?(cn=cn.AUDIO,shaka.log.debug("Guessing audio-only.")):!vn.length&&Pn&&Cn?(shaka.log.debug("Guessing multiplexed audio+video."),cn=cn.VIDEO,ln=[[Cn,Pn].join()]):dn.audio.length&&En?(shaka.log.debug("Guessing audio-only."),cn=cn.AUDIO,pn=!0):dn.video.length&&!dn.audio.length?(shaka.log.debug("Guessing audio-only."),cn=cn.AUDIO):(shaka.log.debug("Guessing video-only."),cn=cn.VIDEO),pn||(sn=this.createStreamInfoFromVariantTag_(sn,ln,cn),dn[sn.stream.type]=[sn]),dn},shaka.hls.HlsParser.prototype.getCodecsForVariantTag_=function(sn){var ln=[];this.config_.disableVideo||ln.push(this.config_.hls.defaultVideoCodec),this.config_.disableAudio||ln.push(this.config_.hls.defaultAudioCodec),ln=ln.join(",");var cn=sn.getAttributeValue("CODECS",ln).split(/\s*,\s*/);sn=new Set,ln=[],cn=$jscomp.makeIterator(cn);for(var dn=cn.next();!dn.done;dn=cn.next()){dn=dn.value;var pn=shaka.util.MimeUtils.getCodecBase(dn);sn.has(pn)?shaka.log.debug("Ignoring duplicate codec"):(ln.push(dn),sn.add(pn))}return ln},shaka.hls.HlsParser.prototype.getChannelsCount_=function(sn){return sn=sn.getAttributeValue("CHANNELS"),sn?(sn=sn.split("/")[0],parseInt(sn,10)):null},shaka.hls.HlsParser.prototype.isSpatialAudio_=function(sn){return(sn=sn.getAttributeValue("CHANNELS"))?sn.includes("/JOC"):!1},shaka.hls.HlsParser.prototype.getClosedCaptions_=function(sn,ln){var cn=shaka.util.ManifestParserUtils.ContentType;return sn=sn.getAttributeValue("CLOSED-CAPTIONS"),ln==cn.VIDEO&&sn&&sn!="NONE"?this.groupIdToClosedCaptionsMap_.get(sn):null},shaka.hls.HlsParser.prototype.getLanguage_=function(sn){var ln=shaka.util.LanguageUtils;return sn=sn.getAttributeValue("LANGUAGE")||"und",ln.normalize(sn)},shaka.hls.HlsParser.prototype.getType_=function(sn){return sn=sn.getRequiredAttrValue("TYPE").toLowerCase(),sn=="subtitles"&&(sn=shaka.util.ManifestParserUtils.ContentType.TEXT),sn},shaka.hls.HlsParser.prototype.createVariants_=function(sn,ln,cn,dn,pn,vn,Sn,En,Cn){for(var Pn=shaka.util.ManifestParserUtils.ContentType,Rn=shaka.media.DrmEngine,Ln=$jscomp.makeIterator(ln),Fn=Ln.next();!Fn.done;Fn=Ln.next())this.addVideoAttributes_(Fn.value.stream,dn,pn,vn,Sn);for(dn=this.config_.disableAudio,(!sn.length||dn)&&(sn=[null]),dn=this.config_.disableVideo,(!ln.length||dn)&&(ln=[null]),dn=[],sn=$jscomp.makeIterator(sn),pn=sn.next();!pn.done;pn=sn.next())for(pn=pn.value,vn=$jscomp.makeIterator(ln),Sn=vn.next();!Sn.done;Sn=vn.next()){var Gn=Sn.value;(Sn=pn?pn.stream:null)&&(Sn.drmInfos=En,Sn.keyIds=Cn),(Ln=Gn?Gn.stream:null)&&(Ln.drmInfos=En,Ln.keyIds=Cn),Fn=pn?pn.stream.drmInfos:null;var Dn=Gn?Gn.stream.drmInfos:null;Gn=(Gn?Gn.verbatimMediaPlaylistUri:"")+" - "+(pn?pn.verbatimMediaPlaylistUri:""),Sn&&Ln&&!Rn.areDrmCompatible(Fn,Dn)?shaka.log.warning("Incompatible DRM info in HLS variant.  Skipping."):this.variantUriSet_.has(Gn)?shaka.log.debug("Skipping variant which only differs in text streams."):(goog.asserts.assert(!Sn||Sn.type==Pn.AUDIO,"Audio parameter mismatch!"),goog.asserts.assert(!Ln||Ln.type==Pn.VIDEO,"Video parameter mismatch!"),Sn={id:this.globalId_++,language:Sn?Sn.language:"und",primary:!!Sn&&Sn.primary||!!Ln&&Ln.primary,audio:Sn,video:Ln,bandwidth:cn,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},dn.push(Sn),this.variantUriSet_.add(Gn))}return dn},shaka.hls.HlsParser.prototype.parseClosedCaptions_=function(sn){sn=shaka.hls.Utils.filterTagsByType(sn,"CLOSED-CAPTIONS"),sn=$jscomp.makeIterator(sn);for(var ln=sn.next();!ln.done;ln=sn.next()){var cn=ln.value;goog.asserts.assert(cn.name=="EXT-X-MEDIA","Should only be called on media tags!"),ln=this.getLanguage_(cn);var dn=cn.getRequiredAttrValue("GROUP-ID");cn=cn.getRequiredAttrValue("INSTREAM-ID"),this.groupIdToClosedCaptionsMap_.get(dn)||this.groupIdToClosedCaptionsMap_.set(dn,new Map),this.groupIdToClosedCaptionsMap_.get(dn).set(cn,ln)}},shaka.hls.HlsParser.prototype.createStreamInfoFromMediaTag_=function(sn){goog.asserts.assert(sn.name=="EXT-X-MEDIA","Should only be called on media tags!");var ln=sn.getRequiredAttrValue("GROUP-ID"),cn="",dn=this.getType_(sn);dn==shaka.util.ManifestParserUtils.ContentType.TEXT?cn=sn.getAttributeValue("CODECS")||"":ln&&this.groupIdToCodecsMap_.has(ln)&&(cn=this.groupIdToCodecsMap_.get(ln));var pn=this.variableSubstitution_(sn.getRequiredAttrValue("URI"),this.globalVariables_);if(this.uriToStreamInfosMap_.has(pn))return this.uriToStreamInfosMap_.get(pn);var vn=this.getLanguage_(sn),Sn=sn.getAttributeValue("NAME"),En=sn.getAttributeValue("DEFAULT")=="YES",Cn=dn=="audio"?this.getChannelsCount_(sn):null,Pn=dn=="audio"?this.isSpatialAudio_(sn):!1,Rn=sn.getAttributeValue("CHARACTERISTICS");return sn=sn.getAttributeValue("FORCED"),cn=this.createStreamInfo_(pn,cn,dn,vn,En,Sn,Cn,null,Rn,sn=="YES",Pn),this.groupIdToStreamInfosMap_.has(ln)?this.groupIdToStreamInfosMap_.get(ln).push(cn):this.groupIdToStreamInfosMap_.set(ln,[cn]),this.uriToStreamInfosMap_.has(pn)?this.uriToStreamInfosMap_.get(pn):(this.uriToStreamInfosMap_.set(pn,cn),cn)},shaka.hls.HlsParser.prototype.createStreamInfoFromImageTag_=function(sn){var ln=this,cn,dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Gn){return Gn.nextAddress==1?(goog.asserts.assert(sn.name=="EXT-X-IMAGE-STREAM-INF","Should only be called on image tags!"),cn=shaka.util.ManifestParserUtils.ContentType.IMAGE,dn=ln.variableSubstitution_(sn.getRequiredAttrValue("URI"),ln.globalVariables_),pn=sn.getAttributeValue("CODECS","jpeg")||"",ln.uriToStreamInfosMap_.has(dn)?Gn.return(ln.uriToStreamInfosMap_.get(dn)):(vn=ln.getLanguage_(sn),Sn=sn.getAttributeValue("NAME"),En=sn.getAttributeValue("CHARACTERISTICS"),Cn=ln.createStreamInfo_(dn,pn,cn,vn,!1,Sn,null,null,En,!1,!1),ln.uriToStreamInfosMap_.has(dn)?Gn.return(ln.uriToStreamInfosMap_.get(dn)):(Pn=sn.getAttributeValue("RESOLUTION"))?Gn.yield(Cn.stream.createSegmentIndex(),3):Gn.jumpTo(2))):(Gn.nextAddress!=2&&(Rn=Cn.stream.segmentIndex.get(0),Ln=Rn.getTilesLayout())&&(Cn.stream.width=Number(Pn.split("x")[0])*Number(Ln.split("x")[0]),Cn.stream.height=Number(Pn.split("x")[1])*Number(Ln.split("x")[1])),(Fn=sn.getAttributeValue("BANDWIDTH"))&&(Cn.stream.bandwidth=Number(Fn)),ln.uriToStreamInfosMap_.set(dn,Cn),Gn.return(Cn))})},shaka.hls.HlsParser.prototype.createStreamInfoFromVariantTag_=function(sn,ln,cn){goog.asserts.assert(sn.name=="EXT-X-STREAM-INF","Should only be called on variant tags!");var dn=this.variableSubstitution_(sn.getRequiredAttrValue("URI"),this.globalVariables_);return this.uriToStreamInfosMap_.has(dn)?this.uriToStreamInfosMap_.get(dn):(sn=this.getClosedCaptions_(sn,cn),ln=shaka.util.ManifestParserUtils.guessCodecs(cn,ln),cn=this.createStreamInfo_(dn,ln,cn,"und",!1,null,null,sn,null,!1,!1),this.uriToStreamInfosMap_.has(dn)?this.uriToStreamInfosMap_.get(dn):(this.uriToStreamInfosMap_.set(dn,cn),cn))},shaka.hls.HlsParser.prototype.createStreamInfo_=function(sn,ln,cn,dn,pn,vn,Sn,En,Cn,Pn,Rn){var Ln=this,Fn=shaka.hls.Utils.constructAbsoluteUri(this.masterPlaylistUri_,sn),Gn=this.makeStreamObject_(ln,cn,dn,pn,vn,Sn,En,Cn,Pn,Rn);shaka.media.MediaSourceEngine.RAW_FORMATS.includes(Gn.mimeType)&&(Gn.codecs="");var Dn={stream:Gn,type:cn,verbatimMediaPlaylistUri:sn,absoluteMediaPlaylistUri:Fn,maxTimestamp:0,mediaSequenceToStartTime:new Map,canSkipSegments:!1,hasEndList:!1,firstSequenceNumber:-1,loadedOnce:!1},Kn=function(Yn){var Jn,rs,us,as,cs,_s,Es,Qn,ms,$s,Ms,gs,Ss,js;return $jscomp.asyncExecutePromiseGeneratorProgram(function(bs){if(bs.nextAddress==1)return bs.yield(Ln.requestManifest_(Dn.absoluteMediaPlaylistUri),2);if(bs.nextAddress!=3)return Jn=bs.yieldResult,Yn.aborted?bs.return():(rs=Jn.uri,us=Ln.manifestTextParser_.parsePlaylist(Jn.data,rs),as=Ln.isLive_(),bs.yield(Ln.convertParsedPlaylistIntoStreamInfo_(us,sn,rs,ln,cn,dn,pn,vn,Sn,En,Cn,Pn,Rn),3));if(cs=bs.yieldResult,Yn.aborted)return bs.return();if(_s=cs.stream,Ln.isLive_()&&!as&&Ln.changePresentationTimelineToLive_(),Dn.absoluteMediaPlaylistUri=rs,Dn.maxTimestamp=cs.maxTimestamp,Dn.canSkipSegments=cs.canSkipSegments,Dn.hasEndList=cs.hasEndList,Dn.mediaSequenceToStartTime=cs.mediaSequenceToStartTime,Dn.loadedOnce=!0,Gn.segmentIndex=_s.segmentIndex,Gn.encrypted=_s.encrypted,Gn.drmInfos=_s.drmInfos,Gn.keyIds=_s.keyIds,Gn.mimeType=_s.mimeType,shaka.media.MediaSourceEngine.RAW_FORMATS.includes(Gn.mimeType)&&(Gn.codecs=""),Gn.drmInfos.length&&Ln.playerInterface_.newDrmInfo(Gn),Es=shaka.util.ManifestParserUtils.ContentType,cn==Es.VIDEO||cn==Es.AUDIO)for(Qn=$jscomp.makeIterator(Ln.uriToStreamInfosMap_.values()),ms=Qn.next();!ms.done;ms=Qn.next())$s=ms.value,$s.loadedOnce||$s.type!=cn||($s.stream.mimeType=_s.mimeType,shaka.media.MediaSourceEngine.RAW_FORMATS.includes($s.stream.mimeType)&&($s.stream.codecs=""));cn==Es.TEXT&&(Ms=_s.segmentIndex.get(0))&&Ms.initSegmentReference&&(Gn.mimeType="application/mp4"),Ln.hasEnoughInfoToFinalizeStreams_()&&(Ln.streamsFinalized_?Ln.finalizeStreams_([Dn]):(Ln.streamsFinalized_=!0,gs=Array.from(Ln.uriToStreamInfosMap_.values()),Ss=gs.filter(function(Ts){return Ts.stream.segmentIndex}),Ln.finalizeStreams_(Ss),Ln.determineDuration_(),js=Ln.updatePlaylistDelay_,0<js&&Ln.updatePlaylistTimer_.tickAfter(js))),bs.jumpToEnd()})},qn=null,Zn=new AbortController;return Gn.createSegmentIndex=function(){return qn||(Zn=new AbortController,qn=new Promise(function(Yn){Yn(Kn(Zn.signal))}))},Gn.closeSegmentIndex=function(){qn&&!Gn.segmentIndex&&Zn.abort(),Gn.segmentIndex&&(Gn.segmentIndex.release(),Gn.segmentIndex=null),qn=null},Dn},shaka.hls.HlsParser.prototype.getMinDuration_=function(){for(var sn=1/0,ln=$jscomp.makeIterator(this.uriToStreamInfosMap_.values()),cn=ln.next();!cn.done;cn=ln.next())cn=cn.value,cn.stream.segmentIndex&&cn.stream.type!="text"&&(sn=Math.min(sn,cn.maxTimestamp));return sn},shaka.hls.HlsParser.prototype.notifySegmentsForStreams_=function(sn){var ln=[];sn=$jscomp.makeIterator(sn);for(var cn=sn.next();!cn.done;cn=sn.next())cn=cn.value,cn.segmentIndex&&cn.segmentIndex.forEachTopLevelReference(function(dn){ln.push(dn)});this.presentationTimeline_.notifySegments(ln)},shaka.hls.HlsParser.prototype.finalizeStreams_=function(sn){if(!this.isLive_())for(var ln=this.getMinDuration_(),cn=$jscomp.makeIterator(sn),dn=cn.next();!dn.done;dn=cn.next())dn.value.stream.segmentIndex.fit(0,ln);for(ln=$jscomp.makeIterator(sn),dn=ln.next();!dn.done;dn=ln.next())dn=dn.value.stream,shaka.media.MediaSourceEngine.RAW_FORMATS.includes(dn.mimeType)&&(dn.codecs="");this.notifySegmentsForStreams_(sn.map(function(pn){return pn.stream})),this.config_.hls.ignoreManifestProgramDateTime?this.syncStreamsWithSequenceNumber_(sn):this.syncStreamsWithProgramDateTime_(sn)},shaka.hls.HlsParser.prototype.hasEnoughInfoToFinalizeStreams_=function(){if(!this.manifest_)return!1;for(var sn=[],ln=[],cn=$jscomp.makeIterator(this.manifest_.variants),dn=cn.next();!dn.done;dn=cn.next())dn=dn.value,dn.video&&sn.push(dn.video),dn.audio&&ln.push(dn.audio);return!(0<sn.length&&!sn.some(function(pn){return pn.segmentIndex})||0<ln.length&&!ln.some(function(pn){return pn.segmentIndex}))},shaka.hls.HlsParser.prototype.convertParsedPlaylistIntoStreamInfo_=function(sn,ln,cn,dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn,Gn){var Dn=this,Kn,qn,Zn,Yn,Jn,rs,us,as,cs,_s,Es,Qn,ms,$s,Ms;return $jscomp.asyncExecutePromiseGeneratorProgram(function(gs){if(gs.nextAddress==1){if(sn.type!=shaka.hls.PlaylistType.MEDIA)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_INVALID_PLAYLIST_HIERARCHY);return Kn=shaka.hls.Utils.filterTagsByName(sn.tags,"EXT-X-DEFINE"),qn=Dn.parseMediaVariables_(Kn),goog.asserts.assert(sn.segments!=null,"Media playlist should have segments!"),Dn.determinePresentationType_(sn),Gn?gs.jumpTo(2):gs.yield(Dn.guessMimeType_(pn,dn,sn,qn),3)}if(gs.nextAddress!=2&&(Gn=gs.yieldResult),Zn=Dn.parseDrmInfo_(sn,Gn),Yn=Zn.drmInfos,Jn=Zn.keyIds,rs=Zn.encrypted,us=Zn.aesEncrypted,rs&&!Yn.length&&!us)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_KEYFORMATS_NOT_SUPPORTED);return as=Dn.isLive_()?Dn.mediaSequenceToStartTimeByType_.get(pn):new Map,cs=Dn.lowLatencyMode_,_s=Dn.createSegments_(ln,sn,pn,Gn,as,qn),cs!=Dn.lowLatencyMode_&&Dn.determinePresentationType_(sn),Es=_s[_s.length-1].endTime,Qn=new shaka.media.SegmentIndex(_s),$s=(ms=shaka.hls.Utils.getFirstTagWithName(sn.tags,"EXT-X-SERVER-CONTROL"))?ms.getAttribute("CAN-SKIP-UNTIL")!=null:!1,Ms=Dn.makeStreamObject_(dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn),Ms.segmentIndex=Qn,Ms.encrypted=rs,Ms.drmInfos=Yn,Ms.keyIds=Jn,Ms.mimeType=Gn,gs.return({stream:Ms,type:pn,verbatimMediaPlaylistUri:ln,absoluteMediaPlaylistUri:cn,maxTimestamp:Es,canSkipSegments:$s,hasEndList:!1,firstSequenceNumber:-1,mediaSequenceToStartTime:as,loadedOnce:!1})})},shaka.hls.HlsParser.prototype.makeStreamObject_=function(sn,ln,cn,dn,pn,vn,Sn,En,Cn,Pn){var Rn=this.guessMimeTypeBeforeLoading_(ln,sn)||this.guessMimeTypeFallback_(ln);return{id:this.globalId_++,originalId:pn,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:Rn,codecs:sn,kind:ln==shaka.util.ManifestParserUtils.ContentType.TEXT?shaka.util.ManifestParserUtils.TextStreamKind.SUBTITLE:void 0,encrypted:!1,drmInfos:[],keyIds:new Set,language:cn,label:pn,type:ln,primary:dn,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:En?En.split(","):[],forced:Cn,channelsCount:vn,audioSamplingRate:null,spatialAudio:Pn,closedCaptions:Sn,hdr:void 0,tilesLayout:void 0}},shaka.hls.HlsParser.prototype.parseDrmInfo_=function(sn,ln){var cn=[];if(sn.segments){sn=$jscomp.makeIterator(sn.segments);for(var dn=sn.next();!dn.done;dn=sn.next())dn=shaka.hls.Utils.filterTagsByName(dn.value.tags,"EXT-X-KEY"),cn.push.apply(cn,$jscomp.arrayFromIterable(dn))}dn=sn=!1;var pn=[],vn=new Set;cn=$jscomp.makeIterator(cn);for(var Sn=cn.next();!Sn.done;Sn=cn.next()){Sn=Sn.value;var En=Sn.getRequiredAttrValue("METHOD");if(En!="NONE")if(sn=!0,En=="AES-128")dn=!0;else{En=Sn.getAttributeValue("KEYFORMAT")||"identity";var Cn=shaka.hls.HlsParser.KEYFORMATS_TO_DRM_PARSERS_[En];if(Sn=Cn?Cn(Sn,ln):null){if(Sn.keyIds)for(En=$jscomp.makeIterator(Sn.keyIds),Cn=En.next();!Cn.done;Cn=En.next())vn.add(Cn.value);pn.push(Sn)}else shaka.log.warning("Unsupported HLS KEYFORMAT",En)}}return{drmInfos:pn,keyIds:vn,encrypted:sn,aesEncrypted:dn}},shaka.hls.HlsParser.prototype.parseAES128DrmTag_=function(sn,ln){var cn=this;if(!window.crypto||!window.crypto.subtle)throw shaka.log.alwaysWarn("Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.NO_WEB_CRYPTO_API);var dn=0,pn=sn.getAttributeValue("IV","");if(pn){var vn=shaka.util.Uint8ArrayUtils.fromHex(pn.substr(2));if(vn.byteLength!=16)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_AES_128_INVALID_IV_LENGTH)}else dn=shaka.hls.Utils.getFirstTagWithNameAsNumber(ln.tags,"EXT-X-MEDIA-SEQUENCE",0);sn=shaka.hls.Utils.constructAbsoluteUri(ln.absoluteUri,sn.getRequiredAttrValue("URI"));var Sn=shaka.net.NetworkingEngine.RequestType.KEY,En=shaka.net.NetworkingEngine.makeRequest([sn],this.config_.retryParameters),Cn={method:"AES-128",iv:vn,firstMediaSequenceNumber:dn,fetchKey:function(){var Pn,Rn,Ln;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Fn){if(Fn.nextAddress==1)return Fn.yield(cn.makeNetworkRequest_(En,Sn),2);if(Fn.nextAddress!=3){if(Pn=Fn.yieldResult,!Pn.data||Pn.data.byteLength!=16)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_AES_128_INVALID_KEY_LENGTH);return Rn={name:"AES-CBC"},Ln=Cn,Fn.yield(window.crypto.subtle.importKey("raw",Pn.data,Rn,!0,["decrypt"]),3)}Ln.cryptoKey=Fn.yieldResult,Cn.fetchKey=void 0,Fn.jumpToEnd()})}};return Cn},shaka.hls.HlsParser.prototype.determinePresentationType_=function(sn){var ln=shaka.hls.HlsParser.PresentationType_,cn=shaka.hls.Utils.getFirstTagWithName(sn.tags,"EXT-X-PLAYLIST-TYPE"),dn=shaka.hls.Utils.getFirstTagWithName(sn.tags,"EXT-X-ENDLIST");dn=cn&&cn.value=="VOD"||dn,cn=cn&&cn.value=="EVENT"&&!dn,cn=!dn&&!cn,dn?this.setPresentationType_(ln.VOD):(cn?this.setPresentationType_(ln.LIVE):this.setPresentationType_(ln.EVENT),ln=this.getRequiredTag_(sn.tags,"EXT-X-TARGETDURATION"),ln=Number(ln.value),dn=shaka.hls.Utils.getFirstTagWithName(sn.tags,"EXT-X-PART-INF"),this.lowLatencyMode_&&dn?(this.partialTargetDuration_=Number(dn.getRequiredAttrValue("PART-TARGET")),this.minTargetDuration_=Math.min(this.partialTargetDuration_,this.minTargetDuration_),this.lowLatencyPresentationDelay_=(sn=shaka.hls.Utils.getFirstTagWithName(sn.tags,"EXT-X-SERVER-CONTROL"))?Number(sn.getRequiredAttrValue("PART-HOLD-BACK")):0):this.minTargetDuration_=Math.min(ln,this.minTargetDuration_),this.maxTargetDuration_=Math.max(ln,this.maxTargetDuration_))},shaka.hls.HlsParser.prototype.changePresentationTimelineToLive_=function(){var sn=this.config_.defaultPresentationDelay?this.config_.defaultPresentationDelay:this.lowLatencyPresentationDelay_?this.lowLatencyPresentationDelay_:this.maxTargetDuration_*this.config_.hls.liveSegmentsDelay;this.presentationTimeline_.setPresentationStartTime(0),this.presentationTimeline_.setDelay(sn),this.presentationTimeline_.setStatic(!1)},shaka.hls.HlsParser.prototype.getInitSegmentReference_=function(sn,ln,cn){if(ln=shaka.hls.Utils.getFirstTagWithName(ln,"EXT-X-MAP"),!ln)return null;var dn=ln.getRequiredAttrValue("URI");return cn=this.variableSubstitution_(shaka.hls.Utils.constructAbsoluteUri(sn,dn),cn),sn=[cn,ln.getAttributeValue("BYTERANGE","")].join("-"),this.mapTagToInitSegmentRefMap_.has(sn)||(ln=this.createInitSegmentReference_(cn,ln),this.mapTagToInitSegmentRefMap_.set(sn,ln)),this.mapTagToInitSegmentRefMap_.get(sn)},shaka.hls.HlsParser.prototype.createInitSegmentReference_=function(sn,ln){var cn=0,dn=null;return(ln=ln.getAttributeValue("BYTERANGE"))&&(cn=ln.split("@"),dn=Number(cn[0]),cn=Number(cn[1]),dn=cn+dn-1),new shaka.media.InitSegmentReference(function(){return[sn]},cn,dn)},shaka.hls.HlsParser.prototype.createSegmentReference_=function(sn,ln,cn,dn,pn,vn,Sn,En,Cn){var Pn=cn.tags,Rn=this.variableSubstitution_(cn.absoluteUri,pn),Ln=shaka.hls.Utils.getFirstTagWithName(Pn,"EXTINF"),Fn=0;pn=0;var Gn=null;cn.partialSegments.length&&!this.lowLatencyMode_&&shaka.log.alwaysWarn("Low-latency HLS live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details.");var Dn=null;if(!this.config_.hls.ignoreManifestProgramDateTime){var Kn=shaka.hls.Utils.getFirstTagWithName(Pn,"EXT-X-PROGRAM-DATE-TIME");Kn&&Kn.value&&(Dn=shaka.util.XmlUtils.parseDate(Kn.value),goog.asserts.assert(Dn!=null,"EXT-X-PROGRAM-DATE-TIME format not valid"))}if(Kn=shaka.media.SegmentReference.Status.AVAILABLE,shaka.hls.Utils.getFirstTagWithName(Pn,"EXT-X-GAP")&&(Kn=shaka.media.SegmentReference.Status.MISSING),!Ln){if(cn.partialSegments.length==0)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_REQUIRED_TAG_MISSING,"EXTINF");if(!this.lowLatencyMode_)return null}var qn=[];if(this.lowLatencyMode_){Fn={};for(var Zn=0;Zn<cn.partialSegments.length;Fn={$jscomp$loop$prop$pAbsoluteUri$729:Fn.$jscomp$loop$prop$pAbsoluteUri$729},Zn++){var Yn=cn.partialSegments[Zn],Jn=Zn==0?ln:qn[qn.length-1],rs=Zn==0?dn:Jn.endTime,us=Number(Yn.getAttributeValue("DURATION"))||this.partialTargetDuration_;if(us){us=rs+us;var as=0,cs=null;Yn.name=="EXT-X-PRELOAD-HINT"?as=(as=Yn.getAttributeValue("BYTERANGE-START"))?Number(as):0:(as=Yn.getAttributeValue("BYTERANGE"),cs=$jscomp.makeIterator(this.parseByteRange_(Jn,as)),as=cs.next().value,cs=cs.next().value),(Jn=Yn.getAttributeValue("URI"))&&(Fn.$jscomp$loop$prop$pAbsoluteUri$729=shaka.hls.Utils.constructAbsoluteUri(vn,Jn),Jn=shaka.media.SegmentReference.Status.AVAILABLE,Yn.getAttributeValue("GAP")=="YES"&&(Jn=shaka.media.SegmentReference.Status.MISSING),Yn=new shaka.media.SegmentReference(rs,us,function(_s){return function(){return[_s.$jscomp$loop$prop$pAbsoluteUri$729]}}(Fn),as,cs,sn,0,0,1/0,[],"",null,null,Jn),qn.push(Yn))}}}return Ln?(cn=Ln.value.split(","),Fn=dn+Number(cn[0])):Fn=qn[qn.length-1].endTime,(cn=shaka.hls.Utils.getFirstTagWithName(Pn,"EXT-X-BYTERANGE"))?(Gn=$jscomp.makeIterator(this.parseByteRange_(ln,cn.value)),pn=Gn.next().value,Gn=Gn.next().value):qn.length&&(pn=qn[0].startByte,Gn=qn[qn.length-1].endByte),ln="",cn=null,Sn==shaka.util.ManifestParserUtils.ContentType.IMAGE&&(ln="1x1",Sn=shaka.hls.Utils.getFirstTagWithName(Pn,"EXT-X-TILES"))&&(ln=Sn.getRequiredAttrValue("LAYOUT"),(Sn=Sn.getAttributeValue("DURATION"))&&(cn=Number(Sn))),new shaka.media.SegmentReference(dn,Fn,function(){return Rn.length?[Rn]:[]},pn,Gn,sn,En,0,1/0,qn,ln,cn,Dn,Kn,Cn)},shaka.hls.HlsParser.prototype.parseByteRange_=function(sn,ln){var cn=0,dn=null;return ln&&(cn=ln.split("@"),ln=Number(cn[0]),cn[1]?cn=Number(cn[1]):(goog.asserts.assert(sn,"Cannot refer back to previous HLS segment!"),cn=sn.endByte+1),dn=cn+ln-1),[cn,dn]},shaka.hls.HlsParser.prototype.createSegments_=function(sn,ln,cn,dn,pn,vn){sn=ln.segments,goog.asserts.assert(sn.length,"Playlist should have segments!"),dn=void 0;var Sn=shaka.hls.Utils.getFirstTagWithNameAsNumber(ln.tags,"EXT-X-DISCONTINUITY-SEQUENCE",0),En=shaka.hls.Utils.getFirstTagWithNameAsNumber(ln.tags,"EXT-X-MEDIA-SEQUENCE",0),Cn=shaka.hls.Utils.getFirstTagWithName(ln.tags,"EXT-X-SKIP");Cn=Cn?Number(Cn.getAttributeValue("SKIPPED-SEGMENTS")):0;var Pn=En+Cn,Rn=0;this.isLive_()&&pn.has(Pn)&&(Rn=pn.get(Pn));for(var Ln=[],Fn=null,Gn=Rn,Dn=0;Dn<sn.length;Dn++){var Kn=sn[Dn],qn=Dn==0?Rn:Fn.endTime;Pn=En+Cn+Dn,shaka.hls.Utils.getFirstTagWithName(Kn.tags,"EXT-X-DISCONTINUITY")&&(Sn++,Gn=qn);for(var Zn=$jscomp.makeIterator(Kn.tags),Yn=Zn.next();!Yn.done;Yn=Zn.next())Yn=Yn.value,Yn.name=="EXT-X-KEY"&&(dn=Yn.getRequiredAttrValue("METHOD")=="AES-128"?this.parseAES128DrmTag_(Yn,ln):void 0);pn.set(Pn,qn),Zn=this.getInitSegmentReference_(ln.absoluteUri,Kn.tags,vn),!this.lowLatencyMode_&&this.playerInterface_.isAutoLowLatencyMode()&&(this.playerInterface_.enableLowLatencyMode(),this.lowLatencyMode_=this.playerInterface_.isLowLatencyMode()),(Fn=Kn=this.createSegmentReference_(Zn,Fn,Kn,qn,vn,ln.absoluteUri,cn,Gn,dn))&&(Kn.discontinuitySequence=Sn,this.config_.hls.ignoreManifestProgramDateTime&&this.minSequenceNumber_!=null&&Pn<this.minSequenceNumber_||Ln.push(Kn))}if(ln=Ln.some(function(Jn){return Jn.syncTime!=null})){for(cn={},pn=0;pn<Ln.length;cn={$jscomp$loop$prop$forwardI$731:cn.$jscomp$loop$prop$forwardI$731,$jscomp$loop$prop$forwardAdd$732:cn.$jscomp$loop$prop$forwardAdd$732,$jscomp$loop$prop$backwardI$733:cn.$jscomp$loop$prop$backwardI$733,$jscomp$loop$prop$reference$610$734:cn.$jscomp$loop$prop$reference$610$734,$jscomp$loop$prop$backwardAdd$735:cn.$jscomp$loop$prop$backwardAdd$735},pn++)if(cn.$jscomp$loop$prop$reference$610$734=Ln[pn],cn.$jscomp$loop$prop$reference$610$734.syncTime==null)for(cn.$jscomp$loop$prop$forwardAdd$732=0,cn.$jscomp$loop$prop$forwardI$731=pn,vn=function(Jn){return function(){var rs=Ln[Jn.$jscomp$loop$prop$forwardI$731];if(rs){if(rs.syncTime!=null)return rs.syncTime+Jn.$jscomp$loop$prop$forwardAdd$732;Jn.$jscomp$loop$prop$forwardAdd$732-=rs.endTime-rs.startTime,Jn.$jscomp$loop$prop$forwardI$731+=1}return null}}(cn),cn.$jscomp$loop$prop$backwardAdd$735=0,cn.$jscomp$loop$prop$backwardI$733=pn,sn=function(Jn){return function(){var rs=Ln[Jn.$jscomp$loop$prop$backwardI$733];if(rs){if(rs!=Jn.$jscomp$loop$prop$reference$610$734&&(Jn.$jscomp$loop$prop$backwardAdd$735+=rs.endTime-rs.startTime),rs.syncTime!=null)return rs.syncTime+Jn.$jscomp$loop$prop$backwardAdd$735;--Jn.$jscomp$loop$prop$backwardI$733}return null}}(cn);cn.$jscomp$loop$prop$reference$610$734.syncTime==null;)cn.$jscomp$loop$prop$reference$610$734.syncTime=sn(),cn.$jscomp$loop$prop$reference$610$734.syncTime==null&&(cn.$jscomp$loop$prop$reference$610$734.syncTime=vn())}if(ln)for(cn=$jscomp.makeIterator(Ln),pn=cn.next();!pn.done;pn=cn.next())for(vn=pn.value,pn=vn.syncTime,vn=$jscomp.makeIterator(vn.partialReferences),sn=vn.next();!sn.done;sn=vn.next())sn=sn.value,sn.syncTime=pn,pn+=sn.endTime-sn.startTime;if(cn=this.lowestSyncTime_,ln&&cn!=1/0)for(ln=$jscomp.makeIterator(Ln),pn=ln.next();!pn.done;pn=ln.next())pn.value.syncAgainst(cn);return Ln},shaka.hls.HlsParser.prototype.variableSubstitution_=function(sn,ln){sn=String(sn).replace(/%7B/g,"{").replace(/%7D/g,"}");var cn=sn.match(/{\$\w*}/g);if(cn){cn=$jscomp.makeIterator(cn);for(var dn=cn.next();!dn.done;dn=cn.next()){dn=dn.value;var pn=dn.slice(2,dn.length-1),vn=ln.get(pn);if(vn)sn=sn.replace(dn,vn);else throw shaka.log.error("A variable has been found that is not declared",pn),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_VARIABLE_NOT_FOUND,pn)}}return sn},shaka.hls.HlsParser.prototype.guessMimeTypeBeforeLoading_=function(sn,ln){if(sn==shaka.util.ManifestParserUtils.ContentType.TEXT){if(ln=="vtt"||ln=="wvtt")return"text/vtt";if(ln&&ln!=="")return"application/mp4"}return sn!=shaka.util.ManifestParserUtils.ContentType.IMAGE||ln&&ln!="jpeg"?sn==shaka.util.ManifestParserUtils.ContentType.AUDIO&&ln=="mp4a.40.34"?"audio/mpeg":null:"image/jpeg"},shaka.hls.HlsParser.prototype.guessMimeTypeFallback_=function(sn){return sn==shaka.util.ManifestParserUtils.ContentType.TEXT?"text/vtt":shaka.hls.HlsParser.EXTENSION_MAP_BY_CONTENT_TYPE_[sn].mp4},shaka.hls.HlsParser.prototype.guessMimeType_=function(sn,ln,cn,dn){var pn=this,vn,Sn,En,Cn,Pn,Rn,Ln,Fn,Gn,Dn,Kn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(qn){return qn.nextAddress==1?(vn=shaka.hls.HlsParser,Sn=shaka.net.NetworkingEngine.RequestType.SEGMENT,goog.asserts.assert(cn.segments.length,"Playlist should have segments!"),En=Math.trunc((cn.segments.length-1)/2),Cn=pn.variableSubstitution_(cn.segments[En].absoluteUri,dn),Pn=new goog.Uri(Cn),Rn=Pn.getPath().split(".").pop(),Ln=vn.EXTENSION_MAP_BY_CONTENT_TYPE_[sn],(Fn=Ln[Rn])||(Fn=vn.RAW_FORMATS_TO_MIME_TYPES_[Rn])||(Fn=pn.guessMimeTypeBeforeLoading_(sn,ln))?qn.return(Fn):(Gn=shaka.net.NetworkingEngine.makeRequest([Cn],pn.config_.retryParameters),Gn.method="HEAD",qn.yield(pn.makeNetworkRequest_(Gn,Sn),2))):(Dn=qn.yieldResult,(Kn=Dn.headers["content-type"])?qn.return(Kn.split(";")[0]):qn.return(pn.guessMimeTypeFallback_(sn)))})},shaka.hls.HlsParser.prototype.getRequiredTag_=function(sn,ln){if(sn=shaka.hls.Utils.getFirstTagWithName(sn,ln),!sn)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_REQUIRED_TAG_MISSING,ln);return sn},shaka.hls.HlsParser.prototype.addVideoAttributes_=function(sn,ln,cn,dn,pn){sn&&(sn.width=Number(ln)||void 0,sn.height=Number(cn)||void 0,sn.frameRate=Number(dn)||void 0,sn.hdr=pn||void 0)},shaka.hls.HlsParser.prototype.requestManifest_=function(sn){var ln=shaka.net.NetworkingEngine.RequestType.MANIFEST;return sn=shaka.net.NetworkingEngine.makeRequest([sn],this.config_.retryParameters),this.playerInterface_.modifyManifestRequest(sn,{format:shaka.util.CmcdManager.StreamingFormat.HLS}),this.makeNetworkRequest_(sn,ln)},shaka.hls.HlsParser.prototype.onUpdate_=function(){var sn=this,ln,cn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dn){if(dn.nextAddress==1)return shaka.log.info("Updating manifest..."),goog.asserts.assert(0<sn.updatePlaylistDelay_,"We should only call |onUpdate_| when we are suppose to be updating."),sn.playerInterface_?(dn.setCatchFinallyBlocks(2),dn.yield(sn.update(),4)):dn.return();if(dn.nextAddress!=2)return sn.isLive_()&&(ln=sn.updatePlaylistDelay_,sn.updatePlaylistTimer_.tickAfter(ln)),dn.leaveTryBlock(0);if(cn=dn.enterCatchBlock(),!sn.playerInterface_)return dn.return();goog.asserts.assert(cn instanceof shaka.util.Error,"Should only receive a Shaka error"),cn.severity=shaka.util.Error.Severity.RECOVERABLE,sn.playerInterface_.onError(cn),sn.updatePlaylistTimer_.tickAfter(.1),dn.jumpToEnd()})},shaka.hls.HlsParser.prototype.isLive_=function(){return this.presentationType_!=shaka.hls.HlsParser.PresentationType_.VOD},shaka.hls.HlsParser.prototype.setPresentationType_=function(sn){this.presentationType_=sn,this.presentationTimeline_&&this.presentationTimeline_.setStatic(!this.isLive_()),this.isLive_()||this.updatePlaylistTimer_.stop()},shaka.hls.HlsParser.prototype.makeNetworkRequest_=function(sn,ln){if(!this.operationManager_)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.OPERATION_ABORTED);return sn=this.playerInterface_.networkingEngine.request(ln,sn),this.operationManager_.manage(sn),sn.promise},shaka.hls.HlsParser.fairplayDrmParser_=function(sn,ln){if(ln=="video/mp2t")throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED);if(shaka.util.Platform.isMediaKeysPolyfilled())throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED);return shaka.util.ManifestParserUtils.createDrmInfo("com.apple.fps",[{initDataType:"sinf",initData:new Uint8Array(0),keyId:null}])},shaka.hls.HlsParser.widevineDrmParser_=function(sn){var ln=sn.getRequiredAttrValue("METHOD"),cn=["SAMPLE-AES","SAMPLE-AES-CTR"];return cn.includes(ln)?(ln=sn.getRequiredAttrValue("URI"),ln=shaka.net.DataUriPlugin.parseRaw(ln),ln=shaka.util.BufferUtils.toUint8(ln.data),ln=shaka.util.ManifestParserUtils.createDrmInfo("com.widevine.alpha",[{initDataType:"cenc",initData:ln}]),(sn=sn.getAttributeValue("KEYID"))&&(sn=sn.toLowerCase(),goog.asserts.assert(sn.startsWith("0x"),"Incorrect KEYID format!"),ln.keyIds=new Set([sn.substr(2)])),ln):(shaka.log.error("Widevine in HLS is only supported with [",cn.join(", "),"], not",ln),null)},shaka.hls.HlsParser.playreadyDrmParser_=function(sn){var ln=sn.getRequiredAttrValue("METHOD"),cn=["SAMPLE-AES","SAMPLE-AES-CTR"];return cn.includes(ln)?(sn=sn.getRequiredAttrValue("URI"),sn=shaka.net.DataUriPlugin.parseRaw(sn),sn=shaka.util.BufferUtils.toUint8(sn.data),ln=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),cn=new Set,sn=shaka.util.Pssh.createPssh(sn,ln,cn,0),shaka.util.ManifestParserUtils.createDrmInfo("com.microsoft.playready",[{initDataType:"cenc",initData:sn}])):(shaka.log.error("PlayReady in HLS is only supported with [",cn.join(", "),"], not",ln),null)},shaka.hls.HlsParser.identityDrmParser_=function(sn){sn=sn.getRequiredAttrValue("METHOD");var ln=["SAMPLE-AES","SAMPLE-AES-CTR"];return ln.includes(sn)?shaka.util.ManifestParserUtils.createDrmInfo("org.w3.clearkey",null):(shaka.log.error("Identity (ClearKey) in HLS is only supported with [",ln.join(", "),"], not",sn),null)},goog.exportSymbol("shaka.hls.HlsParser",shaka.hls.HlsParser),shaka.hls.HlsParser.RAW_FORMATS_TO_MIME_TYPES_={aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},shaka.hls.HlsParser.AUDIO_EXTENSIONS_TO_MIME_TYPES_={mp4:"audio/mp4",mp4a:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",m4f:"audio/mp4",cmfa:"audio/mp4",ts:"video/mp2t",tsa:"video/mp2t"},shaka.hls.HlsParser.VIDEO_EXTENSIONS_TO_MIME_TYPES_={mp4:"video/mp4",mp4v:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",m4f:"video/mp4",cmfv:"video/mp4",ts:"video/mp2t",tsv:"video/mp2t"},shaka.hls.HlsParser.TEXT_EXTENSIONS_TO_MIME_TYPES_={mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",m4f:"application/mp4",cmft:"application/mp4",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml"},shaka.hls.HlsParser.IMAGE_EXTENSIONS_TO_MIME_TYPES_={jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif"},shaka.hls.HlsParser.EXTENSION_MAP_BY_CONTENT_TYPE_={audio:shaka.hls.HlsParser.AUDIO_EXTENSIONS_TO_MIME_TYPES_,video:shaka.hls.HlsParser.VIDEO_EXTENSIONS_TO_MIME_TYPES_,text:shaka.hls.HlsParser.TEXT_EXTENSIONS_TO_MIME_TYPES_,image:shaka.hls.HlsParser.IMAGE_EXTENSIONS_TO_MIME_TYPES_},shaka.hls.HlsParser.KEYFORMATS_TO_DRM_PARSERS_={"com.apple.streamingkeydelivery":shaka.hls.HlsParser.fairplayDrmParser_,"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":shaka.hls.HlsParser.widevineDrmParser_,"com.microsoft.playready":shaka.hls.HlsParser.playreadyDrmParser_,identity:shaka.hls.HlsParser.identityDrmParser_},shaka.hls.HlsParser.PresentationType_={VOD:"VOD",EVENT:"EVENT",LIVE:"LIVE"},shaka.util.Platform.isTizen3()||shaka.util.Platform.isTizen2()||shaka.util.Platform.isWebOS3()||(shaka.media.ManifestParser.registerParserByExtension("m3u8",function(){return new shaka.hls.HlsParser}),shaka.media.ManifestParser.registerParserByMime("application/x-mpegurl",function(){return new shaka.hls.HlsParser}),shaka.media.ManifestParser.registerParserByMime("application/vnd.apple.mpegurl",function(){return new shaka.hls.HlsParser})),shaka.net.HttpPluginUtils=function(){},shaka.net.HttpPluginUtils.makeResponse=function(sn,ln,cn,dn,pn,vn){if(200<=cn&&299>=cn&&cn!=202)return{uri:pn||dn,originalUri:dn,data:ln,status:cn,headers:sn,fromCache:!!sn["x-shaka-from-cache"]};pn=null;try{pn=shaka.util.StringUtils.fromBytesAutoDetect(ln)}catch{}throw shaka.log.debug("HTTP error text:",pn),new shaka.util.Error(cn==401||cn==403?shaka.util.Error.Severity.CRITICAL:shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.BAD_HTTP_STATUS,dn,cn,pn,sn,vn)},shaka.net.HttpFetchPlugin=function(){},shaka.net.HttpFetchPlugin.parse=function(sn,ln,cn,dn,pn){var vn=new shaka.net.HttpFetchPlugin.Headers_;shaka.util.MapUtils.asMap(ln.headers).forEach(function(Pn,Rn){vn.append(Rn,Pn)});var Sn=new shaka.net.HttpFetchPlugin.AbortController_,En={canceled:!1,timedOut:!1};if(sn=shaka.net.HttpFetchPlugin.request_(sn,cn,{body:ln.body||void 0,headers:vn,method:ln.method,signal:Sn.signal,credentials:ln.allowCrossSiteCredentials?"include":void 0},En,dn,pn,ln.streamDataCallback),sn=new shaka.util.AbortableOperation(sn,function(){return En.canceled=!0,Sn.abort(),Promise.resolve()}),ln=ln.retryParameters.timeout){var Cn=new shaka.util.Timer(function(){En.timedOut=!0,Sn.abort()});Cn.tickAfter(ln/1e3),sn.finally(function(){Cn.stop()})}return sn},shaka.net.HttpFetchPlugin.request_=function(sn,ln,cn,dn,pn,vn,Sn){var En,Cn,Pn,Rn,Ln,Fn,Gn,Dn,Kn,qn,Zn,Yn,Jn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(rs){switch(rs.nextAddress){case 1:return En=shaka.net.HttpFetchPlugin.fetch_,Cn=shaka.net.HttpFetchPlugin.ReadableStream_,Fn=Ln=0,Gn=Date.now(),rs.setCatchFinallyBlocks(2),rs.yield(En(sn,cn),4);case 4:if(Pn=rs.yieldResult,vn(shaka.net.HttpFetchPlugin.headersToGenericObject_(Pn.headers)),cn.method=="HEAD"){rs.jumpTo(5);break}return goog.asserts.assert(Pn.body,"non-HEAD responses should have a body"),Dn=Pn.clone().body.getReader(),qn=(Kn=Pn.headers.get("Content-Length"))?parseInt(Kn,10):0,Zn=function(us){var as=function(){var cs,_s,Es;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Qn){switch(Qn.nextAddress){case 1:return Qn.setCatchFinallyBlocks(2),Qn.yield(Dn.read(),4);case 4:cs=Qn.yieldResult,Qn.leaveTryBlock(3);break;case 2:return _s=Qn.enterCatchBlock(),shaka.log.v1("error reading from stream",_s.message),Qn.return();case 3:if(cs.done){Qn.jumpTo(5);break}if(Ln+=cs.value.byteLength,!Sn){Qn.jumpTo(5);break}return Qn.yield(Sn(cs.value),5);case 5:Es=Date.now(),(100<Es-Gn||cs.done)&&(pn(Es-Gn,Ln-Fn,qn-Ln),Fn=Ln,Gn=Es),cs.done?(goog.asserts.assert(!cs.value,'readObj should be unset when "done" is true.'),us.close()):(us.enqueue(cs.value),as()),Qn.jumpToEnd()}})};as()},new Cn({start:Zn}),rs.yield(Pn.arrayBuffer(),6);case 6:Rn=rs.yieldResult;case 5:rs.leaveTryBlock(3);break;case 2:throw Yn=rs.enterCatchBlock(),dn.canceled?new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.OPERATION_ABORTED,sn,ln):dn.timedOut?new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.TIMEOUT,sn,ln):new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.HTTP_ERROR,sn,Yn,ln);case 3:return Jn=shaka.net.HttpFetchPlugin.headersToGenericObject_(Pn.headers),rs.return(shaka.net.HttpPluginUtils.makeResponse(Jn,Rn,Pn.status,sn,Pn.url,ln))}})},shaka.net.HttpFetchPlugin.headersToGenericObject_=function(sn){var ln={};return sn.forEach(function(cn,dn){ln[dn.trim()]=cn}),ln},shaka.net.HttpFetchPlugin.isSupported=function(){if(window.ReadableStream)try{new ReadableStream({})}catch{return!1}else return!1;if(window.Response){if(!new Response("").body)return!1}else return!1;return!(!window.fetch||!window.AbortController)},goog.exportSymbol("shaka.net.HttpFetchPlugin",shaka.net.HttpFetchPlugin),goog.exportProperty(shaka.net.HttpFetchPlugin,"isSupported",shaka.net.HttpFetchPlugin.isSupported),goog.exportProperty(shaka.net.HttpFetchPlugin,"parse",shaka.net.HttpFetchPlugin.parse),shaka.net.HttpFetchPlugin.fetch_=window.fetch,shaka.net.HttpFetchPlugin.AbortController_=window.AbortController,shaka.net.HttpFetchPlugin.ReadableStream_=window.ReadableStream,shaka.net.HttpFetchPlugin.Headers_=window.Headers,shaka.net.HttpFetchPlugin.isSupported()&&(shaka.net.NetworkingEngine.registerScheme("http",shaka.net.HttpFetchPlugin.parse,shaka.net.NetworkingEngine.PluginPriority.PREFERRED,!0),shaka.net.NetworkingEngine.registerScheme("https",shaka.net.HttpFetchPlugin.parse,shaka.net.NetworkingEngine.PluginPriority.PREFERRED,!0),shaka.net.NetworkingEngine.registerScheme("blob",shaka.net.HttpFetchPlugin.parse,shaka.net.NetworkingEngine.PluginPriority.PREFERRED,!0)),shaka.net.HttpXHRPlugin=function(){},shaka.net.HttpXHRPlugin.parse=function(sn,ln,cn,dn,pn){var vn=new shaka.net.HttpXHRPlugin.Xhr_,Sn=Date.now(),En=0,Cn=new Promise(function(Pn,Rn){vn.open(ln.method,sn,!0),vn.responseType="arraybuffer",vn.timeout=ln.retryParameters.timeout,vn.withCredentials=ln.allowCrossSiteCredentials,vn.onabort=function(){Rn(new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.OPERATION_ABORTED,sn,cn))};var Ln=!1;vn.onreadystatechange=function(Dn){vn.readyState!=2||Ln||(Dn=shaka.net.HttpXHRPlugin.headersToGenericObject_(vn),pn(Dn),Ln=!0)},vn.onload=function(Dn){Dn=shaka.net.HttpXHRPlugin.headersToGenericObject_(vn),goog.asserts.assert(vn.response instanceof ArrayBuffer,"XHR should have a response by now!");var Kn=vn.response;try{var qn=shaka.net.HttpPluginUtils.makeResponse(Dn,Kn,vn.status,sn,vn.responseURL,cn);Pn(qn)}catch(Zn){goog.asserts.assert(Zn instanceof shaka.util.Error,"Wrong error type!"),Rn(Zn)}},vn.onerror=function(Dn){Rn(new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.HTTP_ERROR,sn,Dn,cn))},vn.ontimeout=function(Dn){Rn(new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.TIMEOUT,sn,cn))},vn.onprogress=function(Dn){var Kn=Date.now();(100<Kn-Sn||Dn.lengthComputable&&Dn.loaded==Dn.total)&&(dn(Kn-Sn,Dn.loaded-En,Dn.total-Dn.loaded),En=Dn.loaded,Sn=Kn)};for(var Fn in ln.headers){var Gn=Fn.toLowerCase();vn.setRequestHeader(Gn,ln.headers[Fn])}vn.send(ln.body)});return new shaka.util.AbortableOperation(Cn,function(){return vn.abort(),Promise.resolve()})},shaka.net.HttpXHRPlugin.headersToGenericObject_=function(sn){var ln=sn.getAllResponseHeaders().trim().split(`\r
`);sn={},ln=$jscomp.makeIterator(ln);for(var cn=ln.next();!cn.done;cn=ln.next())cn=cn.value.split(": "),sn[cn[0].toLowerCase()]=cn.slice(1).join(": ");return sn},goog.exportSymbol("shaka.net.HttpXHRPlugin",shaka.net.HttpXHRPlugin),goog.exportProperty(shaka.net.HttpXHRPlugin,"parse",shaka.net.HttpXHRPlugin.parse),shaka.net.HttpXHRPlugin.Xhr_=window.XMLHttpRequest,shaka.net.NetworkingEngine.registerScheme("http",shaka.net.HttpXHRPlugin.parse,shaka.net.NetworkingEngine.PluginPriority.FALLBACK,!0),shaka.net.NetworkingEngine.registerScheme("https",shaka.net.HttpXHRPlugin.parse,shaka.net.NetworkingEngine.PluginPriority.FALLBACK,!0),shaka.net.NetworkingEngine.registerScheme("blob",shaka.net.HttpXHRPlugin.parse,shaka.net.NetworkingEngine.PluginPriority.FALLBACK,!0),shaka.offline={},shaka.offline.DownloadInfo=function(sn,ln,cn,dn){this.ref=sn,this.estimateId=ln,this.groupId=cn,this.isInitSegment=dn},shaka.offline.DownloadInfo.idForSegmentRef=function(sn){return sn.getUris().map(function(ln){return"{"+encodeURI(ln)+"}"}).join("")+":"+sn.startByte+":"+sn.endByte},shaka.offline.DownloadInfo.prototype.getRefId=function(){return shaka.offline.DownloadInfo.idForSegmentRef(this.ref)},shaka.offline.DownloadInfo.prototype.makeSegmentRequest=function(sn){return shaka.util.Networking.createSegmentRequest(this.ref.getUris(),this.ref.startByte,this.ref.endByte,sn.streaming.retryParameters)},shaka.offline.DownloadProgressEstimator=function(){this.actualDownloaded_=this.estimatedDownloaded_=this.estimatedTotal_=0,this.pending_=new Map,this.nextId_=0},shaka.offline.DownloadProgressEstimator.prototype.open=function(sn){this.estimatedTotal_+=sn;var ln=this.nextId_;return this.nextId_++,this.pending_.set(ln,sn),ln},shaka.offline.DownloadProgressEstimator.prototype.close=function(sn,ln){if(this.pending_.has(sn)){var cn=this.pending_.get(sn);this.pending_.delete(sn),this.estimatedDownloaded_+=cn,this.actualDownloaded_+=ln}},shaka.offline.DownloadProgressEstimator.prototype.getEstimatedProgress=function(){return this.estimatedTotal_==0?0:this.estimatedDownloaded_/this.estimatedTotal_},shaka.offline.DownloadProgressEstimator.prototype.getTotalDownloaded=function(){return this.actualDownloaded_},shaka.offline.DownloadManager=function(sn){var ln=this;this.networkingEngine_=sn,this.groups_=new Map,this.destroyer_=new shaka.util.Destroyer(function(){return ln.abortAll().catch(function(){})}),this.abortCallbacks_=[],this.onProgress_=function(cn,dn){},this.onInitData_=function(cn,dn){},this.estimator_=new shaka.offline.DownloadProgressEstimator},shaka.offline.DownloadManager.prototype.destroy=function(){return this.destroyer_.destroy()},shaka.offline.DownloadManager.prototype.setCallbacks=function(sn,ln){this.onProgress_=sn,this.onInitData_=ln},shaka.offline.DownloadManager.prototype.abortAll=function(){var sn=this.abortCallbacks_.map(function(ln){return ln()});return this.abortCallbacks_=[],Promise.all(sn)},shaka.offline.DownloadManager.prototype.addDownloadEstimate=function(sn){return this.estimator_.open(sn)},shaka.offline.DownloadManager.prototype.queue=function(sn,ln,cn,dn,pn){var vn=this;this.destroyer_.ensureNotDestroyed();var Sn=(this.groups_.get(sn)||Promise.resolve()).then(function(){var En,Cn,Pn,Rn,Ln,Fn,Gn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Dn){if(Dn.nextAddress==1)return Dn.yield(vn.fetchSegment_(ln),2);if(En=Dn.yieldResult,vn.destroyer_.destroyed())throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.OPERATION_ABORTED);if(dn)for(Rn in Cn=shaka.util.BufferUtils.toUint8(En),Pn=new shaka.util.Pssh(Cn),Pn.data)Ln=Number(Rn),Fn=Pn.data[Ln],Gn=Pn.systemIds[Ln],vn.onInitData_(Fn,Gn);return vn.estimator_.close(cn,En.byteLength),vn.onProgress_(vn.estimator_.getEstimatedProgress(),vn.estimator_.getTotalDownloaded()),Dn.return(pn(En))})});return this.groups_.set(sn,Sn),Sn},shaka.offline.DownloadManager.prototype.queueWork=function(sn,ln){this.destroyer_.ensureNotDestroyed();var cn=(this.groups_.get(sn)||Promise.resolve()).then(function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(dn){return dn.yield(ln(),0)})});return this.groups_.set(sn,cn),cn},shaka.offline.DownloadManager.prototype.waitToFinish=function(){var sn=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ln){return ln.nextAddress==1?ln.yield(Promise.all(sn.groups_.values()),2):ln.return(sn.estimator_.getTotalDownloaded())})},shaka.offline.DownloadManager.prototype.fetchSegment_=function(sn){var ln=this,cn,dn,pn,vn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Sn){return Sn.nextAddress==1?(cn=shaka.net.NetworkingEngine.RequestType.SEGMENT,dn=ln.networkingEngine_.request(cn,sn),pn=function(){return dn.abort()},ln.abortCallbacks_.push(pn),Sn.yield(dn.promise,2)):(vn=Sn.yieldResult,shaka.util.ArrayUtils.remove(ln.abortCallbacks_,pn),Sn.return(vn.data))})},shaka.offline.indexeddb={},shaka.offline.indexeddb.DBOperation=function(sn,ln){var cn=this;this.transaction_=sn,this.store_=sn.objectStore(ln),this.promise_=new shaka.util.PublicPromise,sn.onabort=function(dn){dn.preventDefault(),cn.promise_.reject()},sn.onerror=function(dn){dn.preventDefault(),cn.promise_.reject()},sn.oncomplete=function(dn){cn.promise_.resolve()}},shaka.offline.indexeddb.DBOperation.prototype.abort=function(){var sn=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ln){if(ln.nextAddress==1){try{sn.transaction_.abort()}catch{}return ln.setCatchFinallyBlocks(2),ln.yield(sn.promise_,4)}if(ln.nextAddress!=2)return ln.leaveTryBlock(0);ln.enterCatchBlock(),ln.jumpToEnd()})},shaka.offline.indexeddb.DBOperation.prototype.forEachEntry=function(sn){var ln=this;return new Promise(function(cn,dn){var pn=ln.store_.openCursor();pn.onerror=dn,pn.onsuccess=function(vn){var Sn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(En){if(En.nextAddress==1)return pn.result==null?(cn(),En.return()):(Sn=pn.result,En.yield(sn(Sn.key,Sn.value,Sn),2));Sn.continue(),En.jumpToEnd()})}})},shaka.offline.indexeddb.DBOperation.prototype.store=function(){return this.store_},shaka.offline.indexeddb.DBOperation.prototype.promise=function(){return this.promise_},shaka.offline.indexeddb.DBConnection=function(sn){this.connection_=sn,this.pending_=[]},shaka.offline.indexeddb.DBConnection.prototype.destroy=function(){return Promise.all(this.pending_.map(function(sn){return sn.abort()}))},shaka.offline.indexeddb.DBConnection.prototype.startReadOnlyOperation=function(sn){return this.startOperation_(sn,"readonly")},shaka.offline.indexeddb.DBConnection.prototype.startReadWriteOperation=function(sn){return this.startOperation_(sn,"readwrite")},shaka.offline.indexeddb.DBConnection.prototype.startOperation_=function(sn,ln){var cn=this;ln=this.connection_.transaction([sn],ln);var dn=new shaka.offline.indexeddb.DBOperation(ln,sn);return this.pending_.push(dn),dn.promise().then(function(){return cn.stopTracking_(dn)},function(){return cn.stopTracking_(dn)}),dn},shaka.offline.indexeddb.DBConnection.prototype.stopTracking_=function(sn){shaka.util.ArrayUtils.remove(this.pending_,sn)},shaka.offline.indexeddb.BaseStorageCell=function(sn,ln,cn){this.connection_=new shaka.offline.indexeddb.DBConnection(sn),this.segmentStore_=ln,this.manifestStore_=cn},shaka.offline.indexeddb.BaseStorageCell.prototype.destroy=function(){return this.connection_.destroy()},shaka.offline.indexeddb.BaseStorageCell.prototype.hasFixedKeySpace=function(){return!0},shaka.offline.indexeddb.BaseStorageCell.prototype.addSegments=function(sn){return this.rejectAdd(this.segmentStore_)},shaka.offline.indexeddb.BaseStorageCell.prototype.removeSegments=function(sn,ln){return this.remove_(this.segmentStore_,sn,ln)},shaka.offline.indexeddb.BaseStorageCell.prototype.getSegments=function(sn){var ln=this,cn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dn){return dn.nextAddress==1?dn.yield(ln.get_(ln.segmentStore_,sn),2):(cn=dn.yieldResult,dn.return(cn.map(function(pn){return ln.convertSegmentData(pn)})))})},shaka.offline.indexeddb.BaseStorageCell.prototype.addManifests=function(sn){return this.rejectAdd(this.manifestStore_)},shaka.offline.indexeddb.BaseStorageCell.prototype.updateManifest=function(sn,ln){return this.rejectUpdate(this.manifestStore_)},shaka.offline.indexeddb.BaseStorageCell.prototype.updateManifestImplementation=function(sn,ln){var cn=this.connection_.startReadWriteOperation(this.manifestStore_),dn=cn.store();return dn.get(sn).onsuccess=function(pn){dn.put(ln,sn)},cn.promise()},shaka.offline.indexeddb.BaseStorageCell.prototype.updateManifestExpiration=function(sn,ln){var cn=this.connection_.startReadWriteOperation(this.manifestStore_),dn=cn.store();return dn.get(sn).onsuccess=function(pn){(pn=pn.target.result)&&(pn.expiration=ln,dn.put(pn,sn))},cn.promise()},shaka.offline.indexeddb.BaseStorageCell.prototype.removeManifests=function(sn,ln){return this.remove_(this.manifestStore_,sn,ln)},shaka.offline.indexeddb.BaseStorageCell.prototype.getManifests=function(sn){var ln=this,cn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dn){return dn.nextAddress==1?dn.yield(ln.get_(ln.manifestStore_,sn),2):(cn=dn.yieldResult,dn.return(Promise.all(cn.map(function(pn){return ln.convertManifest(pn)}))))})},shaka.offline.indexeddb.BaseStorageCell.prototype.getAllManifests=function(){var sn=this,ln,cn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dn){return dn.nextAddress==1?(ln=sn.connection_.startReadOnlyOperation(sn.manifestStore_),cn=new Map,dn.yield(ln.forEachEntry(function(pn,vn){var Sn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(En){if(En.nextAddress==1)return En.yield(sn.convertManifest(vn),2);Sn=En.yieldResult,cn.set(pn,Sn),En.jumpToEnd()})}),2)):dn.nextAddress!=3?dn.yield(ln.promise(),3):dn.return(cn)})},shaka.offline.indexeddb.BaseStorageCell.prototype.convertSegmentData=function(sn){return sn},shaka.offline.indexeddb.BaseStorageCell.prototype.convertManifest=function(sn){return Promise.resolve(sn)},shaka.offline.indexeddb.BaseStorageCell.prototype.rejectAdd=function(sn){return Promise.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.NEW_KEY_OPERATION_NOT_SUPPORTED,"Cannot add new value to "+sn))},shaka.offline.indexeddb.BaseStorageCell.prototype.rejectUpdate=function(sn){return Promise.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.MODIFY_OPERATION_NOT_SUPPORTED,"Cannot modify values in "+sn))},shaka.offline.indexeddb.BaseStorageCell.prototype.add=function(sn,ln){var cn=this,dn,pn,vn,Sn,En,Cn,Pn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Rn){if(Rn.nextAddress==1){for(dn=cn.connection_.startReadWriteOperation(sn),pn=dn.store(),vn=[],Sn={},En=$jscomp.makeIterator(ln),Cn=En.next();!Cn.done;Sn={$jscomp$loop$prop$request$737:Sn.$jscomp$loop$prop$request$737},Cn=En.next())Pn=Cn.value,Sn.$jscomp$loop$prop$request$737=pn.add(Pn),Sn.$jscomp$loop$prop$request$737.onsuccess=function(Ln){return function(Fn){vn.push(Ln.$jscomp$loop$prop$request$737.result)}}(Sn);return Rn.yield(dn.promise(),2)}return Rn.return(vn)})},shaka.offline.indexeddb.BaseStorageCell.prototype.remove_=function(sn,ln,cn){sn=this.connection_.startReadWriteOperation(sn);var dn=sn.store(),pn={};ln=$jscomp.makeIterator(ln);for(var vn=ln.next();!vn.done;pn={$jscomp$loop$prop$key$739:pn.$jscomp$loop$prop$key$739},vn=ln.next())pn.$jscomp$loop$prop$key$739=vn.value,dn.delete(pn.$jscomp$loop$prop$key$739).onsuccess=function(Sn){return function(){return cn(Sn.$jscomp$loop$prop$key$739)}}(pn);return sn.promise()},shaka.offline.indexeddb.BaseStorageCell.prototype.get_=function(sn,ln){var cn=this,dn,pn,vn,Sn,En,Cn,Pn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Rn){if(Rn.nextAddress==1){for(dn=cn.connection_.startReadOnlyOperation(sn),pn=dn.store(),vn={},Sn=[],En={},Cn=$jscomp.makeIterator(ln),Pn=Cn.next();!Pn.done;En={$jscomp$loop$prop$request$741:En.$jscomp$loop$prop$request$741,$jscomp$loop$prop$key$742:En.$jscomp$loop$prop$key$742},Pn=Cn.next())En.$jscomp$loop$prop$key$742=Pn.value,En.$jscomp$loop$prop$request$741=pn.get(En.$jscomp$loop$prop$key$742),En.$jscomp$loop$prop$request$741.onsuccess=function(Ln){return function(){Ln.$jscomp$loop$prop$request$741.result==null&&Sn.push(Ln.$jscomp$loop$prop$key$742),vn[Ln.$jscomp$loop$prop$key$742]=Ln.$jscomp$loop$prop$request$741.result}}(En);return Rn.yield(dn.promise(),2)}if(Sn.length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.KEY_NOT_FOUND,"Could not find values for "+Sn);return Rn.return(ln.map(function(Ln){return vn[Ln]}))})},shaka.offline.indexeddb.EmeSessionStorageCell=function(sn,ln){this.connection_=new shaka.offline.indexeddb.DBConnection(sn),this.store_=ln},shaka.offline.indexeddb.EmeSessionStorageCell.prototype.destroy=function(){return this.connection_.destroy()},shaka.offline.indexeddb.EmeSessionStorageCell.prototype.getAll=function(){var sn=this,ln,cn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dn){return dn.nextAddress==1?(ln=sn.connection_.startReadOnlyOperation(sn.store_),cn=[],dn.yield(ln.forEachEntry(function(pn,vn){cn.push(vn)}),2)):dn.nextAddress!=3?dn.yield(ln.promise(),3):dn.return(cn)})},shaka.offline.indexeddb.EmeSessionStorageCell.prototype.add=function(sn){var ln=this.connection_.startReadWriteOperation(this.store_),cn=ln.store();sn=$jscomp.makeIterator(sn);for(var dn=sn.next();!dn.done;dn=sn.next())cn.add(dn.value);return ln.promise()},shaka.offline.indexeddb.EmeSessionStorageCell.prototype.remove=function(sn){var ln=this,cn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dn){return dn.nextAddress==1?(cn=ln.connection_.startReadWriteOperation(ln.store_),dn.yield(cn.forEachEntry(function(pn,vn,Sn){sn.includes(vn.sessionId)&&Sn.delete()}),2)):dn.yield(cn.promise(),0)})},shaka.offline.StorageCellHandle={},shaka.offline.StorageCellPath={},shaka.offline.StorageMuxer=function(){this.mechanisms_=new Map},shaka.offline.StorageMuxer.prototype.destroy=function(){for(var sn=[],ln=$jscomp.makeIterator(this.mechanisms_.values()),cn=ln.next();!cn.done;cn=ln.next())sn.push(cn.value.destroy());return this.mechanisms_.clear(),Promise.all(sn)},shaka.offline.StorageMuxer.prototype.init=function(){var sn=this;shaka.offline.StorageMuxer.getRegistry_().forEach(function(pn,vn){(pn=pn())?sn.mechanisms_.set(vn,pn):shaka.log.info("Skipping "+vn+" as it is not supported on this platform")});for(var ln=[],cn=$jscomp.makeIterator(this.mechanisms_.values()),dn=cn.next();!dn.done;dn=cn.next())ln.push(dn.value.init());return Promise.all(ln)},shaka.offline.StorageMuxer.prototype.getActive=function(){var sn=null;if(this.mechanisms_.forEach(function(ln,cn){ln.getCells().forEach(function(dn,pn){dn.hasFixedKeySpace()||sn||(sn={path:{mechanism:cn,cell:pn},cell:dn})})}),sn)return sn;throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.MISSING_STORAGE_CELL,"Could not find a cell that supports add-operations")},shaka.offline.StorageMuxer.prototype.forEachCell=function(sn){this.mechanisms_.forEach(function(ln,cn){ln.getCells().forEach(function(dn,pn){sn({mechanism:cn,cell:pn},dn)})})},shaka.offline.StorageMuxer.prototype.getCell=function(sn,ln){var cn=this.mechanisms_.get(sn);if(!cn)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.MISSING_STORAGE_CELL,"Could not find mechanism with name "+sn);if(sn=cn.getCells().get(ln),!sn)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.MISSING_STORAGE_CELL,"Could not find cell with name "+ln);return sn},shaka.offline.StorageMuxer.prototype.forEachEmeSessionCell=function(sn){this.mechanisms_.forEach(function(ln,cn){sn(ln.getEmeSessionCell())})},shaka.offline.StorageMuxer.prototype.getEmeSessionCell=function(){var sn=Array.from(this.mechanisms_.keys());if(!sn.length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.STORAGE_NOT_SUPPORTED,"No supported storage mechanisms found");return this.mechanisms_.get(sn[0]).getEmeSessionCell()},shaka.offline.StorageMuxer.prototype.resolvePath=function(sn){var ln=this.mechanisms_.get(sn.mechanism);return ln?ln.getCells().get(sn.cell):null},shaka.offline.StorageMuxer.prototype.erase=function(){var sn=this,ln,cn,dn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(pn){return pn.nextAddress==1?(ln=Array.from(sn.mechanisms_.values()),cn=0<ln.length,cn||(dn=shaka.offline.StorageMuxer.getRegistry_(),dn.forEach(function(vn,Sn){(vn=vn())&&ln.push(vn)})),pn.yield(Promise.all(ln.map(function(vn){return vn.erase()})),2)):cn?pn.jumpTo(0):pn.yield(Promise.all(ln.map(function(vn){return vn.destroy()})),0)})},shaka.offline.StorageMuxer.register=function(sn,ln){shaka.offline.StorageMuxer.registry_.set(sn,ln)},shaka.offline.StorageMuxer.unregister=function(sn){shaka.offline.StorageMuxer.registry_.delete(sn)},shaka.offline.StorageMuxer.support=function(){var sn=shaka.offline.StorageMuxer.getRegistry_();sn=$jscomp.makeIterator(sn.values());for(var ln=sn.next();!ln.done;ln=sn.next())if(ln=ln.value,ln=ln())return ln.destroy(),!0;return!1},shaka.offline.StorageMuxer.overrideSupport=function(sn){shaka.offline.StorageMuxer.override_=sn},shaka.offline.StorageMuxer.clearOverride=function(){shaka.offline.StorageMuxer.override_=null},shaka.offline.StorageMuxer.getRegistry_=function(){shaka.offline.StorageMuxer.override_;var sn=shaka.offline.StorageMuxer.registry_;return sn},goog.exportSymbol("shaka.offline.StorageMuxer",shaka.offline.StorageMuxer),goog.exportProperty(shaka.offline.StorageMuxer,"unregister",shaka.offline.StorageMuxer.unregister),goog.exportProperty(shaka.offline.StorageMuxer,"register",shaka.offline.StorageMuxer.register),goog.exportProperty(shaka.offline.StorageMuxer.prototype,"destroy",shaka.offline.StorageMuxer.prototype.destroy),shaka.offline.StorageMuxer.override_=null,shaka.offline.StorageMuxer.registry_=new Map,shaka.offline.indexeddb.V1StorageCell=function(){shaka.offline.indexeddb.BaseStorageCell.apply(this,arguments)},$jscomp.inherits(shaka.offline.indexeddb.V1StorageCell,shaka.offline.indexeddb.BaseStorageCell),shaka.offline.indexeddb.V1StorageCell.prototype.updateManifestExpiration=function(sn,ln){var cn=this,dn,pn,vn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Sn){return dn=cn.connection_.startReadWriteOperation(cn.manifestStore_),pn=dn.store(),vn=new shaka.util.PublicPromise,pn.get(sn).onsuccess=function(En){(En=En.target.result)?(goog.asserts.assert(En.key==sn,"With in-line keys, the keys should match"),En.expiration=ln,pn.put(En),vn.resolve()):vn.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.KEY_NOT_FOUND,"Could not find values for "+sn))},Sn.yield(Promise.all([dn.promise(),vn]),0)})},shaka.offline.indexeddb.V1StorageCell.prototype.convertManifest=function(sn){var ln,cn,dn,pn,vn,Sn,En;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Cn){if(Cn.nextAddress==1){for(ln=shaka.offline.indexeddb.V1StorageCell,cn=[],dn=0;dn<sn.periods.length;++dn)pn=dn==sn.periods.length-1?sn.duration:sn.periods[dn+1].startTime,vn=pn-sn.periods[dn].startTime,Sn=ln.convertPeriod_(sn.periods[dn],vn),cn.push(Sn);return Cn.yield(shaka.util.PeriodCombiner.combineDbStreams(cn),2)}return En=Cn.yieldResult,Cn.return({creationTime:0,originalManifestUri:sn.originalManifestUri,duration:sn.duration,size:sn.size,expiration:sn.expiration==null?1/0:sn.expiration,streams:En,sessionIds:sn.sessionIds,drmInfo:sn.drmInfo,appMetadata:sn.appMetadata,sequenceMode:!1})})},shaka.offline.indexeddb.V1StorageCell.convertPeriod_=function(sn,ln){var cn=shaka.offline.indexeddb.V1StorageCell;cn.fillMissingVariants_(sn);for(var dn=$jscomp.makeIterator(sn.streams),pn=dn.next();!pn.done;pn=dn.next())goog.asserts.assert(pn.value.variantIds,"After filling in missing variants, each stream should have variant ids");return sn.streams.map(function(vn){return cn.convertStream_(vn,sn.startTime,ln)})},shaka.offline.indexeddb.V1StorageCell.convertStream_=function(sn,ln,cn){var dn=shaka.offline.indexeddb.V1StorageCell,pn=sn.initSegmentUri?dn.getKeyFromSegmentUri_(sn.initSegmentUri):null,vn=ln+sn.presentationTimeOffset,Sn=ln+cn;return{id:sn.id,originalId:null,primary:sn.primary,type:sn.contentType,mimeType:sn.mimeType,codecs:sn.codecs,frameRate:sn.frameRate,pixelAspectRatio:void 0,hdr:void 0,kind:sn.kind,language:sn.language,label:sn.label,width:sn.width,height:sn.height,initSegmentKey:pn,encrypted:sn.encrypted,keyIds:new Set([sn.keyId]),segments:sn.segments.map(function(En){return dn.convertSegment_(En,pn,ln,Sn,vn)}),variantIds:sn.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0}},shaka.offline.indexeddb.V1StorageCell.convertSegment_=function(sn,ln,cn,dn,pn){var vn=shaka.offline.indexeddb.V1StorageCell.getKeyFromSegmentUri_(sn.uri);return{startTime:cn+sn.startTime,endTime:cn+sn.endTime,dataKey:vn,initSegmentKey:ln,appendWindowStart:cn,appendWindowEnd:dn,timestampOffset:pn,tilesLayout:""}},shaka.offline.indexeddb.V1StorageCell.prototype.convertSegmentData=function(sn){return{data:sn.data}},shaka.offline.indexeddb.V1StorageCell.getKeyFromSegmentUri_=function(sn){var ln;if((ln=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(sn))||(ln=/^offline:segment\/([0-9]+)$/.exec(sn)))return Number(ln[1]);throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.MALFORMED_OFFLINE_URI,"Could not parse uri "+sn)},shaka.offline.indexeddb.V1StorageCell.fillMissingVariants_=function(sn){var ln=shaka.util.ManifestParserUtils.ContentType.AUDIO,cn=shaka.util.ManifestParserUtils.ContentType.VIDEO,dn=sn.streams.filter(function(Pn){return Pn.contentType==ln});if(sn=sn.streams.filter(function(Pn){return Pn.contentType==cn}),!dn.every(function(Pn){return Pn.variantIds})||!sn.every(function(Pn){return Pn.variantIds})){goog.asserts.assert(dn.every(function(Pn){return!Pn.variantIds}),"Some audio streams have variant ids and some do not."),goog.asserts.assert(sn.every(function(Pn){return!Pn.variantIds}),"Some video streams have variant ids and some do not.");for(var pn=$jscomp.makeIterator(dn),vn=pn.next();!vn.done;vn=pn.next())vn.value.variantIds=[];for(pn=$jscomp.makeIterator(sn),vn=pn.next();!vn.done;vn=pn.next())vn.value.variantIds=[];if(pn=0,sn.length&&!dn.length){shaka.log.debug("Found video-only content. Creating variants for video.");var Sn=pn++,En=$jscomp.makeIterator(sn);for(vn=En.next();!vn.done;vn=En.next())vn.value.variantIds.push(Sn)}if(!sn.length&&dn.length)for(shaka.log.debug("Found audio-only content. Creating variants for audio."),Sn=pn++,En=$jscomp.makeIterator(dn),vn=En.next();!vn.done;vn=En.next())vn.value.variantIds.push(Sn);if(sn.length&&dn.length)for(shaka.log.debug("Found audio-video content. Creating variants."),dn=$jscomp.makeIterator(dn),vn=dn.next();!vn.done;vn=dn.next())for(vn=vn.value,Sn=$jscomp.makeIterator(sn),En=Sn.next();!En.done;En=Sn.next()){En=En.value;var Cn=pn++;vn.variantIds.push(Cn),En.variantIds.push(Cn)}}},shaka.offline.indexeddb.V2StorageCell=function(){shaka.offline.indexeddb.BaseStorageCell.apply(this,arguments)},$jscomp.inherits(shaka.offline.indexeddb.V2StorageCell,shaka.offline.indexeddb.BaseStorageCell),shaka.offline.indexeddb.V2StorageCell.prototype.convertManifest=function(sn){var ln=this,cn,dn,pn,vn,Sn,En;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Cn){if(Cn.nextAddress==1){for(cn=[],dn=0;dn<sn.periods.length;++dn)pn=dn==sn.periods.length-1?sn.duration:sn.periods[dn+1].startTime,vn=pn-sn.periods[dn].startTime,Sn=ln.convertPeriod_(sn.periods[dn],vn),cn.push(Sn);return Cn.yield(shaka.util.PeriodCombiner.combineDbStreams(cn),2)}return En=Cn.yieldResult,Cn.return({appMetadata:sn.appMetadata,creationTime:0,drmInfo:sn.drmInfo,duration:sn.duration,expiration:sn.expiration==null?1/0:sn.expiration,originalManifestUri:sn.originalManifestUri,sessionIds:sn.sessionIds,size:sn.size,streams:En,sequenceMode:!1})})},shaka.offline.indexeddb.V2StorageCell.prototype.convertPeriod_=function(sn,ln){for(var cn=[],dn=$jscomp.makeIterator(sn.streams),pn=dn.next();!pn.done;pn=dn.next())pn=pn.value,pn.variantIds.length!=0&&cn.push(this.convertStream_(pn,sn.startTime,sn.startTime+ln));return cn},shaka.offline.indexeddb.V2StorageCell.prototype.convertStream_=function(sn,ln,cn){var dn=this;return{id:sn.id,originalId:sn.originalId,primary:sn.primary,type:sn.contentType,mimeType:sn.mimeType,codecs:sn.codecs,frameRate:sn.frameRate,pixelAspectRatio:sn.pixelAspectRatio,hdr:void 0,kind:sn.kind,language:sn.language,label:sn.label,width:sn.width,height:sn.height,encrypted:sn.encrypted,keyIds:new Set([sn.keyId]),segments:sn.segments.map(function(pn){return dn.convertSegment_(pn,sn.initSegmentKey,ln,cn,sn.presentationTimeOffset)}),variantIds:sn.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0}},shaka.offline.indexeddb.V2StorageCell.prototype.convertSegment_=function(sn,ln,cn,dn,pn){return{startTime:cn+sn.startTime,endTime:cn+sn.endTime,initSegmentKey:ln,appendWindowStart:cn,appendWindowEnd:dn,timestampOffset:cn-pn,dataKey:sn.dataKey,tilesLayout:""}},shaka.offline.indexeddb.V5StorageCell=function(){shaka.offline.indexeddb.BaseStorageCell.apply(this,arguments)},$jscomp.inherits(shaka.offline.indexeddb.V5StorageCell,shaka.offline.indexeddb.BaseStorageCell),shaka.offline.indexeddb.V5StorageCell.prototype.hasFixedKeySpace=function(){return!1},shaka.offline.indexeddb.V5StorageCell.prototype.addSegments=function(sn){return this.add(this.segmentStore_,sn)},shaka.offline.indexeddb.V5StorageCell.prototype.addManifests=function(sn){return this.add(this.manifestStore_,sn)},shaka.offline.indexeddb.V5StorageCell.prototype.updateManifest=function(sn,ln){return this.updateManifestImplementation(sn,ln)},shaka.offline.indexeddb.V5StorageCell.prototype.convertManifest=function(sn){return sn.expiration==null&&(sn.expiration=1/0),Promise.resolve(sn)},shaka.offline.indexeddb.StorageMechanism=function(){this.sessions_=this.v5_=this.v3_=this.v2_=this.v1_=this.db_=null},shaka.offline.indexeddb.StorageMechanism.prototype.init=function(){var sn=this,ln=shaka.offline.indexeddb.StorageMechanism.DB_NAME,cn=shaka.offline.indexeddb.StorageMechanism.VERSION,dn=new shaka.util.PublicPromise,pn=!1,vn=new shaka.util.Timer(function(){pn=!0,dn.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.INDEXED_DB_INIT_TIMED_OUT))});vn.tickAfter(5);var Sn=window.indexedDB.open(ln,cn);return Sn.onsuccess=function(En){pn||(En=Sn.result,sn.db_=En,sn.v1_=shaka.offline.indexeddb.StorageMechanism.createV1_(En),sn.v2_=shaka.offline.indexeddb.StorageMechanism.createV2_(En),sn.v3_=shaka.offline.indexeddb.StorageMechanism.createV3_(En),sn.v5_=shaka.offline.indexeddb.StorageMechanism.createV5_(En),sn.sessions_=shaka.offline.indexeddb.StorageMechanism.createEmeSessionCell_(En),vn.stop(),dn.resolve())},Sn.onupgradeneeded=function(En){sn.createStores_(Sn.result)},Sn.onerror=function(En){pn||(dn.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.INDEXED_DB_ERROR,Sn.error)),vn.stop(),En.preventDefault())},dn},shaka.offline.indexeddb.StorageMechanism.prototype.destroy=function(){var sn=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ln){switch(ln.nextAddress){case 1:if(!sn.v1_){ln.jumpTo(2);break}return ln.yield(sn.v1_.destroy(),2);case 2:if(!sn.v2_){ln.jumpTo(4);break}return ln.yield(sn.v2_.destroy(),4);case 4:if(!sn.v3_){ln.jumpTo(6);break}return ln.yield(sn.v3_.destroy(),6);case 6:if(!sn.v5_){ln.jumpTo(8);break}return ln.yield(sn.v5_.destroy(),8);case 8:if(!sn.sessions_){ln.jumpTo(10);break}return ln.yield(sn.sessions_.destroy(),10);case 10:sn.db_&&sn.db_.close(),ln.jumpToEnd()}})},shaka.offline.indexeddb.StorageMechanism.prototype.getCells=function(){var sn=new Map;return this.v1_&&sn.set("v1",this.v1_),this.v2_&&sn.set("v2",this.v2_),this.v3_&&sn.set("v3",this.v3_),this.v5_&&sn.set("v5",this.v5_),sn},shaka.offline.indexeddb.StorageMechanism.prototype.getEmeSessionCell=function(){return goog.asserts.assert(this.sessions_,"Cannot be destroyed."),this.sessions_},shaka.offline.indexeddb.StorageMechanism.prototype.erase=function(){var sn=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ln){switch(ln.nextAddress){case 1:if(!sn.v1_){ln.jumpTo(2);break}return ln.yield(sn.v1_.destroy(),2);case 2:if(!sn.v2_){ln.jumpTo(4);break}return ln.yield(sn.v2_.destroy(),4);case 4:if(!sn.v3_){ln.jumpTo(6);break}return ln.yield(sn.v3_.destroy(),6);case 6:if(!sn.v5_){ln.jumpTo(8);break}return ln.yield(sn.v5_.destroy(),8);case 8:return sn.db_&&sn.db_.close(),ln.yield(shaka.offline.indexeddb.StorageMechanism.deleteAll_(),10);case 10:return sn.db_=null,sn.v1_=null,sn.v2_=null,sn.v3_=null,sn.v5_=null,ln.yield(sn.init(),0)}})},shaka.offline.indexeddb.StorageMechanism.createV1_=function(sn){var ln=shaka.offline.indexeddb.StorageMechanism,cn=ln.V1_SEGMENT_STORE;ln=ln.V1_MANIFEST_STORE;var dn=sn.objectStoreNames;return dn.contains(ln)&&dn.contains(cn)?(shaka.log.debug("Mounting v1 idb storage cell"),new shaka.offline.indexeddb.V1StorageCell(sn,cn,ln)):null},shaka.offline.indexeddb.StorageMechanism.createV2_=function(sn){var ln=shaka.offline.indexeddb.StorageMechanism,cn=ln.V2_SEGMENT_STORE;ln=ln.V2_MANIFEST_STORE;var dn=sn.objectStoreNames;return dn.contains(ln)&&dn.contains(cn)?(shaka.log.debug("Mounting v2 idb storage cell"),new shaka.offline.indexeddb.V2StorageCell(sn,cn,ln)):null},shaka.offline.indexeddb.StorageMechanism.createV3_=function(sn){var ln=shaka.offline.indexeddb.StorageMechanism,cn=ln.V3_SEGMENT_STORE;ln=ln.V3_MANIFEST_STORE;var dn=sn.objectStoreNames;return dn.contains(ln)&&dn.contains(cn)?(shaka.log.debug("Mounting v3 idb storage cell"),new shaka.offline.indexeddb.V2StorageCell(sn,cn,ln)):null},shaka.offline.indexeddb.StorageMechanism.createV5_=function(sn){var ln=shaka.offline.indexeddb.StorageMechanism,cn=ln.V5_SEGMENT_STORE;ln=ln.V5_MANIFEST_STORE;var dn=sn.objectStoreNames;return dn.contains(ln)&&dn.contains(cn)?(shaka.log.debug("Mounting v5 idb storage cell"),new shaka.offline.indexeddb.V5StorageCell(sn,cn,ln)):null},shaka.offline.indexeddb.StorageMechanism.createEmeSessionCell_=function(sn){var ln=shaka.offline.indexeddb.StorageMechanism.SESSION_ID_STORE;return sn.objectStoreNames.contains(ln)?(shaka.log.debug("Mounting session ID idb storage cell"),new shaka.offline.indexeddb.EmeSessionStorageCell(sn,ln)):null},shaka.offline.indexeddb.StorageMechanism.prototype.createStores_=function(sn){for(var ln=$jscomp.makeIterator([shaka.offline.indexeddb.StorageMechanism.V5_SEGMENT_STORE,shaka.offline.indexeddb.StorageMechanism.V5_MANIFEST_STORE,shaka.offline.indexeddb.StorageMechanism.SESSION_ID_STORE]),cn=ln.next();!cn.done;cn=ln.next())cn=cn.value,sn.objectStoreNames.contains(cn)||sn.createObjectStore(cn,{autoIncrement:!0})},shaka.offline.indexeddb.StorageMechanism.deleteAll_=function(){var sn=shaka.offline.indexeddb.StorageMechanism.DB_NAME,ln=new shaka.util.PublicPromise,cn=window.indexedDB.deleteDatabase(sn);return cn.onblocked=function(dn){shaka.log.warning("Deleting",sn,"is being blocked",dn)},cn.onsuccess=function(dn){ln.resolve()},cn.onerror=function(dn){ln.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.INDEXED_DB_ERROR,cn.error)),dn.preventDefault()},ln},shaka.offline.indexeddb.StorageMechanism.DB_NAME="shaka_offline_db",shaka.offline.indexeddb.StorageMechanism.VERSION=5,shaka.offline.indexeddb.StorageMechanism.V1_SEGMENT_STORE="segment",shaka.offline.indexeddb.StorageMechanism.V2_SEGMENT_STORE="segment-v2",shaka.offline.indexeddb.StorageMechanism.V3_SEGMENT_STORE="segment-v3",shaka.offline.indexeddb.StorageMechanism.V5_SEGMENT_STORE="segment-v5",shaka.offline.indexeddb.StorageMechanism.V1_MANIFEST_STORE="manifest",shaka.offline.indexeddb.StorageMechanism.V2_MANIFEST_STORE="manifest-v2",shaka.offline.indexeddb.StorageMechanism.V3_MANIFEST_STORE="manifest-v3",shaka.offline.indexeddb.StorageMechanism.V5_MANIFEST_STORE="manifest-v5",shaka.offline.indexeddb.StorageMechanism.SESSION_ID_STORE="session-ids",shaka.offline.StorageMuxer.register("idb",function(){return shaka.util.Platform.isChromecast()||shaka.util.Platform.isXboxOne()||!window.indexedDB?null:new shaka.offline.indexeddb.StorageMechanism}),shaka.offline.OfflineUri=function(sn,ln,cn,dn){this.type_=sn,this.mechanism_=ln,this.cell_=cn,this.key_=dn,this.asString_=["offline:",sn,"/",ln,"/",cn,"/",dn].join("")},shaka.offline.OfflineUri.prototype.isManifest=function(){return this.type_=="manifest"},shaka.offline.OfflineUri.prototype.isSegment=function(){return this.type_=="segment"},shaka.offline.OfflineUri.prototype.mechanism=function(){return this.mechanism_},shaka.offline.OfflineUri.prototype.cell=function(){return this.cell_},shaka.offline.OfflineUri.prototype.key=function(){return this.key_},shaka.offline.OfflineUri.prototype.toString=function(){return this.asString_},shaka.offline.OfflineUri.parse=function(sn){if(sn=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(sn),sn==null)return null;var ln=sn[1];if(ln!="manifest"&&ln!="segment")return null;var cn=sn[2];if(!cn)return null;var dn=sn[3];return dn&&ln!=null?new shaka.offline.OfflineUri(ln,cn,dn,Number(sn[4])):null},shaka.offline.OfflineUri.manifest=function(sn,ln,cn){return new shaka.offline.OfflineUri("manifest",sn,ln,cn)},shaka.offline.OfflineUri.segment=function(sn,ln,cn){return new shaka.offline.OfflineUri("segment",sn,ln,cn)},shaka.offline.ManifestConverter=function(sn,ln){this.mechanism_=sn,this.cell_=ln},shaka.offline.ManifestConverter.prototype.fromManifestDB=function(sn){var ln=this,cn=new shaka.media.PresentationTimeline(null,0);cn.setDuration(sn.duration);var dn=sn.streams.filter(function(Pn){return ln.isAudio_(Pn)}),pn=sn.streams.filter(function(Pn){return ln.isVideo_(Pn)});dn=this.createVariants(dn,pn,cn),pn=sn.streams.filter(function(Pn){return ln.isText_(Pn)}).map(function(Pn){return ln.fromStreamDB_(Pn,cn)});var vn=sn.streams.filter(function(Pn){return ln.isImage_(Pn)}).map(function(Pn){return ln.fromStreamDB_(Pn,cn)}),Sn=sn.drmInfo?[sn.drmInfo]:[];if(sn.drmInfo)for(var En=$jscomp.makeIterator(dn.values()),Cn=En.next();!Cn.done;Cn=En.next())Cn=Cn.value,Cn.audio&&Cn.audio.encrypted&&(Cn.audio.drmInfos=Sn),Cn.video&&Cn.video.encrypted&&(Cn.video.drmInfos=Sn);return{presentationTimeline:cn,minBufferTime:2,offlineSessionIds:sn.sessionIds,variants:Array.from(dn.values()),textStreams:pn,imageStreams:vn,sequenceMode:sn.sequenceMode||!1}},shaka.offline.ManifestConverter.prototype.createVariants=function(sn,ln,cn){for(var dn=new Set,pn=$jscomp.makeIterator(sn),vn=pn.next();!vn.done;vn=pn.next()){var Sn=$jscomp.makeIterator(vn.value.variantIds);for(vn=Sn.next();!vn.done;vn=Sn.next())dn.add(vn.value)}for(pn=$jscomp.makeIterator(ln),vn=pn.next();!vn.done;vn=pn.next())for(Sn=$jscomp.makeIterator(vn.value.variantIds),vn=Sn.next();!vn.done;vn=Sn.next())dn.add(vn.value);for(pn=new Map,dn=$jscomp.makeIterator(dn),vn=dn.next();!vn.done;vn=dn.next())vn=vn.value,pn.set(vn,this.createEmptyVariant_(vn));for(sn=$jscomp.makeIterator(sn),dn=sn.next();!dn.done;dn=sn.next())for(dn=dn.value,vn=this.fromStreamDB_(dn,cn),Sn=$jscomp.makeIterator(dn.variantIds),dn=Sn.next();!dn.done;dn=Sn.next())dn=pn.get(dn.value),goog.asserts.assert(!dn.audio,"A variant should only have one audio stream"),dn.language=vn.language,dn.primary=dn.primary||vn.primary,dn.audio=vn;for(ln=$jscomp.makeIterator(ln),sn=ln.next();!sn.done;sn=ln.next())for(dn=sn.value,sn=this.fromStreamDB_(dn,cn),vn=$jscomp.makeIterator(dn.variantIds),dn=vn.next();!dn.done;dn=vn.next())dn=pn.get(dn.value),goog.asserts.assert(!dn.video,"A variant should only have one video stream"),dn.primary=dn.primary||sn.primary,dn.video=sn;return pn},shaka.offline.ManifestConverter.prototype.fromStreamDB_=function(sn,ln){var cn=this,dn=sn.segments.map(function(pn,vn){return cn.fromSegmentDB_(vn,pn)});return ln.notifySegments(dn),ln=new shaka.media.SegmentIndex(dn),{id:sn.id,originalId:sn.originalId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:ln,mimeType:sn.mimeType,codecs:sn.codecs,width:sn.width||void 0,height:sn.height||void 0,frameRate:sn.frameRate,pixelAspectRatio:sn.pixelAspectRatio,hdr:sn.hdr,kind:sn.kind,encrypted:sn.encrypted,drmInfos:[],keyIds:sn.keyIds,language:sn.language,label:sn.label,type:sn.type,primary:sn.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:sn.roles,forced:sn.forced,channelsCount:sn.channelsCount,audioSamplingRate:sn.audioSamplingRate,spatialAudio:sn.spatialAudio,closedCaptions:sn.closedCaptions,tilesLayout:sn.tilesLayout}},shaka.offline.ManifestConverter.prototype.fromSegmentDB_=function(sn,ln){var cn=shaka.offline.OfflineUri.segment(this.mechanism_,this.cell_,ln.dataKey);return sn=ln.initSegmentKey!=null?this.fromInitSegmentDB_(ln.initSegmentKey):null,new shaka.media.SegmentReference(ln.startTime,ln.endTime,function(){return[cn.toString()]},0,null,sn,ln.timestampOffset,ln.appendWindowStart,ln.appendWindowEnd,[],ln.tilesLayout||"")},shaka.offline.ManifestConverter.prototype.fromInitSegmentDB_=function(sn){var ln=shaka.offline.OfflineUri.segment(this.mechanism_,this.cell_,sn);return new shaka.media.InitSegmentReference(function(){return[ln.toString()]},0,null)},shaka.offline.ManifestConverter.prototype.isAudio_=function(sn){return sn.type==shaka.util.ManifestParserUtils.ContentType.AUDIO},shaka.offline.ManifestConverter.prototype.isVideo_=function(sn){return sn.type==shaka.util.ManifestParserUtils.ContentType.VIDEO},shaka.offline.ManifestConverter.prototype.isText_=function(sn){return sn.type==shaka.util.ManifestParserUtils.ContentType.TEXT},shaka.offline.ManifestConverter.prototype.isImage_=function(sn){return sn.type==shaka.util.ManifestParserUtils.ContentType.IMAGE},shaka.offline.ManifestConverter.prototype.createEmptyVariant_=function(sn){return{id:sn,language:"",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}},shaka.offline.OfflineManifestParser=function(){this.uri_=null},shaka.offline.OfflineManifestParser.prototype.configure=function(sn){},shaka.offline.OfflineManifestParser.prototype.start=function(sn,ln){var cn=this,dn,pn,vn,Sn,En,Cn,Pn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Rn){switch(Rn.nextAddress){case 1:if(dn=shaka.offline.OfflineUri.parse(sn),cn.uri_=dn,dn==null||!dn.isManifest())throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.MALFORMED_OFFLINE_URI,sn);return pn=new shaka.offline.StorageMuxer,Rn.setFinallyBlock(2),Rn.yield(pn.init(),4);case 4:return Rn.yield(pn.getCell(dn.mechanism(),dn.cell()),5);case 5:return vn=Rn.yieldResult,Rn.yield(vn.getManifests([dn.key()]),6);case 6:return Sn=Rn.yieldResult,En=Sn[0],Cn=new shaka.offline.ManifestConverter(dn.mechanism(),dn.cell()),Pn=Cn.fromManifestDB(En),ln.makeTextStreamsForClosedCaptions(Pn),Rn.return(Pn);case 2:return Rn.enterFinallyBlock(),Rn.yield(pn.destroy(),7);case 7:Rn.leaveFinallyBlock(0)}})},shaka.offline.OfflineManifestParser.prototype.stop=function(){return Promise.resolve()},shaka.offline.OfflineManifestParser.prototype.update=function(){},shaka.offline.OfflineManifestParser.prototype.onExpirationUpdated=function(sn,ln){var cn=this,dn,pn,vn,Sn,En,Cn,Pn,Rn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ln){switch(Ln.nextAddress){case 1:return goog.asserts.assert(cn.uri_,"Should not get update event before start has been called"),dn=cn.uri_,pn=new shaka.offline.StorageMuxer,Ln.setCatchFinallyBlocks(2,3),Ln.yield(pn.init(),5);case 5:return Ln.yield(pn.getCell(dn.mechanism(),dn.cell()),6);case 6:return vn=Ln.yieldResult,Ln.yield(vn.getManifests([dn.key()]),7);case 7:if(Sn=Ln.yieldResult,En=Sn[0],Cn=En.sessionIds.includes(sn),Pn=En.expiration==null||En.expiration>ln,!Cn||!Pn){Ln.jumpTo(3);break}return shaka.log.debug("Updating expiration for stored content"),Ln.yield(vn.updateManifestExpiration(dn.key(),ln),3);case 3:return Ln.enterFinallyBlock(),Ln.yield(pn.destroy(),10);case 10:Ln.leaveFinallyBlock(0);break;case 2:Rn=Ln.enterCatchBlock(),shaka.log.error("There was an error updating",dn,Rn),Ln.jumpTo(3)}})},shaka.media.ManifestParser.registerParserByMime("application/x-offline-manifest",function(){return new shaka.offline.OfflineManifestParser}),shaka.offline.OfflineScheme=function(){},shaka.offline.OfflineScheme.plugin=function(sn,ln,cn,dn){return(ln=shaka.offline.OfflineUri.parse(sn))&&ln.isManifest()?shaka.offline.OfflineScheme.getManifest_(sn):ln&&ln.isSegment()?shaka.offline.OfflineScheme.getSegment_(ln.key(),ln):shaka.util.AbortableOperation.failed(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.MALFORMED_OFFLINE_URI,sn))},shaka.offline.OfflineScheme.getManifest_=function(sn){return sn={uri:sn,originalUri:sn,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}},shaka.util.AbortableOperation.completed(sn)},shaka.offline.OfflineScheme.getSegment_=function(sn,ln){goog.asserts.assert(ln.isSegment(),"Only segment uri's should be given to getSegment");var cn=new shaka.offline.StorageMuxer;return shaka.util.AbortableOperation.completed(void 0).chain(function(){return cn.init()}).chain(function(){return cn.getCell(ln.mechanism(),ln.cell())}).chain(function(dn){return dn.getSegments([ln.key()])}).chain(function(dn){return{uri:ln,data:dn[0].data,headers:{}}}).finally(function(){return cn.destroy()})},goog.exportSymbol("shaka.offline.OfflineScheme",shaka.offline.OfflineScheme),goog.exportProperty(shaka.offline.OfflineScheme,"plugin",shaka.offline.OfflineScheme.plugin),shaka.net.NetworkingEngine.registerScheme("offline",shaka.offline.OfflineScheme.plugin),shaka.offline.SessionDeleter=function(){},shaka.offline.SessionDeleter.prototype.delete=function(sn,ln,cn){var dn=this,pn,vn,Sn,En,Cn,Pn,Rn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ln){switch(Ln.nextAddress){case 1:pn=shaka.offline.SessionDeleter,vn=[],Sn=$jscomp.makeIterator(pn.createBuckets_(cn)),En=Sn.next();case 2:if(En.done){Ln.jumpTo(4);break}return Cn=En.value,Pn=dn.doDelete_(sn,ln,Cn),Ln.yield(Pn,5);case 5:Rn=Ln.yieldResult,vn=vn.concat(Rn),En=Sn.next(),Ln.jumpTo(2);break;case 4:return Ln.return(vn)}})},shaka.offline.SessionDeleter.prototype.doDelete_=function(sn,ln,cn){var dn,pn,vn,Sn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(En){switch(En.nextAddress){case 1:return dn=new shaka.media.DrmEngine({netEngine:ln,onError:function(){},onKeyStatus:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),En.setCatchFinallyBlocks(2),dn.configure(sn),En.yield(dn.initForRemoval(cn.info.keySystem,cn.info.licenseUri,cn.info.serverCertificate,cn.info.audioCapabilities,cn.info.videoCapabilities),4);case 4:En.leaveTryBlock(3);break;case 2:return pn=En.enterCatchBlock(),shaka.log.warning("Error initializing EME",pn),En.yield(dn.destroy(),5);case 5:return En.return([]);case 3:return En.setCatchFinallyBlocks(6),En.yield(dn.setServerCertificate(),8);case 8:En.leaveTryBlock(7);break;case 6:return vn=En.enterCatchBlock(),shaka.log.warning("Error setting server certificate",vn),En.yield(dn.destroy(),9);case 9:return En.return([]);case 7:return Sn=[],En.yield(Promise.all(cn.sessionIds.map(function(Cn){var Pn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Rn){if(Rn.nextAddress==1)return Rn.setCatchFinallyBlocks(2),Rn.yield(dn.removeSession(Cn),4);if(Rn.nextAddress!=2)return Sn.push(Cn),Rn.leaveTryBlock(0);Pn=Rn.enterCatchBlock(),shaka.log.warning("Error deleting offline session",Pn),Rn.jumpToEnd()})})),10);case 10:return En.yield(dn.destroy(),11);case 11:return En.return(Sn)}})},shaka.offline.SessionDeleter.createBuckets_=function(sn){var ln=shaka.offline.SessionDeleter,cn=[];sn=$jscomp.makeIterator(sn);for(var dn=sn.next();!dn.done;dn=sn.next()){dn=dn.value;for(var pn=!1,vn=$jscomp.makeIterator(cn),Sn=vn.next();!Sn.done;Sn=vn.next())if(Sn=Sn.value,ln.isCompatible_(Sn.info,dn)){Sn.sessionIds.push(dn.sessionId),pn=!0;break}pn||cn.push({info:dn,sessionIds:[dn.sessionId]})}return cn},shaka.offline.SessionDeleter.isCompatible_=function(sn,ln){var cn=shaka.util.ArrayUtils,dn=function(pn,vn){return pn.robustness==vn.robustness&&pn.contentType==vn.contentType};return sn.keySystem==ln.keySystem&&sn.licenseUri==ln.licenseUri&&cn.hasSameElements(sn.audioCapabilities,ln.audioCapabilities,dn)&&cn.hasSameElements(sn.videoCapabilities,ln.videoCapabilities,dn)},shaka.offline.StoredContentUtils=function(){},shaka.offline.StoredContentUtils.fromManifest=function(sn,ln,cn,dn){goog.asserts.assert(ln.variants.length,"Cannot create stored content from manifest with no variants.");var pn=ln.presentationTimeline.getDuration();return ln=shaka.offline.StoredContentUtils.getTracks_(ln),{offlineUri:null,originalManifestUri:sn,duration:pn,size:cn,expiration:1/0,tracks:ln,appMetadata:dn,isIncomplete:!1}},shaka.offline.StoredContentUtils.fromManifestDB=function(sn,ln){goog.asserts.assert(ln.streams.length,"Cannot create stored content from manifestDB with no streams.");var cn=new shaka.offline.ManifestConverter(sn.mechanism(),sn.cell()).fromManifestDB(ln),dn=ln.appMetadata||{};return cn=shaka.offline.StoredContentUtils.getTracks_(cn),goog.asserts.assert(ln.expiration!=null,"Manifest expiration must be set by now!"),{offlineUri:sn.toString(),originalManifestUri:ln.originalManifestUri,duration:ln.duration,size:ln.size,expiration:ln.expiration,tracks:cn,appMetadata:dn,isIncomplete:ln.isIncomplete||!1}},shaka.offline.StoredContentUtils.getTracks_=function(sn){var ln=shaka.util.StreamUtils,cn=[],dn=ln.getPlayableVariants(sn.variants);dn=$jscomp.makeIterator(dn);for(var pn=dn.next();!pn.done;pn=dn.next())cn.push(ln.variantToTrack(pn.value));for(sn=$jscomp.makeIterator(sn.textStreams),dn=sn.next();!dn.done;dn=sn.next())cn.push(ln.textStreamToTrack(dn.value));return cn},shaka.offline.StreamBandwidthEstimator=function(){this.estimateByStreamId_={}},shaka.offline.StreamBandwidthEstimator.prototype.addVariant=function(sn){var ln=sn.audio,cn=sn.video;if(ln&&!cn&&this.setBitrate_(ln.id,ln.bandwidth||sn.bandwidth),!ln&&cn&&this.setBitrate_(cn.id,cn.bandwidth||sn.bandwidth),ln&&cn){var dn=ln.bandwidth||shaka.offline.StreamBandwidthEstimator.DEFAULT_AUDIO_BITRATE_,pn=cn.bandwidth||sn.bandwidth-dn;0>=pn&&(shaka.log.warning("Audio bit rate consumes variants bandwidth. Setting video bandwidth to match variant's bandwidth."),pn=sn.bandwidth),this.setBitrate_(ln.id,dn),this.setBitrate_(cn.id,pn)}},shaka.offline.StreamBandwidthEstimator.prototype.setBitrate_=function(sn,ln){this.estimateByStreamId_[sn]=ln},shaka.offline.StreamBandwidthEstimator.prototype.addText=function(sn){this.estimateByStreamId_[sn.id]=shaka.offline.StreamBandwidthEstimator.DEFAULT_TEXT_BITRATE_},shaka.offline.StreamBandwidthEstimator.prototype.addImage=function(sn){this.estimateByStreamId_[sn.id]=sn.bandwidth||shaka.offline.StreamBandwidthEstimator.DEFAULT_IMAGE_BITRATE_},shaka.offline.StreamBandwidthEstimator.prototype.getSegmentEstimate=function(sn,ln){return ln=ln.endTime-ln.startTime,this.getEstimate_(sn)*ln},shaka.offline.StreamBandwidthEstimator.prototype.getInitSegmentEstimate=function(sn){return .5*this.getEstimate_(sn)},shaka.offline.StreamBandwidthEstimator.prototype.getEstimate_=function(sn){return sn=this.estimateByStreamId_[sn],sn==null&&(sn=0,shaka.log.error("Asking for bitrate of stream not given to the estimator")),sn==0&&shaka.log.warning("Using bitrate of 0, this stream won't affect progress"),sn},shaka.offline.StreamBandwidthEstimator.DEFAULT_AUDIO_BITRATE_=393216,shaka.offline.StreamBandwidthEstimator.DEFAULT_TEXT_BITRATE_=52,shaka.offline.StreamBandwidthEstimator.DEFAULT_IMAGE_BITRATE_=2048,shaka.offline.Storage=function(sn){var ln=this;if(sn&&sn.constructor!=shaka.Player)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.LOCAL_PLAYER_INSTANCE_REQUIRED);this.networkingEngine_=this.config_=null,sn?(this.config_=sn.getSharedConfiguration(),this.networkingEngine_=sn.getNetworkingEngine(),goog.asserts.assert(this.networkingEngine_,"Storage should not be initialized with a player that had |destroy| called on it.")):(this.config_=shaka.util.PlayerConfiguration.createDefault(),this.networkingEngine_=new shaka.net.NetworkingEngine),this.openOperations_=[],this.openDownloadManagers_=[];var cn=!sn;this.destroyer_=new shaka.util.Destroyer(function(){var dn,pn,vn,Sn,En;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Cn){switch(Cn.nextAddress){case 1:return Cn.yield(Promise.all(ln.openDownloadManagers_.map(function(Pn){return Pn.abortAll()})),2);case 2:for(dn=function(){},pn=[],vn=$jscomp.makeIterator(ln.openOperations_),Sn=vn.next();!Sn.done;Sn=vn.next())En=Sn.value,pn.push(En.then(dn,dn));return Cn.yield(Promise.all(pn),3);case 3:if(!cn){Cn.jumpTo(4);break}return Cn.yield(ln.networkingEngine_.destroy(),4);case 4:ln.config_=null,ln.networkingEngine_=null,Cn.jumpToEnd()}})})},shaka.offline.Storage.support=function(){return shaka.util.Platform.supportsMediaSource()?shaka.offline.StorageMuxer.support():!1},shaka.offline.Storage.prototype.destroy=function(){return this.destroyer_.destroy()},shaka.offline.Storage.prototype.configure=function(sn,ln){return goog.asserts.assert(typeof sn=="object"||arguments.length==2,"String configs should have values!"),arguments.length==2&&typeof sn=="string"&&(sn=shaka.util.ConfigUtils.convertToConfigObject(sn,ln)),goog.asserts.assert(typeof sn=="object","Should be an object!"),goog.asserts.assert(this.config_,"Cannot reconfigure storage after calling destroy."),shaka.util.PlayerConfiguration.mergeConfigObjects(this.config_,sn)},shaka.offline.Storage.prototype.getConfiguration=function(){goog.asserts.assert(this.config_,"Config must not be null!");var sn=shaka.util.PlayerConfiguration.createDefault();return shaka.util.PlayerConfiguration.mergeConfigObjects(sn,this.config_,shaka.util.PlayerConfiguration.createDefault()),sn},shaka.offline.Storage.prototype.getNetworkingEngine=function(){return this.networkingEngine_},shaka.offline.Storage.prototype.store=function(sn,ln,cn){var dn=this;goog.asserts.assert(this.networkingEngine_,"Cannot call |store| after calling |destroy|.");var pn=this.getConfiguration(),vn=new shaka.offline.DownloadManager(this.networkingEngine_);return this.openDownloadManagers_.push(vn),ln=this.store_(sn,ln||{},function(){var Sn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(En){return En.nextAddress==1?(goog.asserts.assert(dn.networkingEngine_,"Should not call |store| after |destroy|"),En.yield(shaka.media.ManifestParser.getFactory(sn,dn.networkingEngine_,pn.manifest.retryParameters,cn||null),2)):(Sn=En.yieldResult,En.return(Sn()))})},pn,vn),ln=new shaka.util.AbortableOperation(ln,function(){return vn.abortAll()}),ln.finally(function(){shaka.util.ArrayUtils.remove(dn.openDownloadManagers_,vn)}),this.startAbortableOperation_(ln)},shaka.offline.Storage.prototype.store_=function(sn,ln,cn,dn,pn){var vn=this,Sn,En,Cn,Pn,Rn,Ln,Fn,Gn,Dn,Kn,qn,Zn,Yn,Jn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(rs){switch(rs.nextAddress){case 1:return vn.requireSupport_(),En=Sn=null,Cn=new shaka.offline.StorageMuxer,Ln=Rn=Pn=null,rs.setCatchFinallyBlocks(2,3),rs.yield(cn(),5);case 5:return Sn=rs.yieldResult,rs.yield(vn.parseManifest(sn,Sn,dn),6);case 6:if(Fn=rs.yieldResult,vn.ensureNotDestroyed_(),Gn=!Fn.presentationTimeline.isLive()&&!Fn.presentationTimeline.isInProgress(),!Gn)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.CANNOT_STORE_LIVE_OFFLINE,sn);return rs.yield(vn.createDrmEngine(Fn,function(us){Ln=Ln||us},dn),7);case 7:if(En=rs.yieldResult,vn.ensureNotDestroyed_(),Ln)throw Ln;return rs.yield(vn.filterManifest_(Fn,En,dn),8);case 8:return rs.yield(Cn.init(),9);case 9:return vn.ensureNotDestroyed_(),rs.yield(Cn.getActive(),10);case 10:return Pn=rs.yieldResult,vn.ensureNotDestroyed_(),goog.asserts.assert(En,"drmEngine should be non-null here."),Dn=vn.makeManifestDB_(En,Fn,sn,ln,dn,pn),Kn=Dn.manifestDB,qn=Dn.toDownload,rs.yield(Pn.cell.addManifests([Kn]),11);case 11:if(Zn=rs.yieldResult,vn.ensureNotDestroyed_(),Rn=Zn[0],goog.asserts.assert(En,"drmEngine should be non-null here."),vn.ensureNotDestroyed_(),Ln)throw Ln;return rs.yield(vn.downloadSegments_(qn,Rn,Kn,pn,dn,Pn.cell,Fn,En),12);case 12:return vn.ensureNotDestroyed_(),Yn=shaka.offline.OfflineUri.manifest(Pn.path.mechanism,Pn.path.cell,Rn),rs.return(shaka.offline.StoredContentUtils.fromManifestDB(Yn,Kn));case 3:return rs.enterFinallyBlock(),rs.yield(Cn.destroy(),13);case 13:if(!Sn){rs.jumpTo(14);break}return rs.yield(Sn.stop(),14);case 14:if(!En){rs.jumpTo(16);break}return rs.yield(En.destroy(),16);case 16:rs.leaveFinallyBlock(0);break;case 2:if(Jn=rs.enterCatchBlock(),Rn==null){rs.jumpTo(18);break}return rs.yield(shaka.offline.Storage.cleanStoredManifest(Rn),18);case 18:throw Ln||Jn}})},shaka.offline.Storage.prototype.downloadSegments_=function(sn,ln,cn,dn,pn,vn,Sn,En){var Cn=this,Pn,Rn,Ln,Fn,Gn,Dn,Kn,qn,Zn,Yn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Jn){switch(Jn.nextAddress){case 1:if(Pn={},Rn=0,Ln=function(rs,us){var as,cs,_s,Es,Qn,ms,$s;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ms){if(Ms.nextAddress==1){for(as={},cs=$jscomp.makeIterator(rs),_s=cs.next();!_s.done;as={$jscomp$loop$prop$download$631$744:as.$jscomp$loop$prop$download$631$744},_s=cs.next())as.$jscomp$loop$prop$download$631$744=_s.value,Es=as.$jscomp$loop$prop$download$631$744.makeSegmentRequest(pn),Qn=as.$jscomp$loop$prop$download$631$744.estimateId,ms=as.$jscomp$loop$prop$download$631$744.isInitSegment,$s=function(gs){return function(Ss){var js,bs,Ts;return $jscomp.asyncExecutePromiseGeneratorProgram(function(xs){if(xs.nextAddress==1)return xs.yield(vn.addSegments([{data:Ss}]),2);js=xs.yieldResult,Cn.ensureNotDestroyed_(),bs=gs.$jscomp$loop$prop$download$631$744.ref,Ts=shaka.offline.DownloadInfo.idForSegmentRef(bs),Pn[Ts]=js[0],Rn+=Ss.byteLength,xs.jumpToEnd()})}}(as),dn.queue(as.$jscomp$loop$prop$download$631$744.groupId,Es,Qn,ms,$s);return Ms.yield(dn.waitToFinish(),2)}return us?(Cn.ensureNotDestroyed_(),Cn.setManifestDrmFields_(Sn,cn,En,pn),Ms.yield(vn.updateManifest(ln,cn),0)):Ms.jumpTo(0)})},Fn=!1,Jn.setCatchFinallyBlocks(2),!Cn.getManifestIsEncrypted_(Sn)||!Fn||Cn.getManifestIncludesInitData_(Sn)){Jn.jumpTo(4);break}return Jn.yield(Ln(sn.filter(function(rs){return rs.isInitSegment}),!0),5);case 5:return Cn.ensureNotDestroyed_(),sn=sn.filter(function(rs){return!rs.isInitSegment}),Gn=Pn,Dn=Rn,Pn={},Rn=0,Jn.yield(shaka.offline.Storage.assignSegmentsToManifest(vn,ln,cn,Gn,Dn,function(){return Cn.ensureNotDestroyed_()}),6);case 6:Cn.ensureNotDestroyed_();case 4:if(Fn){Jn.jumpTo(7);break}return Jn.yield(Ln(sn,!1),8);case 8:return Cn.ensureNotDestroyed_(),Kn=Pn,qn=Rn,Pn={},Rn=0,Jn.yield(shaka.offline.Storage.assignSegmentsToManifest(vn,ln,cn,Kn,qn,function(){return Cn.ensureNotDestroyed_()}),9);case 9:Cn.ensureNotDestroyed_(),goog.asserts.assert(!cn.isIncomplete,"The manifest should be complete by now");case 7:Jn.leaveTryBlock(0);break;case 2:return Zn=Jn.enterCatchBlock(),Yn=Object.values(Pn),Jn.yield(vn.removeSegments(Yn,function(rs){}),10);case 10:throw Zn}})},shaka.offline.Storage.cleanStoredManifest=function(sn){var ln,cn,dn,pn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(vn){switch(vn.nextAddress){case 1:return ln=new shaka.offline.StorageMuxer,vn.yield(ln.init(),2);case 2:return vn.yield(ln.getActive(),3);case 3:return cn=vn.yieldResult,dn=shaka.offline.OfflineUri.manifest(cn.path.mechanism,cn.path.cell,sn),vn.yield(ln.destroy(),4);case 4:return pn=new shaka.offline.Storage,vn.yield(pn.remove(dn.toString()),0)}})},shaka.offline.Storage.assignSegmentsToManifest=function(sn,ln,cn,dn,pn,vn){var Sn,En,Cn,Pn,Rn,Ln,Fn,Gn,Dn,Kn,qn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Zn){switch(Zn.nextAddress){case 1:for(Sn=!1,Zn.setCatchFinallyBlocks(2),En=!0,Cn=$jscomp.makeIterator(cn.streams),Pn=Cn.next();!Pn.done;Pn=Cn.next())for(Rn=Pn.value,Ln=$jscomp.makeIterator(Rn.segments),Fn=Ln.next();!Fn.done;Fn=Ln.next())Gn=Fn.value,Dn=Gn.pendingSegmentRefId?dn[Gn.pendingSegmentRefId]:null,Dn!=null&&(Gn.dataKey=Dn,Gn.pendingSegmentRefId=void 0),Dn=Gn.pendingInitSegmentRefId?dn[Gn.pendingInitSegmentRefId]:null,Dn!=null&&(Gn.initSegmentKey=Dn,Gn.pendingInitSegmentRefId=void 0),Gn.pendingSegmentRefId&&(En=!1),Gn.pendingInitSegmentRefId&&(En=!1);return cn.size+=pn,En&&(cn.isIncomplete=!1),Zn.yield(sn.updateManifest(ln,cn),4);case 4:Sn=!0,vn(),Zn.leaveTryBlock(0);break;case 2:return Kn=Zn.enterCatchBlock(),Zn.yield(shaka.offline.Storage.cleanStoredManifest(ln),5);case 5:if(Sn){Zn.jumpTo(6);break}return qn=Object.values(dn),Zn.yield(sn.removeSegments(qn,function(Yn){}),6);case 6:throw Kn}})},shaka.offline.Storage.prototype.filterManifest_=function(sn,ln,cn){var dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn,Gn,Dn,Kn,qn,Zn,Yn,Jn,rs,us,as,cs,_s,Es,Qn,ms,$s,Ms,gs,Ss;return $jscomp.asyncExecutePromiseGeneratorProgram(function(js){switch(js.nextAddress){case 1:return dn={width:1/0,height:1/0},shaka.util.StreamUtils.filterByRestrictions(sn,cn.restrictions,dn),js.yield(shaka.util.StreamUtils.filterManifestByMediaCapabilities(sn,cn.offline.usePersistentLicense),2);case 2:for(pn=[],vn=cn.preferredAudioChannelCount,Sn=cn.preferredDecodingAttributes,En=cn.preferredVideoCodecs,Cn=cn.preferredAudioCodecs,shaka.util.StreamUtils.chooseCodecsAndFilterManifest(sn,En,Cn,vn,Sn),Pn=$jscomp.makeIterator(sn.variants),Rn=Pn.next();!Rn.done;Rn=Pn.next())Ln=Rn.value,goog.asserts.assert(shaka.util.StreamUtils.isPlayable(Ln),'We should have already filtered by "is playable"'),pn.push(shaka.util.StreamUtils.variantToTrack(Ln));for(Fn=$jscomp.makeIterator(sn.textStreams),Gn=Fn.next();!Gn.done;Gn=Fn.next())Dn=Gn.value,pn.push(shaka.util.StreamUtils.textStreamToTrack(Dn));for(Kn=$jscomp.makeIterator(sn.imageStreams),qn=Kn.next();!qn.done;qn=Kn.next())Zn=qn.value,pn.push(shaka.util.StreamUtils.imageStreamToTrack(Zn));return js.yield(cn.offline.trackSelectionCallback(pn),3);case 3:for(Yn=js.yieldResult,Jn=sn.presentationTimeline.getDuration(),rs=0,us=$jscomp.makeIterator(Yn),as=us.next();!as.done;as=us.next())cs=as.value,_s=cs.bandwidth*Jn/8,rs+=_s;return js.setCatchFinallyBlocks(4),js.yield(cn.offline.downloadSizeCallback(rs),6);case 6:if(Es=js.yieldResult,!Es)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.STORAGE_LIMIT_REACHED);js.leaveTryBlock(5);break;case 4:throw Qn=js.enterCatchBlock(),Qn instanceof shaka.util.Error?Qn:(shaka.log.warning("downloadSizeCallback has produced an unexpected error",Qn),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.DOWNLOAD_SIZE_CALLBACK_ERROR));case 5:for(ms=new Set,$s=new Set,Ms=new Set,gs=$jscomp.makeIterator(Yn),as=gs.next();!as.done;as=gs.next())Ss=as.value,Ss.type=="variant"&&ms.add(Ss.id),Ss.type=="text"&&$s.add(Ss.id),Ss.type=="image"&&Ms.add(Ss.id);sn.variants=sn.variants.filter(function(bs){return ms.has(bs.id)}),sn.textStreams=sn.textStreams.filter(function(bs){return $s.has(bs.id)}),sn.imageStreams=sn.imageStreams.filter(function(bs){return Ms.has(bs.id)}),shaka.offline.Storage.validateManifest_(sn),js.jumpToEnd()}})},shaka.offline.Storage.prototype.makeManifestDB_=function(sn,ln,cn,dn,pn,vn){var Sn=shaka.offline.StoredContentUtils.fromManifest(cn,ln,0,dn),En=pn.offline.progressCallback;vn.setCallbacks(function(Gn,Dn){Sn.size=Dn,En(Sn,Gn)},function(Gn,Dn){Cn&&pn.offline.usePersistentLicense&&Pn==Dn&&sn.newInitData("cenc",Gn)});var Cn=this.getManifestIsEncrypted_(ln)&&!this.getManifestIncludesInitData_(ln),Pn=null;if(Cn){var Rn=sn.getDrmInfo();Pn=shaka.offline.Storage.defaultSystemIds_.get(Rn.keySystem)}Rn=new shaka.offline.StreamBandwidthEstimator;for(var Ln=$jscomp.makeIterator(ln.textStreams),Fn=Ln.next();!Fn.done;Fn=Ln.next())Rn.addText(Fn.value);for(Ln=$jscomp.makeIterator(ln.imageStreams),Fn=Ln.next();!Fn.done;Fn=Ln.next())Rn.addImage(Fn.value);for(Fn=$jscomp.makeIterator(ln.variants),Ln=Fn.next();!Ln.done;Ln=Fn.next())Rn.addVariant(Ln.value);return Rn=this.createStreams_(vn,Rn,sn,ln,pn),vn=Rn.streams,Rn=Rn.toDownload,Fn=sn.getDrmInfo(),Ln=pn.offline.usePersistentLicense,Fn&&Ln&&(Fn.initData=[]),{manifestDB:{creationTime:Date.now(),originalManifestUri:cn,duration:ln.presentationTimeline.getDuration(),size:0,expiration:sn.getExpiration(),streams:vn,sessionIds:Ln?sn.getSessionIds():[],drmInfo:Fn,appMetadata:dn,isIncomplete:!0,sequenceMode:ln.sequenceMode},toDownload:Rn}},shaka.offline.Storage.prototype.getManifestIsEncrypted_=function(sn){return sn.variants.some(function(ln){var cn=ln.audio&&ln.audio.encrypted;return ln.video&&ln.video.encrypted||cn})},shaka.offline.Storage.prototype.getManifestIncludesInitData_=function(sn){return sn.variants.some(function(ln){return(ln.video?ln.video.drmInfos:[]).concat(ln.audio?ln.audio.drmInfos:[]).some(function(cn){return cn.initData&&cn.initData.length})})},shaka.offline.Storage.prototype.setManifestDrmFields_=function(sn,ln,cn,dn){if(ln.expiration=cn.getExpiration(),cn=cn.getSessionIds(),ln.sessionIds=dn.offline.usePersistentLicense?cn:[],this.getManifestIsEncrypted_(sn)&&dn.offline.usePersistentLicense&&!cn.length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.NO_INIT_DATA_FOR_OFFLINE)},shaka.offline.Storage.prototype.remove=function(sn){return this.startOperation_(this.remove_(sn))},shaka.offline.Storage.prototype.remove_=function(sn){var ln=this,cn,dn,pn,vn,Sn,En;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Cn){switch(Cn.nextAddress){case 1:if(ln.requireSupport_(),cn=shaka.offline.OfflineUri.parse(sn),cn==null||!cn.isManifest())throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.MALFORMED_OFFLINE_URI,sn);return dn=cn,pn=new shaka.offline.StorageMuxer,Cn.setFinallyBlock(2),Cn.yield(pn.init(),4);case 4:return Cn.yield(pn.getCell(dn.mechanism(),dn.cell()),5);case 5:return vn=Cn.yieldResult,Cn.yield(vn.getManifests([dn.key()]),6);case 6:return Sn=Cn.yieldResult,En=Sn[0],Cn.yield(Promise.all([ln.removeFromDRM_(dn,En,pn),ln.removeFromStorage_(vn,dn,En)]),2);case 2:return Cn.enterFinallyBlock(),Cn.yield(pn.destroy(),8);case 8:Cn.leaveFinallyBlock(0)}})},shaka.offline.Storage.getCapabilities_=function(sn,ln){for(var cn=shaka.util.MimeUtils,dn=[],pn=$jscomp.makeIterator(sn.streams),vn=pn.next();!vn.done;vn=pn.next())vn=vn.value,ln&&vn.type=="video"?dn.push({contentType:cn.getFullType(vn.mimeType,vn.codecs),robustness:sn.drmInfo.videoRobustness}):ln||vn.type!="audio"||dn.push({contentType:cn.getFullType(vn.mimeType,vn.codecs),robustness:sn.drmInfo.audioRobustness});return dn},shaka.offline.Storage.prototype.removeFromDRM_=function(sn,ln,cn){var dn=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(pn){return goog.asserts.assert(dn.networkingEngine_,"Cannot be destroyed"),pn.yield(shaka.offline.Storage.deleteLicenseFor_(dn.networkingEngine_,dn.config_.drm,cn,ln),0)})},shaka.offline.Storage.prototype.removeFromStorage_=function(sn,ln,cn){var dn=this,pn=shaka.offline.Storage.getAllSegmentIds_(cn),vn=pn.length+1,Sn=0,En=shaka.offline.StoredContentUtils.fromManifestDB(ln,cn);return cn=function(Cn){Sn+=1,dn.config_.offline.progressCallback(En,Sn/vn)},Promise.all([sn.removeSegments(pn,cn),sn.removeManifests([ln.key()],cn)])},shaka.offline.Storage.prototype.removeEmeSessions=function(){return this.startOperation_(this.removeEmeSessions_())},shaka.offline.Storage.prototype.removeEmeSessions_=function(){var sn=this,ln,cn,dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Fn){switch(Fn.nextAddress){case 1:return sn.requireSupport_(),goog.asserts.assert(sn.networkingEngine_,"Cannot be destroyed"),ln=sn.networkingEngine_,cn=sn.config_.drm,dn=new shaka.offline.StorageMuxer,pn=new shaka.offline.SessionDeleter,vn=!1,Fn.setFinallyBlock(2),Fn.yield(dn.init(),4);case 4:Sn=[],dn.forEachEmeSessionCell(function(Gn){return Sn.push(Gn)}),En=$jscomp.makeIterator(Sn),Cn=En.next();case 5:if(Cn.done){Fn.jumpTo(2);break}return Pn=Cn.value,Fn.yield(Pn.getAll(),8);case 8:return Rn=Fn.yieldResult,Fn.yield(pn.delete(cn,ln,Rn),9);case 9:return Ln=Fn.yieldResult,Fn.yield(Pn.remove(Ln),10);case 10:Ln.length!=Rn.length&&(vn=!0),Cn=En.next(),Fn.jumpTo(5);break;case 2:return Fn.enterFinallyBlock(),Fn.yield(dn.destroy(),11);case 11:Fn.leaveFinallyBlock(3);break;case 3:return Fn.return(!vn)}})},shaka.offline.Storage.prototype.list=function(){return this.startOperation_(this.list_())},shaka.offline.Storage.prototype.list_=function(){var sn=this,ln,cn,dn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(pn){switch(pn.nextAddress){case 1:return sn.requireSupport_(),ln=[],cn=new shaka.offline.StorageMuxer,pn.setFinallyBlock(2),pn.yield(cn.init(),4);case 4:return dn=Promise.resolve(),cn.forEachCell(function(vn,Sn){dn=dn.then(function(){var En;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Cn){if(Cn.nextAddress==1)return Cn.yield(Sn.getAllManifests(),2);En=Cn.yieldResult,En.forEach(function(Pn,Rn){Rn=shaka.offline.OfflineUri.manifest(vn.mechanism,vn.cell,Rn),Pn=shaka.offline.StoredContentUtils.fromManifestDB(Rn,Pn),ln.push(Pn)}),Cn.jumpToEnd()})})}),pn.yield(dn,2);case 2:return pn.enterFinallyBlock(),pn.yield(cn.destroy(),6);case 6:pn.leaveFinallyBlock(3);break;case 3:return pn.return(ln)}})},shaka.offline.Storage.prototype.parseManifest=function(sn,ln,cn){var dn=this,pn,vn,Sn,En,Cn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Pn){if(Pn.nextAddress==1)return pn=null,vn=dn.networkingEngine_,goog.asserts.assert(vn,"Should be initialized!"),Sn={networkingEngine:vn,modifyManifestRequest:function(Rn,Ln){},modifySegmentRequest:function(Rn,Ln){},filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(Rn){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(Rn){pn=Rn},isLowLatencyMode:function(){return!1},isAutoLowLatencyMode:function(){return!1},enableLowLatencyMode:function(){},updateDuration:function(){},newDrmInfo:function(Rn){}},ln.configure(cn.manifest),dn.ensureNotDestroyed_(),Pn.yield(ln.start(sn,Sn),2);if(Pn.nextAddress!=3)return En=Pn.yieldResult,dn.ensureNotDestroyed_(),Cn=shaka.offline.Storage.getAllStreamsFromManifest_(En),Pn.yield(Promise.all(shaka.util.Iterables.map(Cn,function(Rn){return Rn.createSegmentIndex()})),3);if(dn.ensureNotDestroyed_(),pn)throw pn;return Pn.return(En)})},shaka.offline.Storage.prototype.createDrmEngine=function(sn,ln,cn){var dn=this,pn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(vn){switch(vn.nextAddress){case 1:return goog.asserts.assert(dn.networkingEngine_,"Cannot call |createDrmEngine| after |destroy|"),pn=new shaka.media.DrmEngine({netEngine:dn.networkingEngine_,onError:ln,onKeyStatus:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),pn.configure(cn.drm),vn.yield(pn.initForStorage(sn.variants,cn.offline.usePersistentLicense),2);case 2:return vn.yield(pn.setServerCertificate(),3);case 3:return vn.yield(pn.createOrLoad(),4);case 4:return vn.return(pn)}})},shaka.offline.Storage.prototype.createStreams_=function(sn,ln,cn,dn,pn){cn=new Map;var vn=shaka.offline.Storage.getAllStreamsFromManifest_(dn),Sn=new Map;vn=$jscomp.makeIterator(vn);for(var En=vn.next();!En.done;En=vn.next()){En=En.value;var Cn=this.createStream_(sn,ln,dn,En,pn,cn);Sn.set(En.id,Cn)}for(sn=$jscomp.makeIterator(dn.variants),ln=sn.next();!ln.done;ln=sn.next())ln=ln.value,ln.audio&&Sn.get(ln.audio.id).variantIds.push(ln.id),ln.video&&Sn.get(ln.video.id).variantIds.push(ln.id);return{streams:Array.from(Sn.values()),toDownload:Array.from(cn.values())}},shaka.offline.Storage.prototype.createStream_=function(sn,ln,cn,dn,pn,vn){var Sn={id:dn.id,originalId:dn.originalId,primary:dn.primary,type:dn.type,mimeType:dn.mimeType,codecs:dn.codecs,frameRate:dn.frameRate,pixelAspectRatio:dn.pixelAspectRatio,hdr:dn.hdr,kind:dn.kind,language:dn.language,label:dn.label,width:dn.width||null,height:dn.height||null,encrypted:dn.encrypted,keyIds:dn.keyIds,segments:[],variantIds:[],roles:dn.roles,forced:dn.forced,channelsCount:dn.channelsCount,audioSamplingRate:dn.audioSamplingRate,spatialAudio:dn.spatialAudio,closedCaptions:dn.closedCaptions,tilesLayout:dn.tilesLayout};cn=cn.presentationTimeline.getSegmentAvailabilityStart();var En=pn.offline.numberOfParallelDownloads,Cn=0;return shaka.offline.Storage.forEachSegment_(dn,cn,function(Pn){var Rn=shaka.offline.DownloadInfo.idForSegmentRef(Pn),Ln=void 0;if(!vn.has(Rn)){var Fn=sn.addDownloadEstimate(ln.getSegmentEstimate(dn.id,Pn));Fn=new shaka.offline.DownloadInfo(Pn,Fn,Cn,!1),vn.set(Rn,Fn)}Pn.initSegmentReference&&(Ln=shaka.offline.DownloadInfo.idForSegmentRef(Pn.initSegmentReference),vn.has(Ln)||(Fn=sn.addDownloadEstimate(ln.getInitSegmentEstimate(dn.id)),Fn=new shaka.offline.DownloadInfo(Pn.initSegmentReference,Fn,Cn,!0),vn.set(Ln,Fn))),Sn.segments.push({pendingInitSegmentRefId:Ln,initSegmentKey:Ln?0:null,startTime:Pn.startTime,endTime:Pn.endTime,appendWindowStart:Pn.appendWindowStart,appendWindowEnd:Pn.appendWindowEnd,timestampOffset:Pn.timestampOffset,tilesLayout:Pn.tilesLayout,pendingSegmentRefId:Rn,dataKey:0}),Cn=(Cn+1)%En}),Sn},shaka.offline.Storage.forEachSegment_=function(sn,ln,cn){if(ln=sn.segmentIndex.find(ln),ln!=null)for(var dn=sn.segmentIndex.get(ln);dn;)cn(dn),dn=sn.segmentIndex.get(++ln)},shaka.offline.Storage.prototype.ensureNotDestroyed_=function(){if(this.destroyer_.destroyed())throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.OPERATION_ABORTED)},shaka.offline.Storage.prototype.requireSupport_=function(){if(!shaka.offline.Storage.support())throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.STORAGE_NOT_SUPPORTED)},shaka.offline.Storage.prototype.startOperation_=function(sn){var ln=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cn){return cn.nextAddress==1?(ln.openOperations_.push(sn),cn.setFinallyBlock(2),cn.yield(sn,4)):cn.nextAddress!=2?cn.return(cn.yieldResult):(cn.enterFinallyBlock(),shaka.util.ArrayUtils.remove(ln.openOperations_,sn),cn.leaveFinallyBlock(0))})},shaka.offline.Storage.prototype.startAbortableOperation_=function(sn){var ln=this,cn=sn.promise;return this.openOperations_.push(cn),sn.finally(function(){shaka.util.ArrayUtils.remove(ln.openOperations_,cn)})},shaka.offline.Storage.getAllSegmentIds_=function(sn){var ln=new Set;sn=$jscomp.makeIterator(sn.streams);for(var cn=sn.next();!cn.done;cn=sn.next()){cn=$jscomp.makeIterator(cn.value.segments);for(var dn=cn.next();!dn.done;dn=cn.next())dn=dn.value,dn.initSegmentKey!=null&&ln.add(dn.initSegmentKey),ln.add(dn.dataKey)}return Array.from(ln)},shaka.offline.Storage.deleteAll=function(){var sn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ln){return ln.nextAddress==1?(sn=new shaka.offline.StorageMuxer,ln.setFinallyBlock(2),ln.yield(sn.erase(),2)):ln.nextAddress!=5?(ln.enterFinallyBlock(),ln.yield(sn.destroy(),5)):ln.leaveFinallyBlock(0)})},shaka.offline.Storage.deleteLicenseFor_=function(sn,ln,cn,dn){var pn,vn,Sn,En;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Cn){return Cn.nextAddress==1?dn.drmInfo?(pn=cn.getEmeSessionCell(),vn=dn.sessionIds.map(function(Pn){return{sessionId:Pn,keySystem:dn.drmInfo.keySystem,licenseUri:dn.drmInfo.licenseServerUri,serverCertificate:dn.drmInfo.serverCertificate,audioCapabilities:shaka.offline.Storage.getCapabilities_(dn,!1),videoCapabilities:shaka.offline.Storage.getCapabilities_(dn,!0)}}),Sn=new shaka.offline.SessionDeleter,Cn.yield(Sn.delete(ln,sn,vn),2)):Cn.return():Cn.nextAddress!=3?(En=Cn.yieldResult,Cn.yield(pn.remove(En),3)):Cn.yield(pn.add(vn.filter(function(Pn){return!En.includes(Pn.sessionId)})),0)})},shaka.offline.Storage.getAllStreamsFromManifest_=function(sn){for(var ln=new Set,cn=$jscomp.makeIterator(sn.textStreams),dn=cn.next();!dn.done;dn=cn.next())ln.add(dn.value);for(cn=$jscomp.makeIterator(sn.imageStreams),dn=cn.next();!dn.done;dn=cn.next())ln.add(dn.value);for(sn=$jscomp.makeIterator(sn.variants),cn=sn.next();!cn.done;cn=sn.next())cn=cn.value,cn.audio&&ln.add(cn.audio),cn.video&&ln.add(cn.video);return ln},shaka.offline.Storage.validateManifest_=function(sn){var ln=new Set(sn.variants.map(function(Sn){return Sn.video})),cn=new Set(sn.variants.map(function(Sn){return Sn.audio}));sn=sn.textStreams,1<ln.size&&shaka.log.warning("Multiple video tracks selected to be stored"),ln=$jscomp.makeIterator(cn);for(var dn=ln.next();!dn.done;dn=ln.next()){dn=dn.value;for(var pn=$jscomp.makeIterator(cn),vn=pn.next();!vn.done;vn=pn.next())vn=vn.value,dn!=vn&&dn.language==vn.language&&shaka.log.warning("Similar audio tracks were selected to be stored",dn.id,vn.id)}for(cn=$jscomp.makeIterator(sn),ln=cn.next();!ln.done;ln=cn.next())for(ln=ln.value,dn=$jscomp.makeIterator(sn),pn=dn.next();!pn.done;pn=dn.next())pn=pn.value,ln!=pn&&ln.language==pn.language&&shaka.log.warning("Similar text tracks were selected to be stored",ln.id,pn.id)},goog.exportSymbol("shaka.offline.Storage",shaka.offline.Storage),goog.exportProperty(shaka.offline.Storage,"deleteAll",shaka.offline.Storage.deleteAll),goog.exportProperty(shaka.offline.Storage.prototype,"list",shaka.offline.Storage.prototype.list),goog.exportProperty(shaka.offline.Storage.prototype,"removeEmeSessions",shaka.offline.Storage.prototype.removeEmeSessions),goog.exportProperty(shaka.offline.Storage.prototype,"remove",shaka.offline.Storage.prototype.remove),goog.exportProperty(shaka.offline.Storage.prototype,"store",shaka.offline.Storage.prototype.store),goog.exportProperty(shaka.offline.Storage.prototype,"getNetworkingEngine",shaka.offline.Storage.prototype.getNetworkingEngine),goog.exportProperty(shaka.offline.Storage.prototype,"getConfiguration",shaka.offline.Storage.prototype.getConfiguration),goog.exportProperty(shaka.offline.Storage.prototype,"configure",shaka.offline.Storage.prototype.configure),goog.exportProperty(shaka.offline.Storage.prototype,"destroy",shaka.offline.Storage.prototype.destroy),goog.exportProperty(shaka.offline.Storage,"support",shaka.offline.Storage.support),shaka.offline.Storage.defaultSystemIds_=new Map().set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware","9a04f07998404286ab92e65be0885f95").set("com.adobe.primetime","f239e769efa348509c16a903c6932efb"),shaka.Player.registerSupportPlugin("offline",shaka.offline.Storage.support),shaka.polyfill=function(){},shaka.polyfill.installAll=function(){for(var sn=$jscomp.makeIterator(shaka.polyfill.polyfills_),ln=sn.next();!ln.done;ln=sn.next()){ln=ln.value;try{ln.callback()}catch(cn){shaka.log.alwaysWarn("Error installing polyfill!",cn)}}},shaka.polyfill.register=function(sn,ln){for(sn={priority:ln||0,callback:sn},ln=0;ln<shaka.polyfill.polyfills_.length;ln++)if(shaka.polyfill.polyfills_[ln].priority<sn.priority){shaka.polyfill.polyfills_.splice(ln,0,sn);return}shaka.polyfill.polyfills_.push(sn)},goog.exportSymbol("shaka.polyfill",shaka.polyfill),goog.exportProperty(shaka.polyfill,"register",shaka.polyfill.register),goog.exportProperty(shaka.polyfill,"installAll",shaka.polyfill.installAll),shaka.polyfill.polyfills_=[],shaka.polyfill.AbortController=function(){this.signal_=new shaka.polyfill.AbortController.AbortSignal},shaka.polyfill.AbortController.install=function(){window.AbortController||(window.AbortController=shaka.polyfill.AbortController,window.AbortSignal=shaka.polyfill.AbortController.AbortSignal)},shaka.polyfill.AbortController.prototype.abort=function(sn){this.signal_.doAbort_(sn)},$jscomp.global.Object.defineProperties(shaka.polyfill.AbortController.prototype,{signal:{configurable:!0,enumerable:!0,get:function(){return this.signal_}}}),goog.exportProperty(shaka.polyfill,"AbortController",shaka.polyfill.AbortController),goog.exportProperty(shaka.polyfill.AbortController,"install",shaka.polyfill.AbortController.install),shaka.polyfill.AbortController.AbortSignal=function(){shaka.util.FakeEventTarget.call(this),this.aborted_=!1,this.reason_=void 0,this.onabort=null},$jscomp.inherits(shaka.polyfill.AbortController.AbortSignal,shaka.util.FakeEventTarget),shaka.polyfill.AbortController.AbortSignal.prototype.doAbort_=function(sn){this.aborted_||(this.aborted_=!0,this.reason_=sn,this.reason_===void 0&&(this.reason_=new DOMException("signal is aborted without reason","AbortError")),sn=new shaka.util.FakeEvent("abort"),this.onabort&&this.onabort(sn),this.dispatchEvent(sn))},shaka.polyfill.AbortController.AbortSignal.abort=function(sn){var ln=new shaka.polyfill.AbortController.AbortSignal;return ln.doAbort_(sn),ln},shaka.polyfill.AbortController.AbortSignal.timeout=function(sn){var ln=new shaka.polyfill.AbortController.AbortSignal;return window.setTimeout(function(){ln.doAbort_(new DOMException("signal timed out","TimeoutError"))},sn),ln},$jscomp.global.Object.defineProperties(shaka.polyfill.AbortController.AbortSignal.prototype,{aborted:{configurable:!0,enumerable:!0,get:function(){return this.aborted_}},reason:{configurable:!0,enumerable:!0,get:function(){return this.reason_}}}),shaka.polyfill.register(shaka.polyfill.AbortController.install),shaka.polyfill.Aria=function(){},shaka.polyfill.Aria.install=function(){if(Object.getOwnPropertyDescriptor(Element.prototype,"ariaHidden"))shaka.log.info("Using native ARIAMixin interface.");else{shaka.log.info("ARIAMixin interface not detected. Installing polyfill.");for(var sn=$jscomp.makeIterator(["ariaHidden","ariaLabel","ariaPressed","ariaSelected"]),ln=sn.next();!ln.done;ln=sn.next())shaka.polyfill.Aria.addARIAMixinAttribute_(ln.value)}},shaka.polyfill.Aria.addARIAMixinAttribute_=function(sn){var ln="aria-"+sn.toLowerCase().replace(/^aria/,"");Object.defineProperty(Element.prototype,sn,{get:function(){return this.getAttribute(ln)},set:function(cn){cn==null||cn==null?this.removeAttribute(ln):this.setAttribute(ln,cn)}})},goog.exportProperty(shaka.polyfill,"Aria",shaka.polyfill.Aria),goog.exportProperty(shaka.polyfill.Aria,"install",shaka.polyfill.Aria.install),shaka.polyfill.register(shaka.polyfill.Aria.install),shaka.polyfill.EncryptionScheme=function(){},shaka.polyfill.EncryptionScheme.install=function(){EncryptionSchemePolyfills.install()},goog.exportProperty(shaka.polyfill,"EncryptionScheme",shaka.polyfill.EncryptionScheme),goog.exportProperty(shaka.polyfill.EncryptionScheme,"install",shaka.polyfill.EncryptionScheme.install),shaka.polyfill.register(shaka.polyfill.EncryptionScheme.install,-2),shaka.polyfill.Fullscreen=function(){},shaka.polyfill.Fullscreen.install=function(){if(window.Document){var sn=Element.prototype;sn.requestFullscreen=sn.requestFullscreen||sn.mozRequestFullScreen||sn.msRequestFullscreen||sn.webkitRequestFullscreen,sn=Document.prototype,sn.exitFullscreen=sn.exitFullscreen||sn.mozCancelFullScreen||sn.msExitFullscreen||sn.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),sn=shaka.polyfill.Fullscreen.proxyEvent_,document.addEventListener("webkitfullscreenchange",sn),document.addEventListener("webkitfullscreenerror",sn),document.addEventListener("mozfullscreenchange",sn),document.addEventListener("mozfullscreenerror",sn),document.addEventListener("MSFullscreenChange",sn),document.addEventListener("MSFullscreenError",sn)}},shaka.polyfill.Fullscreen.proxyEvent_=function(sn){var ln=sn.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),cn=document.createEvent("Event");cn.initEvent(ln,sn.bubbles,sn.cancelable),sn.target.dispatchEvent(cn)},goog.exportProperty(shaka.polyfill,"Fullscreen",shaka.polyfill.Fullscreen),goog.exportProperty(shaka.polyfill.Fullscreen,"install",shaka.polyfill.Fullscreen.install),shaka.polyfill.register(shaka.polyfill.Fullscreen.install),shaka.polyfill.MediaCapabilities=function(){},shaka.polyfill.MediaCapabilities.install=function(){var sn=!0;(shaka.util.Platform.isApple()||shaka.util.Platform.isPS5()||shaka.util.Platform.isPS4()||shaka.util.Platform.isWebOS()||shaka.util.Platform.isTizen()||shaka.util.Platform.isChromecast()||shaka.util.Platform.isEOS()||shaka.util.Platform.isHisense())&&(sn=!1),sn&&navigator.mediaCapabilities?shaka.log.info("MediaCapabilities: Native mediaCapabilities support found."):(shaka.log.info("MediaCapabilities: install"),navigator.mediaCapabilities||(navigator.mediaCapabilities={}),shaka.polyfill.MediaCapabilities.originalMcap=navigator.mediaCapabilities,navigator.mediaCapabilities.decodingInfo=shaka.polyfill.MediaCapabilities.decodingInfo_)},shaka.polyfill.MediaCapabilities.decodingInfo_=function(sn){var ln,cn,dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn,Gn,Dn,Kn,qn,Zn,Yn,Jn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(rs){switch(rs.nextAddress){case 1:if(ln={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:sn},!sn)return rs.return(ln);if(cn=sn.video,dn=sn.audio,pn=shaka.media.Capabilities,sn.type=="media-source"){if(!shaka.util.Platform.supportsMediaSource()||cn&&(shaka.util.Platform.isChromecast()?vn=shaka.polyfill.MediaCapabilities.canCastDisplayType_(cn):shaka.util.Platform.isTizen()?(Sn=cn.contentType,cn.width&&cn.height&&(Sn+="; width="+cn.width,Sn+="; height="+cn.height),cn.framerate&&(Sn+="; framerate="+cn.framerate),cn.bitrate&&(Sn+="; bitrate="+cn.bitrate),vn=pn.isTypeSupported(Sn)):vn=pn.isTypeSupported(cn.contentType),!vn)||dn&&(En=dn.contentType,Cn=pn.isTypeSupported(En),!Cn))return rs.return(ln)}else if(sn.type=="file"){if(cn&&(Pn=cn.contentType,Rn=shaka.util.Platform.supportsMediaType(Pn),!Rn)||dn&&(Ln=dn.contentType,Fn=shaka.util.Platform.supportsMediaType(Ln),!Fn))return rs.return(ln)}else return rs.return(ln);return sn.keySystemConfiguration?(Gn=sn.keySystemConfiguration,Dn=[],Kn=[],Gn.audio&&(qn={robustness:Gn.audio.robustness||"",contentType:sn.audio.contentType},Dn.push(qn)),Gn.video&&(Zn={robustness:Gn.video.robustness||"",contentType:sn.video.contentType},Kn.push(Zn)),Yn={initDataTypes:[Gn.initDataType],distinctiveIdentifier:Gn.distinctiveIdentifier,persistentState:Gn.persistentState,sessionTypes:Gn.sessionTypes},Dn.length&&(Yn.audioCapabilities=Dn),Kn.length&&(Yn.videoCapabilities=Kn),rs.setCatchFinallyBlocks(3),rs.yield(navigator.requestMediaKeySystemAccess(Gn.keySystem,[Yn]),5)):(ln.supported=!0,rs.return(Promise.resolve(ln)));case 5:Jn=rs.yieldResult,rs.leaveTryBlock(4);break;case 3:rs.enterCatchBlock(),shaka.log.info("navigator.requestMediaKeySystemAccess failed.");case 4:Jn&&(ln.supported=!0,ln.keySystemAccess=Jn);case 2:return rs.return(ln)}})},shaka.polyfill.MediaCapabilities.canCastDisplayType_=function(sn){if(!(window.cast&&cast.__platform__&&cast.__platform__.canDisplayType))return shaka.log.warning("Expected cast APIs to be available! Falling back to shaka.media.Capabilities.isTypeSupported() for type support."),shaka.media.Capabilities.isTypeSupported(sn.contentType);var ln=sn.contentType;return sn.width&&sn.height&&(ln+="; width="+sn.width+"; height="+sn.height),sn.framerate&&(ln+="; framerate="+sn.framerate),sn.transferFunction==="pq"&&(ln+="; eotf=smpte2084"),cast.__platform__.canDisplayType(ln)},goog.exportProperty(shaka.polyfill,"MediaCapabilities",shaka.polyfill.MediaCapabilities),goog.exportProperty(shaka.polyfill.MediaCapabilities,"install",shaka.polyfill.MediaCapabilities.install),shaka.polyfill.MediaCapabilities.originalMcap=null,goog.exportProperty(shaka.polyfill.MediaCapabilities,"originalMcap",shaka.polyfill.MediaCapabilities.originalMcap),shaka.polyfill.register(shaka.polyfill.MediaCapabilities.install,-1),shaka.polyfill.MediaSource=function(){},shaka.polyfill.MediaSource.install=function(){shaka.log.debug("MediaSource.install");var sn=shaka.util.Platform.safariVersion();window.MediaSource?window.cast&&cast.__platform__&&cast.__platform__.canDisplayType?(shaka.log.info("Patching Chromecast MSE bugs."),shaka.polyfill.MediaSource.patchCastIsTypeSupported_()):sn?12>=sn?(shaka.log.info("Patching Safari 11 & 12 MSE bugs."),shaka.polyfill.MediaSource.stubAbort_(),shaka.polyfill.MediaSource.patchRemovalRange_()):15>=sn&&(shaka.log.info("Patching Safari 13 & 14 & 15 MSE bugs."),shaka.polyfill.MediaSource.stubAbort_()):shaka.util.Platform.isEdge()?(shaka.log.info("Rejecting TS container."),shaka.polyfill.MediaSource.rejectContainer_("mp2t")):shaka.util.Platform.isTizen2()||shaka.util.Platform.isTizen3()||shaka.util.Platform.isTizen4()?(shaka.log.info("Rejecting Opus."),shaka.polyfill.MediaSource.rejectCodec_("opus")):shaka.log.info("Using native MSE as-is."):shaka.log.info("No MSE implementation available."),window.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&(shaka.log.info("Patching vp09 support queries."),shaka.polyfill.MediaSource.patchVp09_())},shaka.polyfill.MediaSource.stubAbort_=function(){var sn=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var ln=$jscomp.getRestArguments.apply(0,arguments);return ln=sn.apply(this,ln),ln.abort=function(){},ln}},shaka.polyfill.MediaSource.patchRemovalRange_=function(){var sn=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(ln,cn){return sn.call(this,ln,cn-.001)}},shaka.polyfill.MediaSource.rejectContainer_=function(sn){var ln=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(cn){return shaka.util.MimeUtils.getContainerType(cn)!=sn&&ln(cn)}},shaka.polyfill.MediaSource.rejectCodec_=function(sn){var ln=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(cn){return shaka.util.MimeUtils.getCodecBase(cn)!=sn&&ln(cn)}},shaka.polyfill.MediaSource.patchCastIsTypeSupported_=function(){var sn=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(ln){var cn=ln.split(/ *; */);return cn.shift(),cn.some(function(dn){return dn.startsWith("codecs=")})?cast.__platform__.canDisplayType(ln):sn(ln)}},shaka.polyfill.MediaSource.patchVp09_=function(){var sn=MediaSource.isTypeSupported;shaka.util.Platform.isWebOS()||(MediaSource.isTypeSupported=function(ln){var cn=ln.split(/ *; */),dn=cn.findIndex(function(Sn){return Sn.startsWith("codecs=")});if(0>dn)return sn(ln);var pn=cn[dn].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),vn=pn.findIndex(function(Sn){return Sn.startsWith("vp09")});return 0<=vn&&(pn[vn]="vp9",cn[dn]='codecs="'+pn.join(",")+'"',ln=cn.join("; ")),sn(ln)})},goog.exportProperty(shaka.polyfill,"MediaSource",shaka.polyfill.MediaSource),goog.exportProperty(shaka.polyfill.MediaSource,"install",shaka.polyfill.MediaSource.install),shaka.polyfill.register(shaka.polyfill.MediaSource.install),shaka.polyfill.Orientation=function(){},shaka.polyfill.Orientation.install=function(){screen.orientation||window.orientation!=null&&shaka.polyfill.Orientation.installBasedOnWindowMethods_()},shaka.polyfill.Orientation.installBasedOnWindowMethods_=function(){var sn=new shaka.polyfill.Orientation.FakeOrientation;screen.orientation=sn;var ln=function(){switch(window.orientation){case-90:sn.type="landscape-secondary",sn.angle=270;break;case 0:sn.type="portrait-primary",sn.angle=0;break;case 90:sn.type="landscape-primary",sn.angle=90;break;case 180:sn.type="portrait-secondary",sn.angle=180}};ln(),window.addEventListener("orientationchange",function(){ln(),sn.dispatchChangeEvent()})},goog.exportProperty(shaka.polyfill,"Orientation",shaka.polyfill.Orientation),goog.exportProperty(shaka.polyfill.Orientation,"install",shaka.polyfill.Orientation.install),shaka.polyfill.Orientation.FakeOrientation=function(){shaka.util.FakeEventTarget.call(this),this.type="",this.angle=0},$jscomp.inherits(shaka.polyfill.Orientation.FakeOrientation,shaka.util.FakeEventTarget),shaka.polyfill.Orientation.FakeOrientation.prototype.dispatchChangeEvent=function(){var sn=new shaka.util.FakeEvent("change");this.dispatchEvent(sn)},shaka.polyfill.Orientation.FakeOrientation.prototype.lock=function(sn){var ln=function(dn){return screen.lockOrientation?screen.lockOrientation(dn):screen.mozLockOrientation?screen.mozLockOrientation(dn):screen.msLockOrientation?screen.msLockOrientation(dn):!1},cn=!1;switch(sn){case"natural":cn=ln("default");break;case"any":cn=!0,this.unlock();break;default:cn=ln(sn)}return cn?Promise.resolve():(sn=Error("screen.orientation.lock() is not available on this device"),sn.name="NotSupportedError",sn.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(sn))},shaka.polyfill.Orientation.FakeOrientation.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},shaka.polyfill.register(shaka.polyfill.Orientation.install),shaka.polyfill.PatchedMediaKeysApple=function(){},shaka.polyfill.PatchedMediaKeysApple.install=function(sn){var ln=shaka.polyfill.PatchedMediaKeysApple;window.HTMLVideoElement&&window.WebKitMediaKeys&&(sn!==void 0&&sn&&(ln.enableUninstall=!0,ln.originalHTMLMediaElementPrototypeMediaKeys=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"mediaKeys"),ln.originalHTMLMediaElementPrototypeSetMediaKeys=HTMLMediaElement.prototype.setMediaKeys,ln.originalWindowMediaKeys=window.MediaKeys,ln.originalWindowMediaKeySystemAccess=window.MediaKeySystemAccess,ln.originalNavigatorRequestMediaKeySystemAccess=navigator.requestMediaKeySystemAccess),shaka.log.info("Using Apple-prefixed EME"),delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=ln.setMediaKeys,window.MediaKeys=ln.MediaKeys,window.MediaKeySystemAccess=ln.MediaKeySystemAccess,navigator.requestMediaKeySystemAccess=ln.requestMediaKeySystemAccess,window.shakaMediaKeysPolyfill=!0)},shaka.polyfill.PatchedMediaKeysApple.uninstall=function(){var sn=shaka.polyfill.PatchedMediaKeysApple;sn.enableUninstall&&(shaka.log.info("Un-installing Apple-prefixed EME"),sn.enableUninstall=!1,Object.defineProperty(HTMLMediaElement.prototype,"mediaKeys",sn.originalHTMLMediaElementPrototypeMediaKeys),HTMLMediaElement.prototype.setMediaKeys=sn.originalHTMLMediaElementPrototypeSetMediaKeys,window.MediaKeys=sn.originalWindowMediaKeys,window.MediaKeySystemAccess=sn.originalWindowMediaKeySystemAccess,navigator.requestMediaKeySystemAccess=sn.originalNavigatorRequestMediaKeySystemAccess,sn.originalWindowMediaKeys=null,sn.originalWindowMediaKeySystemAccess=null,sn.originalHTMLMediaElementPrototypeSetMediaKeys=null,sn.originalNavigatorRequestMediaKeySystemAccess=null,sn.originalHTMLMediaElementPrototypeMediaKeys=null,window.shakaMediaKeysPolyfill=!1)},shaka.polyfill.PatchedMediaKeysApple.requestMediaKeySystemAccess=function(sn,ln){shaka.log.debug("PatchedMediaKeysApple.requestMediaKeySystemAccess"),goog.asserts.assert(this==navigator,'bad "this" for requestMediaKeySystemAccess');var cn=shaka.polyfill.PatchedMediaKeysApple;try{var dn=new cn.MediaKeySystemAccess(sn,ln);return Promise.resolve(dn)}catch(pn){return Promise.reject(pn)}},shaka.polyfill.PatchedMediaKeysApple.setMediaKeys=function(sn){shaka.log.debug("PatchedMediaKeysApple.setMediaKeys"),goog.asserts.assert(this instanceof HTMLMediaElement,'bad "this" for setMediaKeys');var ln=shaka.polyfill.PatchedMediaKeysApple,cn=this.mediaKeys;return cn&&cn!=sn&&(goog.asserts.assert(cn instanceof ln.MediaKeys,"non-polyfill instance of oldMediaKeys"),cn.setMedia(null)),delete this.mediaKeys,(this.mediaKeys=sn)?(goog.asserts.assert(sn instanceof ln.MediaKeys,"non-polyfill instance of newMediaKeys"),sn.setMedia(this)):Promise.resolve()},shaka.polyfill.PatchedMediaKeysApple.onWebkitNeedKey_=function(sn){if(shaka.log.debug("PatchedMediaKeysApple.onWebkitNeedKey_",sn),goog.asserts.assert(this.mediaKeys instanceof shaka.polyfill.PatchedMediaKeysApple.MediaKeys,"non-polyfill instance of newMediaKeys"),goog.asserts.assert(sn.initData!=null,"missing init data!"),sn=shaka.util.BufferUtils.toUint8(sn.initData),shaka.util.BufferUtils.toDataView(sn).getUint32(0,!0)+4!=sn.byteLength)throw new RangeError("Malformed FairPlay init data");sn=shaka.util.StringUtils.fromUTF16(sn.subarray(4),!0),sn=shaka.util.StringUtils.toUTF8(sn);var ln=new Event("encrypted");ln.initDataType="skd",ln.initData=shaka.util.BufferUtils.toArrayBuffer(sn),this.dispatchEvent(ln)},goog.exportProperty(shaka.polyfill,"PatchedMediaKeysApple",shaka.polyfill.PatchedMediaKeysApple),goog.exportProperty(shaka.polyfill.PatchedMediaKeysApple,"uninstall",shaka.polyfill.PatchedMediaKeysApple.uninstall),goog.exportProperty(shaka.polyfill.PatchedMediaKeysApple,"install",shaka.polyfill.PatchedMediaKeysApple.install),shaka.polyfill.PatchedMediaKeysApple.MediaKeySystemAccess=function(sn,ln){if(shaka.log.debug("PatchedMediaKeysApple.MediaKeySystemAccess"),this.keySystem=sn,sn.startsWith("com.apple.fps")){for(sn=$jscomp.makeIterator(ln),ln=sn.next();!ln.done;ln=sn.next())if(ln=this.checkConfig_(ln.value)){this.configuration_=ln;return}}throw sn=Error("Unsupported keySystem"),sn.name="NotSupportedError",sn.code=DOMException.NOT_SUPPORTED_ERR,sn},shaka.polyfill.PatchedMediaKeysApple.MediaKeySystemAccess.prototype.checkConfig_=function(sn){if(sn.persistentState=="required")return null;var ln={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:sn.initDataTypes,sessionTypes:["temporary"],label:sn.label},cn=!1,dn=!1;if(sn.audioCapabilities){for(var pn=$jscomp.makeIterator(sn.audioCapabilities),vn=pn.next();!vn.done;vn=pn.next())if(vn=vn.value,vn.contentType){cn=!0;var Sn=vn.contentType.split(";")[0];WebKitMediaKeys.isTypeSupported(this.keySystem,Sn)&&(ln.audioCapabilities.push(vn),dn=!0)}}if(sn.videoCapabilities)for(sn=$jscomp.makeIterator(sn.videoCapabilities),vn=sn.next();!vn.done;vn=sn.next())pn=vn.value,pn.contentType&&(cn=!0,vn=pn.contentType.split(";")[0],WebKitMediaKeys.isTypeSupported(this.keySystem,vn)&&(ln.videoCapabilities.push(pn),dn=!0));return cn||(dn=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),dn?ln:null},shaka.polyfill.PatchedMediaKeysApple.MediaKeySystemAccess.prototype.createMediaKeys=function(){shaka.log.debug("PatchedMediaKeysApple.MediaKeySystemAccess.createMediaKeys");var sn=new shaka.polyfill.PatchedMediaKeysApple.MediaKeys(this.keySystem);return Promise.resolve(sn)},shaka.polyfill.PatchedMediaKeysApple.MediaKeySystemAccess.prototype.getConfiguration=function(){return shaka.log.debug("PatchedMediaKeysApple.MediaKeySystemAccess.getConfiguration"),this.configuration_},shaka.polyfill.PatchedMediaKeysApple.MediaKeys=function(sn){shaka.log.debug("PatchedMediaKeysApple.MediaKeys"),this.nativeMediaKeys_=new WebKitMediaKeys(sn),this.eventManager_=new shaka.util.EventManager},shaka.polyfill.PatchedMediaKeysApple.MediaKeys.prototype.createSession=function(sn){if(shaka.log.debug("PatchedMediaKeysApple.MediaKeys.createSession"),sn=sn||"temporary",sn!="temporary")throw new TypeError("Session type "+sn+" is unsupported on this platform.");return new shaka.polyfill.PatchedMediaKeysApple.MediaKeySession(this.nativeMediaKeys_,sn)},shaka.polyfill.PatchedMediaKeysApple.MediaKeys.prototype.setServerCertificate=function(sn){return shaka.log.debug("PatchedMediaKeysApple.MediaKeys.setServerCertificate"),Promise.resolve(!1)},shaka.polyfill.PatchedMediaKeysApple.MediaKeys.prototype.setMedia=function(sn){var ln=this,cn=shaka.polyfill.PatchedMediaKeysApple;if(this.eventManager_.removeAll(),!sn)return Promise.resolve();this.eventManager_.listen(sn,"webkitneedkey",cn.onWebkitNeedKey_);try{return shaka.util.MediaReadyState.waitForReadyState(sn,HTMLMediaElement.HAVE_METADATA,this.eventManager_,function(){sn.webkitSetMediaKeys(ln.nativeMediaKeys_)}),Promise.resolve()}catch(dn){return Promise.reject(dn)}},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession=function(sn,ln){shaka.log.debug("PatchedMediaKeysApple.MediaKeySession"),shaka.util.FakeEventTarget.call(this),this.nativeMediaKeySession_=null,this.nativeMediaKeys_=sn,this.updatePromise_=this.generateRequestPromise_=null,this.eventManager_=new shaka.util.EventManager,this.sessionId="",this.expiration=NaN,this.closed=new shaka.util.PublicPromise,this.keyStatuses=new shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap},$jscomp.inherits(shaka.polyfill.PatchedMediaKeysApple.MediaKeySession,shaka.util.FakeEventTarget),shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.generateRequest=function(sn,ln){var cn=this;shaka.log.debug("PatchedMediaKeysApple.MediaKeySession.generateRequest"),this.generateRequestPromise_=new shaka.util.PublicPromise;try{var dn=this.nativeMediaKeys_.createSession("video/mp4",shaka.util.BufferUtils.toUint8(ln));this.nativeMediaKeySession_=dn,this.sessionId=dn.sessionId||"",this.eventManager_.listen(this.nativeMediaKeySession_,"webkitkeymessage",function(pn){return cn.onWebkitKeyMessage_(pn)}),this.eventManager_.listen(dn,"webkitkeyadded",function(pn){return cn.onWebkitKeyAdded_(pn)}),this.eventManager_.listen(dn,"webkitkeyerror",function(pn){return cn.onWebkitKeyError_(pn)}),this.updateKeyStatus_("status-pending")}catch(pn){this.generateRequestPromise_.reject(pn)}return this.generateRequestPromise_},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.load=function(){return shaka.log.debug("PatchedMediaKeysApple.MediaKeySession.load"),Promise.reject(Error("MediaKeySession.load not yet supported"))},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.update=function(sn){shaka.log.debug("PatchedMediaKeysApple.MediaKeySession.update"),this.updatePromise_=new shaka.util.PublicPromise;try{this.nativeMediaKeySession_.update(shaka.util.BufferUtils.toUint8(sn))}catch(ln){this.updatePromise_.reject(ln)}return this.updatePromise_},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.close=function(){shaka.log.debug("PatchedMediaKeysApple.MediaKeySession.close");try{this.nativeMediaKeySession_.close(),this.closed.resolve(),this.eventManager_.removeAll()}catch(sn){this.closed.reject(sn)}return this.closed},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.remove=function(){return shaka.log.debug("PatchedMediaKeysApple.MediaKeySession.remove"),Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.onWebkitKeyMessage_=function(sn){shaka.log.debug("PatchedMediaKeysApple.onWebkitKeyMessage_",sn),goog.asserts.assert(this.generateRequestPromise_,"generateRequestPromise_ should be set before now!"),this.generateRequestPromise_&&(this.generateRequestPromise_.resolve(),this.generateRequestPromise_=null);var ln=this.keyStatuses.getStatus()==null;sn=new Map().set("messageType",ln?"license-request":"license-renewal").set("message",shaka.util.BufferUtils.toArrayBuffer(sn.message)),sn=new shaka.util.FakeEvent("message",sn),this.dispatchEvent(sn)},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.onWebkitKeyAdded_=function(sn){shaka.log.debug("PatchedMediaKeysApple.onWebkitKeyAdded_",sn),goog.asserts.assert(!this.generateRequestPromise_,"Key added during generate!"),goog.asserts.assert(this.updatePromise_,"updatePromise_ should be set before now!"),this.updatePromise_&&(this.updateKeyStatus_("usable"),this.updatePromise_.resolve(),this.updatePromise_=null)},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.onWebkitKeyError_=function(sn){if(shaka.log.debug("PatchedMediaKeysApple.onWebkitKeyError_",sn),sn=Error("EME PatchedMediaKeysApple key error"),sn.errorCode=this.nativeMediaKeySession_.error,this.generateRequestPromise_!=null)this.generateRequestPromise_.reject(sn),this.generateRequestPromise_=null;else if(this.updatePromise_!=null)this.updatePromise_.reject(sn),this.updatePromise_=null;else switch(this.nativeMediaKeySession_.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:this.updateKeyStatus_("output-not-allowed");break;default:this.updateKeyStatus_("internal-error")}},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.updateKeyStatus_=function(sn){this.keyStatuses.setStatus(sn),sn=new shaka.util.FakeEvent("keystatuseschange"),this.dispatchEvent(sn)},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap=function(){this.size=0,this.status_=void 0},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap.prototype.setStatus=function(sn){this.size=sn==null?0:1,this.status_=sn},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap.prototype.getStatus=function(){return this.status_},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap.prototype.forEach=function(sn){this.status_&&sn(this.status_,shaka.media.DrmEngine.DUMMY_KEY_ID.value())},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap.prototype.get=function(sn){if(this.has(sn))return this.status_},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap.prototype.has=function(sn){var ln=shaka.media.DrmEngine.DUMMY_KEY_ID.value();return!!(this.status_&&shaka.util.BufferUtils.equal(sn,ln))},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap.prototype.entries=function(){goog.asserts.assert(!1,"Not used!  Provided only for the compiler.")},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap.prototype.keys=function(){goog.asserts.assert(!1,"Not used!  Provided only for the compiler.")},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap.prototype.values=function(){goog.asserts.assert(!1,"Not used!  Provided only for the compiler.")},shaka.polyfill.PatchedMediaKeysNop=function(){},shaka.polyfill.PatchedMediaKeysNop.install=function(){if(!(!window.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){shaka.log.info("EME not available.");var sn=shaka.polyfill.PatchedMediaKeysNop;navigator.requestMediaKeySystemAccess=sn.requestMediaKeySystemAccess,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=sn.setMediaKeys,window.MediaKeys=sn.MediaKeys,window.MediaKeySystemAccess=sn.MediaKeySystemAccess,window.shakaMediaKeysPolyfill=!0}},shaka.polyfill.PatchedMediaKeysNop.requestMediaKeySystemAccess=function(sn,ln){return shaka.log.debug("PatchedMediaKeysNop.requestMediaKeySystemAccess"),goog.asserts.assert(this==navigator,'bad "this" for requestMediaKeySystemAccess'),Promise.reject(Error("The key system specified is not supported."))},shaka.polyfill.PatchedMediaKeysNop.setMediaKeys=function(sn){return shaka.log.debug("PatchedMediaKeysNop.setMediaKeys"),goog.asserts.assert(this instanceof HTMLMediaElement,'bad "this" for setMediaKeys'),sn==null?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))},goog.exportProperty(shaka.polyfill,"PatchedMediaKeysNop",shaka.polyfill.PatchedMediaKeysNop),goog.exportProperty(shaka.polyfill.PatchedMediaKeysNop,"install",shaka.polyfill.PatchedMediaKeysNop.install),shaka.polyfill.PatchedMediaKeysNop.MediaKeys=function(){throw new TypeError("Illegal constructor.")},shaka.polyfill.PatchedMediaKeysNop.MediaKeys.prototype.createSession=function(){},shaka.polyfill.PatchedMediaKeysNop.MediaKeys.prototype.setServerCertificate=function(){},shaka.polyfill.PatchedMediaKeysNop.MediaKeySystemAccess=function(){throw this.keySystem="",new TypeError("Illegal constructor.")},shaka.polyfill.PatchedMediaKeysNop.MediaKeySystemAccess.prototype.getConfiguration=function(){},shaka.polyfill.PatchedMediaKeysNop.MediaKeySystemAccess.prototype.createMediaKeys=function(){},shaka.polyfill.register(shaka.polyfill.PatchedMediaKeysNop.install,-10),shaka.polyfill.PatchedMediaKeysWebkit=function(){},shaka.polyfill.PatchedMediaKeysWebkit.install=function(){var sn=shaka.polyfill.PatchedMediaKeysWebkit;if(!(!window.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)shaka.log.info("Using webkit-prefixed EME v0.1b"),sn.prefix_="webkit";else if(HTMLMediaElement.prototype.generateKeyRequest)shaka.log.info("Using nonprefixed EME v0.1b");else return;goog.asserts.assert(HTMLMediaElement.prototype[sn.prefixApi_("generateKeyRequest")],"PatchedMediaKeysWebkit APIs not available!"),navigator.requestMediaKeySystemAccess=sn.requestMediaKeySystemAccess,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=sn.setMediaKeys,window.MediaKeys=sn.MediaKeys,window.MediaKeySystemAccess=sn.MediaKeySystemAccess,window.shakaMediaKeysPolyfill=!0}},shaka.polyfill.PatchedMediaKeysWebkit.prefixApi_=function(sn){var ln=shaka.polyfill.PatchedMediaKeysWebkit.prefix_;return ln?ln+sn.charAt(0).toUpperCase()+sn.slice(1):sn},shaka.polyfill.PatchedMediaKeysWebkit.requestMediaKeySystemAccess=function(sn,ln){shaka.log.debug("PatchedMediaKeysWebkit.requestMediaKeySystemAccess"),goog.asserts.assert(this==navigator,'bad "this" for requestMediaKeySystemAccess');var cn=shaka.polyfill.PatchedMediaKeysWebkit;try{var dn=new cn.MediaKeySystemAccess(sn,ln);return Promise.resolve(dn)}catch(pn){return Promise.reject(pn)}},shaka.polyfill.PatchedMediaKeysWebkit.setMediaKeys=function(sn){shaka.log.debug("PatchedMediaKeysWebkit.setMediaKeys"),goog.asserts.assert(this instanceof HTMLMediaElement,'bad "this" for setMediaKeys');var ln=shaka.polyfill.PatchedMediaKeysWebkit,cn=this.mediaKeys;return cn&&cn!=sn&&(goog.asserts.assert(cn instanceof ln.MediaKeys,"non-polyfill instance of oldMediaKeys"),cn.setMedia(null)),delete this.mediaKeys,(this.mediaKeys=sn)&&(goog.asserts.assert(sn instanceof ln.MediaKeys,"non-polyfill instance of newMediaKeys"),sn.setMedia(this)),Promise.resolve()},shaka.polyfill.PatchedMediaKeysWebkit.getVideoElement_=function(){var sn=document.getElementsByTagName("video");return sn.length?sn[0]:document.createElement("video")},goog.exportProperty(shaka.polyfill,"PatchedMediaKeysWebkit",shaka.polyfill.PatchedMediaKeysWebkit),goog.exportProperty(shaka.polyfill.PatchedMediaKeysWebkit,"install",shaka.polyfill.PatchedMediaKeysWebkit.install),shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySystemAccess=function(sn,ln){shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySystemAccess"),this.internalKeySystem_=this.keySystem=sn;var cn=!1;sn=="org.w3.clearkey"&&(this.internalKeySystem_="webkit-org.w3.clearkey",cn=!1);var dn=!1,pn=shaka.polyfill.PatchedMediaKeysWebkit.getVideoElement_();ln=$jscomp.makeIterator(ln);for(var vn=ln.next();!vn.done;vn=ln.next()){vn=vn.value;var Sn={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:vn.initDataTypes,sessionTypes:["temporary"],label:vn.label},En=!1;if(vn.audioCapabilities){for(var Cn=$jscomp.makeIterator(vn.audioCapabilities),Pn=Cn.next();!Pn.done;Pn=Cn.next())if(Pn=Pn.value,Pn.contentType){En=!0;var Rn=Pn.contentType.split(";")[0];pn.canPlayType(Rn,this.internalKeySystem_)&&(Sn.audioCapabilities.push(Pn),dn=!0)}}if(vn.videoCapabilities)for(Cn=$jscomp.makeIterator(vn.videoCapabilities),Pn=Cn.next();!Pn.done;Pn=Cn.next())Pn=Pn.value,Pn.contentType&&(En=!0,pn.canPlayType(Pn.contentType,this.internalKeySystem_)&&(Sn.videoCapabilities.push(Pn),dn=!0));if(En||(dn=pn.canPlayType("video/mp4",this.internalKeySystem_)||pn.canPlayType("video/webm",this.internalKeySystem_)),vn.persistentState=="required"&&(cn?(Sn.persistentState="required",Sn.sessionTypes=["persistent-license"]):dn=!1),dn){this.configuration_=Sn;return}}throw cn="Unsupported keySystem",(sn=="org.w3.clearkey"||sn=="com.widevine.alpha")&&(cn="None of the requested configurations were supported."),sn=Error(cn),sn.name="NotSupportedError",sn.code=DOMException.NOT_SUPPORTED_ERR,sn},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySystemAccess.prototype.createMediaKeys=function(){shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySystemAccess.createMediaKeys");var sn=new shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys(this.internalKeySystem_);return Promise.resolve(sn)},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySystemAccess.prototype.getConfiguration=function(){return shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySystemAccess.getConfiguration"),this.configuration_},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys=function(sn){shaka.log.debug("PatchedMediaKeysWebkit.MediaKeys"),this.keySystem_=sn,this.media_=null,this.eventManager_=new shaka.util.EventManager,this.newSessions_=[],this.sessionMap_=new Map},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys.prototype.setMedia=function(sn){var ln=this;this.media_=sn,this.eventManager_.removeAll();var cn=shaka.polyfill.PatchedMediaKeysWebkit.prefix_;sn&&(this.eventManager_.listen(sn,cn+"needkey",function(dn){return ln.onWebkitNeedKey_(dn)}),this.eventManager_.listen(sn,cn+"keymessage",function(dn){return ln.onWebkitKeyMessage_(dn)}),this.eventManager_.listen(sn,cn+"keyadded",function(dn){return ln.onWebkitKeyAdded_(dn)}),this.eventManager_.listen(sn,cn+"keyerror",function(dn){return ln.onWebkitKeyError_(dn)}))},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys.prototype.createSession=function(sn){if(shaka.log.debug("PatchedMediaKeysWebkit.MediaKeys.createSession"),sn=sn||"temporary",sn!="temporary"&&sn!="persistent-license")throw new TypeError("Session type "+sn+" is unsupported on this platform.");var ln=shaka.polyfill.PatchedMediaKeysWebkit,cn=this.media_||document.createElement("video");return cn.src||(cn.src="about:blank"),sn=new ln.MediaKeySession(cn,this.keySystem_,sn),this.newSessions_.push(sn),sn},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys.prototype.setServerCertificate=function(sn){return shaka.log.debug("PatchedMediaKeysWebkit.MediaKeys.setServerCertificate"),Promise.resolve(!1)},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys.prototype.onWebkitNeedKey_=function(sn){shaka.log.debug("PatchedMediaKeysWebkit.onWebkitNeedKey_",sn),goog.asserts.assert(this.media_,"media_ not set in onWebkitNeedKey_");var ln=new CustomEvent("encrypted");ln.initDataType="cenc",ln.initData=shaka.util.BufferUtils.toArrayBuffer(sn.initData),this.media_.dispatchEvent(ln)},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys.prototype.onWebkitKeyMessage_=function(sn){shaka.log.debug("PatchedMediaKeysWebkit.onWebkitKeyMessage_",sn);var ln=this.findSession_(sn.sessionId);if(ln){var cn=ln.keyStatuses.getStatus()==null;sn=new Map().set("messageType",cn?"licenserequest":"licenserenewal").set("message",sn.message),sn=new shaka.util.FakeEvent("message",sn),ln.generated(),ln.dispatchEvent(sn)}else shaka.log.error("Session not found",sn.sessionId)},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys.prototype.onWebkitKeyAdded_=function(sn){shaka.log.debug("PatchedMediaKeysWebkit.onWebkitKeyAdded_",sn),sn=this.findSession_(sn.sessionId),goog.asserts.assert(sn,"unable to find session in onWebkitKeyAdded_"),sn&&sn.ready()},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys.prototype.onWebkitKeyError_=function(sn){shaka.log.debug("PatchedMediaKeysWebkit.onWebkitKeyError_",sn);var ln=this.findSession_(sn.sessionId);goog.asserts.assert(ln,"unable to find session in onWebkitKeyError_"),ln&&ln.handleError(sn)},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys.prototype.findSession_=function(sn){var ln=this.sessionMap_.get(sn);return ln?(shaka.log.debug("PatchedMediaKeysWebkit.MediaKeys.findSession_",ln),ln):(ln=this.newSessions_.shift())?(ln.sessionId=sn,this.sessionMap_.set(sn,ln),shaka.log.debug("PatchedMediaKeysWebkit.MediaKeys.findSession_",ln),ln):null},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession=function(sn,ln,cn){shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession"),shaka.util.FakeEventTarget.call(this),this.media_=sn,this.initialized_=!1,this.updatePromise_=this.generatePromise_=null,this.keySystem_=ln,this.type_=cn,this.sessionId="",this.expiration=NaN,this.closed=new shaka.util.PublicPromise,this.keyStatuses=new shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap},$jscomp.inherits(shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession,shaka.util.FakeEventTarget),shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.generated=function(){shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession.generated"),this.generatePromise_&&(this.generatePromise_.resolve(),this.generatePromise_=null)},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.ready=function(){shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession.ready"),this.updateKeyStatus_("usable"),this.updatePromise_&&this.updatePromise_.resolve(),this.updatePromise_=null},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.handleError=function(sn){shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession.handleError",sn);var ln=Error("EME v0.1b key error"),cn=sn.errorCode;cn.systemCode=sn.systemCode,ln.errorCode=cn,!sn.sessionId&&this.generatePromise_?(sn.systemCode==45&&(ln.message="Unsupported session type."),this.generatePromise_.reject(ln),this.generatePromise_=null):sn.sessionId&&this.updatePromise_?(this.updatePromise_.reject(ln),this.updatePromise_=null):(ln=sn.systemCode,sn.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?this.updateKeyStatus_("output-restricted"):ln==1?this.updateKeyStatus_("expired"):this.updateKeyStatus_("internal-error"))},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.generate_=function(sn,ln){var cn=this,dn=shaka.polyfill.PatchedMediaKeysWebkit;if(this.initialized_)return Promise.reject(Error("The session is already initialized."));this.initialized_=!0;try{if(this.type_=="persistent-license"){var pn=shaka.util.StringUtils;if(ln)var vn=shaka.util.BufferUtils.toUint8(pn.toUTF8("LOAD_SESSION|"+ln));else{goog.asserts.assert(sn,"expecting init data");var Sn=pn.toUTF8("PERSISTENT|");vn=shaka.util.Uint8ArrayUtils.concat(Sn,sn)}}else goog.asserts.assert(this.type_=="temporary","expected temporary session"),goog.asserts.assert(!ln,"unexpected offline session ID"),goog.asserts.assert(sn,"expecting init data"),vn=shaka.util.BufferUtils.toUint8(sn);goog.asserts.assert(vn,"init data not set!")}catch(Cn){return Promise.reject(Cn)}goog.asserts.assert(this.generatePromise_==null,"generatePromise_ should be null"),this.generatePromise_=new shaka.util.PublicPromise;var En=dn.prefixApi_("generateKeyRequest");try{this.media_[En](this.keySystem_,vn)}catch(Cn){if(Cn.name!="InvalidStateError")return this.generatePromise_=null,Promise.reject(Cn);new shaka.util.Timer(function(){try{cn.media_[En](cn.keySystem_,vn)}catch(Pn){cn.generatePromise_.reject(Pn),cn.generatePromise_=null}}).tickAfter(.01)}return this.generatePromise_},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.update_=function(sn,ln){var cn=this,dn=shaka.polyfill.PatchedMediaKeysWebkit;if(this.updatePromise_)this.updatePromise_.then(function(){return cn.update_(sn,ln)}).catch(function(){return cn.update_(sn,ln)});else{if(this.updatePromise_=sn,this.keySystem_=="webkit-org.w3.clearkey"){var pn=shaka.util.Uint8ArrayUtils,vn=shaka.util.StringUtils.fromUTF8(ln),Sn=JSON.parse(vn);Sn.keys[0].kty!="oct"&&(this.updatePromise_.reject(Error("Response is not a valid JSON Web Key Set.")),this.updatePromise_=null),vn=pn.fromBase64(Sn.keys[0].k),pn=pn.fromBase64(Sn.keys[0].kid)}else vn=shaka.util.BufferUtils.toUint8(ln),pn=null;dn=dn.prefixApi_("addKey");try{this.media_[dn](this.keySystem_,vn,pn,this.sessionId)}catch(En){this.updatePromise_.reject(En),this.updatePromise_=null}}},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.updateKeyStatus_=function(sn){this.keyStatuses.setStatus(sn),sn=new shaka.util.FakeEvent("keystatuseschange"),this.dispatchEvent(sn)},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.generateRequest=function(sn,ln){return shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession.generateRequest"),this.generate_(ln,null)},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.load=function(sn){return shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession.load"),this.type_=="persistent-license"?this.generate_(null,sn):Promise.reject(Error("Not a persistent session."))},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.update=function(sn){shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession.update",sn),goog.asserts.assert(this.sessionId,"update without session ID");var ln=new shaka.util.PublicPromise;return this.update_(ln,sn),ln},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.close=function(){var sn=shaka.polyfill.PatchedMediaKeysWebkit;if(shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession.close"),this.type_!="persistent-license"){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;sn=sn.prefixApi_("cancelKeyRequest");try{this.media_[sn](this.keySystem_,this.sessionId)}catch{}}return this.closed.resolve(),this.closed},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.remove=function(){return shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession.remove"),this.type_!="persistent-license"?Promise.reject(Error("Not a persistent session.")):this.close()},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap=function(){this.size=0,this.status_=void 0},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap.prototype.setStatus=function(sn){this.size=sn==null?0:1,this.status_=sn},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap.prototype.getStatus=function(){return this.status_},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap.prototype.forEach=function(sn){this.status_&&sn(this.status_,shaka.media.DrmEngine.DUMMY_KEY_ID.value())},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap.prototype.get=function(sn){if(this.has(sn))return this.status_},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap.prototype.has=function(sn){var ln=shaka.media.DrmEngine.DUMMY_KEY_ID.value();return!!(this.status_&&shaka.util.BufferUtils.equal(sn,ln))},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap.prototype.entries=function(){goog.asserts.assert(!1,"Not used!  Provided only for compiler.")},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap.prototype.keys=function(){goog.asserts.assert(!1,"Not used!  Provided only for compiler.")},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap.prototype.values=function(){goog.asserts.assert(!1,"Not used!  Provided only for compiler.")},shaka.polyfill.PatchedMediaKeysWebkit.prefix_="",shaka.polyfill.register(shaka.polyfill.PatchedMediaKeysWebkit.install),shaka.polyfill.PiPWebkit=function(){},shaka.polyfill.PiPWebkit.install=function(){if(window.HTMLVideoElement){var sn=HTMLVideoElement.prototype;if((!sn.requestPictureInPicture||!document.exitPictureInPicture)&&sn.webkitSupportsPresentationMode){var ln=shaka.polyfill.PiPWebkit;shaka.log.debug("PiPWebkit.install"),document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,sn.requestPictureInPicture=ln.requestPictureInPicture_,Object.defineProperty(sn,"disablePictureInPicture",{get:ln.getDisablePictureInPicture_,set:ln.setDisablePictureInPicture_,enumerable:!0,configurable:!0}),document.exitPictureInPicture=ln.exitPictureInPicture_,document.addEventListener("webkitpresentationmodechanged",ln.proxyEvent_,!0)}}},shaka.polyfill.PiPWebkit.proxyEvent_=function(sn){if(sn=sn.target,sn.webkitPresentationMode==shaka.polyfill.PiPWebkit.PIP_MODE_){document.pictureInPictureElement=sn;var ln=new Event("enterpictureinpicture");sn.dispatchEvent(ln)}else document.pictureInPictureElement==sn&&(document.pictureInPictureElement=null),ln=new Event("leavepictureinpicture"),sn.dispatchEvent(ln)},shaka.polyfill.PiPWebkit.requestPictureInPicture_=function(){var sn=shaka.polyfill.PiPWebkit;return this.webkitSupportsPresentationMode(sn.PIP_MODE_)?(this.webkitSetPresentationMode(sn.PIP_MODE_),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))},shaka.polyfill.PiPWebkit.exitPictureInPicture_=function(){var sn=shaka.polyfill.PiPWebkit,ln=document.pictureInPictureElement;return ln?(ln.webkitSetPresentationMode(sn.INLINE_MODE_),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))},shaka.polyfill.PiPWebkit.getDisablePictureInPicture_=function(){return this.hasAttribute("disablePictureInPicture")?!0:!this.webkitSupportsPresentationMode(shaka.polyfill.PiPWebkit.PIP_MODE_)},shaka.polyfill.PiPWebkit.setDisablePictureInPicture_=function(sn){sn?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")},goog.exportProperty(shaka.polyfill,"PiPWebkit",shaka.polyfill.PiPWebkit),goog.exportProperty(shaka.polyfill.PiPWebkit,"install",shaka.polyfill.PiPWebkit.install),shaka.polyfill.PiPWebkit.PIP_MODE_="picture-in-picture",shaka.polyfill.PiPWebkit.INLINE_MODE_="inline",shaka.polyfill.register(shaka.polyfill.PiPWebkit.install),shaka.polyfill.RandomUUID=function(){},shaka.polyfill.RandomUUID.install=function(){shaka.log.debug("randomUUID.install"),window.crypto?"randomUUID"in window.crypto?shaka.log.debug("RandomUUID: Native window.crypto.randomUUID() support found."):window.crypto.randomUUID=shaka.polyfill.RandomUUID.randomUUID_:shaka.log.debug("window.crypto must be available to install randomUUID polyfill.")},shaka.polyfill.RandomUUID.randomUUID_=function(){var sn=URL.createObjectURL(new Blob),ln=sn.toString();return URL.revokeObjectURL(sn),ln.substr(ln.lastIndexOf("/")+1)},goog.exportProperty(shaka.polyfill,"RandomUUID",shaka.polyfill.RandomUUID),goog.exportProperty(shaka.polyfill.RandomUUID,"install",shaka.polyfill.RandomUUID.install),shaka.polyfill.register(shaka.polyfill.RandomUUID.install),shaka.polyfill.StorageEstimate=function(){},shaka.polyfill.StorageEstimate.install=function(){navigator.storage&&navigator.storage.estimate||!navigator.webkitTemporaryStorage||!navigator.webkitTemporaryStorage.queryUsageAndQuota||("storage"in navigator||(navigator.storage={}),navigator.storage.estimate=shaka.polyfill.StorageEstimate.storageEstimate_)},shaka.polyfill.StorageEstimate.storageEstimate_=function(){return new Promise(function(sn,ln){navigator.webkitTemporaryStorage.queryUsageAndQuota(function(cn,dn){sn({usage:cn,quota:dn})},ln)})},goog.exportProperty(shaka.polyfill,"StorageEstimate",shaka.polyfill.StorageEstimate),goog.exportProperty(shaka.polyfill.StorageEstimate,"install",shaka.polyfill.StorageEstimate.install),shaka.polyfill.register(shaka.polyfill.StorageEstimate.install),shaka.polyfill.Symbol=function(){},shaka.polyfill.Symbol.install=function(){shaka.log.debug("Symbol.install");var sn=Symbol.prototype;"description"in sn||Object.defineProperty(sn,"description",{get:shaka.polyfill.Symbol.getSymbolDescription_})},shaka.polyfill.Symbol.getSymbolDescription_=function(){var sn=/\((.*)\)/.exec(this.toString());return sn?sn[1]:void 0},goog.exportProperty(shaka.polyfill,"Symbol",shaka.polyfill.Symbol),goog.exportProperty(shaka.polyfill.Symbol,"install",shaka.polyfill.Symbol.install),shaka.polyfill.register(shaka.polyfill.Symbol.install),shaka.polyfill.VideoPlayPromise=function(){},shaka.polyfill.VideoPlayPromise.install=function(){if(shaka.log.debug("VideoPlayPromise.install"),window.HTMLMediaElement){var sn=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var ln=sn.apply(this);return ln&&ln.catch(function(){}),ln}}},goog.exportProperty(shaka.polyfill,"VideoPlayPromise",shaka.polyfill.VideoPlayPromise),goog.exportProperty(shaka.polyfill.VideoPlayPromise,"install",shaka.polyfill.VideoPlayPromise.install),shaka.polyfill.register(shaka.polyfill.VideoPlayPromise.install),shaka.polyfill.VideoPlaybackQuality=function(){},shaka.polyfill.VideoPlaybackQuality.install=function(){if(window.HTMLVideoElement){var sn=HTMLVideoElement.prototype;!sn.getVideoPlaybackQuality&&("webkitDroppedFrameCount"in sn||shaka.util.Platform.isWebOS3())&&(sn.getVideoPlaybackQuality=shaka.polyfill.VideoPlaybackQuality.webkit_)}},shaka.polyfill.VideoPlaybackQuality.webkit_=function(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}},goog.exportProperty(shaka.polyfill,"VideoPlaybackQuality",shaka.polyfill.VideoPlaybackQuality),goog.exportProperty(shaka.polyfill.VideoPlaybackQuality,"install",shaka.polyfill.VideoPlaybackQuality.install),shaka.polyfill.register(shaka.polyfill.VideoPlaybackQuality.install),shaka.polyfill.VTTCue=function(){},shaka.polyfill.VTTCue.install=function(){if(window.VTTCue)shaka.log.info("Using native VTTCue.");else if(window.TextTrackCue){var sn=null,ln=TextTrackCue.length;ln==3?(shaka.log.info("Using VTTCue polyfill from 3 argument TextTrackCue."),sn=shaka.polyfill.VTTCue.from3ArgsTextTrackCue_):ln==6?(shaka.log.info("Using VTTCue polyfill from 6 argument TextTrackCue."),sn=shaka.polyfill.VTTCue.from6ArgsTextTrackCue_):shaka.polyfill.VTTCue.canUse3ArgsTextTrackCue_()&&(shaka.log.info("Using VTTCue polyfill from 3 argument TextTrackCue."),sn=shaka.polyfill.VTTCue.from3ArgsTextTrackCue_),sn?window.VTTCue=function(cn,dn,pn){return sn(cn,dn,pn)}:shaka.log.error("No recognized signature for TextTrackCue found!")}else shaka.log.error("VTTCue not available.")},shaka.polyfill.VTTCue.from3ArgsTextTrackCue_=function(sn,ln,cn){return new window.TextTrackCue(sn,ln,cn)},shaka.polyfill.VTTCue.from6ArgsTextTrackCue_=function(sn,ln,cn){return new window.TextTrackCue(sn+"-"+ln+"-"+cn,sn,ln,cn)},shaka.polyfill.VTTCue.canUse3ArgsTextTrackCue_=function(){try{return!!shaka.polyfill.VTTCue.from3ArgsTextTrackCue_(1,2,"")}catch{return!1}},goog.exportProperty(shaka.polyfill,"VTTCue",shaka.polyfill.VTTCue),goog.exportProperty(shaka.polyfill.VTTCue,"install",shaka.polyfill.VTTCue.install),shaka.polyfill.register(shaka.polyfill.VTTCue.install),shaka.text.LrcTextParser=function(){},shaka.text.LrcTextParser.prototype.parseInit=function(sn){goog.asserts.assert(!1,"LRC does not have init segments")},shaka.text.LrcTextParser.prototype.setSequenceMode=function(sn){},shaka.text.LrcTextParser.prototype.parseMedia=function(sn,ln){var cn=shaka.text.LrcTextParser,dn=null,pn=[];sn=shaka.util.StringUtils.fromUTF8(sn).split(/\r?\n/),sn=$jscomp.makeIterator(sn);for(var vn=sn.next();!vn.done;vn=sn.next()){var Sn=vn.value;Sn&&!/^\s+$/.test(Sn)&&((vn=cn.lyricLine_.exec(Sn))?(Sn=cn.parseTime_(vn[1]),vn=new shaka.text.Cue(Sn,ln.segmentEnd?ln.segmentEnd:Sn+2,vn[2]),dn&&(dn.endTime=Sn,pn.push(dn)),dn=vn):shaka.log.warning("LrcTextParser encountered an unknown line.",Sn))}return dn&&pn.push(dn),pn},shaka.text.LrcTextParser.parseTime_=function(sn){var ln=shaka.text.LrcTextParser.timeFormat_.exec(sn);return sn=parseInt(ln[1],10),ln=parseFloat(ln[2].replace(",",".")),60*sn+ln},goog.exportSymbol("shaka.text.LrcTextParser",shaka.text.LrcTextParser),goog.exportProperty(shaka.text.LrcTextParser.prototype,"parseMedia",shaka.text.LrcTextParser.prototype.parseMedia),goog.exportProperty(shaka.text.LrcTextParser.prototype,"setSequenceMode",shaka.text.LrcTextParser.prototype.setSequenceMode),goog.exportProperty(shaka.text.LrcTextParser.prototype,"parseInit",shaka.text.LrcTextParser.prototype.parseInit),shaka.text.LrcTextParser.lyricLine_=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,shaka.text.LrcTextParser.timeFormat_=/^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/,shaka.text.TextEngine.registerParser("application/x-subtitle-lrc",function(){return new shaka.text.LrcTextParser}),shaka.text.TtmlTextParser=function(){},shaka.text.TtmlTextParser.prototype.parseInit=function(sn){goog.asserts.assert(!1,"TTML does not have init segments")},shaka.text.TtmlTextParser.prototype.setSequenceMode=function(sn){},shaka.text.TtmlTextParser.prototype.parseMedia=function(sn,ln){var cn=shaka.text.TtmlTextParser,dn=shaka.util.XmlUtils,pn=cn.parameterNs_,vn=cn.styleNs_,Sn=shaka.util.StringUtils.fromUTF8(sn);if(sn=[],Sn=="")return sn;var En=dn.parseXmlString(Sn,"tt");if(!En)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_XML,"Failed to parse TTML.");if(Sn=En.getElementsByTagName("body")[0],!Sn)return[];var Cn=dn.getAttributeNSList(En,pn,"frameRate"),Pn=dn.getAttributeNSList(En,pn,"subFrameRate"),Rn=dn.getAttributeNSList(En,pn,"frameRateMultiplier"),Ln=dn.getAttributeNSList(En,pn,"tickRate"),Fn=dn.getAttributeNSList(En,pn,"cellResolution"),Gn=En.getAttribute("xml:space")||"default";if(pn=dn.getAttributeNSList(En,vn,"extent"),Gn!="default"&&Gn!="preserve")throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_XML,"Invalid xml:space value: "+Gn);vn=Gn=="default",Cn=new cn.RateInfo_(Cn,Pn,Rn,Ln),Pn=cn.getCellResolution_(Fn),Rn=(Rn=En.getElementsByTagName("metadata")[0])?dn.getChildren(Rn):[],Ln=Array.from(En.getElementsByTagName("style")),En=Array.from(En.getElementsByTagName("region")),Fn=[],Gn=$jscomp.makeIterator(En);for(var Dn=Gn.next();!Dn.done;Dn=Gn.next())(Dn=cn.parseCueRegion_(Dn.value,Ln,pn))&&Fn.push(Dn);if(dn.findChildren(Sn,"p").length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_TEXT_CUE,"<p> can only be inside <div> in TTML");for(pn=$jscomp.makeIterator(dn.findChildren(Sn,"div")),Gn=pn.next();!Gn.done;Gn=pn.next())if(dn.findChildren(Gn.value,"span").length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_TEXT_CUE,"<span> can only be inside <p> in TTML");return(ln=cn.parseCue_(Sn,ln,Cn,Rn,Ln,En,Fn,vn,Pn,null,!1))&&(ln.backgroundColor||(ln.backgroundColor="transparent"),sn.push(ln)),sn},shaka.text.TtmlTextParser.parseCue_=function(sn,ln,cn,dn,pn,vn,Sn,En,Cn,Pn,Rn){var Ln=sn.parentNode;if(sn.nodeType==Node.COMMENT_NODE)return null;if(sn.nodeType==Node.TEXT_NODE){if(!Rn)return null;var Fn=document.createElement("span");Fn.textContent=sn.textContent}else goog.asserts.assert(sn.nodeType==Node.ELEMENT_NODE,"nodeType should be ELEMENT_NODE!"),Fn=sn;goog.asserts.assert(Fn,"cueElement should be non-null!");for(var Gn=null,Dn=$jscomp.makeIterator(shaka.text.TtmlTextParser.smpteNsList_),Kn=Dn.next();!Kn.done&&!(Gn=shaka.text.TtmlTextParser.getElementsFromCollection_(Fn,"backgroundImage",dn,"#",Kn.value)[0]);Kn=Dn.next());if(Dn=Rn,(sn.nodeName=="p"||Gn)&&(Rn=!0),En=(Fn.getAttribute("xml:space")||(En?"default":"preserve"))=="default",Kn=Array.from(Fn.childNodes).every(function(rs){return rs.nodeType==Node.TEXT_NODE}),sn=[],!Kn)for(var qn=$jscomp.makeIterator(Fn.childNodes),Zn=qn.next();!Zn.done;Zn=qn.next())(Zn=shaka.text.TtmlTextParser.parseCue_(Zn.value,ln,cn,dn,pn,vn,Sn,En,Cn,Fn,Rn))&&sn.push(Zn);dn=Pn!=null,qn=/\S/.test(Fn.textContent);var Yn=Fn.hasAttribute("begin")||Fn.hasAttribute("end")||Fn.hasAttribute("dur");if(!(Yn||qn||Fn.tagName=="br"||sn.length!=0||dn&&!En))return null;for(Zn=shaka.text.TtmlTextParser.parseTime_(Fn,cn),qn=Zn.start,Zn=Zn.end;Ln&&Ln.nodeType==Node.ELEMENT_NODE&&Ln.tagName!="tt";)Zn=shaka.text.TtmlTextParser.resolveTime_(Ln,cn,qn,Zn),qn=Zn.start,Zn=Zn.end,Ln=Ln.parentNode;if(qn==null&&(qn=0),qn+=ln.periodStart,Zn=Zn==null?1/0:Zn+ln.periodStart,qn=Math.max(qn,ln.segmentStart),Zn=Math.min(Zn,ln.segmentEnd),!Yn&&0<sn.length)for(qn=1/0,Zn=0,ln=$jscomp.makeIterator(sn),cn=ln.next();!cn.done;cn=ln.next())cn=cn.value,qn=Math.min(qn,cn.startTime),Zn=Math.max(Zn,cn.endTime);if(Fn.tagName=="br")return pn=new shaka.text.Cue(qn,Zn,""),pn.lineBreak=!0,pn;if(ln="",Kn&&(ln=Fn.textContent,En&&(ln=ln.trim(),ln=ln.replace(/\s+/g," "))),ln=new shaka.text.Cue(qn,Zn,ln),ln.nestedCues=sn,Rn||(ln.isContainer=!0),Cn&&(ln.cellResolution=Cn),Cn=shaka.text.TtmlTextParser.getElementsFromCollection_(Fn,"region",vn,"")[0],Fn.hasAttribute("region")&&Cn&&Cn.getAttribute("xml:id")){var Jn=Cn.getAttribute("xml:id");ln.region=Sn.filter(function(rs){return rs.id==Jn})[0]}return Sn=Cn,Pn&&dn&&!Fn.getAttribute("region")&&!Fn.getAttribute("style")&&(Sn=shaka.text.TtmlTextParser.getElementsFromCollection_(Pn,"region",vn,"")[0]),shaka.text.TtmlTextParser.addStyle_(ln,Fn,Sn,Gn,pn,Dn,sn.length==0),ln},shaka.text.TtmlTextParser.parseCueRegion_=function(sn,ln,cn){var dn=shaka.text.TtmlTextParser,pn=new shaka.text.CueRegion,vn=sn.getAttribute("xml:id");if(!vn)return shaka.log.warning("TtmlTextParser parser encountered a region with no id. Region will be ignored."),null;pn.id=vn,vn=null,cn&&(vn=dn.percentValues_.exec(cn)||dn.pixelValues_.exec(cn)),cn=vn?Number(vn[1]):null,vn=vn?Number(vn[2]):null;var Sn,En;return(Sn=dn.getStyleAttributeFromRegion_(sn,ln,"extent"))&&(Sn=(En=dn.percentValues_.exec(Sn))||dn.pixelValues_.exec(Sn),Sn!=null&&(pn.width=Number(Sn[1]),pn.height=Number(Sn[2]),En||(cn!=null&&(pn.width=100*pn.width/cn),vn!=null&&(pn.height=100*pn.height/vn)),pn.widthUnits=En||cn!=null?shaka.text.CueRegion.units.PERCENTAGE:shaka.text.CueRegion.units.PX,pn.heightUnits=En||vn!=null?shaka.text.CueRegion.units.PERCENTAGE:shaka.text.CueRegion.units.PX)),(sn=dn.getStyleAttributeFromRegion_(sn,ln,"origin"))&&(Sn=(En=dn.percentValues_.exec(sn))||dn.pixelValues_.exec(sn),Sn!=null&&(pn.viewportAnchorX=Number(Sn[1]),pn.viewportAnchorY=Number(Sn[2]),En||(vn!=null&&(pn.viewportAnchorY=100*pn.viewportAnchorY/vn),cn!=null&&(pn.viewportAnchorX=100*pn.viewportAnchorX/cn)),pn.viewportAnchorUnits=En||cn!=null?shaka.text.CueRegion.units.PERCENTAGE:shaka.text.CueRegion.units.PX)),pn},shaka.text.TtmlTextParser.addStyle_=function(sn,ln,cn,dn,pn,vn,Sn){var En=shaka.text.TtmlTextParser,Cn=shaka.text.Cue;if(vn=vn||Sn,En.getStyleAttribute_(ln,cn,pn,"direction",vn)=="rtl"&&(sn.direction=Cn.direction.HORIZONTAL_RIGHT_TO_LEFT),Sn=En.getStyleAttribute_(ln,cn,pn,"writingMode",vn),Sn=="tb"||Sn=="tblr"?sn.writingMode=Cn.writingMode.VERTICAL_LEFT_TO_RIGHT:Sn=="tbrl"?sn.writingMode=Cn.writingMode.VERTICAL_RIGHT_TO_LEFT:Sn=="rltb"||Sn=="rl"?sn.direction=Cn.direction.HORIZONTAL_RIGHT_TO_LEFT:Sn&&(sn.direction=Cn.direction.HORIZONTAL_LEFT_TO_RIGHT),(Sn=En.getStyleAttribute_(ln,cn,pn,"textAlign",!0))?(sn.positionAlign=En.textAlignToPositionAlign_[Sn],sn.lineAlign=En.textAlignToLineAlign_[Sn],goog.asserts.assert(Sn.toUpperCase()in Cn.textAlign,Sn.toUpperCase()+" Should be in Cue.textAlign values!"),sn.textAlign=Cn.textAlign[Sn.toUpperCase()]):sn.textAlign=Cn.textAlign.CENTER,(Sn=En.getStyleAttribute_(ln,cn,pn,"displayAlign",!0))&&(goog.asserts.assert(Sn.toUpperCase()in Cn.displayAlign,Sn.toUpperCase()+" Should be in Cue.displayAlign values!"),sn.displayAlign=Cn.displayAlign[Sn.toUpperCase()]),(Sn=En.getStyleAttribute_(ln,cn,pn,"color",vn))&&(sn.color=Sn),(Sn=En.getStyleAttribute_(ln,cn,pn,"backgroundColor",vn))&&(sn.backgroundColor=Sn),(Sn=En.getStyleAttribute_(ln,cn,pn,"border",vn))&&(sn.border=Sn),Sn=En.getStyleAttribute_(ln,cn,pn,"fontFamily",vn))switch(Sn){case"monospaceSerif":sn.fontFamily="Courier New,Liberation Mono,Courier,monospace";break;case"proportionalSansSerif":sn.fontFamily="Arial,Helvetica,Liberation Sans,sans-serif";break;case"sansSerif":sn.fontFamily="sans-serif";break;case"monospaceSansSerif":sn.fontFamily="Consolas,monospace";break;case"proportionalSerif":sn.fontFamily="serif";break;default:sn.fontFamily=Sn}(Sn=En.getStyleAttribute_(ln,cn,pn,"fontWeight",vn))&&Sn=="bold"&&(sn.fontWeight=Cn.fontWeight.BOLD),Sn=En.getStyleAttribute_(ln,cn,pn,"wrapOption",vn),sn.wrapLine=!(Sn&&Sn=="noWrap"),(Sn=En.getStyleAttribute_(ln,cn,pn,"lineHeight",vn))&&Sn.match(En.unitValues_)&&(sn.lineHeight=Sn),(Sn=En.getStyleAttribute_(ln,cn,pn,"fontSize",vn))&&(Sn.match(En.unitValues_)||Sn.match(En.percentValue_))&&(sn.fontSize=Sn),(Sn=En.getStyleAttribute_(ln,cn,pn,"fontStyle",vn))&&(goog.asserts.assert(Sn.toUpperCase()in Cn.fontStyle,Sn.toUpperCase()+" Should be in Cue.fontStyle values!"),sn.fontStyle=Cn.fontStyle[Sn.toUpperCase()]),dn&&(Cn=dn.getAttribute("imageType")||dn.getAttribute("imagetype"),Sn=dn.getAttribute("encoding"),dn=dn.textContent.trim(),Cn=="PNG"&&Sn=="Base64"&&dn&&(sn.backgroundImage="data:image/png;base64,"+dn)),(dn=En.getStyleAttribute_(ln,cn,pn,"textOutline",vn))&&(dn=dn.split(" "),dn[0].match(En.unitValues_)?sn.textStrokeColor=sn.color:(sn.textStrokeColor=dn[0],dn.shift()),dn[0]&&dn[0].match(En.unitValues_)?sn.textStrokeWidth=dn[0]:sn.textStrokeColor=""),(dn=En.getStyleAttribute_(ln,cn,pn,"letterSpacing",vn))&&dn.match(En.unitValues_)&&(sn.letterSpacing=dn),(dn=En.getStyleAttribute_(ln,cn,pn,"linePadding",vn))&&dn.match(En.unitValues_)&&(sn.linePadding=dn),(vn=En.getStyleAttribute_(ln,cn,pn,"opacity",vn))&&(sn.opacity=parseFloat(vn)),(cn=En.getStyleAttributeFromRegion_(cn,pn,"textDecoration"))&&En.addTextDecoration_(sn,cn),(ln=En.getStyleAttributeFromElement_(ln,pn,"textDecoration"))&&En.addTextDecoration_(sn,ln)},shaka.text.TtmlTextParser.addTextDecoration_=function(sn,ln){var cn=shaka.text.Cue;ln=$jscomp.makeIterator(ln.split(" "));for(var dn=ln.next();!dn.done;dn=ln.next())switch(dn.value){case"underline":sn.textDecoration.includes(cn.textDecoration.UNDERLINE)||sn.textDecoration.push(cn.textDecoration.UNDERLINE);break;case"noUnderline":sn.textDecoration.includes(cn.textDecoration.UNDERLINE)&&shaka.util.ArrayUtils.remove(sn.textDecoration,cn.textDecoration.UNDERLINE);break;case"lineThrough":sn.textDecoration.includes(cn.textDecoration.LINE_THROUGH)||sn.textDecoration.push(cn.textDecoration.LINE_THROUGH);break;case"noLineThrough":sn.textDecoration.includes(cn.textDecoration.LINE_THROUGH)&&shaka.util.ArrayUtils.remove(sn.textDecoration,cn.textDecoration.LINE_THROUGH);break;case"overline":sn.textDecoration.includes(cn.textDecoration.OVERLINE)||sn.textDecoration.push(cn.textDecoration.OVERLINE);break;case"noOverline":sn.textDecoration.includes(cn.textDecoration.OVERLINE)&&shaka.util.ArrayUtils.remove(sn.textDecoration,cn.textDecoration.OVERLINE)}},shaka.text.TtmlTextParser.getStyleAttribute_=function(sn,ln,cn,dn,pn){pn=pn===void 0?!0:pn;var vn=shaka.text.TtmlTextParser;return(sn=vn.getStyleAttributeFromElement_(sn,cn,dn))?sn:pn?vn.getStyleAttributeFromRegion_(ln,cn,dn):null},shaka.text.TtmlTextParser.getStyleAttributeFromRegion_=function(sn,ln,cn){if(!sn)return null;var dn=shaka.util.XmlUtils.getAttributeNSList(sn,shaka.text.TtmlTextParser.styleNs_,cn);return dn||shaka.text.TtmlTextParser.getInheritedStyleAttribute_(sn,ln,cn)},shaka.text.TtmlTextParser.getStyleAttributeFromElement_=function(sn,ln,cn){var dn=shaka.util.XmlUtils.getAttributeNSList(sn,shaka.text.TtmlTextParser.styleNs_,cn);return dn||shaka.text.TtmlTextParser.getInheritedStyleAttribute_(sn,ln,cn)},shaka.text.TtmlTextParser.getInheritedStyleAttribute_=function(sn,ln,cn){var dn=shaka.util.XmlUtils,pn=shaka.text.TtmlTextParser.styleNs_,vn=shaka.text.TtmlTextParser.styleEbuttsNs_;sn=shaka.text.TtmlTextParser.getElementsFromCollection_(sn,"style",ln,"");for(var Sn=null,En=0;En<sn.length;En++){var Cn=dn.getAttributeNS(sn[En],vn,cn);Cn||(Cn=dn.getAttributeNSList(sn[En],pn,cn)),Cn||(Cn=shaka.text.TtmlTextParser.getStyleAttributeFromElement_(sn[En],ln,cn)),Cn&&(Sn=Cn)}return Sn},shaka.text.TtmlTextParser.getElementsFromCollection_=function(sn,ln,cn,dn,pn){var vn=[];if(!sn||1>cn.length)return vn;if(sn=shaka.text.TtmlTextParser.getInheritedAttribute_(sn,ln,pn))for(sn=sn.split(" "),sn=$jscomp.makeIterator(sn),ln=sn.next();!ln.done;ln=sn.next()){ln=ln.value,pn=$jscomp.makeIterator(cn);for(var Sn=pn.next();!Sn.done;Sn=pn.next())if(Sn=Sn.value,dn+Sn.getAttribute("xml:id")==ln){vn.push(Sn);break}}return vn},shaka.text.TtmlTextParser.getInheritedAttribute_=function(sn,ln,cn){for(var dn=null,pn=shaka.util.XmlUtils;sn&&!(dn=cn?pn.getAttributeNS(sn,cn,ln):sn.getAttribute(ln))&&(sn=sn.parentNode,sn instanceof Element););return dn},shaka.text.TtmlTextParser.resolveTime_=function(sn,ln,cn,dn){return sn=shaka.text.TtmlTextParser.parseTime_(sn,ln),cn==null?cn=sn.start:sn.start!=null&&(cn+=sn.start),dn==null?dn=sn.end:sn.start!=null&&(dn+=sn.start),{start:cn,end:dn}},shaka.text.TtmlTextParser.parseTime_=function(sn,ln){var cn=shaka.text.TtmlTextParser.parseTimeAttribute_(sn.getAttribute("begin"),ln),dn=shaka.text.TtmlTextParser.parseTimeAttribute_(sn.getAttribute("end"),ln);return sn=shaka.text.TtmlTextParser.parseTimeAttribute_(sn.getAttribute("dur"),ln),dn==null&&sn!=null&&(dn=cn+sn),{start:cn,end:dn}},shaka.text.TtmlTextParser.parseTimeAttribute_=function(sn,ln){var cn=null,dn=shaka.text.TtmlTextParser;if(dn.timeColonFormatFrames_.test(sn))cn=dn.parseColonTimeWithFrames_(ln,sn);else if(dn.timeColonFormat_.test(sn))cn=dn.parseTimeFromRegex_(dn.timeColonFormat_,sn);else if(dn.timeColonFormatMilliseconds_.test(sn))cn=dn.parseTimeFromRegex_(dn.timeColonFormatMilliseconds_,sn);else if(dn.timeFramesFormat_.test(sn))cn=dn.parseFramesTime_(ln,sn);else if(dn.timeTickFormat_.test(sn))cn=dn.parseTickTime_(ln,sn);else if(dn.timeHMSFormat_.test(sn))cn=dn.parseTimeFromRegex_(dn.timeHMSFormat_,sn);else if(sn)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_TEXT_CUE,"Could not parse cue time range in TTML");return cn},shaka.text.TtmlTextParser.parseFramesTime_=function(sn,ln){return ln=shaka.text.TtmlTextParser.timeFramesFormat_.exec(ln),Number(ln[1])/sn.frameRate},shaka.text.TtmlTextParser.parseTickTime_=function(sn,ln){return ln=shaka.text.TtmlTextParser.timeTickFormat_.exec(ln),Number(ln[1])/sn.tickRate},shaka.text.TtmlTextParser.parseColonTimeWithFrames_=function(sn,ln){ln=shaka.text.TtmlTextParser.timeColonFormatFrames_.exec(ln);var cn=Number(ln[1]),dn=Number(ln[2]),pn=Number(ln[3]),vn=Number(ln[4]);return vn+=(Number(ln[5])||0)/sn.subFrameRate,pn+=vn/sn.frameRate,pn+60*dn+3600*cn},shaka.text.TtmlTextParser.parseTimeFromRegex_=function(sn,ln){return sn=sn.exec(ln),sn==null||sn[0]==""?null:(Number(sn[4])||0)/1e3+(Number(sn[3])||0)+60*(Number(sn[2])||0)+3600*(Number(sn[1])||0)},shaka.text.TtmlTextParser.getCellResolution_=function(sn){if(!sn)return null;var ln=/^(\d+) (\d+)$/.exec(sn);return ln?(sn=parseInt(ln[1],10),ln=parseInt(ln[2],10),{columns:sn,rows:ln}):null},goog.exportSymbol("shaka.text.TtmlTextParser",shaka.text.TtmlTextParser),goog.exportProperty(shaka.text.TtmlTextParser.prototype,"parseMedia",shaka.text.TtmlTextParser.prototype.parseMedia),goog.exportProperty(shaka.text.TtmlTextParser.prototype,"setSequenceMode",shaka.text.TtmlTextParser.prototype.setSequenceMode),goog.exportProperty(shaka.text.TtmlTextParser.prototype,"parseInit",shaka.text.TtmlTextParser.prototype.parseInit),shaka.text.TtmlTextParser.RateInfo_=function(sn,ln,cn,dn){this.frameRate=Number(sn)||30,this.subFrameRate=Number(ln)||1,this.tickRate=Number(dn),this.tickRate==0&&(this.tickRate=sn?this.frameRate*this.subFrameRate:1),cn&&(sn=/^(\d+) (\d+)$/g.exec(cn))&&(this.frameRate*=Number(sn[1])/Number(sn[2]))},shaka.text.TtmlTextParser.percentValues_=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,shaka.text.TtmlTextParser.percentValue_=/^(\d{1,2}(?:\.\d+)?|100)%$/,shaka.text.TtmlTextParser.unitValues_=/^(\d+px|\d+em|\d*\.?\d+c)$/,shaka.text.TtmlTextParser.pixelValues_=/^(\d+)px (\d+)px$/,shaka.text.TtmlTextParser.timeColonFormatFrames_=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,shaka.text.TtmlTextParser.timeColonFormat_=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,shaka.text.TtmlTextParser.timeColonFormatMilliseconds_=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,shaka.text.TtmlTextParser.timeFramesFormat_=/^(\d*(?:\.\d*)?)f$/,shaka.text.TtmlTextParser.timeTickFormat_=/^(\d*(?:\.\d*)?)t$/,shaka.text.TtmlTextParser.timeHMSFormat_=RegExp("^(?:(\\d*(?:\\.\\d*)?)h)?(?:(\\d*(?:\\.\\d*)?)m)?(?:(\\d*(?:\\.\\d*)?)s)?(?:(\\d*(?:\\.\\d*)?)ms)?$"),shaka.text.TtmlTextParser.textAlignToLineAlign_={left:shaka.text.Cue.lineAlign.START,center:shaka.text.Cue.lineAlign.CENTER,right:shaka.text.Cue.lineAlign.END,start:shaka.text.Cue.lineAlign.START,end:shaka.text.Cue.lineAlign.END},shaka.text.TtmlTextParser.textAlignToPositionAlign_={left:shaka.text.Cue.positionAlign.LEFT,center:shaka.text.Cue.positionAlign.CENTER,right:shaka.text.Cue.positionAlign.RIGHT},shaka.text.TtmlTextParser.parameterNs_=["http://www.w3.org/ns/ttml#parameter","http://www.w3.org/2006/10/ttaf1#parameter"],shaka.text.TtmlTextParser.styleNs_=["http://www.w3.org/ns/ttml#styling","http://www.w3.org/2006/10/ttaf1#styling"],shaka.text.TtmlTextParser.styleEbuttsNs_="urn:ebu:tt:style",shaka.text.TtmlTextParser.smpteNsList_=["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt","http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"],shaka.text.TextEngine.registerParser("application/ttml+xml",function(){return new shaka.text.TtmlTextParser}),shaka.text.Mp4TtmlParser=function(){this.parser_=new shaka.text.TtmlTextParser},shaka.text.Mp4TtmlParser.prototype.parseInit=function(sn){var ln=shaka.util.Mp4Parser,cn=!1;if(new ln().box("moov",ln.children).box("trak",ln.children).box("mdia",ln.children).box("minf",ln.children).box("stbl",ln.children).fullBox("stsd",ln.sampleDescription).box("stpp",function(dn){cn=!0,dn.parser.stop()}).parse(sn),!cn)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_MP4_TTML)},shaka.text.Mp4TtmlParser.prototype.setSequenceMode=function(sn){},shaka.text.Mp4TtmlParser.prototype.parseMedia=function(sn,ln){var cn=this,dn=shaka.util.Mp4Parser,pn=!1,vn=[];if(new dn().box("mdat",dn.allData(function(Sn){pn=!0,vn=vn.concat(cn.parser_.parseMedia(Sn,ln))})).parse(sn,!1),!pn)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_MP4_TTML);return vn},goog.exportSymbol("shaka.text.Mp4TtmlParser",shaka.text.Mp4TtmlParser),goog.exportProperty(shaka.text.Mp4TtmlParser.prototype,"parseMedia",shaka.text.Mp4TtmlParser.prototype.parseMedia),goog.exportProperty(shaka.text.Mp4TtmlParser.prototype,"setSequenceMode",shaka.text.Mp4TtmlParser.prototype.setSequenceMode),goog.exportProperty(shaka.text.Mp4TtmlParser.prototype,"parseInit",shaka.text.Mp4TtmlParser.prototype.parseInit),shaka.text.TextEngine.registerParser('application/mp4; codecs="stpp"',function(){return new shaka.text.Mp4TtmlParser}),shaka.text.TextEngine.registerParser('application/mp4; codecs="stpp.ttml"',function(){return new shaka.text.Mp4TtmlParser}),shaka.text.TextEngine.registerParser('application/mp4; codecs="stpp.ttml.im1t"',function(){return new shaka.text.Mp4TtmlParser}),shaka.text.TextEngine.registerParser('application/mp4; codecs="stpp.TTML.im1t"',function(){return new shaka.text.Mp4TtmlParser}),shaka.text.VttTextParser=function(){this.sequenceMode_=!1},shaka.text.VttTextParser.prototype.parseInit=function(sn){goog.asserts.assert(!1,"VTT does not have init segments")},shaka.text.VttTextParser.prototype.setSequenceMode=function(sn){this.sequenceMode_=sn},shaka.text.VttTextParser.prototype.parseMedia=function(sn,ln){var cn=shaka.text.VttTextParser;if(sn=shaka.util.StringUtils.fromUTF8(sn),sn=sn.replace(/\r\n|\r(?=[^\n]|$)/gm,`
`),sn=sn.split(/\n{2,}/m),!/^WEBVTT($|[ \t\n])/m.test(sn[0]))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_TEXT_HEADER);var dn=ln.vttOffset;if(sn[0].includes("X-TIMESTAMP-MAP")&&this.sequenceMode_){var pn=sn[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),vn=sn[0].match(/MPEGTS:(\d+)/m);if(pn&&vn){if(dn=new shaka.util.TextParser(pn[1]),dn=shaka.text.VttTextParser.parseTime_(dn),dn==null)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_TEXT_HEADER);vn=Number(vn[1]),pn=shaka.text.VttTextParser.MPEG_TIMESCALE_;for(var Sn=shaka.text.VttTextParser.TS_ROLLOVER_/pn,En=ln.segmentStart-ln.periodStart;En>=Sn;)En-=Sn,vn+=shaka.text.VttTextParser.TS_ROLLOVER_;dn=ln.periodStart+vn/pn-dn}}for(ln=[],vn=$jscomp.makeIterator(sn[0].split(`
`)),pn=vn.next();!pn.done;pn=vn.next())pn=pn.value,/^Region:/.test(pn)&&(pn=cn.parseRegion_(pn),ln.push(pn));for(vn=new Map,cn.addDefaultTextColor_(vn),pn=[],sn=$jscomp.makeIterator(sn.slice(1)),Sn=sn.next();!Sn.done;Sn=sn.next())Sn=Sn.value.split(`
`),cn.parseStyle_(Sn,vn),(Sn=cn.parseCue_(Sn,dn,ln,vn))&&pn.push(Sn);return pn},shaka.text.VttTextParser.addDefaultTextColor_=function(sn){for(var ln=$jscomp.makeIterator(Object.entries(shaka.text.Cue.defaultTextColor)),cn=ln.next();!cn.done;cn=ln.next()){var dn=$jscomp.makeIterator(cn.value);cn=dn.next().value,dn=dn.next().value;var pn=new shaka.text.Cue(0,0,"");pn.color=dn,sn.set("."+cn,pn)}for(ln=$jscomp.makeIterator(Object.entries(shaka.text.Cue.defaultTextBackgroundColor)),cn=ln.next();!cn.done;cn=ln.next())dn=$jscomp.makeIterator(cn.value),cn=dn.next().value,dn=dn.next().value,pn=new shaka.text.Cue(0,0,""),pn.backgroundColor=dn,sn.set("."+cn,pn)},shaka.text.VttTextParser.parseRegion_=function(sn){var ln=shaka.text.VttTextParser;sn=new shaka.util.TextParser(sn);var cn=new shaka.text.CueRegion;sn.readWord(),sn.skipWhitespace();for(var dn=sn.readWord();dn;)ln.parseRegionSetting_(cn,dn)||shaka.log.warning("VTT parser encountered an invalid VTTRegion setting: ",dn," The setting will be ignored."),sn.skipWhitespace(),dn=sn.readWord();return cn},shaka.text.VttTextParser.parseStyle_=function(sn,ln){if((sn.length!=1||sn[0])&&!/^NOTE($|[ \t])/.test(sn[0])&&sn[0]=="STYLE"){for(var cn=[],dn=-1,pn=1;pn<sn.length;pn++)sn[pn].includes("::cue")&&(cn.push([]),dn=cn.length-1),dn!=-1&&(cn[dn].push(sn[pn]),sn[pn].includes("}")&&(dn=-1));for(sn=$jscomp.makeIterator(cn),cn=sn.next();!cn.done;cn=sn.next()){pn=cn.value,cn="global",(dn=pn[0].match(/\((.*)\)/))&&(cn=dn.pop()),dn=pn.slice(1,-1),pn[0].includes("}")&&(pn=/\{(.*?)\}/.exec(pn[0]))&&(dn=pn[1].split(";")),(pn=ln.get(cn))||(pn=new shaka.text.Cue(0,0,""));for(var vn=!1,Sn=0;Sn<dn.length;Sn++){var En=/^\s*([^:]+):\s*(.*)/.exec(dn[Sn]);if(En){var Cn=En[1].trim(),Pn=En[2].trim().replace(";","");switch(Cn){case"background-color":case"background":vn=!0,pn.backgroundColor=Pn;break;case"color":vn=!0,pn.color=Pn;break;case"font-family":vn=!0,pn.fontFamily=Pn;break;case"font-size":vn=!0,pn.fontSize=Pn;break;case"font-weight":(700<=parseInt(Pn,10)||Pn=="bold")&&(vn=!0,pn.fontWeight=shaka.text.Cue.fontWeight.BOLD);break;case"font-style":switch(Pn){case"normal":vn=!0,pn.fontStyle=shaka.text.Cue.fontStyle.NORMAL;break;case"italic":vn=!0,pn.fontStyle=shaka.text.Cue.fontStyle.ITALIC;break;case"oblique":vn=!0,pn.fontStyle=shaka.text.Cue.fontStyle.OBLIQUE}break;case"opacity":vn=!0,pn.opacity=parseFloat(Pn);break;case"text-shadow":vn=!0,pn.textShadow=Pn;break;case"white-space":vn=!0,pn.wrapLine=Pn!="noWrap";break;default:shaka.log.warning("VTT parser encountered an unsupported style: ",En)}}}vn&&ln.set(cn,pn)}}},shaka.text.VttTextParser.parseCue_=function(sn,ln,cn,dn){var pn=shaka.text.VttTextParser;if(sn.length==1&&!sn[0]||/^NOTE($|[ \t])/.test(sn[0])||sn[0]=="STYLE"||sn[0]=="REGION")return null;var vn=null;sn[0].includes("-->")||(vn=sn[0],sn.splice(0,1));var Sn=new shaka.util.TextParser(sn[0]),En=pn.parseTime_(Sn),Cn=Sn.readRegex(/[ \t]+--\x3e[ \t]+/g),Pn=pn.parseTime_(Sn);if(En==null||Cn==null||Pn==null)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_TEXT_CUE,"Could not parse cue time range in WebVTT");for(En+=ln,Pn+=ln,ln=sn.slice(1).join(`
`).trim(),dn.has("global")?(sn=dn.get("global").clone(),sn.startTime=En,sn.endTime=Pn,sn.payload=""):sn=new shaka.text.Cue(En,Pn,""),pn.parseCueStyles(ln,sn,dn),Sn.skipWhitespace(),dn=Sn.readWord();dn;)pn.parseCueSetting(sn,dn,cn)||shaka.log.warning("VTT parser encountered an invalid VTT setting: ",dn," The setting will be ignored."),Sn.skipWhitespace(),dn=Sn.readWord();return vn!=null&&(sn.id=vn),sn},shaka.text.VttTextParser.parseCueStyles=function(sn,ln,cn){var dn=shaka.text.VttTextParser;cn.size===0&&dn.addDefaultTextColor_(cn),sn=dn.replaceColorPayload_(sn),sn=dn.replaceKaraokeStylePayload_(sn),sn=dn.replaceVoiceStylePayload_(sn);var pn=shaka.util.XmlUtils.parseXmlString("<span>"+sn+"</span>","span");if(pn){var vn=[];if(pn=pn.childNodes,pn.length==1){var Sn=pn[0];if(Sn.nodeType==Node.TEXT_NODE||Sn.nodeType==Node.CDATA_SECTION_NODE){ln.payload=dn.htmlUnescape_(sn);return}}for(sn=$jscomp.makeIterator(pn),pn=sn.next();!pn.done;pn=sn.next())dn.generateCueFromElement_(pn.value,ln,vn,cn);ln.nestedCues=vn}else shaka.log.warning("The cue's markup could not be parsed: ",sn),ln.payload=dn.htmlUnescape_(sn)},shaka.text.VttTextParser.replaceVoiceStylePayload_=function(sn){for(var ln=[],cn=-1,dn="",pn=!1,vn=0;vn<sn.length;vn++)if(sn[vn]==="/"){var Sn=sn.indexOf(">",vn);if(Sn===-1)return sn;if((Sn=sn.substring(vn+1,Sn))&&Sn=="v"){pn=!0;var En=null;if(ln.length&&(En=ln[ln.length-1]),En){if(En===Sn)dn+="/"+Sn+">";else{if(!En.startsWith("v")){dn+=sn[vn];continue}dn+="/"+En+">"}vn+=Sn.length+1}else dn+=sn[vn]}else dn+=sn[vn]}else sn[vn]==="<"?(cn=vn+1,sn[cn]!="v"&&(cn=-1)):sn[vn]===">"&&0<cn&&(ln.push(sn.substr(cn,vn-cn)),cn=-1),dn+=sn[vn];for(sn=$jscomp.makeIterator(ln),ln=sn.next();!ln.done;ln=sn.next())ln=ln.value,cn=ln.replace(" ",".voice-"),dn=dn.replace("<"+ln+">","<"+cn+">"),dn=dn.replace("</"+ln+">","</"+cn+">"),pn||(dn+="</"+cn+">");return dn},shaka.text.VttTextParser.replaceKaraokeStylePayload_=function(sn){for(var ln=[],cn=-1,dn=0;dn<sn.length;dn++)sn[dn]==="<"?cn=dn+1:sn[dn]===">"&&0<cn&&(cn=sn.substr(cn,dn-cn),cn.match(shaka.text.VttTextParser.timeFormat_)&&ln.push(cn),cn=-1);for(ln=$jscomp.makeIterator(ln),dn=ln.next();!dn.done;dn=ln.next())dn=dn.value,sn=sn.replace("<"+dn+">",'<div time="'+dn+'">'),sn+="</div>";return sn},shaka.text.VttTextParser.replaceColorPayload_=function(sn){for(var ln=[],cn=-1,dn="",pn=0;pn<sn.length;pn++)if(sn[pn]==="/"&&0<pn&&sn[pn-1]==="<"){var vn=sn.indexOf(">",pn);if(vn<=pn)return sn;if((vn=sn.substring(pn+1,vn))&&vn==="c"){var Sn=ln.pop();Sn?Sn===vn?(dn+="/"+vn+">",pn+=vn.length+1):Sn.startsWith("c.")?(pn+=vn.length+1,dn+="/"+Sn+">"):dn+=sn[pn]:dn+=sn[pn]}else dn+=sn[pn]}else sn[pn]==="<"?(cn=pn+1,sn[cn]!="c"&&(cn=-1)):sn[pn]===">"&&0<cn&&(ln.push(sn.substr(cn,pn-cn)),cn=-1),dn+=sn[pn];return dn},shaka.text.VttTextParser.getOrDefault_=function(sn,ln){return sn&&0<sn.length?sn:ln},shaka.text.VttTextParser.mergeStyle_=function(sn,ln){if(ln){var cn=shaka.text.VttTextParser;sn.backgroundColor=cn.getOrDefault_(ln.backgroundColor,sn.backgroundColor),sn.color=cn.getOrDefault_(ln.color,sn.color),sn.fontFamily=cn.getOrDefault_(ln.fontFamily,sn.fontFamily),sn.fontSize=cn.getOrDefault_(ln.fontSize,sn.fontSize),sn.fontWeight=ln.fontWeight,sn.fontStyle=ln.fontStyle,sn.opacity=ln.opacity,sn.wrapLine=ln.wrapLine}},shaka.text.VttTextParser.generateCueFromElement_=function(sn,ln,cn,dn){var pn=shaka.text.VttTextParser,vn=ln.clone();if(sn.nodeType===Node.ELEMENT_NODE&&sn.nodeName){var Sn=shaka.text.Cue.fontWeight.BOLD,En=shaka.text.Cue.fontStyle.ITALIC,Cn=shaka.text.Cue.textDecoration.UNDERLINE,Pn=sn.nodeName.split(/(?=[ .])+/g);Pn=$jscomp.makeIterator(Pn);for(var Rn=Pn.next();!Rn.done;Rn=Pn.next()){var Ln=Rn=Rn.value;if(Ln.startsWith(".voice-")){var Fn=Ln.split("-").pop();Ln='v[voice="'+Fn+'"]',dn.has(Ln)||(Ln="v[voice="+Fn+"]")}switch(dn.has(Ln)&&pn.mergeStyle_(vn,dn.get(Ln)),Rn){case"br":Rn=ln.clone(),Rn.lineBreak=!0,cn.push(Rn);break;case"b":vn.fontWeight=Sn;break;case"i":vn.fontStyle=En;break;case"u":vn.textDecoration.push(Cn);break;case"div":(Rn=sn.getAttribute("time"))&&(Rn=new shaka.util.TextParser(Rn),(Rn=shaka.text.VttTextParser.parseTime_(Rn))&&(vn.startTime=Rn))}}}if(shaka.util.XmlUtils.isText(sn))for(dn=sn.textContent.split(`
`),sn=!0,dn=$jscomp.makeIterator(dn),Sn=dn.next();!Sn.done;Sn=dn.next())Sn=Sn.value,sn||(sn=ln.clone(),sn.lineBreak=!0,cn.push(sn)),0<Sn.length&&(sn=vn.clone(),sn.payload=pn.htmlUnescape_(Sn),cn.push(sn)),sn=!1;else for(ln=$jscomp.makeIterator(sn.childNodes),sn=ln.next();!sn.done;sn=ln.next())pn.generateCueFromElement_(sn.value,vn,cn,dn)},shaka.text.VttTextParser.parseCueSetting=function(sn,ln,cn){var dn=shaka.text.VttTextParser,pn;if(pn=/^align:(start|middle|center|end|left|right)$/.exec(ln))dn.setTextAlign_(sn,pn[1]);else if(pn=/^vertical:(lr|rl)$/.exec(ln))dn.setVerticalWritingMode_(sn,pn[1]);else if(pn=/^size:([\d.]+)%$/.exec(ln))sn.size=Number(pn[1]);else if(pn=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(ln))sn.position=Number(pn[1]),pn[2]&&dn.setPositionAlign_(sn,pn[2]);else if(pn=/^region:(.*)$/.exec(ln))(ln=dn.getRegionById_(cn,pn[1]))&&(sn.region=ln);else return dn.parsedLineValueAndInterpretation_(sn,ln);return!0},shaka.text.VttTextParser.getRegionById_=function(sn,ln){return sn=sn.filter(function(cn){return cn.id==ln}),sn.length?(goog.asserts.assert(sn.length==1,"VTTRegion ids should be unique!"),sn[0]):(shaka.log.warning("VTT parser could not find a region with id: ",ln," The region will be ignored."),null)},shaka.text.VttTextParser.parseRegionSetting_=function(sn,ln){var cn;if(cn=/^id=(.*)$/.exec(ln))sn.id=cn[1];else if(cn=/^width=(\d{1,2}|100)%$/.exec(ln))sn.width=Number(cn[1]);else if(cn=/^lines=(\d+)$/.exec(ln))sn.height=Number(cn[1]),sn.heightUnits=shaka.text.CueRegion.units.LINES;else if(cn=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(ln))sn.regionAnchorX=Number(cn[1]),sn.regionAnchorY=Number(cn[2]);else if(cn=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(ln))sn.viewportAnchorX=Number(cn[1]),sn.viewportAnchorY=Number(cn[2]);else if(/^scroll=up$/.exec(ln))sn.scroll=shaka.text.CueRegion.scrollMode.UP;else return!1;return!0},shaka.text.VttTextParser.setTextAlign_=function(sn,ln){var cn=shaka.text.Cue;ln=="middle"?sn.textAlign=cn.textAlign.CENTER:(goog.asserts.assert(ln.toUpperCase()in cn.textAlign,ln.toUpperCase()+" Should be in Cue.textAlign values!"),sn.textAlign=cn.textAlign[ln.toUpperCase()])},shaka.text.VttTextParser.setPositionAlign_=function(sn,ln){var cn=shaka.text.Cue;sn.positionAlign=ln=="line-left"||ln=="start"?cn.positionAlign.LEFT:ln=="line-right"||ln=="end"?cn.positionAlign.RIGHT:cn.positionAlign.CENTER},shaka.text.VttTextParser.setVerticalWritingMode_=function(sn,ln){var cn=shaka.text.Cue;sn.writingMode=ln=="lr"?cn.writingMode.VERTICAL_LEFT_TO_RIGHT:cn.writingMode.VERTICAL_RIGHT_TO_LEFT},shaka.text.VttTextParser.parsedLineValueAndInterpretation_=function(sn,ln){var cn=shaka.text.Cue,dn;if(dn=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(ln))sn.lineInterpretation=cn.lineInterpretation.PERCENTAGE,sn.line=Number(dn[1]),dn[2]&&(goog.asserts.assert(dn[2].toUpperCase()in cn.lineAlign,dn[2].toUpperCase()+" Should be in Cue.lineAlign values!"),sn.lineAlign=cn.lineAlign[dn[2].toUpperCase()]);else if(dn=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(ln))sn.lineInterpretation=cn.lineInterpretation.LINE_NUMBER,sn.line=Number(dn[1]),dn[2]&&(goog.asserts.assert(dn[2].toUpperCase()in cn.lineAlign,dn[2].toUpperCase()+" Should be in Cue.lineAlign values!"),sn.lineAlign=cn.lineAlign[dn[2].toUpperCase()]);else return!1;return!0},shaka.text.VttTextParser.parseTime_=function(sn){if(sn=sn.readRegex(shaka.text.VttTextParser.timeFormat_),sn==null)return null;var ln=Number(sn[2]),cn=Number(sn[3]);return 59<ln||59<cn?null:Number(sn[4])/1e3+cn+60*ln+3600*(Number(sn[1])||0)},shaka.text.VttTextParser.htmlUnescape_=function(sn){var ln={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&nbsp;":" ","&lrm;":"‎","&rlm;":"‏"},cn=/&(?:amp|lt|gt|quot|#(0+)?39|nbsp|lrm|rlm);/g,dn=RegExp(cn.source);return sn&&dn.test(sn)?sn.replace(cn,function(pn){return ln[pn]||"'"}):sn||""},goog.exportSymbol("shaka.text.VttTextParser",shaka.text.VttTextParser),goog.exportProperty(shaka.text.VttTextParser.prototype,"parseMedia",shaka.text.VttTextParser.prototype.parseMedia),goog.exportProperty(shaka.text.VttTextParser.prototype,"setSequenceMode",shaka.text.VttTextParser.prototype.setSequenceMode),goog.exportProperty(shaka.text.VttTextParser.prototype,"parseInit",shaka.text.VttTextParser.prototype.parseInit),shaka.text.VttTextParser.MPEG_TIMESCALE_=9e4,shaka.text.VttTextParser.TS_ROLLOVER_=8589934592,shaka.text.VttTextParser.timeFormat_=/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g,shaka.text.TextEngine.registerParser("text/vtt",function(){return new shaka.text.VttTextParser}),shaka.text.TextEngine.registerParser('text/vtt; codecs="vtt"',function(){return new shaka.text.VttTextParser}),shaka.text.TextEngine.registerParser('text/vtt; codecs="wvtt"',function(){return new shaka.text.VttTextParser}),shaka.text.Mp4VttParser=function(){this.timescale_=null},shaka.text.Mp4VttParser.prototype.parseInit=function(sn){var ln=this,cn=shaka.util.Mp4Parser,dn=!1;if(new cn().box("moov",cn.children).box("trak",cn.children).box("mdia",cn.children).fullBox("mdhd",function(pn){goog.asserts.assert(pn.version==0||pn.version==1,"MDHD version can only be 0 or 1"),pn=shaka.util.Mp4BoxParsers.parseMDHD(pn.reader,pn.version),ln.timescale_=pn.timescale}).box("minf",cn.children).box("stbl",cn.children).fullBox("stsd",cn.sampleDescription).box("wvtt",function(pn){dn=!0}).parse(sn),!this.timescale_)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_MP4_VTT);if(!dn)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_MP4_VTT)},shaka.text.Mp4VttParser.prototype.setSequenceMode=function(sn){},shaka.text.Mp4VttParser.prototype.parseMedia=function(sn,ln){if(!sn.length)return[];if(!this.timescale_)throw shaka.log.error("No init segment for MP4+VTT!"),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_MP4_VTT);var cn=shaka.util.Mp4Parser,dn=0,pn=[],vn,Sn=[],En=!1,Cn=!1,Pn=!1,Rn=null;if(new cn().box("moof",cn.children).box("traf",cn.children).fullBox("tfdt",function(Jn){En=!0,goog.asserts.assert(Jn.version==0||Jn.version==1,"TFDT version can only be 0 or 1"),dn=shaka.util.Mp4BoxParsers.parseTFDT(Jn.reader,Jn.version).baseMediaDecodeTime}).fullBox("tfhd",function(Jn){goog.asserts.assert(Jn.flags!=null,"A TFHD box should have a valid flags value"),Rn=shaka.util.Mp4BoxParsers.parseTFHD(Jn.reader,Jn.flags).defaultSampleDuration}).fullBox("trun",function(Jn){Cn=!0,goog.asserts.assert(Jn.version!=null,"A TRUN box should have a valid version value"),goog.asserts.assert(Jn.flags!=null,"A TRUN box should have a valid flags value"),pn=shaka.util.Mp4BoxParsers.parseTRUN(Jn.reader,Jn.version,Jn.flags).sampleData}).box("mdat",cn.allData(function(Jn){goog.asserts.assert(!Pn,"VTT cues in mp4 with multiple MDAT are not currently supported"),Pn=!0,vn=Jn})).parse(sn,!1),!Pn&&!En&&!Cn)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_MP4_VTT);sn=dn,cn=new shaka.util.DataViewReader(vn,shaka.util.DataViewReader.Endianness.BIG_ENDIAN);for(var Ln=$jscomp.makeIterator(pn),Fn=Ln.next();!Fn.done;Fn=Ln.next()){Fn=Fn.value;var Gn=Fn.sampleDuration||Rn,Dn=Fn.sampleCompositionTimeOffset?dn+Fn.sampleCompositionTimeOffset:sn;sn=Dn+(Gn||0);var Kn=0;do{var qn=cn.readUint32();Kn+=qn;var Zn=cn.readUint32();Zn=shaka.util.Mp4Parser.typeToString(Zn);var Yn=null;Zn=="vttc"?8<qn&&(Yn=cn.readBytes(qn-8)):(Zn!="vtte"&&shaka.log.error("Unknown box "+Zn+"! Skipping!"),cn.skip(qn-8)),Gn?Yn&&(goog.asserts.assert(this.timescale_!=null,"Timescale should not be null!"),qn=shaka.text.Mp4VttParser.parseVTTC_(Yn,ln.periodStart+Dn/this.timescale_,ln.periodStart+sn/this.timescale_),Sn.push(qn)):shaka.log.error("WVTT sample duration unknown, and no default found!"),goog.asserts.assert(!Fn.sampleSize||Kn<=Fn.sampleSize,"The samples do not fit evenly into the sample sizes given in the TRUN box!")}while(Fn.sampleSize&&Kn<Fn.sampleSize)}return goog.asserts.assert(!cn.hasMoreData(),"MDAT which contain VTT cues and non-VTT data are not currently supported!"),Sn.filter(shaka.util.Functional.isNotNull)},shaka.text.Mp4VttParser.parseVTTC_=function(sn,ln,cn){var dn,pn,vn;return new shaka.util.Mp4Parser().box("payl",shaka.util.Mp4Parser.allData(function(Sn){dn=shaka.util.StringUtils.fromUTF8(Sn)})).box("iden",shaka.util.Mp4Parser.allData(function(Sn){pn=shaka.util.StringUtils.fromUTF8(Sn)})).box("sttg",shaka.util.Mp4Parser.allData(function(Sn){vn=shaka.util.StringUtils.fromUTF8(Sn)})).parse(sn),dn?shaka.text.Mp4VttParser.assembleCue_(dn,pn,vn,ln,cn):null},shaka.text.Mp4VttParser.assembleCue_=function(sn,ln,cn,dn,pn){if(dn=new shaka.text.Cue(dn,pn,""),pn=new Map,shaka.text.VttTextParser.parseCueStyles(sn,dn,pn),ln&&(dn.id=ln),cn)for(sn=new shaka.util.TextParser(cn),ln=sn.readWord();ln;)shaka.text.VttTextParser.parseCueSetting(dn,ln,[])||shaka.log.warning("VTT parser encountered an invalid VTT setting: ",ln," The setting will be ignored."),sn.skipWhitespace(),ln=sn.readWord();return dn},goog.exportSymbol("shaka.text.Mp4VttParser",shaka.text.Mp4VttParser),goog.exportProperty(shaka.text.Mp4VttParser.prototype,"parseMedia",shaka.text.Mp4VttParser.prototype.parseMedia),goog.exportProperty(shaka.text.Mp4VttParser.prototype,"setSequenceMode",shaka.text.Mp4VttParser.prototype.setSequenceMode),goog.exportProperty(shaka.text.Mp4VttParser.prototype,"parseInit",shaka.text.Mp4VttParser.prototype.parseInit),shaka.text.TextEngine.registerParser('application/mp4; codecs="wvtt"',function(){return new shaka.text.Mp4VttParser}),shaka.text.SbvTextParser=function(){},shaka.text.SbvTextParser.prototype.parseInit=function(sn){goog.asserts.assert(!1,"SubViewer does not have init segments")},shaka.text.SbvTextParser.prototype.setSequenceMode=function(sn){},shaka.text.SbvTextParser.prototype.parseMedia=function(sn,ln){ln=shaka.text.SbvTextParser;var cn=shaka.util.StringUtils.fromUTF8(sn).replace(/\r+/g,"");if(cn=cn.trim(),sn=[],cn=="")return sn;cn=cn.split(`

`),cn=$jscomp.makeIterator(cn);for(var dn=cn.next();!dn.done;dn=cn.next()){var pn=dn.value.split(`
`),vn=new shaka.util.TextParser(pn[0]);dn=ln.parseTime_(vn);var Sn=vn.readRegex(/,/g);if(vn=ln.parseTime_(vn),dn==null||Sn==null||vn==null)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_TEXT_CUE,"Could not parse cue time range in SubViewer");pn=pn.slice(1).join(`
`).trim(),dn=new shaka.text.Cue(dn,vn,pn),sn.push(dn)}return sn},shaka.text.SbvTextParser.parseTime_=function(sn){if(sn=sn.readRegex(/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g),sn==null)return null;var ln=Number(sn[2]),cn=Number(sn[3]);return 59<ln||59<cn?null:Number(sn[4])/1e3+cn+60*ln+3600*(Number(sn[1])||0)},goog.exportSymbol("shaka.text.SbvTextParser",shaka.text.SbvTextParser),goog.exportProperty(shaka.text.SbvTextParser.prototype,"parseMedia",shaka.text.SbvTextParser.prototype.parseMedia),goog.exportProperty(shaka.text.SbvTextParser.prototype,"setSequenceMode",shaka.text.SbvTextParser.prototype.setSequenceMode),goog.exportProperty(shaka.text.SbvTextParser.prototype,"parseInit",shaka.text.SbvTextParser.prototype.parseInit),shaka.text.TextEngine.registerParser("text/x-subviewer",function(){return new shaka.text.SbvTextParser}),shaka.text.SrtTextParser=function(){this.parser_=new shaka.text.VttTextParser},shaka.text.SrtTextParser.prototype.parseInit=function(sn){goog.asserts.assert(!1,"SRT does not have init segments")},shaka.text.SrtTextParser.prototype.setSequenceMode=function(sn){},shaka.text.SrtTextParser.prototype.parseMedia=function(sn,ln){var cn=shaka.text.SrtTextParser,dn=shaka.util.BufferUtils,pn=shaka.util.StringUtils;return sn=pn.fromUTF8(sn),cn=cn.srt2webvtt(sn),dn=dn.toUint8(pn.toUTF8(cn)),this.parser_.parseMedia(dn,ln)},shaka.text.SrtTextParser.srt2webvtt=function(sn){var ln=shaka.text.SrtTextParser,cn=`WEBVTT

`;if(sn=="")return cn;sn=sn.replace(/\r+/g,""),sn=sn.trim(),sn=sn.split(`

`),sn=$jscomp.makeIterator(sn);for(var dn=sn.next();!dn.done;dn=sn.next())cn+=ln.convertSrtCue_(dn.value);return cn},shaka.text.SrtTextParser.convertSrtCue_=function(sn){return sn=sn.split(/\n/),sn[0].match(/\d+/)&&sn.shift(),sn[0]=sn[0].replace(/,/g,"."),sn.join(`
`)+`

`},goog.exportSymbol("shaka.text.SrtTextParser",shaka.text.SrtTextParser),goog.exportProperty(shaka.text.SrtTextParser,"srt2webvtt",shaka.text.SrtTextParser.srt2webvtt),goog.exportProperty(shaka.text.SrtTextParser.prototype,"parseMedia",shaka.text.SrtTextParser.prototype.parseMedia),goog.exportProperty(shaka.text.SrtTextParser.prototype,"setSequenceMode",shaka.text.SrtTextParser.prototype.setSequenceMode),goog.exportProperty(shaka.text.SrtTextParser.prototype,"parseInit",shaka.text.SrtTextParser.prototype.parseInit),shaka.text.TextEngine.registerParser("text/srt",function(){return new shaka.text.SrtTextParser}),shaka.text.SsaTextParser=function(){},shaka.text.SsaTextParser.prototype.parseInit=function(sn){goog.asserts.assert(!1,"SSA does not have init segments")},shaka.text.SsaTextParser.prototype.setSequenceMode=function(sn){},shaka.text.SsaTextParser.prototype.parseMedia=function(sn,ln){ln=shaka.text.SsaTextParser;var cn="",dn="";sn=shaka.util.StringUtils.fromUTF8(sn).split(/\r?\n\s*\r?\n/),sn=$jscomp.makeIterator(sn);for(var pn=sn.next();!pn.done;pn=sn.next()){pn=pn.value;var vn=ln.ssaContent_.exec(pn);if(vn){var Sn=vn[1];if(vn=vn[2],Sn=="V4 Styles"||Sn=="V4+ Styles"){cn=vn;continue}if(Sn=="Events"){dn=vn;continue}}shaka.log.warning("SsaTextParser parser encountered an unknown part.",pn)}for(sn=[],pn=null,cn=cn.split(/\r?\n/),cn=$jscomp.makeIterator(cn),vn=cn.next();!vn.done;vn=cn.next())if(Sn=vn.value,!/^\s*;/.test(Sn)&&(vn=ln.lineParts_.exec(Sn))){if(Sn=vn[1].trim(),vn=vn[2].trim(),Sn=="Format")pn=vn.split(ln.valuesFormat_);else if(Sn=="Style"){Sn=vn.split(ln.valuesFormat_),vn={};for(var En=0;En<pn.length&&En<Sn.length;En++)vn[pn[En]]=Sn[En];sn.push(vn)}}for(pn=[],cn=null,Sn=dn.split(/\r?\n/),dn={},Sn=$jscomp.makeIterator(Sn),vn=Sn.next();!vn.done;dn={$jscomp$loop$prop$styleName$746:dn.$jscomp$loop$prop$styleName$746},vn=Sn.next())if(vn=vn.value,!/^\s*;/.test(vn)&&(En=ln.lineParts_.exec(vn))){if(vn=En[1].trim(),En=En[2].trim(),vn=="Format")cn=En.split(ln.valuesFormat_);else if(vn=="Dialogue"){En=En.split(ln.valuesFormat_),vn={};for(var Cn=0;Cn<cn.length&&Cn<En.length;Cn++)vn[cn[Cn]]=En[Cn];Cn=ln.parseTime_(vn.Start);var Pn=ln.parseTime_(vn.End);En=En.slice(cn.length-1).join(",").replace(/\\N/g,`
`).replace(/\{[^}]+\}/g,""),En=new shaka.text.Cue(Cn,Pn,En),dn.$jscomp$loop$prop$styleName$746=vn.Style,(vn=sn.find(function(Rn){return function(Ln){return Ln.Name==Rn.$jscomp$loop$prop$styleName$746}}(dn)))&&ln.addStyle_(En,vn),pn.push(En)}}return pn},shaka.text.SsaTextParser.addStyle_=function(sn,ln){var cn=shaka.text.Cue,dn=shaka.text.SsaTextParser,pn=ln.Fontname;if(pn&&(sn.fontFamily=pn),(pn=ln.Fontsize)&&(sn.fontSize=pn+"px"),(pn=ln.PrimaryColour)&&(pn=dn.parseSsaColor_(pn))&&(sn.color=pn),(pn=ln.BackColour)&&(dn=dn.parseSsaColor_(pn))&&(sn.backgroundColor=dn),ln.Bold&&(sn.fontWeight=cn.fontWeight.BOLD),ln.Italic&&(sn.fontStyle=cn.fontStyle.ITALIC),ln.Underline&&sn.textDecoration.push(cn.textDecoration.UNDERLINE),(dn=ln.Spacing)&&(sn.letterSpacing=dn+"px"),dn=ln.Alignment)switch(parseInt(dn,10)){case 1:sn.displayAlign=cn.displayAlign.AFTER,sn.textAlign=cn.textAlign.START;break;case 2:sn.displayAlign=cn.displayAlign.AFTER,sn.textAlign=cn.textAlign.CENTER;break;case 3:sn.displayAlign=cn.displayAlign.AFTER,sn.textAlign=cn.textAlign.END;break;case 5:sn.displayAlign=cn.displayAlign.BEFORE,sn.textAlign=cn.textAlign.START;break;case 6:sn.displayAlign=cn.displayAlign.BEFORE,sn.textAlign=cn.textAlign.CENTER;break;case 7:sn.displayAlign=cn.displayAlign.BEFORE,sn.textAlign=cn.textAlign.END;break;case 9:sn.displayAlign=cn.displayAlign.CENTER,sn.textAlign=cn.textAlign.START;break;case 10:sn.displayAlign=cn.displayAlign.CENTER,sn.textAlign=cn.textAlign.CENTER;break;case 11:sn.displayAlign=cn.displayAlign.CENTER,sn.textAlign=cn.textAlign.END}(ln=ln.AlphaLevel)&&(sn.opacity=parseFloat(ln))},shaka.text.SsaTextParser.parseSsaColor_=function(sn){return sn=parseInt(sn.replace("&H",""),16),0<=sn?"rgba("+(sn&255)+","+(sn>>8&255)+","+(sn>>16&255)+","+(sn>>24&255^255)/255+")":null},shaka.text.SsaTextParser.parseTime_=function(sn){var ln=shaka.text.SsaTextParser.timeFormat_.exec(sn);sn=ln[1]?parseInt(ln[1].replace(":",""),10):0;var cn=parseInt(ln[2],10);return ln=parseFloat(ln[3]),3600*sn+60*cn+ln},goog.exportSymbol("shaka.text.SsaTextParser",shaka.text.SsaTextParser),goog.exportProperty(shaka.text.SsaTextParser.prototype,"parseMedia",shaka.text.SsaTextParser.prototype.parseMedia),goog.exportProperty(shaka.text.SsaTextParser.prototype,"setSequenceMode",shaka.text.SsaTextParser.prototype.setSequenceMode),goog.exportProperty(shaka.text.SsaTextParser.prototype,"parseInit",shaka.text.SsaTextParser.prototype.parseInit),shaka.text.SsaTextParser.ssaContent_=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,shaka.text.SsaTextParser.lineParts_=/^\s*([^:]+):\s*(.*)/,shaka.text.SsaTextParser.valuesFormat_=/\s*,\s*/,shaka.text.SsaTextParser.timeFormat_=/^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/,shaka.text.TextEngine.registerParser("text/x-ssa",function(){return new shaka.text.SsaTextParser});/*
 @license
 EME Encryption Scheme Polyfill
 Copyright 2019 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/var EmeEncryptionSchemePolyfill=function(){};EmeEncryptionSchemePolyfill.install=function(){EmeEncryptionSchemePolyfill.originalRMKSA_?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(EmeEncryptionSchemePolyfill.originalRMKSA_=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=EmeEncryptionSchemePolyfill.probeRMKSA_):console.debug("EmeEncryptionSchemePolyfill: EME not found")},EmeEncryptionSchemePolyfill.probeRMKSA_=function(sn,ln){var cn=this,dn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(pn){return pn.nextAddress==1?(console.assert(cn==navigator,'bad "this" for requestMediaKeySystemAccess'),pn.yield(EmeEncryptionSchemePolyfill.originalRMKSA_.call(cn,sn,ln),2)):(dn=pn.yieldResult,hasEncryptionScheme(dn)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=EmeEncryptionSchemePolyfill.originalRMKSA_,pn.return(dn)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=EmeEncryptionSchemePolyfill.polyfillRMKSA_,pn.return(EmeEncryptionSchemePolyfill.polyfillRMKSA_.call(cn,sn,ln))))})},EmeEncryptionSchemePolyfill.polyfillRMKSA_=function(sn,ln){var cn=this,dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Gn){if(Gn.nextAddress==1){for(console.assert(cn==navigator,'bad "this" for requestMediaKeySystemAccess'),dn=guessSupportedScheme(sn),pn=[],vn=$jscomp.makeIterator(ln),Sn=vn.next();!Sn.done;Sn=vn.next())En=Sn.value,Cn=EmeEncryptionSchemePolyfill.filterCapabilities_(En.videoCapabilities,dn),Pn=EmeEncryptionSchemePolyfill.filterCapabilities_(En.audioCapabilities,dn),En.videoCapabilities&&En.videoCapabilities.length&&!Cn.length||En.audioCapabilities&&En.audioCapabilities.length&&!Pn.length||(Rn=Object.assign({},En),Rn.videoCapabilities=Cn,Rn.audioCapabilities=Pn,pn.push(Rn));if(!pn.length)throw Ln=Error("Unsupported keySystem or supportedConfigurations."),Ln.name="NotSupportedError",Ln.code=DOMException.NOT_SUPPORTED_ERR,Ln;return Gn.yield(EmeEncryptionSchemePolyfill.originalRMKSA_.call(cn,sn,pn),2)}return Fn=Gn.yieldResult,Gn.return(new EmeEncryptionSchemePolyfillMediaKeySystemAccess(Fn,dn))})},EmeEncryptionSchemePolyfill.filterCapabilities_=function(sn,ln){return sn&&sn.filter(function(cn){return!cn.encryptionScheme||cn.encryptionScheme==ln})},goog.exportSymbol("EmeEncryptionSchemePolyfill",EmeEncryptionSchemePolyfill),goog.exportProperty(EmeEncryptionSchemePolyfill,"install",EmeEncryptionSchemePolyfill.install);var McEncryptionSchemePolyfill=function(){};McEncryptionSchemePolyfill.install=function(){McEncryptionSchemePolyfill.originalDecodingInfo_?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(McEncryptionSchemePolyfill.originalDecodingInfo_=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=McEncryptionSchemePolyfill.probeDecodingInfo_):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")},McEncryptionSchemePolyfill.probeDecodingInfo_=function(sn){var ln=this,cn,dn,pn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(vn){switch(vn.nextAddress){case 1:return console.assert(ln==navigator.mediaCapabilities,'bad "this" for decodingInfo'),vn.yield(McEncryptionSchemePolyfill.originalDecodingInfo_.call(ln,sn),2);case 2:if(cn=vn.yieldResult,!sn.keySystemConfiguration)return vn.return(cn);if((dn=cn.keySystemAccess)&&hasEncryptionScheme(dn))return console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=McEncryptionSchemePolyfill.originalDecodingInfo_,vn.return(cn);if(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=McEncryptionSchemePolyfill.polyfillDecodingInfo_,dn){vn.jumpTo(3);break}return pn=cn,vn.yield(McEncryptionSchemePolyfill.getMediaKeySystemAccess_(sn),4);case 4:return pn.keySystemAccess=vn.yieldResult,vn.return(cn);case 3:return vn.return(McEncryptionSchemePolyfill.polyfillDecodingInfo_.call(ln,sn))}})},McEncryptionSchemePolyfill.polyfillDecodingInfo_=function(sn){var ln=this,cn,dn,pn,vn,Sn,En,Cn,Pn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Rn){switch(Rn.nextAddress){case 1:return console.assert(ln==navigator.mediaCapabilities,'bad "this" for decodingInfo'),cn=null,sn.keySystemConfiguration&&(dn=sn.keySystemConfiguration,pn=dn.keySystem,vn=dn.audio&&dn.audio.encryptionScheme,Sn=dn.video&&dn.video.encryptionScheme,cn=guessSupportedScheme(pn),En={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:sn},vn&&vn!=cn||Sn&&Sn!=cn)?Rn.return(En):Rn.yield(McEncryptionSchemePolyfill.originalDecodingInfo_.call(ln,sn),2);case 2:if(Cn=Rn.yieldResult,Cn.keySystemAccess){Cn.keySystemAccess=new EmeEncryptionSchemePolyfillMediaKeySystemAccess(Cn.keySystemAccess,cn),Rn.jumpTo(3);break}if(!sn.keySystemConfiguration){Rn.jumpTo(3);break}return Pn=Cn,Rn.yield(McEncryptionSchemePolyfill.getMediaKeySystemAccess_(sn),5);case 5:Pn.keySystemAccess=Rn.yieldResult;case 3:return Rn.return(Cn)}})},McEncryptionSchemePolyfill.getMediaKeySystemAccess_=function(sn){var ln,cn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dn){return dn.nextAddress==1?(ln=McEncryptionSchemePolyfill.convertToMediaKeySystemConfig_(sn),dn.yield(navigator.requestMediaKeySystemAccess(sn.keySystemConfiguration.keySystem,[ln]),2)):(cn=dn.yieldResult,dn.return(cn))})},McEncryptionSchemePolyfill.convertToMediaKeySystemConfig_=function(sn){var ln=sn.keySystemConfiguration,cn=[],dn=[];return ln.audio&&cn.push({robustness:ln.audio.robustness||"",contentType:sn.audio.contentType}),ln.video&&dn.push({robustness:ln.video.robustness||"",contentType:sn.video.contentType}),sn={initDataTypes:ln.initDataType?[ln.initDataType]:[],distinctiveIdentifier:ln.distinctiveIdentifier,persistentState:ln.persistentState,sessionTypes:ln.sessionTypes},cn.length&&(sn.audioCapabilities=cn),dn.length&&(sn.videoCapabilities=dn),sn},goog.exportSymbol("McEncryptionSchemePolyfill",McEncryptionSchemePolyfill),goog.exportProperty(McEncryptionSchemePolyfill,"install",McEncryptionSchemePolyfill.install);var EmeEncryptionSchemePolyfillMediaKeySystemAccess=function(sn,ln){this.mksa_=sn,this.scheme_=ln,this.keySystem=sn.keySystem};EmeEncryptionSchemePolyfillMediaKeySystemAccess.prototype.getConfiguration=function(){var sn=this.mksa_.getConfiguration();if(sn.videoCapabilities)for(var ln=$jscomp.makeIterator(sn.videoCapabilities),cn=ln.next();!cn.done;cn=ln.next())cn.value.encryptionScheme=this.scheme_;if(sn.audioCapabilities)for(ln=$jscomp.makeIterator(sn.audioCapabilities),cn=ln.next();!cn.done;cn=ln.next())cn.value.encryptionScheme=this.scheme_;return sn},EmeEncryptionSchemePolyfillMediaKeySystemAccess.prototype.createMediaKeys=function(){return this.mksa_.createMediaKeys()};function guessSupportedScheme(sn){return sn.startsWith("com.widevine")||sn.startsWith("com.microsoft")||sn.startsWith("com.chromecast")||sn.startsWith("com.adobe")||sn.startsWith("org.w3")?"cenc":sn.startsWith("com.apple")?"cbcs-1-9":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",sn,"Please contribute!"),null)}function hasEncryptionScheme(sn){sn=sn.getConfiguration();var ln=sn.audioCapabilities&&sn.audioCapabilities[0];return!!((sn=sn.videoCapabilities&&sn.videoCapabilities[0]||ln)&&sn.encryptionScheme!==void 0)}var EncryptionSchemePolyfills=function(){};EncryptionSchemePolyfills.install=function(){EmeEncryptionSchemePolyfill.install(),McEncryptionSchemePolyfill.install()},goog.exportSymbol("EncryptionSchemePolyfills",EncryptionSchemePolyfills),goog.exportProperty(EncryptionSchemePolyfills,"install",EncryptionSchemePolyfills.install),function(){typeof module<"u"&&module.exports&&(module.exports=EncryptionSchemePolyfills)}();/*
	 @license
	 Copyright 2013 Ali Al Dallal

	 Licensed under the MIT license.

	 Permission is hereby granted, free of charge, to any person obtaining a copy
	 of this software and associated documentation files (the "Software"), to deal
	 in the Software without restriction, including without limitation the rights
	 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 copies of the Software, and to permit persons to whom the Software is
	 furnished to do so, subject to the following conditions:

	 The above copyright notice and this permission notice shall be included in
	 all copies or substantial portions of the Software.

	 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	 SOFTWARE.
	*/for(var mozilla={LanguageMapping:{ach:{nativeName:"Lwo",englishName:"Acholi"},ady:{nativeName:"Адыгэбзэ",englishName:"Adyghe"},af:{nativeName:"Afrikaans",englishName:"Afrikaans"},"af-NA":{nativeName:"Afrikaans (Namibia)",englishName:"Afrikaans (Namibia)"},"af-ZA":{nativeName:"Afrikaans (South Africa)",englishName:"Afrikaans (South Africa)"},ak:{nativeName:"Tɕɥi",englishName:"Akan"},ar:{nativeName:"العربية",englishName:"Arabic"},"ar-AR":{nativeName:"العربية",englishName:"Arabic"},"ar-MA":{nativeName:"العربية",englishName:"Arabic (Morocco)"},"ar-SA":{nativeName:"العربية (السعودية)",englishName:"Arabic (Saudi Arabia)"},"ay-BO":{nativeName:"Aymar aru",englishName:"Aymara"},az:{nativeName:"Azərbaycan dili",englishName:"Azerbaijani"},"az-AZ":{nativeName:"Azərbaycan dili",englishName:"Azerbaijani"},"be-BY":{nativeName:"Беларуская",englishName:"Belarusian"},bg:{nativeName:"Български",englishName:"Bulgarian"},"bg-BG":{nativeName:"Български",englishName:"Bulgarian"},bn:{nativeName:"বাংলা",englishName:"Bengali"},"bn-IN":{nativeName:"বাংলা (ভারত)",englishName:"Bengali (India)"},"bn-BD":{nativeName:"বাংলা(বাংলাদেশ)",englishName:"Bengali (Bangladesh)"},"bs-BA":{nativeName:"Bosanski",englishName:"Bosnian"},ca:{nativeName:"Català",englishName:"Catalan"},"ca-ES":{nativeName:"Català",englishName:"Catalan"},cak:{nativeName:"Maya Kaqchikel",englishName:"Kaqchikel"},"ck-US":{nativeName:"ᏣᎳᎩ (tsalagi)",englishName:"Cherokee"},cs:{nativeName:"Čeština",englishName:"Czech"},"cs-CZ":{nativeName:"Čeština",englishName:"Czech"},cy:{nativeName:"Cymraeg",englishName:"Welsh"},"cy-GB":{nativeName:"Cymraeg",englishName:"Welsh"},da:{nativeName:"Dansk",englishName:"Danish"},"da-DK":{nativeName:"Dansk",englishName:"Danish"},de:{nativeName:"Deutsch",englishName:"German"},"de-AT":{nativeName:"Deutsch (Österreich)",englishName:"German (Austria)"},"de-DE":{nativeName:"Deutsch (Deutschland)",englishName:"German (Germany)"},"de-CH":{nativeName:"Deutsch (Schweiz)",englishName:"German (Switzerland)"},dsb:{nativeName:"Dolnoserbšćina",englishName:"Lower Sorbian"},el:{nativeName:"Ελληνικά",englishName:"Greek"},"el-GR":{nativeName:"Ελληνικά",englishName:"Greek (Greece)"},en:{nativeName:"English",englishName:"English"},"en-GB":{nativeName:"English (UK)",englishName:"English (UK)"},"en-AU":{nativeName:"English (Australia)",englishName:"English (Australia)"},"en-CA":{nativeName:"English (Canada)",englishName:"English (Canada)"},"en-IE":{nativeName:"English (Ireland)",englishName:"English (Ireland)"},"en-IN":{nativeName:"English (India)",englishName:"English (India)"},"en-PI":{nativeName:"English (Pirate)",englishName:"English (Pirate)"},"en-UD":{nativeName:"English (Upside Down)",englishName:"English (Upside Down)"},"en-US":{nativeName:"English (US)",englishName:"English (US)"},"en-ZA":{nativeName:"English (South Africa)",englishName:"English (South Africa)"},"en@pirate":{nativeName:"English (Pirate)",englishName:"English (Pirate)"},eo:{nativeName:"Esperanto",englishName:"Esperanto"},"eo-EO":{nativeName:"Esperanto",englishName:"Esperanto"},es:{nativeName:"Español",englishName:"Spanish"},"es-AR":{nativeName:"Español (Argentine)",englishName:"Spanish (Argentina)"},"es-419":{nativeName:"Español (Latinoamérica)",englishName:"Spanish (Latin America)"},"es-CL":{nativeName:"Español (Chile)",englishName:"Spanish (Chile)"},"es-CO":{nativeName:"Español (Colombia)",englishName:"Spanish (Colombia)"},"es-EC":{nativeName:"Español (Ecuador)",englishName:"Spanish (Ecuador)"},"es-ES":{nativeName:"Español (España)",englishName:"Spanish (Spain)"},"es-LA":{nativeName:"Español (Latinoamérica)",englishName:"Spanish (Latin America)"},"es-NI":{nativeName:"Español (Nicaragua)",englishName:"Spanish (Nicaragua)"},"es-MX":{nativeName:"Español (México)",englishName:"Spanish (Mexico)"},"es-US":{nativeName:"Español (Estados Unidos)",englishName:"Spanish (United States)"},"es-VE":{nativeName:"Español (Venezuela)",englishName:"Spanish (Venezuela)"},et:{nativeName:"eesti keel",englishName:"Estonian"},"et-EE":{nativeName:"Eesti (Estonia)",englishName:"Estonian (Estonia)"},eu:{nativeName:"Euskara",englishName:"Basque"},"eu-ES":{nativeName:"Euskara",englishName:"Basque"},fa:{nativeName:"فارسی",englishName:"Persian"},"fa-IR":{nativeName:"فارسی",englishName:"Persian"},"fb-LT":{nativeName:"Leet Speak",englishName:"Leet"},ff:{nativeName:"Fulah",englishName:"Fulah"},fi:{nativeName:"Suomi",englishName:"Finnish"},"fi-FI":{nativeName:"Suomi",englishName:"Finnish"},"fo-FO":{nativeName:"Føroyskt",englishName:"Faroese"},fr:{nativeName:"Français",englishName:"French"},"fr-CA":{nativeName:"Français (Canada)",englishName:"French (Canada)"},"fr-FR":{nativeName:"Français (France)",englishName:"French (France)"},"fr-BE":{nativeName:"Français (Belgique)",englishName:"French (Belgium)"},"fr-CH":{nativeName:"Français (Suisse)",englishName:"French (Switzerland)"},"fy-NL":{nativeName:"Frysk",englishName:"Frisian (West)"},ga:{nativeName:"Gaeilge",englishName:"Irish"},"ga-IE":{nativeName:"Gaeilge (Gaelic)",englishName:"Irish (Gaelic)"},gl:{nativeName:"Galego",englishName:"Galician"},"gl-ES":{nativeName:"Galego",englishName:"Galician"},"gn-PY":{nativeName:"Avañe'ẽ",englishName:"Guarani"},"gu-IN":{nativeName:"ગુજરાતી",englishName:"Gujarati"},"gx-GR":{nativeName:"Ἑλληνική ἀρχαία",englishName:"Classical Greek"},he:{nativeName:"עברית‏",englishName:"Hebrew"},"he-IL":{nativeName:"עברית‏",englishName:"Hebrew"},hi:{nativeName:"हिन्दी",englishName:"Hindi"},"hi-IN":{nativeName:"हिन्दी",englishName:"Hindi"},hr:{nativeName:"Hrvatski",englishName:"Croatian"},"hr-HR":{nativeName:"Hrvatski",englishName:"Croatian"},hsb:{nativeName:"Hornjoserbšćina",englishName:"Upper Sorbian"},ht:{nativeName:"Kreyòl",englishName:"Haitian Creole"},hu:{nativeName:"Magyar",englishName:"Hungarian"},"hu-HU":{nativeName:"Magyar",englishName:"Hungarian"},"hy-AM":{nativeName:"Հայերեն",englishName:"Armenian"},id:{nativeName:"Bahasa Indonesia",englishName:"Indonesian"},"id-ID":{nativeName:"Bahasa Indonesia",englishName:"Indonesian"},is:{nativeName:"Íslenska",englishName:"Icelandic"},"is-IS":{nativeName:"Íslenska (Iceland)",englishName:"Icelandic (Iceland)"},it:{nativeName:"Italiano",englishName:"Italian"},"it-IT":{nativeName:"Italiano",englishName:"Italian"},ja:{nativeName:"日本語",englishName:"Japanese"},"ja-JP":{nativeName:"日本語",englishName:"Japanese"},"jv-ID":{nativeName:"Basa Jawa",englishName:"Javanese"},"ka-GE":{nativeName:"ქართული",englishName:"Georgian"},"kk-KZ":{nativeName:"Қазақша",englishName:"Kazakh"},km:{nativeName:"ភាសាខ្មែរ",englishName:"Khmer"},"km-KH":{nativeName:"ភាសាខ្មែរ",englishName:"Khmer"},kab:{nativeName:"Taqbaylit",englishName:"Kabyle"},kn:{nativeName:"ಕನ್ನಡ",englishName:"Kannada"},"kn-IN":{nativeName:"ಕನ್ನಡ (India)",englishName:"Kannada (India)"},ko:{nativeName:"한국어",englishName:"Korean"},"ko-KR":{nativeName:"한국어 (韩国)",englishName:"Korean (Korea)"},ku:{nativeName:"Kurdî",englishName:"Kurdish"},"ku-TR":{nativeName:"Kurdî",englishName:"Kurdish"},la:{nativeName:"Latin",englishName:"Latin"},"la-VA":{nativeName:"Latin",englishName:"Latin"},lb:{nativeName:"Lëtzebuergesch",englishName:"Luxembourgish"},"li-NL":{nativeName:"Lèmbörgs",englishName:"Limburgish"},lt:{nativeName:"Lietuvių",englishName:"Lithuanian"},"lt-LT":{nativeName:"Lietuvių",englishName:"Lithuanian"},lv:{nativeName:"Latviešu",englishName:"Latvian"},"lv-LV":{nativeName:"Latviešu",englishName:"Latvian"},mai:{nativeName:"मैथिली, মৈথিলী",englishName:"Maithili"},"mg-MG":{nativeName:"Malagasy",englishName:"Malagasy"},mk:{nativeName:"Македонски",englishName:"Macedonian"},"mk-MK":{nativeName:"Македонски (Македонски)",englishName:"Macedonian (Macedonian)"},ml:{nativeName:"മലയാളം",englishName:"Malayalam"},"ml-IN":{nativeName:"മലയാളം",englishName:"Malayalam"},"mn-MN":{nativeName:"Монгол",englishName:"Mongolian"},mr:{nativeName:"मराठी",englishName:"Marathi"},"mr-IN":{nativeName:"मराठी",englishName:"Marathi"},ms:{nativeName:"Bahasa Melayu",englishName:"Malay"},"ms-MY":{nativeName:"Bahasa Melayu",englishName:"Malay"},mt:{nativeName:"Malti",englishName:"Maltese"},"mt-MT":{nativeName:"Malti",englishName:"Maltese"},my:{nativeName:"ဗမာစကာ",englishName:"Burmese"},nb:{nativeName:"Norsk (bokmål)",englishName:"Norwegian (bokmal)"},"nb-NO":{nativeName:"Norsk (bokmål)",englishName:"Norwegian (bokmal)"},ne:{nativeName:"नेपाली",englishName:"Nepali"},"ne-NP":{nativeName:"नेपाली",englishName:"Nepali"},nl:{nativeName:"Nederlands",englishName:"Dutch"},"nl-BE":{nativeName:"Nederlands (België)",englishName:"Dutch (Belgium)"},"nl-NL":{nativeName:"Nederlands (Nederland)",englishName:"Dutch (Netherlands)"},"nn-NO":{nativeName:"Norsk (nynorsk)",englishName:"Norwegian (nynorsk)"},no:{nativeName:"Norsk",englishName:"Norwegian"},oc:{nativeName:"Occitan",englishName:"Occitan"},"or-IN":{nativeName:"ଓଡ଼ିଆ",englishName:"Oriya"},pa:{nativeName:"ਪੰਜਾਬੀ",englishName:"Punjabi"},"pa-IN":{nativeName:"ਪੰਜਾਬੀ (ਭਾਰਤ ਨੂੰ)",englishName:"Punjabi (India)"},pl:{nativeName:"Polski",englishName:"Polish"},"pl-PL":{nativeName:"Polski",englishName:"Polish"},"ps-AF":{nativeName:"پښتو",englishName:"Pashto"},pt:{nativeName:"Português",englishName:"Portuguese"},"pt-BR":{nativeName:"Português (Brasil)",englishName:"Portuguese (Brazil)"},"pt-PT":{nativeName:"Português (Portugal)",englishName:"Portuguese (Portugal)"},"qu-PE":{nativeName:"Qhichwa",englishName:"Quechua"},"rm-CH":{nativeName:"Rumantsch",englishName:"Romansh"},ro:{nativeName:"Română",englishName:"Romanian"},"ro-RO":{nativeName:"Română",englishName:"Romanian"},ru:{nativeName:"Русский",englishName:"Russian"},"ru-RU":{nativeName:"Русский",englishName:"Russian"},"sa-IN":{nativeName:"संस्कृतम्",englishName:"Sanskrit"},"se-NO":{nativeName:"Davvisámegiella",englishName:"Northern Sámi"},"si-LK":{nativeName:"පළාත",englishName:"Sinhala (Sri Lanka)"},sk:{nativeName:"Slovenčina",englishName:"Slovak"},"sk-SK":{nativeName:"Slovenčina (Slovakia)",englishName:"Slovak (Slovakia)"},sl:{nativeName:"Slovenščina",englishName:"Slovenian"},"sl-SI":{nativeName:"Slovenščina",englishName:"Slovenian"},"so-SO":{nativeName:"Soomaaliga",englishName:"Somali"},sq:{nativeName:"Shqip",englishName:"Albanian"},"sq-AL":{nativeName:"Shqip",englishName:"Albanian"},sr:{nativeName:"Српски",englishName:"Serbian"},"sr-RS":{nativeName:"Српски (Serbia)",englishName:"Serbian (Serbia)"},su:{nativeName:"Basa Sunda",englishName:"Sundanese"},sv:{nativeName:"Svenska",englishName:"Swedish"},"sv-SE":{nativeName:"Svenska",englishName:"Swedish"},sw:{nativeName:"Kiswahili",englishName:"Swahili"},"sw-KE":{nativeName:"Kiswahili",englishName:"Swahili (Kenya)"},ta:{nativeName:"தமிழ்",englishName:"Tamil"},"ta-IN":{nativeName:"தமிழ்",englishName:"Tamil"},te:{nativeName:"తెలుగు",englishName:"Telugu"},"te-IN":{nativeName:"తెలుగు",englishName:"Telugu"},tg:{nativeName:"забо́ни тоҷикӣ́",englishName:"Tajik"},"tg-TJ":{nativeName:"тоҷикӣ",englishName:"Tajik"},th:{nativeName:"ภาษาไทย",englishName:"Thai"},"th-TH":{nativeName:"ภาษาไทย (ประเทศไทย)",englishName:"Thai (Thailand)"},tl:{nativeName:"Filipino",englishName:"Filipino"},"tl-PH":{nativeName:"Filipino",englishName:"Filipino"},tlh:{nativeName:"tlhIngan-Hol",englishName:"Klingon"},tr:{nativeName:"Türkçe",englishName:"Turkish"},"tr-TR":{nativeName:"Türkçe",englishName:"Turkish"},"tt-RU":{nativeName:"татарча",englishName:"Tatar"},uk:{nativeName:"Українська",englishName:"Ukrainian"},"uk-UA":{nativeName:"Українська",englishName:"Ukrainian"},ur:{nativeName:"اردو",englishName:"Urdu"},"ur-PK":{nativeName:"اردو",englishName:"Urdu"},uz:{nativeName:"O'zbek",englishName:"Uzbek"},"uz-UZ":{nativeName:"O'zbek",englishName:"Uzbek"},vi:{nativeName:"Tiếng Việt",englishName:"Vietnamese"},"vi-VN":{nativeName:"Tiếng Việt",englishName:"Vietnamese"},"xh-ZA":{nativeName:"isiXhosa",englishName:"Xhosa"},yi:{nativeName:"ייִדיש",englishName:"Yiddish"},"yi-DE":{nativeName:"ייִדיש (German)",englishName:"Yiddish (German)"},zh:{nativeName:"中文",englishName:"Chinese"},"zh-HANS":{nativeName:"中文简体",englishName:"Chinese Simplified"},"zh-HANT":{nativeName:"中文繁體",englishName:"Chinese Traditional"},"zh-CN":{nativeName:"中文（中国）",englishName:"Chinese Simplified (China)"},"zh-HK":{nativeName:"中文（香港）",englishName:"Chinese Traditional (Hong Kong)"},"zh-SG":{nativeName:"中文（新加坡）",englishName:"Chinese Simplified (Singapore)"},"zh-TW":{nativeName:"中文（台灣）",englishName:"Chinese Traditional (Taiwan)"},"zu-ZA":{nativeName:"isiZulu",englishName:"Zulu"}}},$jscomp$iter$422=$jscomp.makeIterator(Object.keys(mozilla.LanguageMapping)),$jscomp$key$key=$jscomp$iter$422.next();!$jscomp$key$key.done;$jscomp$key$key=$jscomp$iter$422.next()){var key=$jscomp$key$key.value;mozilla.LanguageMapping[key.toLowerCase()]=mozilla.LanguageMapping[key]}shaka.ui.Element=function(sn,ln){var cn=this;this.parent=sn,this.controls=ln,this.eventManager=new shaka.util.EventManager,this.localization=this.controls.getLocalization(),this.player=this.controls.getPlayer(),this.video=this.controls.getVideo(),this.adManager=this.player.getAdManager(),this.ad=ln.getAd(),this.eventManager.listen(this.adManager,shaka.ads.AdManager.AD_STARTED,function(dn){cn.ad=dn.ad}),this.eventManager.listen(this.adManager,shaka.ads.AdManager.AD_STOPPED,function(){cn.ad=null})},shaka.ui.Element.prototype.release=function(){this.eventManager.release(),this.ad=this.adManager=this.video=this.player=this.localization=this.eventManager=this.controls=this.parent=null},goog.exportSymbol("shaka.ui.Element",shaka.ui.Element),goog.exportProperty(shaka.ui.Element.prototype,"release",shaka.ui.Element.prototype.release),shaka.ui.Enums={},shaka.ui.Enums.MaterialDesignIcons={FULLSCREEN:"fullscreen",EXIT_FULLSCREEN:"fullscreen_exit",CLOSE:"close",CLOSED_CAPTIONS:"closed_caption",CLOSED_CAPTIONS_OFF:"closed_caption_disabled",CHECKMARK:"done",LANGUAGE:"language",PIP:"picture_in_picture_alt",EXIT_PIP:"branding_watermark",BACK:"arrow_back",RESOLUTION:"settings",MUTE:"volume_up",UNMUTE:"volume_off",CAST:"cast",EXIT_CAST:"cast_connected",OPEN_OVERFLOW:"more_vert",REWIND:"fast_rewind",FAST_FORWARD:"fast_forward",PLAY:"play_arrow",PLAYBACK_RATE:"slow_motion_video",PAUSE:"pause",LOOP:"repeat",UNLOOP:"repeat_on",AIRPLAY:"airplay",REPLAY:"replay",STATISTICS_ON:"insert_chart_outlined",STATISTICS_OFF:"insert_chart"},shaka.ui.Utils=function(){},shaka.ui.Utils.getFirstDescendantWithClassName=function(sn,ln){return sn=shaka.ui.Utils.getDescendantIfExists(sn,ln),goog.asserts.assert(sn!=null,"Should not be null!"),sn},shaka.ui.Utils.getDescendantIfExists=function(sn,ln){return sn=sn.getElementsByClassName(ln),sn.length?sn[0]:null},shaka.ui.Utils.focusOnTheChosenItem=function(sn){sn&&(sn=shaka.ui.Utils.getDescendantIfExists(sn,"shaka-chosen-item"))&&sn.parentElement.focus()},shaka.ui.Utils.checkmarkIcon=function(){var sn=shaka.util.Dom.createHTMLElement("i");return sn.classList.add("material-icons-round"),sn.classList.add("shaka-chosen-item"),sn.textContent=shaka.ui.Enums.MaterialDesignIcons.CHECKMARK,sn.ariaHidden="true",sn},shaka.ui.Utils.setDisplay=function(sn,ln){sn&&(ln?sn.classList.remove("shaka-hidden"):sn.classList.add("shaka-hidden"))},shaka.ui.Utils.buildTimeString=function(sn,ln){var cn=Math.floor(sn/3600),dn=Math.floor(sn/60%60);return sn=Math.floor(sn%60),10>sn&&(sn="0"+sn),sn=dn+":"+sn,ln&&(10>dn&&(sn="0"+sn),sn=cn+":"+sn),sn},shaka.ui.AdCounter=function(sn,ln){shaka.ui.Element.call(this,sn,ln);var cn=this;this.container_=shaka.util.Dom.createHTMLElement("div"),this.container_.classList.add("shaka-ad-counter"),this.parent.appendChild(this.container_),this.span_=shaka.util.Dom.createHTMLElement("span"),this.span_.classList.add("shaka-ad-counter-span"),this.container_.appendChild(this.span_),this.timer_=new shaka.util.Timer(function(){cn.onTimerTick_()}),this.updateAriaLabel_(),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_UPDATED,function(){cn.updateAriaLabel_()}),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_CHANGED,function(){cn.updateAriaLabel_()}),this.eventManager.listen(this.adManager,shaka.ads.AdManager.AD_STARTED,function(){cn.onAdStarted_()}),this.eventManager.listen(this.adManager,shaka.ads.AdManager.AD_STOPPED,function(){cn.reset_()}),this.ad&&this.onAdStarted_()},$jscomp.inherits(shaka.ui.AdCounter,shaka.ui.Element),shaka.ui.AdCounter.prototype.updateAriaLabel_=function(){},shaka.ui.AdCounter.prototype.onAdStarted_=function(){this.timer_.tickNow(),this.timer_.tickEvery(.5)},shaka.ui.AdCounter.prototype.onTimerTick_=function(){goog.asserts.assert(this.ad!=null,"this.ad should exist at this point");var sn=Math.round(this.ad.getRemainingTime()),ln=this.ad.getDuration();sn!=-1&&ln!=-1&&(0<sn?(sn=shaka.ui.Utils.buildTimeString(ln-sn,!1),ln=shaka.ui.Utils.buildTimeString(ln,!1),ln=sn+" / "+ln,1<this.ad.getSequenceLength()?this.span_.textContent=ln:(sn=this.localization.resolve(shaka.ui.Locales.Ids.AD_TIME),this.span_.textContent=sn.replace("[AD_TIME]",ln))):this.reset_())},shaka.ui.AdCounter.prototype.reset_=function(){this.timer_.stop(),this.span_.textContent=""},shaka.ui.AdCounter.prototype.release=function(){this.timer_.stop(),this.timer_=null,shaka.ui.Element.prototype.release.call(this)},goog.exportSymbol("shaka.ui.AdCounter",shaka.ui.AdCounter),shaka.ui.AdPosition=function(sn,ln){shaka.ui.Element.call(this,sn,ln);var cn=this;this.container_=shaka.util.Dom.createHTMLElement("div"),this.container_.classList.add("shaka-ad-position"),shaka.ui.Utils.setDisplay(this.container_,!1),this.parent.appendChild(this.container_),this.span_=shaka.util.Dom.createHTMLElement("span"),this.span_.classList.add("shaka-ad-position-span"),this.container_.appendChild(this.span_),this.updateAriaLabel_(),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_UPDATED,function(){cn.ad&&(cn.updateAriaLabel_(),cn.setPosition_())}),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_CHANGED,function(){cn.ad&&(cn.updateAriaLabel_(),cn.setPosition_())}),this.eventManager.listen(this.adManager,shaka.ads.AdManager.AD_STARTED,function(){cn.setPosition_()}),this.eventManager.listen(this.adManager,shaka.ads.AdManager.AD_STOPPED,function(){cn.span_.textContent="",shaka.ui.Utils.setDisplay(cn.container_,!1)}),this.ad&&this.setPosition_()},$jscomp.inherits(shaka.ui.AdPosition,shaka.ui.Element),shaka.ui.AdPosition.prototype.updateAriaLabel_=function(){},shaka.ui.AdPosition.prototype.setPosition_=function(){var sn=this.ad.getSequenceLength();if(1<sn){var ln=shaka.ui.Locales.Ids,cn=this.ad.getPositionInSequence();this.span_.textContent=this.localization.resolve(ln.AD_PROGRESS).replace("[AD_ON]",String(cn)).replace("[NUM_ADS]",String(sn)),shaka.ui.Utils.setDisplay(this.container_,!0)}},goog.exportSymbol("shaka.ui.AdPosition",shaka.ui.AdPosition),shaka.ui.PlayButton=function(sn,ln){shaka.ui.Element.call(this,sn,ln);var cn=this;sn=shaka.ads.AdManager,this.button=shaka.util.Dom.createButton(),this.parent.appendChild(this.button),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_UPDATED,function(){cn.updateAriaLabel()}),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_CHANGED,function(){cn.updateAriaLabel()}),this.eventManager.listen(this.video,"play",function(){cn.updateAriaLabel(),cn.updateIcon()}),this.eventManager.listen(this.video,"pause",function(){cn.updateAriaLabel(),cn.updateIcon()}),this.eventManager.listen(this.video,"seeking",function(){cn.updateAriaLabel(),cn.updateIcon()}),this.eventManager.listen(this.adManager,sn.AD_PAUSED,function(){cn.updateAriaLabel(),cn.updateIcon()}),this.eventManager.listen(this.adManager,sn.AD_RESUMED,function(){cn.updateAriaLabel(),cn.updateIcon()}),this.eventManager.listen(this.adManager,sn.AD_STARTED,function(){cn.updateAriaLabel(),cn.updateIcon()}),this.eventManager.listen(this.button,"click",function(){cn.ad&&cn.ad.isLinear()?cn.controls.playPauseAd():cn.controls.playPausePresentation()}),this.ad&&(this.updateAriaLabel(),this.updateIcon())},$jscomp.inherits(shaka.ui.PlayButton,shaka.ui.Element),shaka.ui.PlayButton.prototype.isPaused=function(){return this.ad&&this.ad.isLinear()?this.ad.isPaused():this.controls.presentationIsPaused()},shaka.ui.PlayButton.prototype.updateAriaLabel=function(){},shaka.ui.PlayButton.prototype.updateIcon=function(){},goog.exportSymbol("shaka.ui.PlayButton",shaka.ui.PlayButton),shaka.ui.BigPlayButton=function(sn,ln){shaka.ui.PlayButton.call(this,sn,ln),this.button.classList.add("shaka-play-button"),this.button.classList.add("shaka-no-propagation"),this.updateIcon(),this.updateAriaLabel()},$jscomp.inherits(shaka.ui.BigPlayButton,shaka.ui.PlayButton),shaka.ui.BigPlayButton.prototype.updateIcon=function(){this.isPaused()?this.button.setAttribute("icon","play"):this.button.setAttribute("icon","pause")},shaka.ui.BigPlayButton.prototype.updateAriaLabel=function(){var sn=shaka.ui.Locales.Ids;sn=this.isPaused()?sn.PLAY:sn.PAUSE,this.button.ariaLabel=this.localization.resolve(sn)},goog.exportSymbol("shaka.ui.BigPlayButton",shaka.ui.BigPlayButton),shaka.ui.ContextMenu=function(sn,ln){shaka.ui.Element.call(this,sn,ln);var cn=this;this.config_=this.controls.getConfig(),this.controlsContainer_=this.controls.getControlsContainer(),this.children_=[],this.contextMenu_=shaka.util.Dom.createHTMLElement("div"),this.contextMenu_.classList.add("shaka-no-propagation"),this.contextMenu_.classList.add("shaka-context-menu"),this.contextMenu_.classList.add("shaka-hidden"),this.controlsContainer_.appendChild(this.contextMenu_),this.eventManager.listen(this.controlsContainer_,"contextmenu",function(dn){if(cn.contextMenu_.classList.contains("shaka-hidden")){dn.preventDefault();var pn=cn.controlsContainer_.getBoundingClientRect();cn.contextMenu_.style.left=dn.clientX-pn.left+"px",cn.contextMenu_.style.top=dn.clientY-pn.top+"px",shaka.ui.Utils.setDisplay(cn.contextMenu_,!0)}else shaka.ui.Utils.setDisplay(cn.contextMenu_,!1)}),this.eventManager.listen(window,"click",function(){shaka.ui.Utils.setDisplay(cn.contextMenu_,!1)}),this.createChildren_()},$jscomp.inherits(shaka.ui.ContextMenu,shaka.ui.Element),shaka.ui.ContextMenu.prototype.release=function(){this.controlsContainer_=null;for(var sn=$jscomp.makeIterator(this.children_),ln=sn.next();!ln.done;ln=sn.next())ln.value.release();this.children_=[],shaka.ui.Element.prototype.release.call(this)},shaka.ui.ContextMenu.registerElement=function(sn,ln){shaka.ui.ContextMenu.elementNamesToFactories_.set(sn,ln)},shaka.ui.ContextMenu.prototype.createChildren_=function(){for(var sn=$jscomp.makeIterator(this.config_.contextMenuElements),ln=sn.next();!ln.done;ln=sn.next()){ln=ln.value;var cn=shaka.ui.ContextMenu.elementNamesToFactories_.get(ln);cn?(goog.asserts.assert(this.controls,"Controls should not be null!"),this.children_.push(cn.create(this.contextMenu_,this.controls))):shaka.log.alwaysWarn("Unrecognized context menu element:",ln)}},goog.exportSymbol("shaka.ui.ContextMenu",shaka.ui.ContextMenu),goog.exportProperty(shaka.ui.ContextMenu,"registerElement",shaka.ui.ContextMenu.registerElement),shaka.ui.ContextMenu.elementNamesToFactories_=new Map,shaka.ui.Constants={},shaka.ui.Constants.MIN_SEEK_WINDOW_TO_SHOW_SEEKBAR=5,shaka.ui.RangeElement=function(sn,ln,cn,dn){shaka.ui.Element.call(this,sn,ln);var pn=this;this.container=shaka.util.Dom.createHTMLElement("div"),this.container.classList.add("shaka-range-container"),this.container.classList.add.apply(this.container.classList,$jscomp.arrayFromIterable(cn)),this.isChanging_=!1,this.bar=document.createElement("input"),this.endFakeChangeTimer_=new shaka.util.Timer(function(){pn.onChangeEnd(),pn.isChanging_=!1}),this.bar.classList.add("shaka-range-element"),this.bar.classList.add.apply(this.bar.classList,$jscomp.arrayFromIterable(dn)),this.bar.type="range",this.bar.step="any",this.bar.min="0",this.bar.max="1",this.bar.value="0",this.container.appendChild(this.bar),this.parent.appendChild(this.container),this.eventManager.listen(this.bar,"mousedown",function(){pn.controls.isOpaque()&&(pn.isChanging_=!0,pn.onChangeStart())}),this.eventManager.listen(this.bar,"touchstart",function(vn){pn.controls.isOpaque()&&(pn.isChanging_=!0,pn.setBarValueForTouch_(vn),pn.onChangeStart())}),this.eventManager.listen(this.bar,"input",function(){pn.onChange()}),this.eventManager.listen(this.bar,"touchmove",function(vn){pn.isChanging_&&(pn.setBarValueForTouch_(vn),pn.onChange())}),this.eventManager.listen(this.bar,"touchend",function(vn){pn.isChanging_&&(pn.isChanging_=!1,pn.setBarValueForTouch_(vn),pn.onChangeEnd())}),this.eventManager.listen(this.bar,"mouseup",function(){pn.isChanging_&&(pn.isChanging_=!1,pn.onChangeEnd())})},$jscomp.inherits(shaka.ui.RangeElement,shaka.ui.Element),shaka.ui.RangeElement.prototype.release=function(){this.endFakeChangeTimer_&&(this.endFakeChangeTimer_.stop(),this.endFakeChangeTimer_=null),shaka.ui.Element.prototype.release.call(this)},shaka.ui.RangeElement.prototype.setRange=function(sn,ln){this.bar.min=sn,this.bar.max=ln},shaka.ui.RangeElement.prototype.onChangeStart=function(){},shaka.ui.RangeElement.prototype.onChange=function(){},shaka.ui.RangeElement.prototype.onChangeEnd=function(){},shaka.ui.RangeElement.prototype.changeTo=function(sn){this.isChanging_||(this.isChanging_=!0,this.onChangeStart());var ln=parseFloat(this.bar.min),cn=parseFloat(this.bar.max);this.bar.value=sn>cn?cn:sn<ln?ln:sn,this.onChange(),this.endFakeChangeTimer_.tickAfter(.5)},shaka.ui.RangeElement.prototype.getValue=function(){return parseFloat(this.bar.value)},shaka.ui.RangeElement.prototype.setValue=function(sn){this.isChanging_||(this.bar.value=sn)},shaka.ui.RangeElement.prototype.setBarValueForTouch_=function(sn){sn.preventDefault();var ln=sn.changedTouches[0],cn=this.bar.getBoundingClientRect();sn=parseFloat(this.bar.min);var dn=parseFloat(this.bar.max);ln=sn+(dn-sn)/cn.width*(ln.clientX-cn.left),ln<sn?ln=sn:ln>dn&&(ln=dn),this.bar.value=ln},goog.exportSymbol("shaka.ui.RangeElement",shaka.ui.RangeElement),goog.exportProperty(shaka.ui.RangeElement.prototype,"setValue",shaka.ui.RangeElement.prototype.setValue),goog.exportProperty(shaka.ui.RangeElement.prototype,"getValue",shaka.ui.RangeElement.prototype.getValue),goog.exportProperty(shaka.ui.RangeElement.prototype,"changeTo",shaka.ui.RangeElement.prototype.changeTo),goog.exportProperty(shaka.ui.RangeElement.prototype,"onChangeEnd",shaka.ui.RangeElement.prototype.onChangeEnd),goog.exportProperty(shaka.ui.RangeElement.prototype,"onChange",shaka.ui.RangeElement.prototype.onChange),goog.exportProperty(shaka.ui.RangeElement.prototype,"onChangeStart",shaka.ui.RangeElement.prototype.onChangeStart),goog.exportProperty(shaka.ui.RangeElement.prototype,"setRange",shaka.ui.RangeElement.prototype.setRange),shaka.ui.SeekBar=function(sn,ln){shaka.ui.RangeElement.call(this,sn,ln,["shaka-seek-bar-container"],["shaka-seek-bar","shaka-no-propagation","shaka-show-controls-on-mouse-over"]);var cn=this;this.adMarkerContainer_=shaka.util.Dom.createHTMLElement("div"),this.adMarkerContainer_.classList.add("shaka-ad-markers"),this.container.insertBefore(this.adMarkerContainer_,this.container.childNodes[0]),this.config_=this.controls.getConfig(),this.seekTimer_=new shaka.util.Timer(function(){cn.video.currentTime=cn.getValue()}),this.adBreaksTimer_=new shaka.util.Timer(function(){cn.markAdBreaks_()}),this.wasPlaying_=!1,this.adCuePoints_=[],this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_UPDATED,function(){return cn.updateAriaLabel_()}),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_CHANGED,function(){return cn.updateAriaLabel_()}),this.eventManager.listen(this.adManager,shaka.ads.AdManager.AD_STARTED,function(){cn.shouldBeDisplayed_()||shaka.ui.Utils.setDisplay(cn.container,!1)}),this.eventManager.listen(this.adManager,shaka.ads.AdManager.AD_STOPPED,function(){cn.shouldBeDisplayed_()&&shaka.ui.Utils.setDisplay(cn.container,!0)}),this.eventManager.listen(this.adManager,shaka.ads.AdManager.CUEPOINTS_CHANGED,function(dn){cn.adCuePoints_=dn.cuepoints,cn.onAdCuePointsChanged_()}),this.eventManager.listen(this.player,"unloading",function(){cn.adCuePoints_=[],cn.onAdCuePointsChanged_()}),this.setValue(this.video.currentTime),this.update(),this.updateAriaLabel_(),this.ad&&shaka.ui.Utils.setDisplay(this.container,!1)},$jscomp.inherits(shaka.ui.SeekBar,shaka.ui.RangeElement),shaka.ui.SeekBar.prototype.release=function(){this.seekTimer_&&(this.seekTimer_.stop(),this.seekTimer_=null,this.adBreaksTimer_.stop(),this.adBreaksTimer_=null),shaka.ui.RangeElement.prototype.release.call(this)},shaka.ui.SeekBar.prototype.onChangeStart=function(){this.wasPlaying_=!this.video.paused,this.controls.setSeeking(!0),this.video.pause()},shaka.ui.SeekBar.prototype.onChange=function(){this.video.duration&&(this.update(),this.seekTimer_.tickAfter(.125))},shaka.ui.SeekBar.prototype.onChangeEnd=function(){this.seekTimer_.tickNow(),this.controls.setSeeking(!1),this.wasPlaying_&&this.video.play()},shaka.ui.SeekBar.prototype.isShowing=function(){return!this.container.classList.contains("shaka-hidden")},shaka.ui.SeekBar.prototype.update=function(){var sn=this.config_.seekBarColors,ln=this.getValue(),cn=this.video.buffered.length,dn=cn?this.video.buffered.start(0):0,pn=cn?this.video.buffered.end(cn-1):0,vn=this.player.seekRange(),Sn=vn.end-vn.start;this.setRange(vn.start,vn.end),this.shouldBeDisplayed_()?(shaka.ui.Utils.setDisplay(this.container,!0),cn==0?this.container.style.background=sn.base:(cn=(Math.max(dn,vn.start)-vn.start)/Sn||0,pn=(Math.min(pn,vn.end)-vn.start)/Sn||0,ln=(Math.min(Math.max(ln,vn.start),vn.end)-vn.start)/Sn||0,sn=["to right",this.makeColor_(this.config_.showUnbufferedStart?sn.base:sn.played,cn),this.makeColor_(sn.played,cn),this.makeColor_(sn.played,ln),this.makeColor_(sn.buffered,ln),this.makeColor_(sn.buffered,pn),this.makeColor_(sn.base,pn)],this.container.style.background="linear-gradient("+sn.join(",")+")")):shaka.ui.Utils.setDisplay(this.container,!1)},shaka.ui.SeekBar.prototype.markAdBreaks_=function(){if(this.adCuePoints_.length){for(var sn=this.player.seekRange(),ln=sn.end-sn.start,cn=["to right"],dn=[],pn=this.config_.seekBarColors.adBreaks,vn=!1,Sn=$jscomp.makeIterator(this.adCuePoints_),En=Sn.next();!En.done;En=Sn.next())if(En=En.value,En.start!=-1||En.end||(vn=!0),En.start>=sn.start&&En.start<sn.end&&!(En.end&&En.end>sn.end)){var Cn=(En.start-sn.start)/ln||0,Pn=Cn+.01;En.end&&(Pn=(En.end-sn.start)/ln||0),dn.push({start:Cn,end:Pn})}for(sn=$jscomp.makeIterator(dn),En=sn.next();!En.done;En=sn.next())ln=En.value,cn.push(this.makeColor_("transparent",ln.start)),cn.push(this.makeColor_(pn,ln.start)),cn.push(this.makeColor_(pn,ln.end)),cn.push(this.makeColor_("transparent",ln.end));vn&&(cn.push(this.makeColor_("transparent",.99)),cn.push(this.makeColor_(pn,.99))),this.adMarkerContainer_.style.background="linear-gradient("+cn.join(",")+")"}else this.adMarkerContainer_.style.background="transparent"},shaka.ui.SeekBar.prototype.makeColor_=function(sn,ln){return sn+" "+100*ln+"%"},shaka.ui.SeekBar.prototype.onAdCuePointsChanged_=function(){this.markAdBreaks_();var sn=this.player.seekRange();sn=sn.end-sn.start;var ln=shaka.ui.Constants.MIN_SEEK_WINDOW_TO_SHOW_SEEKBAR;this.player.isLive()&&sn>ln&&this.adBreaksTimer_.tickEvery(1)},shaka.ui.SeekBar.prototype.shouldBeDisplayed_=function(){var sn=this.player.seekRange();return sn=sn.end-sn.start,this.player.isLive()&&sn<shaka.ui.Constants.MIN_SEEK_WINDOW_TO_SHOW_SEEKBAR?!1:this.ad==null||!this.ad.isLinear()},shaka.ui.SeekBar.prototype.updateAriaLabel_=function(){this.bar.ariaLabel=this.localization.resolve(shaka.ui.Locales.Ids.SEEK)},goog.exportSymbol("shaka.ui.SeekBar",shaka.ui.SeekBar),shaka.ui.SeekBar.Factory=function(){},shaka.ui.SeekBar.Factory.prototype.create=function(sn,ln){return new shaka.ui.SeekBar(sn,ln)},goog.exportProperty(shaka.ui.SeekBar,"Factory",shaka.ui.SeekBar.Factory),shaka.ui.ControlsPanel={},shaka.ui.Controls=function(sn,ln,cn,dn){shaka.util.FakeEventTarget.call(this);var pn=this;this.enabled_=!0,this.config_=dn,this.castProxy_=new shaka.cast.CastProxy(cn,sn,this.config_.castReceiverAppId,this.config_.castAndroidReceiverCompatible),this.castAllowed_=!0,this.video_=this.castProxy_.getVideo(),this.localVideo_=cn,this.player_=this.castProxy_.getPlayer(),this.localPlayer_=sn,this.videoContainer_=ln,this.adManager_=this.player_.getAdManager(),this.seekBar_=this.ad_=null,this.isSeeking_=!1,this.menus_=[],this.showOnHoverControls_=[],this.recentMouseMovement_=!1,this.mouseStillTimer_=new shaka.util.Timer(function(){pn.onMouseStill_()}),this.fadeControlsTimer_=new shaka.util.Timer(function(){pn.controlsContainer_.removeAttribute("shown"),pn.hideSettingsMenusTimer_.tickAfter(2)}),this.hideSettingsMenusTimer_=new shaka.util.Timer(function(){for(var vn=$jscomp.makeIterator(pn.menus_),Sn=vn.next();!Sn.done;Sn=vn.next())shaka.ui.Utils.setDisplay(Sn.value,!1)}),this.timeAndSeekRangeTimer_=new shaka.util.Timer(function(){pn.isOpaque()&&pn.updateTimeAndSeekRange_()}),this.lastTouchEventTime_=null,this.elements_=[],this.localization_=shaka.ui.Controls.createLocalization_(),this.eventManager_=new shaka.util.EventManager,this.configure(this.config_),this.addEventListeners_(),this.pressedKeys_=new Set,this.onCastStatusChange_(),this.timeAndSeekRangeTimer_.tickEvery(.125),this.eventManager_.listen(this.localization_,shaka.ui.Localization.LOCALE_CHANGED,function(vn){pn.adManager_.setLocale(vn.locales[0])})},$jscomp.inherits(shaka.ui.Controls,shaka.util.FakeEventTarget),shaka.ui.Controls.prototype.destroy=function(){var sn=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ln){switch(ln.nextAddress){case 1:if(document.pictureInPictureElement!=sn.localVideo_){ln.jumpTo(2);break}return ln.yield(document.exitPictureInPicture(),2);case 2:if(sn.eventManager_&&(sn.eventManager_.release(),sn.eventManager_=null),sn.mouseStillTimer_&&(sn.mouseStillTimer_.stop(),sn.mouseStillTimer_=null),sn.fadeControlsTimer_&&(sn.fadeControlsTimer_.stop(),sn.fadeControlsTimer_=null),sn.hideSettingsMenusTimer_&&(sn.hideSettingsMenusTimer_.stop(),sn.hideSettingsMenusTimer_=null),sn.timeAndSeekRangeTimer_&&(sn.timeAndSeekRangeTimer_.stop(),sn.timeAndSeekRangeTimer_=null),sn.releaseChildElements_(),sn.controlsContainer_&&(sn.videoContainer_.removeChild(sn.controlsContainer_),sn.controlsContainer_=null),!sn.castProxy_){ln.jumpTo(4);break}return ln.yield(sn.castProxy_.destroy(),5);case 5:sn.castProxy_=null;case 4:if(!sn.localPlayer_){ln.jumpTo(6);break}return ln.yield(sn.localPlayer_.destroy(),7);case 7:sn.localPlayer_=null;case 6:sn.player_=null,sn.localVideo_=null,sn.video_=null,sn.localization_=null,sn.pressedKeys_.clear(),shaka.util.FakeEventTarget.prototype.release.call(sn),ln.jumpToEnd()}})},shaka.ui.Controls.prototype.releaseChildElements_=function(){for(var sn=$jscomp.makeIterator(this.elements_),ln=sn.next();!ln.done;ln=sn.next())ln.value.release();this.elements_=[]},shaka.ui.Controls.registerElement=function(sn,ln){shaka.ui.ControlsPanel.elementNamesToFactories_.set(sn,ln)},shaka.ui.Controls.registerSeekBar=function(sn){shaka.ui.ControlsPanel.seekBarFactory_=sn},shaka.ui.Controls.prototype.allowCast=function(sn){this.castAllowed_=sn,this.onCastStatusChange_()},shaka.ui.Controls.prototype.loadComplete=function(){this.onPlayStateChange_()},shaka.ui.Controls.prototype.configure=function(sn){this.config_=sn,this.castProxy_.changeReceiverId(sn.castReceiverAppId,sn.castAndroidReceiverCompatible),this.seekBar_&&(this.seekBar_=null),this.playButton_&&(this.playButton_=null),this.contextMenu_&&(this.contextMenu_=null),this.controlsContainer_?(shaka.util.Dom.removeAllChildren(this.controlsContainer_),this.releaseChildElements_()):(this.addControlsContainer_(),this.addClientAdContainer_()),this.createDOM_(),this.onPlayStateChange_(),sn=this.videoContainer_.getElementsByClassName("shaka-no-propagation"),sn=$jscomp.makeIterator(sn);for(var ln=sn.next();!ln.done;ln=sn.next()){ln=ln.value;var cn=function(dn){return dn.stopPropagation()};this.eventManager_.listen(ln,"click",cn),this.eventManager_.listen(ln,"dblclick",cn)}},shaka.ui.Controls.prototype.setEnabledShakaControls=function(sn){(this.enabled_=sn)?(this.videoContainer_.setAttribute("shaka-controls","true"),this.localVideo_.tabIndex=-1,this.localVideo_.controls=!1):this.videoContainer_.removeAttribute("shaka-controls"),this.onPlayStateChange_()},shaka.ui.Controls.prototype.setEnabledNativeControls=function(sn){this.localVideo_.controls=sn,this.localVideo_.tabIndex=sn?0:-1,sn&&this.setEnabledShakaControls(!1)},shaka.ui.Controls.prototype.getAd=function(){return this.ad_},shaka.ui.Controls.prototype.getCastProxy=function(){return this.castProxy_},shaka.ui.Controls.prototype.getLocalization=function(){return this.localization_},shaka.ui.Controls.prototype.getVideoContainer=function(){return this.videoContainer_},shaka.ui.Controls.prototype.getVideo=function(){return this.video_},shaka.ui.Controls.prototype.getLocalVideo=function(){return this.localVideo_},shaka.ui.Controls.prototype.getPlayer=function(){return this.player_},shaka.ui.Controls.prototype.getLocalPlayer=function(){return this.localPlayer_},shaka.ui.Controls.prototype.getControlsContainer=function(){return goog.asserts.assert(this.controlsContainer_,"No controls container after destruction!"),this.controlsContainer_},shaka.ui.Controls.prototype.getServerSideAdContainer=function(){return this.daiAdContainer_},shaka.ui.Controls.prototype.getClientSideAdContainer=function(){return this.clientAdContainer_},shaka.ui.Controls.prototype.getConfig=function(){return this.config_},shaka.ui.Controls.prototype.isSeeking=function(){return this.isSeeking_},shaka.ui.Controls.prototype.setSeeking=function(sn){this.isSeeking_=sn},shaka.ui.Controls.prototype.isCastAllowed=function(){return this.castAllowed_},shaka.ui.Controls.prototype.getDisplayTime=function(){return this.seekBar_?this.seekBar_.getValue():this.video_.currentTime},shaka.ui.Controls.prototype.setLastTouchEventTime=function(sn){this.lastTouchEventTime_=sn},shaka.ui.Controls.prototype.anySettingsMenusAreOpen=function(){return this.menus_.some(function(sn){return!sn.classList.contains("shaka-hidden")})},shaka.ui.Controls.prototype.hideSettingsMenus=function(){this.hideSettingsMenusTimer_.tickNow()},shaka.ui.Controls.prototype.isFullScreenSupported=function(){return!!(document.fullscreenEnabled||this.localVideo_.webkitSupportsFullscreen)},shaka.ui.Controls.prototype.isFullScreenEnabled=function(){if(document.fullscreenEnabled)return!!document.fullscreenElement;var sn=this.localVideo_;return sn.webkitSupportsFullscreen?sn.webkitDisplayingFullscreen:!1},shaka.ui.Controls.prototype.enterFullScreen_=function(){var sn=this,ln,cn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(dn){switch(dn.nextAddress){case 1:if(dn.setCatchFinallyBlocks(2),!document.fullscreenEnabled){ln=sn.localVideo_,ln.webkitSupportsFullscreen&&ln.webkitEnterFullscreen(),dn.jumpTo(4);break}if(!document.pictureInPictureElement){dn.jumpTo(5);break}return dn.yield(document.exitPictureInPicture(),5);case 5:return dn.yield(sn.videoContainer_.requestFullscreen({navigationUI:"hide"}),7);case 7:if(!sn.config_.forceLandscapeOnFullscreen||!screen.orientation){dn.jumpTo(4);break}return dn.setCatchFinallyBlocks(9),dn.yield(screen.orientation.lock("landscape"),11);case 11:dn.leaveTryBlock(4,2);break;case 9:dn.enterCatchBlock(2);case 4:dn.leaveTryBlock(0);break;case 2:cn=dn.enterCatchBlock(),sn.dispatchEvent(new shaka.util.FakeEvent("error",new Map().set("detail",cn))),dn.jumpToEnd()}})},shaka.ui.Controls.prototype.exitFullScreen_=function(){var sn=this,ln;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cn){return document.fullscreenEnabled?(screen.orientation&&screen.orientation.unlock(),cn.yield(document.exitFullscreen(),0)):(ln=sn.localVideo_,ln.webkitSupportsFullscreen&&ln.webkitExitFullscreen(),cn.jumpTo(0))})},shaka.ui.Controls.prototype.toggleFullScreen=function(){var sn=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ln){return sn.isFullScreenEnabled()?ln.yield(sn.exitFullScreen_(),0):ln.yield(sn.enterFullScreen_(),0)})},shaka.ui.Controls.prototype.showAdUI=function(){shaka.ui.Utils.setDisplay(this.adPanel_,!0),shaka.ui.Utils.setDisplay(this.clientAdContainer_,!0),this.controlsContainer_.setAttribute("ad-active","true")},shaka.ui.Controls.prototype.hideAdUI=function(){shaka.ui.Utils.setDisplay(this.adPanel_,!1),shaka.ui.Utils.setDisplay(this.clientAdContainer_,!1),this.controlsContainer_.removeAttribute("ad-active")},shaka.ui.Controls.prototype.playPausePresentation=function(){this.enabled_&&this.video_.duration&&(this.player_.cancelTrickPlay(),this.presentationIsPaused()?this.video_.play():this.video_.pause())},shaka.ui.Controls.prototype.playPauseAd=function(){this.ad_&&this.ad_.isPaused()?this.ad_.play():this.ad_&&this.ad_.pause()},shaka.ui.Controls.prototype.presentationIsPaused=function(){return this.video_.paused&&!this.isSeeking()},shaka.ui.Controls.prototype.createDOM_=function(){this.videoContainer_.classList.add("shaka-video-container"),this.localVideo_.classList.add("shaka-video"),this.addScrimContainer_(),this.config_.addBigPlayButton&&this.addPlayButton_(),this.config_.customContextMenu&&this.addContextMenu_(),this.spinnerContainer_||this.addBufferingSpinner_(),this.addDaiAdContainer_(),this.addControlsButtonPanel_(),this.menus_=Array.from(this.videoContainer_.getElementsByClassName("shaka-settings-menu")),this.menus_.push.apply(this.menus_,$jscomp.arrayFromIterable(Array.from(this.videoContainer_.getElementsByClassName("shaka-overflow-menu")))),this.addSeekBar_(),this.showOnHoverControls_=Array.from(this.videoContainer_.getElementsByClassName("shaka-show-controls-on-mouse-over"))},shaka.ui.Controls.prototype.addControlsContainer_=function(){var sn=this;this.controlsContainer_=shaka.util.Dom.createHTMLElement("div"),this.controlsContainer_.classList.add("shaka-controls-container"),this.videoContainer_.appendChild(this.controlsContainer_),this.videoContainer_.setAttribute("shaka-controls","true"),this.eventManager_.listen(this.controlsContainer_,"touchstart",function(ln){sn.onContainerTouch_(ln)},{passive:!1}),this.eventManager_.listen(this.controlsContainer_,"click",function(){sn.onContainerClick_()}),this.eventManager_.listen(this.controlsContainer_,"dblclick",function(){sn.config_.doubleClickForFullscreen&&sn.isFullScreenSupported()&&sn.toggleFullScreen()})},shaka.ui.Controls.prototype.addPlayButton_=function(){var sn=shaka.util.Dom.createHTMLElement("div");sn.classList.add("shaka-play-button-container"),this.controlsContainer_.appendChild(sn),this.playButton_=new shaka.ui.BigPlayButton(sn,this),this.elements_.push(this.playButton_)},shaka.ui.Controls.prototype.addContextMenu_=function(){this.contextMenu_=new shaka.ui.ContextMenu(this.controlsButtonPanel_,this),this.elements_.push(this.contextMenu_)},shaka.ui.Controls.prototype.addScrimContainer_=function(){var sn=shaka.util.Dom.createHTMLElement("div");sn.classList.add("shaka-scrim-container"),this.controlsContainer_.appendChild(sn)},shaka.ui.Controls.prototype.addAdControls_=function(){this.adPanel_=shaka.util.Dom.createHTMLElement("div"),this.adPanel_.classList.add("shaka-ad-controls");var sn=this.ad_!=null&&this.ad_.isLinear();shaka.ui.Utils.setDisplay(this.adPanel_,sn),this.bottomControls_.appendChild(this.adPanel_),sn=new shaka.ui.AdPosition(this.adPanel_,this),this.elements_.push(sn),sn=new shaka.ui.AdCounter(this.adPanel_,this),this.elements_.push(sn)},shaka.ui.Controls.prototype.addBufferingSpinner_=function(){this.spinnerContainer_=shaka.util.Dom.createHTMLElement("div"),this.spinnerContainer_.classList.add("shaka-spinner-container"),this.videoContainer_.appendChild(this.spinnerContainer_);var sn=shaka.util.Dom.createHTMLElement("div");sn.classList.add("shaka-spinner"),this.spinnerContainer_.appendChild(sn);var ln=document.createElementNS("http://www.w3.org/2000/svg","svg");ln.classList.add("shaka-spinner-svg"),ln.setAttribute("viewBox","0 0 30 30"),sn.appendChild(ln),sn=document.createElementNS("http://www.w3.org/2000/svg","circle"),sn.classList.add("shaka-spinner-path"),sn.setAttribute("cx","15"),sn.setAttribute("cy","15"),sn.setAttribute("r","14.5"),sn.setAttribute("fill","none"),sn.setAttribute("stroke-width","1"),sn.setAttribute("stroke-miterlimit","10"),ln.appendChild(sn)},shaka.ui.Controls.prototype.addControlsButtonPanel_=function(){var sn=this;this.bottomControls_=shaka.util.Dom.createHTMLElement("div"),this.bottomControls_.classList.add("shaka-bottom-controls"),this.bottomControls_.classList.add("shaka-no-propagation"),this.controlsContainer_.appendChild(this.bottomControls_),this.eventManager_.listen(this.bottomControls_,"click",function(dn){dn.target.closest(".shaka-overflow-button")||sn.hideSettingsMenus()}),this.addAdControls_(),this.controlsButtonPanel_=shaka.util.Dom.createHTMLElement("div"),this.controlsButtonPanel_.classList.add("shaka-controls-button-panel"),this.controlsButtonPanel_.classList.add("shaka-show-controls-on-mouse-over"),this.config_.enableTooltips&&this.controlsButtonPanel_.classList.add("shaka-tooltips-on"),this.bottomControls_.appendChild(this.controlsButtonPanel_);for(var ln=$jscomp.makeIterator(this.config_.controlPanelElements),cn=ln.next();!cn.done;cn=ln.next())cn=cn.value,shaka.ui.ControlsPanel.elementNamesToFactories_.get(cn)?(cn=shaka.ui.ControlsPanel.elementNamesToFactories_.get(cn).create(this.controlsButtonPanel_,this),this.elements_.push(cn)):shaka.log.alwaysWarn("Unrecognized control panel element requested:",cn)},shaka.ui.Controls.prototype.addDaiAdContainer_=function(){this.daiAdContainer_=shaka.util.Dom.createHTMLElement("div"),this.daiAdContainer_.classList.add("shaka-server-side-ad-container"),this.controlsContainer_.appendChild(this.daiAdContainer_)},shaka.ui.Controls.prototype.addSeekBar_=function(){if(this.config_.addSeekBar)this.seekBar_=shaka.ui.ControlsPanel.seekBarFactory_.create(this.bottomControls_,this),this.elements_.push(this.seekBar_);else for(var sn=$jscomp.makeIterator(this.menus_),ln=sn.next();!ln.done;ln=sn.next())ln.value.classList.add("shaka-low-position")},shaka.ui.Controls.prototype.addClientAdContainer_=function(){var sn=this;this.clientAdContainer_=shaka.util.Dom.createHTMLElement("div"),this.clientAdContainer_.classList.add("shaka-client-side-ad-container"),shaka.ui.Utils.setDisplay(this.clientAdContainer_,!1),this.eventManager_.listen(this.clientAdContainer_,"click",function(){sn.onContainerClick_()}),this.videoContainer_.appendChild(this.clientAdContainer_)},shaka.ui.Controls.prototype.addEventListeners_=function(){var sn=this;this.eventManager_.listen(this.player_,"buffering",function(){sn.onBufferingStateChange_()}),this.onBufferingStateChange_(),this.eventManager_.listen(window,"keydown",function(ln){sn.onWindowKeyDown_(ln)}),this.eventManager_.listen(window,"click",function(){return sn.hideSettingsMenus()}),this.eventManager_.listen(this,"submenuopen",function(){sn.hideSettingsMenus()}),this.eventManager_.listen(this.video_,"play",function(){sn.onPlayStateChange_()}),this.eventManager_.listen(this.video_,"pause",function(){sn.onPlayStateChange_()}),this.eventManager_.listen(this.videoContainer_,"mousemove",function(ln){sn.onMouseMove_(ln)}),this.eventManager_.listen(this.videoContainer_,"touchmove",function(ln){sn.onMouseMove_(ln)},{passive:!0}),this.eventManager_.listen(this.videoContainer_,"touchend",function(ln){sn.onMouseMove_(ln)},{passive:!0}),this.eventManager_.listen(this.videoContainer_,"mouseleave",function(){sn.onMouseLeave_()}),this.eventManager_.listen(this.castProxy_,"caststatuschanged",function(){sn.onCastStatusChange_()}),this.eventManager_.listen(this.videoContainer_,"keydown",function(ln){sn.onControlsKeyDown_(ln)}),this.eventManager_.listen(this.videoContainer_,"keyup",function(ln){sn.onControlsKeyUp_(ln)}),this.eventManager_.listen(this.adManager_,shaka.ads.AdManager.AD_STARTED,function(ln){sn.ad_=ln.ad,sn.showAdUI()}),this.eventManager_.listen(this.adManager_,shaka.ads.AdManager.AD_STOPPED,function(){sn.ad_=null,sn.hideAdUI()}),screen.orientation&&this.eventManager_.listen(screen.orientation,"change",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(ln){return ln.yield(sn.onScreenRotation_(),0)})})},shaka.ui.Controls.prototype.onScreenRotation_=function(){var sn=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ln){return sn.video_&&sn.video_.readyState!=0&&!sn.castProxy_.isCasting()&&sn.config_.enableFullscreenOnRotation&&sn.isFullScreenSupported()?screen.orientation.type.includes("landscape")&&!sn.isFullScreenEnabled()?ln.yield(sn.enterFullScreen_(),0):screen.orientation.type.includes("portrait")&&sn.isFullScreenEnabled()?ln.yield(sn.exitFullScreen_(),0):ln.jumpTo(0):ln.return()})},shaka.ui.Controls.prototype.onMouseMove_=function(sn){sn.type=="mousemove"&&(this.controlsContainer_.classList.remove("shaka-keyboard-navigation"),this.computeOpacity()),sn.type=="touchstart"||sn.type=="touchmove"||sn.type=="touchend"||sn.type=="keyup"?this.lastTouchEventTime_=Date.now():this.lastTouchEventTime_+1e3<Date.now()&&(this.lastTouchEventTime_=null),this.lastTouchEventTime_&&sn.type=="mousemove"||(this.videoContainer_.style.cursor="",this.recentMouseMovement_=!0,this.hideSettingsMenusTimer_.stop(),this.isOpaque()||(this.updateTimeAndSeekRange_(),this.computeOpacity()),this.mouseStillTimer_.stop(),sn.type!="touchend"&&sn.type!="keyup"&&this.lastTouchEventTime_||this.mouseStillTimer_.tickAfter(3))},shaka.ui.Controls.prototype.onMouseLeave_=function(){this.lastTouchEventTime_||this.mouseStillTimer_.tickNow()},shaka.ui.Controls.prototype.onMouseStill_=function(){this.videoContainer_.style.cursor="none",this.recentMouseMovement_=!1,this.computeOpacity()},shaka.ui.Controls.prototype.isHovered_=function(){return window.matchMedia("hover: hover").matches?this.showOnHoverControls_.some(function(sn){return sn.matches(":hover")}):!1},shaka.ui.Controls.prototype.computeOpacity=function(){var sn=this.ad_?this.ad_.isPaused():!1,ln=this.video_.paused&&!this.isSeeking_,cn=this.controlsContainer_.classList.contains("shaka-keyboard-navigation");sn||(!this.ad_||!this.ad_.isLinear())&&ln||this.recentMouseMovement_||cn||this.isHovered_()?(this.updateTimeAndSeekRange_(),this.controlsContainer_.setAttribute("shown","true"),this.fadeControlsTimer_.stop()):this.fadeControlsTimer_.tickAfter(this.config_.fadeDelay)},shaka.ui.Controls.prototype.onContainerTouch_=function(sn){this.video_.duration&&(this.isOpaque()?this.lastTouchEventTime_=Date.now():(this.onMouseMove_(sn),sn.cancelable&&sn.preventDefault()))},shaka.ui.Controls.prototype.onContainerClick_=function(){this.enabled_&&(this.anySettingsMenusAreOpen()?this.hideSettingsMenusTimer_.tickNow():this.config_.singleClickForPlayAndPause&&this.onPlayPauseClick_())},shaka.ui.Controls.prototype.onPlayPauseClick_=function(){this.ad_&&this.ad_.isLinear()?this.playPauseAd():this.playPausePresentation()},shaka.ui.Controls.prototype.onCastStatusChange_=function(){var sn=this.castProxy_.isCasting();this.dispatchEvent(new shaka.util.FakeEvent("caststatuschanged",new Map().set("newStatus",sn))),sn?this.controlsContainer_.setAttribute("casting","true"):this.controlsContainer_.removeAttribute("casting")},shaka.ui.Controls.prototype.onPlayStateChange_=function(){this.computeOpacity()},shaka.ui.Controls.prototype.onControlsKeyDown_=function(sn){var ln=document.activeElement,cn=ln&&ln.classList?ln.classList.contains("shaka-volume-bar"):!1,dn=ln&&ln.classList&&ln.classList.contains("shaka-seek-bar");if(this.controlsContainer_.contains(ln)&&this.onMouseMove_(sn),this.config_.enableKeyboardPlaybackControls)switch(ln=this.config_.keyboardSeekDistance,sn.key){case"ArrowLeft":this.seekBar_&&!cn&&0<ln&&(sn.preventDefault(),this.seek_(this.seekBar_.getValue()-ln));break;case"ArrowRight":this.seekBar_&&!cn&&0<ln&&(sn.preventDefault(),this.seek_(this.seekBar_.getValue()+ln));break;case"Home":this.seekBar_&&this.seek_(this.player_.seekRange().start);break;case"End":this.seekBar_&&this.seek_(this.player_.seekRange().end);break;case" ":dn&&this.onPlayPauseClick_()}},shaka.ui.Controls.prototype.onControlsKeyUp_=function(sn){this.pressedKeys_.delete(sn.key)},shaka.ui.Controls.prototype.onBufferingStateChange_=function(){this.enabled_&&shaka.ui.Utils.setDisplay(this.spinnerContainer_,this.player_.isBuffering())},shaka.ui.Controls.prototype.isOpaque=function(){return this.enabled_?this.controlsContainer_.getAttribute("shown")!=null||this.controlsContainer_.getAttribute("casting")!=null:!1},shaka.ui.Controls.prototype.seek_=function(sn){goog.asserts.assert(this.seekBar_,"Caller of seek_ must check for seekBar_ first!"),this.seekBar_.changeTo(sn),this.isOpaque()&&this.updateTimeAndSeekRange_()},shaka.ui.Controls.prototype.updateTimeAndSeekRange_=function(){if(this.seekBar_)if(this.seekBar_.setValue(this.video_.currentTime),this.seekBar_.update(),this.seekBar_.isShowing())for(var sn=$jscomp.makeIterator(this.menus_),ln=sn.next();!ln.done;ln=sn.next())ln.value.classList.remove("shaka-low-position");else for(sn=$jscomp.makeIterator(this.menus_),ln=sn.next();!ln.done;ln=sn.next())ln.value.classList.add("shaka-low-position");this.dispatchEvent(new shaka.util.FakeEvent("timeandseekrangeupdated"))},shaka.ui.Controls.prototype.onWindowKeyDown_=function(sn){var ln=this;this.pressedKeys_.add(sn.key);var cn=this.anySettingsMenusAreOpen();sn.key=="Tab"&&(this.controlsContainer_.classList.add("shaka-keyboard-navigation"),this.computeOpacity(),this.eventManager_.listen(window,"mousedown",function(){return ln.onMouseDown_()})),sn.key=="Escape"&&this.hideSettingsMenusTimer_.tickNow(),cn&&this.pressedKeys_.has("Tab")&&this.keepFocusInMenu_(sn)},shaka.ui.Controls.prototype.keepFocusInMenu_=function(sn){var ln=this.menus_.filter(function(pn){return!pn.classList.contains("shaka-hidden")});if(ln.length){var cn=ln[0];if(cn.childNodes.length){for(ln=cn.firstElementChild;ln&&ln.classList.contains("shaka-hidden");)ln=ln.nextElementSibling;for(cn=cn.lastElementChild;cn&&cn.classList.contains("shaka-hidden");)cn=cn.previousElementSibling;var dn=document.activeElement;this.pressedKeys_.has("Shift")?dn==ln&&(sn.preventDefault(),cn.focus()):dn==cn&&(sn.preventDefault(),ln.focus())}}},shaka.ui.Controls.prototype.onMouseDown_=function(){this.eventManager_.unlisten(window,"mousedown")},shaka.ui.Controls.createLocalization_=function(){var sn=new shaka.ui.Localization("en");return shaka.ui.Locales.addTo(sn),sn.changeLocale(navigator.languages||[]),sn},goog.exportSymbol("shaka.ui.Controls",shaka.ui.Controls),goog.exportProperty(shaka.ui.Controls.prototype,"isOpaque",shaka.ui.Controls.prototype.isOpaque),goog.exportProperty(shaka.ui.Controls.prototype,"hideAdUI",shaka.ui.Controls.prototype.hideAdUI),goog.exportProperty(shaka.ui.Controls.prototype,"showAdUI",shaka.ui.Controls.prototype.showAdUI),goog.exportProperty(shaka.ui.Controls.prototype,"toggleFullScreen",shaka.ui.Controls.prototype.toggleFullScreen),goog.exportProperty(shaka.ui.Controls.prototype,"isFullScreenEnabled",shaka.ui.Controls.prototype.isFullScreenEnabled),goog.exportProperty(shaka.ui.Controls.prototype,"isFullScreenSupported",shaka.ui.Controls.prototype.isFullScreenSupported),goog.exportProperty(shaka.ui.Controls.prototype,"hideSettingsMenus",shaka.ui.Controls.prototype.hideSettingsMenus),goog.exportProperty(shaka.ui.Controls.prototype,"anySettingsMenusAreOpen",shaka.ui.Controls.prototype.anySettingsMenusAreOpen),goog.exportProperty(shaka.ui.Controls.prototype,"setLastTouchEventTime",shaka.ui.Controls.prototype.setLastTouchEventTime),goog.exportProperty(shaka.ui.Controls.prototype,"getDisplayTime",shaka.ui.Controls.prototype.getDisplayTime),goog.exportProperty(shaka.ui.Controls.prototype,"isCastAllowed",shaka.ui.Controls.prototype.isCastAllowed),goog.exportProperty(shaka.ui.Controls.prototype,"setSeeking",shaka.ui.Controls.prototype.setSeeking),goog.exportProperty(shaka.ui.Controls.prototype,"isSeeking",shaka.ui.Controls.prototype.isSeeking),goog.exportProperty(shaka.ui.Controls.prototype,"getConfig",shaka.ui.Controls.prototype.getConfig),goog.exportProperty(shaka.ui.Controls.prototype,"getClientSideAdContainer",shaka.ui.Controls.prototype.getClientSideAdContainer),goog.exportProperty(shaka.ui.Controls.prototype,"getServerSideAdContainer",shaka.ui.Controls.prototype.getServerSideAdContainer),goog.exportProperty(shaka.ui.Controls.prototype,"getControlsContainer",shaka.ui.Controls.prototype.getControlsContainer),goog.exportProperty(shaka.ui.Controls.prototype,"getLocalPlayer",shaka.ui.Controls.prototype.getLocalPlayer),goog.exportProperty(shaka.ui.Controls.prototype,"getPlayer",shaka.ui.Controls.prototype.getPlayer),goog.exportProperty(shaka.ui.Controls.prototype,"getLocalVideo",shaka.ui.Controls.prototype.getLocalVideo),goog.exportProperty(shaka.ui.Controls.prototype,"getVideo",shaka.ui.Controls.prototype.getVideo),goog.exportProperty(shaka.ui.Controls.prototype,"getVideoContainer",shaka.ui.Controls.prototype.getVideoContainer),goog.exportProperty(shaka.ui.Controls.prototype,"getLocalization",shaka.ui.Controls.prototype.getLocalization),goog.exportProperty(shaka.ui.Controls.prototype,"getCastProxy",shaka.ui.Controls.prototype.getCastProxy),goog.exportProperty(shaka.ui.Controls.prototype,"getAd",shaka.ui.Controls.prototype.getAd),goog.exportProperty(shaka.ui.Controls.prototype,"setEnabledNativeControls",shaka.ui.Controls.prototype.setEnabledNativeControls),goog.exportProperty(shaka.ui.Controls.prototype,"setEnabledShakaControls",shaka.ui.Controls.prototype.setEnabledShakaControls),goog.exportProperty(shaka.ui.Controls.prototype,"configure",shaka.ui.Controls.prototype.configure),goog.exportProperty(shaka.ui.Controls.prototype,"loadComplete",shaka.ui.Controls.prototype.loadComplete),goog.exportProperty(shaka.ui.Controls.prototype,"allowCast",shaka.ui.Controls.prototype.allowCast),goog.exportProperty(shaka.ui.Controls,"registerSeekBar",shaka.ui.Controls.registerSeekBar),goog.exportProperty(shaka.ui.Controls,"registerElement",shaka.ui.Controls.registerElement),goog.exportProperty(shaka.ui.Controls.prototype,"destroy",shaka.ui.Controls.prototype.destroy),shaka.ui.ControlsPanel.elementNamesToFactories_=new Map,shaka.ui.ControlsPanel.seekBarFactory_=new shaka.ui.SeekBar.Factory,shaka.ui.OverflowMenu=function(sn,ln){shaka.ui.Element.call(this,sn,ln);var cn=this;this.config_=this.controls.getConfig(),this.controlsContainer_=this.controls.getControlsContainer(),this.children_=[],this.addOverflowMenuButton_(),this.addOverflowMenu_(),this.createChildren_(),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_UPDATED,function(){cn.updateAriaLabel_()}),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_CHANGED,function(){cn.updateAriaLabel_()}),this.eventManager.listen(this.adManager,shaka.ads.AdManager.AD_STARTED,function(){cn.ad&&cn.ad.isLinear()&&shaka.ui.Utils.setDisplay(cn.overflowMenuButton_,!1)}),this.eventManager.listen(this.adManager,shaka.ads.AdManager.AD_STOPPED,function(){shaka.ui.Utils.setDisplay(cn.overflowMenuButton_,!0)}),this.eventManager.listen(this.controls,"submenuopen",function(){shaka.ui.Utils.setDisplay(cn.overflowMenu_,!1)}),this.eventManager.listen(this.overflowMenu_,"touchstart",function(dn){cn.controls.setLastTouchEventTime(Date.now()),dn.stopPropagation()}),this.eventManager.listen(this.overflowMenuButton_,"click",function(){cn.onOverflowMenuButtonClick_()}),this.updateAriaLabel_(),this.ad&&this.ad.isLinear()&&shaka.ui.Utils.setDisplay(this.overflowMenuButton_,!1)},$jscomp.inherits(shaka.ui.OverflowMenu,shaka.ui.Element),shaka.ui.OverflowMenu.prototype.release=function(){this.controlsContainer_=null;for(var sn=$jscomp.makeIterator(this.children_),ln=sn.next();!ln.done;ln=sn.next())ln.value.release();this.children_=[],shaka.ui.Element.prototype.release.call(this)},shaka.ui.OverflowMenu.registerElement=function(sn,ln){shaka.ui.OverflowMenu.elementNamesToFactories_.set(sn,ln)},shaka.ui.OverflowMenu.prototype.addOverflowMenu_=function(){this.overflowMenu_=shaka.util.Dom.createHTMLElement("div"),this.overflowMenu_.classList.add("shaka-overflow-menu"),this.overflowMenu_.classList.add("shaka-no-propagation"),this.overflowMenu_.classList.add("shaka-show-controls-on-mouse-over"),this.overflowMenu_.classList.add("shaka-hidden"),this.controlsContainer_.appendChild(this.overflowMenu_)},shaka.ui.OverflowMenu.prototype.addOverflowMenuButton_=function(){this.overflowMenuButton_=shaka.util.Dom.createButton(),this.overflowMenuButton_.classList.add("shaka-overflow-menu-button"),this.overflowMenuButton_.classList.add("shaka-no-propagation"),this.overflowMenuButton_.classList.add("material-icons-round"),this.overflowMenuButton_.classList.add("shaka-tooltip"),this.overflowMenuButton_.textContent=shaka.ui.Enums.MaterialDesignIcons.OPEN_OVERFLOW,this.parent.appendChild(this.overflowMenuButton_)},shaka.ui.OverflowMenu.prototype.createChildren_=function(){for(var sn=$jscomp.makeIterator(this.config_.overflowMenuButtons),ln=sn.next();!ln.done;ln=sn.next())ln=ln.value,shaka.ui.OverflowMenu.elementNamesToFactories_.get(ln)?(ln=shaka.ui.OverflowMenu.elementNamesToFactories_.get(ln),goog.asserts.assert(this.controls,"Controls should not be null!"),this.children_.push(ln.create(this.overflowMenu_,this.controls))):shaka.log.alwaysWarn("Unrecognized overflow menu element requested:",ln)},shaka.ui.OverflowMenu.prototype.onOverflowMenuButtonClick_=function(){if(this.controls.anySettingsMenusAreOpen())this.controls.hideSettingsMenus();else{shaka.ui.Utils.setDisplay(this.overflowMenu_,!0),this.controls.computeOpacity();var sn=function(cn){return cn.classList.contains("shaka-hidden")==0},ln=shaka.util.Iterables;ln.some(this.overflowMenu_.childNodes,sn)&&ln.filter(this.overflowMenu_.childNodes,sn)[0].focus()}},shaka.ui.OverflowMenu.prototype.updateAriaLabel_=function(){this.overflowMenuButton_.ariaLabel=this.localization.resolve(shaka.ui.Locales.Ids.MORE_SETTINGS)},goog.exportSymbol("shaka.ui.OverflowMenu",shaka.ui.OverflowMenu),goog.exportProperty(shaka.ui.OverflowMenu,"registerElement",shaka.ui.OverflowMenu.registerElement),shaka.ui.OverflowMenu.Factory=function(){},shaka.ui.OverflowMenu.Factory.prototype.create=function(sn,ln){return new shaka.ui.OverflowMenu(sn,ln)},shaka.ui.Controls.registerElement("overflow_menu",new shaka.ui.OverflowMenu.Factory),shaka.ui.OverflowMenu.elementNamesToFactories_=new Map,shaka.ui.AirPlayButton=function(sn,ln){shaka.ui.Element.call(this,sn,ln);var cn=this;this.airplayButton_=shaka.util.Dom.createButton(),this.airplayButton_.classList.add("shaka-airplay-button"),this.airplayButton_.classList.add("shaka-tooltip"),this.airplayButton_.ariaPressed="false",this.airplayIcon_=shaka.util.Dom.createHTMLElement("i"),this.airplayIcon_.classList.add("material-icons-round"),this.airplayIcon_.textContent=shaka.ui.Enums.MaterialDesignIcons.AIRPLAY,this.airplayButton_.appendChild(this.airplayIcon_),window.WebKitPlaybackTargetAvailabilityEvent||this.airplayButton_.classList.add("shaka-hidden"),sn=shaka.util.Dom.createHTMLElement("label"),sn.classList.add("shaka-overflow-button-label"),sn.classList.add("shaka-overflow-menu-only"),this.airplayNameSpan_=shaka.util.Dom.createHTMLElement("span"),sn.appendChild(this.airplayNameSpan_),this.airplayCurrentSelectionSpan_=shaka.util.Dom.createHTMLElement("span"),this.airplayCurrentSelectionSpan_.classList.add("shaka-current-selection-span"),sn.appendChild(this.airplayCurrentSelectionSpan_),this.airplayButton_.appendChild(sn),this.parent.appendChild(this.airplayButton_),this.updateLocalizedStrings_(),this.onAirPlayStatusChange_(),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_UPDATED,function(){cn.updateLocalizedStrings_()}),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_CHANGED,function(){cn.updateLocalizedStrings_()}),this.eventManager.listen(this.airplayButton_,"click",function(){cn.onAirPlayClick_()}),sn=this.controls.getVideo(),goog.asserts.assert(sn!=null,"Should have a video!"),this.eventManager.listen(sn,"webkitplaybacktargetavailabilitychanged",function(dn){cn.onAirPlayAvailabilityChange_(dn)}),this.eventManager.listen(sn,"webkitcurrentplaybacktargetiswirelesschanged",function(){cn.onAirPlayStatusChange_()})},$jscomp.inherits(shaka.ui.AirPlayButton,shaka.ui.Element),shaka.ui.AirPlayButton.prototype.onAirPlayClick_=function(){var sn=this.controls.getVideo();goog.asserts.assert(sn!=null,"Should have a video!"),sn.webkitShowPlaybackTargetPicker()},shaka.ui.AirPlayButton.prototype.onAirPlayAvailabilityChange_=function(sn){sn=sn.availability=="available";var ln=this.player.getLoadMode()==shaka.Player.LoadMode.SRC_EQUALS;shaka.ui.Utils.setDisplay(this.airplayButton_,sn&&ln)},shaka.ui.AirPlayButton.prototype.onAirPlayStatusChange_=function(){var sn=this.controls.getVideo();goog.asserts.assert(sn!=null,"Should have a video!"),this.airplayButton_.ariaPressed=sn&&sn.webkitCurrentPlaybackTargetIsWireless?"true":"false"},shaka.ui.AirPlayButton.prototype.updateLocalizedStrings_=function(){var sn=shaka.ui.Locales.Ids;this.airplayButton_.ariaLabel=this.localization.resolve(sn.AIRPLAY),this.airplayNameSpan_.textContent=this.localization.resolve(sn.AIRPLAY)},goog.exportSymbol("shaka.ui.AirPlayButton",shaka.ui.AirPlayButton),shaka.ui.AirPlayButton.Factory=function(){},shaka.ui.AirPlayButton.Factory.prototype.create=function(sn,ln){return new shaka.ui.AirPlayButton(sn,ln)},shaka.ui.OverflowMenu.registerElement("airplay",new shaka.ui.AirPlayButton.Factory),shaka.ui.Controls.registerElement("airplay",new shaka.ui.AirPlayButton.Factory),shaka.ui.Overlay=function(sn,ln,cn){this.player_=sn,this.config_=this.defaultConfig_(),ln.dataset.shakaPlayerContainer="",ln.ui=this,this.isMobile()&&ln.classList.add("shaka-mobile"),this.controls_=new shaka.ui.Controls(sn,ln,cn,this.config_),this.configure({}),cn.controls||sn.setVideoContainer(ln),ln.ui=this,cn.ui=this},shaka.ui.Overlay.prototype.destroy=function(){var sn=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ln){if(ln.nextAddress==1)return sn.controls_?ln.yield(sn.controls_.destroy(),2):ln.jumpTo(2);if(ln.nextAddress!=4)return sn.controls_=null,sn.player_?ln.yield(sn.player_.destroy(),4):ln.jumpTo(4);sn.player_=null,ln.jumpToEnd()})},shaka.ui.Overlay.prototype.isMobile=function(){return shaka.util.Platform.isMobile()},shaka.ui.Overlay.prototype.getConfiguration=function(){var sn=this.defaultConfig_();return shaka.util.ConfigUtils.mergeConfigObjects(sn,this.config_,this.defaultConfig_(),{},""),sn},shaka.ui.Overlay.prototype.configure=function(sn,ln){goog.asserts.assert(typeof sn=="object"||arguments.length==2,"String configs should have values!"),arguments.length==2&&typeof sn=="string"&&(sn=shaka.util.ConfigUtils.convertToConfigObject(sn,ln)),goog.asserts.assert(typeof sn=="object","Should be an object!"),shaka.util.ConfigUtils.mergeConfigObjects(this.config_,sn,this.defaultConfig_(),{},""),this.config_.castReceiverAppId&&!this.config_.overflowMenuButtons.includes("cast")&&this.config_.overflowMenuButtons.push("cast"),goog.asserts.assert(this.player_!=null,"Should have a player!"),this.controls_.configure(this.config_),this.controls_.dispatchEvent(new shaka.util.FakeEvent("uiupdated"))},shaka.ui.Overlay.prototype.getControls=function(){return this.controls_},shaka.ui.Overlay.prototype.setEnabled=function(sn){this.controls_.setEnabledShakaControls(sn)},shaka.ui.Overlay.prototype.defaultConfig_=function(){var sn={controlPanelElements:"play_pause time_and_duration spacer mute volume fullscreen overflow_menu".split(" "),overflowMenuButtons:"captions quality language picture_in_picture cast playback_rate".split(" "),statisticsList:"width height corruptedFrames decodedFrames droppedFrames drmTimeSeconds licenseTime liveLatency loadLatency bufferingTime manifestTimeSeconds estimatedBandwidth streamBandwidth maxSegmentDuration pauseTime playTime completionPercent".split(" "),contextMenuElements:["loop","picture_in_picture","statistics"],playbackRates:[.5,.75,1,1.25,1.5,1.75,2],fastForwardRates:[2,4,8,1],rewindRates:[-1,-2,-4,-8],addSeekBar:!0,addBigPlayButton:!1,customContextMenu:!1,castReceiverAppId:"",castAndroidReceiverCompatible:!1,clearBufferOnQualityChange:!0,showUnbufferedStart:!1,seekBarColors:{base:"rgba(255, 255, 255, 0.3)",buffered:"rgba(255, 255, 255, 0.54)",played:"rgb(255, 255, 255)",adBreaks:"rgb(255, 204, 0)"},volumeBarColors:{base:"rgba(255, 255, 255, 0.54)",level:"rgb(255, 255, 255)"},trackLabelFormat:shaka.ui.Overlay.TrackLabelFormat.LANGUAGE,fadeDelay:0,doubleClickForFullscreen:!0,singleClickForPlayAndPause:!0,enableKeyboardPlaybackControls:!0,enableFullscreenOnRotation:!0,forceLandscapeOnFullscreen:!0,enableTooltips:!1,keyboardSeekDistance:5};return window.WebKitPlaybackTargetAvailabilityEvent&&sn.overflowMenuButtons.push("airplay"),this.isMobile()&&(sn.addBigPlayButton=!0,sn.controlPanelElements=sn.controlPanelElements.filter(function(ln){return ln!="play_pause"&&ln!="volume"})),sn},shaka.ui.Overlay.scanPageForShakaElements_=function(){var sn,ln,cn,dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn,Gn,Dn,Kn,qn,Zn,Yn,Jn,rs,us;return $jscomp.asyncExecutePromiseGeneratorProgram(function(as){switch(as.nextAddress){case 1:if(shaka.polyfill.installAll(),!shaka.Player.isBrowserSupported())return shaka.log.error("Shaka Player does not support this browser. Please see https://tinyurl.com/y7s4j9tr for the list of supported browsers."),shaka.ui.Overlay.dispatchLoadedEvent_("shaka-ui-load-failed",shaka.ui.Overlay.FailReasonCode.NO_BROWSER_SUPPORT),as.return();if(sn=document.querySelectorAll("[data-shaka-player-container]"),ln=document.querySelectorAll("[data-shaka-player]"),cn=document.querySelectorAll("[data-shaka-player-canvas]"),!ln.length&&!sn.length){as.jumpTo(2);break}if(ln.length&&!sn.length){for(dn=$jscomp.makeIterator(ln),pn=dn.next();!pn.done;pn=dn.next())if(vn=pn.value,!vn.ui){for(goog.asserts.assert(vn.tagName.toLowerCase()=="video","Should be a video element!"),Sn=document.createElement("div"),En=vn.parentElement,En.replaceChild(Sn,vn),Sn.appendChild(vn),Cn=null,Pn=$jscomp.makeIterator(cn),Rn=Pn.next();!Rn.done;Rn=Pn.next())if(Ln=Rn.value,goog.asserts.assert(Ln.tagName.toLowerCase()=="canvas","Should be a canvas element!"),Ln.parentElement==Sn){Cn=Ln;break}Cn||(Cn=document.createElement("canvas"),Cn.classList.add("shaka-canvas-container"),Sn.appendChild(Cn)),shaka.ui.Overlay.setupUIandAutoLoad_(Sn,vn,Cn)}as.jumpTo(2);break}Fn=$jscomp.makeIterator(sn),Gn=Fn.next();case 4:if(Gn.done){as.jumpTo(2);break}if(Dn=Gn.value,Dn.ui){as.jumpTo(5);break}for(goog.asserts.assert(Dn.tagName.toLowerCase()=="div","Container should be a div!"),Kn=null,qn=$jscomp.makeIterator(ln),pn=qn.next();!pn.done;pn=qn.next())if(Zn=pn.value,goog.asserts.assert(Zn.tagName.toLowerCase()=="video","Should be a video element!"),Zn.parentElement==Dn){Kn=Zn;break}for(Kn||(Kn=document.createElement("video"),Kn.setAttribute("playsinline",""),Dn.appendChild(Kn)),Yn=null,Jn=$jscomp.makeIterator(cn),Rn=Jn.next();!Rn.done;Rn=Jn.next())if(rs=Rn.value,goog.asserts.assert(rs.tagName.toLowerCase()=="canvas","Should be a canvas element!"),rs.parentElement==Dn){Yn=rs;break}return Yn||(Yn=document.createElement("canvas"),Yn.classList.add("shaka-canvas-container"),Dn.appendChild(Yn)),as.setCatchFinallyBlocks(7),as.yield(shaka.ui.Overlay.setupUIandAutoLoad_(Dn,Kn,Yn),9);case 9:as.leaveTryBlock(5);break;case 7:return us=as.enterCatchBlock(),shaka.log.error("Error setting up Shaka Player",us),shaka.ui.Overlay.dispatchLoadedEvent_("shaka-ui-load-failed",shaka.ui.Overlay.FailReasonCode.PLAYER_FAILED_TO_LOAD),as.return();case 5:Gn=Fn.next(),as.jumpTo(4);break;case 2:shaka.ui.Overlay.dispatchLoadedEvent_("shaka-ui-loaded"),as.jumpToEnd()}})},shaka.ui.Overlay.dispatchLoadedEvent_=function(sn,ln){var cn=null;ln!=null&&(cn={reasonCode:ln}),sn=new CustomEvent(sn,{detail:cn}),document.dispatchEvent(sn)},shaka.ui.Overlay.setupUIandAutoLoad_=function(sn,ln,cn){var dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Gn){switch(Gn.nextAddress){case 1:dn=new shaka.Player(shaka.util.Dom.asHTMLMediaElement(ln)),pn=new shaka.ui.Overlay(dn,shaka.util.Dom.asHTMLElement(sn),shaka.util.Dom.asHTMLMediaElement(ln)),dn.attachCanvas(cn),vn="",Sn=!1,sn.dataset&&sn.dataset.shakaPlayerCastReceiverId?(vn=sn.dataset.shakaPlayerCastReceiverId,Sn=sn.dataset.shakaPlayerCastAndroidReceiverCompatible==="true"):ln.dataset&&ln.dataset.shakaPlayerCastReceiverId&&(vn=ln.dataset.shakaPlayerCastReceiverId,Sn=ln.dataset.shakaPlayerCastAndroidReceiverCompatible==="true"),vn.length&&pn.configure({castReceiverAppId:vn,castAndroidReceiverCompatible:Sn}),shaka.util.Dom.asHTMLMediaElement(ln).controls&&pn.getControls().setEnabledNativeControls(!0),(En=ln.getAttribute("src"))&&(Cn=document.createElement("source"),Cn.setAttribute("src",En),ln.appendChild(Cn),ln.removeAttribute("src")),Pn=$jscomp.makeIterator(ln.querySelectorAll("source")),Rn=Pn.next();case 2:if(Rn.done){Gn.jumpTo(0);break}return Ln=Rn.value,Gn.setCatchFinallyBlocks(5),Gn.yield(pn.getControls().getPlayer().load(Ln.getAttribute("src")),7);case 7:Gn.jumpTo(0);break;case 5:Fn=Gn.enterCatchBlock(),shaka.log.error("Error auto-loading asset",Fn);case 3:Rn=Pn.next(),Gn.jumpTo(2)}})},goog.exportSymbol("shaka.ui.Overlay",shaka.ui.Overlay),goog.exportProperty(shaka.ui.Overlay.prototype,"setEnabled",shaka.ui.Overlay.prototype.setEnabled),goog.exportProperty(shaka.ui.Overlay.prototype,"getControls",shaka.ui.Overlay.prototype.getControls),goog.exportProperty(shaka.ui.Overlay.prototype,"configure",shaka.ui.Overlay.prototype.configure),goog.exportProperty(shaka.ui.Overlay.prototype,"getConfiguration",shaka.ui.Overlay.prototype.getConfiguration),goog.exportProperty(shaka.ui.Overlay.prototype,"isMobile",shaka.ui.Overlay.prototype.isMobile),goog.exportProperty(shaka.ui.Overlay.prototype,"destroy",shaka.ui.Overlay.prototype.destroy),shaka.ui.Overlay.TrackLabelFormat={LANGUAGE:0,ROLE:1,LANGUAGE_ROLE:2,LABEL:3},goog.exportProperty(shaka.ui.Overlay,"TrackLabelFormat",shaka.ui.Overlay.TrackLabelFormat),shaka.ui.Overlay.FailReasonCode={NO_BROWSER_SUPPORT:0,PLAYER_FAILED_TO_LOAD:1},goog.exportProperty(shaka.ui.Overlay,"FailReasonCode",shaka.ui.Overlay.FailReasonCode),document.readyState=="complete"?function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(sn){if(sn.nextAddress==1)return sn.yield(Promise.resolve(),2);shaka.ui.Overlay.scanPageForShakaElements_(),sn.jumpToEnd()})}():window.addEventListener("load",shaka.ui.Overlay.scanPageForShakaElements_),shaka.ui.LanguageUtils=function(){},shaka.ui.LanguageUtils.updateTracks=function(sn,ln,cn,dn,pn,vn,Sn){var En=sn.find(function(Jn){return Jn.active==1}),Cn=shaka.ui.Utils.getFirstDescendantWithClassName(ln,"shaka-back-to-overflow-button");shaka.util.Dom.removeAllChildren(ln),ln.appendChild(Cn),Cn=function(Jn){return Jn.type=="variant"?Jn.audioRoles?Jn.audioRoles.join(", "):void 0:Jn.roles.join(", ")};for(var Pn=function(Jn,rs){return Jn+": "+rs},Rn=new Map,Ln=$jscomp.makeIterator(sn),Fn=Ln.next();!Fn.done;Fn=Ln.next())Fn=Fn.value,Rn.has(Fn.language)||Rn.set(Fn.language,new Set),Rn.get(Fn.language).add(Cn(Fn));for(Rn=new Set,En=En?Pn(En.language,Cn(En)):"",Ln={},sn=$jscomp.makeIterator(sn),Fn=sn.next();!Fn.done;Ln={$jscomp$loop$prop$track$674$748:Ln.$jscomp$loop$prop$track$674$748},Fn=sn.next()){Ln.$jscomp$loop$prop$track$674$748=Fn.value,Fn=Ln.$jscomp$loop$prop$track$674$748.language;var Gn=Ln.$jscomp$loop$prop$track$674$748.forced,Dn=vn.resolve(shaka.ui.Locales.Ids.SUBTITLE_FORCED),Kn=Cn(Ln.$jscomp$loop$prop$track$674$748),qn=Pn(Fn,Kn);if(!Rn.has(qn)){Rn.add(qn);var Zn=shaka.util.Dom.createButton();Zn.addEventListener("click",function(Jn){return function(){cn(Jn.$jscomp$loop$prop$track$674$748)}}(Ln));var Yn=shaka.util.Dom.createHTMLElement("span");switch(Zn.appendChild(Yn),Yn.textContent=shaka.ui.LanguageUtils.getLanguageName(Fn,vn),Sn){case shaka.ui.Overlay.TrackLabelFormat.LANGUAGE:Gn&&(Yn.textContent+=" ("+Dn+")");break;case shaka.ui.Overlay.TrackLabelFormat.ROLE:Kn?Yn.textContent=Kn:(shaka.log.alwaysWarn("Track #"+Ln.$jscomp$loop$prop$track$674$748.id+" does not have a role, but the UI is configured to only show role."),Yn.textContent="?"),Gn&&(Yn.textContent+=" ("+Dn+")");break;case shaka.ui.Overlay.TrackLabelFormat.LANGUAGE_ROLE:Kn&&(Yn.textContent+=": "+Kn),Gn&&(Yn.textContent+=" ("+Dn+")");break;case shaka.ui.Overlay.TrackLabelFormat.LABEL:Ln.$jscomp$loop$prop$track$674$748.label?Yn.textContent=Ln.$jscomp$loop$prop$track$674$748.label:(shaka.log.alwaysWarn("Track #"+Ln.$jscomp$loop$prop$track$674$748.id+" does not have a label, but the UI is configured to only show labels."),Yn.textContent="?")}dn&&qn==En&&(Zn.appendChild(shaka.ui.Utils.checkmarkIcon()),Yn.classList.add("shaka-chosen-item"),Zn.ariaSelected="true",pn.textContent=Yn.textContent),ln.appendChild(Zn)}}},shaka.ui.LanguageUtils.getLanguageName=function(sn,ln){if(!sn&&!ln)return"";switch(sn){case"mul":return ln.resolve(shaka.ui.Locales.Ids.MULTIPLE_LANGUAGES);case"und":return ln.resolve(shaka.ui.Locales.Ids.UNDETERMINED_LANGUAGE);case"zxx":return ln.resolve(shaka.ui.Locales.Ids.NOT_APPLICABLE)}var cn=shaka.util.LanguageUtils.getBase(sn);return sn in mozilla.LanguageMapping?mozilla.LanguageMapping[sn].nativeName:cn in mozilla.LanguageMapping?mozilla.LanguageMapping[cn].nativeName+" ("+sn+")":ln.resolve(shaka.ui.Locales.Ids.UNRECOGNIZED_LANGUAGE)+" ("+sn+")"},shaka.ui.SettingsMenu=function(sn,ln,cn){shaka.ui.Element.call(this,sn,ln);var dn=this;this.addButton_(cn),this.addMenu_(),this.inOverflowMenu_(),this.eventManager.listen(this.button,"click",function(){dn.onButtonClick_()})},$jscomp.inherits(shaka.ui.SettingsMenu,shaka.ui.Element),shaka.ui.SettingsMenu.prototype.addButton_=function(sn){this.button=shaka.util.Dom.createButton(),this.button.classList.add("shaka-overflow-button"),this.icon=shaka.util.Dom.createHTMLElement("i"),this.icon.classList.add("material-icons-round"),this.icon.textContent=sn,this.button.appendChild(this.icon),sn=shaka.util.Dom.createHTMLElement("label"),sn.classList.add("shaka-overflow-button-label"),sn.classList.add("shaka-overflow-menu-only"),this.nameSpan=shaka.util.Dom.createHTMLElement("span"),sn.appendChild(this.nameSpan),this.currentSelection=shaka.util.Dom.createHTMLElement("span"),this.currentSelection.classList.add("shaka-current-selection-span"),sn.appendChild(this.currentSelection),this.button.appendChild(sn),this.parent.appendChild(this.button)},shaka.ui.SettingsMenu.prototype.addMenu_=function(){var sn=this;this.menu=shaka.util.Dom.createHTMLElement("div"),this.menu.classList.add("shaka-no-propagation"),this.menu.classList.add("shaka-show-controls-on-mouse-over"),this.menu.classList.add("shaka-settings-menu"),this.menu.classList.add("shaka-hidden"),this.backButton=shaka.util.Dom.createButton(),this.backButton.classList.add("shaka-back-to-overflow-button"),this.menu.appendChild(this.backButton),this.eventManager.listen(this.backButton,"click",function(){sn.controls.hideSettingsMenus()});var ln=shaka.util.Dom.createHTMLElement("i");ln.classList.add("material-icons-round"),ln.textContent=shaka.ui.Enums.MaterialDesignIcons.CLOSE,this.backButton.appendChild(ln),this.backSpan=shaka.util.Dom.createHTMLElement("span"),this.backButton.appendChild(this.backSpan),this.controls.getControlsContainer().appendChild(this.menu)},shaka.ui.SettingsMenu.prototype.inOverflowMenu_=function(){var sn=this;this.parent.classList.contains("shaka-overflow-menu")&&(this.backButton.firstChild.textContent=shaka.ui.Enums.MaterialDesignIcons.BACK,this.eventManager.listen(this.backButton,"click",function(){shaka.ui.Utils.setDisplay(sn.parent,!0);var ln=function(dn){return dn.classList.contains("shaka-hidden")==0},cn=shaka.util.Iterables;cn.some(sn.parent.childNodes,ln)&&cn.filter(sn.parent.childNodes,ln)[0].focus(),sn.controls.computeOpacity()}))},shaka.ui.SettingsMenu.prototype.onButtonClick_=function(){this.menu.classList.contains("shaka-hidden")?(this.controls.dispatchEvent(new shaka.util.FakeEvent("submenuopen")),shaka.ui.Utils.setDisplay(this.menu,!0),shaka.ui.Utils.focusOnTheChosenItem(this.menu)):shaka.ui.Utils.setDisplay(this.menu,!1)},goog.exportSymbol("shaka.ui.SettingsMenu",shaka.ui.SettingsMenu),shaka.ui.AudioLanguageSelection=function(sn,ln){shaka.ui.SettingsMenu.call(this,sn,ln,shaka.ui.Enums.MaterialDesignIcons.LANGUAGE);var cn=this;this.button.classList.add("shaka-language-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-audio-languages"),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_UPDATED,function(){cn.updateLocalizedStrings_()}),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_CHANGED,function(){cn.updateLocalizedStrings_()}),this.eventManager.listen(this.player,"trackschanged",function(){cn.onTracksChanged_()}),this.eventManager.listen(this.player,"variantchanged",function(){cn.updateAudioLanguages_()}),this.updateLocalizedStrings_(),this.updateAudioLanguages_()},$jscomp.inherits(shaka.ui.AudioLanguageSelection,shaka.ui.SettingsMenu),shaka.ui.AudioLanguageSelection.prototype.updateAudioLanguages_=function(){var sn=this,ln=this.player.getVariantTracks();shaka.ui.LanguageUtils.updateTracks(ln,this.menu,function(cn){return sn.onAudioTrackSelected_(cn)},!0,this.currentSelection,this.localization,this.controls.getConfig().trackLabelFormat),shaka.ui.Utils.focusOnTheChosenItem(this.menu),this.controls.dispatchEvent(new shaka.util.FakeEvent("languageselectionupdated")),this.button.setAttribute("shaka-status",this.currentSelection.innerText)},shaka.ui.AudioLanguageSelection.prototype.onTracksChanged_=function(){var sn=0<this.player.getVariantTracks().length;shaka.ui.Utils.setDisplay(this.button,sn),this.updateAudioLanguages_()},shaka.ui.AudioLanguageSelection.prototype.onAudioTrackSelected_=function(sn){this.player.selectAudioLanguage(sn.language,sn.roles[0])},shaka.ui.AudioLanguageSelection.prototype.updateLocalizedStrings_=function(){var sn=shaka.ui.Locales.Ids;this.backButton.ariaLabel=this.localization.resolve(sn.BACK),this.button.ariaLabel=this.localization.resolve(sn.LANGUAGE),this.nameSpan.textContent=this.localization.resolve(sn.LANGUAGE),this.backSpan.textContent=this.localization.resolve(sn.LANGUAGE)},goog.exportSymbol("shaka.ui.AudioLanguageSelection",shaka.ui.AudioLanguageSelection),shaka.ui.AudioLanguageSelection.Factory=function(){},shaka.ui.AudioLanguageSelection.Factory.prototype.create=function(sn,ln){return new shaka.ui.AudioLanguageSelection(sn,ln)},shaka.ui.OverflowMenu.registerElement("language",new shaka.ui.AudioLanguageSelection.Factory),shaka.ui.Controls.registerElement("language",new shaka.ui.AudioLanguageSelection.Factory),shaka.ui.CastButton=function(sn,ln){shaka.ui.Element.call(this,sn,ln);var cn=this;this.castProxy_=this.controls.getCastProxy(),this.castButton_=shaka.util.Dom.createButton(),this.castButton_.classList.add("shaka-cast-button"),this.castButton_.classList.add("shaka-tooltip"),this.castButton_.ariaPressed="false",this.castIcon_=shaka.util.Dom.createHTMLElement("i"),this.castIcon_.classList.add("material-icons-round"),this.castIcon_.textContent=shaka.ui.Enums.MaterialDesignIcons.CAST,this.castButton_.appendChild(this.castIcon_),sn=shaka.util.Dom.createHTMLElement("label"),sn.classList.add("shaka-overflow-button-label"),sn.classList.add("shaka-overflow-menu-only"),this.castNameSpan_=shaka.util.Dom.createHTMLElement("span"),sn.appendChild(this.castNameSpan_),this.castCurrentSelectionSpan_=shaka.util.Dom.createHTMLElement("span"),this.castCurrentSelectionSpan_.classList.add("shaka-current-selection-span"),sn.appendChild(this.castCurrentSelectionSpan_),this.castButton_.appendChild(sn),this.parent.appendChild(this.castButton_),this.updateLocalizedStrings_(),this.onCastStatusChange_(),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_UPDATED,function(){cn.updateLocalizedStrings_()}),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_CHANGED,function(){cn.updateLocalizedStrings_()}),this.eventManager.listen(this.castButton_,"click",function(){cn.onCastClick_()}),this.eventManager.listen(this.controls,"caststatuschanged",function(){cn.onCastStatusChange_()})},$jscomp.inherits(shaka.ui.CastButton,shaka.ui.Element),shaka.ui.CastButton.prototype.onCastClick_=function(){var sn=this,ln;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cn){if(cn.nextAddress==1)return sn.castProxy_.isCasting()?(sn.castProxy_.suggestDisconnect(),cn.jumpTo(0)):(cn.setCatchFinallyBlocks(3),sn.castButton_.disabled=!0,cn.yield(sn.castProxy_.cast(),5));if(cn.nextAddress!=3)return sn.castButton_.disabled=!1,cn.leaveTryBlock(0);ln=cn.enterCatchBlock(),sn.castButton_.disabled=!1,ln.code!=shaka.util.Error.Code.CAST_CANCELED_BY_USER&&sn.controls.dispatchEvent(new shaka.util.FakeEvent("error",new Map().set("detail",ln))),cn.jumpToEnd()})},shaka.ui.CastButton.prototype.onCastStatusChange_=function(){var sn=this.castProxy_.canCast()&&this.controls.isCastAllowed(),ln=this.castProxy_.isCasting(),cn=shaka.ui.Enums.MaterialDesignIcons;shaka.ui.Utils.setDisplay(this.castButton_,sn),this.castIcon_.textContent=ln?cn.EXIT_CAST:cn.CAST,sn&&(this.castButton_.ariaPressed=ln?"true":"false"),this.setCurrentCastSelection_()},shaka.ui.CastButton.prototype.setCurrentCastSelection_=function(){this.castProxy_.isCasting()?this.castCurrentSelectionSpan_.textContent=this.castProxy_.receiverName():this.castCurrentSelectionSpan_.textContent=this.localization.resolve(shaka.ui.Locales.Ids.OFF)},shaka.ui.CastButton.prototype.updateLocalizedStrings_=function(){var sn=shaka.ui.Locales.Ids;this.castButton_.ariaLabel=this.localization.resolve(sn.CAST),this.castNameSpan_.textContent=this.localization.resolve(sn.CAST),this.setCurrentCastSelection_()},goog.exportSymbol("shaka.ui.CastButton",shaka.ui.CastButton),shaka.ui.CastButton.Factory=function(){},shaka.ui.CastButton.Factory.prototype.create=function(sn,ln){return new shaka.ui.CastButton(sn,ln)},shaka.ui.OverflowMenu.registerElement("cast",new shaka.ui.CastButton.Factory),shaka.ui.Controls.registerElement("cast",new shaka.ui.CastButton.Factory),shaka.ui.FastForwardButton=function(sn,ln){shaka.ui.Element.call(this,sn,ln);var cn=this;this.button_=shaka.util.Dom.createButton(),this.button_.classList.add("material-icons-round"),this.button_.classList.add("shaka-fast-forward-button"),this.button_.classList.add("shaka-tooltip-status"),this.button_.setAttribute("shaka-status","1x"),this.button_.textContent=shaka.ui.Enums.MaterialDesignIcons.FAST_FORWARD,this.parent.appendChild(this.button_),this.updateAriaLabel_(),this.fastForwardRates_=this.controls.getConfig().fastForwardRates,this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_UPDATED,function(){cn.updateAriaLabel_()}),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_CHANGED,function(){cn.updateAriaLabel_()}),this.eventManager.listen(this.button_,"click",function(){cn.fastForward_()})},$jscomp.inherits(shaka.ui.FastForwardButton,shaka.ui.Element),shaka.ui.FastForwardButton.prototype.updateAriaLabel_=function(){this.button_.ariaLabel=this.localization.resolve(shaka.ui.Locales.Ids.FAST_FORWARD)},shaka.ui.FastForwardButton.prototype.fastForward_=function(){if(this.video.duration){var sn=this.player.getPlaybackRate();sn=this.fastForwardRates_.indexOf(sn)+1,sn=sn!=this.fastForwardRates_.length?this.fastForwardRates_[sn]:this.fastForwardRates_[0],this.player.trickPlay(sn),this.button_.setAttribute("shaka-status",sn+"x")}},goog.exportSymbol("shaka.ui.FastForwardButton",shaka.ui.FastForwardButton),shaka.ui.FastForwardButton.Factory=function(){},shaka.ui.FastForwardButton.Factory.prototype.create=function(sn,ln){return new shaka.ui.FastForwardButton(sn,ln)},shaka.ui.Controls.registerElement("fast_forward",new shaka.ui.FastForwardButton.Factory),shaka.ui.FullscreenButton=function(sn,ln){shaka.ui.Element.call(this,sn,ln);var cn=this;this.localVideo_=this.controls.getLocalVideo(),this.button_=shaka.util.Dom.createButton(),this.button_.classList.add("shaka-fullscreen-button"),this.button_.classList.add("material-icons-round"),this.button_.classList.add("shaka-tooltip"),this.checkSupport_(),this.button_.textContent=shaka.ui.Enums.MaterialDesignIcons.FULLSCREEN,this.parent.appendChild(this.button_),this.updateAriaLabel_(),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_UPDATED,function(){cn.updateAriaLabel_()}),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_CHANGED,function(){cn.updateAriaLabel_()}),this.eventManager.listen(this.button_,"click",function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(dn){return dn.yield(cn.controls.toggleFullScreen(),0)})}),this.eventManager.listen(document,"fullscreenchange",function(){cn.updateIcon_(),cn.updateAriaLabel_()}),this.eventManager.listen(this.localVideo_,"loadedmetadata",function(){cn.checkSupport_()}),this.eventManager.listen(this.localVideo_,"loadeddata",function(){cn.checkSupport_()})},$jscomp.inherits(shaka.ui.FullscreenButton,shaka.ui.Element),shaka.ui.FullscreenButton.prototype.checkSupport_=function(){this.controls.isFullScreenSupported()?this.button_.classList.remove("shaka-hidden"):this.button_.classList.add("shaka-hidden")},shaka.ui.FullscreenButton.prototype.updateAriaLabel_=function(){var sn=shaka.ui.Locales.Ids;sn=this.controls.isFullScreenEnabled()?sn.EXIT_FULL_SCREEN:sn.FULL_SCREEN,this.button_.ariaLabel=this.localization.resolve(sn)},shaka.ui.FullscreenButton.prototype.updateIcon_=function(){this.button_.textContent=this.controls.isFullScreenEnabled()?shaka.ui.Enums.MaterialDesignIcons.EXIT_FULLSCREEN:shaka.ui.Enums.MaterialDesignIcons.FULLSCREEN},goog.exportSymbol("shaka.ui.FullscreenButton",shaka.ui.FullscreenButton),shaka.ui.FullscreenButton.Factory=function(){},shaka.ui.FullscreenButton.Factory.prototype.create=function(sn,ln){return new shaka.ui.FullscreenButton(sn,ln)},shaka.ui.Controls.registerElement("fullscreen",new shaka.ui.FullscreenButton.Factory),shaka.ui.LoopButton=function(sn,ln){shaka.ui.Element.call(this,sn,ln);var cn=this;sn=shaka.ui.Locales.Ids,this.button_=shaka.util.Dom.createButton(),this.button_.classList.add("shaka-loop-button"),this.button_.classList.add("shaka-tooltip"),this.icon_=shaka.util.Dom.createHTMLElement("i"),this.icon_.classList.add("material-icons-round"),this.icon_.textContent=shaka.ui.Enums.MaterialDesignIcons.LOOP,this.button_.appendChild(this.icon_),ln=shaka.util.Dom.createHTMLElement("label"),ln.classList.add("shaka-overflow-button-label"),ln.classList.add("shaka-overflow-menu-only"),this.nameSpan_=shaka.util.Dom.createHTMLElement("span"),this.nameSpan_.textContent=this.localization.resolve(sn.LOOP),ln.appendChild(this.nameSpan_),this.currentState_=shaka.util.Dom.createHTMLElement("span"),this.currentState_.classList.add("shaka-current-selection-span"),ln.appendChild(this.currentState_),this.button_.appendChild(ln),this.updateLocalizedStrings_(),this.parent.appendChild(this.button_),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_UPDATED,function(){cn.updateLocalizedStrings_()}),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_CHANGED,function(){cn.updateLocalizedStrings_()}),this.eventManager.listen(this.button_,"click",function(){cn.onClick_()}),this.loopEnabled_=this.video.loop,this.timer_=new shaka.util.Timer(function(){cn.onTimerTick_()}),this.timer_.tickEvery(1)},$jscomp.inherits(shaka.ui.LoopButton,shaka.ui.Element),shaka.ui.LoopButton.prototype.release=function(){this.timer_.stop(),this.timer_=null,shaka.ui.Element.prototype.release.call(this)},shaka.ui.LoopButton.prototype.onClick_=function(){this.video.loop=!this.video.loop,this.timer_.tickNow(),this.timer_.tickEvery(1)},shaka.ui.LoopButton.prototype.onTimerTick_=function(){this.loopEnabled_!=this.video.loop&&(this.updateLocalizedStrings_(),this.loopEnabled_=this.video.loop)},shaka.ui.LoopButton.prototype.updateLocalizedStrings_=function(){var sn=shaka.ui.Locales.Ids,ln=shaka.ui.Enums.MaterialDesignIcons;this.nameSpan_.textContent=this.localization.resolve(sn.LOOP),this.currentState_.textContent=this.localization.resolve(this.video.loop?sn.ON:sn.OFF),this.icon_.textContent=this.video.loop?ln.UNLOOP:ln.LOOP,this.button_.ariaLabel=this.localization.resolve(this.video.loop?sn.EXIT_LOOP_MODE:sn.ENTER_LOOP_MODE)},goog.exportSymbol("shaka.ui.LoopButton",shaka.ui.LoopButton),shaka.ui.LoopButton.Factory=function(){},shaka.ui.LoopButton.Factory.prototype.create=function(sn,ln){return new shaka.ui.LoopButton(sn,ln)},shaka.ui.OverflowMenu.registerElement("loop",new shaka.ui.LoopButton.Factory),shaka.ui.Controls.registerElement("loop",new shaka.ui.LoopButton.Factory),shaka.ui.ContextMenu.registerElement("loop",new shaka.ui.LoopButton.Factory),shaka.ui.MuteButton=function(sn,ln){shaka.ui.Element.call(this,sn,ln);var cn=this;this.button_=shaka.util.Dom.createButton(),this.button_.classList.add("shaka-mute-button"),this.button_.classList.add("material-icons-round"),this.button_.classList.add("shaka-tooltip"),this.parent.appendChild(this.button_),this.updateAriaLabel_(),this.updateIcon_(),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_UPDATED,function(){cn.updateAriaLabel_()}),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_CHANGED,function(){cn.updateAriaLabel_()}),this.eventManager.listen(this.button_,"click",function(){cn.ad&&cn.ad.isLinear()?cn.ad.setMuted(!cn.ad.isMuted()):cn.video.muted=!cn.video.muted}),this.eventManager.listen(this.video,"volumechange",function(){cn.updateAriaLabel_(),cn.updateIcon_()}),this.eventManager.listen(this.adManager,shaka.ads.AdManager.AD_VOLUME_CHANGED,function(){cn.updateAriaLabel_(),cn.updateIcon_()}),this.eventManager.listen(this.adManager,shaka.ads.AdManager.AD_MUTED,function(){cn.updateAriaLabel_(),cn.updateIcon_()}),this.eventManager.listen(this.adManager,shaka.ads.AdManager.AD_STOPPED,function(){cn.ad=null,cn.updateAriaLabel_(),cn.updateIcon_()})},$jscomp.inherits(shaka.ui.MuteButton,shaka.ui.Element),shaka.ui.MuteButton.prototype.updateAriaLabel_=function(){var sn=shaka.ui.Locales.Ids;sn=this.ad?this.ad.isMuted()?sn.UNMUTE:sn.MUTE:this.video.muted?sn.UNMUTE:sn.MUTE,this.button_.ariaLabel=this.localization.resolve(sn)},shaka.ui.MuteButton.prototype.updateIcon_=function(){var sn=shaka.ui.Enums.MaterialDesignIcons;sn=this.ad?this.ad.isMuted()?sn.UNMUTE:sn.MUTE:this.video.muted?sn.UNMUTE:sn.MUTE,this.button_.textContent=sn},goog.exportSymbol("shaka.ui.MuteButton",shaka.ui.MuteButton),shaka.ui.MuteButton.Factory=function(){},shaka.ui.MuteButton.Factory.prototype.create=function(sn,ln){return new shaka.ui.MuteButton(sn,ln)},shaka.ui.Controls.registerElement("mute",new shaka.ui.MuteButton.Factory),shaka.ui.PipButton=function(sn,ln){shaka.ui.Element.call(this,sn,ln);var cn=this;this.localVideo_=this.controls.getLocalVideo(),sn=shaka.ui.Locales.Ids,this.pipButton_=shaka.util.Dom.createButton(),this.pipButton_.classList.add("shaka-pip-button"),this.pipButton_.classList.add("shaka-tooltip"),this.pipIcon_=shaka.util.Dom.createHTMLElement("i"),this.pipIcon_.classList.add("material-icons-round"),this.pipIcon_.textContent=shaka.ui.Enums.MaterialDesignIcons.PIP,this.pipButton_.appendChild(this.pipIcon_),ln=shaka.util.Dom.createHTMLElement("label"),ln.classList.add("shaka-overflow-button-label"),ln.classList.add("shaka-overflow-menu-only"),this.pipNameSpan_=shaka.util.Dom.createHTMLElement("span"),this.pipNameSpan_.textContent=this.localization.resolve(sn.PICTURE_IN_PICTURE),ln.appendChild(this.pipNameSpan_),this.currentPipState_=shaka.util.Dom.createHTMLElement("span"),this.currentPipState_.classList.add("shaka-current-selection-span"),ln.appendChild(this.currentPipState_),this.pipButton_.appendChild(ln),this.updateLocalizedStrings_(),this.parent.appendChild(this.pipButton_),this.isPipAllowed_()||shaka.ui.Utils.setDisplay(this.pipButton_,!1),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_UPDATED,function(){cn.updateLocalizedStrings_()}),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_CHANGED,function(){cn.updateLocalizedStrings_()}),this.eventManager.listen(this.pipButton_,"click",function(){cn.onPipClick_()}),this.eventManager.listen(this.localVideo_,"enterpictureinpicture",function(){cn.onEnterPictureInPicture_()}),this.eventManager.listen(this.localVideo_,"leavepictureinpicture",function(){cn.onLeavePictureInPicture_()}),this.eventManager.listen(this.controls,"caststatuschanged",function(dn){cn.onCastStatusChange_(dn)}),this.eventManager.listen(this.player,"trackschanged",function(){cn.onTracksChanged_()})},$jscomp.inherits(shaka.ui.PipButton,shaka.ui.Element),shaka.ui.PipButton.prototype.isPipAllowed_=function(){return document.pictureInPictureEnabled&&!this.video.disablePictureInPicture},shaka.ui.PipButton.prototype.onPipClick_=function(){var sn=this,ln;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cn){if(cn.nextAddress==1)return cn.setCatchFinallyBlocks(2),document.pictureInPictureElement?cn.yield(document.exitPictureInPicture(),5):(document.fullscreenElement&&document.exitFullscreen(),cn.yield(sn.video.requestPictureInPicture(),5));if(cn.nextAddress!=2)return cn.leaveTryBlock(0);ln=cn.enterCatchBlock(),sn.controls.dispatchEvent(new shaka.util.FakeEvent("error",new Map().set("detail",ln))),cn.jumpToEnd()})},shaka.ui.PipButton.prototype.onEnterPictureInPicture_=function(){var sn=shaka.ui.Locales.Ids;this.pipIcon_.textContent=shaka.ui.Enums.MaterialDesignIcons.EXIT_PIP,this.pipButton_.ariaLabel=this.localization.resolve(sn.EXIT_PICTURE_IN_PICTURE),this.currentPipState_.textContent=this.localization.resolve(sn.ON)},shaka.ui.PipButton.prototype.onLeavePictureInPicture_=function(){var sn=shaka.ui.Locales.Ids;this.pipIcon_.textContent=shaka.ui.Enums.MaterialDesignIcons.PIP,this.pipButton_.ariaLabel=this.localization.resolve(sn.ENTER_PICTURE_IN_PICTURE),this.currentPipState_.textContent=this.localization.resolve(sn.OFF)},shaka.ui.PipButton.prototype.updateLocalizedStrings_=function(){var sn=shaka.ui.Locales.Ids;this.pipNameSpan_.textContent=this.localization.resolve(sn.PICTURE_IN_PICTURE),this.pipButton_.ariaLabel=this.localization.resolve(document.pictureInPictureElement?sn.EXIT_PICTURE_IN_PICTURE:sn.ENTER_PICTURE_IN_PICTURE),this.currentPipState_.textContent=this.localization.resolve(document.pictureInPictureElement?sn.ON:sn.OFF)},shaka.ui.PipButton.prototype.onCastStatusChange_=function(sn){sn.newStatus?this.isPipAllowed_()&&shaka.ui.Utils.setDisplay(this.pipButton_,!1):this.isPipAllowed_()&&shaka.ui.Utils.setDisplay(this.pipButton_,!0)},shaka.ui.PipButton.prototype.onTracksChanged_=function(){var sn=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ln){return sn.isPipAllowed_()?!sn.player||!sn.player.isAudioOnly()?(shaka.ui.Utils.setDisplay(sn.pipButton_,!0),ln.jumpTo(0)):(shaka.ui.Utils.setDisplay(sn.pipButton_,!1),document.pictureInPictureElement?ln.yield(document.exitPictureInPicture(),0):ln.jumpTo(0)):(shaka.ui.Utils.setDisplay(sn.pipButton_,!1),ln.jumpTo(0))})},goog.exportSymbol("shaka.ui.PipButton",shaka.ui.PipButton),shaka.ui.PipButton.Factory=function(){},shaka.ui.PipButton.Factory.prototype.create=function(sn,ln){return new shaka.ui.PipButton(sn,ln)},shaka.ui.OverflowMenu.registerElement("picture_in_picture",new shaka.ui.PipButton.Factory),shaka.ui.Controls.registerElement("picture_in_picture",new shaka.ui.PipButton.Factory),shaka.ui.ContextMenu.registerElement("picture_in_picture",new shaka.ui.PipButton.Factory),shaka.ui.PlaybackRateSelection=function(sn,ln){shaka.ui.SettingsMenu.call(this,sn,ln,shaka.ui.Enums.MaterialDesignIcons.PLAYBACK_RATE);var cn=this;this.button.classList.add("shaka-playbackrate-button"),this.menu.classList.add("shaka-playback-rates"),this.button.classList.add("shaka-tooltip-status"),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_UPDATED,function(){cn.updateLocalizedStrings_()}),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_CHANGED,function(){cn.updateLocalizedStrings_()}),this.eventManager.listen(this.player,"ratechange",function(){cn.updatePlaybackRateSelection_(cn.player.getPlaybackRate())}),this.playbackRates_=new Map(this.controls.getConfig().playbackRates.map(function(dn){return[dn+"x",dn]})),this.updateLocalizedStrings_(),this.addPlaybackRates_(),this.updatePlaybackRateSelection_(this.player.getPlaybackRate())},$jscomp.inherits(shaka.ui.PlaybackRateSelection,shaka.ui.SettingsMenu),shaka.ui.PlaybackRateSelection.prototype.updateLocalizedStrings_=function(){var sn=shaka.ui.Locales.Ids;this.backButton.ariaLabel=this.localization.resolve(sn.BACK),this.button.ariaLabel=this.localization.resolve(sn.PLAYBACK_RATE),this.nameSpan.textContent=this.localization.resolve(sn.PLAYBACK_RATE),this.backSpan.textContent=this.localization.resolve(sn.PLAYBACK_RATE)},shaka.ui.PlaybackRateSelection.prototype.updatePlaybackRateSelection_=function(sn){var ln=this,cn=shaka.ui.Utils.getDescendantIfExists(this.menu,"material-icons-round shaka-chosen-item");if(cn){var dn=cn.parentElement;dn.removeAttribute("aria-selected"),dn.getElementsByTagName("span")[0].classList.remove("shaka-chosen-item"),dn.removeChild(cn)}(cn=Array.from(this.menu.querySelectorAll("span")).find(function(pn){return ln.playbackRates_.get(pn.textContent)==sn}))&&(dn=cn.parentElement,dn.appendChild(shaka.ui.Utils.checkmarkIcon()),dn.ariaSelected="true",cn.classList.add("shaka-chosen-item")),this.currentSelection.textContent=sn+"x",this.button.setAttribute("shaka-status",sn+"x")},shaka.ui.PlaybackRateSelection.prototype.addPlaybackRates_=function(){for(var sn=this,ln={},cn=$jscomp.makeIterator(this.playbackRates_.keys()),dn=cn.next();!dn.done;ln={$jscomp$loop$prop$rateStr$750:ln.$jscomp$loop$prop$rateStr$750},dn=cn.next()){ln.$jscomp$loop$prop$rateStr$750=dn.value,dn=shaka.util.Dom.createButton();var pn=shaka.util.Dom.createHTMLElement("span");pn.textContent=ln.$jscomp$loop$prop$rateStr$750,dn.appendChild(pn),this.eventManager.listen(dn,"click",function(vn){return function(){sn.video.playbackRate=sn.playbackRates_.get(vn.$jscomp$loop$prop$rateStr$750),sn.video.defaultPlaybackRate=sn.playbackRates_.get(vn.$jscomp$loop$prop$rateStr$750)}}(ln)),this.menu.appendChild(dn)}shaka.ui.Utils.focusOnTheChosenItem(this.menu)},goog.exportSymbol("shaka.ui.PlaybackRateSelection",shaka.ui.PlaybackRateSelection),shaka.ui.PlaybackRateSelection.Factory=function(){},shaka.ui.PlaybackRateSelection.Factory.prototype.create=function(sn,ln){return new shaka.ui.PlaybackRateSelection(sn,ln)},shaka.ui.OverflowMenu.registerElement("playback_rate",new shaka.ui.PlaybackRateSelection.Factory),shaka.ui.Controls.registerElement("playback_rate",new shaka.ui.PlaybackRateSelection.Factory),shaka.ui.PresentationTimeTracker=function(sn,ln){shaka.ui.Element.call(this,sn,ln);var cn=this;this.currentTime_=shaka.util.Dom.createButton(),this.currentTime_.classList.add("shaka-current-time"),this.setValue_("0:00"),this.parent.appendChild(this.currentTime_),this.eventManager.listen(this.currentTime_,"click",function(){cn.player.isLive()&&(cn.video.currentTime=cn.player.seekRange().end)}),this.eventManager.listen(this.controls,"timeandseekrangeupdated",function(){cn.updateTime_()}),this.eventManager.listen(this.player,"trackschanged",function(){cn.onTracksChanged_()})},$jscomp.inherits(shaka.ui.PresentationTimeTracker,shaka.ui.Element),shaka.ui.PresentationTimeTracker.prototype.setValue_=function(sn){sn!=this.currentTime_.textContent&&(this.currentTime_.textContent=sn)},shaka.ui.PresentationTimeTracker.prototype.updateTime_=function(){var sn=this.controls.isSeeking(),ln=this.controls.getDisplayTime(),cn=this.video.duration,dn=this.player.seekRange(),pn=dn.end-dn.start,vn=shaka.ui.Utils;this.player.isLive()?(ln=Math.max(0,Math.floor(dn.end-ln)),cn=3600<=pn,1<=ln||sn?(this.setValue_("- "+vn.buildTimeString(ln,cn)),this.currentTime_.disabled=!1):(this.setValue_(this.localization.resolve(shaka.ui.Locales.Ids.LIVE)),this.currentTime_.disabled=!0)):(sn=3600<=cn,ln=vn.buildTimeString(ln,sn),cn&&(ln+=" / "+vn.buildTimeString(cn,sn)),this.setValue_(ln),this.currentTime_.disabled=!0)},shaka.ui.PresentationTimeTracker.prototype.onTracksChanged_=function(){this.player.isLive()&&(this.currentTime_.ariaLabel=this.localization.resolve(shaka.ui.Locales.Ids.SKIP_TO_LIVE))},goog.exportSymbol("shaka.ui.PresentationTimeTracker",shaka.ui.PresentationTimeTracker),shaka.ui.PresentationTimeTracker.Factory=function(){},shaka.ui.PresentationTimeTracker.Factory.prototype.create=function(sn,ln){return new shaka.ui.PresentationTimeTracker(sn,ln)},shaka.ui.Controls.registerElement("time_and_duration",new shaka.ui.PresentationTimeTracker.Factory),shaka.ui.ResolutionSelection=function(sn,ln){shaka.ui.SettingsMenu.call(this,sn,ln,shaka.ui.Enums.MaterialDesignIcons.RESOLUTION);var cn=this;this.button.classList.add("shaka-resolution-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-resolutions"),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_UPDATED,function(){cn.updateLocalizedStrings_()}),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_CHANGED,function(){cn.updateLocalizedStrings_()}),this.eventManager.listen(this.player,"variantchanged",function(){cn.updateResolutionSelection_()}),this.eventManager.listen(this.player,"trackschanged",function(){cn.updateResolutionSelection_()}),this.eventManager.listen(this.player,"abrstatuschanged",function(){cn.updateResolutionSelection_()}),this.updateResolutionSelection_()},$jscomp.inherits(shaka.ui.ResolutionSelection,shaka.ui.SettingsMenu),shaka.ui.ResolutionSelection.prototype.updateResolutionSelection_=function(){var sn=this,ln=this.player.getVariantTracks(),cn=ln.find(function(Cn){return Cn.active});cn&&(ln=ln.filter(function(Cn){return Cn.language==cn.language&&Cn.channelsCount==cn.channelsCount})),ln=ln.filter(function(Cn,Pn){return(sn.player.isAudioOnly()?ln.findIndex(function(Rn){return Rn.bandwidth==Cn.bandwidth}):ln.findIndex(function(Rn){return Rn.height==Cn.height}))==Pn}),this.player.isAudioOnly()?ln.sort(function(Cn,Pn){return goog.asserts.assert(Cn.bandwidth!=null,"Null bandwidth"),goog.asserts.assert(Pn.bandwidth!=null,"Null bandwidth"),Pn.bandwidth-Cn.bandwidth}):ln.sort(function(Cn,Pn){return goog.asserts.assert(Cn.height!=null,"Null height"),goog.asserts.assert(Pn.height!=null,"Null height"),Pn.height-Cn.height});var dn=shaka.ui.Utils.getFirstDescendantWithClassName(this.menu,"shaka-back-to-overflow-button");shaka.util.Dom.removeAllChildren(this.menu),this.menu.appendChild(dn),dn=this.player.getConfiguration().abr.enabled;for(var pn={},vn=$jscomp.makeIterator(ln),Sn=vn.next();!Sn.done;pn={$jscomp$loop$prop$track$752:pn.$jscomp$loop$prop$track$752},Sn=vn.next()){pn.$jscomp$loop$prop$track$752=Sn.value,Sn=shaka.util.Dom.createButton(),Sn.classList.add("explicit-resolution"),this.eventManager.listen(Sn,"click",function(Cn){return function(){return sn.onTrackSelected_(Cn.$jscomp$loop$prop$track$752)}}(pn));var En=shaka.util.Dom.createHTMLElement("span");En.textContent=this.player.isAudioOnly()?Math.round(pn.$jscomp$loop$prop$track$752.bandwidth/1e3)+" kbits/s":pn.$jscomp$loop$prop$track$752.height+"p",Sn.appendChild(En),dn||pn.$jscomp$loop$prop$track$752!=cn||(Sn.ariaSelected="true",Sn.appendChild(shaka.ui.Utils.checkmarkIcon()),En.classList.add("shaka-chosen-item"),this.currentSelection.textContent=En.textContent),this.menu.appendChild(Sn)}pn=shaka.util.Dom.createButton(),pn.classList.add("shaka-enable-abr-button"),this.eventManager.listen(pn,"click",function(){sn.player.configure({abr:{enabled:!0}}),sn.updateResolutionSelection_()}),this.abrOnSpan_=shaka.util.Dom.createHTMLElement("span"),this.abrOnSpan_.classList.add("shaka-auto-span"),this.abrOnSpan_.textContent=this.localization.resolve(shaka.ui.Locales.Ids.AUTO_QUALITY),pn.appendChild(this.abrOnSpan_),dn&&(pn.ariaSelected="true",pn.appendChild(shaka.ui.Utils.checkmarkIcon()),this.abrOnSpan_.classList.add("shaka-chosen-item"),this.currentSelection.textContent=this.localization.resolve(shaka.ui.Locales.Ids.AUTO_QUALITY)),this.button.setAttribute("shaka-status",this.currentSelection.textContent),this.menu.appendChild(pn),shaka.ui.Utils.focusOnTheChosenItem(this.menu),this.controls.dispatchEvent(new shaka.util.FakeEvent("resolutionselectionupdated")),this.updateLocalizedStrings_()},shaka.ui.ResolutionSelection.prototype.onTrackSelected_=function(sn){this.player.configure({abr:{enabled:!1}});var ln=this.controls.getConfig().clearBufferOnQualityChange;this.player.selectVariantTrack(sn,ln)},shaka.ui.ResolutionSelection.prototype.updateLocalizedStrings_=function(){var sn=shaka.ui.Locales.Ids,ln=this.player.isAudioOnly()?sn.QUALITY:sn.RESOLUTION;this.button.ariaLabel=this.localization.resolve(ln),this.backButton.ariaLabel=this.localization.resolve(ln),this.backSpan.textContent=this.localization.resolve(ln),this.nameSpan.textContent=this.localization.resolve(ln),this.abrOnSpan_.textContent=this.localization.resolve(sn.AUTO_QUALITY),this.player.getConfiguration().abr.enabled&&(this.currentSelection.textContent=this.localization.resolve(shaka.ui.Locales.Ids.AUTO_QUALITY))},goog.exportSymbol("shaka.ui.ResolutionSelection",shaka.ui.ResolutionSelection),shaka.ui.ResolutionSelection.Factory=function(){},shaka.ui.ResolutionSelection.Factory.prototype.create=function(sn,ln){return new shaka.ui.ResolutionSelection(sn,ln)},shaka.ui.OverflowMenu.registerElement("quality",new shaka.ui.ResolutionSelection.Factory),shaka.ui.Controls.registerElement("quality",new shaka.ui.ResolutionSelection.Factory),shaka.ui.RewindButton=function(sn,ln){shaka.ui.Element.call(this,sn,ln);var cn=this;this.button_=shaka.util.Dom.createButton(),this.button_.classList.add("material-icons-round"),this.button_.classList.add("shaka-rewind-button"),this.button_.classList.add("shaka-tooltip-status"),this.button_.setAttribute("shaka-status",this.localization.resolve(shaka.ui.Locales.Ids.OFF)),this.button_.textContent=shaka.ui.Enums.MaterialDesignIcons.REWIND,this.parent.appendChild(this.button_),this.updateAriaLabel_(),this.rewindRates_=this.controls.getConfig().rewindRates,this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_UPDATED,function(){cn.updateAriaLabel_()}),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_CHANGED,function(){cn.updateAriaLabel_()}),this.eventManager.listen(this.button_,"click",function(){cn.rewind_()})},$jscomp.inherits(shaka.ui.RewindButton,shaka.ui.Element),shaka.ui.RewindButton.prototype.updateAriaLabel_=function(){this.button_.ariaLabel=this.localization.resolve(shaka.ui.Locales.Ids.REWIND)},shaka.ui.RewindButton.prototype.rewind_=function(){if(this.video.duration){var sn=this.player.getPlaybackRate();sn=this.rewindRates_.indexOf(sn)+1,sn=sn!=this.rewindRates_.length?this.rewindRates_[sn]:this.rewindRates_[0],this.player.trickPlay(sn),this.button_.setAttribute("shaka-status",sn+"x")}},goog.exportSymbol("shaka.ui.RewindButton",shaka.ui.RewindButton),shaka.ui.RewindButton.Factory=function(){},shaka.ui.RewindButton.Factory.prototype.create=function(sn,ln){return new shaka.ui.RewindButton(sn,ln)},shaka.ui.Controls.registerElement("rewind",new shaka.ui.RewindButton.Factory),shaka.ui.SkipAdButton=function(sn,ln){shaka.ui.Element.call(this,sn,ln);var cn=this;this.container_=shaka.util.Dom.createHTMLElement("div"),this.container_.classList.add("shaka-skip-ad-container"),this.parent.appendChild(this.container_),this.counter_=shaka.util.Dom.createHTMLElement("div"),this.counter_.classList.add("shaka-skip-ad-counter"),shaka.ui.Utils.setDisplay(this.counter_,!1),this.container_.appendChild(this.counter_),this.button_=shaka.util.Dom.createButton(),this.button_.classList.add("shaka-skip-ad-button"),this.button_.disabled=!0,shaka.ui.Utils.setDisplay(this.button_,!1),this.button_.classList.add("shaka-no-propagation"),this.container_.appendChild(this.button_),this.updateAriaLabel_(),this.updateLocalizedStrings_(),this.timer_=new shaka.util.Timer(function(){cn.onTimerTick_()}),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_UPDATED,function(){cn.updateAriaLabel_(),cn.updateLocalizedStrings_()}),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_CHANGED,function(){cn.updateAriaLabel_(),cn.updateLocalizedStrings_()}),this.eventManager.listen(this.adManager,shaka.ads.AdManager.AD_STARTED,function(){cn.onAdStarted_()}),this.eventManager.listen(this.adManager,shaka.ads.AdManager.AD_SKIP_STATE_CHANGED,function(){cn.onSkipStateChanged_()}),this.eventManager.listen(this.adManager,shaka.ads.AdManager.AD_STOPPED,function(){cn.reset_()}),this.eventManager.listen(this.button_,"click",function(){cn.ad.skip()}),this.ad&&this.onAdStarted_()},$jscomp.inherits(shaka.ui.SkipAdButton,shaka.ui.Element),shaka.ui.SkipAdButton.prototype.release=function(){this.timer_.stop(),this.timer_=null,shaka.ui.Element.prototype.release.call(this)},shaka.ui.SkipAdButton.prototype.updateLocalizedStrings_=function(){this.button_.textContent=this.localization.resolve(shaka.ui.Locales.Ids.SKIP_AD)},shaka.ui.SkipAdButton.prototype.updateAriaLabel_=function(){},shaka.ui.SkipAdButton.prototype.onAdStarted_=function(){this.ad.isSkippable()&&(shaka.ui.Utils.setDisplay(this.button_,!0),shaka.ui.Utils.setDisplay(this.counter_,!0),this.counter_.textContent="",this.timer_.tickNow(),this.timer_.tickEvery(.5))},shaka.ui.SkipAdButton.prototype.onTimerTick_=function(){goog.asserts.assert(this.ad!=null,"this.ad should exist at this point");var sn=Math.round(this.ad.getTimeUntilSkippable());0<sn?this.counter_.textContent=sn:(this.timer_.stop(),shaka.ui.Utils.setDisplay(this.counter_,!1))},shaka.ui.SkipAdButton.prototype.onSkipStateChanged_=function(){this.ad.canSkipNow()&&(this.button_.disabled=!1,this.timer_.stop(),shaka.ui.Utils.setDisplay(this.counter_,!1))},shaka.ui.SkipAdButton.prototype.reset_=function(){this.timer_.stop(),this.button_.disabled=!0,shaka.ui.Utils.setDisplay(this.button_,!1),shaka.ui.Utils.setDisplay(this.counter_,!1)},goog.exportSymbol("shaka.ui.SkipAdButton",shaka.ui.SkipAdButton),shaka.ui.SmallPlayButton=function(sn,ln){shaka.ui.PlayButton.call(this,sn,ln),this.button.classList.add("shaka-small-play-button"),this.button.classList.add("material-icons-round"),this.button.classList.add("shaka-tooltip"),this.updateIcon(),this.updateAriaLabel()},$jscomp.inherits(shaka.ui.SmallPlayButton,shaka.ui.PlayButton),shaka.ui.SmallPlayButton.prototype.updateIcon=function(){var sn=shaka.ui.Enums.MaterialDesignIcons;this.button.textContent=this.video.ended?sn.REPLAY:this.isPaused()?sn.PLAY:sn.PAUSE},shaka.ui.SmallPlayButton.prototype.updateAriaLabel=function(){var sn=shaka.ui.Locales.Ids;this.video.ended?this.button.ariaLabel=this.localization.resolve(sn.REPLAY):(sn=this.isPaused()?sn.PLAY:sn.PAUSE,this.button.ariaLabel=this.localization.resolve(sn))},goog.exportSymbol("shaka.ui.SmallPlayButton",shaka.ui.SmallPlayButton),shaka.ui.SmallPlayButton.Factory=function(){},shaka.ui.SmallPlayButton.Factory.prototype.create=function(sn,ln){return new shaka.ui.SmallPlayButton(sn,ln)},shaka.ui.Controls.registerElement("play_pause",new shaka.ui.SmallPlayButton.Factory),shaka.ui.Spacer=function(sn,ln){shaka.ui.Element.call(this,sn,ln),sn=shaka.util.Dom.createHTMLElement("div"),sn.classList.add("shaka-spacer"),sn.ariaHidden="true",this.parent.appendChild(sn)},$jscomp.inherits(shaka.ui.Spacer,shaka.ui.Element),goog.exportSymbol("shaka.ui.Spacer",shaka.ui.Spacer),shaka.ui.Spacer.Factory=function(){},shaka.ui.Spacer.Factory.prototype.create=function(sn,ln){return new shaka.ui.Spacer(sn,ln)},shaka.ui.Controls.registerElement("spacer",new shaka.ui.Spacer.Factory),shaka.ui.StatisticsButton=function(sn,ln){shaka.ui.Element.call(this,sn,ln);var cn=this;this.button_=shaka.util.Dom.createButton(),this.button_.classList.add("shaka-statistics-button"),this.icon_=shaka.util.Dom.createHTMLElement("i"),this.icon_.classList.add("material-icons-round"),this.icon_.textContent=shaka.ui.Enums.MaterialDesignIcons.STATISTICS_ON,this.button_.appendChild(this.icon_),sn=shaka.util.Dom.createHTMLElement("label"),sn.classList.add("shaka-overflow-button-label"),this.nameSpan_=shaka.util.Dom.createHTMLElement("span"),sn.appendChild(this.nameSpan_),this.stateSpan_=shaka.util.Dom.createHTMLElement("span"),this.stateSpan_.classList.add("shaka-current-selection-span"),sn.appendChild(this.stateSpan_),this.button_.appendChild(sn),this.parent.appendChild(this.button_),this.container_=shaka.util.Dom.createHTMLElement("div"),this.container_.classList.add("shaka-no-propagation"),this.container_.classList.add("shaka-show-controls-on-mouse-over"),this.container_.classList.add("shaka-statistics-container"),this.container_.classList.add("shaka-hidden"),this.controls.getControlsContainer().appendChild(this.container_),this.statisticsList_=[],this.skippedStats_=["stateHistory","switchHistory"],this.currentStats_=this.player.getStats(),this.displayedElements_={},sn=function(Sn){return cn.currentStats_[Sn]+" (px)"},ln=function(Sn){return cn.currentStats_[Sn]+" (frames)"};var dn=function(Sn){return cn.currentStats_[Sn].toFixed(2)+" (s)"},pn=function(Sn){return Math.round(cn.currentStats_[Sn]/1e3)+" (kbits/s)"},vn=function(Sn){return shaka.ui.Utils.buildTimeString(cn.currentStats_[Sn],!1)+" (m)"};this.parseFrom_={width:sn,height:sn,completionPercent:function(Sn){return cn.currentStats_[Sn]+" (%)"},bufferingTime:dn,drmTimeSeconds:dn,licenseTime:dn,liveLatency:dn,loadLatency:dn,manifestTimeSeconds:dn,estimatedBandwidth:pn,streamBandwidth:pn,maxSegmentDuration:vn,pauseTime:vn,playTime:vn,corruptedFrames:ln,decodedFrames:ln,droppedFrames:ln,stallsDetected:function(Sn){return cn.currentStats_[Sn]+" (stalls)"},gapsJumped:function(Sn){return cn.currentStats_[Sn]+" (gaps)"}},this.timer_=new shaka.util.Timer(function(){cn.onTimerTick_()}),this.updateLocalizedStrings_(),this.loadContainer_(),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_UPDATED,function(){cn.updateLocalizedStrings_()}),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_CHANGED,function(){cn.updateLocalizedStrings_()}),this.eventManager.listen(this.button_,"click",function(){cn.onClick_(),cn.updateLocalizedStrings_()})},$jscomp.inherits(shaka.ui.StatisticsButton,shaka.ui.Element),shaka.ui.StatisticsButton.prototype.onClick_=function(){shaka.ui.Utils.setDisplay(this.parent,!1),this.container_.classList.contains("shaka-hidden")?(this.icon_.textContent=shaka.ui.Enums.MaterialDesignIcons.STATISTICS_OFF,this.timer_.tickEvery(.1),shaka.ui.Utils.setDisplay(this.container_,!0)):(this.icon_.textContent=shaka.ui.Enums.MaterialDesignIcons.STATISTICS_ON,this.timer_.stop(),shaka.ui.Utils.setDisplay(this.container_,!1))},shaka.ui.StatisticsButton.prototype.updateLocalizedStrings_=function(){var sn=shaka.ui.Locales.Ids;this.nameSpan_.textContent=this.localization.resolve(sn.STATISTICS),this.button_.ariaLabel=this.localization.resolve(sn.STATISTICS),sn=this.container_.classList.contains("shaka-hidden")?sn.OFF:sn.ON,this.stateSpan_.textContent=this.localization.resolve(sn)},shaka.ui.StatisticsButton.prototype.generateComponent_=function(sn){var ln=shaka.util.Dom.createHTMLElement("div"),cn=shaka.util.Dom.createHTMLElement("label");return cn.textContent=sn+":",ln.appendChild(cn),cn=shaka.util.Dom.createHTMLElement("span"),cn.textContent=this.parseFrom_[sn](sn),ln.appendChild(cn),this.displayedElements_[sn]=cn,ln},shaka.ui.StatisticsButton.prototype.loadContainer_=function(){for(var sn=$jscomp.makeIterator(this.controls.getConfig().statisticsList),ln=sn.next();!ln.done;ln=sn.next())ln=ln.value,ln in this.currentStats_&&!this.skippedStats_.includes(ln)?(this.container_.appendChild(this.generateComponent_(ln)),this.statisticsList_.push(ln)):shaka.log.alwaysWarn("Unrecognized statistic element:",ln)},shaka.ui.StatisticsButton.prototype.onTimerTick_=function(){this.currentStats_=this.player.getStats();for(var sn=$jscomp.makeIterator(this.statisticsList_),ln=sn.next();!ln.done;ln=sn.next())ln=ln.value,this.displayedElements_[ln].textContent=this.parseFrom_[ln](ln)},shaka.ui.StatisticsButton.prototype.release=function(){this.timer_.stop(),this.timer_=null,shaka.ui.Element.prototype.release.call(this)},goog.exportSymbol("shaka.ui.StatisticsButton",shaka.ui.StatisticsButton),shaka.ui.StatisticsButton.Factory=function(){},shaka.ui.StatisticsButton.Factory.prototype.create=function(sn,ln){return new shaka.ui.StatisticsButton(sn,ln)},shaka.ui.OverflowMenu.registerElement("statistics",new shaka.ui.StatisticsButton.Factory),shaka.ui.ContextMenu.registerElement("statistics",new shaka.ui.StatisticsButton.Factory),shaka.ui.TextSelection=function(sn,ln){shaka.ui.SettingsMenu.call(this,sn,ln,shaka.ui.Enums.MaterialDesignIcons.CLOSED_CAPTIONS);var cn=this;this.button.classList.add("shaka-caption-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-text-languages"),this.player&&this.player.isTextTrackVisible()?this.button.ariaPressed="true":this.button.ariaPressed="false",this.addOffOption_(),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_UPDATED,function(){cn.updateLocalizedStrings_(),cn.updateTextLanguages_()}),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_CHANGED,function(){cn.updateLocalizedStrings_(),cn.updateTextLanguages_()}),this.eventManager.listen(this.player,"texttrackvisibility",function(){cn.onCaptionStateChange_(),cn.updateTextLanguages_()}),this.eventManager.listen(this.player,"textchanged",function(){cn.updateTextLanguages_()}),this.eventManager.listen(this.player,"trackschanged",function(){cn.onTracksChanged_()}),this.onCaptionStateChange_(),this.updateLocalizedStrings_(),this.updateTextLanguages_(),this.onTracksChanged_()},$jscomp.inherits(shaka.ui.TextSelection,shaka.ui.SettingsMenu),shaka.ui.TextSelection.prototype.addOffOption_=function(){var sn=shaka.util.Dom.createButton();sn.ariaSelected="true",this.menu.appendChild(sn),sn.appendChild(shaka.ui.Utils.checkmarkIcon()),this.captionsOffSpan_=shaka.util.Dom.createHTMLElement("span"),this.captionsOffSpan_.classList.add("shaka-auto-span"),sn.appendChild(this.captionsOffSpan_)},shaka.ui.TextSelection.prototype.onCaptionStateChange_=function(){this.player.isTextTrackVisible()?(this.icon.textContent=shaka.ui.Enums.MaterialDesignIcons.CLOSED_CAPTIONS,this.button.ariaPressed="true"):(this.icon.textContent=shaka.ui.Enums.MaterialDesignIcons.CLOSED_CAPTIONS_OFF,this.button.ariaPressed="false"),this.controls.dispatchEvent(new shaka.util.FakeEvent("captionselectionupdated"))},shaka.ui.TextSelection.prototype.updateTextLanguages_=function(){var sn=this,ln=this.player.getTextTracks();shaka.ui.LanguageUtils.updateTracks(ln,this.menu,function(cn){return sn.onTextTrackSelected_(cn)},this.player.isTextTrackVisible(),this.currentSelection,this.localization,this.controls.getConfig().trackLabelFormat),ln=shaka.util.Dom.createButton(),ln.classList.add("shaka-turn-captions-off-button"),this.eventManager.listen(ln,"click",function(){sn.player.setTextTrackVisibility(!1),sn.updateTextLanguages_()}),ln.appendChild(this.captionsOffSpan_),this.menu.appendChild(ln),this.player.isTextTrackVisible()||(ln.ariaSelected="true",ln.appendChild(shaka.ui.Utils.checkmarkIcon()),this.captionsOffSpan_.classList.add("shaka-chosen-item"),this.currentSelection.textContent=this.localization.resolve(shaka.ui.Locales.Ids.OFF)),this.button.setAttribute("shaka-status",this.currentSelection.textContent),shaka.ui.Utils.focusOnTheChosenItem(this.menu),this.controls.dispatchEvent(new shaka.util.FakeEvent("captionselectionupdated"))},shaka.ui.TextSelection.prototype.onTextTrackSelected_=function(sn){var ln=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cn){return ln.player.selectTextTrack(sn),cn.yield(ln.player.setTextTrackVisibility(!0),0)})},shaka.ui.TextSelection.prototype.updateLocalizedStrings_=function(){var sn=shaka.ui.Locales.Ids;this.button.ariaLabel=this.localization.resolve(sn.CAPTIONS),this.backButton.ariaLabel=this.localization.resolve(sn.BACK),this.nameSpan.textContent=this.localization.resolve(sn.CAPTIONS),this.backSpan.textContent=this.localization.resolve(sn.CAPTIONS),this.captionsOffSpan_.textContent=this.localization.resolve(sn.OFF)},shaka.ui.TextSelection.prototype.onTracksChanged_=function(){var sn=0<this.player.getTextTracks().length;shaka.ui.Utils.setDisplay(this.button,sn),this.updateTextLanguages_()},goog.exportSymbol("shaka.ui.TextSelection",shaka.ui.TextSelection),shaka.ui.TextSelection.Factory=function(){},shaka.ui.TextSelection.Factory.prototype.create=function(sn,ln){return new shaka.ui.TextSelection(sn,ln)},shaka.ui.OverflowMenu.registerElement("captions",new shaka.ui.TextSelection.Factory),shaka.ui.Controls.registerElement("captions",new shaka.ui.TextSelection.Factory),shaka.ui.VolumeBar=function(sn,ln){shaka.ui.RangeElement.call(this,sn,ln,["shaka-volume-bar-container"],["shaka-volume-bar"]);var cn=this;this.config_=this.controls.getConfig(),this.eventManager.listen(this.video,"volumechange",function(){return cn.onPresentationVolumeChange_()}),this.eventManager.listen(this.adManager,shaka.ads.AdManager.AD_VOLUME_CHANGED,function(){return cn.onAdVolumeChange_()}),this.eventManager.listen(this.adManager,shaka.ads.AdManager.AD_MUTED,function(){return cn.onAdVolumeChange_()}),this.eventManager.listen(this.adManager,shaka.ads.AdManager.AD_STOPPED,function(){return cn.onPresentationVolumeChange_()}),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_UPDATED,function(){return cn.updateAriaLabel_()}),this.eventManager.listen(this.localization,shaka.ui.Localization.LOCALE_CHANGED,function(){return cn.updateAriaLabel_()}),this.onPresentationVolumeChange_(),this.updateAriaLabel_(),this.ad&&this.onChange()},$jscomp.inherits(shaka.ui.VolumeBar,shaka.ui.RangeElement),shaka.ui.VolumeBar.prototype.onChange=function(){this.ad&&this.ad.isLinear()?this.ad.setVolume(this.getValue()):(this.video.volume=this.getValue(),this.video.muted=this.video.volume==0)},shaka.ui.VolumeBar.prototype.onPresentationVolumeChange_=function(){this.video.muted?this.setValue(0):this.setValue(this.video.volume),this.updateColors_()},shaka.ui.VolumeBar.prototype.onAdVolumeChange_=function(){goog.asserts.assert(this.ad!=null,"This.ad should exist at this point!");var sn=this.ad.getVolume();this.setValue(sn),this.updateColors_()},shaka.ui.VolumeBar.prototype.updateColors_=function(){var sn=this.config_.volumeBarColors,ln=["to right"];ln.push(sn.level+100*this.getValue()+"%"),ln.push(sn.base+100*this.getValue()+"%"),ln.push(sn.base+"100%"),this.container.style.background="linear-gradient("+ln.join(",")+")"},shaka.ui.VolumeBar.prototype.updateAriaLabel_=function(){this.bar.ariaLabel=this.localization.resolve(shaka.ui.Locales.Ids.VOLUME)},goog.exportSymbol("shaka.ui.VolumeBar",shaka.ui.VolumeBar),shaka.ui.VolumeBar.Factory=function(){},shaka.ui.VolumeBar.Factory.prototype.create=function(sn,ln){return new shaka.ui.VolumeBar(sn,ln)},shaka.ui.Controls.registerElement("volume",new shaka.ui.VolumeBar.Factory)}).call(exportTo,innerGlobal,innerGlobal,void 0);for(var k in exportTo.shaka)exports[k]=exportTo.shaka[k]})()})(shakaPlayer_ui_debug);const debugShaka=getDefaultExportFromCjs(shakaPlayer_ui_debug);var dayjs_min={exports:{}};dayjs_min.exports;(function(sn,ln){(function(cn,dn){sn.exports=dn()})(commonjsGlobal$1,function(){var cn=1e3,dn=6e4,pn=36e5,vn="millisecond",Sn="second",En="minute",Cn="hour",Pn="day",Rn="week",Ln="month",Fn="quarter",Gn="year",Dn="date",Kn="Invalid Date",qn=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Zn=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Yn={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Ms){var gs=["th","st","nd","rd"],Ss=Ms%100;return"["+Ms+(gs[(Ss-20)%10]||gs[Ss]||gs[0])+"]"}},Jn=function(Ms,gs,Ss){var js=String(Ms);return!js||js.length>=gs?Ms:""+Array(gs+1-js.length).join(Ss)+Ms},rs={s:Jn,z:function(Ms){var gs=-Ms.utcOffset(),Ss=Math.abs(gs),js=Math.floor(Ss/60),bs=Ss%60;return(gs<=0?"+":"-")+Jn(js,2,"0")+":"+Jn(bs,2,"0")},m:function Ms(gs,Ss){if(gs.date()<Ss.date())return-Ms(Ss,gs);var js=12*(Ss.year()-gs.year())+(Ss.month()-gs.month()),bs=gs.clone().add(js,Ln),Ts=Ss-bs<0,xs=gs.clone().add(js+(Ts?-1:1),Ln);return+(-(js+(Ss-bs)/(Ts?bs-xs:xs-bs))||0)},a:function(Ms){return Ms<0?Math.ceil(Ms)||0:Math.floor(Ms)},p:function(Ms){return{M:Ln,y:Gn,w:Rn,d:Pn,D:Dn,h:Cn,m:En,s:Sn,ms:vn,Q:Fn}[Ms]||String(Ms||"").toLowerCase().replace(/s$/,"")},u:function(Ms){return Ms===void 0}},us="en",as={};as[us]=Yn;var cs=function(Ms){return Ms instanceof ms},_s=function Ms(gs,Ss,js){var bs;if(!gs)return us;if(typeof gs=="string"){var Ts=gs.toLowerCase();as[Ts]&&(bs=Ts),Ss&&(as[Ts]=Ss,bs=Ts);var xs=gs.split("-");if(!bs&&xs.length>1)return Ms(xs[0])}else{var zs=gs.name;as[zs]=gs,bs=zs}return!js&&bs&&(us=bs),bs||!js&&us},Es=function(Ms,gs){if(cs(Ms))return Ms.clone();var Ss=typeof gs=="object"?gs:{};return Ss.date=Ms,Ss.args=arguments,new ms(Ss)},Qn=rs;Qn.l=_s,Qn.i=cs,Qn.w=function(Ms,gs){return Es(Ms,{locale:gs.$L,utc:gs.$u,x:gs.$x,$offset:gs.$offset})};var ms=function(){function Ms(Ss){this.$L=_s(Ss.locale,null,!0),this.parse(Ss)}var gs=Ms.prototype;return gs.parse=function(Ss){this.$d=function(js){var bs=js.date,Ts=js.utc;if(bs===null)return new Date(NaN);if(Qn.u(bs))return new Date;if(bs instanceof Date)return new Date(bs);if(typeof bs=="string"&&!/Z$/i.test(bs)){var xs=bs.match(qn);if(xs){var zs=xs[2]-1||0,Bs=(xs[7]||"0").substring(0,3);return Ts?new Date(Date.UTC(xs[1],zs,xs[3]||1,xs[4]||0,xs[5]||0,xs[6]||0,Bs)):new Date(xs[1],zs,xs[3]||1,xs[4]||0,xs[5]||0,xs[6]||0,Bs)}}return new Date(bs)}(Ss),this.$x=Ss.x||{},this.init()},gs.init=function(){var Ss=this.$d;this.$y=Ss.getFullYear(),this.$M=Ss.getMonth(),this.$D=Ss.getDate(),this.$W=Ss.getDay(),this.$H=Ss.getHours(),this.$m=Ss.getMinutes(),this.$s=Ss.getSeconds(),this.$ms=Ss.getMilliseconds()},gs.$utils=function(){return Qn},gs.isValid=function(){return this.$d.toString()!==Kn},gs.isSame=function(Ss,js){var bs=Es(Ss);return this.startOf(js)<=bs&&bs<=this.endOf(js)},gs.isAfter=function(Ss,js){return Es(Ss)<this.startOf(js)},gs.isBefore=function(Ss,js){return this.endOf(js)<Es(Ss)},gs.$g=function(Ss,js,bs){return Qn.u(Ss)?this[js]:this.set(bs,Ss)},gs.unix=function(){return Math.floor(this.valueOf()/1e3)},gs.valueOf=function(){return this.$d.getTime()},gs.startOf=function(Ss,js){var bs=this,Ts=!!Qn.u(js)||js,xs=Qn.p(Ss),zs=function(Wu,Ru){var Ll=Qn.w(bs.$u?Date.UTC(bs.$y,Ru,Wu):new Date(bs.$y,Ru,Wu),bs);return Ts?Ll:Ll.endOf(Pn)},Bs=function(Wu,Ru){return Qn.w(bs.toDate()[Wu].apply(bs.toDate("s"),(Ts?[0,0,0,0]:[23,59,59,999]).slice(Ru)),bs)},Js=this.$W,tu=this.$M,hs=this.$D,lu="set"+(this.$u?"UTC":"");switch(xs){case Gn:return Ts?zs(1,0):zs(31,11);case Ln:return Ts?zs(1,tu):zs(0,tu+1);case Rn:var vu=this.$locale().weekStart||0,yu=(Js<vu?Js+7:Js)-vu;return zs(Ts?hs-yu:hs+(6-yu),tu);case Pn:case Dn:return Bs(lu+"Hours",0);case Cn:return Bs(lu+"Minutes",1);case En:return Bs(lu+"Seconds",2);case Sn:return Bs(lu+"Milliseconds",3);default:return this.clone()}},gs.endOf=function(Ss){return this.startOf(Ss,!1)},gs.$set=function(Ss,js){var bs,Ts=Qn.p(Ss),xs="set"+(this.$u?"UTC":""),zs=(bs={},bs[Pn]=xs+"Date",bs[Dn]=xs+"Date",bs[Ln]=xs+"Month",bs[Gn]=xs+"FullYear",bs[Cn]=xs+"Hours",bs[En]=xs+"Minutes",bs[Sn]=xs+"Seconds",bs[vn]=xs+"Milliseconds",bs)[Ts],Bs=Ts===Pn?this.$D+(js-this.$W):js;if(Ts===Ln||Ts===Gn){var Js=this.clone().set(Dn,1);Js.$d[zs](Bs),Js.init(),this.$d=Js.set(Dn,Math.min(this.$D,Js.daysInMonth())).$d}else zs&&this.$d[zs](Bs);return this.init(),this},gs.set=function(Ss,js){return this.clone().$set(Ss,js)},gs.get=function(Ss){return this[Qn.p(Ss)]()},gs.add=function(Ss,js){var bs,Ts=this;Ss=Number(Ss);var xs=Qn.p(js),zs=function(tu){var hs=Es(Ts);return Qn.w(hs.date(hs.date()+Math.round(tu*Ss)),Ts)};if(xs===Ln)return this.set(Ln,this.$M+Ss);if(xs===Gn)return this.set(Gn,this.$y+Ss);if(xs===Pn)return zs(1);if(xs===Rn)return zs(7);var Bs=(bs={},bs[En]=dn,bs[Cn]=pn,bs[Sn]=cn,bs)[xs]||1,Js=this.$d.getTime()+Ss*Bs;return Qn.w(Js,this)},gs.subtract=function(Ss,js){return this.add(-1*Ss,js)},gs.format=function(Ss){var js=this,bs=this.$locale();if(!this.isValid())return bs.invalidDate||Kn;var Ts=Ss||"YYYY-MM-DDTHH:mm:ssZ",xs=Qn.z(this),zs=this.$H,Bs=this.$m,Js=this.$M,tu=bs.weekdays,hs=bs.months,lu=function(Ru,Ll,Vp,Ys){return Ru&&(Ru[Ll]||Ru(js,Ts))||Vp[Ll].slice(0,Ys)},vu=function(Ru){return Qn.s(zs%12||12,Ru,"0")},yu=bs.meridiem||function(Ru,Ll,Vp){var Ys=Ru<12?"AM":"PM";return Vp?Ys.toLowerCase():Ys},Wu={YY:String(this.$y).slice(-2),YYYY:this.$y,M:Js+1,MM:Qn.s(Js+1,2,"0"),MMM:lu(bs.monthsShort,Js,hs,3),MMMM:lu(hs,Js),D:this.$D,DD:Qn.s(this.$D,2,"0"),d:String(this.$W),dd:lu(bs.weekdaysMin,this.$W,tu,2),ddd:lu(bs.weekdaysShort,this.$W,tu,3),dddd:tu[this.$W],H:String(zs),HH:Qn.s(zs,2,"0"),h:vu(1),hh:vu(2),a:yu(zs,Bs,!0),A:yu(zs,Bs,!1),m:String(Bs),mm:Qn.s(Bs,2,"0"),s:String(this.$s),ss:Qn.s(this.$s,2,"0"),SSS:Qn.s(this.$ms,3,"0"),Z:xs};return Ts.replace(Zn,function(Ru,Ll){return Ll||Wu[Ru]||xs.replace(":","")})},gs.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},gs.diff=function(Ss,js,bs){var Ts,xs=Qn.p(js),zs=Es(Ss),Bs=(zs.utcOffset()-this.utcOffset())*dn,Js=this-zs,tu=Qn.m(this,zs);return tu=(Ts={},Ts[Gn]=tu/12,Ts[Ln]=tu,Ts[Fn]=tu/3,Ts[Rn]=(Js-Bs)/6048e5,Ts[Pn]=(Js-Bs)/864e5,Ts[Cn]=Js/pn,Ts[En]=Js/dn,Ts[Sn]=Js/cn,Ts)[xs]||Js,bs?tu:Qn.a(tu)},gs.daysInMonth=function(){return this.endOf(Ln).$D},gs.$locale=function(){return as[this.$L]},gs.locale=function(Ss,js){if(!Ss)return this.$L;var bs=this.clone(),Ts=_s(Ss,js,!0);return Ts&&(bs.$L=Ts),bs},gs.clone=function(){return Qn.w(this.$d,this)},gs.toDate=function(){return new Date(this.valueOf())},gs.toJSON=function(){return this.isValid()?this.toISOString():null},gs.toISOString=function(){return this.$d.toISOString()},gs.toString=function(){return this.$d.toUTCString()},Ms}(),$s=ms.prototype;return Es.prototype=$s,[["$ms",vn],["$s",Sn],["$m",En],["$H",Cn],["$W",Pn],["$M",Ln],["$y",Gn],["$D",Dn]].forEach(function(Ms){$s[Ms[1]]=function(gs){return this.$g(gs,Ms[0],Ms[1])}}),Es.extend=function(Ms,gs){return Ms.$i||(Ms(gs,ms,Es),Ms.$i=!0),Es},Es.locale=_s,Es.isDayjs=cs,Es.unix=function(Ms){return Es(1e3*Ms)},Es.en=as[us],Es.Ls=as,Es.p={},Es})})(dayjs_min,dayjs_min.exports);var dayjs_minExports=dayjs_min.exports;const p$2=getDefaultExportFromCjs(dayjs_minExports);var duration$1={exports:{}};duration$1.exports;(function(sn,ln){(function(cn,dn){sn.exports=dn()})(commonjsGlobal$1,function(){var cn,dn,pn=1e3,vn=6e4,Sn=36e5,En=864e5,Cn=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Pn=31536e6,Rn=2592e6,Ln=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,Fn={years:Pn,months:Rn,days:En,hours:Sn,minutes:vn,seconds:pn,milliseconds:1,weeks:6048e5},Gn=function(us){return us instanceof rs},Dn=function(us,as,cs){return new rs(us,cs,as.$l)},Kn=function(us){return dn.p(us)+"s"},qn=function(us){return us<0},Zn=function(us){return qn(us)?Math.ceil(us):Math.floor(us)},Yn=function(us){return Math.abs(us)},Jn=function(us,as){return us?qn(us)?{negative:!0,format:""+Yn(us)+as}:{negative:!1,format:""+us+as}:{negative:!1,format:""}},rs=function(){function us(cs,_s,Es){var Qn=this;if(this.$d={},this.$l=Es,cs===void 0&&(this.$ms=0,this.parseFromMilliseconds()),_s)return Dn(cs*Fn[Kn(_s)],this);if(typeof cs=="number")return this.$ms=cs,this.parseFromMilliseconds(),this;if(typeof cs=="object")return Object.keys(cs).forEach(function(Ms){Qn.$d[Kn(Ms)]=cs[Ms]}),this.calMilliseconds(),this;if(typeof cs=="string"){var ms=cs.match(Ln);if(ms){var $s=ms.slice(2).map(function(Ms){return Ms!=null?Number(Ms):0});return this.$d.years=$s[0],this.$d.months=$s[1],this.$d.weeks=$s[2],this.$d.days=$s[3],this.$d.hours=$s[4],this.$d.minutes=$s[5],this.$d.seconds=$s[6],this.calMilliseconds(),this}}return this}var as=us.prototype;return as.calMilliseconds=function(){var cs=this;this.$ms=Object.keys(this.$d).reduce(function(_s,Es){return _s+(cs.$d[Es]||0)*Fn[Es]},0)},as.parseFromMilliseconds=function(){var cs=this.$ms;this.$d.years=Zn(cs/Pn),cs%=Pn,this.$d.months=Zn(cs/Rn),cs%=Rn,this.$d.days=Zn(cs/En),cs%=En,this.$d.hours=Zn(cs/Sn),cs%=Sn,this.$d.minutes=Zn(cs/vn),cs%=vn,this.$d.seconds=Zn(cs/pn),cs%=pn,this.$d.milliseconds=cs},as.toISOString=function(){var cs=Jn(this.$d.years,"Y"),_s=Jn(this.$d.months,"M"),Es=+this.$d.days||0;this.$d.weeks&&(Es+=7*this.$d.weeks);var Qn=Jn(Es,"D"),ms=Jn(this.$d.hours,"H"),$s=Jn(this.$d.minutes,"M"),Ms=this.$d.seconds||0;this.$d.milliseconds&&(Ms+=this.$d.milliseconds/1e3);var gs=Jn(Ms,"S"),Ss=cs.negative||_s.negative||Qn.negative||ms.negative||$s.negative||gs.negative,js=ms.format||$s.format||gs.format?"T":"",bs=(Ss?"-":"")+"P"+cs.format+_s.format+Qn.format+js+ms.format+$s.format+gs.format;return bs==="P"||bs==="-P"?"P0D":bs},as.toJSON=function(){return this.toISOString()},as.format=function(cs){var _s=cs||"YYYY-MM-DDTHH:mm:ss",Es={Y:this.$d.years,YY:dn.s(this.$d.years,2,"0"),YYYY:dn.s(this.$d.years,4,"0"),M:this.$d.months,MM:dn.s(this.$d.months,2,"0"),D:this.$d.days,DD:dn.s(this.$d.days,2,"0"),H:this.$d.hours,HH:dn.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:dn.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:dn.s(this.$d.seconds,2,"0"),SSS:dn.s(this.$d.milliseconds,3,"0")};return _s.replace(Cn,function(Qn,ms){return ms||String(Es[Qn])})},as.as=function(cs){return this.$ms/Fn[Kn(cs)]},as.get=function(cs){var _s=this.$ms,Es=Kn(cs);return Es==="milliseconds"?_s%=1e3:_s=Es==="weeks"?Zn(_s/Fn[Es]):this.$d[Es],_s===0?0:_s},as.add=function(cs,_s,Es){var Qn;return Qn=_s?cs*Fn[Kn(_s)]:Gn(cs)?cs.$ms:Dn(cs,this).$ms,Dn(this.$ms+Qn*(Es?-1:1),this)},as.subtract=function(cs,_s){return this.add(cs,_s,!0)},as.locale=function(cs){var _s=this.clone();return _s.$l=cs,_s},as.clone=function(){return Dn(this.$ms,this)},as.humanize=function(cs){return cn().add(this.$ms,"ms").locale(this.$l).fromNow(!cs)},as.milliseconds=function(){return this.get("milliseconds")},as.asMilliseconds=function(){return this.as("milliseconds")},as.seconds=function(){return this.get("seconds")},as.asSeconds=function(){return this.as("seconds")},as.minutes=function(){return this.get("minutes")},as.asMinutes=function(){return this.as("minutes")},as.hours=function(){return this.get("hours")},as.asHours=function(){return this.as("hours")},as.days=function(){return this.get("days")},as.asDays=function(){return this.as("days")},as.weeks=function(){return this.get("weeks")},as.asWeeks=function(){return this.as("weeks")},as.months=function(){return this.get("months")},as.asMonths=function(){return this.as("months")},as.years=function(){return this.get("years")},as.asYears=function(){return this.as("years")},us}();return function(us,as,cs){cn=cs,dn=cs().$utils(),cs.duration=function(Qn,ms){var $s=cs.locale();return Dn(Qn,{$l:$s},ms)},cs.isDuration=Gn;var _s=as.prototype.add,Es=as.prototype.subtract;as.prototype.add=function(Qn,ms){return Gn(Qn)&&(Qn=Qn.asMilliseconds()),_s.bind(this)(Qn,ms)},as.prototype.subtract=function(Qn,ms){return Gn(Qn)&&(Qn=Qn.asMilliseconds()),Es.bind(this)(Qn,ms)}}})})(duration$1,duration$1.exports);var durationExports=duration$1.exports;const duration=getDefaultExportFromCjs(durationExports);var isBetween$1={exports:{}};isBetween$1.exports;(function(sn,ln){(function(cn,dn){sn.exports=dn()})(commonjsGlobal$1,function(){return function(cn,dn,pn){dn.prototype.isBetween=function(vn,Sn,En,Cn){var Pn=pn(vn),Rn=pn(Sn),Ln=(Cn=Cn||"()")[0]==="(",Fn=Cn[1]===")";return(Ln?this.isAfter(Pn,En):!this.isBefore(Pn,En))&&(Fn?this.isBefore(Rn,En):!this.isAfter(Rn,En))||(Ln?this.isBefore(Pn,En):!this.isAfter(Pn,En))&&(Fn?this.isAfter(Rn,En):!this.isBefore(Rn,En))}}})})(isBetween$1,isBetween$1.exports);var isBetweenExports=isBetween$1.exports;const isBetween=getDefaultExportFromCjs(isBetweenExports);var isSameOrBefore$1={exports:{}};isSameOrBefore$1.exports;(function(sn,ln){(function(cn,dn){sn.exports=dn()})(commonjsGlobal$1,function(){return function(cn,dn){dn.prototype.isSameOrBefore=function(pn,vn){return this.isSame(pn,vn)||this.isBefore(pn,vn)}}})})(isSameOrBefore$1,isSameOrBefore$1.exports);var isSameOrBeforeExports=isSameOrBefore$1.exports;const isSameOrBefore=getDefaultExportFromCjs(isSameOrBeforeExports);var relativeTime$1={exports:{}};relativeTime$1.exports;(function(sn,ln){(function(cn,dn){sn.exports=dn()})(commonjsGlobal$1,function(){return function(cn,dn,pn){cn=cn||{};var vn=dn.prototype,Sn={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function En(Pn,Rn,Ln,Fn){return vn.fromToBase(Pn,Rn,Ln,Fn)}pn.en.relativeTime=Sn,vn.fromToBase=function(Pn,Rn,Ln,Fn,Gn){for(var Dn,Kn,qn,Zn=Ln.$locale().relativeTime||Sn,Yn=cn.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],Jn=Yn.length,rs=0;rs<Jn;rs+=1){var us=Yn[rs];us.d&&(Dn=Fn?pn(Pn).diff(Ln,us.d,!0):Ln.diff(Pn,us.d,!0));var as=(cn.rounding||Math.round)(Math.abs(Dn));if(qn=Dn>0,as<=us.r||!us.r){as<=1&&rs>0&&(us=Yn[rs-1]);var cs=Zn[us.l];Gn&&(as=Gn(""+as)),Kn=typeof cs=="string"?cs.replace("%d",as):cs(as,Rn,us.l,qn);break}}if(Rn)return Kn;var _s=qn?Zn.future:Zn.past;return typeof _s=="function"?_s(Kn):_s.replace("%s",Kn)},vn.to=function(Pn,Rn){return En(Pn,Rn,this,!0)},vn.from=function(Pn,Rn){return En(Pn,Rn,this)};var Cn=function(Pn){return Pn.$u?pn.utc():pn()};vn.toNow=function(Pn){return this.to(Cn(this),Pn)},vn.fromNow=function(Pn){return this.from(Cn(this),Pn)}}})})(relativeTime$1,relativeTime$1.exports);var relativeTimeExports=relativeTime$1.exports;const relativeTime=getDefaultExportFromCjs(relativeTimeExports);var updateLocale$1={exports:{}};updateLocale$1.exports;(function(sn,ln){(function(cn,dn){sn.exports=dn()})(commonjsGlobal$1,function(){return function(cn,dn,pn){pn.updateLocale=function(vn,Sn){var En=pn.Ls[vn];if(En)return(Sn?Object.keys(Sn):[]).forEach(function(Cn){En[Cn]=Sn[Cn]}),En}}})})(updateLocale$1,updateLocale$1.exports);var updateLocaleExports=updateLocale$1.exports;const updateLocale=getDefaultExportFromCjs(updateLocaleExports);var ko$3={exports:{}};ko$3.exports;(function(sn,ln){(function(cn,dn){sn.exports=dn(dayjs_minExports)})(commonjsGlobal$1,function(cn){function dn(Sn){return Sn&&typeof Sn=="object"&&"default"in Sn?Sn:{default:Sn}}var pn=dn(cn),vn={name:"ko",weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),ordinal:function(Sn){return Sn},formats:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY년 MMMM D일",lll:"YYYY년 MMMM D일 A h:mm",llll:"YYYY년 MMMM D일 dddd A h:mm"},meridiem:function(Sn){return Sn<12?"오전":"오후"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",m:"1분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"}};return pn.default.locale(vn,null,!0),vn})})(ko$3,ko$3.exports);var koExports=ko$3.exports;const koreanLocale=getDefaultExportFromCjs(koExports);p$2.extend(relativeTime);p$2.extend(updateLocale);p$2.extend(isBetween);p$2.extend(duration);p$2.extend(isSameOrBefore);p$2.locale("ko");const DEBUG_COOKIE_NAME="lecture.debug",isDebugMode=()=>!!api.get(DEBUG_COOKIE_NAME),setDebugMode=(sn,ln=new Date)=>{const cn=p$2(ln).add(3,"day").toDate();api.set(DEBUG_COOKIE_NAME,sn?"true":"false",{expires:cn})},initLogger=()=>{datadogLogs.init({clientToken:"pubba81abeb82534976f298f54d286f9c47",site:"datadoghq.com",service:"inflearn-lecture",env:appConfig.MODE,version:appConfig.COMMIT_HASH,trackSessionAcrossSubdomains:!0,forwardConsoleLogs:["log","info"],silentMultipleInit:!0})};function getShaka(){return api.get(DEBUG_COOKIE_NAME)==="true"?debugShaka:commonShaka}const shaka$a=getShaka(),AUTOPLAY_ELEMENT_ID="auto-play-ui",SwitchContext=reactExports.createContext({checked:!1,disabled:!0,setChecked:sn=>{}});function useSwitchContext(){const sn=reactExports.useContext(SwitchContext);if(!sn)throw new Error("SwitchContext is not provided");return sn}function SwitchProvider({children:sn,isReview:ln}){const[cn,dn]=reactExports.useState(!!(getUserSetting().autoplay&&ln));reactExports.useEffect(()=>{ln||setUserSetting({autoplay:!1})},[ln]);const pn=vn=>{ln&&(dn(vn),setUserSetting({autoplay:vn}))};return jsx(SwitchContext.Provider,{value:{checked:cn,setChecked:pn,disabled:!ln},children:sn})}const styleIcon=sn=>css$1({display:"flex",justifyContent:"center",alignItems:"center",fontSize:"16px !important",width:"16px",height:"16px",color:sn?"#1C1B1F":"#FFF"},"",""),AutoPlayUiComponent=()=>{const{checked:sn,setChecked:ln,disabled:cn}=useSwitchContext(),dn=sn?"자동재생 사용 설정":"자동재생 사용 중지";return dn?jsx(o$7,{offset:8,label:dn,position:"top",events:{hover:!0,focus:!1,touch:!0},children:jsx("span",{children:jsx(AutoPlaySwitch,{disabled:cn,checked:sn,onChange:ln})})}):jsx(AutoPlaySwitch,{disabled:cn,checked:sn,onChange:ln})},styleAutoPlaySwitchContainer={name:"1h26gm7",styles:"display:flex;align-items:center;justify-content:center;height:100%;width:60px;margin-right:8px;label{cursor:pointer;}"},AutoPlaySwitch=({disabled:sn,checked:ln,onChange:cn})=>sn?null:jsx("span",{css:styleAutoPlaySwitchContainer,children:jsx(za$4,{disabled:sn,checked:ln,onChange:dn=>cn(dn.currentTarget.checked),color:"teal",size:"md",thumbIcon:jsx("span",{css:styleIcon(ln),className:"material-icons-round",children:ln?"play_arrow":"pause"}),styles:{thumb:{border:0,boxShadow:"0px 1px 3px 0px #00000033, 0px 2px 1px 0px #0000001F, 0px 1px 1px 0px #00000024",backgroundColor:ln?"#FFF":"#979797"},track:{background:"rgba(238, 238, 238, 0.5) !important",border:0}}})});class AutoPlayUi extends shaka$a.ui.Element{constructor(cn,dn){super(cn,dn);$l(this,"container");this.container=document.createElement("div"),this.container.id=AUTOPLAY_ELEMENT_ID,cn.appendChild(this.container)}}class AutoPlayUiFactory{create(ln,cn){return new AutoPlayUi(ln,cn)}}$l(AutoPlayUiFactory,"uiName","autoplay");var faExpand={};(function(sn){Object.defineProperty(sn,"__esModule",{value:!0});var ln="fas",cn="expand",dn=448,pn=512,vn=[],Sn="f065",En="M32 32C14.3 32 0 46.3 0 64v96c0 17.7 14.3 32 32 32s32-14.3 32-32V96h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H32zM64 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H64V352zM320 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h64v64c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32H320zM448 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H320c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V352z";sn.definition={prefix:ln,iconName:cn,icon:[dn,pn,vn,Sn,En]},sn.faExpand=sn.definition,sn.prefix=ln,sn.iconName=cn,sn.width=dn,sn.height=pn,sn.ligatures=vn,sn.unicode=Sn,sn.svgPathData=En,sn.aliases=vn})(faExpand);var faCompress={};(function(sn){Object.defineProperty(sn,"__esModule",{value:!0});var ln="fas",cn="compress",dn=448,pn=512,vn=[],Sn="f066",En="M160 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V64zM32 320c-17.7 0-32 14.3-32 32s14.3 32 32 32H96v64c0 17.7 14.3 32 32 32s32-14.3 32-32V352c0-17.7-14.3-32-32-32H32zM352 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H352V64zM320 320c-17.7 0-32 14.3-32 32v96c0 17.7 14.3 32 32 32s32-14.3 32-32V384h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H320z";sn.definition={prefix:ln,iconName:cn,icon:[dn,pn,vn,Sn,En]},sn.faCompress=sn.definition,sn.prefix=ln,sn.iconName=cn,sn.width=dn,sn.height=pn,sn.ligatures=vn,sn.unicode=Sn,sn.svgPathData=En,sn.aliases=vn})(faCompress);function usePlayerFullscreen(){var Cn;const ln=(Cn=usePlayerContext().player)==null?void 0:Cn.getVideoElement(),[cn,dn]=reactExports.useState(!1);useEvent$2("fullscreenchange",()=>dn(!!document.fullscreenElement),document);const pn=()=>document.fullscreenEnabled?!0:!!(ln!=null&&ln.webkitSupportsFullscreen),vn=()=>document.fullscreenEnabled?!!document.fullscreenElement:ln!=null&&ln.SupportsFullscreen?ln==null?void 0:ln.webkitDisplayingFullscreen:!1;return{checkFullScreenSupported:pn,isFullscreen:cn,enterFullScreen:async()=>{if(!vn())if(document.fullscreenEnabled){document.pictureInPictureElement&&await document.exitPictureInPicture();const Pn=document.querySelector("#player-container");await(Pn==null?void 0:Pn.requestFullscreen())}else ln!=null&&ln.webkitSupportsFullscreen&&(ln==null||ln.webkitEnterFullscreen())},exitFullScreen:async()=>{var Pn;vn()&&(document.fullscreenEnabled?(screen.orientation&&((Pn=screen.orientation)!=null&&Pn.unlock)&&screen.orientation.unlock(),await document.exitFullscreen()):ln!=null&&ln.webkitSupportsFullscreen&&(ln==null||ln.webkitExitFullscreen()))}}}function PlayerControlButton({children:sn,styleWrapper:ln}){return jsx(m$9,{css:[stylePlayerControlButton,ln,"",""],children:sn})}const stylePlayerControlButton={name:"gvkl91",styles:"width:40px;height:40px;display:inline-flex;justify-content:center;align-items:center"},shaka$9=getShaka(),FULLSCREEN_ELEMENT_ID="fullscreen-button-ui";var _ref$5={name:"1oaeivz",styles:"margin-right:8px"},_ref2$2={name:"1qjo0ip",styles:":fullscreen .fullscreen--expand{display:none;}:fullscreen .fullscreen--compress{display:flex;}.fullscreen--expand{display:flex;}.fullscreen--compress{display:none;}"};function FullScreenButtonUiComponent(){const{checkFullScreenSupported:sn,enterFullScreen:ln,exitFullScreen:cn}=usePlayerFullscreen();return sn()?jsxs(PlayerControlButton,{styleWrapper:_ref$5,children:[jsx(Global$1,{styles:_ref2$2}),jsx(Dr$5,{size:40,onClick:cn,variant:"transparent",className:"fullscreen--compress",children:jsx(I$e,{size:"md",icon:faCompress.faCompress})}),jsx(Dr$5,{size:40,onClick:ln,variant:"transparent",className:"fullscreen--expand",children:jsx(I$e,{size:"md",icon:faExpand.faExpand})})]}):null}class FullscreenButtonUi extends shaka$9.ui.Element{constructor(cn,dn){super(cn,dn);$l(this,"container");this.container=document.createElement("div"),this.container.id=FULLSCREEN_ELEMENT_ID,cn.appendChild(this.container)}}class FullscreenButtonUiFactory{create(ln,cn){return new FullscreenButtonUi(ln,cn)}}$l(FullscreenButtonUiFactory,"uiName","custom-fullscreen");const useHiddenMenuHandler=(sn,ln)=>{reactExports.useEffect(()=>{const cn=document.querySelector(`.${sn}-hidden-handler`);if(ln){cn==null||cn.classList.remove("shaka-hidden"),console.log(cn==null?void 0:cn.classList);return}},[ln])},generateHiddenMenuHandlerEl=sn=>{const ln=document.createElement("div");return ln.classList.add("shaka-settings-menu"),ln.classList.add("shaka-hidden"),ln.classList.add(`${sn}-hidden-handler`),ln},shaka$8=getShaka(),PLAYBACKRATE_ELEMENT_ID="playback-rate-button-ui";class PlaybackRateUi extends shaka$8.ui.Element{constructor(cn,dn){super(cn,dn);$l(this,"container");this.container=document.createElement("div"),this.container.id=PLAYBACKRATE_ELEMENT_ID,this.container.appendChild(generateHiddenMenuHandlerEl(PlaybackRateUiFactory.uiName)),cn.appendChild(this.container)}}class PlaybackRateUiFactory{create(ln,cn){return new PlaybackRateUi(ln,cn)}}$l(PlaybackRateUiFactory,"uiName","customPlayback");const getBackground=(sn,ln,cn)=>{const pn=((sn<10?sn*100:sn)-ln)/(cn-ln)*100;return`linear-gradient(to right, #EEE ${pn}%, #EEEEEE61 ${pn}%)`},getSafeFloat=sn=>Math.round(sn*100)/100,MIN_SLIDER_INPUT=50;var _ref$4={name:"1oaeivz",styles:"margin-right:8px"},_ref2$1={name:"49kx6r",styles:'.shaka-controls-container .playback-rate-ui-overflow-menu{opacity:0;transition:opacity cubic-bezier(.4, 0, .6, 1) .6s;}.shaka-controls-container[shown="true"] .playback-rate-ui-overflow-menu{opacity:1;}'};function PlaybackRateUiComponent(){var Yn,Jn,rs;const sn=usePlayerContext(),ln=(Yn=sn==null?void 0:sn.player)==null?void 0:Yn.videoElement,cn=reactExports.useRef(null),dn=reactExports.useRef(null),pn=reactExports.useRef(null),[vn,{open:Sn,close:En}]=useDisclosure(!1),[Cn,Pn]=reactExports.useState(getUserSetting().playbackRate),Rn=reactExports.useMemo(()=>Cn*100,[Cn]),Ln=(rs=(Jn=sn==null?void 0:sn.player)==null?void 0:Jn.overlay)==null?void 0:rs.getControls(),Gn=(useAppSelector(us=>us.video.maxPlaybackRate)||2)*100;useHiddenMenuHandler(PlaybackRateUiFactory.uiName,vn),reactExports.useEffect(()=>{var _s,Es,Qn;if(!(ln!=null&&ln.current))return;Dn()===2&&getUserSetting().playbackRate>2&&(ln.current.playbackRate=1,ln.current.defaultPlaybackRate=1,Pn(1),setUserSetting({playbackRate:1}));const us=Ln==null?void 0:Ln.getControlsContainer(),as=us==null?void 0:us.querySelector(".shaka-bottom-controls");if(!as||!us)return;as.addEventListener("click",ms=>{var Ms;const $s=ms.target;$s.closest(".shaka-playback-rate-button")||(Ms=cn.current)!=null&&Ms.contains($s)||En()});const cs=us.querySelector(".shaka-overflow-menu-button");cs==null||cs.addEventListener("click",()=>{En()}),["click","touchend"].forEach(ms=>{document.body.addEventListener(ms,$s=>{var gs,Ss;const Ms=$s.target;(gs=cn.current)!=null&&gs.contains(Ms)||(Ss=dn.current)!=null&&Ss.contains(Ms)||En()})}),(_s=pn.current)==null||_s.addEventListener("input",ms=>{const $s=Number(ms.currentTarget.value);Pn($s)}),(Qn=(Es=sn.player)==null?void 0:Es.player)==null||Qn.addEventListener("ratechange",()=>{var ms;Pn(((ms=ln.current)==null?void 0:ms.playbackRate)||1)})},[]);const Dn=()=>last$1((Ln==null?void 0:Ln.getConfig().playbackRates)||[2]),Kn=()=>{if(vn){En();return}if(!(!Ln||!(ln!=null&&ln.current))){if(Sn(),Ln!=null&&Ln.anySettingsMenusAreOpen()){Ln.hideSettingsMenus(),Sn();return}if(!vn){Sn();return}En()}},qn=us=>{if(!(ln!=null&&ln.current))return;const as=Number(us.target.value),cs=Math.round(as)/100;ln.current.playbackRate=cs,ln.current.defaultPlaybackRate=ln.current.playbackRate,Pn(cs),setUserSetting({playbackRate:ln.current.playbackRate})},Zn=`${getSafeFloat(Cn)} X`;return jsxs(PlayerControlButton,{styleWrapper:_ref$4,children:[jsx(Global$1,{styles:_ref2$1}),jsx("button",{ref:dn,onClick:Kn,className:"icon-asset shaka-playback-rate-button shaka-no-propagation material-icons-round",css:stylePlaybackRateUiButton,children:"speed"}),vn&&jsxs("div",{ref:cn,className:"shaka-no-propagation shaka-settings-menu playback-rate-ui-overflow-menu shaka-show-controls-on-mouse-over shaka-displayed",css:stylePlaybackRateOverflow,children:[jsx("div",{css:stylePlaybackRateTopContainer,className:"playback-rate__top-container",children:jsx("h2",{css:stylePlaybackRateTitle,children:"재생 속도"})}),jsx("input",{ref:pn,onChange:qn,css:styleSlider,min:MIN_SLIDER_INPUT,max:Gn,value:Rn,step:"5",style:{background:getBackground(Cn,MIN_SLIDER_INPUT,Gn)},className:"playback-rate__slider",type:"range"}),jsx("div",{css:stylePlayBackRateDesc,children:Zn})]})]})}const stylePlayBackRateDesc={name:"s6c7z8",styles:"font-style:normal;font-weight:400;font-size:12px;line-height:14px;display:flex;align-items:center;color:rgba(238, 238, 238, 0.7);&:not(:empty){height:16px;}"},stylePlaybackRateTopContainer={name:"1vsqpmi",styles:"height:40px;display:flex;flex-direction:column;justify-content:center;align-items:center"},stylePlaybackRateTitle={name:"wbdrem",styles:"font-style:normal;font-weight:500;font-size:13px;line-height:15px;display:flex;align-items:center;color:#EEEEEE"},stylePlaybackRateUiButton={name:"9spqz8",styles:"position:relative;width:40px;display:inline-flex;align-content:center;justify-content:center;background-color:transparent;border:none;color:#eee;cursor:pointer"},stylePlaybackRateOverflow={name:"19cnvc7",styles:"display:flex;z-index:2;flex-direction:column;align-items:center;padding:8px 0;position:absolute;width:200px;height:124px;right:10px;bottom:50px;background:rgba(28, 28, 28, 0.9);box-shadow:0px 1px 9px rgba(0, 0, 0, 0.66);border-radius:2px"},styleSlider={name:"1yxwq3l",styles:"-webkit-appearance:none;-moz-appearance:none;appearance:none;margin-top:17px;margin-bottom:17px;width:100%;max-width:168px;height:6px;border-radius:10px !important;&::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;cursor:pointer;appearance:none;width:20px;height:20px;border-radius:10px;background:#EEE;transform:translate(0%, -7px);transition:.2s ease-in-out;}&::-moz-range-thumb{-moz-appearance:none;cursor:pointer;appearance:none;width:20px;height:20px;border-radius:10px;border:none;background:#EEE;transform:translate(0%, 0px);transition:.2s ease-in-out;}&::-webkit-slider-thumb:hover{box-shadow:0 0 0 10px rgba(238, 238,238, 0.24);}&::-moz-range-thumb:hover{box-shadow:0 0 0 10px rgba(238, 238,238, 0.24);}&::-webkit-slider-runnable-track{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:6px;background-color:#EEEEEE61;border-radius:10px !important;}&::-moz-range-track{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:6px;background-color:#EEEEEE61;border-radius:10px !important;}"};var faPlay={};(function(sn){Object.defineProperty(sn,"__esModule",{value:!0});var ln="fas",cn="play",dn=384,pn=512,vn=[9654],Sn="f04b",En="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z";sn.definition={prefix:ln,iconName:cn,icon:[dn,pn,vn,Sn,En]},sn.faPlay=sn.definition,sn.prefix=ln,sn.iconName=cn,sn.width=dn,sn.height=pn,sn.ligatures=vn,sn.unicode=Sn,sn.svgPathData=En,sn.aliases=vn})(faPlay);var faPause={};(function(sn){Object.defineProperty(sn,"__esModule",{value:!0});var ln="fas",cn="pause",dn=320,pn=512,vn=[9208],Sn="f04c",En="M48 64C21.5 64 0 85.5 0 112V400c0 26.5 21.5 48 48 48H80c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H48zm192 0c-26.5 0-48 21.5-48 48V400c0 26.5 21.5 48 48 48h32c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H240z";sn.definition={prefix:ln,iconName:cn,icon:[dn,pn,vn,Sn,En]},sn.faPause=sn.definition,sn.prefix=ln,sn.iconName=cn,sn.width=dn,sn.height=pn,sn.ligatures=vn,sn.unicode=Sn,sn.svgPathData=En,sn.aliases=vn})(faPause);const shaka$7=getShaka(),PLAY_PAUSE_ELEMENT_ID="play-pause-button-ui";var _ref$3={name:"1oaeivz",styles:"margin-right:8px"};function PlayPauseButtonUiComponent(){var En;const sn=usePlayerContext(),ln=(En=sn.player)==null?void 0:En.getVideoElement(),[cn,dn]=reactExports.useState(!(ln!=null&&ln.paused)),pn=()=>{var Cn;sn&&((Cn=sn.player)==null||Cn.play())},vn=()=>{var Cn;sn&&((Cn=sn.player)==null||Cn.pause())},Sn=()=>{dn(!(ln!=null&&ln.paused))};return useEvent$2("play",Sn,ln),useEvent$2("pause",Sn,ln),useEvent$2("seeking",Sn,ln),jsx(PlayerControlButton,{styleWrapper:_ref$3,children:cn?jsx(Dr$5,{size:40,onClick:vn,variant:"transparent",children:jsx(I$e,{size:"md",icon:faPause.faPause})}):jsx(Dr$5,{size:40,onClick:pn,variant:"transparent",children:jsx(I$e,{size:"md",icon:faPlay.faPlay})})})}class PlayPauseButtonUi extends shaka$7.ui.Element{constructor(cn,dn){super(cn,dn);$l(this,"container");this.container=document.createElement("div"),this.container.id=PLAY_PAUSE_ELEMENT_ID,cn.appendChild(this.container)}}class PlayPauseButtonUiFactory{create(ln,cn){return new PlayPauseButtonUi(ln,cn)}}$l(PlayPauseButtonUiFactory,"uiName","custome_play_pause");function PortalControl({elementId:sn,children:ln}){const[cn,dn]=reactExports.useState(null),pn=document.querySelector(`#${sn}`);return reactExports.useLayoutEffect(()=>{cn||dn(pn),cn!==pn&&dn(pn)},[pn]),cn&&reactDomExports.createPortal(ln,cn)}var faAngleRight={};(function(sn){Object.defineProperty(sn,"__esModule",{value:!0});var ln="fas",cn="angle-right",dn=320,pn=512,vn=[8250],Sn="f105",En="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z";sn.definition={prefix:ln,iconName:cn,icon:[dn,pn,vn,Sn,En]},sn.faAngleRight=sn.definition,sn.prefix=ln,sn.iconName=cn,sn.width=dn,sn.height=pn,sn.ligatures=vn,sn.unicode=Sn,sn.svgPathData=En,sn.aliases=vn})(faAngleRight);var faCheck={},faAngleLeft={},faSubtitles$1={};(function(sn){Object.defineProperty(sn,"__esModule",{value:!0});var ln="far",cn="subtitles",dn=576,pn=512,vn=[],Sn="e60f",En="M64 80c-8.8 0-16 7.2-16 16V416c0 8.8 7.2 16 16 16H512c8.8 0 16-7.2 16-16V96c0-8.8-7.2-16-16-16H64zM0 96C0 60.7 28.7 32 64 32H512c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM120 240H296c13.3 0 24 10.7 24 24s-10.7 24-24 24H120c-13.3 0-24-10.7-24-24s10.7-24 24-24zm256 0h80c13.3 0 24 10.7 24 24s-10.7 24-24 24H376c-13.3 0-24-10.7-24-24s10.7-24 24-24zM120 336h80c13.3 0 24 10.7 24 24s-10.7 24-24 24H120c-13.3 0-24-10.7-24-24s10.7-24 24-24zm160 0H456c13.3 0 24 10.7 24 24s-10.7 24-24 24H280c-13.3 0-24-10.7-24-24s10.7-24 24-24z";sn.definition={prefix:ln,iconName:cn,icon:[dn,pn,vn,Sn,En]},sn.faSubtitles=sn.definition,sn.prefix=ln,sn.iconName=cn,sn.width=dn,sn.height=pn,sn.ligatures=vn,sn.unicode=Sn,sn.svgPathData=En,sn.aliases=vn})(faSubtitles$1);var faSubtitles={};(function(sn){Object.defineProperty(sn,"__esModule",{value:!0});var ln="fas",cn="subtitles",dn=576,pn=512,vn=[],Sn="e60f",En="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H512c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm56 208H296c13.3 0 24 10.7 24 24s-10.7 24-24 24H120c-13.3 0-24-10.7-24-24s10.7-24 24-24zm256 0h80c13.3 0 24 10.7 24 24s-10.7 24-24 24H376c-13.3 0-24-10.7-24-24s10.7-24 24-24zM120 336h80c13.3 0 24 10.7 24 24s-10.7 24-24 24H120c-13.3 0-24-10.7-24-24s10.7-24 24-24zm160 0H456c13.3 0 24 10.7 24 24s-10.7 24-24 24H280c-13.3 0-24-10.7-24-24s10.7-24 24-24z";sn.definition={prefix:ln,iconName:cn,icon:[dn,pn,vn,Sn,En]},sn.faSubtitles=sn.definition,sn.prefix=ln,sn.iconName=cn,sn.width=dn,sn.height=pn,sn.ligatures=vn,sn.unicode=Sn,sn.svgPathData=En,sn.aliases=vn})(faSubtitles);const secondsToHHmmss=sn=>{const ln=Math.floor(sn/3600),cn=Math.floor(sn%3600/60),dn=sn%60,pn=ln.toString().padStart(2,"0"),vn=cn.toString().padStart(2,"0"),Sn=dn.toString().padStart(2,"0");return`${pn}:${vn}:${Sn}`};function useSubtitleGtmProperty(){var Sn,En,Cn,Pn,Rn,Ln,Fn,Gn,Dn,Kn;const sn=useQueryClient(),{slug:ln,unitId:cn}=useLectureParams(),dn=sn.getQueryData(courseQueryKey(ln)),pn=sn.getQueryData(myVoucherQueryKey),vn=sn.getQueryData(unitQueryKey(cn));return{course_id:String((Sn=dn==null?void 0:dn.data)==null?void 0:Sn.id),course_title:(En=dn==null?void 0:dn.data)==null?void 0:En.title,unit_id:String(cn),seq0_instructor_id:String((Cn=dn==null?void 0:dn.data)==null?void 0:Cn.instructorUserId),seq0_instructor_name:String((Pn=dn==null?void 0:dn.data)==null?void 0:Pn.instructorName),progress:Number((Rn=pn==null?void 0:pn.data)==null?void 0:Rn.voucher.progress),total_unit_count:(Ln=pn==null?void 0:pn.data)==null?void 0:Ln.lectureCount,progress_unit:(Fn=pn==null?void 0:pn.data)==null?void 0:Fn.voucher.completeCount,total_unit_time:secondsToHHmmss(Number((Gn=vn==null?void 0:vn.data)==null?void 0:Gn.runtime)),progress_time:secondsToHHmmss(Number((Kn=(Dn=vn==null?void 0:vn.data)==null?void 0:Dn.complete)==null?void 0:Kn.currentTime))}}const hexToRgb=sn=>{const ln=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(sn);return ln?{r:parseInt(ln[1],16),g:parseInt(ln[2],16),b:parseInt(ln[3],16)}:null},styleMobileVideoContent=css$1({display:"flex",flexDirection:"column",position:"relative",flexShrink:"0",height:"calc(var(--vw, 1vw) * 64)",backgroundColor:P$8.dark[8],transition:"height .3s ease"},"",""),styleSubtitleText=css$1({color:P$8.gray[1],textAlign:"center",wordBreak:"keep-all",userSelect:"none"},"",""),MAX_WIDTH_BREAKPOINT=1200,MIN_WIDTH_BREAKPOINT=360,MIN_FONT_SIZE=12,useSubtitleSizeByScreenWidth=()=>{const[sn,ln]=reactExports.useState(32),[cn,{width:dn}]=useMeasure$1(),{isTablet:pn}=useScreen(),vn=useAppSelector(En=>En.video.subTitleSize),Sn=pn?DESKTOP_PADDING:MOBILE_PADDING;return reactExports.useEffect(()=>{ln(getSizeByScreenWidth(dn,vn))},[dn,vn]),{ref:cn,fontSize:sn,padding:Sn}},getSizeByScreenWidth=(sn,ln)=>{if(sn>=MAX_WIDTH_BREAKPOINT)return SUBTITLE_SIZE[ln];if(sn<=MIN_WIDTH_BREAKPOINT)return MIN_FONT_SIZE;const cn=SUBTITLE_SIZE[ln]-MIN_FONT_SIZE,dn=MAX_WIDTH_BREAKPOINT-MIN_WIDTH_BREAKPOINT,pn=1-(sn-MIN_WIDTH_BREAKPOINT)/dn;return SUBTITLE_SIZE[ln]-cn*pn},MOBILE_PADDING=10,DESKTOP_PADDING=20;function checkInclude(sn,ln){return sn===0&&ln.start===0?0:sn<ln.start?-1:sn>=ln.start&&sn<ln.end?0:1}function binarySearch(sn,ln,cn){let dn=cn!==void 0?cn:0,pn=sn.length-1;for(;dn<=pn;){const vn=Math.floor((dn+pn)/2),Sn=ln(sn[vn]);if(Sn===0)return{index:vn,prevIndex:vn-1};Sn===-1?pn=vn-1:dn=vn+1}return{index:null,prevIndex:min$6([dn,pn])??null}}function findIndexByCurrentTime(sn,ln,cn){return binarySearch(sn,dn=>checkInclude(ln,dn),cn)}function useVodSubtitlesIdQuery(sn,ln){return useVodSubtitleVodSubtitlesIdQuery({queryKey:[VOD_SUBTITLE_VOD_SUBTITLE_ID(`${sn}`)],url:VOD_SUBTITLE_VOD_SUBTITLE_ID(`${sn}`),options:ln})}const useVodSubtitle=(sn,ln)=>{var Zn,Yn;const{showNotification:cn}=z$9(),dn=useAppDispatch(),pn=useAppSelector(Jn=>Jn.video.isVodSubtitleOpened),{prevIndex:vn,index:Sn}=useAppSelector(Jn=>Jn.video.currentScript),En=useVodSubtitlesIdQuery(sn,{select:Jn=>Jn.map(rs=>({...rs,end:rs.end/1e3,start:rs.start/1e3})),onError:()=>{dn(videoActions.setIsVodSubtitleOpened(!pn)),cn({type:"error",title:"일시적인 오류가 발생했습니다.",message:"새로고침을 진행해주세요. 오류가 지속되면 관리자에게 문의해주세요."})},useErrorBoundary:!1,enabled:!!sn,...ln}),{data:Cn,isError:Pn}=En,Rn=usePlayerContext(),Ln=reactExports.useRef(null);reactExports.useEffect(()=>{const Jn=Fn();Kn(Jn)},[]);const Fn=()=>{var rs,us;const Jn=(us=(rs=Rn.player)==null?void 0:rs.getVideoElement())==null?void 0:us.currentTime;return isNil(Jn)?null:Jn},Gn=()=>{const Jn=Fn();if(isNil(Cn)||Ln.current===Jn||Jn===null)return;const us=findIndexByCurrentTime(Cn,Jn,Sn===0||Sn===null?void 0:Sn);Ln.current=Jn,qn({index:us.index,prevIndex:us.prevIndex,isPlaceholder:us.index===null})},Dn=()=>{const Jn=Fn();Kn(Jn),Ln.current=Jn},Kn=Jn=>{if(Jn===null||isNil(Cn))return;const rs=findIndexByCurrentTime(Cn,Jn);qn({index:rs.index,prevIndex:rs.prevIndex,isPlaceholder:rs.index===null})},qn=Jn=>{dn(videoActions.setCurrentScriptIndex(Jn))};return useEvent$2("timeupdate",Gn,(Zn=Rn.player)==null?void 0:Zn.getVideoElement()),useEvent$2("seeked",Dn,(Yn=Rn.player)==null?void 0:Yn.getVideoElement()),{currentScriptIndex:Sn,prevScriptIndex:vn,subtitle:Cn,vodSubtitlesIdQuery:En,isSubtitleError:Pn,setCurrentScriptIndex:qn}},shaka$6=getShaka(),SUBTITLE_ELEMENT_ID="subtitle-ui",SUBTITLE_SIZE={sm:24,md:28,lg:32},SUBTITLE_SIZE_LABEL={sm:"작게",md:"보통",lg:"크게"},SUBTITLE_SIZE_KEY={sm:"sm",md:"md",lg:"lg"};var _ref$2={name:"1rsnfy9",styles:"max-width:880px;text-align:center;width:100%;padding:0 16px"};function SubtitleUiComponent({subtitleOid:sn}){const{subtitle:ln,currentScriptIndex:cn}=useVodSubtitle(sn),{ref:dn,fontSize:pn}=useSubtitleSizeByScreenWidth();return isNil(ln)||isNil(cn)||isNil(ln[cn])?null:jsx("div",{ref:dn,css:styleSubtitleUi,children:jsx(m$9,{css:_ref$2,children:jsx(c$d,{weight:500,component:"span",style:{fontSize:`${pn}px`},css:[styleSubtitleText,styleSubtitleUiText,"",""],children:ln[cn].text})})})}const styleSubtitleUi=css$1({display:"flex",justifyContent:"center",overflow:"hidden",marginBottom:"8px",[mediaQueries.tablet]:{marginBottom:"16px"}},"",""),dark8=hexToRgb(P$8.dark[8]),styleSubtitleUiText=css$1({padding:"4px",lineHeight:"1.5",backgroundColor:`rgba(${dark8==null?void 0:dark8.r}, ${dark8==null?void 0:dark8.g}, ${dark8==null?void 0:dark8.b}, 0.8)`},"","");class SubtitleUi extends shaka$6.ui.Element{constructor(ln,cn){super(ln,cn);const dn=cn.getControlsContainer().querySelector(".shaka-bottom-controls");dn==null||dn.insertAdjacentHTML("afterbegin",`<div id="${SUBTITLE_ELEMENT_ID}"></div>`)}}class SubtitleUiFactory{create(ln,cn){return new SubtitleUi(ln,cn)}}$l(SubtitleUiFactory,"uiName","subtitle");const shaka$5=getShaka(),SUBTITLE_BUTTON_ELEMENT_ID="subtitle-button-ui";var _ref$1={name:"1oaeivz",styles:"margin-right:8px"},_ref2={name:"s5xdrg",styles:"display:flex;align-items:center"},_ref3={name:"1q4vxyr",styles:"margin-left:8px"},_ref4={name:"1066lcq",styles:"display:flex;justify-content:space-between;align-items:center"};function SubtitleButtonUiComponent(){const sn=reactExports.useRef(),ln=useAppSelector(Es=>Es.video.isVodSubtitleOpened),cn=useAppSelector(Es=>Es.video.subTitleSize),[dn,pn]=useLocalStorage$1("showSubtitleTutorial",!ln),vn=useAppSelector(Es=>Es.video.subtitlePosition),Sn=Jf$1(),[En,{open:Cn,close:Pn}]=useDisclosure(!1),[Rn,{open:Ln,close:Fn}]=useDisclosure(!1),Gn=useSubtitleGtmProperty();useHiddenMenuHandler(SubtitleButtonUiFactory.uiName,En),useHiddenMenuHandler(`${SubtitleButtonUiFactory.uiName}-size`,Rn);const Dn=useAppDispatch(),Kn=useAppSelector(Es=>Es.lecture.isMobileView),qn=ln?"자막 끄기":"자막 켜기",Zn=()=>{trackMixpanelEvent(eventNames.CLICK_SUBTITLE_ON,{...Gn,subtitle_on:!ln}),Dn(videoActions.setIsVodSubtitleOpened(!ln))},Yn=Es=>{Es.preventDefault(),Ln()},Jn=()=>{const Es=vn==="bottom"?"top":"bottom",Qn={bottom:"on",top:"off"};trackMixpanelEvent(eventNames.CLICK_SUBTITLE_UNDER_PLAYER,{...Gn,flag_option:Qn[Es]}),Dn(videoActions.setSubtitlePosition(Es))},rs=()=>{trackMixpanelEvent(eventNames.CLICK_SUBTITLE,Gn)},us=()=>pn(!1),as=Es=>{Dn(videoActions.setSubtitleSize(Es)),setUserSetting({subtitleSize:Es})};reactExports.useEffect(()=>()=>{sn.current&&clearTimeout(sn.current)},[]);const cs=()=>{Fn(),setTimeout(()=>{const Es=document.querySelector(`.${SubtitleButtonUiFactory.uiName}-hidden-handler`);Es==null||Es.classList.remove("shaka-hidden")},10)};return jsx(PlayerControlButton,{styleWrapper:_ref$1,children:jsxs(w$b,{opened:En,onClose:()=>{Pn(),sn.current=setTimeout(()=>{Fn()},300)},onOpen:Cn,shadow:"md",width:210,position:"top",onChange:rs,keepMounted:!0,children:[jsx(w$b.Target,{children:jsx("div",{children:jsxs(t$5,{withArrow:!0,opened:dn,middlewares:{flip:!0,shift:!0,inline:!0},position:"top",styles:{dropdown:{backgroundColor:"white",borderColor:P$8.gray[2],color:P$8.gray[9]}},children:[jsx(t$5.Target,{children:jsx(Dr$5,{size:40,variant:"transparent",onClick:us,children:ln?jsx(I$e,{size:"md",icon:faSubtitles.faSubtitles}):jsx(I$e,{size:"md",icon:faSubtitles$1.faSubtitles})})}),jsxs(t$5.Dropdown,{onClick:us,children:[jsx(c$d,{weight:700,size:18,mb:4,align:"center",children:"자막 켜기"}),jsxs(c$d,{weight:400,size:14,align:"center",children:["지금부터 자막 기능을",jsx("br",{}),"사용할 수 있어요!"]})]})]})})}),jsx(w$b.Dropdown,{children:Rn?jsxs(Fragment,{children:[jsx(w$b.Item,{icon:jsx(I$e,{size:"sm",icon:faAngleLeft.faAngleLeft}),closeMenuOnClick:!1,onClick:cs,color:"dark.2",children:"크기 설정"}),jsx(w$b.Divider,{}),subtitleKeys.map(Es=>jsx(w$b.Item,{icon:jsx(I$e,{size:"sm",icon:faCheck.faCheck,css:css$1({visibility:cn===Es?"visible":"hidden"},"","")}),closeMenuOnClick:!1,onClick:()=>as(Es),children:SUBTITLE_SIZE_LABEL[Es]},Es))]}):jsxs(Fragment,{children:[jsx(w$b.Item,{onClick:Zn,children:qn}),jsx(w$b.Item,{onClick:Jn,css:css$1({opacity:ln?void 0:.6},"",""),disabled:!ln,children:jsxs(m$8,{children:[jsx(c$d,{color:ln?void 0:"dark.2",children:"영상 아래 자막 표시"}),jsx(za$4,{ml:"auto",color:"dark",disabled:!ln,checked:vn==="bottom",css:css$1({pointerEvents:"none",".mantine-Switch-track > .mantine-Switch-thumb":{borderColor:P$8.dark[2],backgroundColor:P$8.dark[2]},"input:checked + .mantine-Switch-track > .mantine-Switch-thumb":{borderColor:Sn.white,backgroundColor:Sn.white}},"","")})]})}),Kn?null:jsx(w$b.Item,{disabled:!ln,css:css$1({opacity:ln?void 0:.6},"",""),closeMenuOnClick:!1,onClick:Yn,rightSection:ln?jsxs(c$d,{size:12,weight:400,color:"gray.6",css:_ref2,children:[SUBTITLE_SIZE_LABEL[cn],jsx(I$e,{size:"md",icon:faAngleRight.faAngleRight,color:"gray.6",css:_ref3})]}):null,children:jsx(m$9,{css:_ref4,children:jsx(c$d,{size:14,weight:400,color:ln?void 0:"dark.2",children:"크기 설정"})})})]})})]})})}const subtitleKeys=[SUBTITLE_SIZE_KEY.sm,SUBTITLE_SIZE_KEY.md,SUBTITLE_SIZE_KEY.lg];class SubtitleButtonUi extends shaka$5.ui.Element{constructor(cn,dn){super(cn,dn);$l(this,"container");this.container=document.createElement("div"),this.container.id=SUBTITLE_BUTTON_ELEMENT_ID,this.container.appendChild(generateHiddenMenuHandlerEl(SubtitleButtonUiFactory.uiName)),this.container.appendChild(generateHiddenMenuHandlerEl(`${SubtitleButtonUiFactory.uiName}-size`)),cn.appendChild(this.container)}}class SubtitleButtonUiFactory{create(ln,cn){return new SubtitleButtonUi(ln,cn)}}$l(SubtitleButtonUiFactory,"uiName","subtitle-button");var sha256$1={exports:{}};function commonjsRequire(sn){throw new Error('Could not dynamically require "'+sn+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var core={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);core.exports;var hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(sn,ln){(function(cn,dn){sn.exports=dn()})(commonjsGlobal$1,function(){var cn=cn||function(dn,pn){var vn;if(typeof window<"u"&&window.crypto&&(vn=window.crypto),typeof self<"u"&&self.crypto&&(vn=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(vn=globalThis.crypto),!vn&&typeof window<"u"&&window.msCrypto&&(vn=window.msCrypto),!vn&&typeof commonjsGlobal$1<"u"&&commonjsGlobal$1.crypto&&(vn=commonjsGlobal$1.crypto),!vn&&typeof commonjsRequire=="function")try{vn=require$$0}catch{}var Sn=function(){if(vn){if(typeof vn.getRandomValues=="function")try{return vn.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof vn.randomBytes=="function")try{return vn.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},En=Object.create||function(){function Yn(){}return function(Jn){var rs;return Yn.prototype=Jn,rs=new Yn,Yn.prototype=null,rs}}(),Cn={},Pn=Cn.lib={},Rn=Pn.Base=function(){return{extend:function(Yn){var Jn=En(this);return Yn&&Jn.mixIn(Yn),(!Jn.hasOwnProperty("init")||this.init===Jn.init)&&(Jn.init=function(){Jn.$super.init.apply(this,arguments)}),Jn.init.prototype=Jn,Jn.$super=this,Jn},create:function(){var Yn=this.extend();return Yn.init.apply(Yn,arguments),Yn},init:function(){},mixIn:function(Yn){for(var Jn in Yn)Yn.hasOwnProperty(Jn)&&(this[Jn]=Yn[Jn]);Yn.hasOwnProperty("toString")&&(this.toString=Yn.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),Ln=Pn.WordArray=Rn.extend({init:function(Yn,Jn){Yn=this.words=Yn||[],Jn!=pn?this.sigBytes=Jn:this.sigBytes=Yn.length*4},toString:function(Yn){return(Yn||Gn).stringify(this)},concat:function(Yn){var Jn=this.words,rs=Yn.words,us=this.sigBytes,as=Yn.sigBytes;if(this.clamp(),us%4)for(var cs=0;cs<as;cs++){var _s=rs[cs>>>2]>>>24-cs%4*8&255;Jn[us+cs>>>2]|=_s<<24-(us+cs)%4*8}else for(var Es=0;Es<as;Es+=4)Jn[us+Es>>>2]=rs[Es>>>2];return this.sigBytes+=as,this},clamp:function(){var Yn=this.words,Jn=this.sigBytes;Yn[Jn>>>2]&=4294967295<<32-Jn%4*8,Yn.length=dn.ceil(Jn/4)},clone:function(){var Yn=Rn.clone.call(this);return Yn.words=this.words.slice(0),Yn},random:function(Yn){for(var Jn=[],rs=0;rs<Yn;rs+=4)Jn.push(Sn());return new Ln.init(Jn,Yn)}}),Fn=Cn.enc={},Gn=Fn.Hex={stringify:function(Yn){for(var Jn=Yn.words,rs=Yn.sigBytes,us=[],as=0;as<rs;as++){var cs=Jn[as>>>2]>>>24-as%4*8&255;us.push((cs>>>4).toString(16)),us.push((cs&15).toString(16))}return us.join("")},parse:function(Yn){for(var Jn=Yn.length,rs=[],us=0;us<Jn;us+=2)rs[us>>>3]|=parseInt(Yn.substr(us,2),16)<<24-us%8*4;return new Ln.init(rs,Jn/2)}},Dn=Fn.Latin1={stringify:function(Yn){for(var Jn=Yn.words,rs=Yn.sigBytes,us=[],as=0;as<rs;as++){var cs=Jn[as>>>2]>>>24-as%4*8&255;us.push(String.fromCharCode(cs))}return us.join("")},parse:function(Yn){for(var Jn=Yn.length,rs=[],us=0;us<Jn;us++)rs[us>>>2]|=(Yn.charCodeAt(us)&255)<<24-us%4*8;return new Ln.init(rs,Jn)}},Kn=Fn.Utf8={stringify:function(Yn){try{return decodeURIComponent(escape(Dn.stringify(Yn)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(Yn){return Dn.parse(unescape(encodeURIComponent(Yn)))}},qn=Pn.BufferedBlockAlgorithm=Rn.extend({reset:function(){this._data=new Ln.init,this._nDataBytes=0},_append:function(Yn){typeof Yn=="string"&&(Yn=Kn.parse(Yn)),this._data.concat(Yn),this._nDataBytes+=Yn.sigBytes},_process:function(Yn){var Jn,rs=this._data,us=rs.words,as=rs.sigBytes,cs=this.blockSize,_s=cs*4,Es=as/_s;Yn?Es=dn.ceil(Es):Es=dn.max((Es|0)-this._minBufferSize,0);var Qn=Es*cs,ms=dn.min(Qn*4,as);if(Qn){for(var $s=0;$s<Qn;$s+=cs)this._doProcessBlock(us,$s);Jn=us.splice(0,Qn),rs.sigBytes-=ms}return new Ln.init(Jn,ms)},clone:function(){var Yn=Rn.clone.call(this);return Yn._data=this._data.clone(),Yn},_minBufferSize:0});Pn.Hasher=qn.extend({cfg:Rn.extend(),init:function(Yn){this.cfg=this.cfg.extend(Yn),this.reset()},reset:function(){qn.reset.call(this),this._doReset()},update:function(Yn){return this._append(Yn),this._process(),this},finalize:function(Yn){Yn&&this._append(Yn);var Jn=this._doFinalize();return Jn},blockSize:16,_createHelper:function(Yn){return function(Jn,rs){return new Yn.init(rs).finalize(Jn)}},_createHmacHelper:function(Yn){return function(Jn,rs){return new Zn.HMAC.init(Yn,rs).finalize(Jn)}}});var Zn=Cn.algo={};return Cn}(Math);return cn})}(core,core.exports)),core.exports}sha256$1.exports;(function(sn,ln){(function(cn,dn){sn.exports=dn(requireCore())})(commonjsGlobal$1,function(cn){return function(dn){var pn=cn,vn=pn.lib,Sn=vn.WordArray,En=vn.Hasher,Cn=pn.algo,Pn=[],Rn=[];(function(){function Gn(Zn){for(var Yn=dn.sqrt(Zn),Jn=2;Jn<=Yn;Jn++)if(!(Zn%Jn))return!1;return!0}function Dn(Zn){return(Zn-(Zn|0))*4294967296|0}for(var Kn=2,qn=0;qn<64;)Gn(Kn)&&(qn<8&&(Pn[qn]=Dn(dn.pow(Kn,1/2))),Rn[qn]=Dn(dn.pow(Kn,1/3)),qn++),Kn++})();var Ln=[],Fn=Cn.SHA256=En.extend({_doReset:function(){this._hash=new Sn.init(Pn.slice(0))},_doProcessBlock:function(Gn,Dn){for(var Kn=this._hash.words,qn=Kn[0],Zn=Kn[1],Yn=Kn[2],Jn=Kn[3],rs=Kn[4],us=Kn[5],as=Kn[6],cs=Kn[7],_s=0;_s<64;_s++){if(_s<16)Ln[_s]=Gn[Dn+_s]|0;else{var Es=Ln[_s-15],Qn=(Es<<25|Es>>>7)^(Es<<14|Es>>>18)^Es>>>3,ms=Ln[_s-2],$s=(ms<<15|ms>>>17)^(ms<<13|ms>>>19)^ms>>>10;Ln[_s]=Qn+Ln[_s-7]+$s+Ln[_s-16]}var Ms=rs&us^~rs&as,gs=qn&Zn^qn&Yn^Zn&Yn,Ss=(qn<<30|qn>>>2)^(qn<<19|qn>>>13)^(qn<<10|qn>>>22),js=(rs<<26|rs>>>6)^(rs<<21|rs>>>11)^(rs<<7|rs>>>25),bs=cs+js+Ms+Rn[_s]+Ln[_s],Ts=Ss+gs;cs=as,as=us,us=rs,rs=Jn+bs|0,Jn=Yn,Yn=Zn,Zn=qn,qn=bs+Ts|0}Kn[0]=Kn[0]+qn|0,Kn[1]=Kn[1]+Zn|0,Kn[2]=Kn[2]+Yn|0,Kn[3]=Kn[3]+Jn|0,Kn[4]=Kn[4]+rs|0,Kn[5]=Kn[5]+us|0,Kn[6]=Kn[6]+as|0,Kn[7]=Kn[7]+cs|0},_doFinalize:function(){var Gn=this._data,Dn=Gn.words,Kn=this._nDataBytes*8,qn=Gn.sigBytes*8;return Dn[qn>>>5]|=128<<24-qn%32,Dn[(qn+64>>>9<<4)+14]=dn.floor(Kn/4294967296),Dn[(qn+64>>>9<<4)+15]=Kn,Gn.sigBytes=Dn.length*4,this._process(),this._hash},clone:function(){var Gn=En.clone.call(this);return Gn._hash=this._hash.clone(),Gn}});pn.SHA256=En._createHelper(Fn),pn.HmacSHA256=En._createHmacHelper(Fn)}(Math),cn.SHA256})})(sha256$1,sha256$1.exports);var sha256Exports=sha256$1.exports;const sha256=getDefaultExportFromCjs(sha256Exports);var Stream$d=function sn(){this.init=function(){var ln={};this.on=function(cn,dn){ln[cn]||(ln[cn]=[]),ln[cn]=ln[cn].concat(dn)},this.off=function(cn,dn){var pn;return ln[cn]?(pn=ln[cn].indexOf(dn),ln[cn]=ln[cn].slice(),ln[cn].splice(pn,1),pn>-1):!1},this.trigger=function(cn){var dn,pn,vn,Sn;if(dn=ln[cn],!!dn)if(arguments.length===2)for(vn=dn.length,pn=0;pn<vn;++pn)dn[pn].call(this,arguments[1]);else{for(Sn=[],pn=arguments.length,pn=1;pn<arguments.length;++pn)Sn.push(arguments[pn]);for(vn=dn.length,pn=0;pn<vn;++pn)dn[pn].apply(this,Sn)}},this.dispose=function(){ln={}}}};Stream$d.prototype.pipe=function(sn){return this.on("data",function(ln){sn.push(ln)}),this.on("done",function(ln){sn.flush(ln)}),this.on("partialdone",function(ln){sn.partialFlush(ln)}),this.on("endedtimeline",function(ln){sn.endTimeline(ln)}),this.on("reset",function(ln){sn.reset(ln)}),sn};Stream$d.prototype.push=function(sn){this.trigger("data",sn)};Stream$d.prototype.flush=function(sn){this.trigger("done",sn)};Stream$d.prototype.partialFlush=function(sn){this.trigger("partialdone",sn)};Stream$d.prototype.endTimeline=function(sn){this.trigger("endedtimeline",sn)};Stream$d.prototype.reset=function(sn){this.trigger("reset",sn)};var stream=Stream$d,ONE_SECOND_IN_TS$5=9e4,secondsToVideoTs,secondsToAudioTs,videoTsToSeconds,audioTsToSeconds,audioTsToVideoTs,videoTsToAudioTs,metadataTsToSeconds;secondsToVideoTs=function sn(ln){return ln*ONE_SECOND_IN_TS$5};secondsToAudioTs=function sn(ln,cn){return ln*cn};videoTsToSeconds=function sn(ln){return ln/ONE_SECOND_IN_TS$5};audioTsToSeconds=function sn(ln,cn){return ln/cn};audioTsToVideoTs=function sn(ln,cn){return secondsToVideoTs(audioTsToSeconds(ln,cn))};videoTsToAudioTs=function sn(ln,cn){return secondsToAudioTs(videoTsToSeconds(ln),cn)};metadataTsToSeconds=function sn(ln,cn,dn){return videoTsToSeconds(dn?ln:ln-cn)};var clock$3={ONE_SECOND_IN_TS:ONE_SECOND_IN_TS$5,secondsToVideoTs,secondsToAudioTs,videoTsToSeconds,audioTsToSeconds,audioTsToVideoTs,videoTsToAudioTs,metadataTsToSeconds},Stream$c=stream,ONE_SECOND_IN_TS$4=clock$3.ONE_SECOND_IN_TS,_AdtsStream,ADTS_SAMPLING_FREQUENCIES$1=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];_AdtsStream=function sn(ln){var cn,dn=0;_AdtsStream.prototype.init.call(this),this.skipWarn_=function(pn,vn){this.trigger("log",{level:"warn",message:"adts skiping bytes "+pn+" to "+vn+" in frame "+dn+" outside syncword"})},this.push=function(pn){var vn=0,Sn,En,Cn,Pn,Rn;if(ln||(dn=0),pn.type==="audio"){cn&&cn.length?(Cn=cn,cn=new Uint8Array(Cn.byteLength+pn.data.byteLength),cn.set(Cn),cn.set(pn.data,Cn.byteLength)):cn=pn.data;for(var Ln;vn+7<cn.length;){if(cn[vn]!==255||(cn[vn+1]&246)!==240){typeof Ln!="number"&&(Ln=vn),vn++;continue}if(typeof Ln=="number"&&(this.skipWarn_(Ln,vn),Ln=null),En=(~cn[vn+1]&1)*2,Sn=(cn[vn+3]&3)<<11|cn[vn+4]<<3|(cn[vn+5]&224)>>5,Pn=((cn[vn+6]&3)+1)*1024,Rn=Pn*ONE_SECOND_IN_TS$4/ADTS_SAMPLING_FREQUENCIES$1[(cn[vn+2]&60)>>>2],cn.byteLength-vn<Sn)break;this.trigger("data",{pts:pn.pts+dn*Rn,dts:pn.dts+dn*Rn,sampleCount:Pn,audioobjecttype:(cn[vn+2]>>>6&3)+1,channelcount:(cn[vn+2]&1)<<2|(cn[vn+3]&192)>>>6,samplerate:ADTS_SAMPLING_FREQUENCIES$1[(cn[vn+2]&60)>>>2],samplingfrequencyindex:(cn[vn+2]&60)>>>2,samplesize:16,data:cn.subarray(vn+7+En,vn+Sn)}),dn++,vn+=Sn}typeof Ln=="number"&&(this.skipWarn_(Ln,vn),Ln=null),cn=cn.subarray(vn)}},this.flush=function(){dn=0,this.trigger("done")},this.reset=function(){cn=void 0,this.trigger("reset")},this.endTimeline=function(){cn=void 0,this.trigger("endedtimeline")}};_AdtsStream.prototype=new Stream$c;var adts=_AdtsStream,ExpGolomb$1;ExpGolomb$1=function sn(ln){var cn=ln.byteLength,dn=0,pn=0;this.length=function(){return 8*cn},this.bitsAvailable=function(){return 8*cn+pn},this.loadWord=function(){var vn=ln.byteLength-cn,Sn=new Uint8Array(4),En=Math.min(4,cn);if(En===0)throw new Error("no bytes available");Sn.set(ln.subarray(vn,vn+En)),dn=new DataView(Sn.buffer).getUint32(0),pn=En*8,cn-=En},this.skipBits=function(vn){var Sn;pn>vn?(dn<<=vn,pn-=vn):(vn-=pn,Sn=Math.floor(vn/8),vn-=Sn*8,cn-=Sn,this.loadWord(),dn<<=vn,pn-=vn)},this.readBits=function(vn){var Sn=Math.min(pn,vn),En=dn>>>32-Sn;return pn-=Sn,pn>0?dn<<=Sn:cn>0&&this.loadWord(),Sn=vn-Sn,Sn>0?En<<Sn|this.readBits(Sn):En},this.skipLeadingZeros=function(){var vn;for(vn=0;vn<pn;++vn)if(dn&2147483648>>>vn)return dn<<=vn,pn-=vn,vn;return this.loadWord(),vn+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var vn=this.skipLeadingZeros();return this.readBits(vn+1)-1},this.readExpGolomb=function(){var vn=this.readUnsignedExpGolomb();return 1&vn?1+vn>>>1:-1*(vn>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var expGolomb=ExpGolomb$1,Stream$b=stream,ExpGolomb=expGolomb,_H264Stream,_NalByteStream,PROFILES_WITH_OPTIONAL_SPS_DATA;_NalByteStream=function sn(){var ln=0,cn,dn;_NalByteStream.prototype.init.call(this),this.push=function(pn){var vn;dn?(vn=new Uint8Array(dn.byteLength+pn.data.byteLength),vn.set(dn),vn.set(pn.data,dn.byteLength),dn=vn):dn=pn.data;for(var Sn=dn.byteLength;ln<Sn-3;ln++)if(dn[ln+2]===1){cn=ln+5;break}for(;cn<Sn;)switch(dn[cn]){case 0:if(dn[cn-1]!==0){cn+=2;break}else if(dn[cn-2]!==0){cn++;break}ln+3!==cn-2&&this.trigger("data",dn.subarray(ln+3,cn-2));do cn++;while(dn[cn]!==1&&cn<Sn);ln=cn-2,cn+=3;break;case 1:if(dn[cn-1]!==0||dn[cn-2]!==0){cn+=3;break}this.trigger("data",dn.subarray(ln+3,cn-2)),ln=cn-2,cn+=3;break;default:cn+=3;break}dn=dn.subarray(ln),cn-=ln,ln=0},this.reset=function(){dn=null,ln=0,this.trigger("reset")},this.flush=function(){dn&&dn.byteLength>3&&this.trigger("data",dn.subarray(ln+3)),dn=null,ln=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}};_NalByteStream.prototype=new Stream$b;PROFILES_WITH_OPTIONAL_SPS_DATA={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0};_H264Stream=function sn(){var ln=new _NalByteStream,cn,dn,pn,vn,Sn,En,Cn;_H264Stream.prototype.init.call(this),cn=this,this.push=function(Pn){Pn.type==="video"&&(dn=Pn.trackId,pn=Pn.pts,vn=Pn.dts,ln.push(Pn))},ln.on("data",function(Pn){var Rn={trackId:dn,pts:pn,dts:vn,data:Pn,nalUnitTypeCode:Pn[0]&31};switch(Rn.nalUnitTypeCode){case 5:Rn.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:Rn.nalUnitType="sei_rbsp",Rn.escapedRBSP=Sn(Pn.subarray(1));break;case 7:Rn.nalUnitType="seq_parameter_set_rbsp",Rn.escapedRBSP=Sn(Pn.subarray(1)),Rn.config=En(Rn.escapedRBSP);break;case 8:Rn.nalUnitType="pic_parameter_set_rbsp";break;case 9:Rn.nalUnitType="access_unit_delimiter_rbsp";break}cn.trigger("data",Rn)}),ln.on("done",function(){cn.trigger("done")}),ln.on("partialdone",function(){cn.trigger("partialdone")}),ln.on("reset",function(){cn.trigger("reset")}),ln.on("endedtimeline",function(){cn.trigger("endedtimeline")}),this.flush=function(){ln.flush()},this.partialFlush=function(){ln.partialFlush()},this.reset=function(){ln.reset()},this.endTimeline=function(){ln.endTimeline()},Cn=function(Rn,Ln){var Fn=8,Gn=8,Dn,Kn;for(Dn=0;Dn<Rn;Dn++)Gn!==0&&(Kn=Ln.readExpGolomb(),Gn=(Fn+Kn+256)%256),Fn=Gn===0?Fn:Gn},Sn=function(Rn){for(var Ln=Rn.byteLength,Fn=[],Gn=1,Dn,Kn;Gn<Ln-2;)Rn[Gn]===0&&Rn[Gn+1]===0&&Rn[Gn+2]===3?(Fn.push(Gn+2),Gn+=2):Gn++;if(Fn.length===0)return Rn;Dn=Ln-Fn.length,Kn=new Uint8Array(Dn);var qn=0;for(Gn=0;Gn<Dn;qn++,Gn++)qn===Fn[0]&&(qn++,Fn.shift()),Kn[Gn]=Rn[qn];return Kn},En=function(Rn){var Ln=0,Fn=0,Gn=0,Dn=0,Kn,qn,Zn,Yn,Jn,rs,us,as,cs,_s,Es,Qn=[1,1],ms,$s;if(Kn=new ExpGolomb(Rn),qn=Kn.readUnsignedByte(),Yn=Kn.readUnsignedByte(),Zn=Kn.readUnsignedByte(),Kn.skipUnsignedExpGolomb(),PROFILES_WITH_OPTIONAL_SPS_DATA[qn]&&(Jn=Kn.readUnsignedExpGolomb(),Jn===3&&Kn.skipBits(1),Kn.skipUnsignedExpGolomb(),Kn.skipUnsignedExpGolomb(),Kn.skipBits(1),Kn.readBoolean()))for(Es=Jn!==3?8:12,$s=0;$s<Es;$s++)Kn.readBoolean()&&($s<6?Cn(16,Kn):Cn(64,Kn));if(Kn.skipUnsignedExpGolomb(),rs=Kn.readUnsignedExpGolomb(),rs===0)Kn.readUnsignedExpGolomb();else if(rs===1)for(Kn.skipBits(1),Kn.skipExpGolomb(),Kn.skipExpGolomb(),us=Kn.readUnsignedExpGolomb(),$s=0;$s<us;$s++)Kn.skipExpGolomb();if(Kn.skipUnsignedExpGolomb(),Kn.skipBits(1),as=Kn.readUnsignedExpGolomb(),cs=Kn.readUnsignedExpGolomb(),_s=Kn.readBits(1),_s===0&&Kn.skipBits(1),Kn.skipBits(1),Kn.readBoolean()&&(Ln=Kn.readUnsignedExpGolomb(),Fn=Kn.readUnsignedExpGolomb(),Gn=Kn.readUnsignedExpGolomb(),Dn=Kn.readUnsignedExpGolomb()),Kn.readBoolean()&&Kn.readBoolean()){switch(ms=Kn.readUnsignedByte(),ms){case 1:Qn=[1,1];break;case 2:Qn=[12,11];break;case 3:Qn=[10,11];break;case 4:Qn=[16,11];break;case 5:Qn=[40,33];break;case 6:Qn=[24,11];break;case 7:Qn=[20,11];break;case 8:Qn=[32,11];break;case 9:Qn=[80,33];break;case 10:Qn=[18,11];break;case 11:Qn=[15,11];break;case 12:Qn=[64,33];break;case 13:Qn=[160,99];break;case 14:Qn=[4,3];break;case 15:Qn=[3,2];break;case 16:Qn=[2,1];break;case 255:{Qn=[Kn.readUnsignedByte()<<8|Kn.readUnsignedByte(),Kn.readUnsignedByte()<<8|Kn.readUnsignedByte()];break}}Qn&&Qn[0]/Qn[1]}return{profileIdc:qn,levelIdc:Zn,profileCompatibility:Yn,width:(as+1)*16-Ln*2-Fn*2,height:(2-_s)*(cs+1)*16-Gn*2-Dn*2,sarRatio:Qn}}};_H264Stream.prototype=new Stream$b;var h264={H264Stream:_H264Stream,NalByteStream:_NalByteStream},codecs$1={Adts:adts,h264},MAX_UINT32$1=Math.pow(2,32),getUint64$4=function sn(ln){var cn=new DataView(ln.buffer,ln.byteOffset,ln.byteLength),dn;return cn.getBigUint64?(dn=cn.getBigUint64(0),dn<Number.MAX_SAFE_INTEGER?Number(dn):dn):cn.getUint32(0)*MAX_UINT32$1+cn.getUint32(4)},numbers={getUint64:getUint64$4,MAX_UINT32:MAX_UINT32$1},MAX_UINT32=numbers.MAX_UINT32,box,dinf,esds,ftyp,mdat,mfhd,minf,moof,moov,mvex,mvhd,trak,tkhd,mdia,mdhd,hdlr,sdtp,stbl,stsd,traf,trex,trun$1,types,MAJOR_BRAND,MINOR_VERSION,AVC1_BRAND,VIDEO_HDLR,AUDIO_HDLR,HDLR_TYPES,VMHD,SMHD,DREF,STCO,STSC,STSZ,STTS;(function(){var sn;if(types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(sn in types)types.hasOwnProperty(sn)&&(types[sn]=[sn.charCodeAt(0),sn.charCodeAt(1),sn.charCodeAt(2),sn.charCodeAt(3)]);MAJOR_BRAND=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),AVC1_BRAND=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),MINOR_VERSION=new Uint8Array([0,0,0,1]),VIDEO_HDLR=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),AUDIO_HDLR=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),HDLR_TYPES={video:VIDEO_HDLR,audio:AUDIO_HDLR},DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),STCO=new Uint8Array([0,0,0,0,0,0,0,0]),STSC=STCO,STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),STTS=STCO,VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})();box=function sn(ln){var cn=[],dn=0,pn,vn,Sn;for(pn=1;pn<arguments.length;pn++)cn.push(arguments[pn]);for(pn=cn.length;pn--;)dn+=cn[pn].byteLength;for(vn=new Uint8Array(dn+8),Sn=new DataView(vn.buffer,vn.byteOffset,vn.byteLength),Sn.setUint32(0,vn.byteLength),vn.set(ln,4),pn=0,dn=8;pn<cn.length;pn++)vn.set(cn[pn],dn),dn+=cn[pn].byteLength;return vn};dinf=function sn(){return box(types.dinf,box(types.dref,DREF))};esds=function sn(ln){return box(types.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,ln.audioobjecttype<<3|ln.samplingfrequencyindex>>>1,ln.samplingfrequencyindex<<7|ln.channelcount<<3,6,1,2]))};ftyp=function sn(){return box(types.ftyp,MAJOR_BRAND,MINOR_VERSION,MAJOR_BRAND,AVC1_BRAND)};hdlr=function sn(ln){return box(types.hdlr,HDLR_TYPES[ln])};mdat=function sn(ln){return box(types.mdat,ln)};mdhd=function sn(ln){var cn=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,ln.duration>>>24&255,ln.duration>>>16&255,ln.duration>>>8&255,ln.duration&255,85,196,0,0]);return ln.samplerate&&(cn[12]=ln.samplerate>>>24&255,cn[13]=ln.samplerate>>>16&255,cn[14]=ln.samplerate>>>8&255,cn[15]=ln.samplerate&255),box(types.mdhd,cn)};mdia=function sn(ln){return box(types.mdia,mdhd(ln),hdlr(ln.type),minf(ln))};mfhd=function sn(ln){return box(types.mfhd,new Uint8Array([0,0,0,0,(ln&4278190080)>>24,(ln&16711680)>>16,(ln&65280)>>8,ln&255]))};minf=function sn(ln){return box(types.minf,ln.type==="video"?box(types.vmhd,VMHD):box(types.smhd,SMHD),dinf(),stbl(ln))};moof=function sn(ln,cn){for(var dn=[],pn=cn.length;pn--;)dn[pn]=traf(cn[pn]);return box.apply(null,[types.moof,mfhd(ln)].concat(dn))};moov=function sn(ln){for(var cn=ln.length,dn=[];cn--;)dn[cn]=trak(ln[cn]);return box.apply(null,[types.moov,mvhd(4294967295)].concat(dn).concat(mvex(ln)))};mvex=function sn(ln){for(var cn=ln.length,dn=[];cn--;)dn[cn]=trex(ln[cn]);return box.apply(null,[types.mvex].concat(dn))};mvhd=function sn(ln){var cn=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(ln&4278190080)>>24,(ln&16711680)>>16,(ln&65280)>>8,ln&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return box(types.mvhd,cn)};sdtp=function sn(ln){var cn=ln.samples||[],dn=new Uint8Array(4+cn.length),pn,vn;for(vn=0;vn<cn.length;vn++)pn=cn[vn].flags,dn[vn+4]=pn.dependsOn<<4|pn.isDependedOn<<2|pn.hasRedundancy;return box(types.sdtp,dn)};stbl=function sn(ln){return box(types.stbl,stsd(ln),box(types.stts,STTS),box(types.stsc,STSC),box(types.stsz,STSZ),box(types.stco,STCO))};(function(){var sn,ln;stsd=function(dn){return box(types.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),dn.type==="video"?sn(dn):ln(dn))},sn=function(dn){var pn=dn.sps||[],vn=dn.pps||[],Sn=[],En=[],Cn,Pn;for(Cn=0;Cn<pn.length;Cn++)Sn.push((pn[Cn].byteLength&65280)>>>8),Sn.push(pn[Cn].byteLength&255),Sn=Sn.concat(Array.prototype.slice.call(pn[Cn]));for(Cn=0;Cn<vn.length;Cn++)En.push((vn[Cn].byteLength&65280)>>>8),En.push(vn[Cn].byteLength&255),En=En.concat(Array.prototype.slice.call(vn[Cn]));if(Pn=[types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(dn.width&65280)>>8,dn.width&255,(dn.height&65280)>>8,dn.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),box(types.avcC,new Uint8Array([1,dn.profileIdc,dn.profileCompatibility,dn.levelIdc,255].concat([pn.length],Sn,[vn.length],En))),box(types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],dn.sarRatio){var Rn=dn.sarRatio[0],Ln=dn.sarRatio[1];Pn.push(box(types.pasp,new Uint8Array([(Rn&4278190080)>>24,(Rn&16711680)>>16,(Rn&65280)>>8,Rn&255,(Ln&4278190080)>>24,(Ln&16711680)>>16,(Ln&65280)>>8,Ln&255])))}return box.apply(null,Pn)},ln=function(dn){return box(types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(dn.channelcount&65280)>>8,dn.channelcount&255,(dn.samplesize&65280)>>8,dn.samplesize&255,0,0,0,0,(dn.samplerate&65280)>>8,dn.samplerate&255,0,0]),esds(dn))}})();tkhd=function sn(ln){var cn=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(ln.id&4278190080)>>24,(ln.id&16711680)>>16,(ln.id&65280)>>8,ln.id&255,0,0,0,0,(ln.duration&4278190080)>>24,(ln.duration&16711680)>>16,(ln.duration&65280)>>8,ln.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(ln.width&65280)>>8,ln.width&255,0,0,(ln.height&65280)>>8,ln.height&255,0,0]);return box(types.tkhd,cn)};traf=function sn(ln){var cn,dn,pn,vn,Sn,En,Cn;return cn=box(types.tfhd,new Uint8Array([0,0,0,58,(ln.id&4278190080)>>24,(ln.id&16711680)>>16,(ln.id&65280)>>8,ln.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),En=Math.floor(ln.baseMediaDecodeTime/MAX_UINT32),Cn=Math.floor(ln.baseMediaDecodeTime%MAX_UINT32),dn=box(types.tfdt,new Uint8Array([1,0,0,0,En>>>24&255,En>>>16&255,En>>>8&255,En&255,Cn>>>24&255,Cn>>>16&255,Cn>>>8&255,Cn&255])),Sn=32+20+8+16+8+8,ln.type==="audio"?(pn=trun$1(ln,Sn),box(types.traf,cn,dn,pn)):(vn=sdtp(ln),pn=trun$1(ln,vn.length+Sn),box(types.traf,cn,dn,pn,vn))};trak=function sn(ln){return ln.duration=ln.duration||4294967295,box(types.trak,tkhd(ln),mdia(ln))};trex=function sn(ln){var cn=new Uint8Array([0,0,0,0,(ln.id&4278190080)>>24,(ln.id&16711680)>>16,(ln.id&65280)>>8,ln.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return ln.type!=="video"&&(cn[cn.length-1]=0),box(types.trex,cn)};(function(){var sn,ln,cn;cn=function(pn,vn){var Sn=0,En=0,Cn=0,Pn=0;return pn.length&&(pn[0].duration!==void 0&&(Sn=1),pn[0].size!==void 0&&(En=2),pn[0].flags!==void 0&&(Cn=4),pn[0].compositionTimeOffset!==void 0&&(Pn=8)),[0,0,Sn|En|Cn|Pn,1,(pn.length&4278190080)>>>24,(pn.length&16711680)>>>16,(pn.length&65280)>>>8,pn.length&255,(vn&4278190080)>>>24,(vn&16711680)>>>16,(vn&65280)>>>8,vn&255]},ln=function(pn,vn){var Sn,En,Cn,Pn,Rn,Ln;for(Pn=pn.samples||[],vn+=8+12+16*Pn.length,Cn=cn(Pn,vn),En=new Uint8Array(Cn.length+Pn.length*16),En.set(Cn),Sn=Cn.length,Ln=0;Ln<Pn.length;Ln++)Rn=Pn[Ln],En[Sn++]=(Rn.duration&4278190080)>>>24,En[Sn++]=(Rn.duration&16711680)>>>16,En[Sn++]=(Rn.duration&65280)>>>8,En[Sn++]=Rn.duration&255,En[Sn++]=(Rn.size&4278190080)>>>24,En[Sn++]=(Rn.size&16711680)>>>16,En[Sn++]=(Rn.size&65280)>>>8,En[Sn++]=Rn.size&255,En[Sn++]=Rn.flags.isLeading<<2|Rn.flags.dependsOn,En[Sn++]=Rn.flags.isDependedOn<<6|Rn.flags.hasRedundancy<<4|Rn.flags.paddingValue<<1|Rn.flags.isNonSyncSample,En[Sn++]=Rn.flags.degradationPriority&240<<8,En[Sn++]=Rn.flags.degradationPriority&15,En[Sn++]=(Rn.compositionTimeOffset&4278190080)>>>24,En[Sn++]=(Rn.compositionTimeOffset&16711680)>>>16,En[Sn++]=(Rn.compositionTimeOffset&65280)>>>8,En[Sn++]=Rn.compositionTimeOffset&255;return box(types.trun,En)},sn=function(pn,vn){var Sn,En,Cn,Pn,Rn,Ln;for(Pn=pn.samples||[],vn+=8+12+8*Pn.length,Cn=cn(Pn,vn),Sn=new Uint8Array(Cn.length+Pn.length*8),Sn.set(Cn),En=Cn.length,Ln=0;Ln<Pn.length;Ln++)Rn=Pn[Ln],Sn[En++]=(Rn.duration&4278190080)>>>24,Sn[En++]=(Rn.duration&16711680)>>>16,Sn[En++]=(Rn.duration&65280)>>>8,Sn[En++]=Rn.duration&255,Sn[En++]=(Rn.size&4278190080)>>>24,Sn[En++]=(Rn.size&16711680)>>>16,Sn[En++]=(Rn.size&65280)>>>8,Sn[En++]=Rn.size&255;return box(types.trun,Sn)},trun$1=function(pn,vn){return pn.type==="audio"?sn(pn,vn):ln(pn,vn)}})();var mp4Generator={ftyp,mdat,moof,moov,initSegment:function sn(ln){var cn=ftyp(),dn=moov(ln),pn;return pn=new Uint8Array(cn.byteLength+dn.byteLength),pn.set(cn),pn.set(dn,cn.byteLength),pn}},toUnsigned$3=function sn(ln){return ln>>>0},toHexString$1=function sn(ln){return("00"+ln.toString(16)).slice(-2)},bin={toUnsigned:toUnsigned$3,toHexString:toHexString$1},parseType$5=function sn(ln){var cn="";return cn+=String.fromCharCode(ln[0]),cn+=String.fromCharCode(ln[1]),cn+=String.fromCharCode(ln[2]),cn+=String.fromCharCode(ln[3]),cn},parseType_1=parseType$5,toUnsigned$2=bin.toUnsigned,parseType$4=parseType_1,findBox$3=function sn(ln,cn){var dn=[],pn,vn,Sn,En,Cn;if(!cn.length)return null;for(pn=0;pn<ln.byteLength;)vn=toUnsigned$2(ln[pn]<<24|ln[pn+1]<<16|ln[pn+2]<<8|ln[pn+3]),Sn=parseType$4(ln.subarray(pn+4,pn+8)),En=vn>1?pn+vn:ln.byteLength,Sn===cn[0]&&(cn.length===1?dn.push(ln.subarray(pn+8,En)):(Cn=sn(ln.subarray(pn+8,En),cn.slice(1)),Cn.length&&(dn=dn.concat(Cn)))),pn=En;return dn},findBox_1=findBox$3,uint8ToCString$1=function sn(ln){for(var cn=0,dn=String.fromCharCode(ln[cn]),pn="";dn!=="\0";)pn+=dn,cn++,dn=String.fromCharCode(ln[cn]);return pn+=dn,pn},string={uint8ToCString:uint8ToCString$1},uint8ToCString=string.uint8ToCString,getUint64$3=numbers.getUint64,parseEmsgBox=function sn(ln){var cn=4,dn=ln[0],pn,vn,Sn,En,Cn,Pn,Rn,Ln;if(dn===0){pn=uint8ToCString(ln.subarray(cn)),cn+=pn.length,vn=uint8ToCString(ln.subarray(cn)),cn+=vn.length;var Fn=new DataView(ln.buffer);Sn=Fn.getUint32(cn),cn+=4,Cn=Fn.getUint32(cn),cn+=4,Pn=Fn.getUint32(cn),cn+=4,Rn=Fn.getUint32(cn),cn+=4}else if(dn===1){var Fn=new DataView(ln.buffer);Sn=Fn.getUint32(cn),cn+=4,En=getUint64$3(ln.subarray(cn)),cn+=8,Pn=Fn.getUint32(cn),cn+=4,Rn=Fn.getUint32(cn),cn+=4,pn=uint8ToCString(ln.subarray(cn)),cn+=pn.length,vn=uint8ToCString(ln.subarray(cn)),cn+=vn.length}Ln=new Uint8Array(ln.subarray(cn,ln.byteLength));var Gn={scheme_id_uri:pn,value:vn,timescale:Sn||1,presentation_time:En,presentation_time_delta:Cn,event_duration:Pn,id:Rn,message_data:Ln};return isValidEmsgBox(dn,Gn)?Gn:void 0},scaleTime=function sn(ln,cn,dn,pn){return ln||ln===0?ln/cn:pn+dn/cn},isValidEmsgBox=function sn(ln,cn){var dn=cn.scheme_id_uri!=="\0",pn=ln===0&&isDefined(cn.presentation_time_delta)&&dn,vn=ln===1&&isDefined(cn.presentation_time)&&dn;return!(ln>1)&&pn||vn},isDefined=function sn(ln){return ln!==void 0||ln!==null},emsg$1={parseEmsgBox,scaleTime},tfhd=function sn(ln){var cn=new DataView(ln.buffer,ln.byteOffset,ln.byteLength),dn={version:ln[0],flags:new Uint8Array(ln.subarray(1,4)),trackId:cn.getUint32(4)},pn=dn.flags[2]&1,vn=dn.flags[2]&2,Sn=dn.flags[2]&8,En=dn.flags[2]&16,Cn=dn.flags[2]&32,Pn=dn.flags[0]&65536,Rn=dn.flags[0]&131072,Ln;return Ln=8,pn&&(Ln+=4,dn.baseDataOffset=cn.getUint32(12),Ln+=4),vn&&(dn.sampleDescriptionIndex=cn.getUint32(Ln),Ln+=4),Sn&&(dn.defaultSampleDuration=cn.getUint32(Ln),Ln+=4),En&&(dn.defaultSampleSize=cn.getUint32(Ln),Ln+=4),Cn&&(dn.defaultSampleFlags=cn.getUint32(Ln)),Pn&&(dn.durationIsEmpty=!0),!pn&&Rn&&(dn.baseDataOffsetIsMoof=!0),dn},parseTfhd$2=tfhd,parseSampleFlags$1=function sn(ln){return{isLeading:(ln[0]&12)>>>2,dependsOn:ln[0]&3,isDependedOn:(ln[1]&192)>>>6,hasRedundancy:(ln[1]&48)>>>4,paddingValue:(ln[1]&14)>>>1,isNonSyncSample:ln[1]&1,degradationPriority:ln[2]<<8|ln[3]}},parseSampleFlags_1=parseSampleFlags$1,parseSampleFlags=parseSampleFlags_1,trun=function sn(ln){var cn={version:ln[0],flags:new Uint8Array(ln.subarray(1,4)),samples:[]},dn=new DataView(ln.buffer,ln.byteOffset,ln.byteLength),pn=cn.flags[2]&1,vn=cn.flags[2]&4,Sn=cn.flags[1]&1,En=cn.flags[1]&2,Cn=cn.flags[1]&4,Pn=cn.flags[1]&8,Rn=dn.getUint32(4),Ln=8,Fn;for(pn&&(cn.dataOffset=dn.getInt32(Ln),Ln+=4),vn&&Rn&&(Fn={flags:parseSampleFlags(ln.subarray(Ln,Ln+4))},Ln+=4,Sn&&(Fn.duration=dn.getUint32(Ln),Ln+=4),En&&(Fn.size=dn.getUint32(Ln),Ln+=4),Pn&&(cn.version===1?Fn.compositionTimeOffset=dn.getInt32(Ln):Fn.compositionTimeOffset=dn.getUint32(Ln),Ln+=4),cn.samples.push(Fn),Rn--);Rn--;)Fn={},Sn&&(Fn.duration=dn.getUint32(Ln),Ln+=4),En&&(Fn.size=dn.getUint32(Ln),Ln+=4),Cn&&(Fn.flags=parseSampleFlags(ln.subarray(Ln,Ln+4)),Ln+=4),Pn&&(cn.version===1?Fn.compositionTimeOffset=dn.getInt32(Ln):Fn.compositionTimeOffset=dn.getUint32(Ln),Ln+=4),cn.samples.push(Fn);return cn},parseTrun$2=trun,toUnsigned$1=bin.toUnsigned,getUint64$2=numbers.getUint64,tfdt=function sn(ln){var cn={version:ln[0],flags:new Uint8Array(ln.subarray(1,4))};return cn.version===1?cn.baseMediaDecodeTime=getUint64$2(ln.subarray(4)):cn.baseMediaDecodeTime=toUnsigned$1(ln[4]<<24|ln[5]<<16|ln[6]<<8|ln[7]),cn},parseTfdt$2=tfdt,win;typeof window<"u"?win=window:typeof commonjsGlobal$1<"u"?win=commonjsGlobal$1:typeof self<"u"?win=self:win={};var window_1=win,typedArrayIndexOf$1=function sn(ln,cn,dn){if(!ln)return-1;for(var pn=dn;pn<ln.length;pn++)if(ln[pn]===cn)return pn;return-1},typedArray={typedArrayIndexOf:typedArrayIndexOf$1},typedArrayIndexOf=typedArray.typedArrayIndexOf,textEncodingDescriptionByte={Iso88591:0,Utf16:1,Utf16be:2,Utf8:3},percentEncode$1=function sn(ln,cn,dn){var pn,vn="";for(pn=cn;pn<dn;pn++)vn+="%"+("00"+ln[pn].toString(16)).slice(-2);return vn},parseUtf8=function sn(ln,cn,dn){return decodeURIComponent(percentEncode$1(ln,cn,dn))},parseIso88591$1=function sn(ln,cn,dn){return unescape(percentEncode$1(ln,cn,dn))},parseSyncSafeInteger$1=function sn(ln){return ln[0]<<21|ln[1]<<14|ln[2]<<7|ln[3]},frameParsers={APIC:function sn(ln){var cn=1,dn,pn,vn="-->";ln.data[0]===textEncodingDescriptionByte.Utf8&&(dn=typedArrayIndexOf(ln.data,0,cn),!(dn<0)&&(ln.mimeType=parseIso88591$1(ln.data,cn,dn),cn=dn+1,ln.pictureType=ln.data[cn],cn++,pn=typedArrayIndexOf(ln.data,0,cn),!(pn<0)&&(ln.description=parseUtf8(ln.data,cn,pn),cn=pn+1,ln.mimeType===vn?ln.url=parseIso88591$1(ln.data,cn,ln.data.length):ln.pictureData=ln.data.subarray(cn,ln.data.length))))},"T*":function sn(ln){ln.data[0]===textEncodingDescriptionByte.Utf8&&(ln.value=parseUtf8(ln.data,1,ln.data.length).replace(/\0*$/,""),ln.values=ln.value.split("\0"))},TXXX:function sn(ln){var cn;ln.data[0]===textEncodingDescriptionByte.Utf8&&(cn=typedArrayIndexOf(ln.data,0,1),cn!==-1&&(ln.description=parseUtf8(ln.data,1,cn),ln.value=parseUtf8(ln.data,cn+1,ln.data.length).replace(/\0*$/,""),ln.data=ln.value))},"W*":function sn(ln){ln.url=parseIso88591$1(ln.data,0,ln.data.length).replace(/\0.*$/,"")},WXXX:function sn(ln){var cn;ln.data[0]===textEncodingDescriptionByte.Utf8&&(cn=typedArrayIndexOf(ln.data,0,1),cn!==-1&&(ln.description=parseUtf8(ln.data,1,cn),ln.url=parseIso88591$1(ln.data,cn+1,ln.data.length).replace(/\0.*$/,"")))},PRIV:function sn(ln){var cn;for(cn=0;cn<ln.data.length;cn++)if(ln.data[cn]===0){ln.owner=parseIso88591$1(ln.data,0,cn);break}ln.privateData=ln.data.subarray(cn+1),ln.data=ln.privateData}},parseId3Frames$1=function sn(ln){var cn,dn,pn=10,vn=0,Sn=[];if(!(ln.length<10||ln[0]!=="I".charCodeAt(0)||ln[1]!=="D".charCodeAt(0)||ln[2]!=="3".charCodeAt(0))){vn=parseSyncSafeInteger$1(ln.subarray(6,10)),vn+=10;var En=ln[5]&64;En&&(pn+=4,pn+=parseSyncSafeInteger$1(ln.subarray(10,14)),vn-=parseSyncSafeInteger$1(ln.subarray(16,20)));do{if(cn=parseSyncSafeInteger$1(ln.subarray(pn+4,pn+8)),cn<1)break;dn=String.fromCharCode(ln[pn],ln[pn+1],ln[pn+2],ln[pn+3]);var Cn={id:dn,data:ln.subarray(pn+10,pn+cn+10)};Cn.key=Cn.id,frameParsers[Cn.id]?frameParsers[Cn.id](Cn):Cn.id[0]==="T"?frameParsers["T*"](Cn):Cn.id[0]==="W"&&frameParsers["W*"](Cn),Sn.push(Cn),pn+=10,pn+=cn}while(pn<vn);return Sn}},parseId3={parseId3Frames:parseId3Frames$1,parseSyncSafeInteger:parseSyncSafeInteger$1,frameParsers},toUnsigned=bin.toUnsigned,toHexString=bin.toHexString,findBox$2=findBox_1,parseType$3=parseType_1,emsg=emsg$1,parseTfhd$1=parseTfhd$2,parseTrun$1=parseTrun$2,parseTfdt$1=parseTfdt$2,getUint64$1=numbers.getUint64,timescale,startTime,compositionStartTime,getVideoTrackIds,getTracks,getTimescaleFromMediaHeader,getEmsgID3,window$2=window_1,parseId3Frames=parseId3.parseId3Frames;timescale=function sn(ln){var cn={},dn=findBox$2(ln,["moov","trak"]);return dn.reduce(function(pn,vn){var Sn,En,Cn,Pn,Rn;return Sn=findBox$2(vn,["tkhd"])[0],!Sn||(En=Sn[0],Cn=En===0?12:20,Pn=toUnsigned(Sn[Cn]<<24|Sn[Cn+1]<<16|Sn[Cn+2]<<8|Sn[Cn+3]),Rn=findBox$2(vn,["mdia","mdhd"])[0],!Rn)?null:(En=Rn[0],Cn=En===0?12:20,pn[Pn]=toUnsigned(Rn[Cn]<<24|Rn[Cn+1]<<16|Rn[Cn+2]<<8|Rn[Cn+3]),pn)},cn)};startTime=function sn(ln,cn){var dn;dn=findBox$2(cn,["moof","traf"]);var pn=dn.reduce(function(vn,Sn){var En=findBox$2(Sn,["tfhd"])[0],Cn=toUnsigned(En[4]<<24|En[5]<<16|En[6]<<8|En[7]),Pn=ln[Cn]||9e4,Rn=findBox$2(Sn,["tfdt"])[0],Ln=new DataView(Rn.buffer,Rn.byteOffset,Rn.byteLength),Fn;Rn[0]===1?Fn=getUint64$1(Rn.subarray(4,12)):Fn=Ln.getUint32(4);var Gn;return typeof Fn=="bigint"?Gn=Fn/window$2.BigInt(Pn):typeof Fn=="number"&&!isNaN(Fn)&&(Gn=Fn/Pn),Gn<Number.MAX_SAFE_INTEGER&&(Gn=Number(Gn)),Gn<vn&&(vn=Gn),vn},1/0);return typeof pn=="bigint"||isFinite(pn)?pn:0};compositionStartTime=function sn(ln,cn){var dn=findBox$2(cn,["moof","traf"]),pn=0,vn=0,Sn;if(dn&&dn.length){var En=findBox$2(dn[0],["tfhd"])[0],Cn=findBox$2(dn[0],["trun"])[0],Pn=findBox$2(dn[0],["tfdt"])[0];if(En){var Rn=parseTfhd$1(En);Sn=Rn.trackId}if(Pn){var Ln=parseTfdt$1(Pn);pn=Ln.baseMediaDecodeTime}if(Cn){var Fn=parseTrun$1(Cn);Fn.samples&&Fn.samples.length&&(vn=Fn.samples[0].compositionTimeOffset||0)}}var Gn=ln[Sn]||9e4;typeof pn=="bigint"&&(vn=window$2.BigInt(vn),Gn=window$2.BigInt(Gn));var Dn=(pn+vn)/Gn;return typeof Dn=="bigint"&&Dn<Number.MAX_SAFE_INTEGER&&(Dn=Number(Dn)),Dn};getVideoTrackIds=function sn(ln){var cn=findBox$2(ln,["moov","trak"]),dn=[];return cn.forEach(function(pn){var vn=findBox$2(pn,["mdia","hdlr"]),Sn=findBox$2(pn,["tkhd"]);vn.forEach(function(En,Cn){var Pn=parseType$3(En.subarray(8,12)),Rn=Sn[Cn],Ln,Fn,Gn;Pn==="vide"&&(Ln=new DataView(Rn.buffer,Rn.byteOffset,Rn.byteLength),Fn=Ln.getUint8(0),Gn=Fn===0?Ln.getUint32(12):Ln.getUint32(20),dn.push(Gn))})}),dn};getTimescaleFromMediaHeader=function sn(ln){var cn=ln[0],dn=cn===0?12:20;return toUnsigned(ln[dn]<<24|ln[dn+1]<<16|ln[dn+2]<<8|ln[dn+3])};getTracks=function sn(ln){var cn=findBox$2(ln,["moov","trak"]),dn=[];return cn.forEach(function(pn){var vn={},Sn=findBox$2(pn,["tkhd"])[0],En,Cn;Sn&&(En=new DataView(Sn.buffer,Sn.byteOffset,Sn.byteLength),Cn=En.getUint8(0),vn.id=Cn===0?En.getUint32(12):En.getUint32(20));var Pn=findBox$2(pn,["mdia","hdlr"])[0];if(Pn){var Rn=parseType$3(Pn.subarray(8,12));Rn==="vide"?vn.type="video":Rn==="soun"?vn.type="audio":vn.type=Rn}var Ln=findBox$2(pn,["mdia","minf","stbl","stsd"])[0];if(Ln){var Fn=Ln.subarray(8);vn.codec=parseType$3(Fn.subarray(4,8));var Gn=findBox$2(Fn,[vn.codec])[0],Dn,Kn;Gn&&(/^[asm]vc[1-9]$/i.test(vn.codec)?(Dn=Gn.subarray(78),Kn=parseType$3(Dn.subarray(4,8)),Kn==="avcC"&&Dn.length>11?(vn.codec+=".",vn.codec+=toHexString(Dn[9]),vn.codec+=toHexString(Dn[10]),vn.codec+=toHexString(Dn[11])):vn.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(vn.codec)?(Dn=Gn.subarray(28),Kn=parseType$3(Dn.subarray(4,8)),Kn==="esds"&&Dn.length>20&&Dn[19]!==0?(vn.codec+="."+toHexString(Dn[19]),vn.codec+="."+toHexString(Dn[20]>>>2&63).replace(/^0/,"")):vn.codec="mp4a.40.2"):vn.codec=vn.codec.toLowerCase())}var qn=findBox$2(pn,["mdia","mdhd"])[0];qn&&(vn.timescale=getTimescaleFromMediaHeader(qn)),dn.push(vn)}),dn};getEmsgID3=function sn(ln,cn){cn===void 0&&(cn=0);var dn=findBox$2(ln,["emsg"]);return dn.map(function(pn){var vn=emsg.parseEmsgBox(new Uint8Array(pn)),Sn=parseId3Frames(vn.message_data);return{cueTime:emsg.scaleTime(vn.presentation_time,vn.timescale,vn.presentation_time_delta,cn),duration:emsg.scaleTime(vn.event_duration,vn.timescale),frames:Sn}})};var probe$2={findBox:findBox$2,parseType:parseType$3,timescale,startTime,compositionStartTime,videoTrackIds:getVideoTrackIds,tracks:getTracks,getTimescaleFromMediaHeader,getEmsgID3},groupNalsIntoFrames=function sn(ln){var cn,dn,pn=[],vn=[];for(vn.byteLength=0,vn.nalCount=0,vn.duration=0,pn.byteLength=0,cn=0;cn<ln.length;cn++)dn=ln[cn],dn.nalUnitType==="access_unit_delimiter_rbsp"?(pn.length&&(pn.duration=dn.dts-pn.dts,vn.byteLength+=pn.byteLength,vn.nalCount+=pn.length,vn.duration+=pn.duration,vn.push(pn)),pn=[dn],pn.byteLength=dn.data.byteLength,pn.pts=dn.pts,pn.dts=dn.dts):(dn.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(pn.keyFrame=!0),pn.duration=dn.dts-pn.dts,pn.byteLength+=dn.data.byteLength,pn.push(dn));return vn.length&&(!pn.duration||pn.duration<=0)&&(pn.duration=vn[vn.length-1].duration),vn.byteLength+=pn.byteLength,vn.nalCount+=pn.length,vn.duration+=pn.duration,vn.push(pn),vn},groupFramesIntoGops=function sn(ln){var cn,dn,pn=[],vn=[];for(pn.byteLength=0,pn.nalCount=0,pn.duration=0,pn.pts=ln[0].pts,pn.dts=ln[0].dts,vn.byteLength=0,vn.nalCount=0,vn.duration=0,vn.pts=ln[0].pts,vn.dts=ln[0].dts,cn=0;cn<ln.length;cn++)dn=ln[cn],dn.keyFrame?(pn.length&&(vn.push(pn),vn.byteLength+=pn.byteLength,vn.nalCount+=pn.nalCount,vn.duration+=pn.duration),pn=[dn],pn.nalCount=dn.length,pn.byteLength=dn.byteLength,pn.pts=dn.pts,pn.dts=dn.dts,pn.duration=dn.duration):(pn.duration+=dn.duration,pn.nalCount+=dn.length,pn.byteLength+=dn.byteLength,pn.push(dn));return vn.length&&pn.duration<=0&&(pn.duration=vn[vn.length-1].duration),vn.byteLength+=pn.byteLength,vn.nalCount+=pn.nalCount,vn.duration+=pn.duration,vn.push(pn),vn},extendFirstKeyFrame=function sn(ln){var cn;return!ln[0][0].keyFrame&&ln.length>1&&(cn=ln.shift(),ln.byteLength-=cn.byteLength,ln.nalCount-=cn.nalCount,ln[0][0].dts=cn.dts,ln[0][0].pts=cn.pts,ln[0][0].duration+=cn.duration),ln},createDefaultSample=function sn(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},sampleForFrame=function sn(ln,cn){var dn=createDefaultSample();return dn.dataOffset=cn,dn.compositionTimeOffset=ln.pts-ln.dts,dn.duration=ln.duration,dn.size=4*ln.length,dn.size+=ln.byteLength,ln.keyFrame&&(dn.flags.dependsOn=2,dn.flags.isNonSyncSample=0),dn},generateSampleTable$1=function sn(ln,cn){var dn,pn,vn,Sn,En,Cn=cn||0,Pn=[];for(dn=0;dn<ln.length;dn++)for(Sn=ln[dn],pn=0;pn<Sn.length;pn++)En=Sn[pn],vn=sampleForFrame(En,Cn),Cn+=vn.size,Pn.push(vn);return Pn},concatenateNalData=function sn(ln){var cn,dn,pn,vn,Sn,En,Cn=0,Pn=ln.byteLength,Rn=ln.nalCount,Ln=Pn+4*Rn,Fn=new Uint8Array(Ln),Gn=new DataView(Fn.buffer);for(cn=0;cn<ln.length;cn++)for(vn=ln[cn],dn=0;dn<vn.length;dn++)for(Sn=vn[dn],pn=0;pn<Sn.length;pn++)En=Sn[pn],Gn.setUint32(Cn,En.data.byteLength),Cn+=4,Fn.set(En.data,Cn),Cn+=En.data.byteLength;return Fn},generateSampleTableForFrame=function sn(ln,cn){var dn,pn=cn||0,vn=[];return dn=sampleForFrame(ln,pn),vn.push(dn),vn},concatenateNalDataForFrame=function sn(ln){var cn,dn,pn=0,vn=ln.byteLength,Sn=ln.length,En=vn+4*Sn,Cn=new Uint8Array(En),Pn=new DataView(Cn.buffer);for(cn=0;cn<ln.length;cn++)dn=ln[cn],Pn.setUint32(pn,dn.data.byteLength),pn+=4,Cn.set(dn.data,pn),pn+=dn.data.byteLength;return Cn},frameUtils$2={groupNalsIntoFrames,groupFramesIntoGops,extendFirstKeyFrame,generateSampleTable:generateSampleTable$1,concatenateNalData,generateSampleTableForFrame,concatenateNalDataForFrame},highPrefix=[33,16,5,32,164,27],lowPrefix=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],zeroFill=function sn(ln){for(var cn=[];ln--;)cn.push(0);return cn},makeTable=function sn(ln){return Object.keys(ln).reduce(function(cn,dn){return cn[dn]=new Uint8Array(ln[dn].reduce(function(pn,vn){return pn.concat(vn)},[])),cn},{})},silence,silence_1=function(){if(!silence){var sn={96e3:[highPrefix,[227,64],zeroFill(154),[56]],88200:[highPrefix,[231],zeroFill(170),[56]],64e3:[highPrefix,[248,192],zeroFill(240),[56]],48e3:[highPrefix,[255,192],zeroFill(268),[55,148,128],zeroFill(54),[112]],44100:[highPrefix,[255,192],zeroFill(268),[55,163,128],zeroFill(84),[112]],32e3:[highPrefix,[255,192],zeroFill(268),[55,234],zeroFill(226),[112]],24e3:[highPrefix,[255,192],zeroFill(268),[55,255,128],zeroFill(268),[111,112],zeroFill(126),[224]],16e3:[highPrefix,[255,192],zeroFill(268),[55,255,128],zeroFill(268),[111,255],zeroFill(269),[223,108],zeroFill(195),[1,192]],12e3:[lowPrefix,zeroFill(268),[3,127,248],zeroFill(268),[6,255,240],zeroFill(268),[13,255,224],zeroFill(268),[27,253,128],zeroFill(259),[56]],11025:[lowPrefix,zeroFill(268),[3,127,248],zeroFill(268),[6,255,240],zeroFill(268),[13,255,224],zeroFill(268),[27,255,192],zeroFill(268),[55,175,128],zeroFill(108),[112]],8e3:[lowPrefix,zeroFill(268),[3,121,16],zeroFill(47),[7]]};silence=makeTable(sn)}return silence},coneOfSilence=silence_1,clock$2=clock$3,sumFrameByteLengths=function sn(ln){var cn,dn,pn=0;for(cn=0;cn<ln.length;cn++)dn=ln[cn],pn+=dn.data.byteLength;return pn},prefixWithSilence=function sn(ln,cn,dn,pn){var vn,Sn=0,En=0,Cn=0,Pn=0,Rn,Ln,Fn;if(cn.length&&(vn=clock$2.audioTsToVideoTs(ln.baseMediaDecodeTime,ln.samplerate),Sn=Math.ceil(clock$2.ONE_SECOND_IN_TS/(ln.samplerate/1024)),dn&&pn&&(En=vn-Math.max(dn,pn),Cn=Math.floor(En/Sn),Pn=Cn*Sn),!(Cn<1||Pn>clock$2.ONE_SECOND_IN_TS/2))){for(Rn=coneOfSilence()[ln.samplerate],Rn||(Rn=cn[0].data),Ln=0;Ln<Cn;Ln++)Fn=cn[0],cn.splice(0,0,{data:Rn,dts:Fn.dts-Sn,pts:Fn.pts-Sn});return ln.baseMediaDecodeTime-=Math.floor(clock$2.videoTsToAudioTs(Pn,ln.samplerate)),Pn}},trimAdtsFramesByEarliestDts=function sn(ln,cn,dn){return cn.minSegmentDts>=dn?ln:(cn.minSegmentDts=1/0,ln.filter(function(pn){return pn.dts>=dn?(cn.minSegmentDts=Math.min(cn.minSegmentDts,pn.dts),cn.minSegmentPts=cn.minSegmentDts,!0):!1}))},generateSampleTable=function sn(ln){var cn,dn,pn=[];for(cn=0;cn<ln.length;cn++)dn=ln[cn],pn.push({size:dn.data.byteLength,duration:1024});return pn},concatenateFrameData=function sn(ln){var cn,dn,pn=0,vn=new Uint8Array(sumFrameByteLengths(ln));for(cn=0;cn<ln.length;cn++)dn=ln[cn],vn.set(dn.data,pn),pn+=dn.data.byteLength;return vn},audioFrameUtils$2={prefixWithSilence,trimAdtsFramesByEarliestDts,generateSampleTable,concatenateFrameData},ONE_SECOND_IN_TS$3=clock$3.ONE_SECOND_IN_TS,collectDtsInfo=function sn(ln,cn){typeof cn.pts=="number"&&(ln.timelineStartInfo.pts===void 0&&(ln.timelineStartInfo.pts=cn.pts),ln.minSegmentPts===void 0?ln.minSegmentPts=cn.pts:ln.minSegmentPts=Math.min(ln.minSegmentPts,cn.pts),ln.maxSegmentPts===void 0?ln.maxSegmentPts=cn.pts:ln.maxSegmentPts=Math.max(ln.maxSegmentPts,cn.pts)),typeof cn.dts=="number"&&(ln.timelineStartInfo.dts===void 0&&(ln.timelineStartInfo.dts=cn.dts),ln.minSegmentDts===void 0?ln.minSegmentDts=cn.dts:ln.minSegmentDts=Math.min(ln.minSegmentDts,cn.dts),ln.maxSegmentDts===void 0?ln.maxSegmentDts=cn.dts:ln.maxSegmentDts=Math.max(ln.maxSegmentDts,cn.dts))},clearDtsInfo=function sn(ln){delete ln.minSegmentDts,delete ln.maxSegmentDts,delete ln.minSegmentPts,delete ln.maxSegmentPts},calculateTrackBaseMediaDecodeTime=function sn(ln,cn){var dn,pn,vn=ln.minSegmentDts;return cn||(vn-=ln.timelineStartInfo.dts),dn=ln.timelineStartInfo.baseMediaDecodeTime,dn+=vn,dn=Math.max(0,dn),ln.type==="audio"&&(pn=ln.samplerate/ONE_SECOND_IN_TS$3,dn*=pn,dn=Math.floor(dn)),dn},trackDecodeInfo$1={clearDtsInfo,calculateTrackBaseMediaDecodeTime,collectDtsInfo},USER_DATA_REGISTERED_ITU_T_T35=4,RBSP_TRAILING_BITS=128,parseSei=function sn(ln){for(var cn=0,dn={payloadType:-1,payloadSize:0},pn=0,vn=0;cn<ln.byteLength&&ln[cn]!==RBSP_TRAILING_BITS;){for(;ln[cn]===255;)pn+=255,cn++;for(pn+=ln[cn++];ln[cn]===255;)vn+=255,cn++;if(vn+=ln[cn++],!dn.payload&&pn===USER_DATA_REGISTERED_ITU_T_T35){var Sn=String.fromCharCode(ln[cn+3],ln[cn+4],ln[cn+5],ln[cn+6]);if(Sn==="GA94"){dn.payloadType=pn,dn.payloadSize=vn,dn.payload=ln.subarray(cn,cn+vn);break}else dn.payload=void 0}cn+=vn,pn=0,vn=0}return dn},parseUserData=function sn(ln){return ln.payload[0]!==181||(ln.payload[1]<<8|ln.payload[2])!==49||String.fromCharCode(ln.payload[3],ln.payload[4],ln.payload[5],ln.payload[6])!=="GA94"||ln.payload[7]!==3?null:ln.payload.subarray(8,ln.payload.length-1)},parseCaptionPackets=function sn(ln,cn){var dn=[],pn,vn,Sn,En;if(!(cn[0]&64))return dn;for(vn=cn[0]&31,pn=0;pn<vn;pn++)Sn=pn*3,En={type:cn[Sn+2]&3,pts:ln},cn[Sn+2]&4&&(En.ccData=cn[Sn+3]<<8|cn[Sn+4],dn.push(En));return dn},discardEmulationPreventionBytes$1=function sn(ln){for(var cn=ln.byteLength,dn=[],pn=1,vn,Sn;pn<cn-2;)ln[pn]===0&&ln[pn+1]===0&&ln[pn+2]===3?(dn.push(pn+2),pn+=2):pn++;if(dn.length===0)return ln;vn=cn-dn.length,Sn=new Uint8Array(vn);var En=0;for(pn=0;pn<vn;En++,pn++)En===dn[0]&&(En++,dn.shift()),Sn[pn]=ln[En];return Sn},captionPacketParser={parseSei,parseUserData,parseCaptionPackets,discardEmulationPreventionBytes:discardEmulationPreventionBytes$1,USER_DATA_REGISTERED_ITU_T_T35},Stream$a=stream,cea708Parser=captionPacketParser,CaptionStream$2=function sn(ln){ln=ln||{},sn.prototype.init.call(this),this.parse708captions_=typeof ln.parse708captions=="boolean"?ln.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Cea608Stream(0,0),new Cea608Stream(0,1),new Cea608Stream(1,0),new Cea608Stream(1,1)],this.parse708captions_&&(this.cc708Stream_=new Cea708Stream({captionServices:ln.captionServices})),this.reset(),this.ccStreams_.forEach(function(cn){cn.on("data",this.trigger.bind(this,"data")),cn.on("partialdone",this.trigger.bind(this,"partialdone")),cn.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};CaptionStream$2.prototype=new Stream$a;CaptionStream$2.prototype.push=function(sn){var ln,cn,dn;if(sn.nalUnitType==="sei_rbsp"&&(ln=cea708Parser.parseSei(sn.escapedRBSP),!!ln.payload&&ln.payloadType===cea708Parser.USER_DATA_REGISTERED_ITU_T_T35&&(cn=cea708Parser.parseUserData(ln),!!cn))){if(sn.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(sn.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}dn=cea708Parser.parseCaptionPackets(sn.pts,cn),this.captionPackets_=this.captionPackets_.concat(dn),this.latestDts_!==sn.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=sn.dts}};CaptionStream$2.prototype.flushCCStreams=function(sn){this.ccStreams_.forEach(function(ln){return sn==="flush"?ln.flush():ln.partialFlush()},this)};CaptionStream$2.prototype.flushStream=function(sn){if(!this.captionPackets_.length){this.flushCCStreams(sn);return}this.captionPackets_.forEach(function(ln,cn){ln.presortIndex=cn}),this.captionPackets_.sort(function(ln,cn){return ln.pts===cn.pts?ln.presortIndex-cn.presortIndex:ln.pts-cn.pts}),this.captionPackets_.forEach(function(ln){ln.type<2?this.dispatchCea608Packet(ln):this.dispatchCea708Packet(ln)},this),this.captionPackets_.length=0,this.flushCCStreams(sn)};CaptionStream$2.prototype.flush=function(){return this.flushStream("flush")};CaptionStream$2.prototype.partialFlush=function(){return this.flushStream("partialFlush")};CaptionStream$2.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(sn){sn.reset()})};CaptionStream$2.prototype.dispatchCea608Packet=function(sn){this.setsTextOrXDSActive(sn)?this.activeCea608Channel_[sn.type]=null:this.setsChannel1Active(sn)?this.activeCea608Channel_[sn.type]=0:this.setsChannel2Active(sn)&&(this.activeCea608Channel_[sn.type]=1),this.activeCea608Channel_[sn.type]!==null&&this.ccStreams_[(sn.type<<1)+this.activeCea608Channel_[sn.type]].push(sn)};CaptionStream$2.prototype.setsChannel1Active=function(sn){return(sn.ccData&30720)===4096};CaptionStream$2.prototype.setsChannel2Active=function(sn){return(sn.ccData&30720)===6144};CaptionStream$2.prototype.setsTextOrXDSActive=function(sn){return(sn.ccData&28928)===256||(sn.ccData&30974)===4138||(sn.ccData&30974)===6186};CaptionStream$2.prototype.dispatchCea708Packet=function(sn){this.parse708captions_&&this.cc708Stream_.push(sn)};var CHARACTER_TRANSLATION_708={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},get708CharFromCode=function sn(ln){var cn=CHARACTER_TRANSLATION_708[ln]||ln;return ln&4096&&ln===cn?"":String.fromCharCode(cn)},within708TextBlock=function sn(ln){return 32<=ln&&ln<=127||160<=ln&&ln<=255},Cea708Window=function sn(ln){this.windowNum=ln,this.reset()};Cea708Window.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0};Cea708Window.prototype.getText=function(){return this.rows.join(`
`)};Cea708Window.prototype.clearText=function(){this.rows=[""],this.rowIdx=0};Cea708Window.prototype.newLine=function(sn){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(sn),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--};Cea708Window.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1};Cea708Window.prototype.addText=function(sn){this.rows[this.rowIdx]+=sn};Cea708Window.prototype.backspace=function(){if(!this.isEmpty()){var sn=this.rows[this.rowIdx];this.rows[this.rowIdx]=sn.substr(0,sn.length-1)}};var Cea708Service=function sn(ln,cn,dn){this.serviceNum=ln,this.text="",this.currentWindow=new Cea708Window(-1),this.windows=[],this.stream=dn,typeof cn=="string"&&this.createTextDecoder(cn)};Cea708Service.prototype.init=function(sn,ln){this.startPts=sn;for(var cn=0;cn<8;cn++)this.windows[cn]=new Cea708Window(cn),typeof ln=="function"&&(this.windows[cn].beforeRowOverflow=ln)};Cea708Service.prototype.setCurrentWindow=function(sn){this.currentWindow=this.windows[sn]};Cea708Service.prototype.createTextDecoder=function(sn){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(sn)}catch(ln){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+sn+" encoding. "+ln})}};var Cea708Stream=function sn(ln){ln=ln||{},sn.prototype.init.call(this);var cn=this,dn=ln.captionServices||{},pn={},vn;Object.keys(dn).forEach(function(Sn){vn=dn[Sn],/^SERVICE/.test(Sn)&&(pn[Sn]=vn.encoding)}),this.serviceEncodings=pn,this.current708Packet=null,this.services={},this.push=function(Sn){Sn.type===3?(cn.new708Packet(),cn.add708Bytes(Sn)):(cn.current708Packet===null&&cn.new708Packet(),cn.add708Bytes(Sn))}};Cea708Stream.prototype=new Stream$a;Cea708Stream.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}};Cea708Stream.prototype.add708Bytes=function(sn){var ln=sn.ccData,cn=ln>>>8,dn=ln&255;this.current708Packet.ptsVals.push(sn.pts),this.current708Packet.data.push(cn),this.current708Packet.data.push(dn)};Cea708Stream.prototype.push708Packet=function(){var sn=this.current708Packet,ln=sn.data,cn=null,dn=null,pn=0,vn=ln[pn++];for(sn.seq=vn>>6,sn.sizeCode=vn&63;pn<ln.length;pn++)vn=ln[pn++],cn=vn>>5,dn=vn&31,cn===7&&dn>0&&(vn=ln[pn++],cn=vn),this.pushServiceBlock(cn,pn,dn),dn>0&&(pn+=dn-1)};Cea708Stream.prototype.pushServiceBlock=function(sn,ln,cn){var dn,pn=ln,vn=this.current708Packet.data,Sn=this.services[sn];for(Sn||(Sn=this.initService(sn,pn));pn<ln+cn&&pn<vn.length;pn++)dn=vn[pn],within708TextBlock(dn)?pn=this.handleText(pn,Sn):dn===24?pn=this.multiByteCharacter(pn,Sn):dn===16?pn=this.extendedCommands(pn,Sn):128<=dn&&dn<=135?pn=this.setCurrentWindow(pn,Sn):152<=dn&&dn<=159?pn=this.defineWindow(pn,Sn):dn===136?pn=this.clearWindows(pn,Sn):dn===140?pn=this.deleteWindows(pn,Sn):dn===137?pn=this.displayWindows(pn,Sn):dn===138?pn=this.hideWindows(pn,Sn):dn===139?pn=this.toggleWindows(pn,Sn):dn===151?pn=this.setWindowAttributes(pn,Sn):dn===144?pn=this.setPenAttributes(pn,Sn):dn===145?pn=this.setPenColor(pn,Sn):dn===146?pn=this.setPenLocation(pn,Sn):dn===143?Sn=this.reset(pn,Sn):dn===8?Sn.currentWindow.backspace():dn===12?Sn.currentWindow.clearText():dn===13?Sn.currentWindow.pendingNewLine=!0:dn===14?Sn.currentWindow.clearText():dn===141&&pn++};Cea708Stream.prototype.extendedCommands=function(sn,ln){var cn=this.current708Packet.data,dn=cn[++sn];return within708TextBlock(dn)&&(sn=this.handleText(sn,ln,{isExtended:!0})),sn};Cea708Stream.prototype.getPts=function(sn){return this.current708Packet.ptsVals[Math.floor(sn/2)]};Cea708Stream.prototype.initService=function(sn,ln){var dn="SERVICE"+sn,cn=this,dn,pn;return dn in this.serviceEncodings&&(pn=this.serviceEncodings[dn]),this.services[sn]=new Cea708Service(sn,pn,cn),this.services[sn].init(this.getPts(ln),function(vn){cn.flushDisplayed(vn,cn.services[sn])}),this.services[sn]};Cea708Stream.prototype.handleText=function(sn,ln,cn){var dn=cn&&cn.isExtended,pn=cn&&cn.isMultiByte,vn=this.current708Packet.data,Sn=dn?4096:0,En=vn[sn],Cn=vn[sn+1],Pn=ln.currentWindow,Rn,Ln;return ln.textDecoder_&&!dn?(pn?(Ln=[En,Cn],sn++):Ln=[En],Rn=ln.textDecoder_.decode(new Uint8Array(Ln))):Rn=get708CharFromCode(Sn|En),Pn.pendingNewLine&&!Pn.isEmpty()&&Pn.newLine(this.getPts(sn)),Pn.pendingNewLine=!1,Pn.addText(Rn),sn};Cea708Stream.prototype.multiByteCharacter=function(sn,ln){var cn=this.current708Packet.data,dn=cn[sn+1],pn=cn[sn+2];return within708TextBlock(dn)&&within708TextBlock(pn)&&(sn=this.handleText(++sn,ln,{isMultiByte:!0})),sn};Cea708Stream.prototype.setCurrentWindow=function(sn,ln){var cn=this.current708Packet.data,dn=cn[sn],pn=dn&7;return ln.setCurrentWindow(pn),sn};Cea708Stream.prototype.defineWindow=function(sn,ln){var cn=this.current708Packet.data,dn=cn[sn],pn=dn&7;ln.setCurrentWindow(pn);var vn=ln.currentWindow;return dn=cn[++sn],vn.visible=(dn&32)>>5,vn.rowLock=(dn&16)>>4,vn.columnLock=(dn&8)>>3,vn.priority=dn&7,dn=cn[++sn],vn.relativePositioning=(dn&128)>>7,vn.anchorVertical=dn&127,dn=cn[++sn],vn.anchorHorizontal=dn,dn=cn[++sn],vn.anchorPoint=(dn&240)>>4,vn.rowCount=dn&15,dn=cn[++sn],vn.columnCount=dn&63,dn=cn[++sn],vn.windowStyle=(dn&56)>>3,vn.penStyle=dn&7,vn.virtualRowCount=vn.rowCount+1,sn};Cea708Stream.prototype.setWindowAttributes=function(sn,ln){var cn=this.current708Packet.data,dn=cn[sn],pn=ln.currentWindow.winAttr;return dn=cn[++sn],pn.fillOpacity=(dn&192)>>6,pn.fillRed=(dn&48)>>4,pn.fillGreen=(dn&12)>>2,pn.fillBlue=dn&3,dn=cn[++sn],pn.borderType=(dn&192)>>6,pn.borderRed=(dn&48)>>4,pn.borderGreen=(dn&12)>>2,pn.borderBlue=dn&3,dn=cn[++sn],pn.borderType+=(dn&128)>>5,pn.wordWrap=(dn&64)>>6,pn.printDirection=(dn&48)>>4,pn.scrollDirection=(dn&12)>>2,pn.justify=dn&3,dn=cn[++sn],pn.effectSpeed=(dn&240)>>4,pn.effectDirection=(dn&12)>>2,pn.displayEffect=dn&3,sn};Cea708Stream.prototype.flushDisplayed=function(sn,ln){for(var cn=[],dn=0;dn<8;dn++)ln.windows[dn].visible&&!ln.windows[dn].isEmpty()&&cn.push(ln.windows[dn].getText());ln.endPts=sn,ln.text=cn.join(`

`),this.pushCaption(ln),ln.startPts=sn};Cea708Stream.prototype.pushCaption=function(sn){sn.text!==""&&(this.trigger("data",{startPts:sn.startPts,endPts:sn.endPts,text:sn.text,stream:"cc708_"+sn.serviceNum}),sn.text="",sn.startPts=sn.endPts)};Cea708Stream.prototype.displayWindows=function(sn,ln){var cn=this.current708Packet.data,dn=cn[++sn],pn=this.getPts(sn);this.flushDisplayed(pn,ln);for(var vn=0;vn<8;vn++)dn&1<<vn&&(ln.windows[vn].visible=1);return sn};Cea708Stream.prototype.hideWindows=function(sn,ln){var cn=this.current708Packet.data,dn=cn[++sn],pn=this.getPts(sn);this.flushDisplayed(pn,ln);for(var vn=0;vn<8;vn++)dn&1<<vn&&(ln.windows[vn].visible=0);return sn};Cea708Stream.prototype.toggleWindows=function(sn,ln){var cn=this.current708Packet.data,dn=cn[++sn],pn=this.getPts(sn);this.flushDisplayed(pn,ln);for(var vn=0;vn<8;vn++)dn&1<<vn&&(ln.windows[vn].visible^=1);return sn};Cea708Stream.prototype.clearWindows=function(sn,ln){var cn=this.current708Packet.data,dn=cn[++sn],pn=this.getPts(sn);this.flushDisplayed(pn,ln);for(var vn=0;vn<8;vn++)dn&1<<vn&&ln.windows[vn].clearText();return sn};Cea708Stream.prototype.deleteWindows=function(sn,ln){var cn=this.current708Packet.data,dn=cn[++sn],pn=this.getPts(sn);this.flushDisplayed(pn,ln);for(var vn=0;vn<8;vn++)dn&1<<vn&&ln.windows[vn].reset();return sn};Cea708Stream.prototype.setPenAttributes=function(sn,ln){var cn=this.current708Packet.data,dn=cn[sn],pn=ln.currentWindow.penAttr;return dn=cn[++sn],pn.textTag=(dn&240)>>4,pn.offset=(dn&12)>>2,pn.penSize=dn&3,dn=cn[++sn],pn.italics=(dn&128)>>7,pn.underline=(dn&64)>>6,pn.edgeType=(dn&56)>>3,pn.fontStyle=dn&7,sn};Cea708Stream.prototype.setPenColor=function(sn,ln){var cn=this.current708Packet.data,dn=cn[sn],pn=ln.currentWindow.penColor;return dn=cn[++sn],pn.fgOpacity=(dn&192)>>6,pn.fgRed=(dn&48)>>4,pn.fgGreen=(dn&12)>>2,pn.fgBlue=dn&3,dn=cn[++sn],pn.bgOpacity=(dn&192)>>6,pn.bgRed=(dn&48)>>4,pn.bgGreen=(dn&12)>>2,pn.bgBlue=dn&3,dn=cn[++sn],pn.edgeRed=(dn&48)>>4,pn.edgeGreen=(dn&12)>>2,pn.edgeBlue=dn&3,sn};Cea708Stream.prototype.setPenLocation=function(sn,ln){var cn=this.current708Packet.data,dn=cn[sn],pn=ln.currentWindow.penLoc;return ln.currentWindow.pendingNewLine=!0,dn=cn[++sn],pn.row=dn&15,dn=cn[++sn],pn.column=dn&63,sn};Cea708Stream.prototype.reset=function(sn,ln){var cn=this.getPts(sn);return this.flushDisplayed(cn,ln),this.initService(ln.serviceNum,sn)};var CHARACTER_TRANSLATION={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},getCharFromCode=function sn(ln){return ln===null?"":(ln=CHARACTER_TRANSLATION[ln]||ln,String.fromCharCode(ln))},BOTTOM_ROW=14,ROWS=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],createDisplayBuffer=function sn(){for(var ln=[],cn=BOTTOM_ROW+1;cn--;)ln.push("");return ln},Cea608Stream=function sn(ln,cn){sn.prototype.init.call(this),this.field_=ln||0,this.dataChannel_=cn||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(dn){var pn,vn,Sn,En,Cn;if(pn=dn.ccData&32639,pn===this.lastControlCode_){this.lastControlCode_=null;return}if((pn&61440)===4096?this.lastControlCode_=pn:pn!==this.PADDING_&&(this.lastControlCode_=null),Sn=pn>>>8,En=pn&255,pn!==this.PADDING_)if(pn===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(pn===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(dn.pts),this.flushDisplayed(dn.pts),vn=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=vn,this.startPts_=dn.pts;else if(pn===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(dn.pts);else if(pn===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(dn.pts);else if(pn===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(dn.pts);else if(pn===this.CARRIAGE_RETURN_)this.clearFormatting(dn.pts),this.flushDisplayed(dn.pts),this.shiftRowsUp_(),this.startPts_=dn.pts;else if(pn===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(pn===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(dn.pts),this.displayed_=createDisplayBuffer();else if(pn===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=createDisplayBuffer();else if(pn===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(dn.pts),this.displayed_=createDisplayBuffer()),this.mode_="paintOn",this.startPts_=dn.pts;else if(this.isSpecialCharacter(Sn,En))Sn=(Sn&3)<<8,Cn=getCharFromCode(Sn|En),this[this.mode_](dn.pts,Cn),this.column_++;else if(this.isExtCharacter(Sn,En))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),Sn=(Sn&3)<<8,Cn=getCharFromCode(Sn|En),this[this.mode_](dn.pts,Cn),this.column_++;else if(this.isMidRowCode(Sn,En))this.clearFormatting(dn.pts),this[this.mode_](dn.pts," "),this.column_++,(En&14)===14&&this.addFormatting(dn.pts,["i"]),(En&1)===1&&this.addFormatting(dn.pts,["u"]);else if(this.isOffsetControlCode(Sn,En))this.column_+=En&3;else if(this.isPAC(Sn,En)){var Pn=ROWS.indexOf(pn&7968);this.mode_==="rollUp"&&(Pn-this.rollUpRows_+1<0&&(Pn=this.rollUpRows_-1),this.setRollUp(dn.pts,Pn)),Pn!==this.row_&&(this.clearFormatting(dn.pts),this.row_=Pn),En&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(dn.pts,["u"]),(pn&16)===16&&(this.column_=((pn&14)>>1)*4),this.isColorPAC(En)&&(En&14)===14&&this.addFormatting(dn.pts,["i"])}else this.isNormalChar(Sn)&&(En===0&&(En=null),Cn=getCharFromCode(Sn),Cn+=getCharFromCode(En),this[this.mode_](dn.pts,Cn),this.column_+=Cn.length)}};Cea608Stream.prototype=new Stream$a;Cea608Stream.prototype.flushDisplayed=function(sn){var ln=this.displayed_.map(function(cn,dn){try{return cn.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+dn+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");ln.length&&this.trigger("data",{startPts:this.startPts_,endPts:sn,text:ln,stream:this.name_})};Cea608Stream.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=createDisplayBuffer(),this.nonDisplayed_=createDisplayBuffer(),this.lastControlCode_=null,this.column_=0,this.row_=BOTTOM_ROW,this.rollUpRows_=2,this.formatting_=[]};Cea608Stream.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46};Cea608Stream.prototype.isSpecialCharacter=function(sn,ln){return sn===this.EXT_&&ln>=48&&ln<=63};Cea608Stream.prototype.isExtCharacter=function(sn,ln){return(sn===this.EXT_+1||sn===this.EXT_+2)&&ln>=32&&ln<=63};Cea608Stream.prototype.isMidRowCode=function(sn,ln){return sn===this.EXT_&&ln>=32&&ln<=47};Cea608Stream.prototype.isOffsetControlCode=function(sn,ln){return sn===this.OFFSET_&&ln>=33&&ln<=35};Cea608Stream.prototype.isPAC=function(sn,ln){return sn>=this.BASE_&&sn<this.BASE_+8&&ln>=64&&ln<=127};Cea608Stream.prototype.isColorPAC=function(sn){return sn>=64&&sn<=79||sn>=96&&sn<=127};Cea608Stream.prototype.isNormalChar=function(sn){return sn>=32&&sn<=127};Cea608Stream.prototype.setRollUp=function(sn,ln){if(this.mode_!=="rollUp"&&(this.row_=BOTTOM_ROW,this.mode_="rollUp",this.flushDisplayed(sn),this.nonDisplayed_=createDisplayBuffer(),this.displayed_=createDisplayBuffer()),ln!==void 0&&ln!==this.row_)for(var cn=0;cn<this.rollUpRows_;cn++)this.displayed_[ln-cn]=this.displayed_[this.row_-cn],this.displayed_[this.row_-cn]="";ln===void 0&&(ln=this.row_),this.topRow_=ln-this.rollUpRows_+1};Cea608Stream.prototype.addFormatting=function(sn,ln){this.formatting_=this.formatting_.concat(ln);var cn=ln.reduce(function(dn,pn){return dn+"<"+pn+">"},"");this[this.mode_](sn,cn)};Cea608Stream.prototype.clearFormatting=function(sn){if(this.formatting_.length){var ln=this.formatting_.reverse().reduce(function(cn,dn){return cn+"</"+dn+">"},"");this.formatting_=[],this[this.mode_](sn,ln)}};Cea608Stream.prototype.popOn=function(sn,ln){var cn=this.nonDisplayed_[this.row_];cn+=ln,this.nonDisplayed_[this.row_]=cn};Cea608Stream.prototype.rollUp=function(sn,ln){var cn=this.displayed_[this.row_];cn+=ln,this.displayed_[this.row_]=cn};Cea608Stream.prototype.shiftRowsUp_=function(){var sn;for(sn=0;sn<this.topRow_;sn++)this.displayed_[sn]="";for(sn=this.row_+1;sn<BOTTOM_ROW+1;sn++)this.displayed_[sn]="";for(sn=this.topRow_;sn<this.row_;sn++)this.displayed_[sn]=this.displayed_[sn+1];this.displayed_[this.row_]=""};Cea608Stream.prototype.paintOn=function(sn,ln){var cn=this.displayed_[this.row_];cn+=ln,this.displayed_[this.row_]=cn};var captionStream={CaptionStream:CaptionStream$2,Cea608Stream,Cea708Stream},streamTypes={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Stream$9=stream,MAX_TS=8589934592,RO_THRESH=4294967296,TYPE_SHARED="shared",handleRollover$1=function sn(ln,cn){var dn=1;for(ln>cn&&(dn=-1);Math.abs(cn-ln)>RO_THRESH;)ln+=dn*MAX_TS;return ln},TimestampRolloverStream$1=function sn(ln){var cn,dn;sn.prototype.init.call(this),this.type_=ln||TYPE_SHARED,this.push=function(pn){this.type_!==TYPE_SHARED&&pn.type!==this.type_||(dn===void 0&&(dn=pn.dts),pn.dts=handleRollover$1(pn.dts,dn),pn.pts=handleRollover$1(pn.pts,dn),cn=pn.dts,this.trigger("data",pn))},this.flush=function(){dn=cn,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){dn=void 0,cn=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};TimestampRolloverStream$1.prototype=new Stream$9;var timestampRolloverStream={TimestampRolloverStream:TimestampRolloverStream$1,handleRollover:handleRollover$1},Stream$8=stream,StreamTypes$3=streamTypes,id3=parseId3,_MetadataStream;_MetadataStream=function sn(ln){var cn={descriptor:ln&&ln.descriptor},dn=0,pn=[],vn=0,Sn;if(_MetadataStream.prototype.init.call(this),this.dispatchType=StreamTypes$3.METADATA_STREAM_TYPE.toString(16),cn.descriptor)for(Sn=0;Sn<cn.descriptor.length;Sn++)this.dispatchType+=("00"+cn.descriptor[Sn].toString(16)).slice(-2);this.push=function(En){var Cn,Pn,Rn,Ln,Fn,Gn;if(En.type==="timed-metadata"){if(En.dataAlignmentIndicator&&(vn=0,pn.length=0),pn.length===0&&(En.data.length<10||En.data[0]!=="I".charCodeAt(0)||En.data[1]!=="D".charCodeAt(0)||En.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(pn.push(En),vn+=En.data.byteLength,pn.length===1&&(dn=id3.parseSyncSafeInteger(En.data.subarray(6,10)),dn+=10),!(vn<dn)){for(Cn={data:new Uint8Array(dn),frames:[],pts:pn[0].pts,dts:pn[0].dts},Fn=0;Fn<dn;)Cn.data.set(pn[0].data.subarray(0,dn-Fn),Fn),Fn+=pn[0].data.byteLength,vn-=pn[0].data.byteLength,pn.shift();Pn=10,Cn.data[5]&64&&(Pn+=4,Pn+=id3.parseSyncSafeInteger(Cn.data.subarray(10,14)),dn-=id3.parseSyncSafeInteger(Cn.data.subarray(16,20)));do{if(Rn=id3.parseSyncSafeInteger(Cn.data.subarray(Pn+4,Pn+8)),Rn<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(Gn=String.fromCharCode(Cn.data[Pn],Cn.data[Pn+1],Cn.data[Pn+2],Cn.data[Pn+3]),Ln={id:Gn,data:Cn.data.subarray(Pn+10,Pn+Rn+10)},Ln.key=Ln.id,id3.frameParsers[Ln.id]?id3.frameParsers[Ln.id](Ln):Ln.id[0]==="T"?id3.frameParsers["T*"](Ln):Ln.id[0]==="W"&&id3.frameParsers["W*"](Ln),Ln.owner==="com.apple.streaming.transportStreamTimestamp"){var Dn=Ln.data,Kn=(Dn[3]&1)<<30|Dn[4]<<22|Dn[5]<<14|Dn[6]<<6|Dn[7]>>>2;Kn*=4,Kn+=Dn[7]&3,Ln.timeStamp=Kn,Cn.pts===void 0&&Cn.dts===void 0&&(Cn.pts=Ln.timeStamp,Cn.dts=Ln.timeStamp),this.trigger("timestamp",Ln)}Cn.frames.push(Ln),Pn+=10,Pn+=Rn}while(Pn<dn);this.trigger("data",Cn)}}}};_MetadataStream.prototype=new Stream$8;var metadataStream=_MetadataStream,Stream$7=stream,CaptionStream$1=captionStream,StreamTypes$2=streamTypes,TimestampRolloverStream=timestampRolloverStream.TimestampRolloverStream,_TransportPacketStream,_TransportParseStream,_ElementaryStream,MP2T_PACKET_LENGTH$1=188,SYNC_BYTE$1=71;_TransportPacketStream=function sn(){var ln=new Uint8Array(MP2T_PACKET_LENGTH$1),cn=0;_TransportPacketStream.prototype.init.call(this),this.push=function(dn){var pn=0,vn=MP2T_PACKET_LENGTH$1,Sn;for(cn?(Sn=new Uint8Array(dn.byteLength+cn),Sn.set(ln.subarray(0,cn)),Sn.set(dn,cn),cn=0):Sn=dn;vn<Sn.byteLength;){if(Sn[pn]===SYNC_BYTE$1&&Sn[vn]===SYNC_BYTE$1){this.trigger("data",Sn.subarray(pn,vn)),pn+=MP2T_PACKET_LENGTH$1,vn+=MP2T_PACKET_LENGTH$1;continue}pn++,vn++}pn<Sn.byteLength&&(ln.set(Sn.subarray(pn),0),cn=Sn.byteLength-pn)},this.flush=function(){cn===MP2T_PACKET_LENGTH$1&&ln[0]===SYNC_BYTE$1&&(this.trigger("data",ln),cn=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){cn=0,this.trigger("reset")}};_TransportPacketStream.prototype=new Stream$7;_TransportParseStream=function sn(){var ln,cn,dn,pn;_TransportParseStream.prototype.init.call(this),pn=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,ln=function(Sn,En){var Cn=0;En.payloadUnitStartIndicator&&(Cn+=Sn[Cn]+1),En.type==="pat"?cn(Sn.subarray(Cn),En):dn(Sn.subarray(Cn),En)},cn=function(Sn,En){En.section_number=Sn[7],En.last_section_number=Sn[8],pn.pmtPid=(Sn[10]&31)<<8|Sn[11],En.pmtPid=pn.pmtPid},dn=function(Sn,En){var Cn,Pn,Rn,Ln;if(Sn[5]&1){for(pn.programMapTable={video:null,audio:null,"timed-metadata":{}},Cn=(Sn[1]&15)<<8|Sn[2],Pn=3+Cn-4,Rn=(Sn[10]&15)<<8|Sn[11],Ln=12+Rn;Ln<Pn;){var Fn=Sn[Ln],Gn=(Sn[Ln+1]&31)<<8|Sn[Ln+2];Fn===StreamTypes$2.H264_STREAM_TYPE&&pn.programMapTable.video===null?pn.programMapTable.video=Gn:Fn===StreamTypes$2.ADTS_STREAM_TYPE&&pn.programMapTable.audio===null?pn.programMapTable.audio=Gn:Fn===StreamTypes$2.METADATA_STREAM_TYPE&&(pn.programMapTable["timed-metadata"][Gn]=Fn),Ln+=((Sn[Ln+3]&15)<<8|Sn[Ln+4])+5}En.programMapTable=pn.programMapTable}},this.push=function(vn){var Sn={},En=4;if(Sn.payloadUnitStartIndicator=!!(vn[1]&64),Sn.pid=vn[1]&31,Sn.pid<<=8,Sn.pid|=vn[2],(vn[3]&48)>>>4>1&&(En+=vn[En]+1),Sn.pid===0)Sn.type="pat",ln(vn.subarray(En),Sn),this.trigger("data",Sn);else if(Sn.pid===this.pmtPid)for(Sn.type="pmt",ln(vn.subarray(En),Sn),this.trigger("data",Sn);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([vn,En,Sn]):this.processPes_(vn,En,Sn)},this.processPes_=function(vn,Sn,En){En.pid===this.programMapTable.video?En.streamType=StreamTypes$2.H264_STREAM_TYPE:En.pid===this.programMapTable.audio?En.streamType=StreamTypes$2.ADTS_STREAM_TYPE:En.streamType=this.programMapTable["timed-metadata"][En.pid],En.type="pes",En.data=vn.subarray(Sn),this.trigger("data",En)}};_TransportParseStream.prototype=new Stream$7;_TransportParseStream.STREAM_TYPES={h264:27,adts:15};_ElementaryStream=function sn(){var ln=this,cn=!1,dn={data:[],size:0},pn={data:[],size:0},vn={data:[],size:0},Sn,En=function(Rn,Ln){var Fn,Gn=Rn[0]<<16|Rn[1]<<8|Rn[2];Ln.data=new Uint8Array,Gn===1&&(Ln.packetLength=6+(Rn[4]<<8|Rn[5]),Ln.dataAlignmentIndicator=(Rn[6]&4)!==0,Fn=Rn[7],Fn&192&&(Ln.pts=(Rn[9]&14)<<27|(Rn[10]&255)<<20|(Rn[11]&254)<<12|(Rn[12]&255)<<5|(Rn[13]&254)>>>3,Ln.pts*=4,Ln.pts+=(Rn[13]&6)>>>1,Ln.dts=Ln.pts,Fn&64&&(Ln.dts=(Rn[14]&14)<<27|(Rn[15]&255)<<20|(Rn[16]&254)<<12|(Rn[17]&255)<<5|(Rn[18]&254)>>>3,Ln.dts*=4,Ln.dts+=(Rn[18]&6)>>>1)),Ln.data=Rn.subarray(9+Rn[8]))},Cn=function(Rn,Ln,Fn){var Gn=new Uint8Array(Rn.size),Dn={type:Ln},Kn=0,qn=0,Zn=!1,Yn;if(!(!Rn.data.length||Rn.size<9)){for(Dn.trackId=Rn.data[0].pid,Kn=0;Kn<Rn.data.length;Kn++)Yn=Rn.data[Kn],Gn.set(Yn.data,qn),qn+=Yn.data.byteLength;En(Gn,Dn),Zn=Ln==="video"||Dn.packetLength<=Rn.size,(Fn||Zn)&&(Rn.size=0,Rn.data.length=0),Zn&&ln.trigger("data",Dn)}};_ElementaryStream.prototype.init.call(this),this.push=function(Pn){({pat:function(){},pes:function(){var Ln,Fn;switch(Pn.streamType){case StreamTypes$2.H264_STREAM_TYPE:Ln=dn,Fn="video";break;case StreamTypes$2.ADTS_STREAM_TYPE:Ln=pn,Fn="audio";break;case StreamTypes$2.METADATA_STREAM_TYPE:Ln=vn,Fn="timed-metadata";break;default:return}Pn.payloadUnitStartIndicator&&Cn(Ln,Fn,!0),Ln.data.push(Pn),Ln.size+=Pn.data.byteLength},pmt:function(){var Ln={type:"metadata",tracks:[]};Sn=Pn.programMapTable,Sn.video!==null&&Ln.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+Sn.video,codec:"avc",type:"video"}),Sn.audio!==null&&Ln.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+Sn.audio,codec:"adts",type:"audio"}),cn=!0,ln.trigger("data",Ln)}})[Pn.type]()},this.reset=function(){dn.size=0,dn.data.length=0,pn.size=0,pn.data.length=0,this.trigger("reset")},this.flushStreams_=function(){Cn(dn,"video"),Cn(pn,"audio"),Cn(vn,"timed-metadata")},this.flush=function(){if(!cn&&Sn){var Pn={type:"metadata",tracks:[]};Sn.video!==null&&Pn.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+Sn.video,codec:"avc",type:"video"}),Sn.audio!==null&&Pn.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+Sn.audio,codec:"adts",type:"audio"}),ln.trigger("data",Pn)}cn=!1,this.flushStreams_(),this.trigger("done")}};_ElementaryStream.prototype=new Stream$7;var m2ts$4={PAT_PID:0,MP2T_PACKET_LENGTH:MP2T_PACKET_LENGTH$1,TransportPacketStream:_TransportPacketStream,TransportParseStream:_TransportParseStream,ElementaryStream:_ElementaryStream,TimestampRolloverStream,CaptionStream:CaptionStream$1.CaptionStream,Cea608Stream:CaptionStream$1.Cea608Stream,Cea708Stream:CaptionStream$1.Cea708Stream,MetadataStream:metadataStream};for(var type in StreamTypes$2)StreamTypes$2.hasOwnProperty(type)&&(m2ts$4[type]=StreamTypes$2[type]);var m2ts_1=m2ts$4,ADTS_SAMPLING_FREQUENCIES=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],parseId3TagSize=function sn(ln,cn){var dn=ln[cn+6]<<21|ln[cn+7]<<14|ln[cn+8]<<7|ln[cn+9],pn=ln[cn+5],vn=(pn&16)>>4;return dn=dn>=0?dn:0,vn?dn+20:dn+10},getId3Offset=function sn(ln,cn){return ln.length-cn<10||ln[cn]!=="I".charCodeAt(0)||ln[cn+1]!=="D".charCodeAt(0)||ln[cn+2]!=="3".charCodeAt(0)?cn:(cn+=parseId3TagSize(ln,cn),sn(ln,cn))},isLikelyAacData$2=function sn(ln){var cn=getId3Offset(ln,0);return ln.length>=cn+2&&(ln[cn]&255)===255&&(ln[cn+1]&240)===240&&(ln[cn+1]&22)===16},parseSyncSafeInteger=function sn(ln){return ln[0]<<21|ln[1]<<14|ln[2]<<7|ln[3]},percentEncode=function sn(ln,cn,dn){var pn,vn="";for(pn=cn;pn<dn;pn++)vn+="%"+("00"+ln[pn].toString(16)).slice(-2);return vn},parseIso88591=function sn(ln,cn,dn){return unescape(percentEncode(ln,cn,dn))},parseAdtsSize=function sn(ln,cn){var dn=(ln[cn+5]&224)>>5,pn=ln[cn+4]<<3,vn=ln[cn+3]&3<<11;return vn|pn|dn},parseType$2=function sn(ln,cn){return ln[cn]==="I".charCodeAt(0)&&ln[cn+1]==="D".charCodeAt(0)&&ln[cn+2]==="3".charCodeAt(0)?"timed-metadata":ln[cn]&!0&&(ln[cn+1]&240)===240?"audio":null},parseSampleRate=function sn(ln){for(var cn=0;cn+5<ln.length;){if(ln[cn]!==255||(ln[cn+1]&246)!==240){cn++;continue}return ADTS_SAMPLING_FREQUENCIES[(ln[cn+2]&60)>>>2]}return null},parseAacTimestamp=function sn(ln){var cn,dn,pn,vn;cn=10,ln[5]&64&&(cn+=4,cn+=parseSyncSafeInteger(ln.subarray(10,14)));do{if(dn=parseSyncSafeInteger(ln.subarray(cn+4,cn+8)),dn<1)return null;if(vn=String.fromCharCode(ln[cn],ln[cn+1],ln[cn+2],ln[cn+3]),vn==="PRIV"){pn=ln.subarray(cn+10,cn+dn+10);for(var Sn=0;Sn<pn.byteLength;Sn++)if(pn[Sn]===0){var En=parseIso88591(pn,0,Sn);if(En==="com.apple.streaming.transportStreamTimestamp"){var Cn=pn.subarray(Sn+1),Pn=(Cn[3]&1)<<30|Cn[4]<<22|Cn[5]<<14|Cn[6]<<6|Cn[7]>>>2;return Pn*=4,Pn+=Cn[7]&3,Pn}break}}cn+=10,cn+=dn}while(cn<ln.byteLength);return null},utils={isLikelyAacData:isLikelyAacData$2,parseId3TagSize,parseAdtsSize,parseType:parseType$2,parseSampleRate,parseAacTimestamp},Stream$6=stream,aacUtils=utils,_AacStream;_AacStream=function sn(){var ln=new Uint8Array,cn=0;_AacStream.prototype.init.call(this),this.setTimestamp=function(dn){cn=dn},this.push=function(dn){var pn=0,vn=0,Sn,En,Cn,Pn;for(ln.length?(Pn=ln.length,ln=new Uint8Array(dn.byteLength+Pn),ln.set(ln.subarray(0,Pn)),ln.set(dn,Pn)):ln=dn;ln.length-vn>=3;){if(ln[vn]==="I".charCodeAt(0)&&ln[vn+1]==="D".charCodeAt(0)&&ln[vn+2]==="3".charCodeAt(0)){if(ln.length-vn<10||(pn=aacUtils.parseId3TagSize(ln,vn),vn+pn>ln.length))break;En={type:"timed-metadata",data:ln.subarray(vn,vn+pn)},this.trigger("data",En),vn+=pn;continue}else if((ln[vn]&255)===255&&(ln[vn+1]&240)===240){if(ln.length-vn<7||(pn=aacUtils.parseAdtsSize(ln,vn),vn+pn>ln.length))break;Cn={type:"audio",data:ln.subarray(vn,vn+pn),pts:cn,dts:cn},this.trigger("data",Cn),vn+=pn;continue}vn++}Sn=ln.length-vn,Sn>0?ln=ln.subarray(vn):ln=new Uint8Array},this.reset=function(){ln=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){ln=new Uint8Array,this.trigger("endedtimeline")}};_AacStream.prototype=new Stream$6;var aac=_AacStream,AUDIO_PROPERTIES$2=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],audioProperties=AUDIO_PROPERTIES$2,VIDEO_PROPERTIES$2=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],videoProperties=VIDEO_PROPERTIES$2,Stream$5=stream,mp4$3=mp4Generator,frameUtils$1=frameUtils$2,audioFrameUtils$1=audioFrameUtils$2,trackDecodeInfo=trackDecodeInfo$1,m2ts$3=m2ts_1,clock$1=clock$3,AdtsStream$2=adts,H264Stream$1=h264.H264Stream,AacStream$1=aac,isLikelyAacData$1=utils.isLikelyAacData,ONE_SECOND_IN_TS$2=clock$3.ONE_SECOND_IN_TS,AUDIO_PROPERTIES$1=audioProperties,VIDEO_PROPERTIES$1=videoProperties,_VideoSegmentStream$1,_AudioSegmentStream$1,_Transmuxer$1,_CoalesceStream,retriggerForStream=function sn(ln,cn){cn.stream=ln,this.trigger("log",cn)},addPipelineLogRetriggers=function sn(ln,cn){for(var dn=Object.keys(cn),pn=0;pn<dn.length;pn++){var vn=dn[pn];vn==="headOfPipeline"||!cn[vn].on||cn[vn].on("log",retriggerForStream.bind(ln,vn))}},arrayEquals=function sn(ln,cn){var dn;if(ln.length!==cn.length)return!1;for(dn=0;dn<ln.length;dn++)if(ln[dn]!==cn[dn])return!1;return!0},generateSegmentTimingInfo=function sn(ln,cn,dn,pn,vn,Sn){var En=dn-cn,Cn=pn-cn,Pn=vn-dn;return{start:{dts:ln,pts:ln+En},end:{dts:ln+Cn,pts:ln+Pn},prependedContentDuration:Sn,baseMediaDecodeTime:ln}};_AudioSegmentStream$1=function sn(ln,cn){var dn=[],pn,vn=0,Sn=0,En=1/0;cn=cn||{},pn=cn.firstSequenceNumber||0,_AudioSegmentStream$1.prototype.init.call(this),this.push=function(Cn){trackDecodeInfo.collectDtsInfo(ln,Cn),ln&&AUDIO_PROPERTIES$1.forEach(function(Pn){ln[Pn]=Cn[Pn]}),dn.push(Cn)},this.setEarliestDts=function(Cn){vn=Cn},this.setVideoBaseMediaDecodeTime=function(Cn){En=Cn},this.setAudioAppendStart=function(Cn){Sn=Cn},this.flush=function(){var Cn,Pn,Rn,Ln,Fn,Gn,Dn;if(dn.length===0){this.trigger("done","AudioSegmentStream");return}Cn=audioFrameUtils$1.trimAdtsFramesByEarliestDts(dn,ln,vn),ln.baseMediaDecodeTime=trackDecodeInfo.calculateTrackBaseMediaDecodeTime(ln,cn.keepOriginalTimestamps),Dn=audioFrameUtils$1.prefixWithSilence(ln,Cn,Sn,En),ln.samples=audioFrameUtils$1.generateSampleTable(Cn),Rn=mp4$3.mdat(audioFrameUtils$1.concatenateFrameData(Cn)),dn=[],Pn=mp4$3.moof(pn,[ln]),Ln=new Uint8Array(Pn.byteLength+Rn.byteLength),pn++,Ln.set(Pn),Ln.set(Rn,Pn.byteLength),trackDecodeInfo.clearDtsInfo(ln),Fn=Math.ceil(ONE_SECOND_IN_TS$2*1024/ln.samplerate),Cn.length&&(Gn=Cn.length*Fn,this.trigger("segmentTimingInfo",generateSegmentTimingInfo(clock$1.audioTsToVideoTs(ln.baseMediaDecodeTime,ln.samplerate),Cn[0].dts,Cn[0].pts,Cn[0].dts+Gn,Cn[0].pts+Gn,Dn||0)),this.trigger("timingInfo",{start:Cn[0].pts,end:Cn[0].pts+Gn})),this.trigger("data",{track:ln,boxes:Ln}),this.trigger("done","AudioSegmentStream")},this.reset=function(){trackDecodeInfo.clearDtsInfo(ln),dn=[],this.trigger("reset")}};_AudioSegmentStream$1.prototype=new Stream$5;_VideoSegmentStream$1=function sn(ln,cn){var dn,pn=[],vn=[],Sn,En;cn=cn||{},dn=cn.firstSequenceNumber||0,_VideoSegmentStream$1.prototype.init.call(this),delete ln.minPTS,this.gopCache_=[],this.push=function(Cn){trackDecodeInfo.collectDtsInfo(ln,Cn),Cn.nalUnitType==="seq_parameter_set_rbsp"&&!Sn&&(Sn=Cn.config,ln.sps=[Cn.data],VIDEO_PROPERTIES$1.forEach(function(Pn){ln[Pn]=Sn[Pn]},this)),Cn.nalUnitType==="pic_parameter_set_rbsp"&&!En&&(En=Cn.data,ln.pps=[Cn.data]),pn.push(Cn)},this.flush=function(){for(var Cn,Pn,Rn,Ln,Fn,Gn,Dn=0,Kn,qn;pn.length&&pn[0].nalUnitType!=="access_unit_delimiter_rbsp";)pn.shift();if(pn.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(Cn=frameUtils$1.groupNalsIntoFrames(pn),Rn=frameUtils$1.groupFramesIntoGops(Cn),Rn[0][0].keyFrame||(Pn=this.getGopForFusion_(pn[0],ln),Pn?(Dn=Pn.duration,Rn.unshift(Pn),Rn.byteLength+=Pn.byteLength,Rn.nalCount+=Pn.nalCount,Rn.pts=Pn.pts,Rn.dts=Pn.dts,Rn.duration+=Pn.duration):Rn=frameUtils$1.extendFirstKeyFrame(Rn)),vn.length){var Zn;if(cn.alignGopsAtEnd?Zn=this.alignGopsAtEnd_(Rn):Zn=this.alignGopsAtStart_(Rn),!Zn){this.gopCache_.unshift({gop:Rn.pop(),pps:ln.pps,sps:ln.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),pn=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}trackDecodeInfo.clearDtsInfo(ln),Rn=Zn}trackDecodeInfo.collectDtsInfo(ln,Rn),ln.samples=frameUtils$1.generateSampleTable(Rn),Fn=mp4$3.mdat(frameUtils$1.concatenateNalData(Rn)),ln.baseMediaDecodeTime=trackDecodeInfo.calculateTrackBaseMediaDecodeTime(ln,cn.keepOriginalTimestamps),this.trigger("processedGopsInfo",Rn.map(function(Yn){return{pts:Yn.pts,dts:Yn.dts,byteLength:Yn.byteLength}})),Kn=Rn[0],qn=Rn[Rn.length-1],this.trigger("segmentTimingInfo",generateSegmentTimingInfo(ln.baseMediaDecodeTime,Kn.dts,Kn.pts,qn.dts+qn.duration,qn.pts+qn.duration,Dn)),this.trigger("timingInfo",{start:Rn[0].pts,end:Rn[Rn.length-1].pts+Rn[Rn.length-1].duration}),this.gopCache_.unshift({gop:Rn.pop(),pps:ln.pps,sps:ln.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),pn=[],this.trigger("baseMediaDecodeTime",ln.baseMediaDecodeTime),this.trigger("timelineStartInfo",ln.timelineStartInfo),Ln=mp4$3.moof(dn,[ln]),Gn=new Uint8Array(Ln.byteLength+Fn.byteLength),dn++,Gn.set(Ln),Gn.set(Fn,Ln.byteLength),this.trigger("data",{track:ln,boxes:Gn}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),pn=[],this.gopCache_.length=0,vn.length=0,this.trigger("reset")},this.resetStream_=function(){trackDecodeInfo.clearDtsInfo(ln),Sn=void 0,En=void 0},this.getGopForFusion_=function(Cn){var Pn=45e3,Rn=1e4,Ln=1/0,Fn,Gn,Dn,Kn,qn;for(qn=0;qn<this.gopCache_.length;qn++)Kn=this.gopCache_[qn],Dn=Kn.gop,!(!(ln.pps&&arrayEquals(ln.pps[0],Kn.pps[0]))||!(ln.sps&&arrayEquals(ln.sps[0],Kn.sps[0])))&&(Dn.dts<ln.timelineStartInfo.dts||(Fn=Cn.dts-Dn.dts-Dn.duration,Fn>=-Rn&&Fn<=Pn&&(!Gn||Ln>Fn)&&(Gn=Kn,Ln=Fn)));return Gn?Gn.gop:null},this.alignGopsAtStart_=function(Cn){var Pn,Rn,Ln,Fn,Gn,Dn,Kn,qn;for(Gn=Cn.byteLength,Dn=Cn.nalCount,Kn=Cn.duration,Pn=Rn=0;Pn<vn.length&&Rn<Cn.length&&(Ln=vn[Pn],Fn=Cn[Rn],Ln.pts!==Fn.pts);){if(Fn.pts>Ln.pts){Pn++;continue}Rn++,Gn-=Fn.byteLength,Dn-=Fn.nalCount,Kn-=Fn.duration}return Rn===0?Cn:Rn===Cn.length?null:(qn=Cn.slice(Rn),qn.byteLength=Gn,qn.duration=Kn,qn.nalCount=Dn,qn.pts=qn[0].pts,qn.dts=qn[0].dts,qn)},this.alignGopsAtEnd_=function(Cn){var Pn,Rn,Ln,Fn,Gn,Dn;for(Pn=vn.length-1,Rn=Cn.length-1,Gn=null,Dn=!1;Pn>=0&&Rn>=0;){if(Ln=vn[Pn],Fn=Cn[Rn],Ln.pts===Fn.pts){Dn=!0;break}if(Ln.pts>Fn.pts){Pn--;continue}Pn===vn.length-1&&(Gn=Rn),Rn--}if(!Dn&&Gn===null)return null;var Kn;if(Dn?Kn=Rn:Kn=Gn,Kn===0)return Cn;var qn=Cn.slice(Kn),Zn=qn.reduce(function(Yn,Jn){return Yn.byteLength+=Jn.byteLength,Yn.duration+=Jn.duration,Yn.nalCount+=Jn.nalCount,Yn},{byteLength:0,duration:0,nalCount:0});return qn.byteLength=Zn.byteLength,qn.duration=Zn.duration,qn.nalCount=Zn.nalCount,qn.pts=qn[0].pts,qn.dts=qn[0].dts,qn},this.alignGopsWith=function(Cn){vn=Cn}};_VideoSegmentStream$1.prototype=new Stream$5;_CoalesceStream=function sn(ln,cn){this.numberOfTracks=0,this.metadataStream=cn,ln=ln||{},typeof ln.remux<"u"?this.remuxTracks=!!ln.remux:this.remuxTracks=!0,typeof ln.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=ln.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,_CoalesceStream.prototype.init.call(this),this.push=function(dn){if(dn.text)return this.pendingCaptions.push(dn);if(dn.frames)return this.pendingMetadata.push(dn);this.pendingTracks.push(dn.track),this.pendingBytes+=dn.boxes.byteLength,dn.track.type==="video"&&(this.videoTrack=dn.track,this.pendingBoxes.push(dn.boxes)),dn.track.type==="audio"&&(this.audioTrack=dn.track,this.pendingBoxes.unshift(dn.boxes))}};_CoalesceStream.prototype=new Stream$5;_CoalesceStream.prototype.flush=function(sn){var ln=0,cn={captions:[],captionStreams:{},metadata:[],info:{}},dn,pn,vn,Sn=0,En;if(this.pendingTracks.length<this.numberOfTracks){if(sn!=="VideoSegmentStream"&&sn!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(Sn=this.videoTrack.timelineStartInfo.pts,VIDEO_PROPERTIES$1.forEach(function(Cn){cn.info[Cn]=this.videoTrack[Cn]},this)):this.audioTrack&&(Sn=this.audioTrack.timelineStartInfo.pts,AUDIO_PROPERTIES$1.forEach(function(Cn){cn.info[Cn]=this.audioTrack[Cn]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?cn.type=this.pendingTracks[0].type:cn.type="combined",this.emittedTracks+=this.pendingTracks.length,vn=mp4$3.initSegment(this.pendingTracks),cn.initSegment=new Uint8Array(vn.byteLength),cn.initSegment.set(vn),cn.data=new Uint8Array(this.pendingBytes),En=0;En<this.pendingBoxes.length;En++)cn.data.set(this.pendingBoxes[En],ln),ln+=this.pendingBoxes[En].byteLength;for(En=0;En<this.pendingCaptions.length;En++)dn=this.pendingCaptions[En],dn.startTime=clock$1.metadataTsToSeconds(dn.startPts,Sn,this.keepOriginalTimestamps),dn.endTime=clock$1.metadataTsToSeconds(dn.endPts,Sn,this.keepOriginalTimestamps),cn.captionStreams[dn.stream]=!0,cn.captions.push(dn);for(En=0;En<this.pendingMetadata.length;En++)pn=this.pendingMetadata[En],pn.cueTime=clock$1.metadataTsToSeconds(pn.pts,Sn,this.keepOriginalTimestamps),cn.metadata.push(pn);for(cn.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",cn),En=0;En<cn.captions.length;En++)dn=cn.captions[En],this.trigger("caption",dn);for(En=0;En<cn.metadata.length;En++)pn=cn.metadata[En],this.trigger("id3Frame",pn)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)};_CoalesceStream.prototype.setRemux=function(sn){this.remuxTracks=sn};_Transmuxer$1=function sn(ln){var cn=this,dn=!0,pn,vn;_Transmuxer$1.prototype.init.call(this),ln=ln||{},this.baseMediaDecodeTime=ln.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var Sn={};this.transmuxPipeline_=Sn,Sn.type="aac",Sn.metadataStream=new m2ts$3.MetadataStream,Sn.aacStream=new AacStream$1,Sn.audioTimestampRolloverStream=new m2ts$3.TimestampRolloverStream("audio"),Sn.timedMetadataTimestampRolloverStream=new m2ts$3.TimestampRolloverStream("timed-metadata"),Sn.adtsStream=new AdtsStream$2,Sn.coalesceStream=new _CoalesceStream(ln,Sn.metadataStream),Sn.headOfPipeline=Sn.aacStream,Sn.aacStream.pipe(Sn.audioTimestampRolloverStream).pipe(Sn.adtsStream),Sn.aacStream.pipe(Sn.timedMetadataTimestampRolloverStream).pipe(Sn.metadataStream).pipe(Sn.coalesceStream),Sn.metadataStream.on("timestamp",function(En){Sn.aacStream.setTimestamp(En.timeStamp)}),Sn.aacStream.on("data",function(En){En.type!=="timed-metadata"&&En.type!=="audio"||Sn.audioSegmentStream||(vn=vn||{timelineStartInfo:{baseMediaDecodeTime:cn.baseMediaDecodeTime},codec:"adts",type:"audio"},Sn.coalesceStream.numberOfTracks++,Sn.audioSegmentStream=new _AudioSegmentStream$1(vn,ln),Sn.audioSegmentStream.on("log",cn.getLogTrigger_("audioSegmentStream")),Sn.audioSegmentStream.on("timingInfo",cn.trigger.bind(cn,"audioTimingInfo")),Sn.adtsStream.pipe(Sn.audioSegmentStream).pipe(Sn.coalesceStream),cn.trigger("trackinfo",{hasAudio:!!vn,hasVideo:!!pn}))}),Sn.coalesceStream.on("data",this.trigger.bind(this,"data")),Sn.coalesceStream.on("done",this.trigger.bind(this,"done")),addPipelineLogRetriggers(this,Sn)},this.setupTsPipeline=function(){var Sn={};this.transmuxPipeline_=Sn,Sn.type="ts",Sn.metadataStream=new m2ts$3.MetadataStream,Sn.packetStream=new m2ts$3.TransportPacketStream,Sn.parseStream=new m2ts$3.TransportParseStream,Sn.elementaryStream=new m2ts$3.ElementaryStream,Sn.timestampRolloverStream=new m2ts$3.TimestampRolloverStream,Sn.adtsStream=new AdtsStream$2,Sn.h264Stream=new H264Stream$1,Sn.captionStream=new m2ts$3.CaptionStream(ln),Sn.coalesceStream=new _CoalesceStream(ln,Sn.metadataStream),Sn.headOfPipeline=Sn.packetStream,Sn.packetStream.pipe(Sn.parseStream).pipe(Sn.elementaryStream).pipe(Sn.timestampRolloverStream),Sn.timestampRolloverStream.pipe(Sn.h264Stream),Sn.timestampRolloverStream.pipe(Sn.adtsStream),Sn.timestampRolloverStream.pipe(Sn.metadataStream).pipe(Sn.coalesceStream),Sn.h264Stream.pipe(Sn.captionStream).pipe(Sn.coalesceStream),Sn.elementaryStream.on("data",function(En){var Cn;if(En.type==="metadata"){for(Cn=En.tracks.length;Cn--;)!pn&&En.tracks[Cn].type==="video"?(pn=En.tracks[Cn],pn.timelineStartInfo.baseMediaDecodeTime=cn.baseMediaDecodeTime):!vn&&En.tracks[Cn].type==="audio"&&(vn=En.tracks[Cn],vn.timelineStartInfo.baseMediaDecodeTime=cn.baseMediaDecodeTime);pn&&!Sn.videoSegmentStream&&(Sn.coalesceStream.numberOfTracks++,Sn.videoSegmentStream=new _VideoSegmentStream$1(pn,ln),Sn.videoSegmentStream.on("log",cn.getLogTrigger_("videoSegmentStream")),Sn.videoSegmentStream.on("timelineStartInfo",function(Pn){vn&&!ln.keepOriginalTimestamps&&(vn.timelineStartInfo=Pn,Sn.audioSegmentStream.setEarliestDts(Pn.dts-cn.baseMediaDecodeTime))}),Sn.videoSegmentStream.on("processedGopsInfo",cn.trigger.bind(cn,"gopInfo")),Sn.videoSegmentStream.on("segmentTimingInfo",cn.trigger.bind(cn,"videoSegmentTimingInfo")),Sn.videoSegmentStream.on("baseMediaDecodeTime",function(Pn){vn&&Sn.audioSegmentStream.setVideoBaseMediaDecodeTime(Pn)}),Sn.videoSegmentStream.on("timingInfo",cn.trigger.bind(cn,"videoTimingInfo")),Sn.h264Stream.pipe(Sn.videoSegmentStream).pipe(Sn.coalesceStream)),vn&&!Sn.audioSegmentStream&&(Sn.coalesceStream.numberOfTracks++,Sn.audioSegmentStream=new _AudioSegmentStream$1(vn,ln),Sn.audioSegmentStream.on("log",cn.getLogTrigger_("audioSegmentStream")),Sn.audioSegmentStream.on("timingInfo",cn.trigger.bind(cn,"audioTimingInfo")),Sn.audioSegmentStream.on("segmentTimingInfo",cn.trigger.bind(cn,"audioSegmentTimingInfo")),Sn.adtsStream.pipe(Sn.audioSegmentStream).pipe(Sn.coalesceStream)),cn.trigger("trackinfo",{hasAudio:!!vn,hasVideo:!!pn})}}),Sn.coalesceStream.on("data",this.trigger.bind(this,"data")),Sn.coalesceStream.on("id3Frame",function(En){En.dispatchType=Sn.metadataStream.dispatchType,cn.trigger("id3Frame",En)}),Sn.coalesceStream.on("caption",this.trigger.bind(this,"caption")),Sn.coalesceStream.on("done",this.trigger.bind(this,"done")),addPipelineLogRetriggers(this,Sn)},this.setBaseMediaDecodeTime=function(Sn){var En=this.transmuxPipeline_;ln.keepOriginalTimestamps||(this.baseMediaDecodeTime=Sn),vn&&(vn.timelineStartInfo.dts=void 0,vn.timelineStartInfo.pts=void 0,trackDecodeInfo.clearDtsInfo(vn),En.audioTimestampRolloverStream&&En.audioTimestampRolloverStream.discontinuity()),pn&&(En.videoSegmentStream&&(En.videoSegmentStream.gopCache_=[]),pn.timelineStartInfo.dts=void 0,pn.timelineStartInfo.pts=void 0,trackDecodeInfo.clearDtsInfo(pn),En.captionStream.reset()),En.timestampRolloverStream&&En.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(Sn){vn&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(Sn)},this.setRemux=function(Sn){var En=this.transmuxPipeline_;ln.remux=Sn,En&&En.coalesceStream&&En.coalesceStream.setRemux(Sn)},this.alignGopsWith=function(Sn){pn&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(Sn)},this.getLogTrigger_=function(Sn){var En=this;return function(Cn){Cn.stream=Sn,En.trigger("log",Cn)}},this.push=function(Sn){if(dn){var En=isLikelyAacData$1(Sn);En&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!En&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),dn=!1}this.transmuxPipeline_.headOfPipeline.push(Sn)},this.flush=function(){dn=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}};_Transmuxer$1.prototype=new Stream$5;var transmuxer$2={Transmuxer:_Transmuxer$1,VideoSegmentStream:_VideoSegmentStream$1,AudioSegmentStream:_AudioSegmentStream$1,AUDIO_PROPERTIES:AUDIO_PROPERTIES$1,VIDEO_PROPERTIES:VIDEO_PROPERTIES$1,generateSegmentTimingInfo},discardEmulationPreventionBytes=captionPacketParser.discardEmulationPreventionBytes,CaptionStream=captionStream.CaptionStream,findBox$1=findBox_1,parseTfdt=parseTfdt$2,parseTrun=parseTrun$2,parseTfhd=parseTfhd$2,window$1=window_1,mapToSample=function sn(ln,cn){for(var dn=ln,pn=0;pn<cn.length;pn++){var vn=cn[pn];if(dn<vn.size)return vn;dn-=vn.size}return null},findSeiNals=function sn(ln,cn,dn){var pn=new DataView(ln.buffer,ln.byteOffset,ln.byteLength),vn={logs:[],seiNals:[]},Sn,En,Cn,Pn;for(En=0;En+4<ln.length;En+=Cn)if(Cn=pn.getUint32(En),En+=4,!(Cn<=0))switch(ln[En]&31){case 6:var Rn=ln.subarray(En+1,En+1+Cn),Ln=mapToSample(En,cn);if(Sn={nalUnitType:"sei_rbsp",size:Cn,data:Rn,escapedRBSP:discardEmulationPreventionBytes(Rn),trackId:dn},Ln)Sn.pts=Ln.pts,Sn.dts=Ln.dts,Pn=Ln;else if(Pn)Sn.pts=Pn.pts,Sn.dts=Pn.dts;else{vn.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+En+" for trackId "+dn+". See mux.js#223."});break}vn.seiNals.push(Sn);break}return vn},parseSamples=function sn(ln,cn,dn){var pn=cn,vn=dn.defaultSampleDuration||0,Sn=dn.defaultSampleSize||0,En=dn.trackId,Cn=[];return ln.forEach(function(Pn){var Rn=parseTrun(Pn),Ln=Rn.samples;Ln.forEach(function(Fn){Fn.duration===void 0&&(Fn.duration=vn),Fn.size===void 0&&(Fn.size=Sn),Fn.trackId=En,Fn.dts=pn,Fn.compositionTimeOffset===void 0&&(Fn.compositionTimeOffset=0),typeof pn=="bigint"?(Fn.pts=pn+window$1.BigInt(Fn.compositionTimeOffset),pn+=window$1.BigInt(Fn.duration)):(Fn.pts=pn+Fn.compositionTimeOffset,pn+=Fn.duration)}),Cn=Cn.concat(Ln)}),Cn},parseCaptionNals=function sn(ln,cn){var dn=findBox$1(ln,["moof","traf"]),pn=findBox$1(ln,["mdat"]),vn={},Sn=[];return pn.forEach(function(En,Cn){var Pn=dn[Cn];Sn.push({mdat:En,traf:Pn})}),Sn.forEach(function(En){var Cn=En.mdat,Pn=En.traf,Rn=findBox$1(Pn,["tfhd"]),Ln=parseTfhd(Rn[0]),Fn=Ln.trackId,Gn=findBox$1(Pn,["tfdt"]),Dn=Gn.length>0?parseTfdt(Gn[0]).baseMediaDecodeTime:0,Kn=findBox$1(Pn,["trun"]),qn,Zn;cn===Fn&&Kn.length>0&&(qn=parseSamples(Kn,Dn,Ln),Zn=findSeiNals(Cn,qn,Fn),vn[Fn]||(vn[Fn]={seiNals:[],logs:[]}),vn[Fn].seiNals=vn[Fn].seiNals.concat(Zn.seiNals),vn[Fn].logs=vn[Fn].logs.concat(Zn.logs))}),vn},parseEmbeddedCaptions=function sn(ln,cn,dn){var pn;if(cn===null)return null;pn=parseCaptionNals(ln,cn);var vn=pn[cn]||{};return{seiNals:vn.seiNals,logs:vn.logs,timescale:dn}},CaptionParser=function sn(){var ln=!1,cn,dn,pn,vn,Sn,En;this.isInitialized=function(){return ln},this.init=function(Cn){cn=new CaptionStream,ln=!0,En=Cn?Cn.isPartial:!1,cn.on("data",function(Pn){Pn.startTime=Pn.startPts/vn,Pn.endTime=Pn.endPts/vn,Sn.captions.push(Pn),Sn.captionStreams[Pn.stream]=!0}),cn.on("log",function(Pn){Sn.logs.push(Pn)})},this.isNewInit=function(Cn,Pn){return Cn&&Cn.length===0||Pn&&typeof Pn=="object"&&Object.keys(Pn).length===0?!1:pn!==Cn[0]||vn!==Pn[pn]},this.parse=function(Cn,Pn,Rn){var Ln;if(this.isInitialized()){if(!Pn||!Rn)return null;if(this.isNewInit(Pn,Rn))pn=Pn[0],vn=Rn[pn];else if(pn===null||!vn)return dn.push(Cn),null}else return null;for(;dn.length>0;){var Fn=dn.shift();this.parse(Fn,Pn,Rn)}return Ln=parseEmbeddedCaptions(Cn,pn,vn),Ln&&Ln.logs&&(Sn.logs=Sn.logs.concat(Ln.logs)),Ln===null||!Ln.seiNals?Sn.logs.length?{logs:Sn.logs,captions:[],captionStreams:[]}:null:(this.pushNals(Ln.seiNals),this.flushStream(),Sn)},this.pushNals=function(Cn){if(!this.isInitialized()||!Cn||Cn.length===0)return null;Cn.forEach(function(Pn){cn.push(Pn)})},this.flushStream=function(){if(!this.isInitialized())return null;En?cn.partialFlush():cn.flush()},this.clearParsedCaptions=function(){Sn.captions=[],Sn.captionStreams={},Sn.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;cn.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){dn=[],pn=null,vn=null,Sn?this.clearParsedCaptions():Sn={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},captionParser=CaptionParser,mp4$2={generator:mp4Generator,probe:probe$2,Transmuxer:transmuxer$2.Transmuxer,AudioSegmentStream:transmuxer$2.AudioSegmentStream,VideoSegmentStream:transmuxer$2.VideoSegmentStream,CaptionParser:captionParser},_FlvTag;_FlvTag=function sn(ln,cn){var dn=0,pn=16384,vn=function(Ln,Fn){var Gn,Dn=Ln.position+Fn;Dn<Ln.bytes.byteLength||(Gn=new Uint8Array(Dn*2),Gn.set(Ln.bytes.subarray(0,Ln.position),0),Ln.bytes=Gn,Ln.view=new DataView(Ln.bytes.buffer))},Sn=_FlvTag.widthBytes||new Uint8Array(5),En=_FlvTag.heightBytes||new Uint8Array(6),Cn=_FlvTag.videocodecidBytes||new Uint8Array(12),Pn;if(!_FlvTag.widthBytes){for(Pn=0;Pn<5;Pn++)Sn[Pn]="width".charCodeAt(Pn);for(Pn=0;Pn<6;Pn++)En[Pn]="height".charCodeAt(Pn);for(Pn=0;Pn<12;Pn++)Cn[Pn]="videocodecid".charCodeAt(Pn);_FlvTag.widthBytes=Sn,_FlvTag.heightBytes=En,_FlvTag.videocodecidBytes=Cn}switch(this.keyFrame=!1,ln){case _FlvTag.VIDEO_TAG:this.length=16,pn*=6;break;case _FlvTag.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case _FlvTag.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(pn),this.view=new DataView(this.bytes.buffer),this.bytes[0]=ln,this.position=this.length,this.keyFrame=cn,this.pts=0,this.dts=0,this.writeBytes=function(Rn,Ln,Fn){var Gn=Ln||0,Dn;Fn=Fn||Rn.byteLength,Dn=Gn+Fn,vn(this,Fn),this.bytes.set(Rn.subarray(Gn,Dn),this.position),this.position+=Fn,this.length=Math.max(this.length,this.position)},this.writeByte=function(Rn){vn(this,1),this.bytes[this.position]=Rn,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(Rn){vn(this,2),this.view.setUint16(this.position,Rn),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(Rn){return this.bytes[this.length-Rn]},this.nalUnitSize=function(){return dn===0?0:this.length-(dn+4)},this.startNalUnit=function(){if(dn>0)throw new Error("Attempted to create new NAL wihout closing the old one");dn=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(Rn){var Ln,Fn;this.length===dn+4?this.length-=4:dn>0&&(Ln=dn+4,Fn=this.length-Ln,this.position=dn,this.view.setUint32(this.position,Fn),this.position=this.length,Rn&&Rn.push(this.bytes.subarray(Ln,Ln+Fn))),dn=0},this.writeMetaDataDouble=function(Rn,Ln){var Fn;if(vn(this,2+Rn.length+9),this.view.setUint16(this.position,Rn.length),this.position+=2,Rn==="width")this.bytes.set(Sn,this.position),this.position+=5;else if(Rn==="height")this.bytes.set(En,this.position),this.position+=6;else if(Rn==="videocodecid")this.bytes.set(Cn,this.position),this.position+=12;else for(Fn=0;Fn<Rn.length;Fn++)this.bytes[this.position]=Rn.charCodeAt(Fn),this.position++;this.position++,this.view.setFloat64(this.position,Ln),this.position+=8,this.length=Math.max(this.length,this.position),++dn},this.writeMetaDataBoolean=function(Rn,Ln){var Fn;for(vn(this,2),this.view.setUint16(this.position,Rn.length),this.position+=2,Fn=0;Fn<Rn.length;Fn++)vn(this,1),this.bytes[this.position]=Rn.charCodeAt(Fn),this.position++;vn(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,Ln?1:0),this.position++,this.length=Math.max(this.length,this.position),++dn},this.finalize=function(){var Rn,Ln;switch(this.bytes[0]){case _FlvTag.VIDEO_TAG:this.bytes[11]=(this.keyFrame||cn?16:32)|7,this.bytes[12]=cn?0:1,Rn=this.pts-this.dts,this.bytes[13]=(Rn&16711680)>>>16,this.bytes[14]=(Rn&65280)>>>8,this.bytes[15]=(Rn&255)>>>0;break;case _FlvTag.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=cn?0:1;break;case _FlvTag.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,dn),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position;break}return Ln=this.length-11,this.bytes[1]=(Ln&16711680)>>>16,this.bytes[2]=(Ln&65280)>>>8,this.bytes[3]=(Ln&255)>>>0,this.bytes[4]=(this.dts&16711680)>>>16,this.bytes[5]=(this.dts&65280)>>>8,this.bytes[6]=(this.dts&255)>>>0,this.bytes[7]=(this.dts&4278190080)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,vn(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=_FlvTag.frameTime(this.bytes),this}};_FlvTag.AUDIO_TAG=8;_FlvTag.VIDEO_TAG=9;_FlvTag.METADATA_TAG=18;_FlvTag.isAudioFrame=function(sn){return _FlvTag.AUDIO_TAG===sn[0]};_FlvTag.isVideoFrame=function(sn){return _FlvTag.VIDEO_TAG===sn[0]};_FlvTag.isMetaData=function(sn){return _FlvTag.METADATA_TAG===sn[0]};_FlvTag.isKeyFrame=function(sn){return _FlvTag.isVideoFrame(sn)?sn[11]===23:!!(_FlvTag.isAudioFrame(sn)||_FlvTag.isMetaData(sn))};_FlvTag.frameTime=function(sn){var ln=sn[4]<<16;return ln|=sn[5]<<8,ln|=sn[6]<<0,ln|=sn[7]<<24,ln};var flvTag=_FlvTag,Stream$4=stream,CoalesceStream$1=function sn(ln){this.numberOfTracks=0,this.metadataStream=ln.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,sn.prototype.init.call(this),this.push=function(cn){if(cn.text)return this.pendingCaptions.push(cn);if(cn.frames)return this.pendingMetadata.push(cn);cn.track.type==="video"&&(this.videoTrack=cn.track,this.videoTags=cn.tags,this.pendingTracks++),cn.track.type==="audio"&&(this.audioTrack=cn.track,this.audioTags=cn.tags,this.pendingTracks++)}};CoalesceStream$1.prototype=new Stream$4;CoalesceStream$1.prototype.flush=function(sn){var ln,cn,dn,pn,vn={tags:{},captions:[],captionStreams:{},metadata:[]};if(this.pendingTracks<this.numberOfTracks){if(sn!=="VideoSegmentStream"&&sn!=="AudioSegmentStream")return;if(this.pendingTracks===0&&(this.processedTracks++,this.processedTracks<this.numberOfTracks))return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?pn=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(pn=this.audioTrack.timelineStartInfo.pts),vn.tags.videoTags=this.videoTags,vn.tags.audioTags=this.audioTags,dn=0;dn<this.pendingCaptions.length;dn++)cn=this.pendingCaptions[dn],cn.startTime=cn.startPts-pn,cn.startTime/=9e4,cn.endTime=cn.endPts-pn,cn.endTime/=9e4,vn.captionStreams[cn.stream]=!0,vn.captions.push(cn);for(dn=0;dn<this.pendingMetadata.length;dn++)ln=this.pendingMetadata[dn],ln.cueTime=ln.pts-pn,ln.cueTime/=9e4,vn.metadata.push(ln);vn.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",vn),this.trigger("done")}};var coalesceStream=CoalesceStream$1,TagList$1=function sn(){var ln=this;this.list=[],this.push=function(cn){this.list.push({bytes:cn.bytes,dts:cn.dts,pts:cn.pts,keyFrame:cn.keyFrame,metaDataTag:cn.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return ln.list.length}})},tagList=TagList$1,Stream$3=stream,FlvTag$1=flvTag,m2ts$2=m2ts_1,AdtsStream$1=adts,H264Stream=h264.H264Stream,CoalesceStream=coalesceStream,TagList=tagList,_Transmuxer,_VideoSegmentStream,_AudioSegmentStream,collectTimelineInfo,metaDataTag,extraDataTag;collectTimelineInfo=function sn(ln,cn){typeof cn.pts=="number"&&(ln.timelineStartInfo.pts===void 0?ln.timelineStartInfo.pts=cn.pts:ln.timelineStartInfo.pts=Math.min(ln.timelineStartInfo.pts,cn.pts)),typeof cn.dts=="number"&&(ln.timelineStartInfo.dts===void 0?ln.timelineStartInfo.dts=cn.dts:ln.timelineStartInfo.dts=Math.min(ln.timelineStartInfo.dts,cn.dts))};metaDataTag=function sn(ln,cn){var dn=new FlvTag$1(FlvTag$1.METADATA_TAG);return dn.dts=cn,dn.pts=cn,dn.writeMetaDataDouble("videocodecid",7),dn.writeMetaDataDouble("width",ln.width),dn.writeMetaDataDouble("height",ln.height),dn};extraDataTag=function sn(ln,cn){var dn,pn=new FlvTag$1(FlvTag$1.VIDEO_TAG,!0);for(pn.dts=cn,pn.pts=cn,pn.writeByte(1),pn.writeByte(ln.profileIdc),pn.writeByte(ln.profileCompatibility),pn.writeByte(ln.levelIdc),pn.writeByte(255),pn.writeByte(225),pn.writeShort(ln.sps[0].length),pn.writeBytes(ln.sps[0]),pn.writeByte(ln.pps.length),dn=0;dn<ln.pps.length;++dn)pn.writeShort(ln.pps[dn].length),pn.writeBytes(ln.pps[dn]);return pn};_AudioSegmentStream=function sn(ln){var cn=[],dn=[],pn;_AudioSegmentStream.prototype.init.call(this),this.push=function(vn){collectTimelineInfo(ln,vn),ln&&(ln.audioobjecttype=vn.audioobjecttype,ln.channelcount=vn.channelcount,ln.samplerate=vn.samplerate,ln.samplingfrequencyindex=vn.samplingfrequencyindex,ln.samplesize=vn.samplesize,ln.extraData=ln.audioobjecttype<<11|ln.samplingfrequencyindex<<7|ln.channelcount<<3),vn.pts=Math.round(vn.pts/90),vn.dts=Math.round(vn.dts/90),cn.push(vn)},this.flush=function(){var vn,Sn,En,Cn=new TagList;if(cn.length===0){this.trigger("done","AudioSegmentStream");return}for(En=-1/0;cn.length;)vn=cn.shift(),dn.length&&vn.pts>=dn[0]&&(En=dn.shift(),this.writeMetaDataTags(Cn,En)),(ln.extraData!==pn||vn.pts-En>=1e3)&&(this.writeMetaDataTags(Cn,vn.pts),pn=ln.extraData,En=vn.pts),Sn=new FlvTag$1(FlvTag$1.AUDIO_TAG),Sn.pts=vn.pts,Sn.dts=vn.dts,Sn.writeBytes(vn.data),Cn.push(Sn.finalize());dn.length=0,pn=null,this.trigger("data",{track:ln,tags:Cn.list}),this.trigger("done","AudioSegmentStream")},this.writeMetaDataTags=function(vn,Sn){var En;En=new FlvTag$1(FlvTag$1.METADATA_TAG),En.pts=Sn,En.dts=Sn,En.writeMetaDataDouble("audiocodecid",10),En.writeMetaDataBoolean("stereo",ln.channelcount===2),En.writeMetaDataDouble("audiosamplerate",ln.samplerate),En.writeMetaDataDouble("audiosamplesize",16),vn.push(En.finalize()),En=new FlvTag$1(FlvTag$1.AUDIO_TAG,!0),En.pts=Sn,En.dts=Sn,En.view.setUint16(En.position,ln.extraData),En.position+=2,En.length=Math.max(En.length,En.position),vn.push(En.finalize())},this.onVideoKeyFrame=function(vn){dn.push(vn)}};_AudioSegmentStream.prototype=new Stream$3;_VideoSegmentStream=function sn(ln){var cn=[],dn,pn;_VideoSegmentStream.prototype.init.call(this),this.finishFrame=function(vn,Sn){if(Sn){if(dn&&ln&&ln.newMetadata&&(Sn.keyFrame||vn.length===0)){var En=metaDataTag(dn,Sn.dts).finalize(),Cn=extraDataTag(ln,Sn.dts).finalize();En.metaDataTag=Cn.metaDataTag=!0,vn.push(En),vn.push(Cn),ln.newMetadata=!1,this.trigger("keyframe",Sn.dts)}Sn.endNalUnit(),vn.push(Sn.finalize()),pn=null}},this.push=function(vn){collectTimelineInfo(ln,vn),vn.pts=Math.round(vn.pts/90),vn.dts=Math.round(vn.dts/90),cn.push(vn)},this.flush=function(){for(var vn,Sn=new TagList;cn.length&&cn[0].nalUnitType!=="access_unit_delimiter_rbsp";)cn.shift();if(cn.length===0){this.trigger("done","VideoSegmentStream");return}for(;cn.length;)vn=cn.shift(),vn.nalUnitType==="seq_parameter_set_rbsp"?(ln.newMetadata=!0,dn=vn.config,ln.width=dn.width,ln.height=dn.height,ln.sps=[vn.data],ln.profileIdc=dn.profileIdc,ln.levelIdc=dn.levelIdc,ln.profileCompatibility=dn.profileCompatibility,pn.endNalUnit()):vn.nalUnitType==="pic_parameter_set_rbsp"?(ln.newMetadata=!0,ln.pps=[vn.data],pn.endNalUnit()):vn.nalUnitType==="access_unit_delimiter_rbsp"?(pn&&this.finishFrame(Sn,pn),pn=new FlvTag$1(FlvTag$1.VIDEO_TAG),pn.pts=vn.pts,pn.dts=vn.dts):(vn.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(pn.keyFrame=!0),pn.endNalUnit()),pn.startNalUnit(),pn.writeBytes(vn.data);pn&&this.finishFrame(Sn,pn),this.trigger("data",{track:ln,tags:Sn.list}),this.trigger("done","VideoSegmentStream")}};_VideoSegmentStream.prototype=new Stream$3;_Transmuxer=function sn(ln){var cn=this,dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn,Gn,Dn;_Transmuxer.prototype.init.call(this),ln=ln||{},this.metadataStream=new m2ts$2.MetadataStream,ln.metadataStream=this.metadataStream,dn=new m2ts$2.TransportPacketStream,pn=new m2ts$2.TransportParseStream,vn=new m2ts$2.ElementaryStream,Sn=new m2ts$2.TimestampRolloverStream("video"),En=new m2ts$2.TimestampRolloverStream("audio"),Cn=new m2ts$2.TimestampRolloverStream("timed-metadata"),Pn=new AdtsStream$1,Rn=new H264Stream,Dn=new CoalesceStream(ln),dn.pipe(pn).pipe(vn),vn.pipe(Sn).pipe(Rn),vn.pipe(En).pipe(Pn),vn.pipe(Cn).pipe(this.metadataStream).pipe(Dn),Gn=new m2ts$2.CaptionStream(ln),Rn.pipe(Gn).pipe(Dn),vn.on("data",function(Kn){var qn,Zn,Yn;if(Kn.type==="metadata"){for(qn=Kn.tracks.length;qn--;)Kn.tracks[qn].type==="video"?Zn=Kn.tracks[qn]:Kn.tracks[qn].type==="audio"&&(Yn=Kn.tracks[qn]);Zn&&!Ln&&(Dn.numberOfTracks++,Ln=new _VideoSegmentStream(Zn),Rn.pipe(Ln).pipe(Dn)),Yn&&!Fn&&(Dn.numberOfTracks++,Fn=new _AudioSegmentStream(Yn),Pn.pipe(Fn).pipe(Dn),Ln&&Ln.on("keyframe",Fn.onVideoKeyFrame))}}),this.push=function(Kn){dn.push(Kn)},this.flush=function(){dn.flush()},this.resetCaptions=function(){Gn.reset()},Dn.on("data",function(Kn){cn.trigger("data",Kn)}),Dn.on("done",function(){cn.trigger("done")})};_Transmuxer.prototype=new Stream$3;var transmuxer$1=_Transmuxer,FlvTag=flvTag,getFlvHeader=function sn(ln,cn,dn){var pn=new Uint8Array(9),vn=new DataView(pn.buffer),Sn,En,Cn;return ln=ln||0,cn=cn===void 0?!0:cn,dn=dn===void 0?!0:dn,vn.setUint8(0,70),vn.setUint8(1,76),vn.setUint8(2,86),vn.setUint8(3,1),vn.setUint8(4,(cn?4:0)|(dn?1:0)),vn.setUint32(5,pn.byteLength),ln<=0?(En=new Uint8Array(pn.byteLength+4),En.set(pn),En.set([0,0,0,0],pn.byteLength),En):(Sn=new FlvTag(FlvTag.METADATA_TAG),Sn.pts=Sn.dts=0,Sn.writeMetaDataDouble("duration",ln),Cn=Sn.finalize().length,En=new Uint8Array(pn.byteLength+Cn),En.set(pn),En.set(vn.byteLength,Cn),En)},flvHeader=getFlvHeader,flv={tag:flvTag,Transmuxer:transmuxer$1,getFlvHeader:flvHeader},m2ts$1=m2ts_1,Stream$2=stream,mp4$1=mp4Generator,audioFrameUtils=audioFrameUtils$2,trackInfo$2=trackDecodeInfo$1,ONE_SECOND_IN_TS$1=clock$3.ONE_SECOND_IN_TS,AUDIO_PROPERTIES=audioProperties,AudioSegmentStream$1=function sn(ln,cn){var dn=[],pn=0,vn=0,Sn=0,En=1/0,Cn=null,Pn=null;cn=cn||{},sn.prototype.init.call(this),this.push=function(Rn){trackInfo$2.collectDtsInfo(ln,Rn),ln&&AUDIO_PROPERTIES.forEach(function(Ln){ln[Ln]=Rn[Ln]}),dn.push(Rn)},this.setEarliestDts=function(Rn){vn=Rn},this.setVideoBaseMediaDecodeTime=function(Rn){En=Rn},this.setAudioAppendStart=function(Rn){Sn=Rn},this.processFrames_=function(){var Rn,Ln,Fn,Gn,Dn;dn.length!==0&&(Rn=audioFrameUtils.trimAdtsFramesByEarliestDts(dn,ln,vn),Rn.length!==0&&(ln.baseMediaDecodeTime=trackInfo$2.calculateTrackBaseMediaDecodeTime(ln,cn.keepOriginalTimestamps),audioFrameUtils.prefixWithSilence(ln,Rn,Sn,En),ln.samples=audioFrameUtils.generateSampleTable(Rn),Fn=mp4$1.mdat(audioFrameUtils.concatenateFrameData(Rn)),dn=[],Ln=mp4$1.moof(pn,[ln]),pn++,ln.initSegment=mp4$1.initSegment([ln]),Gn=new Uint8Array(Ln.byteLength+Fn.byteLength),Gn.set(Ln),Gn.set(Fn,Ln.byteLength),trackInfo$2.clearDtsInfo(ln),Cn===null&&(Pn=Cn=Rn[0].pts),Pn+=Rn.length*(ONE_SECOND_IN_TS$1*1024/ln.samplerate),Dn={start:Cn},this.trigger("timingInfo",Dn),this.trigger("data",{track:ln,boxes:Gn})))},this.flush=function(){this.processFrames_(),this.trigger("timingInfo",{start:Cn,end:Pn}),this.resetTiming_(),this.trigger("done","AudioSegmentStream")},this.partialFlush=function(){this.processFrames_(),this.trigger("partialdone","AudioSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","AudioSegmentStream")},this.resetTiming_=function(){trackInfo$2.clearDtsInfo(ln),Cn=null,Pn=null},this.reset=function(){this.resetTiming_(),dn=[],this.trigger("reset")}};AudioSegmentStream$1.prototype=new Stream$2;var audioSegmentStream=AudioSegmentStream$1,Stream$1=stream,mp4=mp4Generator,trackInfo$1=trackDecodeInfo$1,frameUtils=frameUtils$2,VIDEO_PROPERTIES=videoProperties,VideoSegmentStream$1=function sn(ln,cn){var dn=0,pn=[],vn=[],Sn,En,Cn=null,Pn=null,Rn,Ln=!0;cn=cn||{},sn.prototype.init.call(this),this.push=function(Fn){trackInfo$1.collectDtsInfo(ln,Fn),typeof ln.timelineStartInfo.dts>"u"&&(ln.timelineStartInfo.dts=Fn.dts),Fn.nalUnitType==="seq_parameter_set_rbsp"&&!Sn&&(Sn=Fn.config,ln.sps=[Fn.data],VIDEO_PROPERTIES.forEach(function(Gn){ln[Gn]=Sn[Gn]},this)),Fn.nalUnitType==="pic_parameter_set_rbsp"&&!En&&(En=Fn.data,ln.pps=[Fn.data]),pn.push(Fn)},this.processNals_=function(Fn){var Gn;for(pn=vn.concat(pn);pn.length&&pn[0].nalUnitType!=="access_unit_delimiter_rbsp";)pn.shift();if(pn.length!==0){var Dn=frameUtils.groupNalsIntoFrames(pn);if(Dn.length){if(vn=Dn[Dn.length-1],Fn&&(Dn.pop(),Dn.duration-=vn.duration,Dn.nalCount-=vn.length,Dn.byteLength-=vn.byteLength),!Dn.length){pn=[];return}if(this.trigger("timelineStartInfo",ln.timelineStartInfo),Ln){if(Rn=frameUtils.groupFramesIntoGops(Dn),!Rn[0][0].keyFrame){if(Rn=frameUtils.extendFirstKeyFrame(Rn),!Rn[0][0].keyFrame){pn=[].concat.apply([],Dn).concat(vn),vn=[];return}Dn=[].concat.apply([],Rn),Dn.duration=Rn.duration}Ln=!1}for(Cn===null&&(Cn=Dn[0].pts,Pn=Cn),Pn+=Dn.duration,this.trigger("timingInfo",{start:Cn,end:Pn}),Gn=0;Gn<Dn.length;Gn++){var Kn=Dn[Gn];ln.samples=frameUtils.generateSampleTableForFrame(Kn);var qn=mp4.mdat(frameUtils.concatenateNalDataForFrame(Kn));trackInfo$1.clearDtsInfo(ln),trackInfo$1.collectDtsInfo(ln,Kn),ln.baseMediaDecodeTime=trackInfo$1.calculateTrackBaseMediaDecodeTime(ln,cn.keepOriginalTimestamps);var Zn=mp4.moof(dn,[ln]);dn++,ln.initSegment=mp4.initSegment([ln]);var Yn=new Uint8Array(Zn.byteLength+qn.byteLength);Yn.set(Zn),Yn.set(qn,Zn.byteLength),this.trigger("data",{track:ln,boxes:Yn,sequence:dn,videoFrameDts:Kn.dts,videoFramePts:Kn.pts})}pn=[]}}},this.resetTimingAndConfig_=function(){Sn=void 0,En=void 0,Cn=null,Pn=null},this.partialFlush=function(){this.processNals_(!0),this.trigger("partialdone","VideoSegmentStream")},this.flush=function(){this.processNals_(!1),this.resetTimingAndConfig_(),this.trigger("done","VideoSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","VideoSegmentStream")},this.reset=function(){this.resetTimingAndConfig_(),vn=[],pn=[],Ln=!0,this.trigger("reset")}};VideoSegmentStream$1.prototype=new Stream$1;var videoSegmentStream=VideoSegmentStream$1,Stream=stream,m2ts=m2ts_1,codecs=codecs$1,AudioSegmentStream=audioSegmentStream,VideoSegmentStream=videoSegmentStream,trackInfo=trackDecodeInfo$1,isLikelyAacData=utils.isLikelyAacData,AdtsStream=adts,AacStream=aac,clock=clock$3,createPipeline=function sn(ln){return ln.prototype=new Stream,ln.prototype.init.call(ln),ln},tsPipeline=function sn(ln){var cn={type:"ts",tracks:{audio:null,video:null},packet:new m2ts.TransportPacketStream,parse:new m2ts.TransportParseStream,elementary:new m2ts.ElementaryStream,timestampRollover:new m2ts.TimestampRolloverStream,adts:new codecs.Adts,h264:new codecs.h264.H264Stream,captionStream:new m2ts.CaptionStream(ln),metadataStream:new m2ts.MetadataStream};return cn.headOfPipeline=cn.packet,cn.packet.pipe(cn.parse).pipe(cn.elementary).pipe(cn.timestampRollover),cn.timestampRollover.pipe(cn.h264),cn.h264.pipe(cn.captionStream),cn.timestampRollover.pipe(cn.metadataStream),cn.timestampRollover.pipe(cn.adts),cn.elementary.on("data",function(dn){if(dn.type==="metadata"){for(var pn=0;pn<dn.tracks.length;pn++)cn.tracks[dn.tracks[pn].type]||(cn.tracks[dn.tracks[pn].type]=dn.tracks[pn],cn.tracks[dn.tracks[pn].type].timelineStartInfo.baseMediaDecodeTime=ln.baseMediaDecodeTime);cn.tracks.video&&!cn.videoSegmentStream&&(cn.videoSegmentStream=new VideoSegmentStream(cn.tracks.video,ln),cn.videoSegmentStream.on("timelineStartInfo",function(vn){cn.tracks.audio&&!ln.keepOriginalTimestamps&&cn.audioSegmentStream.setEarliestDts(vn.dts-ln.baseMediaDecodeTime)}),cn.videoSegmentStream.on("timingInfo",cn.trigger.bind(cn,"videoTimingInfo")),cn.videoSegmentStream.on("data",function(vn){cn.trigger("data",{type:"video",data:vn})}),cn.videoSegmentStream.on("done",cn.trigger.bind(cn,"done")),cn.videoSegmentStream.on("partialdone",cn.trigger.bind(cn,"partialdone")),cn.videoSegmentStream.on("endedtimeline",cn.trigger.bind(cn,"endedtimeline")),cn.h264.pipe(cn.videoSegmentStream)),cn.tracks.audio&&!cn.audioSegmentStream&&(cn.audioSegmentStream=new AudioSegmentStream(cn.tracks.audio,ln),cn.audioSegmentStream.on("data",function(vn){cn.trigger("data",{type:"audio",data:vn})}),cn.audioSegmentStream.on("done",cn.trigger.bind(cn,"done")),cn.audioSegmentStream.on("partialdone",cn.trigger.bind(cn,"partialdone")),cn.audioSegmentStream.on("endedtimeline",cn.trigger.bind(cn,"endedtimeline")),cn.audioSegmentStream.on("timingInfo",cn.trigger.bind(cn,"audioTimingInfo")),cn.adts.pipe(cn.audioSegmentStream)),cn.trigger("trackinfo",{hasAudio:!!cn.tracks.audio,hasVideo:!!cn.tracks.video})}}),cn.captionStream.on("data",function(dn){var pn;cn.tracks.video?pn=cn.tracks.video.timelineStartInfo.pts||0:pn=0,dn.startTime=clock.metadataTsToSeconds(dn.startPts,pn,ln.keepOriginalTimestamps),dn.endTime=clock.metadataTsToSeconds(dn.endPts,pn,ln.keepOriginalTimestamps),cn.trigger("caption",dn)}),cn=createPipeline(cn),cn.metadataStream.on("data",cn.trigger.bind(cn,"id3Frame")),cn},aacPipeline=function sn(ln){var cn={type:"aac",tracks:{audio:null},metadataStream:new m2ts.MetadataStream,aacStream:new AacStream,audioRollover:new m2ts.TimestampRolloverStream("audio"),timedMetadataRollover:new m2ts.TimestampRolloverStream("timed-metadata"),adtsStream:new AdtsStream(!0)};return cn.headOfPipeline=cn.aacStream,cn.aacStream.pipe(cn.audioRollover).pipe(cn.adtsStream),cn.aacStream.pipe(cn.timedMetadataRollover).pipe(cn.metadataStream),cn.metadataStream.on("timestamp",function(dn){cn.aacStream.setTimestamp(dn.timeStamp)}),cn.aacStream.on("data",function(dn){dn.type!=="timed-metadata"&&dn.type!=="audio"||cn.audioSegmentStream||(cn.tracks.audio=cn.tracks.audio||{timelineStartInfo:{baseMediaDecodeTime:ln.baseMediaDecodeTime},codec:"adts",type:"audio"},cn.audioSegmentStream=new AudioSegmentStream(cn.tracks.audio,ln),cn.audioSegmentStream.on("data",function(pn){cn.trigger("data",{type:"audio",data:pn})}),cn.audioSegmentStream.on("partialdone",cn.trigger.bind(cn,"partialdone")),cn.audioSegmentStream.on("done",cn.trigger.bind(cn,"done")),cn.audioSegmentStream.on("endedtimeline",cn.trigger.bind(cn,"endedtimeline")),cn.audioSegmentStream.on("timingInfo",cn.trigger.bind(cn,"audioTimingInfo")),cn.adtsStream.pipe(cn.audioSegmentStream),cn.trigger("trackinfo",{hasAudio:!!cn.tracks.audio,hasVideo:!!cn.tracks.video}))}),cn=createPipeline(cn),cn.metadataStream.on("data",cn.trigger.bind(cn,"id3Frame")),cn},setupPipelineListeners=function sn(ln,cn){ln.on("data",cn.trigger.bind(cn,"data")),ln.on("done",cn.trigger.bind(cn,"done")),ln.on("partialdone",cn.trigger.bind(cn,"partialdone")),ln.on("endedtimeline",cn.trigger.bind(cn,"endedtimeline")),ln.on("audioTimingInfo",cn.trigger.bind(cn,"audioTimingInfo")),ln.on("videoTimingInfo",cn.trigger.bind(cn,"videoTimingInfo")),ln.on("trackinfo",cn.trigger.bind(cn,"trackinfo")),ln.on("id3Frame",function(dn){dn.dispatchType=ln.metadataStream.dispatchType,dn.cueTime=clock.videoTsToSeconds(dn.pts),cn.trigger("id3Frame",dn)}),ln.on("caption",function(dn){cn.trigger("caption",dn)})},Transmuxer=function sn(ln){var cn=null,dn=!0;ln=ln||{},sn.prototype.init.call(this),ln.baseMediaDecodeTime=ln.baseMediaDecodeTime||0,this.push=function(pn){if(dn){var vn=isLikelyAacData(pn);vn&&(!cn||cn.type!=="aac")?(cn=aacPipeline(ln),setupPipelineListeners(cn,this)):!vn&&(!cn||cn.type!=="ts")&&(cn=tsPipeline(ln),setupPipelineListeners(cn,this)),dn=!1}cn.headOfPipeline.push(pn)},this.flush=function(){cn&&(dn=!0,cn.headOfPipeline.flush())},this.partialFlush=function(){cn&&cn.headOfPipeline.partialFlush()},this.endTimeline=function(){cn&&cn.headOfPipeline.endTimeline()},this.reset=function(){cn&&cn.headOfPipeline.reset()},this.setBaseMediaDecodeTime=function(pn){ln.keepOriginalTimestamps||(ln.baseMediaDecodeTime=pn),cn&&(cn.tracks.audio&&(cn.tracks.audio.timelineStartInfo.dts=void 0,cn.tracks.audio.timelineStartInfo.pts=void 0,trackInfo.clearDtsInfo(cn.tracks.audio),cn.audioRollover&&cn.audioRollover.discontinuity()),cn.tracks.video&&(cn.videoSegmentStream&&(cn.videoSegmentStream.gopCache_=[]),cn.tracks.video.timelineStartInfo.dts=void 0,cn.tracks.video.timelineStartInfo.pts=void 0,trackInfo.clearDtsInfo(cn.tracks.video)),cn.timestampRollover&&cn.timestampRollover.discontinuity())},this.setRemux=function(pn){ln.remux=pn,cn&&cn.coalesceStream&&cn.coalesceStream.setRemux(pn)},this.setAudioAppendStart=function(pn){!cn||!cn.tracks.audio||!cn.audioSegmentStream||cn.audioSegmentStream.setAudioAppendStart(pn)},this.alignGopsWith=function(pn){}};Transmuxer.prototype=new Stream;var transmuxer=Transmuxer,partial={Transmuxer:transmuxer},parseSidx_1,hasRequiredParseSidx;function requireParseSidx(){if(hasRequiredParseSidx)return parseSidx_1;hasRequiredParseSidx=1;var sn=numbers.getUint64,ln=function(dn){var pn=new DataView(dn.buffer,dn.byteOffset,dn.byteLength),vn={version:dn[0],flags:new Uint8Array(dn.subarray(1,4)),references:[],referenceId:pn.getUint32(4),timescale:pn.getUint32(8)},Sn=12;vn.version===0?(vn.earliestPresentationTime=pn.getUint32(Sn),vn.firstOffset=pn.getUint32(Sn+4),Sn+=8):(vn.earliestPresentationTime=sn(dn.subarray(Sn)),vn.firstOffset=sn(dn.subarray(Sn+8)),Sn+=16),Sn+=2;var En=pn.getUint16(Sn);for(Sn+=2;En>0;Sn+=12,En--)vn.references.push({referenceType:(dn[Sn]&128)>>>7,referencedSize:pn.getUint32(Sn)&2147483647,subsegmentDuration:pn.getUint32(Sn+4),startsWithSap:!!(dn[Sn+8]&128),sapType:(dn[Sn+8]&112)>>>4,sapDeltaTime:pn.getUint32(Sn+8)&268435455});return vn};return parseSidx_1=ln,parseSidx_1}var numberHelpers=numbers;numberHelpers.MAX_UINT32;var getUint64=numberHelpers.getUint64,inspectMp4,_textifyMp,parseMp4Date=function sn(ln){return new Date(ln*1e3-20828448e5)},parseType$1=parseType_1,findBox=findBox_1,nalParse=function sn(ln){var cn=new DataView(ln.buffer,ln.byteOffset,ln.byteLength),dn=[],pn,vn;for(pn=0;pn+4<ln.length;pn+=vn){if(vn=cn.getUint32(pn),pn+=4,vn<=0){dn.push("<span style='color:red;'>MALFORMED DATA</span>");continue}switch(ln[pn]&31){case 1:dn.push("slice_layer_without_partitioning_rbsp");break;case 5:dn.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:dn.push("sei_rbsp");break;case 7:dn.push("seq_parameter_set_rbsp");break;case 8:dn.push("pic_parameter_set_rbsp");break;case 9:dn.push("access_unit_delimiter_rbsp");break;default:dn.push("UNKNOWN NAL - "+ln[pn]&31);break}}return dn},parse={avc1:function sn(ln){var cn=new DataView(ln.buffer,ln.byteOffset,ln.byteLength);return{dataReferenceIndex:cn.getUint16(6),width:cn.getUint16(24),height:cn.getUint16(26),horizresolution:cn.getUint16(28)+cn.getUint16(30)/16,vertresolution:cn.getUint16(32)+cn.getUint16(34)/16,frameCount:cn.getUint16(40),depth:cn.getUint16(74),config:inspectMp4(ln.subarray(78,ln.byteLength))}},avcC:function sn(ln){var cn=new DataView(ln.buffer,ln.byteOffset,ln.byteLength),dn={configurationVersion:ln[0],avcProfileIndication:ln[1],profileCompatibility:ln[2],avcLevelIndication:ln[3],lengthSizeMinusOne:ln[4]&3,sps:[],pps:[]},pn=ln[5]&31,vn,Sn,En,Cn;for(En=6,Cn=0;Cn<pn;Cn++)Sn=cn.getUint16(En),En+=2,dn.sps.push(new Uint8Array(ln.subarray(En,En+Sn))),En+=Sn;for(vn=ln[En],En++,Cn=0;Cn<vn;Cn++)Sn=cn.getUint16(En),En+=2,dn.pps.push(new Uint8Array(ln.subarray(En,En+Sn))),En+=Sn;return dn},btrt:function sn(ln){var cn=new DataView(ln.buffer,ln.byteOffset,ln.byteLength);return{bufferSizeDB:cn.getUint32(0),maxBitrate:cn.getUint32(4),avgBitrate:cn.getUint32(8)}},edts:function sn(ln){return{boxes:inspectMp4(ln)}},elst:function sn(ln){var cn=new DataView(ln.buffer,ln.byteOffset,ln.byteLength),dn={version:cn.getUint8(0),flags:new Uint8Array(ln.subarray(1,4)),edits:[]},pn=cn.getUint32(4),vn;for(vn=8;pn;pn--)dn.version===0?(dn.edits.push({segmentDuration:cn.getUint32(vn),mediaTime:cn.getInt32(vn+4),mediaRate:cn.getUint16(vn+8)+cn.getUint16(vn+10)/(256*256)}),vn+=12):(dn.edits.push({segmentDuration:getUint64(ln.subarray(vn)),mediaTime:getUint64(ln.subarray(vn+8)),mediaRate:cn.getUint16(vn+16)+cn.getUint16(vn+18)/(256*256)}),vn+=20);return dn},esds:function sn(ln){return{version:ln[0],flags:new Uint8Array(ln.subarray(1,4)),esId:ln[6]<<8|ln[7],streamPriority:ln[8]&31,decoderConfig:{objectProfileIndication:ln[11],streamType:ln[12]>>>2&63,bufferSize:ln[13]<<16|ln[14]<<8|ln[15],maxBitrate:ln[16]<<24|ln[17]<<16|ln[18]<<8|ln[19],avgBitrate:ln[20]<<24|ln[21]<<16|ln[22]<<8|ln[23],decoderConfigDescriptor:{tag:ln[24],length:ln[25],audioObjectType:ln[26]>>>3&31,samplingFrequencyIndex:(ln[26]&7)<<1|ln[27]>>>7&1,channelConfiguration:ln[27]>>>3&15}}}},ftyp:function sn(ln){for(var cn=new DataView(ln.buffer,ln.byteOffset,ln.byteLength),dn={majorBrand:parseType$1(ln.subarray(0,4)),minorVersion:cn.getUint32(4),compatibleBrands:[]},pn=8;pn<ln.byteLength;)dn.compatibleBrands.push(parseType$1(ln.subarray(pn,pn+4))),pn+=4;return dn},dinf:function sn(ln){return{boxes:inspectMp4(ln)}},dref:function sn(ln){return{version:ln[0],flags:new Uint8Array(ln.subarray(1,4)),dataReferences:inspectMp4(ln.subarray(8))}},hdlr:function sn(ln){var cn=new DataView(ln.buffer,ln.byteOffset,ln.byteLength),dn={version:cn.getUint8(0),flags:new Uint8Array(ln.subarray(1,4)),handlerType:parseType$1(ln.subarray(8,12)),name:""},pn=8;for(pn=24;pn<ln.byteLength;pn++){if(ln[pn]===0){pn++;break}dn.name+=String.fromCharCode(ln[pn])}return dn.name=decodeURIComponent(escape(dn.name)),dn},mdat:function sn(ln){return{byteLength:ln.byteLength,nals:nalParse(ln)}},mdhd:function sn(ln){var cn=new DataView(ln.buffer,ln.byteOffset,ln.byteLength),dn=4,pn,vn={version:cn.getUint8(0),flags:new Uint8Array(ln.subarray(1,4)),language:""};return vn.version===1?(dn+=4,vn.creationTime=parseMp4Date(cn.getUint32(dn)),dn+=8,vn.modificationTime=parseMp4Date(cn.getUint32(dn)),dn+=4,vn.timescale=cn.getUint32(dn),dn+=8,vn.duration=cn.getUint32(dn)):(vn.creationTime=parseMp4Date(cn.getUint32(dn)),dn+=4,vn.modificationTime=parseMp4Date(cn.getUint32(dn)),dn+=4,vn.timescale=cn.getUint32(dn),dn+=4,vn.duration=cn.getUint32(dn)),dn+=4,pn=cn.getUint16(dn),vn.language+=String.fromCharCode((pn>>10)+96),vn.language+=String.fromCharCode(((pn&992)>>5)+96),vn.language+=String.fromCharCode((pn&31)+96),vn},mdia:function sn(ln){return{boxes:inspectMp4(ln)}},mfhd:function sn(ln){return{version:ln[0],flags:new Uint8Array(ln.subarray(1,4)),sequenceNumber:ln[4]<<24|ln[5]<<16|ln[6]<<8|ln[7]}},minf:function sn(ln){return{boxes:inspectMp4(ln)}},mp4a:function sn(ln){var cn=new DataView(ln.buffer,ln.byteOffset,ln.byteLength),dn={dataReferenceIndex:cn.getUint16(6),channelcount:cn.getUint16(16),samplesize:cn.getUint16(18),samplerate:cn.getUint16(24)+cn.getUint16(26)/65536};return ln.byteLength>28&&(dn.streamDescriptor=inspectMp4(ln.subarray(28))[0]),dn},moof:function sn(ln){return{boxes:inspectMp4(ln)}},moov:function sn(ln){return{boxes:inspectMp4(ln)}},mvex:function sn(ln){return{boxes:inspectMp4(ln)}},mvhd:function sn(ln){var cn=new DataView(ln.buffer,ln.byteOffset,ln.byteLength),dn=4,pn={version:cn.getUint8(0),flags:new Uint8Array(ln.subarray(1,4))};return pn.version===1?(dn+=4,pn.creationTime=parseMp4Date(cn.getUint32(dn)),dn+=8,pn.modificationTime=parseMp4Date(cn.getUint32(dn)),dn+=4,pn.timescale=cn.getUint32(dn),dn+=8,pn.duration=cn.getUint32(dn)):(pn.creationTime=parseMp4Date(cn.getUint32(dn)),dn+=4,pn.modificationTime=parseMp4Date(cn.getUint32(dn)),dn+=4,pn.timescale=cn.getUint32(dn),dn+=4,pn.duration=cn.getUint32(dn)),dn+=4,pn.rate=cn.getUint16(dn)+cn.getUint16(dn+2)/16,dn+=4,pn.volume=cn.getUint8(dn)+cn.getUint8(dn+1)/8,dn+=2,dn+=2,dn+=2*4,pn.matrix=new Uint32Array(ln.subarray(dn,dn+9*4)),dn+=9*4,dn+=6*4,pn.nextTrackId=cn.getUint32(dn),pn},pdin:function sn(ln){var cn=new DataView(ln.buffer,ln.byteOffset,ln.byteLength);return{version:cn.getUint8(0),flags:new Uint8Array(ln.subarray(1,4)),rate:cn.getUint32(4),initialDelay:cn.getUint32(8)}},sdtp:function sn(ln){var cn={version:ln[0],flags:new Uint8Array(ln.subarray(1,4)),samples:[]},dn;for(dn=4;dn<ln.byteLength;dn++)cn.samples.push({dependsOn:(ln[dn]&48)>>4,isDependedOn:(ln[dn]&12)>>2,hasRedundancy:ln[dn]&3});return cn},sidx:requireParseSidx(),smhd:function sn(ln){return{version:ln[0],flags:new Uint8Array(ln.subarray(1,4)),balance:ln[4]+ln[5]/256}},stbl:function sn(ln){return{boxes:inspectMp4(ln)}},ctts:function sn(ln){var cn=new DataView(ln.buffer,ln.byteOffset,ln.byteLength),dn={version:cn.getUint8(0),flags:new Uint8Array(ln.subarray(1,4)),compositionOffsets:[]},pn=cn.getUint32(4),vn;for(vn=8;pn;vn+=8,pn--)dn.compositionOffsets.push({sampleCount:cn.getUint32(vn),sampleOffset:cn[dn.version===0?"getUint32":"getInt32"](vn+4)});return dn},stss:function sn(ln){var cn=new DataView(ln.buffer,ln.byteOffset,ln.byteLength),dn={version:cn.getUint8(0),flags:new Uint8Array(ln.subarray(1,4)),syncSamples:[]},pn=cn.getUint32(4),vn;for(vn=8;pn;vn+=4,pn--)dn.syncSamples.push(cn.getUint32(vn));return dn},stco:function sn(ln){var cn=new DataView(ln.buffer,ln.byteOffset,ln.byteLength),dn={version:ln[0],flags:new Uint8Array(ln.subarray(1,4)),chunkOffsets:[]},pn=cn.getUint32(4),vn;for(vn=8;pn;vn+=4,pn--)dn.chunkOffsets.push(cn.getUint32(vn));return dn},stsc:function sn(ln){var cn=new DataView(ln.buffer,ln.byteOffset,ln.byteLength),dn=cn.getUint32(4),pn={version:ln[0],flags:new Uint8Array(ln.subarray(1,4)),sampleToChunks:[]},vn;for(vn=8;dn;vn+=12,dn--)pn.sampleToChunks.push({firstChunk:cn.getUint32(vn),samplesPerChunk:cn.getUint32(vn+4),sampleDescriptionIndex:cn.getUint32(vn+8)});return pn},stsd:function sn(ln){return{version:ln[0],flags:new Uint8Array(ln.subarray(1,4)),sampleDescriptions:inspectMp4(ln.subarray(8))}},stsz:function sn(ln){var cn=new DataView(ln.buffer,ln.byteOffset,ln.byteLength),dn={version:ln[0],flags:new Uint8Array(ln.subarray(1,4)),sampleSize:cn.getUint32(4),entries:[]},pn;for(pn=12;pn<ln.byteLength;pn+=4)dn.entries.push(cn.getUint32(pn));return dn},stts:function sn(ln){var cn=new DataView(ln.buffer,ln.byteOffset,ln.byteLength),dn={version:ln[0],flags:new Uint8Array(ln.subarray(1,4)),timeToSamples:[]},pn=cn.getUint32(4),vn;for(vn=8;pn;vn+=8,pn--)dn.timeToSamples.push({sampleCount:cn.getUint32(vn),sampleDelta:cn.getUint32(vn+4)});return dn},styp:function sn(ln){return parse.ftyp(ln)},tfdt:parseTfdt$2,tfhd:parseTfhd$2,tkhd:function sn(ln){var cn=new DataView(ln.buffer,ln.byteOffset,ln.byteLength),dn=4,pn={version:cn.getUint8(0),flags:new Uint8Array(ln.subarray(1,4))};return pn.version===1?(dn+=4,pn.creationTime=parseMp4Date(cn.getUint32(dn)),dn+=8,pn.modificationTime=parseMp4Date(cn.getUint32(dn)),dn+=4,pn.trackId=cn.getUint32(dn),dn+=4,dn+=8,pn.duration=cn.getUint32(dn)):(pn.creationTime=parseMp4Date(cn.getUint32(dn)),dn+=4,pn.modificationTime=parseMp4Date(cn.getUint32(dn)),dn+=4,pn.trackId=cn.getUint32(dn),dn+=4,dn+=4,pn.duration=cn.getUint32(dn)),dn+=4,dn+=2*4,pn.layer=cn.getUint16(dn),dn+=2,pn.alternateGroup=cn.getUint16(dn),dn+=2,pn.volume=cn.getUint8(dn)+cn.getUint8(dn+1)/8,dn+=2,dn+=2,pn.matrix=new Uint32Array(ln.subarray(dn,dn+9*4)),dn+=9*4,pn.width=cn.getUint16(dn)+cn.getUint16(dn+2)/65536,dn+=4,pn.height=cn.getUint16(dn)+cn.getUint16(dn+2)/65536,pn},traf:function sn(ln){return{boxes:inspectMp4(ln)}},trak:function sn(ln){return{boxes:inspectMp4(ln)}},trex:function sn(ln){var cn=new DataView(ln.buffer,ln.byteOffset,ln.byteLength);return{version:ln[0],flags:new Uint8Array(ln.subarray(1,4)),trackId:cn.getUint32(4),defaultSampleDescriptionIndex:cn.getUint32(8),defaultSampleDuration:cn.getUint32(12),defaultSampleSize:cn.getUint32(16),sampleDependsOn:ln[20]&3,sampleIsDependedOn:(ln[21]&192)>>6,sampleHasRedundancy:(ln[21]&48)>>4,samplePaddingValue:(ln[21]&14)>>1,sampleIsDifferenceSample:!!(ln[21]&1),sampleDegradationPriority:cn.getUint16(22)}},trun:parseTrun$2,"url ":function sn(ln){return{version:ln[0],flags:new Uint8Array(ln.subarray(1,4))}},vmhd:function sn(ln){var cn=new DataView(ln.buffer,ln.byteOffset,ln.byteLength);return{version:ln[0],flags:new Uint8Array(ln.subarray(1,4)),graphicsmode:cn.getUint16(4),opcolor:new Uint16Array([cn.getUint16(6),cn.getUint16(8),cn.getUint16(10)])}}};inspectMp4=function sn(ln){for(var cn=0,dn=[],pn,vn,Sn,En,Cn,Pn=new ArrayBuffer(ln.length),Rn=new Uint8Array(Pn),Ln=0;Ln<ln.length;++Ln)Rn[Ln]=ln[Ln];for(pn=new DataView(Pn);cn<ln.byteLength;)vn=pn.getUint32(cn),Sn=parseType$1(ln.subarray(cn+4,cn+8)),En=vn>1?cn+vn:ln.byteLength,Cn=(parse[Sn]||function(Fn){return{data:Fn}})(ln.subarray(cn+8,En)),Cn.size=vn,Cn.type=Sn,dn.push(Cn),cn=En;return dn};_textifyMp=function sn(ln,cn){var dn;return cn=cn||0,dn=new Array(cn*2+1).join(" "),ln.map(function(pn,vn){return dn+pn.type+`
`+Object.keys(pn).filter(function(Sn){return Sn!=="type"&&Sn!=="boxes"}).map(function(Sn){var En=dn+"  "+Sn+": ",Cn=pn[Sn];if(Cn instanceof Uint8Array||Cn instanceof Uint32Array){var Pn=Array.prototype.slice.call(new Uint8Array(Cn.buffer,Cn.byteOffset,Cn.byteLength)).map(function(Rn){return" "+("00"+Rn.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return Pn?Pn.length===1?En+"<"+Pn.join("").slice(1)+">":En+`<
`+Pn.map(function(Rn){return dn+"  "+Rn}).join(`
`)+`
`+dn+"  >":En+"<>"}return En+JSON.stringify(Cn,null,2).split(`
`).map(function(Rn,Ln){return Ln===0?Rn:dn+"  "+Rn}).join(`
`)}).join(`
`)+(pn.boxes?`
`+_textifyMp(pn.boxes,cn+1):"")}).join(`
`)};var mp4Inspector={inspect:inspectMp4,textify:_textifyMp,parseType:parseType$1,findBox,parseTraf:parse.traf,parseTfdt:parse.tfdt,parseHdlr:parse.hdlr,parseTfhd:parse.tfhd,parseTrun:parse.trun,parseSidx:parse.sidx},tagTypes={8:"audio",9:"video",18:"metadata"},hex=function sn(ln){return"0x"+("00"+ln.toString(16)).slice(-2).toUpperCase()},hexStringList=function sn(ln){for(var cn=[],dn;ln.byteLength>0;)dn=0,cn.push(hex(ln[dn++])),ln=ln.subarray(dn);return cn.join(" ")},parseAVCTag=function sn(ln,cn){var dn=["AVC Sequence Header","AVC NALU","AVC End-of-Sequence"],pn=ln[1]&parseInt("01111111",2)<<16|ln[2]<<8|ln[3];return cn=cn||{},cn.avcPacketType=dn[ln[0]],cn.CompositionTime=ln[1]&parseInt("10000000",2)?-pn:pn,ln[0]===1?cn.nalUnitTypeRaw=hexStringList(ln.subarray(4,100)):cn.data=hexStringList(ln.subarray(4)),cn},parseVideoTag=function sn(ln,cn){var dn=["Unknown","Keyframe (for AVC, a seekable frame)","Inter frame (for AVC, a nonseekable frame)","Disposable inter frame (H.263 only)","Generated keyframe (reserved for server use only)","Video info/command frame"],pn=ln[0]&parseInt("00001111",2);return cn=cn||{},cn.frameType=dn[(ln[0]&parseInt("11110000",2))>>>4],cn.codecID=pn,pn===7?parseAVCTag(ln.subarray(1),cn):cn},parseAACTag=function sn(ln,cn){var dn=["AAC Sequence Header","AAC Raw"];return cn=cn||{},cn.aacPacketType=dn[ln[0]],cn.data=hexStringList(ln.subarray(1)),cn},parseAudioTag=function sn(ln,cn){var dn=["Linear PCM, platform endian","ADPCM","MP3","Linear PCM, little endian","Nellymoser 16-kHz mono","Nellymoser 8-kHz mono","Nellymoser","G.711 A-law logarithmic PCM","G.711 mu-law logarithmic PCM","reserved","AAC","Speex","MP3 8-Khz","Device-specific sound"],pn=["5.5-kHz","11-kHz","22-kHz","44-kHz"],vn=(ln[0]&parseInt("11110000",2))>>>4;return cn=cn||{},cn.soundFormat=dn[vn],cn.soundRate=pn[(ln[0]&parseInt("00001100",2))>>>2],cn.soundSize=(ln[0]&parseInt("00000010",2))>>>1?"16-bit":"8-bit",cn.soundType=ln[0]&parseInt("00000001",2)?"Stereo":"Mono",vn===10?parseAACTag(ln.subarray(1),cn):cn},parseGenericTag=function sn(ln){return{tagType:tagTypes[ln[0]],dataSize:ln[1]<<16|ln[2]<<8|ln[3],timestamp:ln[7]<<24|ln[4]<<16|ln[5]<<8|ln[6],streamID:ln[8]<<16|ln[9]<<8|ln[10]}},inspectFlvTag=function sn(ln){var cn=parseGenericTag(ln);switch(ln[0]){case 8:parseAudioTag(ln.subarray(11),cn);break;case 9:parseVideoTag(ln.subarray(11),cn);break}return cn},inspectFlv=function sn(ln){var cn=9,dn,pn=[],vn;for(cn+=4;cn<ln.byteLength;)dn=ln[cn+1]<<16,dn|=ln[cn+2]<<8,dn|=ln[cn+3],dn+=11,vn=ln.subarray(cn,cn+dn),pn.push(inspectFlvTag(vn)),cn+=dn+4;return pn},textifyFlv=function sn(ln){return JSON.stringify(ln,null,2)},flvInspector={inspectTag:inspectFlvTag,inspect:inspectFlv,textify:textifyFlv},StreamTypes$1=streamTypes,parsePid=function sn(ln){var cn=ln[1]&31;return cn<<=8,cn|=ln[2],cn},parsePayloadUnitStartIndicator=function sn(ln){return!!(ln[1]&64)},parseAdaptionField=function sn(ln){var cn=0;return(ln[3]&48)>>>4>1&&(cn+=ln[4]+1),cn},parseType=function sn(ln,cn){var dn=parsePid(ln);return dn===0?"pat":dn===cn?"pmt":cn?"pes":null},parsePat=function sn(ln){var cn=parsePayloadUnitStartIndicator(ln),dn=4+parseAdaptionField(ln);return cn&&(dn+=ln[dn]+1),(ln[dn+10]&31)<<8|ln[dn+11]},parsePmt=function sn(ln){var cn={},dn=parsePayloadUnitStartIndicator(ln),pn=4+parseAdaptionField(ln);if(dn&&(pn+=ln[pn]+1),!!(ln[pn+5]&1)){var vn,Sn,En;vn=(ln[pn+1]&15)<<8|ln[pn+2],Sn=3+vn-4,En=(ln[pn+10]&15)<<8|ln[pn+11];for(var Cn=12+En;Cn<Sn;){var Pn=pn+Cn;cn[(ln[Pn+1]&31)<<8|ln[Pn+2]]=ln[Pn],Cn+=((ln[Pn+3]&15)<<8|ln[Pn+4])+5}return cn}},parsePesType=function sn(ln,cn){var dn=parsePid(ln),pn=cn[dn];switch(pn){case StreamTypes$1.H264_STREAM_TYPE:return"video";case StreamTypes$1.ADTS_STREAM_TYPE:return"audio";case StreamTypes$1.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime=function sn(ln){var cn=parsePayloadUnitStartIndicator(ln);if(!cn)return null;var dn=4+parseAdaptionField(ln);if(dn>=ln.byteLength)return null;var pn=null,vn;return vn=ln[dn+7],vn&192&&(pn={},pn.pts=(ln[dn+9]&14)<<27|(ln[dn+10]&255)<<20|(ln[dn+11]&254)<<12|(ln[dn+12]&255)<<5|(ln[dn+13]&254)>>>3,pn.pts*=4,pn.pts+=(ln[dn+13]&6)>>>1,pn.dts=pn.pts,vn&64&&(pn.dts=(ln[dn+14]&14)<<27|(ln[dn+15]&255)<<20|(ln[dn+16]&254)<<12|(ln[dn+17]&255)<<5|(ln[dn+18]&254)>>>3,pn.dts*=4,pn.dts+=(ln[dn+18]&6)>>>1)),pn},parseNalUnitType=function sn(ln){switch(ln){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},videoPacketContainsKeyFrame=function sn(ln){for(var cn=4+parseAdaptionField(ln),dn=ln.subarray(cn),pn=0,vn=0,Sn=!1,En;vn<dn.byteLength-3;vn++)if(dn[vn+2]===1){pn=vn+5;break}for(;pn<dn.byteLength;)switch(dn[pn]){case 0:if(dn[pn-1]!==0){pn+=2;break}else if(dn[pn-2]!==0){pn++;break}vn+3!==pn-2&&(En=parseNalUnitType(dn[vn+3]&31),En==="slice_layer_without_partitioning_rbsp_idr"&&(Sn=!0));do pn++;while(dn[pn]!==1&&pn<dn.length);vn=pn-2,pn+=3;break;case 1:if(dn[pn-1]!==0||dn[pn-2]!==0){pn+=3;break}En=parseNalUnitType(dn[vn+3]&31),En==="slice_layer_without_partitioning_rbsp_idr"&&(Sn=!0),vn=pn-2,pn+=3;break;default:pn+=3;break}return dn=dn.subarray(vn),pn-=vn,vn=0,dn&&dn.byteLength>3&&(En=parseNalUnitType(dn[vn+3]&31),En==="slice_layer_without_partitioning_rbsp_idr"&&(Sn=!0)),Sn},probe$1={parseType,parsePat,parsePmt,parsePayloadUnitStartIndicator,parsePesType,parsePesTime,videoPacketContainsKeyFrame},StreamTypes=streamTypes,handleRollover=timestampRolloverStream.handleRollover,probe={};probe.ts=probe$1;probe.aac=utils;var ONE_SECOND_IN_TS=clock$3.ONE_SECOND_IN_TS,MP2T_PACKET_LENGTH=188,SYNC_BYTE=71,parsePsi_=function sn(ln,cn){for(var dn=0,pn=MP2T_PACKET_LENGTH,vn,Sn;pn<ln.byteLength;){if(ln[dn]===SYNC_BYTE&&ln[pn]===SYNC_BYTE){switch(vn=ln.subarray(dn,pn),Sn=probe.ts.parseType(vn,cn.pid),Sn){case"pat":cn.pid=probe.ts.parsePat(vn);break;case"pmt":var En=probe.ts.parsePmt(vn);cn.table=cn.table||{},Object.keys(En).forEach(function(Cn){cn.table[Cn]=En[Cn]});break}dn+=MP2T_PACKET_LENGTH,pn+=MP2T_PACKET_LENGTH;continue}dn++,pn++}},parseAudioPes_=function sn(ln,cn,dn){for(var pn=0,vn=MP2T_PACKET_LENGTH,Sn,En,Cn,Pn,Rn,Ln=!1;vn<=ln.byteLength;){if(ln[pn]===SYNC_BYTE&&(ln[vn]===SYNC_BYTE||vn===ln.byteLength)){switch(Sn=ln.subarray(pn,vn),En=probe.ts.parseType(Sn,cn.pid),En){case"pes":Cn=probe.ts.parsePesType(Sn,cn.table),Pn=probe.ts.parsePayloadUnitStartIndicator(Sn),Cn==="audio"&&Pn&&(Rn=probe.ts.parsePesTime(Sn),Rn&&(Rn.type="audio",dn.audio.push(Rn),Ln=!0));break}if(Ln)break;pn+=MP2T_PACKET_LENGTH,vn+=MP2T_PACKET_LENGTH;continue}pn++,vn++}for(vn=ln.byteLength,pn=vn-MP2T_PACKET_LENGTH,Ln=!1;pn>=0;){if(ln[pn]===SYNC_BYTE&&(ln[vn]===SYNC_BYTE||vn===ln.byteLength)){switch(Sn=ln.subarray(pn,vn),En=probe.ts.parseType(Sn,cn.pid),En){case"pes":Cn=probe.ts.parsePesType(Sn,cn.table),Pn=probe.ts.parsePayloadUnitStartIndicator(Sn),Cn==="audio"&&Pn&&(Rn=probe.ts.parsePesTime(Sn),Rn&&(Rn.type="audio",dn.audio.push(Rn),Ln=!0));break}if(Ln)break;pn-=MP2T_PACKET_LENGTH,vn-=MP2T_PACKET_LENGTH;continue}pn--,vn--}},parseVideoPes_=function sn(ln,cn,dn){for(var pn=0,vn=MP2T_PACKET_LENGTH,Sn,En,Cn,Pn,Rn,Ln,Fn,Gn,Dn=!1,Kn={data:[],size:0};vn<ln.byteLength;){if(ln[pn]===SYNC_BYTE&&ln[vn]===SYNC_BYTE){switch(Sn=ln.subarray(pn,vn),En=probe.ts.parseType(Sn,cn.pid),En){case"pes":if(Cn=probe.ts.parsePesType(Sn,cn.table),Pn=probe.ts.parsePayloadUnitStartIndicator(Sn),Cn==="video"&&(Pn&&!Dn&&(Rn=probe.ts.parsePesTime(Sn),Rn&&(Rn.type="video",dn.video.push(Rn),Dn=!0)),!dn.firstKeyFrame)){if(Pn&&Kn.size!==0){for(Ln=new Uint8Array(Kn.size),Fn=0;Kn.data.length;)Gn=Kn.data.shift(),Ln.set(Gn,Fn),Fn+=Gn.byteLength;if(probe.ts.videoPacketContainsKeyFrame(Ln)){var qn=probe.ts.parsePesTime(Ln);qn?(dn.firstKeyFrame=qn,dn.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}Kn.size=0}Kn.data.push(Sn),Kn.size+=Sn.byteLength}break}if(Dn&&dn.firstKeyFrame)break;pn+=MP2T_PACKET_LENGTH,vn+=MP2T_PACKET_LENGTH;continue}pn++,vn++}for(vn=ln.byteLength,pn=vn-MP2T_PACKET_LENGTH,Dn=!1;pn>=0;){if(ln[pn]===SYNC_BYTE&&ln[vn]===SYNC_BYTE){switch(Sn=ln.subarray(pn,vn),En=probe.ts.parseType(Sn,cn.pid),En){case"pes":Cn=probe.ts.parsePesType(Sn,cn.table),Pn=probe.ts.parsePayloadUnitStartIndicator(Sn),Cn==="video"&&Pn&&(Rn=probe.ts.parsePesTime(Sn),Rn&&(Rn.type="video",dn.video.push(Rn),Dn=!0));break}if(Dn)break;pn-=MP2T_PACKET_LENGTH,vn-=MP2T_PACKET_LENGTH;continue}pn--,vn--}},adjustTimestamp_=function sn(ln,cn){if(ln.audio&&ln.audio.length){var dn=cn;(typeof dn>"u"||isNaN(dn))&&(dn=ln.audio[0].dts),ln.audio.forEach(function(Sn){Sn.dts=handleRollover(Sn.dts,dn),Sn.pts=handleRollover(Sn.pts,dn),Sn.dtsTime=Sn.dts/ONE_SECOND_IN_TS,Sn.ptsTime=Sn.pts/ONE_SECOND_IN_TS})}if(ln.video&&ln.video.length){var pn=cn;if((typeof pn>"u"||isNaN(pn))&&(pn=ln.video[0].dts),ln.video.forEach(function(Sn){Sn.dts=handleRollover(Sn.dts,pn),Sn.pts=handleRollover(Sn.pts,pn),Sn.dtsTime=Sn.dts/ONE_SECOND_IN_TS,Sn.ptsTime=Sn.pts/ONE_SECOND_IN_TS}),ln.firstKeyFrame){var vn=ln.firstKeyFrame;vn.dts=handleRollover(vn.dts,pn),vn.pts=handleRollover(vn.pts,pn),vn.dtsTime=vn.dts/ONE_SECOND_IN_TS,vn.ptsTime=vn.pts/ONE_SECOND_IN_TS}}},inspectAac_=function sn(ln){for(var cn=!1,dn=0,pn=null,vn=null,Sn=0,En=0,Cn;ln.length-En>=3;){var Pn=probe.aac.parseType(ln,En);switch(Pn){case"timed-metadata":if(ln.length-En<10){cn=!0;break}if(Sn=probe.aac.parseId3TagSize(ln,En),Sn>ln.length){cn=!0;break}vn===null&&(Cn=ln.subarray(En,En+Sn),vn=probe.aac.parseAacTimestamp(Cn)),En+=Sn;break;case"audio":if(ln.length-En<7){cn=!0;break}if(Sn=probe.aac.parseAdtsSize(ln,En),Sn>ln.length){cn=!0;break}pn===null&&(Cn=ln.subarray(En,En+Sn),pn=probe.aac.parseSampleRate(Cn)),dn++,En+=Sn;break;default:En++;break}if(cn)return null}if(pn===null||vn===null)return null;var Rn=ONE_SECOND_IN_TS/pn,Ln={audio:[{type:"audio",dts:vn,pts:vn},{type:"audio",dts:vn+dn*1024*Rn,pts:vn+dn*1024*Rn}]};return Ln},inspectTs_=function sn(ln){var cn={pid:null,table:null},dn={};parsePsi_(ln,cn);for(var pn in cn.table)if(cn.table.hasOwnProperty(pn)){var vn=cn.table[pn];switch(vn){case StreamTypes.H264_STREAM_TYPE:dn.video=[],parseVideoPes_(ln,cn,dn),dn.video.length===0&&delete dn.video;break;case StreamTypes.ADTS_STREAM_TYPE:dn.audio=[],parseAudioPes_(ln,cn,dn),dn.audio.length===0&&delete dn.audio;break}}return dn},inspect=function sn(ln,cn){var dn=probe.aac.isLikelyAacData(ln),pn;return dn?pn=inspectAac_(ln):pn=inspectTs_(ln),!pn||!pn.audio&&!pn.video?null:(adjustTimestamp_(pn,cn),pn)},tsInspector={inspect,parseAudioPes_},muxjs={codecs:codecs$1,mp4:mp4$2,flv,mp2t:m2ts$1,partial};muxjs.mp4.tools=mp4Inspector;muxjs.flv.tools=flvInspector;muxjs.mp2t.tools=tsInspector;var es=muxjs;const muxjs$1=getDefaultExportFromCjs(es),shaka$4=getShaka();class LeftSeekingUi extends shaka$4.ui.Element{constructor(cn,dn){var pn,vn,Sn;super(cn,dn);$l(this,"lastTouchEventTimeSet_",null);$l(this,"triggeredTouchValid_",!1);$l(this,"TICK_TIME",.5);$l(this,"hideRewindButtonOnControlsContainerTimer_");$l(this,"rewindContainer_");$l(this,"rewindValue_");$l(this,"rewindIcon_");$l(this,"getPrevValue",()=>this.rewindValue_.textContent?parseInt(this.rewindValue_.textContent,10):0);this.hideRewindButtonOnControlsContainerTimer_=new shaka$4.util.Timer(()=>{this.hideRewindButtonOnControlsContainer()}),this.rewindContainer_=document.createElement("div"),this.rewindContainer_.classList.add("shaka-rewind-on-controls-container"),(pn=this.parent)==null||pn.appendChild(this.rewindContainer_),(vn=this.eventManager)==null||vn.listen(this.rewindContainer_,"touchstart",En=>{var Cn;En.cancelable&&En.preventDefault(),(Cn=this.controls)!=null&&Cn.anySettingsMenusAreOpen()?this.controls.hideSettingsMenus():this.onRewindButtonClick_()},{passive:!1}),(Sn=this.eventManager)==null||Sn.listen(this.rewindContainer_,"click",En=>{this.isTouchDevice_()&&En.stopPropagation()},{passive:!1}),this.rewindIcon_=document.createElement("span"),this.rewindIcon_.classList.add("shaka-forward-rewind-on-controls-container-icon"),this.rewindIcon_.textContent="<<",this.rewindContainer_.appendChild(this.rewindIcon_),this.rewindValue_=document.createElement("span"),this.rewindValue_.textContent="0s",this.rewindContainer_.appendChild(this.rewindValue_)}togglePlayPause(cn){cn&&(cn.paused?cn.play():cn.pause())}onRewindButtonClick_(){this.triggeredTouchValid_?this.lastTouchEventTimeSet_&&this.lastTouchEventTimeSet_+this.TICK_TIME*1e3>Date.now()&&(this.hideRewindButtonOnControlsContainerTimer_.stop(),this.lastTouchEventTimeSet_=Date.now(),this.rewindValue_.textContent=(this.getPrevValue()-5).toString()+"s",this.rewindContainer_.style.opacity="1",this.hideRewindButtonOnControlsContainerTimer_=this.getHideTimer_()):(this.triggeredTouchValid_=!0,this.lastTouchEventTimeSet_=Date.now(),this.hideRewindButtonOnControlsContainerTimer_=this.getHideTimer_(()=>{var cn;this.togglePlayPause((cn=this.controls)==null?void 0:cn.getVideo())}))}getHideTimer_(cn){return new shaka$4.util.Timer(()=>{this.hideRewindButtonOnControlsContainer(),cn&&cn()}).tickAfter(this.TICK_TIME)}hideRewindButtonOnControlsContainer(){var dn;const cn=(dn=this.controls)==null?void 0:dn.getDisplayTime();this.getPrevValue()!==0&&this.video&&cn&&(this.video.currentTime=cn+this.getPrevValue()),this.rewindContainer_.style.opacity="0",this.triggeredTouchValid_=!1,this.rewindValue_.textContent="0s",this.rewindContainer_.style.opacity="0",this.triggeredTouchValid_=!1,this.rewindValue_.textContent="0s"}isTouchDevice_(){return"ontouchstart"in window||navigator.maxTouchPoints>0}}const shaka$3=getShaka();class RightSeekingUi extends shaka$3.ui.Element{constructor(cn,dn){var pn,vn,Sn;super(cn,dn);$l(this,"lastTouchEventTimeSet_",null);$l(this,"triggeredTouchValid_",!1);$l(this,"TICK_TIME",.5);$l(this,"hideFastForwardButtonOnControlsContainerTimer_");$l(this,"fastForwardContainer_");$l(this,"fastForwardValue_");$l(this,"fastForwardIcon_");$l(this,"getPrevValue",()=>this.fastForwardValue_.textContent?parseInt(this.fastForwardValue_.textContent,10):0);this.hideFastForwardButtonOnControlsContainerTimer_=new shaka$3.util.Timer(()=>{this.hideFastForwardButtonOnControlsContainer()}),this.fastForwardContainer_=document.createElement("div"),this.fastForwardContainer_.classList.add("shaka-fast-forward-on-controls-container"),(pn=this.parent)==null||pn.appendChild(this.fastForwardContainer_),(vn=this.eventManager)==null||vn.listen(this.fastForwardContainer_,"touchstart",En=>{var Cn;En.cancelable&&En.preventDefault(),(Cn=this.controls)!=null&&Cn.anySettingsMenusAreOpen()?this.controls.hideSettingsMenus():this.onFastForwardButtonClick_()},{passive:!1}),(Sn=this.eventManager)==null||Sn.listen(this.fastForwardContainer_,"click",En=>{this.isTouchDevice_()&&En.stopPropagation()},{passive:!1}),this.fastForwardIcon_=document.createElement("span"),this.fastForwardIcon_.classList.add("shaka-forward-rewind-on-controls-container-icon"),this.fastForwardIcon_.textContent=">>",this.fastForwardContainer_.appendChild(this.fastForwardIcon_),this.fastForwardValue_=document.createElement("span"),this.fastForwardValue_.textContent="0s",this.fastForwardContainer_.appendChild(this.fastForwardValue_)}togglePlayPause(cn){cn&&(cn.paused?cn.play():cn.pause())}onFastForwardButtonClick_(){this.triggeredTouchValid_?this.lastTouchEventTimeSet_&&this.lastTouchEventTimeSet_+this.TICK_TIME*1e3>Date.now()&&(this.hideFastForwardButtonOnControlsContainerTimer_.stop(),this.lastTouchEventTimeSet_=Date.now(),this.fastForwardValue_.textContent=(this.getPrevValue()+5).toString()+"s",this.fastForwardContainer_.style.opacity="1",this.hideFastForwardButtonOnControlsContainerTimer_=this.getHideTimer_()):(this.triggeredTouchValid_=!0,this.lastTouchEventTimeSet_=Date.now(),this.hideFastForwardButtonOnControlsContainerTimer_=this.getHideTimer_(()=>{var cn;this.togglePlayPause((cn=this.controls)==null?void 0:cn.getVideo())}))}getHideTimer_(cn){return new shaka$3.util.Timer(()=>{this.hideFastForwardButtonOnControlsContainer(),cn&&cn()}).tickAfter(this.TICK_TIME)}hideFastForwardButtonOnControlsContainer(){var dn;const cn=(dn=this.controls)==null?void 0:dn.getDisplayTime();this.getPrevValue()!==0&&this.video&&cn&&(this.video.currentTime=cn+this.getPrevValue()),this.fastForwardContainer_.style.opacity="0",this.triggeredTouchValid_=!1,this.fastForwardValue_.textContent="0s"}isTouchDevice_(){return"ontouchstart"in window||navigator.maxTouchPoints>0}}const shaka$2=getShaka();class MobileSeekingUi extends shaka$2.ui.Element{constructor(cn,dn){super(cn,dn);$l(this,"hiddenFastForwardContainer");$l(this,"hiddenRewindContainer");this.hiddenFastForwardContainer=document.createElement("div"),this.hiddenFastForwardContainer.classList.add("shaka-hidden-fast-forward-container"),dn.getControlsContainer().appendChild(this.hiddenFastForwardContainer),new RightSeekingUi(this.hiddenFastForwardContainer,dn),this.hiddenRewindContainer=document.createElement("div"),this.hiddenRewindContainer.classList.add("shaka-hidden-rewind-container"),dn.getControlsContainer().appendChild(this.hiddenRewindContainer),new LeftSeekingUi(this.hiddenRewindContainer,dn)}}class MobileSeekingUiFactory{create(ln,cn){return new MobileSeekingUi(ln,cn)}}$l(MobileSeekingUiFactory,"uiName","mobile");const shaka$1=getShaka();class UnitTitleUi extends shaka$1.ui.Element{constructor(cn,dn){var Sn,En,Cn,Pn;super(cn,dn);$l(this,"title",null);const pn=this.getTitleElement();if(this.isExist(pn)){if(this.title===null){this.title=pn;return}this.title.textContent=this.getVideoDatasetTitle()||"";return}this.title=this.createTitle(),(Sn=this.player)==null||Sn.addEventListener("trackschanged",()=>{this.title!==null&&(this.title.textContent=this.getVideoDatasetTitle()||"")}),(Pn=(Cn=(En=cn.parentElement)==null?void 0:En.parentElement)==null?void 0:Cn.parentElement)==null||Pn.appendChild(this.title)}createTitle(){var dn;const cn=document.createElement("h1");return cn.classList.add("player-title"),cn.textContent=((dn=this.video)==null?void 0:dn.dataset.unitTitle)||"",cn}getTitleElement(){return document.querySelector(".player-title")}isExist(cn){return!!cn}getVideoDatasetTitle(){const cn=document.querySelector("video.shaka-video");return cn&&cn.dataset.unitTitle||""}}class UnitTitleUiFactory{create(ln,cn){return new UnitTitleUi(ln,cn)}}$l(UnitTitleUiFactory,"uiName","unitTitle");var shakaPlayer_compiled={};/*
 @license
 Shaka Player
 Copyright 2016 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/(function(sn){(function(){var ln=typeof window<"u"?window:commonjsGlobal$1,cn={};(function(pn,vn,Sn){/*
 @license
 Shaka Player
 Copyright 2016 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/var En;function Cn(gn){var bn=0;return function(){return bn<gn.length?{done:!1,value:gn[bn++]}:{done:!0}}}var Pn=typeof Object.defineProperties=="function"?Object.defineProperty:function(gn,bn,wn){return gn==Array.prototype||gn==Object.prototype||(gn[bn]=wn.value),gn};function Rn(gn){gn=[typeof globalThis=="object"&&globalThis,gn,typeof pn=="object"&&pn,typeof self=="object"&&self,typeof vn=="object"&&vn];for(var bn=0;bn<gn.length;++bn){var wn=gn[bn];if(wn&&wn.Math==Math)return wn}throw Error("Cannot find global object")}var Ln=Rn(this);function Fn(gn,bn){if(bn)e:{var wn=Ln;gn=gn.split(".");for(var In=0;In<gn.length-1;In++){var Nn=gn[In];if(!(Nn in wn))break e;wn=wn[Nn]}gn=gn[gn.length-1],In=wn[gn],bn=bn(In),bn!=In&&bn!=null&&Pn(wn,gn,{configurable:!0,writable:!0,value:bn})}}Fn("Symbol",function(gn){function bn(jn){if(this instanceof bn)throw new TypeError("Symbol is not a constructor");return new wn(In+(jn||"")+"_"+Nn++,jn)}function wn(jn,Vn){this.g=jn,Pn(this,"description",{configurable:!0,writable:!0,value:Vn})}if(gn)return gn;wn.prototype.toString=function(){return this.g};var In="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",Nn=0;return bn}),Fn("Symbol.iterator",function(gn){if(gn)return gn;gn=Symbol("Symbol.iterator");for(var bn="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),wn=0;wn<bn.length;wn++){var In=Ln[bn[wn]];typeof In=="function"&&typeof In.prototype[gn]!="function"&&Pn(In.prototype,gn,{configurable:!0,writable:!0,value:function(){return Gn(Cn(this))}})}return gn});function Gn(gn){return gn={next:gn},gn[Symbol.iterator]=function(){return this},gn}function Dn(gn){var bn=typeof Symbol<"u"&&Symbol.iterator&&gn[Symbol.iterator];return bn?bn.call(gn):{next:Cn(gn)}}function Kn(gn){if(!(gn instanceof Array)){gn=Dn(gn);for(var bn,wn=[];!(bn=gn.next()).done;)wn.push(bn.value);gn=wn}return gn}var qn=typeof Object.create=="function"?Object.create:function(gn){function bn(){}return bn.prototype=gn,new bn},Zn;if(typeof Object.setPrototypeOf=="function")Zn=Object.setPrototypeOf;else{var Yn;e:{var Jn={a:!0},rs={};try{rs.__proto__=Jn,Yn=rs.a;break e}catch{}Yn=!1}Zn=Yn?function(gn,bn){if(gn.__proto__=bn,gn.__proto__!==bn)throw new TypeError(gn+" is not extensible");return gn}:null}var us=Zn;function as(gn,bn){if(gn.prototype=qn(bn.prototype),gn.prototype.constructor=gn,us)us(gn,bn);else for(var wn in bn)if(wn!="prototype")if(Object.defineProperties){var In=Object.getOwnPropertyDescriptor(bn,wn);In&&Object.defineProperty(gn,wn,In)}else gn[wn]=bn[wn];gn.wh=bn.prototype}function cs(){this.o=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.m=0,this.u=this.i=null}function _s(gn){if(gn.o)throw new TypeError("Generator is already running");gn.o=!0}cs.prototype.s=function(gn){this.h=gn};function Es(gn,bn){gn.i={Ee:bn,Le:!0},gn.g=gn.m||gn.j}cs.prototype.return=function(gn){this.i={return:gn},this.g=this.j};function Qn(gn,bn,wn){return gn.g=wn,{value:bn}}cs.prototype.A=function(gn){this.g=gn};function ms(gn){gn.g=0}function $s(gn,bn,wn){gn.m=bn,wn!=null&&(gn.j=wn)}function Ms(gn){gn.m=0,gn.j=2}function gs(gn,bn){gn.g=bn,gn.m=0}function Ss(gn){gn.m=0;var bn=gn.i.Ee;return gn.i=null,bn}function js(gn){gn.u=[gn.i],gn.m=0,gn.j=0}function bs(gn,bn){var wn=gn.u.splice(0)[0];(wn=gn.i=gn.i||wn)?wn.Le?gn.g=gn.m||gn.j:wn.A!=null&&gn.j<wn.A?(gn.g=wn.A,gn.i=null):gn.g=gn.j:gn.g=bn}function Ts(gn){this.g=new cs,this.h=gn}function xs(gn,bn){_s(gn.g);var wn=gn.g.l;return wn?zs(gn,"return"in wn?wn.return:function(In){return{value:In,done:!0}},bn,gn.g.return):(gn.g.return(bn),Bs(gn))}function zs(gn,bn,wn,In){try{var Nn=bn.call(gn.g.l,wn);if(!(Nn instanceof Object))throw new TypeError("Iterator result "+Nn+" is not an object");if(!Nn.done)return gn.g.o=!1,Nn;var jn=Nn.value}catch(Vn){return gn.g.l=null,Es(gn.g,Vn),Bs(gn)}return gn.g.l=null,In.call(gn.g,jn),Bs(gn)}function Bs(gn){for(;gn.g.g;)try{var bn=gn.h(gn.g);if(bn)return gn.g.o=!1,{value:bn.value,done:!1}}catch(wn){gn.g.h=void 0,Es(gn.g,wn)}if(gn.g.o=!1,gn.g.i){if(bn=gn.g.i,gn.g.i=null,bn.Le)throw bn.Ee;return{value:bn.return,done:!0}}return{value:void 0,done:!0}}function Js(gn){this.next=function(bn){return _s(gn.g),gn.g.l?bn=zs(gn,gn.g.l.next,bn,gn.g.s):(gn.g.s(bn),bn=Bs(gn)),bn},this.throw=function(bn){return _s(gn.g),gn.g.l?bn=zs(gn,gn.g.l.throw,bn,gn.g.s):(Es(gn.g,bn),bn=Bs(gn)),bn},this.return=function(bn){return xs(gn,bn)},this[Symbol.iterator]=function(){return this}}function tu(gn){function bn(In){return gn.next(In)}function wn(In){return gn.throw(In)}return new Promise(function(In,Nn){function jn(Vn){Vn.done?In(Vn.value):Promise.resolve(Vn.value).then(bn,wn).then(jn,Nn)}jn(gn.next())})}function hs(gn){return tu(new Js(new Ts(gn)))}function lu(){for(var gn=Number(this),bn=[],wn=gn;wn<arguments.length;wn++)bn[wn-gn]=arguments[wn];return bn}Fn("Promise",function(gn){function bn(Vn){this.h=0,this.i=void 0,this.g=[],this.o=!1;var Hn=this.j();try{Vn(Hn.resolve,Hn.reject)}catch(Xn){Hn.reject(Xn)}}function wn(){this.g=null}function In(Vn){return Vn instanceof bn?Vn:new bn(function(Hn){Hn(Vn)})}if(gn)return gn;wn.prototype.h=function(Vn){if(this.g==null){this.g=[];var Hn=this;this.i(function(){Hn.l()})}this.g.push(Vn)};var Nn=Ln.setTimeout;wn.prototype.i=function(Vn){Nn(Vn,0)},wn.prototype.l=function(){for(;this.g&&this.g.length;){var Vn=this.g;this.g=[];for(var Hn=0;Hn<Vn.length;++Hn){var Xn=Vn[Hn];Vn[Hn]=null;try{Xn()}catch(ns){this.j(ns)}}}this.g=null},wn.prototype.j=function(Vn){this.i(function(){throw Vn})},bn.prototype.j=function(){function Vn(ns){return function(ss){Xn||(Xn=!0,ns.call(Hn,ss))}}var Hn=this,Xn=!1;return{resolve:Vn(this.F),reject:Vn(this.l)}},bn.prototype.F=function(Vn){if(Vn===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(Vn instanceof bn)this.H(Vn);else{e:switch(typeof Vn){case"object":var Hn=Vn!=null;break e;case"function":Hn=!0;break e;default:Hn=!1}Hn?this.D(Vn):this.m(Vn)}},bn.prototype.D=function(Vn){var Hn=void 0;try{Hn=Vn.then}catch(Xn){this.l(Xn);return}typeof Hn=="function"?this.J(Hn,Vn):this.m(Vn)},bn.prototype.l=function(Vn){this.s(2,Vn)},bn.prototype.m=function(Vn){this.s(1,Vn)},bn.prototype.s=function(Vn,Hn){if(this.h!=0)throw Error("Cannot settle("+Vn+", "+Hn+"): Promise already settled in state"+this.h);this.h=Vn,this.i=Hn,this.h===2&&this.G(),this.u()},bn.prototype.G=function(){var Vn=this;Nn(function(){if(Vn.B()){var Hn=Ln.console;typeof Hn<"u"&&Hn.error(Vn.i)}},1)},bn.prototype.B=function(){if(this.o)return!1;var Vn=Ln.CustomEvent,Hn=Ln.Event,Xn=Ln.dispatchEvent;return typeof Xn>"u"?!0:(typeof Vn=="function"?Vn=new Vn("unhandledrejection",{cancelable:!0}):typeof Hn=="function"?Vn=new Hn("unhandledrejection",{cancelable:!0}):(Vn=Ln.document.createEvent("CustomEvent"),Vn.initCustomEvent("unhandledrejection",!1,!0,Vn)),Vn.promise=this,Vn.reason=this.i,Xn(Vn))},bn.prototype.u=function(){if(this.g!=null){for(var Vn=0;Vn<this.g.length;++Vn)jn.h(this.g[Vn]);this.g=null}};var jn=new wn;return bn.prototype.H=function(Vn){var Hn=this.j();Vn.Lc(Hn.resolve,Hn.reject)},bn.prototype.J=function(Vn,Hn){var Xn=this.j();try{Vn.call(Hn,Xn.resolve,Xn.reject)}catch(ns){Xn.reject(ns)}},bn.prototype.then=function(Vn,Hn){function Xn(fs,vs){return typeof fs=="function"?function(Is){try{ns(fs(Is))}catch(Ls){ss(Ls)}}:vs}var ns,ss,ps=new bn(function(fs,vs){ns=fs,ss=vs});return this.Lc(Xn(Vn,ns),Xn(Hn,ss)),ps},bn.prototype.catch=function(Vn){return this.then(void 0,Vn)},bn.prototype.Lc=function(Vn,Hn){function Xn(){switch(ns.h){case 1:Vn(ns.i);break;case 2:Hn(ns.i);break;default:throw Error("Unexpected state: "+ns.h)}}var ns=this;this.g==null?jn.h(Xn):this.g.push(Xn),this.o=!0},bn.resolve=In,bn.reject=function(Vn){return new bn(function(Hn,Xn){Xn(Vn)})},bn.race=function(Vn){return new bn(function(Hn,Xn){for(var ns=Dn(Vn),ss=ns.next();!ss.done;ss=ns.next())In(ss.value).Lc(Hn,Xn)})},bn.all=function(Vn){var Hn=Dn(Vn),Xn=Hn.next();return Xn.done?In([]):new bn(function(ns,ss){function ps(Is){return function(Ls){fs[Is]=Ls,vs--,vs==0&&ns(fs)}}var fs=[],vs=0;do fs.push(void 0),vs++,In(Xn.value).Lc(ps(fs.length-1),ss),Xn=Hn.next();while(!Xn.done)})},bn});function vu(gn,bn){return Object.prototype.hasOwnProperty.call(gn,bn)}Fn("WeakMap",function(gn){function bn(Xn){if(this.g=(Hn+=Math.random()+1).toString(),Xn){Xn=Dn(Xn);for(var ns;!(ns=Xn.next()).done;)ns=ns.value,this.set(ns[0],ns[1])}}function wn(){}function In(Xn){var ns=typeof Xn;return ns==="object"&&Xn!==null||ns==="function"}function Nn(Xn){if(!vu(Xn,Vn)){var ns=new wn;Pn(Xn,Vn,{value:ns})}}function jn(Xn){var ns=Object[Xn];ns&&(Object[Xn]=function(ss){return ss instanceof wn?ss:(Object.isExtensible(ss)&&Nn(ss),ns(ss))})}if(function(){if(!gn||!Object.seal)return!1;try{var Xn=Object.seal({}),ns=Object.seal({}),ss=new gn([[Xn,2],[ns,3]]);return ss.get(Xn)!=2||ss.get(ns)!=3?!1:(ss.delete(Xn),ss.set(ns,4),!ss.has(Xn)&&ss.get(ns)==4)}catch{return!1}}())return gn;var Vn="$jscomp_hidden_"+Math.random();jn("freeze"),jn("preventExtensions"),jn("seal");var Hn=0;return bn.prototype.set=function(Xn,ns){if(!In(Xn))throw Error("Invalid WeakMap key");if(Nn(Xn),!vu(Xn,Vn))throw Error("WeakMap key fail: "+Xn);return Xn[Vn][this.g]=ns,this},bn.prototype.get=function(Xn){return In(Xn)&&vu(Xn,Vn)?Xn[Vn][this.g]:void 0},bn.prototype.has=function(Xn){return In(Xn)&&vu(Xn,Vn)&&vu(Xn[Vn],this.g)},bn.prototype.delete=function(Xn){return In(Xn)&&vu(Xn,Vn)&&vu(Xn[Vn],this.g)?delete Xn[Vn][this.g]:!1},bn}),Fn("Map",function(gn){function bn(){var Hn={};return Hn.Pa=Hn.next=Hn.head=Hn}function wn(Hn,Xn){var ns=Hn.g;return Gn(function(){if(ns){for(;ns.head!=Hn.g;)ns=ns.Pa;for(;ns.next!=ns.head;)return ns=ns.next,{done:!1,value:Xn(ns)};ns=null}return{done:!0,value:void 0}})}function In(Hn,Xn){var ns=Xn&&typeof Xn;ns=="object"||ns=="function"?jn.has(Xn)?ns=jn.get(Xn):(ns=""+ ++Vn,jn.set(Xn,ns)):ns="p_"+Xn;var ss=Hn.h[ns];if(ss&&vu(Hn.h,ns))for(Hn=0;Hn<ss.length;Hn++){var ps=ss[Hn];if(Xn!==Xn&&ps.key!==ps.key||Xn===ps.key)return{id:ns,list:ss,index:Hn,ga:ps}}return{id:ns,list:ss,index:-1,ga:void 0}}function Nn(Hn){if(this.h={},this.g=bn(),this.size=0,Hn){Hn=Dn(Hn);for(var Xn;!(Xn=Hn.next()).done;)Xn=Xn.value,this.set(Xn[0],Xn[1])}}if(function(){if(!gn||typeof gn!="function"||!gn.prototype.entries||typeof Object.seal!="function")return!1;try{var Hn=Object.seal({x:4}),Xn=new gn(Dn([[Hn,"s"]]));if(Xn.get(Hn)!="s"||Xn.size!=1||Xn.get({x:4})||Xn.set({x:4},"t")!=Xn||Xn.size!=2)return!1;var ns=Xn.entries(),ss=ns.next();return ss.done||ss.value[0]!=Hn||ss.value[1]!="s"?!1:(ss=ns.next(),!(ss.done||ss.value[0].x!=4||ss.value[1]!="t"||!ns.next().done))}catch{return!1}}())return gn;var jn=new WeakMap;Nn.prototype.set=function(Hn,Xn){Hn=Hn===0?0:Hn;var ns=In(this,Hn);return ns.list||(ns.list=this.h[ns.id]=[]),ns.ga?ns.ga.value=Xn:(ns.ga={next:this.g,Pa:this.g.Pa,head:this.g,key:Hn,value:Xn},ns.list.push(ns.ga),this.g.Pa.next=ns.ga,this.g.Pa=ns.ga,this.size++),this},Nn.prototype.delete=function(Hn){return Hn=In(this,Hn),Hn.ga&&Hn.list?(Hn.list.splice(Hn.index,1),Hn.list.length||delete this.h[Hn.id],Hn.ga.Pa.next=Hn.ga.next,Hn.ga.next.Pa=Hn.ga.Pa,Hn.ga.head=null,this.size--,!0):!1},Nn.prototype.clear=function(){this.h={},this.g=this.g.Pa=bn(),this.size=0},Nn.prototype.has=function(Hn){return!!In(this,Hn).ga},Nn.prototype.get=function(Hn){return(Hn=In(this,Hn).ga)&&Hn.value},Nn.prototype.entries=function(){return wn(this,function(Hn){return[Hn.key,Hn.value]})},Nn.prototype.keys=function(){return wn(this,function(Hn){return Hn.key})},Nn.prototype.values=function(){return wn(this,function(Hn){return Hn.value})},Nn.prototype.forEach=function(Hn,Xn){for(var ns=this.entries(),ss;!(ss=ns.next()).done;)ss=ss.value,Hn.call(Xn,ss[1],ss[0],this)},Nn.prototype[Symbol.iterator]=Nn.prototype.entries;var Vn=0;return Nn}),Fn("Set",function(gn){function bn(wn){if(this.g=new Map,wn){wn=Dn(wn);for(var In;!(In=wn.next()).done;)this.add(In.value)}this.size=this.g.size}return function(){if(!gn||typeof gn!="function"||!gn.prototype.entries||typeof Object.seal!="function")return!1;try{var wn=Object.seal({x:4}),In=new gn(Dn([wn]));if(!In.has(wn)||In.size!=1||In.add(wn)!=In||In.size!=1||In.add({x:4})!=In||In.size!=2)return!1;var Nn=In.entries(),jn=Nn.next();return jn.done||jn.value[0]!=wn||jn.value[1]!=wn?!1:(jn=Nn.next(),jn.done||jn.value[0]==wn||jn.value[0].x!=4||jn.value[1]!=jn.value[0]?!1:Nn.next().done)}catch{return!1}}()?gn:(bn.prototype.add=function(wn){return wn=wn===0?0:wn,this.g.set(wn,wn),this.size=this.g.size,this},bn.prototype.delete=function(wn){return wn=this.g.delete(wn),this.size=this.g.size,wn},bn.prototype.clear=function(){this.g.clear(),this.size=0},bn.prototype.has=function(wn){return this.g.has(wn)},bn.prototype.entries=function(){return this.g.entries()},bn.prototype.values=function(){return this.g.values()},bn.prototype.keys=bn.prototype.values,bn.prototype[Symbol.iterator]=bn.prototype.values,bn.prototype.forEach=function(wn,In){var Nn=this;this.g.forEach(function(jn){return wn.call(In,jn,jn,Nn)})},bn)});function yu(gn,bn,wn){gn instanceof String&&(gn=String(gn));for(var In=gn.length,Nn=0;Nn<In;Nn++){var jn=gn[Nn];if(bn.call(wn,jn,Nn,gn))return{Je:Nn,v:jn}}return{Je:-1,v:void 0}}Fn("Array.prototype.findIndex",function(gn){return gn||function(bn,wn){return yu(this,bn,wn).Je}}),Fn("Object.is",function(gn){return gn||function(bn,wn){return bn===wn?bn!==0||1/bn===1/wn:bn!==bn&&wn!==wn}}),Fn("Array.prototype.includes",function(gn){return gn||function(bn,wn){var In=this;In instanceof String&&(In=String(In));var Nn=In.length;for(wn=wn||0,0>wn&&(wn=Math.max(wn+Nn,0));wn<Nn;wn++){var jn=In[wn];if(jn===bn||Object.is(jn,bn))return!0}return!1}});function Wu(gn,bn,wn){if(gn==null)throw new TypeError("The 'this' value for String.prototype."+wn+" must not be null or undefined");if(bn instanceof RegExp)throw new TypeError("First argument to String.prototype."+wn+" must not be a regular expression");return gn+""}Fn("String.prototype.includes",function(gn){return gn||function(bn,wn){return Wu(this,bn,"includes").indexOf(bn,wn||0)!==-1}}),Fn("Array.prototype.find",function(gn){return gn||function(bn,wn){return yu(this,bn,wn).v}}),Fn("String.prototype.startsWith",function(gn){return gn||function(bn,wn){var In=Wu(this,bn,"startsWith"),Nn=In.length,jn=bn.length;wn=Math.max(0,Math.min(wn|0,In.length));for(var Vn=0;Vn<jn&&wn<Nn;)if(In[wn++]!=bn[Vn++])return!1;return Vn>=jn}});function Ru(gn,bn){gn instanceof String&&(gn+="");var wn=0,In=!1,Nn={next:function(){if(!In&&wn<gn.length){var jn=wn++;return{value:bn(jn,gn[jn]),done:!1}}return In=!0,{done:!0,value:void 0}}};return Nn[Symbol.iterator]=function(){return Nn},Nn}Fn("Array.prototype.keys",function(gn){return gn||function(){return Ru(this,function(bn){return bn})}});var Ll=typeof Object.assign=="function"?Object.assign:function(gn,bn){for(var wn=1;wn<arguments.length;wn++){var In=arguments[wn];if(In)for(var Nn in In)vu(In,Nn)&&(gn[Nn]=In[Nn])}return gn};Fn("Object.assign",function(gn){return gn||Ll}),Fn("Array.from",function(gn){return gn||function(bn,wn,In){wn=wn??function(Hn){return Hn};var Nn=[],jn=typeof Symbol<"u"&&Symbol.iterator&&bn[Symbol.iterator];if(typeof jn=="function"){bn=jn.call(bn);for(var Vn=0;!(jn=bn.next()).done;)Nn.push(wn.call(In,jn.value,Vn++))}else for(jn=bn.length,Vn=0;Vn<jn;Vn++)Nn.push(wn.call(In,bn[Vn],Vn));return Nn}}),Fn("Array.prototype.values",function(gn){return gn||function(){return Ru(this,function(bn,wn){return wn})}}),Fn("Promise.prototype.finally",function(gn){return gn||function(bn){return this.then(function(wn){return Promise.resolve(bn()).then(function(){return wn})},function(wn){return Promise.resolve(bn()).then(function(){throw wn})})}}),Fn("Array.prototype.entries",function(gn){return gn||function(){return Ru(this,function(bn,wn){return[bn,wn]})}}),Fn("String.prototype.repeat",function(gn){return gn||function(bn){var wn=Wu(this,null,"repeat");if(0>bn||1342177279<bn)throw new RangeError("Invalid count value");bn|=0;for(var In="";bn;)bn&1&&(In+=wn),(bn>>>=1)&&(wn+=wn);return In}}),Fn("Number.isNaN",function(gn){return gn||function(bn){return typeof bn=="number"&&isNaN(bn)}}),Fn("Object.values",function(gn){return gn||function(bn){var wn=[],In;for(In in bn)vu(bn,In)&&wn.push(bn[In]);return wn}}),Fn("Math.log2",function(gn){return gn||function(bn){return Math.log(bn)/Math.LN2}}),Fn("Math.trunc",function(gn){return gn||function(bn){if(bn=Number(bn),isNaN(bn)||bn===1/0||bn===-1/0||bn===0)return bn;var wn=Math.floor(Math.abs(bn));return 0>bn?-wn:wn}}),Fn("Object.entries",function(gn){return gn||function(bn){var wn=[],In;for(In in bn)vu(bn,In)&&wn.push([In,bn[In]]);return wn}});var Vp=this||self;function Ys(gn,bn){gn=gn.split(".");var wn=Vp;gn[0]in wn||typeof wn.execScript>"u"||wn.execScript("var "+gn[0]);for(var In;gn.length&&(In=gn.shift());)gn.length||bn===void 0?wn[In]&&wn[In]!==Object.prototype[In]?wn=wn[In]:wn=wn[In]={}:wn[In]=bn}function _u(gn){this.g=Math.exp(Math.log(.5)/gn),this.i=this.h=0}_u.prototype.sample=function(gn,bn){var wn=Math.pow(this.g,gn);bn=bn*(1-wn)+wn*this.h,isNaN(bn)||(this.h=bn,this.i+=gn)};function Wl(gn){return gn.h/(1-Math.pow(gn.g,gn.i))}function lp(){this.h=new _u(2),this.j=new _u(5),this.g=0,this.i=128e3,this.l=16e3}lp.prototype.configure=function(gn){this.i=gn.minTotalBytes,this.l=gn.minBytes,this.h.g=Math.exp(Math.log(.5)/gn.fastHalfLife),this.j.g=Math.exp(Math.log(.5)/gn.slowHalfLife)},lp.prototype.sample=function(gn,bn){if(!(bn<this.l)){var wn=8e3*bn/gn;gn/=1e3,this.g+=bn,this.h.sample(gn,wn),this.j.sample(gn,wn)}},lp.prototype.getBandwidthEstimate=function(gn){return this.g<this.i?gn:Math.min(Wl(this.h),Wl(this.j))};function am(){}function fl(){}function $u(){}function cp(gn){var bn=lu.apply(1,arguments);Jy.has(gn)||(Jy.add(gn),$u.apply(am,Kn(bn)))}function Cp(){}function ry(){}function vp(){}function Qv(){}var Jy=new Set;pn.console&&($u=function(){return console.warn.apply(console,Kn(lu.apply(0,arguments)))},fl=function(){console.error.apply(console,Kn(lu.apply(0,arguments)))});function Fu(gn){if(Eu.has(gn))return Eu.get(gn);var bn=MediaSource.isTypeSupported(gn);return Eu.set(gn,bn),bn}var Eu=new Map;function el(gn,bn){return typeof gn=="number"&&typeof bn=="number"&&isNaN(gn)&&isNaN(bn)?!0:gn===bn}function pl(gn,bn){bn=gn.indexOf(bn),-1<bn&&gn.splice(bn,1)}function Xp(gn,bn,wn){if(wn||(wn=el),gn.length!=bn.length)return!1;bn=bn.slice();var In={};gn=Dn(gn);for(var Nn=gn.next();!Nn.done;In={md:In.md},Nn=gn.next()){if(In.md=Nn.value,Nn=bn.findIndex(function(jn){return function(Vn){return wn(jn.md,Vn)}}(In)),Nn==-1)return!1;bn[Nn]=bn[bn.length-1],bn.pop()}return bn.length==0}function _p(gn,bn,wn){if(wn||(wn=el),gn.length!=bn.length)return!1;for(var In=0;In<gn.length;In++)if(!wn(gn[In],bn[In]))return!1;return!0}function wu(gn,bn,wn){this.startTime=gn,this.direction=zE,this.endTime=bn,this.payload=wn,this.region=new Zv,this.position=null,this.positionAlign=Gp,this.size=0,this.textAlign=Qp,this.writingMode=$v,this.lineInterpretation=HE,this.line=null,this.lineHeight="",this.lineAlign=Tv,this.displayAlign=Ay,this.fontSize=this.textStrokeWidth=this.textStrokeColor=this.textShadow=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=Il,this.fontStyle=Hs,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textDecoration=[],this.wrapLine=!0,this.id="",this.nestedCues=[],this.lineBreak=this.isContainer=!1,this.cellResolution={columns:32,rows:15}}wu.prototype.clone=function(){var gn=new wu(0,0,""),bn;for(bn in this)gn[bn]=this[bn],gn[bn]&&gn[bn].constructor==Array&&(gn[bn]=gn[bn].slice());return gn};function Iu(gn,bn){if(gn.startTime!=bn.startTime||gn.endTime!=bn.endTime||gn.payload!=bn.payload)return!1;for(var wn in gn)if(wn!="startTime"&&wn!="endTime"&&wn!="payload"){if(wn=="nestedCues"){if(!_p(gn.nestedCues,bn.nestedCues,Iu))return!1}else if(wn=="region"||wn=="cellResolution"){for(var In in gn[wn])if(gn[wn][In]!=bn[wn][In])return!1}else if(Array.isArray(gn[wn])){if(!_p(gn[wn],bn[wn]))return!1}else if(gn[wn]!=bn[wn])return!1}return!0}Ys("shaka.text.Cue",wu);var Gp="auto";wu.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:Gp};var Qp="center",Cy={LEFT:"left",RIGHT:"right",CENTER:Qp,START:"start",END:"end"};wu.textAlign=Cy;var Ay="after",ny={BEFORE:"before",CENTER:"center",AFTER:Ay};wu.displayAlign=ny;var zE="ltr";wu.direction={HORIZONTAL_LEFT_TO_RIGHT:zE,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var $v="horizontal-tb";wu.writingMode={HORIZONTAL_TOP_TO_BOTTOM:$v,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var HE=0;wu.lineInterpretation={LINE_NUMBER:HE,PERCENTAGE:1};var Tv="start",KE={CENTER:"center",START:Tv,END:"end"};wu.lineAlign=KE;var Iy={white:"#FFF",lime:"#0F0",cyan:"#0FF",red:"#F00",yellow:"#FF0",magenta:"#F0F",blue:"#00F",black:"#000"};wu.defaultTextColor=Iy;var Py={bg_white:"#FFF",bg_lime:"#0F0",bg_cyan:"#0FF",bg_red:"#F00",bg_yellow:"#FF0",bg_magenta:"#F0F",bg_blue:"#00F",bg_black:"#000"};wu.defaultTextBackgroundColor=Py;var Il=400;wu.fontWeight={NORMAL:Il,BOLD:700};var Hs="normal",O0={NORMAL:Hs,ITALIC:"italic",OBLIQUE:"oblique"};wu.fontStyle=O0,wu.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"};function Zv(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=Zl,this.scroll=Zp}Ys("shaka.text.CueRegion",Zv);var Zl=1;Zv.units={PX:0,PERCENTAGE:Zl,LINES:2};var Zp="";Zv.scrollMode={NONE:Zp,UP:"up"};function Mp(){}function Lm(gn,bn){if(!gn&&!bn)return!0;if(!gn||!bn||gn.byteLength!=bn.byteLength)return!1;if(ev(gn)==ev(bn)&&(gn.byteOffset||0)==(bn.byteOffset||0))return!0;var wn=Pu(gn);bn=Pu(bn);for(var In=0;In<gn.byteLength;In++)if(wn[In]!=bn[In])return!1;return!0}function ev(gn){return gn instanceof ArrayBuffer?gn:gn.buffer}function Vu(gn){return gn instanceof ArrayBuffer?gn:gn.byteOffset==0&&gn.byteLength==gn.buffer.byteLength?gn.buffer:new Uint8Array(gn).buffer}function Pu(gn,bn,wn){return wn=wn===void 0?1/0:wn,om(gn,bn===void 0?0:bn,wn,Uint8Array)}function rp(gn,bn,wn){return wn=wn===void 0?1/0:wn,om(gn,bn===void 0?0:bn,wn,DataView)}function om(gn,bn,wn,In){var Nn=(gn.byteOffset||0)+gn.byteLength;return bn=Math.max(0,Math.min((gn.byteOffset||0)+bn,Nn)),new In(ev(gn),bn,Math.min(bn+Math.max(wn,0),Nn)-bn)}Ys("shaka.util.BufferUtils",Mp),Mp.toDataView=rp,Mp.toUint8=Pu,Mp.toArrayBuffer=Vu,Mp.equal=Lm;function Vs(gn,bn,wn){var In=lu.apply(3,arguments);this.severity=gn,this.category=bn,this.code=wn,this.data=In,this.handled=!1}Vs.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},Ys("shaka.util.Error",Vs),Vs.Severity={RECOVERABLE:1,CRITICAL:2},Vs.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},Vs.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,SEGMENT_MISSING:1011,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,CHAPTERS_TRACK_FAILED:2015,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_SRC_EQUALS:2016,UNSUPPORTED_EXTERNAL_THUMBNAILS_URI:2017,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED:4040,HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4041,NO_WEB_CRYPTO_API:4042,HLS_AES_128_INVALID_IV_LENGTH:4043,HLS_AES_128_INVALID_KEY_LENGTH:4044,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM:4045,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,SERVER_CERTIFICATE_REQUEST_FAILED:6017,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,MODIFY_OPERATION_NOT_SUPPORTED:9016,INDEXED_DB_INIT_TIMED_OUT:9017,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004};/*
 @license
 Copyright 2008 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/var O_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");/*
 @license
 Copyright 2006 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/function Rp(gn){var bn;gn instanceof Rp?(ol(this,gn.Ea),this.pb=gn.pb,this.Ha=gn.Ha,M0(this,gn.Kb),this.qa=gn.qa,pm(this,gn.g.clone()),this.fb=gn.fb):gn&&(bn=String(gn).match(O_))?(ol(this,bn[1]||"",!0),this.pb=iy(bn[2]||""),this.Ha=iy(bn[3]||"",!0),M0(this,bn[4]),this.qa=iy(bn[5]||"",!0),pm(this,bn[6]||"",!0),this.fb=iy(bn[7]||"")):this.g=new Jv(null)}En=Rp.prototype,En.Ea="",En.pb="",En.Ha="",En.Kb=null,En.qa="",En.fb="",En.toString=function(){var gn=[],bn=this.Ea;if(bn&&gn.push(kv(bn,WE,!0),":"),bn=this.Ha){gn.push("//");var wn=this.pb;wn&&gn.push(kv(wn,WE,!0),"@"),gn.push(encodeURIComponent(bn).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),bn=this.Kb,bn!=null&&gn.push(":",String(bn))}return(bn=this.qa)&&(this.Ha&&bn.charAt(0)!="/"&&gn.push("/"),gn.push(kv(bn,bn.charAt(0)=="/"?R$:np,!0))),(bn=this.g.toString())&&gn.push("?",bn),(bn=this.fb)&&gn.push("#",kv(bn,qE)),gn.join("")},En.resolve=function(gn){var bn=this.clone();bn.Ea==="data"&&(bn=new Rp);var wn=!!gn.Ea;wn?ol(bn,gn.Ea):wn=!!gn.pb,wn?bn.pb=gn.pb:wn=!!gn.Ha,wn?bn.Ha=gn.Ha:wn=gn.Kb!=null;var In=gn.qa;if(wn)M0(bn,gn.Kb);else if(wn=!!gn.qa){if(In.charAt(0)!="/")if(this.Ha&&!this.qa)In="/"+In;else{var Nn=bn.qa.lastIndexOf("/");Nn!=-1&&(In=bn.qa.substr(0,Nn+1)+In)}if(In==".."||In==".")In="";else if(In.indexOf("./")!=-1||In.indexOf("/.")!=-1){Nn=In.lastIndexOf("/",0)==0,In=In.split("/");for(var jn=[],Vn=0;Vn<In.length;){var Hn=In[Vn++];Hn=="."?Nn&&Vn==In.length&&jn.push(""):Hn==".."?((1<jn.length||jn.length==1&&jn[0]!="")&&jn.pop(),Nn&&Vn==In.length&&jn.push("")):(jn.push(Hn),Nn=!0)}In=jn.join("/")}}return wn?bn.qa=In:wn=gn.g.toString()!=="",wn?pm(bn,gn.g.clone()):wn=!!gn.fb,wn&&(bn.fb=gn.fb),bn},En.clone=function(){return new Rp(this)};function ol(gn,bn,wn){gn.Ea=wn?iy(bn,!0):bn,gn.Ea&&(gn.Ea=gn.Ea.replace(/:$/,""))}function M0(gn,bn){if(bn){if(bn=Number(bn),isNaN(bn)||0>bn)throw Error("Bad port number "+bn);gn.Kb=bn}else gn.Kb=null}function pm(gn,bn,wn){bn instanceof Jv?gn.g=bn:(wn||(bn=kv(bn,Hk)),gn.g=new Jv(bn))}function iy(gn,bn){return gn?bn?decodeURI(gn):decodeURIComponent(gn):""}function kv(gn,bn,wn){return gn!=null?(gn=encodeURI(gn).replace(bn,R0),wn&&(gn=gn.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),gn):null}function R0(gn){return gn=gn.charCodeAt(0),"%"+(gn>>4&15).toString(16)+(gn&15).toString(16)}var WE=/[#\/\?@]/g,np=/[#\?:]/g,R$=/[#\?]/g,Hk=/[#\?@]/g,qE=/#/g;function Jv(gn){this.g=gn||null}function M_(gn){if(!gn.ma&&(gn.ma={},gn.Oc=0,gn.g))for(var bn=gn.g.split("&"),wn=0;wn<bn.length;wn++){var In=bn[wn].indexOf("="),Nn=null;if(0<=In){var jn=bn[wn].substring(0,In);Nn=bn[wn].substring(In+1)}else jn=bn[wn];jn=decodeURIComponent(jn.replace(/\+/g," ")),Nn=Nn||"",gn.add(jn,decodeURIComponent(Nn.replace(/\+/g," ")))}}En=Jv.prototype,En.ma=null,En.Oc=null,En.add=function(gn,bn){M_(this),this.g=null;var wn=this.ma.hasOwnProperty(gn)?this.ma[gn]:null;return wn||(this.ma[gn]=wn=[]),wn.push(bn),this.Oc++,this},En.set=function(gn,bn){return M_(this),this.g=null,this.ma.hasOwnProperty(gn)?this.ma[gn]=[bn]:this.add(gn,bn),this},En.toString=function(){if(this.g)return this.g;if(!this.ma)return"";var gn=[],bn;for(bn in this.ma)for(var wn=encodeURIComponent(bn),In=this.ma[bn],Nn=0;Nn<In.length;Nn++){var jn=wn;In[Nn]!==""&&(jn+="="+encodeURIComponent(In[Nn])),gn.push(jn)}return this.g=gn.join("&")},En.clone=function(){var gn=new Jv;if(gn.g=this.g,this.ma){var bn={},wn;for(wn in this.ma)bn[wn]=this.ma[wn].concat();gn.ma=bn,gn.Oc=this.Oc}return gn};function bv(gn,bn){return gn.concat(bn)}function R_(){}function dp(gn){return gn!=null}function zp(gn,bn){if(bn.length==0)return gn;var wn=bn.map(function(In){return new Rp(In)});return gn.map(function(In){return new Rp(In)}).map(function(In){return wn.map(function(Nn){return In.resolve(Nn)})}).reduce(bv,[]).map(function(In){return In.toString()})}function tv(gn,bn){return{keySystem:gn,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:bn||[],keyIds:new Set}}function qu(gn,bn){if(bn.length==1)return bn[0];if(gn=Np(gn,bn),gn!=null)return gn;throw new Vs(2,4,4025,bn)}function Np(gn,bn){for(var wn=Dn(N_[gn]),In=wn.next();!In.done;In=wn.next()){In=In.value;for(var Nn=Dn(bn),jn=Nn.next();!jn.done;jn=Nn.next())if(jn=jn.value,In.test(jn.trim()))return jn.trim()}return gn==Zu?"":null}var Zu="text",tl={va:"video",Hc:"audio",X:Zu,Wb:"image",Fg:"application"},N_={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4$/,/^dts[cex]$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av01/,/^dvhe/],text:[/^vtt$/,/^wvtt/,/^stpp/]};function bl(){var gn,bn,wn=new Promise(function(In,Nn){gn=In,bn=Nn});return wn.resolve=gn,wn.reject=bn,wn}bl.prototype.resolve=function(){},bl.prototype.reject=function(){};function Dp(gn){this.h=gn,this.g=void 0}Dp.prototype.value=function(){return this.g==null&&(this.g=this.h()),this.g};function ay(gn){this.h=gn,this.g=null}ay.prototype.O=function(gn){var bn=this;this.stop();var wn=!0,In=null;return this.g=function(){pn.clearTimeout(In),wn=!1},In=pn.setTimeout(function(){wn&&bn.h()},1e3*gn),this},ay.prototype.stop=function(){this.g&&(this.g(),this.g=null)};function Hu(gn){this.h=gn,this.g=null}Hu.prototype.Mb=function(){return this.stop(),this.h(),this},Hu.prototype.O=function(gn){var bn=this;return this.stop(),this.g=new ay(function(){bn.h()}).O(gn),this},Hu.prototype.Ca=function(gn){var bn=this;return this.stop(),this.g=new ay(function(){bn.g.O(gn),bn.h()}).O(gn),this},Hu.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},Ys("shaka.util.Timer",Hu),Hu.prototype.stop=Hu.prototype.stop,Hu.prototype.tickEvery=Hu.prototype.Ca,Hu.prototype.tickAfter=Hu.prototype.O,Hu.prototype.tickNow=Hu.prototype.Mb;function Ap(){return!!(pn.MediaSource&&MediaSource.isTypeSupported)}function Em(gn){return YE().canPlayType(gn)!=""}function Yl(){return!!navigator.userAgent.match(/Edge?\//)}function Um(){return gl("Xbox One")}function Ep(){return gl("Tizen")}function Oy(){return gl("Web0S")&&gl("Chrome/38.0.2125.122 Safari/537.36")}function D_(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!Ep()&&!gl("PC=EOS")&&!gl("VirginMedia")&&!hm()&&!gl("AFT")}function hm(){return gl("PlayStation 4")}function L_(){if(!D_())return null;var gn=navigator.userAgent.match(/Version\/(\d+)/);return gn||(gn=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(gn[1],10):null}function gl(gn){return(navigator.userAgent||"").includes(gn)}function YE(){return ap||(Jp||(Jp=new Hu(function(){ap=null})),(ap=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(ap=document.createElement("video")),Jp.O(1),ap)}var Jp=null,ap=null;function Jl(){}function Ou(gn){if(!gn)return"";if(gn=Pu(gn),gn[0]==239&&gn[1]==187&&gn[2]==191&&(gn=gn.subarray(3)),pn.TextDecoder&&!hm())return gn=new TextDecoder().decode(gn),gn.includes("�")&&fl('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),gn;for(var bn="",wn=0;wn<gn.length;++wn){var In=65533;if(gn[wn]&128?gn.length>=wn+2&&(gn[wn]&224)==192&&(gn[wn+1]&192)==128?(In=(gn[wn]&31)<<6|gn[wn+1]&63,wn+=1):gn.length>=wn+3&&(gn[wn]&240)==224&&(gn[wn+1]&192)==128&&(gn[wn+2]&192)==128?(In=(gn[wn]&15)<<12|(gn[wn+1]&63)<<6|gn[wn+2]&63,wn+=2):gn.length>=wn+4&&(gn[wn]&241)==240&&(gn[wn+1]&192)==128&&(gn[wn+2]&192)==128&&(gn[wn+3]&192)==128&&(In=(gn[wn]&7)<<18|(gn[wn+1]&63)<<12|(gn[wn+2]&63)<<6|gn[wn+3]&63,wn+=3):In=gn[wn],65535>=In)bn+=String.fromCharCode(In);else{In-=65536;var Nn=In&1023;bn+=String.fromCharCode(55296+(In>>10)),bn+=String.fromCharCode(56320+Nn)}}return bn}function Ip(gn,bn,wn){if(!gn)return"";if(!wn&&gn.byteLength%2!=0)throw new Vs(2,2,2004);wn=Math.floor(gn.byteLength/2);var In=new Uint16Array(wn);gn=rp(gn);for(var Nn=0;Nn<wn;Nn++)In[Nn]=gn.getUint16(2*Nn,bn);return Hp.value()(In)}function My(gn){function bn(In){return wn.byteLength<=In||32<=wn[In]&&126>=wn[In]}if(!gn)return"";var wn=Pu(gn);if(wn[0]==239&&wn[1]==187&&wn[2]==191)return Ou(wn);if(wn[0]==254&&wn[1]==255)return Ip(wn.subarray(2),!1);if(wn[0]==255&&wn[1]==254)return Ip(wn.subarray(2),!0);if(wn[0]==0&&wn[2]==0)return Ip(gn,!1);if(wn[1]==0&&wn[3]==0)return Ip(gn,!0);if(bn(0)&&bn(1)&&bn(2)&&bn(3))return Ou(gn);throw new Vs(2,2,2003)}function fp(gn){if(pn.TextEncoder&&!hm()){var bn=new TextEncoder;return Vu(bn.encode(gn))}gn=encodeURIComponent(gn),gn=unescape(gn),bn=new Uint8Array(gn.length);for(var wn=0;wn<gn.length;wn++)bn[wn]=gn[wn].charCodeAt(0);return Vu(bn)}function Ku(gn,bn){for(var wn=new ArrayBuffer(2*gn.length),In=new DataView(wn),Nn=0;Nn<gn.length;++Nn)In.setUint16(2*Nn,gn.charCodeAt(Nn),bn);return wn}Ys("shaka.util.StringUtils",Jl),Jl.resetFromCharCode=function(){Hp.g=void 0},Jl.toUTF16=Ku,Jl.toUTF8=fp,Jl.fromBytesAutoDetect=My,Jl.fromUTF16=Ip,Jl.fromUTF8=Ou;var Hp=new Dp(function(){function gn(wn){try{var In=new Uint8Array(wn);return 0<String.fromCharCode.apply(null,In).length}catch{return!1}}for(var bn={Ta:65536};0<bn.Ta;bn={Ta:bn.Ta},bn.Ta/=2)if(gn(bn.Ta))return function(wn){return function(In){for(var Nn="",jn=0;jn<In.length;jn+=wn.Ta)Nn+=String.fromCharCode.apply(null,In.subarray(jn,jn+wn.Ta));return Nn}}(bn);return null});function jm(){}function _l(gn){return gn=Pu(gn),gn=Hp.value()(gn),btoa(gn)}function Sm(gn,bn){return bn=bn??!0,gn=_l(gn).replace(/\+/g,"-").replace(/\//g,"_"),bn?gn:gn.replace(/[=]*$/,"")}function mm(gn){gn=pn.atob(gn.replace(/-/g,"+").replace(/_/g,"/"));for(var bn=new Uint8Array(gn.length),wn=0;wn<gn.length;++wn)bn[wn]=gn.charCodeAt(wn);return bn}function Tu(gn){for(var bn=gn.length/2,wn=new Uint8Array(bn),In=0;In<bn;In++)wn[In]=pn.parseInt(gn.substr(2*In,2),16);return wn}function Sp(gn){var bn=Pu(gn);gn="",bn=Dn(bn);for(var wn=bn.next();!wn.done;wn=bn.next())wn=wn.value,wn=wn.toString(16),wn.length==1&&(wn="0"+wn),gn+=wn;return gn}function oy(){for(var gn=lu.apply(0,arguments),bn=0,wn=Dn(gn),In=wn.next();!In.done;In=wn.next())bn+=In.value.byteLength;for(bn=new Uint8Array(bn),wn=0,gn=Dn(gn),In=gn.next();!In.done;In=gn.next())In=In.value,bn.set(Pu(In),wn),wn+=In.byteLength;return bn}Ys("shaka.util.Uint8ArrayUtils",jm),jm.concat=oy,jm.toHex=Sp,jm.fromHex=Tu,jm.fromBase64=mm,jm.toBase64=Sm,jm.toStandardBase64=_l;function e_(){}Ys("shaka.dependencies",e_),e_.has=function(gn){return Fm.has(gn)},e_.add=function(gn,bn){if(!xv[gn])throw Error(gn+" is not supported");Fm.set(gn,function(){return bn})};var xv={muxjs:"muxjs"};e_.Allowed=xv;var Fm=new Map([["muxjs",function(){return pn.muxjs}]]);function XE(gn){var bn=this;this.o=gn,this.m=Fm.get("muxjs")(),this.h=this.g=null,this.l=[],this.i=[],this.j=!1,this.m&&(this.g=new this.m.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.g.on("data",function(wn){bn.i=wn.captions,bn.l.push(oy(wn.initSegment,wn.data))}),this.g.on("done",function(){var wn={data:oy.apply(jm,Kn(bn.l)),captions:bn.i};bn.h.resolve(wn),bn.j=!1}))}XE.prototype.destroy=function(){return this.g&&this.g.dispose(),this.g=null,Promise.resolve()};function rv(gn,bn){var wn=t_(gn),In=gn.toLowerCase().split(";")[0]=="audio/aac";return!Fm.get("muxjs")()||!wn&&!In?!1:In?Fu('audio/mp4; codecs="mp4a.40.2"'):bn?Fu(Cl(bn,gn)):(bn=Cl("audio",gn),gn=Cl("video",gn),Fu(bn)||Fu(gn))}function t_(gn){return gn.toLowerCase().split(";")[0].split("/")[1]=="mp2t"}function N0(gn,bn){return bn.toLowerCase().split(";")[0]=="audio/aac"?'audio/mp4; codecs="mp4a.40.2"':t_(bn)?Cl(gn,bn):bn}function Cl(gn,bn){if(bn=bn.replace(/mp2t/i,"mp4"),gn=="audio"&&(bn=bn.replace("video","audio")),gn=/avc1\.(66|77|100)\.(\d+)/.exec(bn)){var wn="avc1.",In=gn[1],Nn=Number(gn[2]);wn=(In=="66"?wn+"4200":In=="77"?wn+"4d00":wn+"6400")+(Nn>>4).toString(16),wn+=(Nn&15).toString(16),bn=bn.replace(gn[0],wn)}return bn}function N$(gn,bn){return gn.j=!0,gn.h=new bl,gn.l=[],gn.i=[],bn=Pu(bn),gn.g.push(bn),gn.g.flush(),gn.j&&gn.h.reject(new Vs(2,3,3018)),gn.h}function D0(){}function _h(gn,bn){return bn&&(gn+='; codecs="'+bn+'"'),gn}function $m(gn,bn,wn){return bn=_h(gn,bn),rv(bn,wn)?N0(wn,bn):gn!="video/mp2t"&&wn=="audio"?bn.replace("video","audio"):bn}function xl(gn){var bn=Bm(gn);switch(gn=bn[0],bn=bn[1].toLowerCase(),!0){case(gn==="mp4a"&&bn==="69"):case(gn==="mp4a"&&bn==="6b"):return"mp3";case(gn==="mp4a"&&bn==="66"):case(gn==="mp4a"&&bn==="67"):case(gn==="mp4a"&&bn==="68"):case(gn==="mp4a"&&bn==="40.2"):case(gn==="mp4a"&&bn==="40.02"):case(gn==="mp4a"&&bn==="40.5"):case(gn==="mp4a"&&bn==="40.05"):case(gn==="mp4a"&&bn==="40.29"):case(gn==="mp4a"&&bn==="40.42"):return"aac";case(gn==="mp4a"&&bn==="a5"):return"ac-3";case(gn==="mp4a"&&bn==="a6"):return"ec-3";case(gn==="mp4a"&&bn==="b2"):return"dtsx";case(gn==="mp4a"&&bn==="a9"):return"dtsc";case gn==="avc1":case gn==="avc3":return"avc";case gn==="hvc1":case gn==="hev1":return"hevc";case gn==="dvh1":case gn==="dvhe":return"dovi"}return gn}function Ry(gn){return gn=gn.split(/ *; */),gn.shift(),(gn=gn.find(function(bn){return bn.startsWith("codecs=")}))?gn.split("=")[1].replace(/^"|"$/g,""):""}function Bm(gn){gn=gn.split(".");var bn=gn[0];return gn.shift(),[bn,gn.join(".")]}Ys("shaka.util.MimeUtils",D0),D0.getFullType=_h,new Map().set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");function Kp(gn){this.i=null,this.j=gn,this.u=!1,this.l=this.s=0,this.m=1/0,this.h=this.g=null,this.B="",this.o=new Map}function r_(gn){return!!(_c[gn]||gn=="application/cea-608"||gn=="application/cea-708")}Kp.prototype.destroy=function(){return this.j=this.i=null,this.o.clear(),Promise.resolve()};function QE(gn,bn,wn,In){var Nn,jn,Vn,Hn;return hs(function(Xn){if(Xn.g==1)return Qn(Xn,Promise.resolve(),2);if(!gn.i||!gn.j)return Xn.return();if(wn==null||In==null)return gn.i.parseInit(Pu(bn)),Xn.return();Nn=gn.u?wn:gn.s,jn={periodStart:gn.s,segmentStart:wn,segmentEnd:In,vttOffset:Nn},Vn=gn.i.parseMedia(Pu(bn),jn),Hn=Vn.filter(function(ns){return ns.startTime>=gn.l&&ns.startTime<gn.m}),gn.j.append(Hn),gn.g==null&&(gn.g=Math.max(wn,gn.l)),gn.h=Math.min(In,gn.m),ms(Xn)})}Kp.prototype.remove=function(gn,bn){var wn=this;return hs(function(In){if(In.g==1)return Qn(In,Promise.resolve(),2);!wn.j||!wn.j.remove(gn,bn)||wn.g==null||bn<=wn.g||gn>=wn.h||(gn<=wn.g&&bn>=wn.h?wn.g=wn.h=null:gn<=wn.g&&bn<wn.h?wn.g=bn:gn>wn.g&&bn>=wn.h&&(wn.h=gn)),ms(In)})};function Tm(gn,bn,wn){gn.l=bn,gn.m=wn}function ZE(gn,bn,wn){if(gn.B=bn,bn=gn.o.get(bn))for(var In=Dn(bn.keys()),Nn=In.next();!Nn.done;Nn=In.next())(Nn=bn.get(Nn.value).filter(function(jn){return jn.endTime<=wn}))&&gn.j.append(Nn)}function Ny(gn){var bn=[];gn=Dn(gn);for(var wn=gn.next();!wn.done;wn=gn.next())wn=wn.value,bn.push({stream:wn.stream,cue:new wu(wn.startTime,wn.endTime,wn.text)});return bn}function Lp(gn,bn,wn){bn.startTime+=wn,bn.endTime+=wn,bn=Dn(bn.nestedCues);for(var In=bn.next();!In.done;In=bn.next())Lp(gn,In.value,wn)}function n_(gn,bn,wn,In,Nn){var jn=wn+" "+In,Vn=new Map;bn=Dn(bn);for(var Hn=bn.next();!Hn.done;Hn=bn.next()){var Xn=Hn.value;Hn=Xn.stream,Xn=Xn.cue,Vn.has(Hn)||Vn.set(Hn,new Map),Vn.get(Hn).has(jn)||Vn.get(Hn).set(jn,[]),Lp(gn,Xn,Nn),Xn.startTime>=gn.l&&Xn.startTime<gn.m&&(Vn.get(Hn).get(jn).push(Xn),Hn==gn.B&&gn.j.append([Xn]))}for(Nn=Dn(Vn.keys()),jn=Nn.next();!jn.done;jn=Nn.next())for(jn=jn.value,gn.o.has(jn)||gn.o.set(jn,new Map),bn=Dn(Vn.get(jn).keys()),Hn=bn.next();!Hn.done;Hn=bn.next())Hn=Hn.value,Xn=Vn.get(jn).get(Hn),gn.o.get(jn).set(Hn,Xn);gn.g=gn.g==null?Math.max(wn,gn.l):Math.min(gn.g,Math.max(wn,gn.l)),gn.h=Math.max(gn.h,Math.min(In,gn.m))}Ys("shaka.text.TextEngine",Kp),Kp.prototype.destroy=Kp.prototype.destroy,Kp.findParser=function(gn){return _c[gn]},Kp.unregisterParser=function(gn){delete _c[gn]},Kp.registerParser=function(gn,bn){_c[gn]=bn};var _c={};function Up(){}function wv(gn,bn){return gn=ml(gn),bn=ml(bn),gn.split("-")[0]==bn.split("-")[0]}function i_(gn,bn){return gn=ml(gn),bn=ml(bn),gn=gn.split("-"),bn=bn.split("-"),gn[0]==bn[0]&&gn.length==1&&bn.length==2}function a_(gn,bn){return gn=ml(gn),bn=ml(bn),gn=gn.split("-"),bn=bn.split("-"),gn.length==2&&bn.length==2&&gn[0]==bn[0]}function ml(gn){var bn=gn.split("-");return gn=bn[0]||"",bn=bn[1]||"",gn=gn.toLowerCase(),gn=D$.get(gn)||gn,(bn=bn.toUpperCase())?gn+"-"+bn:gn}function km(gn,bn){return gn=ml(gn),bn=ml(bn),bn==gn?4:i_(bn,gn)?3:a_(bn,gn)?2:i_(gn,bn)?1:0}function L0(gn){var bn=gn.indexOf("-");return gn=0<=bn?gn.substring(0,bn):gn,gn=gn.toLowerCase(),gn=D$.get(gn)||gn}function U0(gn){return gn.language?ml(gn.language):gn.audio&&gn.audio.language?ml(gn.audio.language):gn.video&&gn.video.language?ml(gn.video.language):"und"}function Cv(gn,bn){gn=ml(gn);var wn=new Set,In=Dn(bn);for(bn=In.next();!bn.done;bn=In.next())wn.add(ml(bn.value));for(In=Dn(wn),bn=In.next();!bn.done;bn=In.next())if(bn=bn.value,bn==gn)return bn;for(In=Dn(wn),bn=In.next();!bn.done;bn=In.next())if(bn=bn.value,i_(bn,gn))return bn;for(In=Dn(wn),bn=In.next();!bn.done;bn=In.next())if(bn=bn.value,a_(bn,gn))return bn;for(wn=Dn(wn),bn=wn.next();!bn.done;bn=wn.next())if(bn=bn.value,i_(gn,bn))return bn;return null}Ys("shaka.util.LanguageUtils",Up),Up.findClosestLocale=Cv,Up.getLocaleForVariant=U0,Up.getLocaleForText=function(gn){return ml(gn.language||"und")},Up.getBase=L0,Up.relatedness=km,Up.areSiblings=function(gn,bn){var wn=L0(gn),In=L0(bn);return gn!=wn&&bn!=In&&wn==In},Up.normalize=ml,Up.isSiblingOf=a_,Up.isParentOf=i_,Up.areLanguageCompatible=wv,Up.areLocaleCompatible=function(gn,bn){return gn=ml(gn),bn=ml(bn),gn==bn};var D$=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function sy(){this.g={}}En=sy.prototype,En.push=function(gn,bn){this.g.hasOwnProperty(gn)?this.g[gn].push(bn):this.g[gn]=[bn]},En.get=function(gn){return(gn=this.g[gn])?gn.slice():null},En.remove=function(gn,bn){gn in this.g&&(this.g[gn]=this.g[gn].filter(function(wn){return wn!=bn}),this.g[gn].length==0&&delete this.g[gn])},En.forEach=function(gn){for(var bn in this.g)gn(bn,this.g[bn])},En.size=function(){return Object.keys(this.g).length},En.keys=function(){return Object.keys(this.g)};function Vm(gn,bn,wn,In,Nn){var jn=gn.variants;(bn.length||wn.length)&&(jn=As(jn,bn,wn)),jn=Xk(jn,In),bn=su(jn),bn=_i(bn);var Vn=Ks(bn,Nn);gn.variants=gn.variants.filter(function(Hn){return mu(Hn)==Vn})}function su(gn){var bn=new sy;gn=Dn(gn);for(var wn=gn.next();!wn.done;wn=gn.next()){wn=wn.value;var In=mu(wn);bn.push(In,wn)}return bn}function _i(gn){var bn=0,wn=new Map,In=gn.size();return gn.forEach(function(Nn,jn){jn=Dn(jn);for(var Vn=jn.next();!Vn.done;Vn=jn.next()){Vn=Vn.value;var Hn=Vn.video;if(Hn&&Hn.width&&Hn.height){Hn=Hn.width*Hn.height*(Hn.frameRate||1),wn.has(Hn)||wn.set(Hn,new sy);var Xn=wn.get(Hn);Xn.push(Nn,Vn),Xn.size()===In&&(bn=Math.max(bn,Hn))}}}),bn?wn.get(bn):gn}function As(gn,bn,wn){var In={};bn=Dn(bn);for(var Nn=bn.next();!Nn.done;In={xd:In.xd},Nn=bn.next())if(In.xd=Nn.value,Nn=gn.filter(function(jn){return function(Vn){return Vn.video&&Vn.video.codecs.startsWith(jn.xd)}}(In)),Nn.length){gn=Nn;break}for(In={},wn=Dn(wn),bn=wn.next();!bn.done;In={jd:In.jd},bn=wn.next())if(In.jd=bn.value,bn=gn.filter(function(jn){return function(Vn){return Vn.audio&&Vn.audio.codecs.startsWith(jn.jd)}}(In)),bn.length){gn=bn;break}return gn}function Ks(gn,bn){bn=Dn(bn);for(var wn=bn.next();!wn.done;wn=bn.next())if(wn=wn.value,wn==U$||wn==Jk){if(gn=Us(gn,wn),gn.size()==1)return gn.keys()[0]}else if(wn==_b)break;return ks(gn)}function Us(gn,bn){var wn=0,In=new sy;return gn.forEach(function(Nn,jn){for(var Vn=0,Hn=0,Xn=Dn(jn),ns=Xn.next();!ns.done;ns=Xn.next())ns=ns.value,ns.decodingInfos.length&&(Vn+=ns.decodingInfos[0][bn]?1:0,Hn++);Vn/=Hn,Vn>wn?(In.g={},In.push(Nn,jn),wn=Vn):Vn==wn&&In.push(Nn,jn)}),In}function ks(gn){var bn="",wn=1/0;return gn.forEach(function(In,Nn){var jn=0,Vn=0;Nn=Dn(Nn);for(var Hn=Nn.next();!Hn.done;Hn=Nn.next())jn+=Hn.value.bandwidth||0,++Vn;jn/=Vn,jn<wn&&(bn=In,wn=jn)}),bn}function mu(gn){var bn="";gn.video&&(bn=xl(gn.video.codecs));var wn="";return gn.audio&&(wn=xl(gn.audio.codecs)),bn+"-"+wn}function uu(gn,bn,wn){gn.variants=gn.variants.filter(function(In){return fu(In,bn,wn)})}function fu(gn,bn,wn){function In(jn,Vn,Hn){return jn>=Vn&&jn<=Hn}var Nn=gn.video;if(gn.disabledUntilTime!=0){if(gn.disabledUntilTime>Date.now()/1e3)return!1;gn.disabledUntilTime=0}return!(Nn&&Nn.width&&Nn.height&&(!In(Nn.width,bn.minWidth,Math.min(bn.maxWidth,wn.width))||!In(Nn.height,bn.minHeight,Math.min(bn.maxHeight,wn.height))||!In(Nn.width*Nn.height,bn.minPixels,bn.maxPixels))||gn&&gn.video&&gn.video.frameRate&&!In(gn.video.frameRate,bn.minFrameRate,bn.maxFrameRate)||!In(gn.bandwidth,bn.minBandwidth,bn.maxBandwidth))}function El(gn,bn,wn){var In=!1;gn=Dn(gn);for(var Nn=gn.next();!Nn.done;Nn=gn.next()){Nn=Nn.value;var jn=Nn.allowedByApplication;Nn.allowedByApplication=fu(Nn,bn,wn),jn!=Nn.allowedByApplication&&(In=!0)}return In}function Cu(gn,bn){return hs(function(wn){return wn.g==1?Qn(wn,jp(bn,0<bn.offlineSessionIds.length),2):(U_(gn,bn),mM(bn),Qn(wn,gM(bn),0))})}function jp(gn,bn){return hs(function(wn){if(wn.g==1)return Qn(wn,Ul(gn.variants,bn,!1),2);gn.variants=gn.variants.filter(function(In){var Nn=In.video;if(Nn){var jn=Ly(Nn.codecs);if(Nn.codecs.includes(",")){var Vn=Nn.codecs.split(",");jn=qu("video",Vn),jn=Ly(jn),Vn=qu("audio",Vn),Vn=Dy(Vn);var Hn=$m(Nn.mimeType,Vn,"audio");if(!Fu(Hn))return!1;jn=[jn,Vn].join()}if(Vn=$m(Nn.mimeType,jn,"video"),!Fu(Vn))return!1;Nn.codecs=jn}if(jn=In.audio){if(Vn=Dy(jn.codecs),Hn=$m(jn.mimeType,Vn,"audio"),!Fu(Hn))return!1;jn.codecs=Vn}return Um()&&Nn&&(Nn.width&&1920<Nn.width||Nn.height&&1080<Nn.height)&&(Nn.codecs.includes("avc1.")||Nn.codecs.includes("avc3."))?(SA(In),!1):((Nn=In.decodingInfos.some(function(Xn){return Xn.supported}))||(SA(In),void 0),Nn)}),ms(wn)})}function Ul(gn,bn,wn){var In,Nn,jn,Vn,Hn,Xn,ns,ss,ps,fs;return hs(function(vs){if(gn.some(function(Is){return Is.decodingInfos.length}))return vs.return();for(In=navigator.mediaCapabilities,Nn=[],jn=function(Is,Ls){var ws;return hs(function(Rs){if(Rs.g==1)return $s(Rs,2),Qn(Rs,In.decodingInfo(Ls),4);if(Rs.g!=2)return ws=Rs.h,Is.decodingInfos.push(ws),gs(Rs,0);Ss(Rs),JSON.stringify(Ls),ms(Rs)})},Vn=Dn(gn),Hn=Vn.next();!Hn.done;Hn=Vn.next())for(Xn=Hn.value,ns=Bl(Xn,bn,wn),ss=Dn(ns),ps=ss.next();!ps.done;ps=ss.next())fs=ps.value,Nn.push(jn(Xn,fs));return Qn(vs,Promise.all(Nn),0)})}function Bl(gn,bn,wn){var In=gn.audio,Nn=gn.video;if(wn={type:wn?"file":"media-source"},Nn){var jn=Nn.codecs;if(Nn.codecs.includes(",")){var Vn=Nn.codecs.split(",");jn=qu("video",Vn),jn=Ly(jn),Vn=qu("audio",Vn),Vn=$m(Nn.mimeType,Vn,"audio"),wn.audio={contentType:Vn,channels:2,bitrate:gn.bandwidth||1,samplerate:1,spatialRendering:!1}}if(jn=Ly(jn),jn=$m(Nn.mimeType,jn,"video"),wn.video={contentType:jn,width:Nn.width||64,height:Nn.height||64,bitrate:Nn.bandwidth||gn.bandwidth||1,framerate:Nn.frameRate||1},Nn.hdr)switch(Nn.hdr){case"SDR":wn.video.transferFunction="srgb";break;case"PQ":wn.video.transferFunction="pq";break;case"HLG":wn.video.transferFunction="hlg"}}if(In&&(jn=Dy(In.codecs),jn=$m(In.mimeType,jn,"audio"),wn.audio={contentType:jn,channels:In.channelsCount||2,bitrate:In.bandwidth||gn.bandwidth||1,samplerate:In.audioSamplingRate||1,spatialRendering:In.spatialAudio}),Vn=(gn.video?gn.video.drmInfos:[]).concat(gn.audio?gn.audio.drmInfos:[]),!Vn.length)return[wn];gn=[],jn=new Map,Vn=Dn(Vn);for(var Hn=Vn.next();!Hn.done;Hn=Vn.next()){var Xn=Hn.value;jn.get(Xn.keySystem)||jn.set(Xn.keySystem,[]),jn.get(Xn.keySystem).push(Xn)}Vn=bn?"required":"optional",bn=bn?["persistent-license"]:["temporary"],Xn=Dn(jn.keys());for(var ns=Xn.next();!ns.done;ns=Xn.next()){var ss=ns.value;ns=Object.assign({},wn);var ps=jn.get(ss);for(ss={keySystem:ss,initDataType:"cenc",persistentState:Vn,distinctiveIdentifier:"optional",sessionTypes:bn},ps=Dn(ps),Hn=ps.next();!Hn.done;Hn=ps.next()){if(Hn=Hn.value,Hn.initData&&Hn.initData.length){for(var fs=new Set,vs=Dn(Hn.initData),Is=vs.next();!Is.done;Is=vs.next())fs.add(Is.value.initDataType);ss.initDataType=Hn.initData[0].initDataType}Hn.distinctiveIdentifierRequired&&(ss.distinctiveIdentifier="required"),Hn.persistentStateRequired&&(ss.persistentState="required"),Hn.sessionType&&(ss.sessionTypes=[Hn.sessionType]),In&&(Hn.audioRobustness!=""?ss.audio?ss.audio.robustness=ss.audio.robustness||Hn.audioRobustness:ss.audio={robustness:Hn.audioRobustness}:ss.audio||(ss.audio={})),Nn&&(Hn.videoRobustness!=""?ss.video?ss.video.robustness=ss.video.robustness||Hn.videoRobustness:ss.video={robustness:Hn.videoRobustness}:ss.video||(ss.video={}))}ns.keySystemConfiguration=ss,gn.push(ns)}return gn}function Dy(gn){return Ep()&&gn.toLowerCase()=="ac-3"?"ec-3":gn}function Ly(gn){if(gn.includes("avc1")){var bn=gn.split(".");if(bn.length==3)return gn=bn.shift()+".",gn+=parseInt(bn.shift(),10).toString(16),gn+=("000"+parseInt(bn.shift(),10).toString(16)).slice(-4)}else if(gn=="vp9")return"vp09.00.41.08";return gn}function U_(gn,bn){bn.variants=bn.variants.filter(function(wn){var In=wn.audio;return wn=wn.video,!(In&&gn&&gn.audio&&!Kk(In,gn.audio)||wn&&gn&&gn.video&&!Kk(wn,gn.video))})}function mM(gn){gn.textStreams=gn.textStreams.filter(function(bn){return r_(_h(bn.mimeType,bn.codecs))})}function gM(gn){var bn,wn,In,Nn,jn,Vn,Hn;return hs(function(Xn){switch(Xn.g){case 1:bn=[],wn=Dn(gn.imageStreams),In=wn.next();case 2:if(In.done){Xn.A(4);break}if(Nn=In.value,jn=Nn.mimeType,tS.has(jn)){Xn.A(5);break}if(Vn=j$.get(jn),!Vn){tS.set(jn,!1),Xn.A(5);break}return Qn(Xn,yM(Vn),7);case 7:Hn=Xn.h,tS.set(jn,Hn);case 5:tS.get(jn)&&bn.push(Nn),In=wn.next(),Xn.A(2);break;case 4:gn.imageStreams=bn,ms(Xn)}})}function yM(gn){return new Promise(function(bn){var wn=new Image;wn.src=gn,"decode"in wn?wn.decode().then(function(){bn(!0)}).catch(function(){bn(!1)}):wn.onload=wn.onerror=function(){bn(wn.height===2)}})}function Kk(gn,bn){return!(gn.mimeType!=bn.mimeType||gn.codecs.split(".")[0]!=bn.codecs.split(".")[0])}function j_(gn){var bn=gn.audio,wn=gn.video,In=bn?bn.mimeType:null,Nn=wn?wn.mimeType:null,jn=bn?bn.codecs:null,Vn=wn?wn.codecs:null,Hn=[];Vn&&Hn.push(Vn),jn&&Hn.push(jn);var Xn=[];wn&&Xn.push(wn.mimeType),bn&&Xn.push(bn.mimeType),Xn=Xn[0]||null;var ns=[];bn&&ns.push(bn.kind),wn&&ns.push(wn.kind),ns=ns[0]||null;var ss=new Set;if(bn)for(var ps=Dn(bn.roles),fs=ps.next();!fs.done;fs=ps.next())ss.add(fs.value);if(wn)for(ps=Dn(wn.roles),fs=ps.next();!fs.done;fs=ps.next())ss.add(fs.value);return gn={id:gn.id,active:!1,type:"variant",bandwidth:gn.bandwidth,language:gn.language,label:null,kind:ns,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:Xn,audioMimeType:In,videoMimeType:Nn,codecs:Hn.join(", "),audioCodec:jn,videoCodec:Vn,primary:gn.primary,roles:Array.from(ss),audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null},wn&&(gn.videoId=wn.id,gn.originalVideoId=wn.originalId,gn.width=wn.width||null,gn.height=wn.height||null,gn.frameRate=wn.frameRate||null,gn.pixelAspectRatio=wn.pixelAspectRatio||null,gn.videoBandwidth=wn.bandwidth||null),bn&&(gn.audioId=bn.id,gn.originalAudioId=bn.originalId,gn.channelsCount=bn.channelsCount,gn.audioSamplingRate=bn.audioSamplingRate,gn.audioBandwidth=bn.bandwidth||null,gn.spatialAudio=bn.spatialAudio,gn.label=bn.label,gn.audioRoles=bn.roles),gn}function j0(gn){return{id:gn.id,active:!1,type:Zu,bandwidth:0,language:gn.language,label:gn.label,kind:gn.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:gn.mimeType,audioMimeType:null,videoMimeType:null,codecs:gn.codecs||null,audioCodec:null,videoCodec:null,primary:gn.primary,roles:gn.roles,audioRoles:null,forced:gn.forced,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:gn.originalId,originalImageId:null}}function JE(gn){var bn=gn.width||null,wn=gn.height||null,In=null;gn.segmentIndex&&(In=gn.segmentIndex.get(0));var Nn=gn.tilesLayout;return In&&(Nn=In.tilesLayout||Nn),Nn&&bn!=null&&(bn/=Number(Nn.split("x")[0])),Nn&&wn!=null&&(wn/=Number(Nn.split("x")[1])),{id:gn.id,active:!1,type:"image",bandwidth:gn.bandwidth||0,language:"",label:null,kind:null,width:bn,height:wn,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:gn.mimeType,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:Nn||null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:gn.originalId}}function Wk(gn){return gn.__shaka_id||(gn.__shaka_id=B_++),gn.__shaka_id}function Yk(gn){var bn=_A(gn);return bn.active=gn.mode!="disabled",bn.type="text",bn.originalTextId=gn.id,gn.kind=="captions"&&(bn.mimeType="application/cea-608"),gn.kind&&(bn.roles=[gn.kind]),gn.kind=="forced"&&(bn.forced=!0),bn}function eS(gn){var bn=_A(gn);return bn.active=gn.enabled,bn.type="variant",bn.originalAudioId=gn.id,gn.kind=="main"&&(bn.primary=!0),gn.kind&&(bn.roles=[gn.kind],bn.audioRoles=[gn.kind],bn.label=gn.label),bn}function _A(gn){return{id:Wk(gn),active:!1,type:"",bandwidth:0,language:ml(gn.language),label:gn.label,kind:gn.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:null,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null}}function F_(gn){return gn.allowedByApplication&&gn.allowedByKeySystem}function L$(gn){return gn.filter(function(bn){return F_(bn)})}function Xk(gn,bn){var wn=gn.filter(function(Vn){return Vn.audio&&Vn.audio.channelsCount}),In=new Map;wn=Dn(wn);for(var Nn=wn.next();!Nn.done;Nn=wn.next()){Nn=Nn.value;var jn=Nn.audio.channelsCount;In.has(jn)||In.set(jn,[]),In.get(jn).push(Nn)}return wn=Array.from(In.keys()),wn.length==0?gn:(gn=wn.filter(function(Vn){return Vn<=bn}),gn.length?In.get(Math.max.apply(Math,Kn(gn))):In.get(Math.min.apply(Math,Kn(wn))))}function Qk(gn,bn,wn,In){var Nn=gn,jn=gn.filter(function(Xn){return Xn.primary});jn.length&&(Nn=jn);var Vn=Nn.length?Nn[0].language:"";if(Nn=Nn.filter(function(Xn){return Xn.language==Vn}),bn){var Hn=Cv(ml(bn),gn.map(function(Xn){return Xn.language}));Hn&&(Nn=gn.filter(function(Xn){return ml(Xn.language)==Hn}))}if(Nn=Nn.filter(function(Xn){return Xn.forced==In}),wn){if(gn=EA(Nn,wn),gn.length)return gn}else if(gn=Nn.filter(function(Xn){return Xn.roles.length==0}),gn.length)return gn;return gn=Nn.map(function(Xn){return Xn.roles}).reduce(bv,[]),gn.length?EA(Nn,gn[0]):Nn}function EA(gn,bn){return gn.filter(function(wn){return wn.roles.includes(bn)})}function SA(gn){var bn=[];return gn.audio&&bn.push(Zk(gn.audio)),gn.video&&bn.push(Zk(gn.video)),bn.join(", ")}function Zk(gn){return gn.type=="audio"?"type=audio codecs="+gn.codecs+" bandwidth="+gn.bandwidth+" channelsCount="+gn.channelsCount+" audioSamplingRate="+gn.audioSamplingRate:gn.type=="video"?"type=video codecs="+gn.codecs+" bandwidth="+gn.bandwidth+" frameRate="+gn.frameRate+" width="+gn.width+" height="+gn.height:"unexpected stream type"}var B_=0,U$="smooth",Jk="powerEfficient",_b="bandwidth",tS=new Map().set("image/svg+xml",!0).set("image/png",!0).set("image/jpeg",!0).set("image/jpg",!0),j$=new Map().set("image/webp","data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA").set("image/avif","data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");function ql(){var gn=this;this.l=null,this.o=!1,this.i=new lp,navigator.connection&&navigator.connection.addEventListener&&(this.u=function(){if(gn.g.useNetworkInformation&&gn.o){gn.i=new lp,gn.g&&gn.i.configure(gn.g.advanced);var bn=gn.chooseVariant();bn&&gn.l(bn)}},navigator.connection.addEventListener("change",this.u)),this.m=[],this.B=1,this.F=!1,this.u=this.h=this.j=this.g=this.s=null,this.D=new Hu(function(){if(gn.g.restrictToElementSize){var bn=gn.chooseVariant();bn&&gn.l(bn)}})}En=ql.prototype,En.stop=function(){this.l=null,this.o=!1,this.m=[],this.B=1,this.j=this.s=null,this.h&&(this.h.disconnect(),this.h=null),this.D.stop()},En.release=function(){navigator.connection&&navigator.connection.removeEventListener&&(navigator.connection.removeEventListener("change",this.u),this.u=null),this.D=null},En.init=function(gn){this.l=gn},En.chooseVariant=function(){var gn=1/0,bn=1/0;this.g.restrictToScreenSize&&(bn=this.g.ignoreDevicePixelRatio?1:pn.devicePixelRatio,gn=pn.screen.height*bn,bn*=pn.screen.width),this.h&&this.g.restrictToElementSize&&(bn=this.g.ignoreDevicePixelRatio?1:pn.devicePixelRatio,gn=this.j.clientWidth*bn,bn*=this.j.clientHeight),gn=$A(this.g.restrictions,this.m,gn,bn),bn=this.i.getBandwidthEstimate(V_(this)),this.m.length&&!gn.length&&(gn=$A(null,this.m,1/0,1/0),gn=[gn[0]]);for(var wn=gn[0]||null,In=0;In<gn.length;In++){for(var Nn=gn[In],jn=isNaN(this.B)?1:Math.abs(this.B),Vn=jn*Nn.bandwidth/this.g.bandwidthDowngradeTarget,Hn={bandwidth:1/0},Xn=In+1;Xn<gn.length;Xn++)if(Nn.bandwidth!=gn[Xn].bandwidth){Hn=gn[Xn];break}jn=jn*Hn.bandwidth/this.g.bandwidthUpgradeTarget,bn>=Vn&&bn<=jn&&wn.bandwidth!=Nn.bandwidth&&(wn=Nn)}return this.s=Date.now(),wn},En.enable=function(){this.o=!0},En.disable=function(){this.o=!1},En.segmentDownloaded=function(gn,bn){if(this.i.sample(gn,bn),this.s!=null&&this.o)e:{if(this.F){if(Date.now()-this.s<1e3*this.g.switchInterval)break e}else{if(gn=this.i,!(gn.g>=gn.i))break e;this.F=!0}gn=this.chooseVariant(),this.i.getBandwidthEstimate(V_(this)),gn&&this.l(gn)}},En.getBandwidthEstimate=function(){return this.i.getBandwidthEstimate(V_(this))},En.setVariants=function(gn){this.m=gn},En.playbackRateChanged=function(gn){this.B=gn},En.setMediaElement=function(gn){var bn=this;this.j=gn,this.h&&(this.h.disconnect(),this.h=null),this.j&&"ResizeObserver"in pn&&(this.h=new ResizeObserver(function(){bn.D.O(TA)}),this.h.observe(this.j))},En.configure=function(gn){this.g=gn,this.i&&this.g&&this.i.configure(this.g.advanced)};function V_(gn){var bn=gn.g.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&gn.g.useNetworkInformation&&(bn=1e6*navigator.connection.downlink),bn}function $A(gn,bn,wn,In){return gn&&(bn=bn.filter(function(Nn){return fu(Nn,gn,{width:In,height:wn})})),bn.sort(function(Nn,jn){return Nn.bandwidth-jn.bandwidth})}Ys("shaka.abr.SimpleAbrManager",ql),ql.prototype.configure=ql.prototype.configure,ql.prototype.setMediaElement=ql.prototype.setMediaElement,ql.prototype.playbackRateChanged=ql.prototype.playbackRateChanged,ql.prototype.setVariants=ql.prototype.setVariants,ql.prototype.getBandwidthEstimate=ql.prototype.getBandwidthEstimate,ql.prototype.segmentDownloaded=ql.prototype.segmentDownloaded,ql.prototype.disable=ql.prototype.disable,ql.prototype.enable=ql.prototype.enable,ql.prototype.chooseVariant=ql.prototype.chooseVariant,ql.prototype.init=ql.prototype.init,ql.prototype.release=ql.prototype.release,ql.prototype.stop=ql.prototype.stop;var TA=1;function rS(gn,bn){this.g=gn,this.h=bn}rS.prototype.toString=function(){return"v"+this.g+"."+this.h};function ex(gn,bn){var wn=new rS(5,0),In=xA,Nn=In.g,jn=wn.h-Nn.h;(0<(wn.g-Nn.g||jn)?In.i:In.h)(In.g,wn,gn,bn)}function kA(gn,bn,wn,In){$u([wn,"has been deprecated and will be removed in",bn,". We are currently at version",gn,". Additional information:",In].join(" "))}function bA(gn,bn,wn,In){fl([wn,"has been deprecated and has been removed in",bn,". We are now at version",gn,". Additional information:",In].join(""))}var xA=null;Ys("shaka.config.AutoShowText",{NEVER:0,ALWAYS:1,IF_PREFERRED_TEXT_LANGUAGE:2,IF_SUBTITLES_MAY_BE_NEEDED:3});function F$(gn,bn){for(this.h=gn,this.g=new Set([gn]),bn=bn||[],gn=Dn(bn),bn=gn.next();!bn.done;bn=gn.next())this.add(bn.value)}F$.prototype.add=function(gn){return tx(this.h,gn)?(this.g.add(gn),!0):!1};function tx(gn,bn){var wn;if(!(wn=!!gn.audio!=!!bn.audio||!!gn.video!=!!bn.video||gn.language!=bn.language)&&(wn=gn.audio&&bn.audio)){wn=gn.audio;var In=bn.audio;wn=!((!(!wn.channelsCount||!In.channelsCount||2<wn.channelsCount||2<In.channelsCount)||wn.channelsCount==In.channelsCount)&&wA(wn,In)&&nS(wn.roles,In.roles))}return!wn&&(wn=gn.video&&bn.video)&&(gn=gn.video,bn=bn.video,wn=!(wA(gn,bn)&&nS(gn.roles,bn.roles))),!wn}F$.prototype.values=function(){return this.g.values()};function wA(gn,bn){if(gn.mimeType!=bn.mimeType||(gn=gn.codecs.split(",").map(function(In){return Bm(In)[0]}),bn=bn.codecs.split(",").map(function(In){return Bm(In)[0]}),gn.length!=bn.length))return!1;gn.sort(),bn.sort();for(var wn=0;wn<gn.length;wn++)if(gn[wn]!=bn[wn])return!1;return!0}function nS(gn,bn){if(gn=new Set(gn),bn=new Set(bn),gn.delete("main"),bn.delete("main"),gn.size!=bn.size)return!1;gn=Dn(gn);for(var wn=gn.next();!wn.done;wn=gn.next())if(!bn.has(wn.value))return!1;return!0}function CA(gn){this.g=gn,this.h=new Pl(gn.language,"",gn.audio&&gn.audio.channelsCount?gn.audio.channelsCount:0,"")}CA.prototype.create=function(gn){var bn=this,wn=gn.filter(function(In){return tx(bn.g,In)});return wn.length?new F$(wn[0],wn):this.h.create(gn)};function Pl(gn,bn,wn,In){this.i=gn,this.j=bn,this.g=wn,this.h=In===void 0?"":In}Pl.prototype.create=function(gn){var bn=[];bn=rx(gn,this.i);var wn=gn.filter(function(In){return In.primary});for(bn=bn.length?bn:wn.length?wn:gn,gn=AA(bn,this.j),gn.length&&(bn=gn),this.g&&(gn=Xk(bn,this.g),gn.length&&(bn=gn)),this.h&&(gn=vM(bn,this.h),gn.length&&(bn=gn)),gn=new F$(bn[0]),bn=Dn(bn),wn=bn.next();!wn.done;wn=bn.next())wn=wn.value,tx(gn.h,wn)&&gn.add(wn);return gn};function rx(gn,bn){bn=ml(bn);var wn=Cv(bn,gn.map(function(In){return U0(In)}));return wn?gn.filter(function(In){return wn==U0(In)}):[]}function AA(gn,bn){return gn.filter(function(wn){return wn.audio?bn?wn.audio.roles.includes(bn):wn.audio.roles.length==0:!1})}function vM(gn,bn){return gn.filter(function(wn){return wn.audio?wn.audio.label.toLowerCase()==bn.toLowerCase():!1})}function nx(){this.g=B$,this.h=new Map().set(B$,2).set(F0,1)}function ix(gn,bn,wn){gn.h.set(B$,wn).set(F0,bn)}var F0=0,B$=1;function ax(gn,bn){var wn=o_();this.l=gn.maxAttempts==null?wn.maxAttempts:gn.maxAttempts,this.j=gn.baseDelay==null?wn.baseDelay:gn.baseDelay,this.o=gn.fuzzFactor==null?wn.fuzzFactor:gn.fuzzFactor,this.m=gn.backoffFactor==null?wn.backoffFactor:gn.backoffFactor,this.g=0,this.h=this.j,(this.i=bn===void 0?!1:bn)&&(this.g=1)}function iS(gn){var bn,wn;return hs(function(In){if(In.g==1){if(gn.g>=gn.l)if(gn.i)gn.g=1,gn.h=gn.j;else throw new Vs(2,7,1010);return bn=gn.g,gn.g++,bn==0?In.return():(wn=gn.h*(1+(2*Math.random()-1)*gn.o),Qn(In,new Promise(function(Nn){new Hu(Nn).O(wn/1e3)}),2))}gn.h*=gn.m,ms(In)})}function o_(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}}function Vl(gn,bn){this.promise=gn,this.i=bn,this.g=!1}function s_(gn){return new Vl(Promise.reject(gn),function(){return Promise.resolve()})}function V$(){var gn=Promise.reject(new Vs(2,7,7001));return gn.catch(function(){}),new Vl(gn,function(){return Promise.resolve()})}function Uy(gn){return new Vl(Promise.resolve(gn),function(){return Promise.resolve()})}function nv(gn){return new Vl(gn,function(){return gn.catch(function(){})})}Vl.prototype.abort=function(){return this.g=!0,this.i()};function IA(gn){return new Vl(Promise.all(gn.map(function(bn){return bn.promise})),function(){return Promise.all(gn.map(function(bn){return bn.abort()}))})}Vl.prototype.finally=function(gn){return this.promise.then(function(){return gn(!0)},function(){return gn(!1)}),this},Vl.prototype.Y=function(gn,bn){function wn(Hn){return function(Xn){if(Nn.g&&Hn)jn.reject(Vn);else{var ns=Hn?gn:bn;ns?In=_M(ns,Xn,jn):(Hn?jn.resolve:jn.reject)(Xn)}}}function In(){return jn.reject(Vn),Nn.abort()}var Nn=this,jn=new bl,Vn=new Vs(2,7,7001);return this.promise.then(wn(!0),wn(!1)),new Vl(jn,function(){return In()})};function _M(gn,bn,wn){try{var In=gn(bn);return In&&In.promise&&In.abort?(wn.resolve(In.promise),function(){return In.abort()}):(wn.resolve(In),function(){return Promise.resolve(In).then(function(){},function(){})})}catch(Nn){return wn.reject(Nn),function(){return Promise.resolve()}}}Ys("shaka.util.AbortableOperation",Vl),Vl.prototype.chain=Vl.prototype.Y,Vl.prototype.finally=Vl.prototype.finally,Vl.all=IA,Vl.prototype.abort=Vl.prototype.abort,Vl.notAbortable=nv,Vl.completed=Uy,Vl.aborted=V$,Vl.failed=s_;function Ju(gn,bn){if(bn)if(bn instanceof Map)for(var wn=Dn(bn.keys()),In=wn.next();!In.done;In=wn.next())In=In.value,Object.defineProperty(this,In,{value:bn.get(In),writable:!0,enumerable:!0});else for(wn in bn)Object.defineProperty(this,wn,{value:bn[wn],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=pn.performance&&pn.performance.now?pn.performance.now():Date.now(),this.type=gn,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function ox(gn){var bn=new Ju(gn.type),wn;for(wn in gn)Object.defineProperty(bn,wn,{value:gn[wn],writable:!0,enumerable:!0});return bn}Ju.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},Ju.prototype.stopImmediatePropagation=function(){this.g=!0},Ju.prototype.stopPropagation=function(){},Ys("shaka.util.FakeEvent",Ju);var Av={Hg:"abrstatuschanged",Ig:"adaptation",Jg:"buffering",Kg:"downloadfailed",Lg:"downloadheadersreceived",Mg:"drmsessionupdate",Og:"emsg",$g:"prft",Error:"error",Pg:"expirationupdated",Qg:"gapjumped",Sg:"loaded",Tg:"loading",Vg:"manifestparsed",Wg:"mediaqualitychanged",Metadata:"metadata",Yg:"onstatechange",Zg:"onstateidle",ah:"ratechange",dh:"segmentappended",eh:"sessiondata",fh:"stalldetected",gh:"streaming",hh:"textchanged",ih:"texttrackvisibility",jh:"timelineregionadded",kh:"timelineregionenter",lh:"timelineregionexit",mh:"trackschanged",oh:"unloading",ph:"variantchanged"};function hl(){this.da=new sy,this.Wc=this}hl.prototype.addEventListener=function(gn,bn){this.da&&this.da.push(gn,bn)},hl.prototype.removeEventListener=function(gn,bn){this.da&&this.da.remove(gn,bn)},hl.prototype.dispatchEvent=function(gn){if(!this.da)return!0;var bn=this.da.get(gn.type)||[],wn=this.da.get("All");for(wn&&(bn=bn.concat(wn)),bn=Dn(bn),wn=bn.next();!wn.done;wn=bn.next()){wn=wn.value,gn.target=this.Wc,gn.currentTarget=this.Wc;try{wn.handleEvent?wn.handleEvent(gn):wn.call(this,gn)}catch{}if(gn.g)break}return gn.defaultPrevented},hl.prototype.release=function(){this.da=null};function G_(gn){function bn(In){switch(typeof In){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return In;default:if(!In||In.buffer&&In.buffer.constructor==ArrayBuffer)return In;if(wn.has(In))return null;var Nn=In.constructor==Array;if(In.constructor!=Object&&!Nn)return null;wn.add(In);var jn=Nn?[]:{},Vn;for(Vn in In)jn[Vn]=bn(In[Vn]);return Nn&&(jn.length=In.length),jn}}var wn=new Set;return bn(gn)}function sx(gn){var bn={},wn;for(wn in gn)bn[wn]=gn[wn];return bn}function Iv(){this.g=[]}function Al(gn,bn){gn.g.push(bn.finally(function(){pl(gn.g,bn)}))}Iv.prototype.destroy=function(){for(var gn=[],bn=Dn(this.g),wn=bn.next();!wn.done;wn=bn.next())wn=wn.value,wn.promise.catch(function(){}),gn.push(wn.abort());return this.g=[],Promise.all(gn)};function Sl(gn,bn,wn){hl.call(this),this.i=!1,this.m=new Iv,this.g=new Set,this.h=new Set,this.l=gn||null,this.j=bn||null,this.s=wn||null,this.o=!1}as(Sl,hl),En=Sl.prototype,En.je=function(gn){this.o=gn};function jy(gn,bn,wn,In){wn=wn||H_;var Nn=wl[gn];(!Nn||wn>=Nn.priority)&&(wl[gn]={priority:wn,ig:bn,jg:In===void 0?!1:In})}En.kg=function(gn){this.g.add(gn)},En.Ag=function(gn){this.g.delete(gn)},En.qf=function(){this.g.clear()},En.lg=function(gn){this.h.add(gn)},En.Bg=function(gn){this.h.delete(gn)},En.rf=function(){this.h.clear()};function tm(gn,bn,wn){return{uris:gn,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:bn,licenseRequestType:null,sessionId:null,drmInfo:null,initData:null,initDataType:null,streamDataCallback:wn===void 0?null:wn}}En.destroy=function(){return this.i=!0,this.g.clear(),this.h.clear(),hl.prototype.release.call(this),this.m.destroy()},En.request=function(gn,bn){var wn=this,In=new z_;if(this.i){var Nn=Promise.reject(new Vs(2,7,7001));return Nn.catch(function(){}),new aS(Nn,function(){return Promise.resolve()},In)}bn.method=bn.method||"GET",bn.headers=bn.headers||{},bn.retryParameters=bn.retryParameters?G_(bn.retryParameters):o_(),bn.uris=G_(bn.uris),Nn=iv(this,gn,bn);var jn=Nn.Y(function(){return ux(wn,gn,bn,new ax(bn.retryParameters,!1),0,null,In)}),Vn=jn.Y(function(ps){return EM(wn,gn,ps)}),Hn=Date.now(),Xn=0;Nn.promise.then(function(){Xn=Date.now()-Hn},function(){});var ns=0;jn.promise.then(function(){ns=Date.now()},function(){});var ss=Vn.Y(function(ps){var fs=Date.now()-ns,vs=ps.response;return vs.timeMs+=Xn,vs.timeMs+=fs,ps.Xf||!wn.l||vs.fromCache||bn.method=="HEAD"||gn!=Fy||wn.l(vs.timeMs,vs.data.byteLength),vs},function(ps){throw ps&&(ps.severity=2),ps});return Nn=new aS(ss.promise,function(){return ss.abort()},In),Al(this.m,Nn),Nn};function iv(gn,bn,wn){var In=Uy(void 0),Nn={};gn=Dn(gn.g);for(var jn=gn.next();!jn.done;Nn={sd:Nn.sd},jn=gn.next())Nn.sd=jn.value,In=In.Y(function(Vn){return function(){return wn.body&&(wn.body=Vu(wn.body)),Vn.sd(bn,wn)}}(Nn));return In.Y(void 0,function(Vn){throw Vn instanceof Vs&&Vn.code==7001?Vn:new Vs(2,1,1006,Vn)})}function ux(gn,bn,wn,In,Nn,jn,Vn){gn.o&&(wn.uris[Nn]=wn.uris[Nn].replace("http://","https://"));var Hn=new Rp(wn.uris[Nn]),Xn=Hn.Ea,ns=!1;Xn||(Xn=location.protocol,Xn=Xn.slice(0,-1),ol(Hn,Xn),wn.uris[Nn]=Hn.toString()),Xn=Xn.toLowerCase();var ss=(Xn=wl[Xn])?Xn.ig:null;if(!ss)return s_(new Vs(2,1,1e3,Hn));var ps=Xn.jg,fs=null,vs=null,Is=!1,Ls=!1,ws;return nv(iS(In)).Y(function(){if(gn.i)return V$();ws=Date.now();var Rs=ss(wn.uris[Nn],wn,bn,function(Ws,Gs,eu){fs&&fs.stop(),vs&&vs.O(Fs/1e3),gn.l&&bn==Fy&&(gn.l(Ws,Gs),ns=!0,Vn.g=eu)},function(Ws){gn.j&&gn.j(Ws,wn,bn),Ls=!0});if(!ps)return Rs;var Zs=wn.retryParameters.connectionTimeout;Zs&&(fs=new Hu(function(){Is=!0,Rs.abort()}),fs.O(Zs/1e3));var Fs=wn.retryParameters.stallTimeout;return Fs&&(vs=new Hu(function(){Is=!0,Rs.abort()})),Rs}).Y(function(Rs){fs&&fs.stop(),vs&&vs.stop(),Rs.timeMs==null&&(Rs.timeMs=Date.now()-ws);var Zs={response:Rs,Xf:ns};return!Ls&&gn.j&&gn.j(Rs.headers,wn,bn),Zs},function(Rs){if(fs&&fs.stop(),vs&&vs.stop(),gn.s){var Zs=null,Fs=0;Rs instanceof Vs&&(Zs=Rs,Rs.code==1001&&(Fs=Rs.data[1])),gn.s(wn,Zs,Fs,Is)}if(gn.i)return V$();if(Is&&(Rs=new Vs(1,1,1003,wn.uris[Nn],bn)),Rs instanceof Vs){if(Rs.code==7001)throw Rs;if(Rs.code==1010)throw jn;if(Rs.severity==1)return Zs=new Map().set("error",Rs),Zs=new Ju("retry",Zs),gn.dispatchEvent(Zs),Nn=(Nn+1)%wn.uris.length,ux(gn,bn,wn,In,Nn,Rs,Vn)}throw Rs})}function EM(gn,bn,wn){var In=Uy(void 0),Nn={};gn=Dn(gn.h);for(var jn=gn.next();!jn.done;Nn={td:Nn.td},jn=gn.next())Nn.td=jn.value,In=In.Y(function(Vn){return function(){var Hn=wn.response;return Hn.data&&(Hn.data=Vu(Hn.data)),Vn.td(bn,Hn)}}(Nn));return In.Y(function(){return wn},function(Vn){var Hn=2;if(Vn instanceof Vs){if(Vn.code==7001)throw Vn;Hn=Vn.severity}throw new Vs(Hn,1,1007,Vn)})}Ys("shaka.net.NetworkingEngine",Sl),Sl.prototype.request=Sl.prototype.request,Sl.prototype.destroy=Sl.prototype.destroy,Sl.makeRequest=tm,Sl.defaultRetryParameters=function(){return o_()},Sl.prototype.clearAllResponseFilters=Sl.prototype.rf,Sl.prototype.unregisterResponseFilter=Sl.prototype.Bg,Sl.prototype.registerResponseFilter=Sl.prototype.lg,Sl.prototype.clearAllRequestFilters=Sl.prototype.qf,Sl.prototype.unregisterRequestFilter=Sl.prototype.Ag,Sl.prototype.registerRequestFilter=Sl.prototype.kg,Sl.unregisterScheme=function(gn){delete wl[gn]},Sl.registerScheme=jy,Sl.prototype.setForceHTTPS=Sl.prototype.je;function z_(){this.g=0}Sl.NumBytesRemainingClass=z_;function aS(gn,bn,wn){Vl.call(this,gn,bn),this.h=wn}as(aS,Vl),Sl.PendingRequest=aS;var Fy=1;Sl.RequestType={MANIFEST:0,SEGMENT:Fy,LICENSE:2,APP:3,TIMING:4,SERVER_CERTIFICATE:5,KEY:6};var H_=3;Sl.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:H_};var wl={};function gm(gn){this.g=!1,this.h=new bl,this.i=gn}gm.prototype.destroy=function(){var gn=this;return this.g?this.h:(this.g=!0,this.i().then(function(){gn.h.resolve()},function(){gn.h.resolve()}))};function ll(gn,bn){if(gn.g)throw bn instanceof Vs&&bn.code==7003?bn:new Vs(2,7,7003,bn)}function jl(){this.g=new sy}En=jl.prototype,En.release=function(){this.nb(),this.g=null},En.C=function(gn,bn,wn,In){this.g&&(gn=new lx(gn,bn,wn,In),this.g.push(bn,gn))},En.ia=function(gn,bn,wn,In){function Nn(Vn){jn.zc(gn,bn,Nn),wn(Vn)}var jn=this;this.C(gn,bn,Nn,In)},En.zc=function(gn,bn,wn){if(this.g){var In=this.g.get(bn)||[];In=Dn(In);for(var Nn=In.next();!Nn.done;Nn=In.next())Nn=Nn.value,Nn.target!=gn||wn!=Nn.listener&&wn||(Nn.zc(),this.g.remove(bn,Nn))}},En.nb=function(){if(this.g){var gn=this.g,bn=[],wn;for(wn in gn.g)bn.push.apply(bn,Kn(gn.g[wn]));for(gn=Dn(bn),bn=gn.next();!bn.done;bn=gn.next())bn.value.zc();this.g.g={}}},Ys("shaka.util.EventManager",jl),jl.prototype.removeAll=jl.prototype.nb,jl.prototype.unlisten=jl.prototype.zc,jl.prototype.listenOnce=jl.prototype.ia,jl.prototype.listen=jl.prototype.C,jl.prototype.release=jl.prototype.release;function lx(gn,bn,wn,In){this.target=gn,this.type=bn,this.listener=wn,this.g=SM(gn,In),this.target.addEventListener(bn,wn,this.g)}lx.prototype.zc=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};function SM(gn,bn){if(bn==null)return!1;if(typeof bn=="boolean")return bn;var wn=new Set(["passive","capture"]);return Object.keys(bn).filter(function(In){return!wn.has(In)}),PA(gn)?bn:bn.capture||!1}function PA(gn){var bn=oS;if(bn==null){bn=!1;try{var wn={},In={get:function(){return bn=!0,!1}};Object.defineProperty(wn,"passive",In),Object.defineProperty(wn,"capture",In),In=function(){},gn.addEventListener("test",In,wn),gn.removeEventListener("test",In,wn)}catch{bn=!1}oS=bn}return bn||!1}var oS=void 0;function Pv(gn,bn){var wn=[];gn=Dn(gn);for(var In=gn.next();!In.done;In=gn.next())wn.push(bn(In.value));return wn}function OA(gn,bn){gn=Dn(gn);for(var wn=gn.next();!wn.done;wn=gn.next())if(!bn(wn.value))return!1;return!0}function u_(gn){for(var bn=new Map,wn=Dn(Object.keys(gn)),In=wn.next();!In.done;In=wn.next())In=In.value,bn.set(In,gn[In]);return bn}function Ov(gn){var bn={};return gn.forEach(function(wn,In){bn[In]=wn}),bn}function Ol(gn,bn){if(gn||bn){if(gn&&!bn||bn&&!gn)return!1}else return!0;if(gn.size!=bn.size)return!1;gn=Dn(gn);for(var wn=gn.next();!wn.done;wn=gn.next()){var In=Dn(wn.value);if(wn=In.next().value,In=In.next().value,!bn.has(wn)||(wn=bn.get(wn),wn!=In||wn==null))return!1}return!0}function xu(gn,bn){this.S=rp(gn),this.h=bn==MA,this.g=0}En=xu.prototype,En.ha=function(){return this.g<this.S.byteLength},En.Z=function(){return this.g},En.Ff=function(){return this.S.byteLength},En.Qa=function(){try{var gn=this.S.getUint8(this.g);return this.g+=1,gn}catch{throw av()}},En.$d=function(){try{var gn=this.S.getUint16(this.g,this.h);return this.g+=2,gn}catch{throw av()}},En.K=function(){try{var gn=this.S.getUint32(this.g,this.h);return this.g+=4,gn}catch{throw av()}},En.Oe=function(){try{var gn=this.S.getInt32(this.g,this.h);return this.g+=4,gn}catch{throw av()}},En.$a=function(){try{if(this.h)var gn=this.S.getUint32(this.g,!0),bn=this.S.getUint32(this.g+4,!0);else bn=this.S.getUint32(this.g,!1),gn=this.S.getUint32(this.g+4,!1)}catch{throw av()}if(2097151<bn)throw new Vs(2,3,3001);return this.g+=8,bn*Math.pow(2,32)+gn},En.Za=function(gn){if(this.g+gn>this.S.byteLength)throw av();var bn=Pu(this.S,this.g,gn);return this.g+=gn,bn},En.skip=function(gn){if(this.g+gn>this.S.byteLength)throw av();this.g+=gn},En.rg=function(gn){if(this.g<gn)throw av();this.g-=gn},En.seek=function(gn){if(0>gn||gn>this.S.byteLength)throw av();this.g=gn},En.sc=function(){for(var gn=this.g;this.ha()&&this.S.getUint8(this.g)!=0;)this.g+=1;return gn=Pu(this.S,gn,this.g-gn),this.g+=1,Ou(gn)};function av(){return new Vs(2,3,3e3)}Ys("shaka.util.DataViewReader",xu),xu.prototype.readTerminatedString=xu.prototype.sc,xu.prototype.seek=xu.prototype.seek,xu.prototype.rewind=xu.prototype.rg,xu.prototype.skip=xu.prototype.skip,xu.prototype.readBytes=xu.prototype.Za,xu.prototype.readUint64=xu.prototype.$a,xu.prototype.readInt32=xu.prototype.Oe,xu.prototype.readUint32=xu.prototype.K,xu.prototype.readUint16=xu.prototype.$d,xu.prototype.readUint8=xu.prototype.Qa,xu.prototype.getLength=xu.prototype.Ff,xu.prototype.getPosition=xu.prototype.Z,xu.prototype.hasMoreData=xu.prototype.ha;var MA=1;xu.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:MA};function Rl(){this.i=[],this.h=[],this.g=!1}En=Rl.prototype,En.box=function(gn,bn){return gn=Tl(gn),this.i[gn]=Nl,this.h[gn]=bn,this},En.R=function(gn,bn){return gn=Tl(gn),this.i[gn]=zl,this.h[gn]=bn,this},En.stop=function(){this.g=!0},En.parse=function(gn,bn,wn){for(gn=new xu(gn,0),this.g=!1;gn.ha()&&!this.g;)this.qc(0,gn,bn,wn)},En.qc=function(gn,bn,wn,In){var Nn=bn.Z();if(In&&Nn+8>bn.S.byteLength)this.g=!0;else{var jn=bn.K(),Vn=bn.K(),Hn=uy(Vn),Xn=!1;switch(jn){case 0:jn=bn.S.byteLength-Nn;break;case 1:if(In&&bn.Z()+8>bn.S.byteLength){this.g=!0;return}jn=bn.$a(),Xn=!0}var ns=this.h[Vn];if(ns){var ss=null,ps=null;if(this.i[Vn]==zl){if(In&&bn.Z()+4>bn.S.byteLength){this.g=!0;return}ps=bn.K(),ss=ps>>>24,ps&=16777215}Vn=Nn+jn,wn&&Vn>bn.S.byteLength&&(Vn=bn.S.byteLength),In&&Vn>bn.S.byteLength?this.g=!0:(In=Vn-bn.Z(),bn=0<In?bn.Za(In):new Uint8Array(0),bn=new xu(bn,0),ns({name:Hn,parser:this,partialOkay:wn||!1,version:ss,flags:ps,reader:bn,size:jn,start:Nn+gn,has64BitSize:Xn}))}else bn.skip(Math.min(Nn+jn-bn.Z(),bn.S.byteLength-bn.Z()))}};function Gl(gn){for(var bn=V0(gn);gn.reader.ha()&&!gn.parser.g;)gn.parser.qc(gn.start+bn,gn.reader,gn.partialOkay)}function Mv(gn){for(var bn=V0(gn),wn=gn.reader.K(),In=0;In<wn&&(gn.parser.qc(gn.start+bn,gn.reader,gn.partialOkay),!gn.parser.g);In++);}function G$(gn){var bn=V0(gn);for(gn.reader.skip(78);gn.reader.ha()&&!gn.parser.g;)gn.parser.qc(gn.start+bn,gn.reader,gn.partialOkay)}function B0(gn){return function(bn){gn(bn.reader.Za(bn.reader.S.byteLength-bn.reader.Z()))}}function Tl(gn){var bn=0;gn=Dn(gn);for(var wn=gn.next();!wn.done;wn=gn.next())bn=bn<<8|wn.value.charCodeAt(0);return bn}function uy(gn){return String.fromCharCode(gn>>24&255,gn>>16&255,gn>>8&255,gn&255)}function V0(gn){return 8+(gn.has64BitSize?8:0)+(gn.flags!=null?4:0)}Ys("shaka.util.Mp4Parser",Rl),Rl.headerSize=V0,Rl.typeToString=uy,Rl.allData=B0,Rl.visualSampleEntry=G$,Rl.sampleDescription=Mv,Rl.children=Gl,Rl.prototype.parseNext=Rl.prototype.qc,Rl.prototype.parse=Rl.prototype.parse,Rl.prototype.stop=Rl.prototype.stop,Rl.prototype.fullBox=Rl.prototype.R,Rl.prototype.box=Rl.prototype.box;var Nl=0,zl=1;function G0(gn){var bn=this;this.g=[],this.h=[],this.data=[],new Rl().box("moov",Gl).box("moof",Gl).R("pssh",function(wn){if(!(1<wn.version)){var In=Pu(wn.reader.S,-12,wn.size);if(bn.data.push(In),bn.g.push(Sp(wn.reader.Za(16))),0<wn.version){In=wn.reader.K();for(var Nn=0;Nn<In;Nn++){var jn=Sp(wn.reader.Za(16));bn.h.push(jn)}}}}).parse(gn)}function z$(gn,bn,wn,In){var Nn=gn.length,jn=bn.length+16+Nn;0<In&&(jn+=4+16*wn.size);var Vn=new Uint8Array(jn),Hn=rp(Vn),Xn=0;if(Hn.setUint32(Xn,jn),Xn+=4,Hn.setUint32(Xn,1886614376),Xn+=4,1>In?Hn.setUint32(Xn,0):Hn.setUint32(Xn,16777216),Xn+=4,Vn.set(bn,Xn),Xn+=bn.length,0<In)for(Hn.setUint32(Xn,wn.size),Xn+=4,bn=Dn(wn),wn=bn.next();!wn.done;wn=bn.next())wn=Tu(wn.value),Vn.set(wn,Xn),Xn+=wn.length;return Hn.setUint32(Xn,Nn),Vn.set(gn,Xn+4),Vn}function Rv(gn,bn){return gn=Hl(gn,bn),gn.length!=1?null:gn[0]}function sS(gn,bn,wn){return gn=RA(gn,bn,wn),gn.length!=1?null:gn[0]}function Hl(gn,bn){var wn=[];gn=Dn(gn.childNodes);for(var In=gn.next();!In.done;In=gn.next())In=In.value,In instanceof Element&&In.tagName==bn&&wn.push(In);return wn}function uS(gn){return Array.from(gn.childNodes).filter(function(bn){return bn instanceof Element})}function RA(gn,bn,wn){var In=[];gn=Dn(gn.childNodes);for(var Nn=gn.next();!Nn.done;Nn=gn.next())Nn=Nn.value,Nn instanceof Element&&Nn.localName==wn&&Nn.namespaceURI==bn&&In.push(Nn);return In}function l_(gn,bn,wn){return gn.hasAttributeNS(bn,wn)?gn.getAttributeNS(bn,wn):null}function ov(gn,bn,wn){bn=Dn(bn);for(var In=bn.next();!In.done;In=bn.next())if(In=In.value,gn.hasAttributeNS(In,wn))return gn.getAttributeNS(In,wn);return null}function z0(gn){return Array.from(gn.childNodes).every(lS)?gn.textContent.trim():null}function lS(gn){return gn.nodeType==Node.TEXT_NODE||gn.nodeType==Node.CDATA_SECTION_NODE}function Ml(gn,bn,wn,In){In=In===void 0?null:In;var Nn=null;return gn=gn.getAttribute(bn),gn!=null&&(Nn=wn(gn)),Nn??In}function Xl(gn){return gn?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(gn)&&(gn+="Z"),gn=Date.parse(gn),isNaN(gn)?null:gn/1e3):null}function Nv(gn){return!gn||(gn=RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$").exec(gn),!gn)?null:(gn=31536e3*Number(gn[1]||null)+2592e3*Number(gn[2]||null)+86400*Number(gn[3]||null)+3600*Number(gn[4]||null)+60*Number(gn[5]||null)+Number(gn[6]||null),isFinite(gn)?gn:null)}function cS(gn){var bn=/([0-9]+)-([0-9]+)/.exec(gn);return!bn||(gn=Number(bn[1]),!isFinite(gn))?null:(bn=Number(bn[2]),isFinite(bn)?{start:gn,end:bn}:null)}function K_(gn){return gn=Number(gn),gn%1===0?gn:null}function ly(gn){return gn=Number(gn),gn%1===0&&0<gn?gn:null}function Gm(gn){return gn=Number(gn),gn%1===0&&0<=gn?gn:null}function H0(gn){return gn=Number(gn),isNaN(gn)?null:gn}function Kl(gn){var bn,wn=(bn=gn.match(/^(\d+)\/(\d+)$/))?Number(bn[1])/Number(bn[2]):Number(gn);return isNaN(wn)?null:wn}function K0(gn,bn){var wn=new DOMParser,In=H$.value()(gn);gn=null;try{gn=wn.parseFromString(In,"text/xml")}catch{return null}if(wn=gn.documentElement,!wn||wn.getElementsByTagName("parsererror").length||wn.tagName!=bn)return null;for(bn=document.createNodeIterator(gn,NodeFilter.SHOW_ALL);gn=bn.nextNode();)if(gn instanceof HTMLElement||gn instanceof SVGElement)return null;return wn}function sv(gn,bn){try{var wn=Ou(gn);return K0(wn,bn)}catch{return null}}var H$=new Dp(function(){if(typeof trustedTypes<"u"){var gn=trustedTypes.createPolicy("shaka-player#xml",{createHTML:function(bn){return bn}});return function(bn){return gn.createHTML(bn)}}return function(bn){return bn}});function K$(gn,bn){var wn=this;bn=bn===void 0?1:bn,this.D=gn,this.G=new Set,this.l=this.u=null,this.da=this.W=!1,this.H=0,this.g=null,this.s=new jl,this.i=new Map,this.B=[],this.o=new bl,this.h=null,this.m=function(In){wn.o.reject(In),gn.onError(In)},this.ea=new Map,this.ba=new Map,this.P=new Hu(function(){return wM(wn)}),this.L=!1,this.J=[],this.M=!1,this.ca=new Hu(function(){IM(wn)}).Ca(bn),this.o.catch(function(){}),this.j=new gm(function(){return W$(wn)}),this.V=!1,this.F=null}En=K$.prototype,En.destroy=function(){return this.j.destroy()};function W$(gn){return hs(function(bn){switch(bn.g){case 1:return gn.s.release(),gn.s=null,gn.o.reject(),gn.ca.stop(),gn.ca=null,gn.P.stop(),gn.P=null,Qn(bn,gx(gn),2);case 2:if(!gn.l){bn.A(3);break}return $s(bn,4),Qn(bn,gn.l.setMediaKeys(null),6);case 6:gs(bn,5);break;case 4:Ss(bn);case 5:gn.l=null;case 3:gn.g=null,gn.G.clear(),gn.u=null,gn.B=[],gn.h=null,gn.m=function(){},gn.D=null,gn.V=!1,gn.F=null,ms(bn)}})}En.configure=function(gn){this.h=gn};function uv(gn,bn,wn){return gn.da=!0,gn.B=[],gn.L=wn,q0(gn,bn)}function W0(gn,bn,wn){return gn.B=wn,gn.L=0<wn.length,q0(gn,bn)}function $M(gn,bn,wn,In,Nn,jn){var Vn=new Map;return Nn={audioCapabilities:Nn,videoCapabilities:jn,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:bn},Nn.drmInfos=[{keySystem:bn,licenseServerUri:wn,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:In,serverCertificateUri:"",initData:null,keyIds:null}],Vn.set(bn,Nn),fx(gn,Vn,[])}function q0(gn,bn){var wn,In,Nn,jn,Vn,Hn,Xn,ns,ss,ps,fs,vs,Is,Ls;return hs(function(ws){if(ws.g==1){if(wn=xM(gn))for(In=Dn(bn),Nn=In.next();!Nn.done;Nn=In.next())jn=Nn.value,jn.video&&(jn.video.drmInfos=[wn]),jn.audio&&(jn.audio.drmInfos=[wn]);for(Vn=bn.some(function(Rs){return!!(Rs.video&&Rs.video.drmInfos.length||Rs.audio&&Rs.audio.drmInfos.length)}),Vn||(Hn=u_(gn.h.servers),PM(bn,Hn)),Xn=Dn(bn),Nn=Xn.next();!Nn.done;Nn=Xn.next())for(ns=Nn.value,ss=X$(ns),ps=Dn(ss),fs=ps.next();!fs.done;fs=ps.next())vs=fs.value,OM(vs,u_(gn.h.servers),u_(gn.h.advanced||{}),gn.h.keySystemsMapping);return Qn(ws,Ul(bn,gn.L,gn.V),2)}return Is=Vn||Object.keys(gn.h.servers).length,Is?(Ls=fx(gn,void 0,bn),ws.return(Vn?Ls:Ls.catch(function(){}))):(gn.W=!0,ws.return(Promise.resolve()))})}function cx(gn){var bn;return hs(function(wn){switch(wn.g){case 1:if(gn.l.mediaKeys)return wn.return();if(!gn.F){wn.A(2);break}return Qn(wn,gn.F,3);case 3:return ll(gn.j),wn.return();case 2:return $s(wn,4),gn.F=gn.l.setMediaKeys(gn.u),Qn(wn,gn.F,6);case 6:gs(wn,5);break;case 4:bn=Ss(wn),gn.m(new Vs(2,6,6003,bn.message));case 5:ll(gn.j),ms(wn)}})}function TM(gn,bn){return hs(function(wn){if(wn.g==1)return Qn(wn,cx(gn),2);X0(gn,bn.initDataType,Pu(bn.initData)),ms(wn)})}En.Yb=function(gn){var bn=this,wn;return hs(function(In){if(In.g==1)return bn.u?(bn.l=gn,bn.s.ia(bn.l,"play",function(){for(var Nn=Dn(bn.J),jn=Nn.next();!jn.done;jn=Nn.next())q$(bn,jn.value);bn.M=!0,bn.J=[]}),"webkitCurrentPlaybackTargetIsWireless"in bn.l&&bn.s.C(bn.l,"webkitcurrentplaybacktargetiswirelesschanged",function(){return gx(bn)}),(wn=bn.g?bn.g.initData.find(function(Nn){return 0<Nn.initData.length}):null)||bn.g.keySystem!=="com.apple.fps"||bn.B.length?Qn(In,cx(bn),2):In.A(2)):(bn.s.ia(gn,"encrypted",function(){bn.m(new Vs(2,6,6010))}),In.return());NA(bn),wn||bn.B.length||bn.h.parseInbandPsshEnabled||bn.s.C(bn.l,"encrypted",function(Nn){return TM(bn,Nn)}),ms(In)})};function Y0(gn){var bn,wn,In,Nn,jn;return hs(function(Vn){switch(Vn.g){case 1:if(!gn.u||!gn.g)return Vn.return();if(!gn.g.serverCertificateUri||gn.g.serverCertificate&&gn.g.serverCertificate.length){Vn.A(2);break}return bn=tm([gn.g.serverCertificateUri],gn.h.retryParameters),$s(Vn,3),wn=gn.D.kb.request(5,bn),Qn(Vn,wn.promise,5);case 5:In=Vn.h,gn.g.serverCertificate=Pu(In.data),gs(Vn,4);break;case 3:throw Nn=Ss(Vn),new Vs(2,6,6017,Nn);case 4:if(gn.j.g)return Vn.return();case 2:return!gn.g.serverCertificate||!gn.g.serverCertificate.length?Vn.return():($s(Vn,6),Qn(Vn,gn.u.setServerCertificate(gn.g.serverCertificate),8));case 8:gs(Vn,0);break;case 6:throw jn=Ss(Vn),new Vs(2,6,6004,jn.message)}})}function kM(gn,bn){var wn,In,Nn;return hs(function(jn){if(jn.g==1)return Qn(jn,hx(gn,bn),2);if(jn.g!=3)return wn=jn.h,wn?(In=[],(Nn=gn.i.get(wn))&&(Nn.Ja=new bl,In.push(Nn.Ja)),In.push(wn.remove()),Qn(jn,Promise.all(In),3)):jn.return();gn.i.delete(wn),ms(jn)})}function NA(gn){for(var bn=(gn.g?gn.g.initData:[])||[],wn=Dn(bn),In=wn.next();!In.done;In=wn.next())In=In.value,X0(gn,In.initDataType,In.initData);for(wn=Dn(gn.B),In=wn.next();!In.done;In=wn.next())hx(gn,In.value);return bn.length||gn.B.length||gn.o.resolve(),gn.o}function X0(gn,bn,wn){if(wn.length){var In=gn.i.values();In=Dn(In);for(var Nn=In.next();!Nn.done;Nn=In.next())if(Lm(wn,Nn.value.initData)&&!gl("Tizen 2"))return;0<gn.i.size&&fS(gn)&&(gn.o.resolve(),gn.o=new bl,gn.o.catch(function(){})),dS(gn,bn,wn,gn.g.sessionType)}}function DA(gn){return gn?!!gn.match(/^com\.(microsoft|chromecast)\.playready/):!1}function dx(gn){return gn=gn.i.keys(),gn=Pv(gn,function(bn){return bn.sessionId}),Array.from(gn)}En.ic=function(){var gn=1/0,bn=this.i.keys();bn=Dn(bn);for(var wn=bn.next();!wn.done;wn=bn.next())wn=wn.value,isNaN(wn.expiration)||(gn=Math.min(gn,wn.expiration));return gn},En.Qc=function(){return Ov(this.ba)};function fx(gn,bn,wn){var In,Nn,jn,Vn,Hn,Xn,ns,ss,ps,fs,vs,Is,Ls;return hs(function(ws){switch(ws.g){case 1:if(In=new Map,wn.length){Nn=bM(gn,wn,In),ws.A(2);break}return Qn(ws,px(gn,bn),3);case 3:Nn=ws.h;case 2:if(jn=Nn,!jn)throw new Vs(2,6,6001);for(ll(gn.j),$s(ws,4),gn.G.clear(),Vn=jn.getConfiguration(),Hn=Vn.audioCapabilities||[],Xn=Vn.videoCapabilities||[],ns=Dn(Hn),ss=ns.next();!ss.done;ss=ns.next())ps=ss.value,gn.G.add(ps.contentType.toLowerCase());for(fs=Dn(Xn),ss=fs.next();!ss.done;ss=fs.next())vs=ss.value,gn.G.add(vs.contentType.toLowerCase());if(wn.length){var Rs=jn.keySystem,Zs=In.get(jn.keySystem),Fs=[],Ws=[],Gs=[],eu=[],au=new Set;jA(Zs,Fs,Gs,Ws,eu,au);var du=gn.L?"persistent-license":"temporary";for(Rs={keySystem:Rs,licenseServerUri:Fs[0],distinctiveIdentifierRequired:Zs[0].distinctiveIdentifierRequired,persistentStateRequired:Zs[0].persistentStateRequired,sessionType:Zs[0].sessionType||du,audioRobustness:Zs[0].audioRobustness||"",videoRobustness:Zs[0].videoRobustness||"",serverCertificate:Gs[0],serverCertificateUri:Ws[0],initData:eu,keyIds:au},Zs=Dn(Zs),Fs=Zs.next();!Fs.done;Fs=Zs.next())Fs=Fs.value,Fs.distinctiveIdentifierRequired&&(Rs.distinctiveIdentifierRequired=Fs.distinctiveIdentifierRequired),Fs.persistentStateRequired&&(Rs.persistentStateRequired=Fs.persistentStateRequired);Zs=Rs}else Zs=jn.keySystem,Rs=bn.get(jn.keySystem),Fs=[],Ws=[],Gs=[],eu=[],au=new Set,jA(Rs.drmInfos,Fs,Gs,Ws,eu,au),Zs={keySystem:Zs,licenseServerUri:Fs[0],distinctiveIdentifierRequired:Rs.distinctiveIdentifier=="required",persistentStateRequired:Rs.persistentState=="required",sessionType:Rs.sessionTypes[0]||"temporary",audioRobustness:(Rs.audioCapabilities?Rs.audioCapabilities[0].robustness:"")||"",videoRobustness:(Rs.videoCapabilities?Rs.videoCapabilities[0].robustness:"")||"",serverCertificate:Gs[0],serverCertificateUri:Ws[0],initData:eu,keyIds:au};if(gn.g=Zs,!gn.g.licenseServerUri)throw new Vs(2,6,6012,gn.g.keySystem);return Qn(ws,jn.createMediaKeys(),6);case 6:return Is=ws.h,ll(gn.j),gn.u=Is,gn.W=!0,Qn(ws,Y0(gn),7);case 7:ll(gn.j),gs(ws,0);break;case 4:throw Ls=Ss(ws),ll(gn.j,Ls),gn.g=null,gn.G.clear(),Ls instanceof Vs?Ls:new Vs(2,6,6002,Ls.message)}})}function bM(gn,bn,wn){for(var In=Dn(bn),Nn=In.next();!Nn.done;Nn=In.next()){var jn=Dn(X$(Nn.value));for(Nn=jn.next();!Nn.done;Nn=jn.next())Nn=Nn.value,wn.has(Nn.keySystem)||wn.set(Nn.keySystem,[]),wn.get(Nn.keySystem).push(Nn)}if(wn.size==1&&wn.has(""))throw new Vs(2,6,6e3);for(In={},gn=Dn(gn.h.preferredKeySystems),Nn=gn.next();!Nn.done;In={qd:In.qd},Nn=gn.next())for(In.qd=Nn.value,jn=Dn(bn),Nn=jn.next();!Nn.done;Nn=jn.next())if(Nn=Nn.value.decodingInfos.find(function(ns){return function(ss){return ss.supported&&ss.keySystemAccess!=null&&ss.keySystemAccess.keySystem==ns.qd}}(In)))return Nn.keySystemAccess;for(gn=Dn([!0,!1]),Nn=gn.next();!Nn.done;Nn=gn.next())for(In=Nn.value,jn=Dn(bn),Nn=jn.next();!Nn.done;Nn=jn.next()){var Vn=Dn(Nn.value.decodingInfos);for(Nn=Vn.next();!Nn.done;Nn=Vn.next()){var Hn=Nn.value;if(Hn.supported&&Hn.keySystemAccess){Nn=wn.get(Hn.keySystemAccess.keySystem);var Xn=Dn(Nn);for(Nn=Xn.next();!Nn.done;Nn=Xn.next())if(!!Nn.value.licenseServerUri==In)return Hn.keySystemAccess}}}return null}function px(gn,bn){var wn,In,Nn,jn,Vn,Hn,Xn,ns,ss,ps,fs,vs,Is,Ls,ws;return hs(function(Rs){switch(Rs.g){case 1:if(bn.size==1&&bn.has(""))throw new Vs(2,6,6e3);for(In=Dn(bn.values()),Nn=In.next();!Nn.done;Nn=In.next())jn=Nn.value,jn.audioCapabilities.length==0&&delete jn.audioCapabilities,jn.videoCapabilities.length==0&&delete jn.videoCapabilities;Vn=Dn(gn.h.preferredKeySystems),Hn=Vn.next();case 2:if(Hn.done){Rs.A(4);break}if(Xn=Hn.value,!bn.has(Xn)){Rs.A(3);break}return ns=bn.get(Xn),$s(Rs,6),Qn(Rs,navigator.requestMediaKeySystemAccess(Xn,[ns]),8);case 8:return wn=Rs.h,Rs.return(wn);case 6:Ss(Rs);case 7:ll(gn.j);case 3:Hn=Vn.next(),Rs.A(2);break;case 4:ss=Dn([!0,!1]),ps=ss.next();case 9:if(ps.done){Rs.A(11);break}fs=ps.value,vs=Dn(bn.keys()),Hn=vs.next();case 12:if(Hn.done){ps=ss.next(),Rs.A(9);break}if(Is=Hn.value,Ls=bn.get(Is),ws=Ls.drmInfos.some(function(Zs){return!!Zs.licenseServerUri}),ws!=fs){Rs.A(13);break}return $s(Rs,15),Qn(Rs,navigator.requestMediaKeySystemAccess(Is,[Ls]),17);case 17:return wn=Rs.h,Rs.return(wn);case 15:Ss(Rs);case 16:ll(gn.j);case 13:Hn=vs.next(),Rs.A(12);break;case 11:return Rs.return(wn)}})}function xM(gn){if(gn=u_(gn.h.clearKeys),gn.size==0)return null;var bn=[],wn=[];gn.forEach(function(Nn,jn){var Vn=jn;Vn.length!=22&&(Vn=Sm(Tu(jn),!1)),jn=Nn,jn.length!=22&&(jn=Sm(Tu(Nn),!1)),Nn={kty:"oct",kid:Vn,k:jn},bn.push(Nn),wn.push(Nn.kid)}),gn=JSON.stringify({keys:bn});var In=JSON.stringify({kids:wn});return In=[{initData:Pu(fp(In)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+pn.btoa(gn),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:In,keyIds:new Set(wn)}}function hx(gn,bn){var wn,In,Nn,jn,Vn;return hs(function(Hn){switch(Hn.g){case 1:try{wn=gn.u.createSession("persistent-license")}catch(Xn){return In=new Vs(2,6,6005,Xn.message),gn.m(In),Hn.return(Promise.reject(In))}return gn.s.C(wn,"message",function(Xn){gn.l&&gn.h.delayLicenseRequestUntilPlayed&&gn.l.paused&&!gn.M?gn.J.push(Xn):q$(gn,Xn)}),gn.s.C(wn,"keystatuseschange",function(Xn){return mx(gn,Xn)}),Nn={initData:null,initDataType:null,loaded:!1,Vd:1/0,Ja:null,type:"persistent-license"},gn.i.set(wn,Nn),$s(Hn,2),Qn(Hn,wn.load(bn),4);case 4:return jn=Hn.h,ll(gn.j),jn?(Nn.loaded=!0,fS(gn)&&gn.o.resolve(),Hn.return(wn)):(gn.i.delete(wn),gn.m(new Vs(2,6,6013)),Hn.return(Promise.resolve()));case 2:Vn=Ss(Hn),ll(gn.j,Vn),gn.i.delete(wn),gn.m(new Vs(2,6,6005,Vn.message));case 3:return Hn.return(Promise.resolve())}})}function dS(gn,bn,wn,In){try{var Nn=gn.u.createSession(In)}catch(jn){gn.m(new Vs(2,6,6005,jn.message));return}gn.s.C(Nn,"message",function(jn){gn.l&&gn.h.delayLicenseRequestUntilPlayed&&gn.l.paused&&!gn.M?gn.J.push(jn):q$(gn,jn)}),gn.s.C(Nn,"keystatuseschange",function(jn){return mx(gn,jn)}),gn.i.set(Nn,{initData:wn,initDataType:bn,loaded:!1,Vd:1/0,Ja:null,type:In});try{wn=gn.h.initDataTransform(wn,bn,gn.g)}catch(jn){bn=jn,jn instanceof Vs||(bn=new Vs(2,6,6016,jn)),gn.m(bn);return}gn.h.logLicenseExchange&&Sm(wn),Nn.generateRequest(bn,wn).catch(function(jn){if(!gn.j.g){gn.i.delete(Nn);var Vn=jn.errorCode;if(Vn&&Vn.systemCode){var Hn=Vn.systemCode;0>Hn&&(Hn+=Math.pow(2,32)),Hn="0x"+Hn.toString(16)}gn.m(new Vs(2,6,6006,jn.message,jn,Hn))}})}function q$(gn,bn){var wn,In,Nn,jn,Vn,Hn,Xn,ns,ss,ps,fs,vs,Is,Ls;hs(function(ws){switch(ws.g){case 1:return wn=bn.target,gn.h.logLicenseExchange&&Sm(bn.message),In=gn.i.get(wn),Nn=gn.g.licenseServerUri,jn=gn.h.advanced[gn.g.keySystem],bn.messageType=="individualization-request"&&jn&&jn.individualizationServer&&(Nn=jn.individualizationServer),Vn=tm([Nn],gn.h.retryParameters),Vn.body=bn.message,Vn.method="POST",Vn.licenseRequestType=bn.messageType,Vn.sessionId=wn.sessionId,Vn.drmInfo=gn.g,In&&(Vn.initData=In.initData,Vn.initDataType=In.initDataType),DA(gn.g.keySystem)&&LA(Vn),Hn=Date.now(),$s(ws,2),ns=gn.D.kb.request(2,Vn),Qn(ws,ns.promise,4);case 4:Xn=ws.h,gs(ws,3);break;case 2:return ss=Ss(ws),ps=new Vs(2,6,6007,ss),gn.m(ps),In&&In.Ja&&In.Ja.reject(ps),ws.return();case 3:return gn.j.g?ws.return():(gn.H+=(Date.now()-Hn)/1e3,gn.h.logLicenseExchange&&Sm(Xn.data),$s(ws,5),Qn(ws,wn.update(Xn.data),7));case 7:gs(ws,6);break;case 5:return fs=Ss(ws),vs=new Vs(2,6,6008,fs.message),gn.m(vs),In&&In.Ja&&In.Ja.reject(vs),ws.return();case 6:if(gn.j.g)return ws.return();Is=new Ju("drmsessionupdate"),gn.D.onEvent(Is),In&&(In.Ja&&In.Ja.resolve(),Ls=new Hu(function(){In.loaded=!0,fS(gn)&&gn.o.resolve()}),Ls.O(Q$)),ms(ws)}})}function LA(gn){var bn=Ip(gn.body,!0,!0);if(bn.includes("PlayReadyKeyMessage")){bn=K0(bn,"PlayReadyKeyMessage");for(var wn=Dn(bn.getElementsByTagName("HttpHeader")),In=wn.next();!In.done;In=wn.next())In=In.value,gn.headers[In.getElementsByTagName("name")[0].textContent]=In.getElementsByTagName("value")[0].textContent;gn.body=mm(bn.getElementsByTagName("Challenge")[0].textContent)}else gn.headers["Content-Type"]="text/xml; charset=utf-8"}function mx(gn,bn){bn=bn.target;var wn=gn.i.get(bn),In=!1;bn.keyStatuses.forEach(function(jn,Vn){if(typeof Vn=="string"){var Hn=Vn;Vn=jn,jn=Hn}if(DA(gn.g.keySystem)&&Vn.byteLength==16&&(Yl()||hm())){Hn=rp(Vn);var Xn=Hn.getUint32(0,!0),ns=Hn.getUint16(4,!0),ss=Hn.getUint16(6,!0);Hn.setUint32(0,Xn,!1),Hn.setUint16(4,ns,!1),Hn.setUint16(6,ss,!1)}jn!="status-pending"&&(wn.loaded=!0),jn=="expired"&&(In=!0),Vn=Sp(Vn).slice(0,32),gn.ea.set(Vn,jn)});var Nn=bn.expiration-Date.now();(0>Nn||In&&1e3>Nn)&&wn&&!wn.Ja&&(gn.i.delete(bn),bn.close().catch(function(){})),fS(gn)&&(gn.o.resolve(),gn.P.O(BA))}function wM(gn){var bn=gn.ea,wn=gn.ba;wn.clear(),bn.forEach(function(In,Nn){return wn.set(Nn,In)}),bn=Array.from(wn.values()),bn.length&&bn.every(function(In){return In=="expired"})&&gn.m(new Vs(2,6,6014)),gn.D.cd(Ov(wn))}function CM(){var gn,bn,wn,In,Nn,jn,Vn,Hn;return hs(function(Xn){return Xn.g==1?(gn="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.microsoft.playready.recommendation com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" "),bn=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],wn={initDataTypes:["cenc"],videoCapabilities:bn},In={videoCapabilities:bn,persistentState:"required",sessionTypes:["persistent-license"]},Nn=[In,wn],jn=new Map,Vn=function(ns){var ss,ps,fs;return hs(function(vs){switch(vs.g){case 1:if($s(vs,2),ns==="org.w3.clearkey"&&L_())throw Error("Unsupported keySystem");return Qn(vs,navigator.requestMediaKeySystemAccess(ns,Nn),4);case 4:return ss=vs.h,fs=(ps=ss.getConfiguration().sessionTypes)?ps.includes("persistent-license"):!1,gl("Tizen 3")&&(fs=!1),jn.set(ns,{persistentState:fs}),Qn(vs,ss.createMediaKeys(),5);case 5:gs(vs,0);break;case 2:Ss(vs),jn.set(ns,null),ms(vs)}})},Hn=gn.map(function(ns){return Vn(ns)}),Qn(Xn,Promise.all(Hn),2)):Xn.return(Ov(jn))})}function AM(gn){var bn;return hs(function(wn){if(wn.g==1)return bn=new Promise(function(In,Nn){new Hu(Nn).O(FA)}),$s(wn,2),Qn(wn,Promise.race([Promise.all([gn.close(),gn.closed]),bn]),4);if(wn.g!=2)return gs(wn,0);Ss(wn),ms(wn)})}function gx(gn){var bn;return hs(function(wn){return bn=Array.from(gn.i.entries()),gn.i.clear(),Qn(wn,Promise.all(bn.map(function(In){In=Dn(In);var Nn=In.next().value,jn=In.next().value;return hs(function(Vn){if(Vn.g==1)return $s(Vn,2),gn.da||gn.B.includes(Nn.sessionId)||jn.type!=="persistent-license"?Qn(Vn,AM(Nn),5):Qn(Vn,Nn.remove(),5);if(Vn.g!=2)return gs(Vn,0);Ss(Vn),ms(Vn)})})),0)})}function Y$(gn,bn){if(!gn.length)return bn;if(!bn.length)return gn;var wn=[];gn=Dn(gn);for(var In=gn.next();!In.done;In=gn.next()){In=In.value;for(var Nn={},jn=Dn(bn),Vn=jn.next();!Vn.done;Nn={Da:Nn.Da},Vn=jn.next())if(Vn=Vn.value,In.keySystem==Vn.keySystem){Nn.Da=[],Nn.Da=Nn.Da.concat(In.initData||[]),Nn.Da=Nn.Da.concat(Vn.initData||[]),Nn.Da=Nn.Da.filter(function(Hn){return function(Xn,ns){return Xn.keyId===void 0||ns===Hn.Da.findIndex(function(ss){return ss.keyId===Xn.keyId})}}(Nn)),jn=In.keyIds&&Vn.keyIds?new Set([].concat(Kn(In.keyIds),Kn(Vn.keyIds))):In.keyIds||Vn.keyIds,wn.push({keySystem:In.keySystem,licenseServerUri:In.licenseServerUri||Vn.licenseServerUri,distinctiveIdentifierRequired:In.distinctiveIdentifierRequired||Vn.distinctiveIdentifierRequired,persistentStateRequired:In.persistentStateRequired||Vn.persistentStateRequired,videoRobustness:In.videoRobustness||Vn.videoRobustness,audioRobustness:In.audioRobustness||Vn.audioRobustness,serverCertificate:In.serverCertificate||Vn.serverCertificate,serverCertificateUri:In.serverCertificateUri||Vn.serverCertificateUri,initData:Nn.Da,keyIds:jn});break}}return wn}function X$(gn){return(gn.video?gn.video.drmInfos:[]).concat(gn.audio?gn.audio.drmInfos:[])}function IM(gn){gn.i.forEach(function(bn,wn){var In=bn.Vd,Nn=wn.expiration;isNaN(Nn)&&(Nn=1/0),Nn!=In&&(gn.D.onExpirationUpdated(wn.sessionId,Nn),bn.Vd=Nn)})}function fS(gn){return gn=gn.i.values(),OA(gn,function(bn){return bn.loaded})}function PM(gn,bn){var wn=[];for(bn.forEach(function(In,Nn){wn.push({keySystem:Nn,licenseServerUri:In,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",initData:[],keyIds:new Set})}),gn=Dn(gn),bn=gn.next();!bn.done;bn=gn.next())bn=bn.value,bn.video&&(bn.video.drmInfos=wn),bn.audio&&(bn.audio.drmInfos=wn)}function jA(gn,bn,wn,In,Nn,jn){var Vn={};gn=Dn(gn);for(var Hn=gn.next();!Hn.done;Vn={oa:Vn.oa},Hn=gn.next()){if(Vn.oa=Hn.value,bn.includes(Vn.oa.licenseServerUri)||bn.push(Vn.oa.licenseServerUri),In.includes(Vn.oa.serverCertificateUri)||In.push(Vn.oa.serverCertificateUri),Vn.oa.serverCertificate&&(wn.some(function(ss){return function(ps){return Lm(ps,ss.oa.serverCertificate)}}(Vn))||wn.push(Vn.oa.serverCertificate)),Vn.oa.initData){Hn={};for(var Xn=Dn(Vn.oa.initData),ns=Xn.next();!ns.done;Hn={Dc:Hn.Dc},ns=Xn.next())Hn.Dc=ns.value,Nn.some(function(ss){return function(ps){var fs=ss.Dc;return ps.keyId&&ps.keyId==fs.keyId?!0:ps.initDataType==fs.initDataType&&Lm(ps.initData,fs.initData)}}(Hn))||Nn.push(Hn.Dc)}if(Vn.oa.keyIds)for(Hn=Dn(Vn.oa.keyIds),Xn=Hn.next();!Xn.done;Xn=Hn.next())jn.add(Xn.value)}}function OM(gn,bn,wn,In){var Nn=gn.keySystem;Nn&&(Nn!="org.w3.clearkey"||!gn.licenseServerUri)&&(bn.size&&(bn=bn.get(Nn)||"",gn.licenseServerUri=bn),gn.keyIds||(gn.keyIds=new Set),(wn=wn.get(Nn))&&(gn.distinctiveIdentifierRequired||(gn.distinctiveIdentifierRequired=wn.distinctiveIdentifierRequired),gn.persistentStateRequired||(gn.persistentStateRequired=wn.persistentStateRequired),gn.videoRobustness||(gn.videoRobustness=wn.videoRobustness),gn.audioRobustness||(gn.audioRobustness=wn.audioRobustness),gn.serverCertificate||(gn.serverCertificate=wn.serverCertificate),wn.sessionType&&(gn.sessionType=wn.sessionType),gn.serverCertificateUri||(gn.serverCertificateUri=wn.serverCertificateUri)),In[Nn]&&(gn.keySystem=In[Nn]),pn.cast&&pn.cast.__platform__&&Nn=="com.microsoft.playready"&&(gn.keySystem="com.chromecast.playready"))}var FA=1,Q$=5,BA=.5,Z$=new Dp(function(){return Vu(new Uint8Array([0]))});function W_(){}function VA(gn,bn,wn,In){var Nn,jn,Vn,Hn;return hs(function(Xn){if(Xn.g==1)return In&&(Nn=cy[In.toLowerCase()])?Xn.return(Nn):(jn=Q0(gn))&&(Vn=q_[jn])?Xn.return(Vn):In?Xn.A(2):Qn(Xn,yx(gn,bn,wn),3);if(Xn.g!=2&&(In=Xn.h)&&(Hn=cy[In]))return Xn.return(Hn);throw new Vs(2,4,4e3,gn)})}function yx(gn,bn,wn){var In,Nn,jn;return hs(function(Vn){return Vn.g==1?(In=tm([gn],wn),In.method="HEAD",Qn(Vn,bn.request(0,In).promise,2)):(Nn=Vn.h,jn=Nn.headers["content-type"],Vn.return(jn?jn.toLowerCase().split(";").shift():""))})}function Q0(gn){return gn=new Rp(gn).qa.split("/").pop().split("."),gn.length==1?"":gn.pop().toLowerCase()}Ys("shaka.media.ManifestParser",W_),W_.unregisterParserByMime=function(gn){delete cy[gn]},W_.registerParserByMime=function(gn,bn){cy[gn]=bn},W_.registerParserByExtension=function(gn,bn){q_[gn]=bn};var cy={},q_={};function MM(gn){function bn(){In=!0}function wn(ns){jn.push(ns),Gl(ns)}gn=Pu(gn);var In=!1,Nn,jn=[],Vn=[];if(new Rl().box("moov",wn).box("trak",wn).box("mdia",wn).box("minf",wn).box("stbl",wn).R("stsd",function(ns){Nn=ns,jn.push(ns),Mv(ns)}).R("encv",bn).R("enca",bn).R("hev1",function(ns){Vn.push({box:ns,lb:1701733238})}).R("hvc1",function(ns){Vn.push({box:ns,lb:1701733238})}).R("avc1",function(ns){Vn.push({box:ns,lb:1701733238})}).R("avc3",function(ns){Vn.push({box:ns,lb:1701733238})}).R("ac-3",function(ns){Vn.push({box:ns,lb:1701733217})}).R("ec-3",function(ns){Vn.push({box:ns,lb:1701733217})}).R("mp4a",function(ns){Vn.push({box:ns,lb:1701733217})}).parse(gn),In)return gn;if(Vn.length==0||!Nn)throw Sp(gn),new Vs(2,3,3019);Vn.reverse();for(var Hn=Dn(Vn),Xn=Hn.next();!Xn.done;Xn=Hn.next())Xn=Xn.value,gn=J$(gn,Nn,Xn.box,jn,Xn.lb);return gn}function J$(gn,bn,wn,In,Nn){var jn=GA.value(),Vn=gn.subarray(wn.start,wn.start+wn.size),Hn=rp(Vn),Xn=new Uint8Array(wn.size+jn.byteLength);for(Xn.set(Vn,0),Vn=rp(Xn),Vn.setUint32(4,Nn),Xn.set(jn,wn.size),Nn=Hn.getUint32(4),Vn.setUint32(wn.size+16,Nn),pS(Xn,0,Xn.byteLength),Nn=new Uint8Array(gn.byteLength+Xn.byteLength),wn=Um()?wn.start:wn.start+wn.size,jn=gn.subarray(wn),Nn.set(gn.subarray(0,wn)),Nn.set(Xn,wn),Nn.set(jn,wn+Xn.byteLength),gn=Dn(In),In=gn.next();!In.done;In=gn.next())In=In.value,pS(Nn,In.start,In.size+Xn.byteLength);return Xn=rp(Nn,bn.start),bn=V0(bn),gn=Xn.getUint32(bn),Xn.setUint32(bn,gn+1),Nn}function pS(gn,bn,wn){gn=rp(gn,bn),bn=gn.getUint32(0),bn!=0&&(bn==1?(gn.setUint32(8,wn>>32),gn.setUint32(12,wn&4294967295)):gn.setUint32(0,wn))}var GA=new Dp(function(){return new Uint8Array([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])});function vx(gn,bn,wn,In,Nn){if(In>=Nn)return null;for(var jn=-1,Vn=-1,Hn=0;Hn<wn.length;Hn++)if(wn[Hn].some(function(Ws){return Ws!=null&&Ws.g.trim()!=""})){jn=Hn;break}for(Hn=wn.length-1;0<=Hn;Hn--)if(wn[Hn].some(function(Ws){return Ws!=null&&Ws.g.trim()!=""})){Vn=Hn;break}if(jn===-1||Vn===-1)return null;for(var Xn=Hn=!1,ns="white",ss="black",ps=c_(In,Nn,Hn,Xn,ns,ss);jn<=Vn;jn++){for(var fs=wn[jn],vs=-1,Is=-1,Ls=0;Ls<fs.length;Ls++)if(fs[Ls]!=null&&fs[Ls].g.trim()!==""){vs=Ls;break}for(Ls=fs.length-1;0<=Ls;Ls--)if(fs[Ls]!=null&&fs[Ls].g.trim()!==""){Is=Ls;break}if(vs===-1||Is===-1)fs=zm(In,Nn),gn.nestedCues.push(fs);else{for(;vs<=Is;vs++)if(Ls=fs[vs]){var ws=Ls.l,Rs=Ls.i,Zs=Ls.j,Fs=Ls.h;(ws!=Hn||Rs!=Xn||Zs!=ns||Fs!=ss)&&(ps.payload&&gn.nestedCues.push(ps),ps=c_(In,Nn,ws,Rs,Zs,Fs),Hn=ws,Xn=Rs,ns=Zs,ss=Fs),ps.payload+=Ls.g}else ps.payload+=" ";ps.payload&&gn.nestedCues.push(ps),jn!==Vn&&(ps=zm(In,Nn),gn.nestedCues.push(ps)),ps=c_(In,Nn,Hn,Xn,ns,ss)}}return gn.nestedCues.length?{cue:gn,stream:bn}:null}function c_(gn,bn,wn,In,Nn,jn){return gn=new wu(gn,bn,""),wn&&gn.textDecoration.push("underline"),In&&(gn.fontStyle="italic"),gn.color=Nn,gn.backgroundColor=jn,gn}function zm(gn,bn){return gn=new wu(gn,bn,""),gn.lineBreak=!0,gn}function d_(gn,bn,wn,In,Nn){this.g=gn,this.l=bn,this.i=wn,this.h=In,this.j=Nn}function _x(gn,bn){this.i=[],this.g=1,this.h=0,this.u=gn,this.s=bn,this.j=this.m=!1,this.l="white",this.o="black",Z0(this)}function eT(gn,bn,wn){return vx(new wu(bn,wn,""),"CC"+(gn.u<<1|gn.s+1),gn.i,bn,wn)}function Z0(gn){By(gn,0,15),gn.g=1}function J0(gn,bn,wn){if(!(32>wn||127<wn)){var In="";switch(bn){case eE:In=tE.has(wn)?tE.get(wn):String.fromCharCode(wn);break;case Sx:In=rE.get(wn);break;case tT:gn.i[gn.g].pop(),In=zA.get(wn);break;case hS:gn.i[gn.g].pop(),In=Dv.get(wn)}In&&gn.i[gn.g].push(new d_(In,gn.m,gn.j,gn.o,gn.l))}}function Ex(gn,bn,wn,In){if(!(0>wn||0>bn))if(bn>=wn)for(--In;0<=In;In--)gn.i[bn+In]=gn.i[wn+In].map(function(jn){return jn});else for(var Nn=0;Nn<In;Nn++)gn.i[bn+Nn]=gn.i[wn+Nn].map(function(jn){return jn})}function By(gn,bn,wn){for(var In=0;In<=wn;In++)gn.i[bn+In]=[]}var eE=0,Sx=1,tT=2,hS=3,tE=new Map([[39,"’"],[42,"á"],[92,"é"],[92,"é"],[94,"í"],[95,"ó"],[96,"ú"],[123,"ç"],[124,"÷"],[125,"Ñ"],[126,"ñ"],[127,"█"]]),rE=new Map([[48,"®"],[49,"°"],[50,"½"],[51,"¿"],[52,"™"],[53,"¢"],[54,"£"],[55,"♪"],[56,"à"],[57,"⠀"],[58,"è"],[59,"â"],[60,"ê"],[61,"î"],[62,"ô"],[63,"û"]]),zA=new Map([[32,"Á"],[33,"É"],[34,"Ó"],[35,"Ú"],[36,"Ü"],[37,"ü"],[38,"‘"],[39,"¡"],[40,"*"],[41,"'"],[42,"─"],[43,"©"],[44,"℠"],[45,"·"],[46,"“"],[47,"”"],[48,"À"],[49,"Â"],[50,"Ç"],[51,"È"],[52,"Ê"],[53,"Ë"],[54,"ë"],[55,"Î"],[56,"Ï"],[57,"ï"],[58,"Ô"],[59,"Ù"],[60,"ù"],[61,"Û"],[62,"«"],[63,"»"]]),Dv=new Map([[32,"Ã"],[33,"ã"],[34,"Í"],[35,"Ì"],[36,"ì"],[37,"Ò"],[38,"ò"],[39,"Õ"],[40,"õ"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"Ä"],[49,"ä"],[50,"Ö"],[51,"ö"],[52,"ß"],[53,"¥"],[54,"¤"],[55,"│"],[56,"Å"],[57,"å"],[58,"Ø"],[59,"ø"],[60,"┌"],[61,"┐"],[62,"└"],[63,"┘"]]);function f_(gn,bn){this.h=HA,this.o=new _x(gn,bn),this.i=new _x(gn,bn),this.l=new _x(gn,bn),this.g=this.i,this.j=0,this.m=null}function rT(gn,bn,wn){gn.g=gn.i;var In=gn.g,Nn=null;return gn.h!==nT&&gn.h!==mS&&(Nn=eT(In,gn.j,wn),wn=gn.i,wn.g=0<wn.h?wn.h:0,By(wn,0,15),wn=gn.l,wn.g=0<wn.h?wn.h:0,By(wn,0,15),In.g=15),gn.h=nT,In.h=bn,Nn}function $x(gn){gn.h=RM,gn.g=gn.l,gn.g.h=0}function Tx(gn){cp("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),gn.g=gn.o,gn.h=mS}var HA=0,RM=1,nT=3,mS=4,iT="black green blue cyan red yellow magenta black".split(" "),aT="white green blue cyan red yellow magenta white_italics".split(" ");function kx(){this.l=!1,this.B=this.F=0,this.D=WA,this.i=[],this.g=this.h=this.j=0,this.u=this.o=!1,this.s="white",this.m="black",oT(this)}function oT(gn){gn.i=[];for(var bn=0;16>bn;bn++)gn.i.push(bx())}function bx(){for(var gn=[],bn=0;42>bn;bn++)gn.push(null);return gn}function Y_(gn,bn){yS(gn)&&(gn.i[gn.h][gn.g]=new d_(bn,gn.u,gn.o,gn.m,gn.s),gn.g++)}function yS(gn){var bn=gn.g<gn.B&&0<=gn.g;return gn.h<gn.F&&0<=gn.h&&bn}kx.prototype.isVisible=function(){return this.l};function Vy(gn,bn,wn){var In=new wu(gn.j,bn,"");return In.textAlign=gn.D===NM?"left":gn.D===KA?"right":Qp,(wn=vx(In,"svc"+wn,gn.i,gn.j,bn))&&(gn.j=bn),wn}var NM=0,KA=1,WA=2;function xx(){this.i=[],this.h=null,this.g=0}function wx(gn,bn){bn.type===3?(gn.g=2*(bn.value&63)-1,gn.h=[]):gn.h&&(0<gn.g&&(gn.h.push(bn),gn.g--),gn.g===0&&(gn.i.push(new lv(gn.h)),gn.h=null,gn.g=0))}function lv(gn){this.g=0,this.h=gn}lv.prototype.ha=function(){return this.g<this.h.length},lv.prototype.Z=function(){return this.g};function pp(gn){if(!gn.ha())throw new Vs(2,2,3e3);return gn.h[gn.g++]}lv.prototype.skip=function(gn){if(this.g+gn>this.h.length)throw new Vs(2,2,3e3);this.g+=gn};function X_(gn){this.i=gn,this.h=[null,null,null,null,null,null,null,null],this.g=null}function DM(gn,bn,wn,In){if(128<=wn&&135>=wn)In=wn&7,gn.h[In]&&(gn.g=gn.h[In]);else{if(wn===136){wn=pp(bn).value,bn=null,wn=Dn(vS(gn,wn));for(var Nn=wn.next();!Nn.done;Nn=wn.next())Nn=gn.h[Nn.value],Nn.isVisible()&&(bn=Vy(Nn,In,gn.i)),oT(Nn);return bn}if(wn===137)for(bn=pp(bn).value,bn=Dn(vS(gn,bn)),wn=bn.next();!wn.done;wn=bn.next())wn=gn.h[wn.value],wn.isVisible()||(wn.j=In),wn.l=!0;else{if(wn===138){for(wn=pp(bn).value,bn=null,wn=Dn(vS(gn,wn)),Nn=wn.next();!Nn.done;Nn=wn.next())Nn=gn.h[Nn.value],Nn.isVisible()&&(bn=Vy(Nn,In,gn.i)),Nn.l=!1;return bn}if(wn===139){for(wn=pp(bn).value,bn=null,wn=Dn(vS(gn,wn)),Nn=wn.next();!Nn.done;Nn=wn.next())Nn=gn.h[Nn.value],Nn.isVisible()?bn=Vy(Nn,In,gn.i):Nn.j=In,Nn.l=!Nn.l;return bn}if(wn===140)return bn=pp(bn).value,qA(gn,bn,In);if(wn===143)return In=qA(gn,255,In),YA(gn),In;if(wn===144)bn.skip(1),In=pp(bn).value,gn.g&&(gn.g.o=0<(In&128),gn.g.u=0<(In&64));else if(wn===145)In=pp(bn).value,wn=pp(bn).value,bn.skip(1),gn.g&&(bn=XA((wn&48)>>4,(wn&12)>>2,wn&3),gn.g.s=XA((In&48)>>4,(In&12)>>2,In&3),gn.g.m=bn);else if(wn===146)In=pp(bn).value,bn=pp(bn).value,gn.g&&(gn=gn.g,gn.h=In&15,gn.g=bn&63);else if(wn===151)bn.skip(1),bn.skip(1),In=pp(bn).value,bn.skip(1),gn.g&&(gn.g.D=In&3);else if(152<=wn&&159>=wn){if(wn=(wn&15)-8,Nn=gn.h[wn]!==null,!Nn){var jn=new kx;jn.j=In,gn.h[wn]=jn}In=pp(bn).value,pp(bn),pp(bn),jn=pp(bn).value;var Vn=pp(bn).value;bn=pp(bn).value,Nn&&!(bn&7)||(bn=gn.h[wn],bn.h=0,bn.g=0,bn.u=!1,bn.o=!1,bn.s="white",bn.m="black"),bn=gn.h[wn],bn.l=0<(In&32),bn.F=(jn&15)+1,bn.B=(Vn&63)+1,gn.g=gn.h[wn]}}}return null}function vS(gn,bn){for(var wn=[],In=0;8>In;In++)(bn&1)===1&&gn.h[In]&&wn.push(In),bn>>=1;return wn}function qA(gn,bn,wn){var In=null;bn=Dn(vS(gn,bn));for(var Nn=bn.next();!Nn.done;Nn=bn.next()){Nn=Nn.value;var jn=gn.h[Nn];jn.isVisible()&&(In=Vy(jn,wn,gn.i)),gn.h[Nn]=null}return In}function YA(gn){gn.g=null,gn.h=[null,null,null,null,null,null,null,null]}function XA(gn,bn,wn){var In={0:0,1:0,2:1,3:1};return gn=In[gn],bn=In[bn],wn=In[wn],$p[gn<<2|bn<<1|wn]}var _S=new Map([[32," "],[33," "],[37,"…"],[42,"Š"],[44,"Œ"],[48,"█"],[49,"‘"],[50,"’"],[51,"“"],[52,"”"],[53,"•"],[57,"™"],[58,"š"],[60,"œ"],[61,"℠"],[63,"Ÿ"],[118,"⅛"],[119,"⅜"],[120,"⅝"],[121,"⅞"],[122,"│"],[123,"┐"],[124,"└"],[125,"─"],[126,"┘"],[127,"┌"]]),$p="black blue green cyan red magenta yellow white".split(" ");function LM(){this.h=[],this.g=[],this.i=new xx,this.l=0,this.s=new Map([["CC1",new f_(0,0)],["CC2",new f_(0,1)],["CC3",new f_(1,0)],["CC4",new f_(1,1)]]),this.o=this.m=0,this.j=new Map,Cx(this)}function Cx(gn){gn.m=0,gn.o=0,gn=Dn(gn.s.values());for(var bn=gn.next();!bn.done;bn=gn.next())bn=bn.value,bn.h=2,bn.g=bn.i,bn.m=null,Z0(bn.i),Z0(bn.l),Z0(bn.o)}function ES(gn){function bn(jn,Vn){return jn.pts-Vn.pts||jn.order-Vn.order}var wn=[];gn.h.sort(bn),gn.g.sort(bn);for(var In=Dn(gn.h),Nn=In.next();!Nn.done;Nn=In.next())(Nn=QA(gn,Nn.value))&&wn.push(Nn);for(In=Dn(gn.g),Nn=In.next();!Nn.done;Nn=In.next())wx(gn.i,Nn.value);for(In=Dn(gn.i.i),Nn=In.next();!Nn.done;Nn=In.next())Nn=ZA(gn,Nn.value),wn.push.apply(wn,Kn(Nn));return gn.i.i=[],gn.h=[],gn.g=[],wn}function QA(gn,bn){var wn=bn.type;if((bn.xa&112)===16){var In=bn.xa>>3&1;wn===0?gn.m=In:gn.o=In}if(wn=gn.s.get("CC"+(wn<<1|(wn?gn.o:gn.m)+1)),bn.xa===255&&bn.La===255||!bn.xa&&!bn.La||!Ax(bn.xa)||!Ax(bn.La))return 45<=++gn.l&&Cx(gn),null;if(gn.l=0,bn.xa&=127,bn.La&=127,!bn.xa&&!bn.La)return null;if(gn=null,(bn.xa&112)===16)e:{if(In=bn.xa,gn=bn.La,wn.m===(In<<8|gn))wn.m=null;else if(wn.m=In<<8|gn,(In&240)===16&&(gn&192)===64){bn=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(In&7)<<1|gn>>5&1];var Nn=(gn&30)>>1;In="white";var jn=!1;if(7>Nn?In=aT[Nn]:Nn===7&&(jn=!0),gn=(gn&1)===1,wn.h!==mS){if(Nn=wn.g,wn.h===nT&&bn!==Nn.g){var Vn=1+bn-Nn.h;Ex(Nn,Vn,1+Nn.g-Nn.h,Nn.h),By(Nn,0,Vn-1),By(Nn,bn+1,15-bn)}Nn.g=bn,wn.g.m=gn,wn.g.j=jn,wn.g.l=In,wn.g.o="black"}}else if((In&247)===17&&(gn&240)===32)wn.g.m=!1,wn.g.j=!1,wn.g.l="white",J0(wn.g,eE,32),In=!1,bn=aT[(gn&14)>>1],bn==="white_italics"&&(bn="white",In=!0),wn.g.m=(gn&1)===1,wn.g.j=In,wn.g.l=bn;else if((In&247)===16&&(gn&240)===32||(In&247)===23&&(gn&255)===45)bn="black",!(In&7)&&(bn=iT[(gn&14)>>1]),wn.g.o=bn;else if((In&247)===17&&(gn&240)===48)J0(wn.g,Sx,gn);else if((In&246)===18&&(gn&224)===32)J0(wn.g,In&1?hS:tT,gn);else if((In&246)===20&&(gn&240)===32){switch(gn=bn.pts,In=null,bn.La){case 32:$x(wn);break;case 33:wn=wn.g,wn.i[wn.g].pop();break;case 37:In=rT(wn,2,gn);break;case 38:In=rT(wn,3,gn);break;case 39:In=rT(wn,4,gn);break;case 40:J0(wn.g,eE,32);break;case 41:wn.h=2,wn.g=wn.i,wn.g.h=0,wn.j=gn;break;case 42:Z0(wn.o),Tx(wn);break;case 43:Tx(wn);break;case 44:bn=wn.i,In=null,wn.h!==mS&&(In=eT(bn,wn.j,gn)),By(bn,0,15);break;case 45:bn=wn.g,wn.h!==nT?In=null:(In=eT(bn,wn.j,gn),jn=bn.g-bn.h+1,Ex(bn,jn-1,jn,bn.h),By(bn,0,jn-1),By(bn,bn.g,15-bn.g),wn.j=gn);break;case 46:By(wn.l,0,15);break;case 47:bn=null,wn.h!==mS&&(bn=eT(wn.i,wn.j,gn)),In=wn.l,wn.l=wn.i,wn.i=In,$x(wn),wn.j=gn,In=bn}gn=In;break e}gn=null}else In=bn.La,J0(wn.g,eE,bn.xa),J0(wn.g,eE,In);return gn}function ZA(gn,bn){var wn=[];try{for(;bn.ha();){var In=pp(bn).value,Nn=(In&224)>>5,jn=In&31;if(Nn===7&&jn!=0&&(Nn=pp(bn).value&63),Nn!=0){gn.j.has(Nn)||gn.j.set(Nn,new X_(Nn));for(var Vn=gn.j.get(Nn),Hn=bn.Z();bn.Z()-Hn<jn;){Nn=bn;var Xn=pp(Nn),ns=Xn.value,ss=Xn.pts;if(ns===16){var ps=pp(Nn);ns=ns<<16|ps.value}if(0<=ns&&31>=ns){var fs=ss;if(Vn.g){var vs=Vn.g;switch(Nn=null,ns){case 8:!yS(vs)||0>=vs.g&&0>=vs.h||(0>=vs.g?(vs.g=vs.B-1,vs.h--):vs.g--,vs.i[vs.h][vs.g]=null);break;case 13:if(vs.isVisible()&&(Nn=Vy(vs,fs,Vn.i)),vs.h+1>=vs.F){fs=vs;for(var Is=0,Ls=1;16>Ls;Ls++,Is++)fs.i[Is]=fs.i[Ls];for(Ls=0;1>Ls;Ls++,Is++)fs.i[Is]=bx()}else vs.h++;vs.g=0;break;case 14:vs.isVisible()&&(Nn=Vy(vs,fs,Vn.i)),vs.i[vs.h]=bx(),vs.g=0;break;case 12:vs.isVisible()&&(Nn=Vy(vs,fs,Vn.i)),oT(vs),fs=vs,fs.h=0,fs.g=0}var ws=Nn}else ws=null}else if(128<=ns&&159>=ns)ws=DM(Vn,Nn,ns,ss);else{if(4096<=ns&&4127>=ns)fs=ns&255,8<=fs&&15>=fs?Nn.skip(1):16<=fs&&23>=fs?Nn.skip(2):24<=fs&&31>=fs&&Nn.skip(3);else if(4224<=ns&&4255>=ns)fs=ns&255,128<=fs&&135>=fs?Nn.skip(4):136<=fs&&143>=fs&&Nn.skip(5);else if(32<=ns&&127>=ns)Nn=ns,Vn.g&&(Nn===127?Y_(Vn.g,"♪"):Y_(Vn.g,String.fromCharCode(Nn)));else if(160<=ns&&255>=ns)Vn.g&&Y_(Vn.g,String.fromCharCode(ns));else if(4128<=ns&&4223>=ns){if(Nn=ns&255,Vn.g)if(_S.has(Nn)){var Rs=_S.get(Nn);Y_(Vn.g,Rs)}else Y_(Vn.g,"_")}else 4256<=ns&&4351>=ns&&Vn.g&&((ns&255)!=160?Y_(Vn.g,"_"):Y_(Vn.g,"[CC]"));ws=null}(Nn=ws)&&wn.push(Nn)}}}}catch(Zs){if(Zs instanceof Vs&&Zs.code===3e3)cp("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.");else throw Zs}return wn}function Ax(gn){for(var bn=0;gn;)bn^=gn&1,gn>>=1;return bn===1}function sT(){}sT.prototype.init=function(){},sT.prototype.parse=function(){return[]};function JA(gn,bn){var wn=null,In=null,Nn=null,jn=gn.K();return bn&1&&(Nn=gn.$a()),bn&2&&gn.skip(4),bn&8&&(wn=gn.K()),bn&16&&(In=gn.K()),{trackId:jn,Ce:wn,wf:In,qh:Nn}}function eI(gn,bn){return{we:bn==1?gn.$a():gn.K()}}function SS(gn,bn){return bn==1?(gn.skip(8),gn.skip(8)):(gn.skip(4),gn.skip(4)),{timescale:gn.K()}}function tI(gn,bn,wn){var In=gn.K(),Nn=[],jn=null;wn&1&&(jn=gn.K()),wn&4&&gn.skip(4);for(var Vn=0;Vn<In;Vn++){var Hn={ee:null,sampleSize:null,ed:null};wn&256&&(Hn.ee=gn.K()),wn&512&&(Hn.sampleSize=gn.K()),wn&1024&&gn.skip(4),wn&2048&&(Hn.ed=bn==0?gn.K():gn.Oe()),Nn.push(Hn)}return{vh:In,Qe:Nn,vf:jn}}function Ix(){this.j=new Map,this.i=this.h=0,this.g=Px}Ix.prototype.init=function(gn){function bn(jn){jn=jn.name,jn in $S&&(wn.g=$S[jn])}var wn=this,In=[],Nn=[];if(new Rl().box("moov",Gl).box("mvex",Gl).R("trex",function(jn){var Vn=jn.reader;Vn.skip(4),Vn.skip(4),jn=Vn.K(),Vn=Vn.K(),wn.h=jn,wn.i=Vn}).box("trak",Gl).R("tkhd",function(jn){var Vn=jn.reader;jn.version==1?(Vn.skip(8),Vn.skip(8)):(Vn.skip(4),Vn.skip(4)),jn=Vn.K(),In.push(jn)}).box("mdia",Gl).R("mdhd",function(jn){jn=SS(jn.reader,jn.version),Nn.push(jn.timescale)}).box("minf",Gl).box("stbl",Gl).R("stsd",Mv).box("avc1",bn).box("avc3",bn).box("hev1",bn).box("hvc1",bn).box("dvh1",bn).box("dvhe",bn).box("encv",G$).box("sinf",Gl).box("frma",function(jn){jn=jn.reader.K(),jn=uy(jn),jn in $S&&(wn.g=$S[jn])}).parse(gn,!0),!In.length||!Nn.length||In.length!=Nn.length)throw new Vs(2,2,2010);this.g==Px&&$u("Unable to determine bitstream format for CEA parsing!"),In.forEach(function(jn,Vn){wn.j.set(jn,Nn[Vn])})},Ix.prototype.parse=function(gn){var bn=this;if(this.g==Px)return[];var wn=[],In=this.h,Nn=this.i,jn=[],Vn=null,Hn=null,Xn=null,ns=9e4;return new Rl().box("moof",function(ss){Vn=ss.start,Gl(ss)}).box("traf",Gl).R("trun",function(ss){ss=tI(ss.reader,ss.version,ss.flags),jn=ss.Qe,Hn=ss.vf}).R("tfhd",function(ss){ss=JA(ss.reader,ss.flags),In=ss.Ce||bn.h,Nn=ss.wf||bn.i,ss=ss.trackId,bn.j.has(ss)&&(ns=bn.j.get(ss))}).R("tfdt",function(ss){Xn=eI(ss.reader,ss.version).we}).box("mdat",function(ss){if(Xn===null)throw new Vs(2,2,2010);e:{var ps=ss.reader,fs=Xn,vs=ns,Is=In,Ls=Nn,ws=jn,Rs=0,Zs=Ls;for(ws.length&&(Zs=ws[0].sampleSize||Ls),ps.skip((Vn||0)+(Hn||0)-ss.start-8);ps.ha();){ss=ps.K();var Fs=ps.Qa();switch(bn.g){case uT:Fs&=31,Fs=Fs==6;break;case Q_:Fs=Fs>>1&63,Fs=Fs==39||Fs==40;break;default:break e}if(Fs){Fs=0,ws.length>Rs&&(Fs=ws[Rs].ed||0),Fs=(fs+Fs)/vs;for(var Ws=[],Gs,eu=ps.Za(ss-1),au=Gs=0;au<eu.length;)Gs==2&&eu[au]==3?(Gs=0,eu=[].concat(Kn(eu)),eu.splice(au,1),eu=new Uint8Array(eu)):eu[au]==0?Gs++:Gs=0,au++;for(Gs=eu,au=0;au<Gs.length;){for(eu=0;Gs[au]==255;)eu+=255,au++;eu+=Gs[au++];for(var du=0;Gs[au]==255;)du+=255,au++;du+=Gs[au++],eu==4&&Ws.push(Gs.subarray(au,au+du)),au+=du}for(Ws=Dn(Ws),Gs=Ws.next();!Gs.done;Gs=Ws.next())wn.push({hg:Gs.value,pts:Fs})}else try{ps.skip(ss-1)}catch{break}Zs-=ss+4,Zs==0&&(fs=ws.length>Rs?fs+(ws[Rs].ee||Is):fs+Is,Rs++,Zs=ws.length>Rs&&ws[Rs].sampleSize||Ls)}}}).parse(gn,!1),wn};var Px=0,uT=1,Q_=2,$S={avc1:uT,avc3:uT,hev1:Q_,hvc1:Q_,dvh1:Q_,dvhe:Q_};function Ox(gn){this.h=new sT,gn.includes("video/mp4")&&(this.h=new Ix),this.g=new LM}Ox.prototype.init=function(gn){this.h.init(gn)};function Mx(gn,bn){bn=gn.h.parse(bn),bn=Dn(bn);for(var wn=bn.next();!wn.done;wn=bn.next()){var In=wn.value,Nn=Pu(In.hg);if(0<Nn.length&&(wn=gn.g,In=In.pts,Nn=new xu(Nn,0),Nn.Qa()===181&&Nn.$d()===49&&Nn.K()===1195456820&&Nn.Qa()===3)){var jn=Nn.Qa();if(jn&64){jn&=31,Nn.skip(1);for(var Vn=0;Vn<jn;Vn++){var Hn=Nn.Qa(),Xn=(Hn&4)>>2,ns=Nn.Qa(),ss=Nn.Qa();Xn&&(Hn&=3,Hn===0||Hn===1?wn.h.push({pts:In,type:Hn,xa:ns,La:ss,order:wn.h.length}):(wn.g.push({pts:In,type:Hn,value:ns,order:wn.g.length}),wn.g.push({pts:In,type:2,value:ss,order:wn.g.length})))}}}}return ES(gn.g)}function Hm(gn,bn,wn,In,Nn){this.ya=gn,this.Ba=bn,this.la=wn,this.Od=In===void 0?null:In,this.timescale=Nn}Hm.prototype.lc=function(){return this.Ba},Hm.prototype.hc=function(){return this.la};function Rx(gn,bn){return gn&&bn?gn.lc()==bn.lc()&&gn.hc()==bn.hc()&&_p(gn.ya(),bn.ya()):gn==bn}Ys("shaka.media.InitSegmentReference",Hm),Hm.prototype.getEndByte=Hm.prototype.hc,Hm.prototype.getStartByte=Hm.prototype.lc;function cl(gn,bn,wn,In,Nn,jn,Vn,Hn,Xn,ns,ss,ps,fs,vs,Is){ns=ns===void 0?[]:ns,vs=vs===void 0?nE:vs,this.startTime=gn,this.l=this.endTime=bn,this.u=wn,this.Ba=In,this.la=Nn,this.h=jn,this.timestampOffset=Vn,this.appendWindowStart=Hn,this.appendWindowEnd=Xn,this.i=ns,this.tilesLayout=ss===void 0?"":ss,this.s=ps===void 0?null:ps,this.g=fs===void 0?null:fs,this.status=vs,this.m=Is===void 0?null:Is,this.o=null,this.j=0}En=cl.prototype,En.ya=function(){return this.u()},En.getStartTime=function(){return this.startTime},En.Df=function(){return this.endTime},En.lc=function(){return this.Ba},En.hc=function(){return this.la},En.Uf=function(){return this.tilesLayout},En.Tf=function(){return this.s},En.Eb=function(){return this.status},En.ag=function(){this.status=iE},En.Xe=function(gn){this.o=gn},En.Rf=function(){return this.o},En.offset=function(gn){this.startTime+=gn,this.endTime+=gn,this.l+=gn;for(var bn=Dn(this.i),wn=bn.next();!wn.done;wn=bn.next())wn=wn.value,wn.startTime+=gn,wn.endTime+=gn,wn.l+=gn},En.oe=function(gn){this.g==null?fl("Sync attempted without sync time!"):(gn=this.g-gn-this.startTime,.001<=Math.abs(gn)&&this.offset(gn))},Ys("shaka.media.SegmentReference",cl),cl.prototype.syncAgainst=cl.prototype.oe,cl.prototype.offset=cl.prototype.offset,cl.prototype.getThumbnailSprite=cl.prototype.Rf,cl.prototype.setThumbnailSprite=cl.prototype.Xe,cl.prototype.markAsUnavailable=cl.prototype.ag,cl.prototype.getStatus=cl.prototype.Eb,cl.prototype.getTileDuration=cl.prototype.Tf,cl.prototype.getTilesLayout=cl.prototype.Uf,cl.prototype.getEndByte=cl.prototype.hc,cl.prototype.getStartByte=cl.prototype.lc,cl.prototype.getEndTime=cl.prototype.Df,cl.prototype.getStartTime=cl.prototype.getStartTime,cl.prototype.getUris=cl.prototype.ya;var nE=0,iE=1;cl.Status={Gg:nE,nh:iE,Ug:2};function TS(gn){return!gn||gn.length==1&&1e-6>gn.end(0)-gn.start(0)?null:gn.length==1&&0>gn.start(0)?0:gn.length?gn.start(0):null}function lT(gn){return!gn||gn.length==1&&1e-6>gn.end(0)-gn.start(0)?null:gn.length?gn.end(gn.length-1):null}function Nx(gn,bn){return!gn||!gn.length||gn.length==1&&1e-6>gn.end(0)-gn.start(0)||bn>gn.end(gn.length-1)?!1:bn>=gn.start(0)}function Km(gn,bn){if(!gn||!gn.length||gn.length==1&&1e-6>gn.end(0)-gn.start(0))return 0;var wn=0;gn=Dn(rl(gn));for(var In=gn.next();!In.done;In=gn.next()){var Nn=In.value;In=Nn.start,Nn=Nn.end,Nn>bn&&(wn+=Nn-Math.max(In,bn))}return wn}function UM(gn,bn,wn){return!gn||!gn.length||gn.length==1&&1e-6>gn.end(0)-gn.start(0)?null:(gn=rl(gn).findIndex(function(In,Nn,jn){return In.start>bn&&(Nn==0||jn[Nn-1].end-bn<=wn)}),0<=gn?gn:null)}function rl(gn){if(!gn)return[];for(var bn=[],wn=0;wn<gn.length;wn++)bn.push({start:gn.start(wn),end:gn.end(wn)});return bn}function kS(){}function Dx(gn,bn){var wn=(gn[bn]&127)<<21;return wn|=(gn[bn+1]&127)<<14,wn|=(gn[bn+2]&127)<<7,wn|=gn[bn+3]&127}function rI(gn){var bn={key:gn.type,description:"",data:""};if(gn.type==="TXXX"){if(2>gn.size||gn.data[0]!==3)return null;var wn=gn.data.subarray(1).indexOf(0);if(wn===-1)return null;var In=Ou(Pu(gn.data,1,wn));return gn=Ou(Pu(gn.data,2+wn)).replace(/\0*$/,""),bn.description=In,bn.data=gn,bn}return gn.type==="WXXX"?2>gn.size||gn.data[0]!==3||(wn=gn.data.subarray(1).indexOf(0),wn===-1)?null:(In=Ou(Pu(gn.data,1,wn)),gn=Ou(Pu(gn.data,2+wn)).replace(/\0*$/,""),bn.description=In,bn.data=gn,bn):gn.type==="PRIV"?2>gn.size||(In=gn.data.indexOf(0),In===-1)?null:(In=Ou(Pu(gn.data,0,In)),gn=Vu(gn.data.subarray(In.length+1)),bn.description=In,bn.data=gn,bn):gn.type[0]==="T"?2>gn.size||gn.data[0]!==3?null:(gn=Ou(gn.data.subarray(1)).replace(/\0*$/,""),bn.data=gn,bn):gn.type[0]==="W"?(gn=Ou(gn.data).replace(/\0*$/,""),bn.data=gn,bn):gn.data?(bn.data=Vu(gn.data),bn):null}function aE(gn){for(var bn=0,wn=[];bn+10<=gn.length&&gn[bn]===73&&gn[bn+1]===68&&gn[bn+2]===51&&255>gn[bn+3]&&255>gn[bn+4]&&128>gn[bn+6]&&128>gn[bn+7]&&128>gn[bn+8]&&128>gn[bn+9];){var In=Dx(gn,bn+6);for(gn[bn+5]>>6&1&&(bn+=10),bn+=10,In=bn+In;bn+10<In;){var Nn=gn.subarray(bn),jn=Dx(Nn,4);Nn={type:String.fromCharCode(Nn[0],Nn[1],Nn[2],Nn[3]),size:jn,data:Nn.subarray(10,10+jn)},(jn=rI(Nn))&&wn.push(jn),bn+=Nn.size+10}bn+10<=gn.length&&gn[bn]===51&&gn[bn+1]===68&&gn[bn+2]===73&&255>gn[bn+3]&&255>gn[bn+4]&&128>gn[bn+6]&&128>gn[bn+7]&&128>gn[bn+8]&&128>gn[bn+9]&&(bn+=10)}return wn}Ys("shaka.util.Id3Utils",kS),kS.getID3Frames=aE;function oE(){this.o=null,this.s=!1,this.l=this.m=null,this.B=[],this.g=this.h=null,this.u=[],this.j=null,this.i=[]}oE.prototype.parse=function(gn){if(564>gn.length)return this;for(var bn=Math.max(0,Lv(gn)),wn=gn.length-(gn.length+bn)%188,In=!1,Nn=bn;Nn<wn;Nn+=188)if(gn[Nn]===71){var jn=!!(gn[Nn+1]&64),Vn=((gn[Nn+1]&31)<<8)+gn[Nn+2];if(1<(gn[Nn+3]&48)>>4){var Hn=Nn+5+gn[Nn+4];if(Hn===Nn+188)continue}else Hn=Nn+4;switch(Vn){case 0:jn&&(Hn+=gn[Hn]+1),this.o=(gn[Hn+10]&31)<<8|gn[Hn+11];break;case 17:case 8191:break;case this.o:jn&&(Hn+=gn[Hn]+1),jn=gn,Vn={audio:-1,video:-1,Ed:-1,audioCodec:"",videoCodec:""};var Xn=Hn+3+((jn[Hn+1]&15)<<8|jn[Hn+2])-4;for(Hn+=12+((jn[Hn+10]&15)<<8|jn[Hn+11]);Hn<Xn;){var ns=(jn[Hn+1]&31)<<8|jn[Hn+2];switch(jn[Hn]){case 15:Vn.audio===-1&&(Vn.audio=ns,Vn.audioCodec="aac");break;case 21:Vn.Ed===-1&&(Vn.Ed=ns);break;case 27:Vn.video===-1&&(Vn.video=ns,Vn.videoCodec="avc");break;case 3:case 4:Vn.audio===-1&&(Vn.audio=ns,Vn.audioCodec="mp3");break;case 36:Vn.video===-1&&(Vn.video=ns,Vn.videoCodec="hvc")}Hn+=((jn[Hn+3]&15)<<8|jn[Hn+4])+5}jn=Vn,this.l==null&&(this.l=jn.video),this.g==null&&(this.g=jn.audio),this.j==null&&(this.j=jn.Ed),In&&!this.s&&(In=!1,Nn=bn-188),this.s=!0;break;case this.l:jn=gn.subarray(Hn,Nn+188),this.m==null&&(Hn=cT(jn))&&Hn.pts!=null&&(this.m=Hn.pts/9e4),this.B.push(jn);break;case this.g:jn=gn.subarray(Hn,Nn+188),this.h==null&&(Hn=cT(jn))&&Hn.pts!=null&&(this.h=Hn.pts/9e4),this.u.push(jn);break;case this.j:this.i.push(gn.subarray(Hn,Nn+188));break;default:In=!0}}return this};function cT(gn){if((gn[0]<<16|gn[1]<<8|gn[2])!==1)return null;var bn={data:new Uint8Array(0),uh:6+(gn[4]<<8|gn[5]),pts:null,dts:null},wn=gn[7];return wn&192&&(bn.pts=536870912*(gn[9]&14)+4194304*(gn[10]&255)+16384*(gn[11]&254)+128*(gn[12]&255)+(gn[13]&254)/2,bn.dts=bn.pts,wn&64&&(bn.dts=536870912*(gn[14]&14)+4194304*(gn[15]&255)+16384*(gn[16]&254)+128*(gn[17]&255)+(gn[18]&254)/2)),bn.data=gn.subarray(9+gn[8]),bn}function jM(gn){for(var bn=[],wn=new Uint8Array(0),In=gn.i.length-1;0<=In;In--){wn=oy(gn.i[In],wn);var Nn=cT(wn);Nn&&(bn.unshift({cueTime:Nn.pts?Nn.pts/9e4:null,data:Nn.data,frames:aE(Nn.data),dts:Nn.dts,pts:Nn.pts}),wn=new Uint8Array(0))}return bn}oE.prototype.getStartTime=function(){return{audio:this.h,video:this.m}};function Lv(gn){for(var bn=Math.min(1e3,gn.length-564),wn=0;wn<bn;){if(gn[wn]===71&&gn[wn+188]===71&&gn[wn+376]===71)return wn;wn++}return-1}Ys("shaka.util.TsParser",oE);function sE(gn,bn,wn){this.g=null,this.i=-1,this.j=gn,this.h=bn,this.l=wn,typeof libDPIModule>"u"&&$u("Could not Find LCEVC Library dependencies on this page"),typeof LcevcDil>"u"?$u("Could not Find LCEVC Library on this page"):LcevcDil.SupportObject.SupportStatus||$u(LcevcDil.SupportObject.SupportError),typeof LcevcDil<"u"&&typeof libDPIModule<"u"&&this.h instanceof HTMLCanvasElement&&LcevcDil.SupportObject.SupportStatus&&!this.g&&LcevcDil.SupportObject.webGLSupport(this.h)&&(this.h.classList.remove("shaka-hidden"),this.g=new LcevcDil.LcevcDil(this.j,this.h,this.l))}sE.prototype.release=function(){this.g&&(this.g.close(),this.g=null)};function Lx(gn,bn){var wn=FM;switch(bn.mimeType){case"video/webm":wn=dT;break;case"video/mp4":wn=fT}gn.g&&(gn.i=bn.id,gn.g.setLevelSwitching(bn.id,!0),gn.g.setContainerFormat(wn))}Ys("shaka.lcevc.Dil",sE),sE.prototype.release=sE.prototype.release;var FM=0,dT=1,fT=2;function pT(gn,bn,wn,In){var Nn=this;this.l=gn,this.G=null,this.m=bn,this.h={},this.L={},this.P={},this.g=null,this.H=!1,this.V=wn||function(){},this.F=In||null,this.i={},this.u=new jl,this.o={},this.s=null,this.J=new bl,this.j=BM(this,this.J),this.D=new gm(function(){return nI(Nn)}),this.M="",this.B=!1,this.W=new bl}function BM(gn,bn){var wn=new MediaSource;return gn.u.ia(wn,"sourceopen",function(){URL.revokeObjectURL(gn.M),bn.resolve()}),gn.M=uE(wn),gn.l.src=gn.M,wn}En=pT.prototype,En.destroy=function(){return this.D.destroy()};function nI(gn){var bn,wn,In,Nn,jn,Vn,Hn,Xn;return hs(function(ns){if(ns.g==1){bn=[];for(wn in gn.i)for(In=gn.i[wn],Nn=In[0],gn.i[wn]=In.slice(0,1),Nn&&bn.push(Nn.p.catch(R_)),jn=Dn(In.slice(1)),Vn=jn.next();!Vn.done;Vn=jn.next())Hn=Vn.value,Hn.p.reject(new Vs(2,7,7003,void 0));gn.g&&bn.push(gn.g.destroy()),gn.m&&bn.push(gn.m.destroy());for(Xn in gn.o)bn.push(gn.o[Xn].destroy());return Qn(ns,Promise.all(bn),2)}gn.u&&(gn.u.release(),gn.u=null),gn.l&&(gn.l.removeAttribute("src"),gn.l.load(),gn.l=null),gn.G=null,gn.j=null,gn.g=null,gn.m=null,gn.h={},gn.o={},gn.s=null,gn.i={},gn.F=null,ms(ns)})}En.init=function(gn,bn,wn){wn=wn===void 0?!1:wn;var In=this,Nn,jn,Vn,Hn,Xn,ns,ss,ps;return hs(function(fs){if(fs.g==1)return Nn=tl,Qn(fs,In.J,2);for(In.B=wn,jn={},Vn=Dn(gn.keys()),Hn=Vn.next();!Hn.done;jn={na:jn.na},Hn=Vn.next())if(jn.na=Hn.value,Xn=gn.get(jn.na),ns=_h(Xn.mimeType,Xn.codecs),jn.na==Nn.X)Uv(In,ns,wn);else{!bn&&Fu(ns)||!rv(ns,jn.na)||(In.o[jn.na]=new XE(ns),ns=N0(jn.na,ns)),ss=ns+In.G.sourceBufferExtraFeatures,ll(In.D),ps=void 0;try{ps=In.j.addSourceBuffer(ss)}catch(vs){throw new Vs(2,3,3015,vs,"The mediaSource_ status was"+In.j.readyState+"expected 'open'")}In.u.C(ps,"error",function(vs){return function(){In.i[vs.na][0].p.reject(new Vs(2,3,3014,In.l.error?In.l.error.code:0))}}(jn)),In.u.C(ps,"updateend",function(vs){return function(){return Z_(In,vs.na)}}(jn)),In.h[jn.na]=ps,In.L[jn.na]=ns,In.i[jn.na]=[],In.P[jn.na]=!!Xn.drmInfos.length}ms(fs)})},En.configure=function(gn){this.G=gn};function Uv(gn,bn,wn){gn.g||(gn.g=new Kp(gn.m));var In=gn.g;gn=gn.H,bn=="application/cea-608"||bn=="application/cea-708"?In.i=null:(In.i=(0,_c[bn])(),In.i.setSequenceMode?In.i.setSequenceMode(wn):$u('Text parsers should have a "setSequenceMode" method!'),In.u=gn)}function Ux(gn){return gn.j?gn.j.readyState=="ended":!0}function iI(gn,bn){return bn==Zu?gn.g.g:TS(p_(gn,bn))}function hT(gn,bn){return bn==Zu?gn.g.h:lT(p_(gn,bn))}function VM(gn,bn,wn){return bn==Zu?(gn=gn.g,gn.h==null||gn.h<wn?0:gn.h-Math.max(wn,gn.g)):(gn=p_(gn,bn),Km(gn,wn))}En.Ma=function(){var gn={total:rl(this.l.buffered),audio:rl(p_(this,"audio")),video:rl(p_(this,"video")),text:[]};if(this.g){var bn=this.g.g,wn=this.g.h;bn!=null&&wn!=null&&gn.text.push({start:bn,end:wn})}return gn};function p_(gn,bn){try{return gn.h[bn].buffered}catch{return null}}function aI(gn,bn,wn,In,Nn,jn,Vn){jn=jn===void 0?!1:jn,Vn=Vn===void 0?!1:Vn;var Hn,Xn,ns,ss,ps,fs,vs,Is,Ls,ws,Rs,Zs,Fs,Ws,Gs,eu,au,du,pu,bu,Uu,Bu,al;return hs(function(Mu){switch(Mu.g){case 1:if(Hn=tl,bn!=Hn.X){Mu.A(2);break}if(!gn.B){Mu.A(3);break}return Qn(Mu,gn.W,4);case 4:Xn=Mu.h,gn.g.s=Xn;case 3:return Qn(Mu,QE(gn.g,wn,In?In.startTime:null,In?In.endTime:null),5);case 5:return Mu.return();case 2:if(ns=Pu(wn),ss=gn.L[bn],gn.o[bn]&&(ss=gn.o[bn].o),0>Lv(ns)?dy.includes(ss)&&(Is=aE(ns),Is.length&&In&&(Ls={cueTime:In.startTime,data:ns,frames:Is,dts:In.startTime,pts:In.startTime},gn.V([Ls],0,In.endTime))):(ps=new oE().parse(ns),fs=In.startTime-(ps.getStartTime()[bn]||0),vs=jM(ps),vs.length&&gn.V(vs,fs,In?In.endTime:null)),!gn.o[bn]){Nn&&bn==Hn.va&&(gn.g||Uv(gn,"application/cea-608",gn.B),gn.s||(gn.s=new Ox(ss)),In?(ws=Mx(gn.s,wn),ws.length&&(Rs=gn.h[Hn.va].timestampOffset,n_(gn.g,ws,In.startTime,In.endTime,Rs))):gn.s.init(wn)),Mu.A(6);break}return jn&&gn.o[bn].g.resetCaptions(),Qn(Mu,N$(gn.o[bn],wn),7);case 7:Zs=Mu.h,gn.g||Uv(gn,"application/cea-608",gn.B),Zs.captions&&Zs.captions.length&&(Fs=gn.h[Hn.va].timestampOffset,Ws=Ny(Zs.captions),n_(gn.g,Ws,In?In.startTime:null,In?In.endTime:null,Fs)),wn=Zs.data;case 6:if(wn=Vx(gn,wn,In?In.startTime:null,bn),Gs=gn.h[bn],eu=Gx,!gn.B||Gs.mode==eu||!In){Mu.A(8);break}if(au=gn.j.duration,du=bn==Hn.va||!(Hn.va in gn.h),!du){Mu.A(9);break}return pu=[Gs.appendWindowStart,Gs.appendWindowEnd],Gs.appendWindowStart=0,Gs.appendWindowEnd=1/0,bu=Gs.timestampOffset,Gs.timestampOffset=0,Qn(Mu,sm(gn,bn,function(){return sI(gn,bn,wn)}),10);case 10:return Qn(Mu,sm(gn,bn,function(){return wS(gn,bn)}),11);case 11:return Gs.timestampOffset=bu,Gs.appendWindowStart=pu[0],Gs.appendWindowEnd=pu[1],Uu=TS(p_(gn,bn)),Bu=(In.startTime||0)-(Uu||0),gn.W.resolve(Bu),Qn(Mu,sm(gn,bn,function(){return jv(gn,bn,0,au)}),12);case 12:if(bn!=Hn.va){Mu.A(9);break}return Qn(Mu,sm(gn,bn,function(){gn.l.currentTime-=.001,Z_(gn,bn)}),9);case 9:return Gs.mode=eu,Qn(Mu,gn.Aa(au),8);case 8:return In&&gn.B&&bn!=Hn.X&&(jn||Vn)&&(al=In.startTime,sm(gn,bn,function(){return wS(gn,bn)}),sm(gn,bn,function(){return Fx(gn,bn,al)})),Qn(Mu,sm(gn,bn,function(){sI(gn,bn,wn)}),16);case 16:ms(Mu)}})}function GM(gn,bn){var wn=hT(gn,"video")||0;ZE(gn.g,bn,wn)}function bS(gn){gn.g&&ZE(gn.g,"",0)}En.remove=function(gn,bn,wn){var In=this,Nn;return hs(function(jn){return Nn=tl,gn==Nn.X?Qn(jn,In.g.remove(bn,wn),0):Qn(jn,sm(In,gn,function(){return jv(In,gn,bn,wn)}),0)})};function jx(gn,bn){var wn;return hs(function(In){return wn=tl,bn==wn.X?gn.g?Qn(In,gn.g.remove(0,1/0),0):In.return():Qn(In,sm(gn,bn,function(){return jv(gn,bn,0,gn.j.duration)}),0)})}En.flush=function(gn){var bn=this,wn;return hs(function(In){return wn=tl,gn==wn.X?In.return():Qn(In,sm(bn,gn,function(){bn.l.currentTime-=.001,Z_(bn,gn)}),0)})};function oI(gn,bn,wn,In,Nn,jn){var Vn;return hs(function(Hn){return Vn=tl,bn==Vn.X?(jn||(gn.g.s=wn),Tm(gn.g,In,Nn),Hn.return()):Qn(Hn,Promise.all([sm(gn,bn,function(){return wS(gn,bn)}),jn?Promise.resolve():sm(gn,bn,function(){return Fx(gn,bn,wn)}),sm(gn,bn,function(){gn.h[bn].appendWindowStart=0,gn.h[bn].appendWindowEnd=Nn,gn.h[bn].appendWindowStart=In,Z_(gn,bn)})]),0)})}function xS(gn,bn,wn){var In;return hs(function(Nn){return In=tl,bn==In.X?Nn.return():(sm(gn,bn,function(){return wS(gn,bn)}),Qn(Nn,sm(gn,bn,function(){return Fx(gn,bn,wn)}),0))})}En.endOfStream=function(gn){var bn=this;return hs(function(wn){return Qn(wn,uI(bn,function(){Ux(bn)||bn.j.readyState==="closed"||(gn?bn.j.endOfStream(gn):bn.j.endOfStream())}),0)})},En.Aa=function(gn){var bn=this;return hs(function(wn){return Qn(wn,uI(bn,function(){if(gn<bn.j.duration)for(var In in bn.h){var Nn={start:function(){},p:new bl};bn.i[In].unshift(Nn)}bn.j.duration=gn}),0)})},En.getDuration=function(){return this.j.duration};function sI(gn,bn,wn){if(bn=="video"&&gn.F){var In=gn.F;In.g&&In.g.appendBuffer(wn,"video",In.i)}gn.h[bn].appendBuffer(wn)}function jv(gn,bn,wn,In){In<=wn?Z_(gn,bn):gn.h[bn].remove(wn,In)}function wS(gn,bn){var wn=gn.h[bn].appendWindowStart,In=gn.h[bn].appendWindowEnd;gn.h[bn].abort(),gn.h[bn].appendWindowStart=wn,gn.h[bn].appendWindowEnd=In,Z_(gn,bn)}function Fx(gn,bn,wn){0>wn&&(wn+=.001),gn.h[bn].timestampOffset=wn,Z_(gn,bn)}function Z_(gn,bn){var wn=gn.i[bn][0];wn&&(wn.p.resolve(),mT(gn,bn))}function sm(gn,bn,wn){return ll(gn.D),wn={start:wn,p:new bl},gn.i[bn].push(wn),gn.i[bn].length==1&&Bx(gn,bn),wn.p}function uI(gn,bn){var wn,In,Nn,jn,Vn,Hn;return hs(function(Xn){switch(Xn.g){case 1:ll(gn.D),wn=[],In={};for(Nn in gn.h)In.Ub=new bl,jn={start:function(ns){return function(){return ns.Ub.resolve()}}(In),p:In.Ub},gn.i[Nn].push(jn),wn.push(In.Ub),gn.i[Nn].length==1&&jn.start(),In={Ub:In.Ub};return $s(Xn,2),Qn(Xn,Promise.all(wn),4);case 4:gs(Xn,3);break;case 2:throw Vn=Ss(Xn),Vn;case 3:try{bn()}catch(ns){throw new Vs(2,3,3015,ns)}finally{for(Hn in gn.h)mT(gn,Hn)}ms(Xn)}})}function mT(gn,bn){gn.i[bn].shift(),Bx(gn,bn)}function Bx(gn,bn){var wn=gn.i[bn][0];if(wn)try{wn.start()}catch(In){In.name=="QuotaExceededError"?wn.p.reject(new Vs(2,3,3017,bn)):wn.p.reject(new Vs(2,3,3015,In)),mT(gn,bn)}}function Vx(gn,bn,wn,In){var Nn=gn.P[In];return wn==null&&Nn&&(Ep()||Um())&&gn.L[In].split(";")[0].split("/")[1]=="mp4"&&(bn=MM(bn)),bn}var uE=pn.URL.createObjectURL,Gx="sequence",dy=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"];function ku(gn,bn,wn){this.i=gn,this.m=bn,this.o=this.j=1/0,this.g=1,this.h=this.l=null,this.s=0,this.u=!0,this.B=0,this.D=wn===void 0?!0:wn,this.F=0,this.G=!1}En=ku.prototype,En.getDuration=function(){return this.j},En.Jf=function(){return this.g},En.We=function(gn){this.i=gn},En.Aa=function(gn){this.j=gn},En.Of=function(){return this.i},En.Ue=function(gn){this.s=gn},En.yc=function(gn){this.u=gn},En.me=function(gn){this.o=gn},En.Ve=function(gn){this.m=gn},En.Cf=function(){return this.m},En.Ib=function(gn){if(gn.length!=0){var bn=gn[0].startTime,wn=gn[0].endTime,In=(Date.now()+this.s)/1e3;gn=Dn(gn);for(var Nn=gn.next();!Nn.done;Nn=gn.next())Nn=Nn.value,In<Nn.startTime||(bn=Math.min(bn,Nn.startTime),wn=Math.max(wn,Nn.endTime),this.g=Math.max(this.g,Nn.endTime-Nn.startTime));this.Td(bn),this.h=Math.max(this.h,wn),this.i!=null&&this.D&&!this.G&&(this.i=In-this.h-this.g)}},En.Md=function(){this.G=!0},En.Td=function(gn){this.l=this.l==null?gn:Math.min(this.l,gn)},En.Sd=function(gn){this.g=Math.max(this.g,gn)},En.offset=function(gn){this.l!=null&&(this.l+=gn),this.h!=null&&(this.h+=gn)},En.U=function(){return this.j==1/0&&!this.u},En.jb=function(){return this.j!=1/0&&!this.u},En.Oa=function(){return Math.max(this.B,this.gb()-this.o)},En.Ye=function(gn){this.B=gn},En.gb=function(){return this.U()||this.jb()?Math.min(Math.max(0,(Date.now()+this.s)/1e3-this.g-this.i)+this.F,this.j):this.h?Math.min(this.h,this.j):this.j},En.kc=function(gn){var bn=Math.max(this.l,this.B);return this.o==1/0?Math.ceil(1e3*bn)/1e3:Math.max(bn,Math.min(this.gb()-this.o+gn,this.Na()))},En.Db=function(){return this.kc(0)},En.Na=function(){return Math.max(0,this.gb()-(this.U()||this.jb()?this.m:0))},En.cf=function(){return!(this.i==null||this.h!=null&&this.D)},En.Te=function(gn){this.F=gn},Ys("shaka.media.PresentationTimeline",ku),ku.prototype.setAvailabilityTimeOffset=ku.prototype.Te,ku.prototype.usingPresentationStartTime=ku.prototype.cf,ku.prototype.getSeekRangeEnd=ku.prototype.Na,ku.prototype.getSeekRangeStart=ku.prototype.Db,ku.prototype.getSafeSeekRangeStart=ku.prototype.kc,ku.prototype.getSegmentAvailabilityEnd=ku.prototype.gb,ku.prototype.setUserSeekStart=ku.prototype.Ye,ku.prototype.getSegmentAvailabilityStart=ku.prototype.Oa,ku.prototype.isInProgress=ku.prototype.jb,ku.prototype.isLive=ku.prototype.U,ku.prototype.offset=ku.prototype.offset,ku.prototype.notifyMaxSegmentDuration=ku.prototype.Sd,ku.prototype.notifyMinSegmentStartTime=ku.prototype.Td,ku.prototype.lockStartTime=ku.prototype.Md,ku.prototype.notifySegments=ku.prototype.Ib,ku.prototype.getDelay=ku.prototype.Cf,ku.prototype.setDelay=ku.prototype.Ve,ku.prototype.setSegmentAvailabilityDuration=ku.prototype.me,ku.prototype.setStatic=ku.prototype.yc,ku.prototype.setClockOffset=ku.prototype.Ue,ku.prototype.getPresentationStartTime=ku.prototype.Of,ku.prototype.setDuration=ku.prototype.Aa,ku.prototype.setPresentationStartTime=ku.prototype.We,ku.prototype.getMaxSegmentDuration=ku.prototype.Jf,ku.prototype.getDuration=ku.prototype.getDuration;function zx(gn,bn,wn){this.l=wn,this.j=gn,this.s=cI(gn),this.g=gn.g.currentTime,this.m=Date.now()/1e3,this.h=!1,this.o=0,this.u=bn,this.i=function(){}}zx.prototype.release=function(){this.l=this.j=null,this.i=function(){}};function Hx(gn,bn){gn.i=bn}function lI(gn){this.g=gn}function cI(gn){if(gn.g.paused||gn.g.playbackRate==0||gn.g.buffered.length==0)var bn=!1;else e:{bn=gn.g.currentTime,gn=Dn(rl(gn.g.buffered));for(var wn=gn.next();!wn.done;wn=gn.next())if(wn=wn.value,!(bn<wn.start-.1||bn>wn.end-.5)){bn=!0;break e}bn=!1}return bn}function CS(gn,bn,wn,In,Nn){var jn=this;this.o=Nn,this.g=gn,this.s=bn,this.D=wn,this.i=new jl,this.m=!1,this.B=gn.readyState,this.u=0,this.h=In,this.l=!1,this.i.C(gn,"waiting",function(){return Kx(jn)}),this.j=new Hu(function(){Kx(jn)}).Ca(.25)}CS.prototype.release=function(){this.i&&(this.i.release(),this.i=null),this.j!=null&&(this.j.stop(),this.j=null),this.h&&(this.h.release(),this.h=null),this.g=this.s=this.o=null},CS.prototype.Wd=function(){this.l=!0,Kx(this)};function Kx(gn){if(gn.g.readyState!=0){if(gn.g.seeking){if(!gn.m)return}else gn.m=!1;if(!gn.g.paused||gn.g.currentTime==0&&(gn.g.autoplay||gn.g.currentTime!=0)){gn.g.readyState!=gn.B&&(gn.B=gn.g.readyState);var bn;if(!(bn=!gn.h)){bn=gn.h;var wn=bn.j,In=cI(wn),Nn=wn.g.currentTime,jn=Date.now()/1e3;(bn.g!=Nn||bn.s!=In)&&(bn.m=jn,bn.g=Nn,bn.s=In,bn.h=!1),Nn=jn-bn.m,(In=Nn>=bn.u&&In&&!bn.h)&&(bn.i(bn.g,Nn),bn.h=!0,bn.g=wn.g.currentTime,bn.o++,bn.l(new Ju("stalldetected"))),bn=!In}bn&&(bn=gn.g.currentTime,wn=gn.g.buffered,In=UM(wn,bn,gn.D.gapDetectionThreshold),In==null||In==0&&!gn.l||(Nn=wn.start(In),Nn>=gn.s.Na()||.001>Nn-bn||(In!=0&&wn.end(In-1),gn.g.currentTime=Nn,gn.u++,gn.o(new Ju("gapjumped")))))}}}function Gy(gn,bn,wn,In){bn==HTMLMediaElement.HAVE_NOTHING||gn.readyState>=bn?In():(bn=Gu.value().get(bn),wn.ia(gn,bn,In))}var Gu=new Dp(function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])});function Wx(gn,bn,wn){var In=this;this.g=gn,this.l=bn,this.j=wn,this.m=!1,this.h=new jl,this.i=new yT(gn),Gy(this.g,HTMLMediaElement.HAVE_METADATA,this.h,function(){Yx(In,In.j)})}Wx.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.i!=null&&(this.i.release(),this.i=null),this.l=function(){},this.g=null};function qx(gn){return gn.m?gn.g.currentTime:gn.j}function dI(gn,bn){0<gn.g.readyState?J_(gn.i,bn):Gy(gn.g,HTMLMediaElement.HAVE_METADATA,gn.h,function(){Yx(gn,gn.j)})}function Yx(gn,bn){.001>Math.abs(gn.g.currentTime-bn)?gT(gn):(gn.h.ia(gn.g,"seeking",function(){gT(gn)}),J_(gn.i,gn.g.currentTime&&gn.g.currentTime!=0?gn.g.currentTime:bn))}function gT(gn){gn.m=!0,gn.h.C(gn.g,"seeking",function(){return gn.l()})}function yT(gn){var bn=this;this.h=gn,this.m=10,this.l=this.j=this.i=0,this.g=new Hu(function(){0>=bn.i||bn.h.currentTime!=bn.j?bn.g.stop():(bn.h.currentTime=bn.l,bn.i--)})}yT.prototype.release=function(){this.g&&(this.g.stop(),this.g=null),this.h=null};function J_(gn,bn){gn.j=gn.h.currentTime,gn.l=bn,gn.i=gn.m,gn.h.currentTime=bn,gn.g.Ca(.1)}function fI(gn){this.g=gn,this.j=!1,this.h=null,this.i=new jl}En=fI.prototype,En.yd=function(){function gn(){bn.h==null||bn.h==0?bn.j=!0:(bn.i.ia(bn.g,"seeking",function(){bn.j=!0}),bn.g.currentTime=Math.max(0,bn.g.currentTime+bn.h))}var bn=this;Gy(this.g,HTMLMediaElement.HAVE_CURRENT_DATA,this.i,function(){gn()})},En.release=function(){this.i&&(this.i.release(),this.i=null),this.g=null},En.zd=function(gn){this.h=this.j?this.h:gn},En.Ic=function(){return(this.j?this.g.currentTime:this.h)||0},En.ue=function(){return 0},En.te=function(){return 0},En.Ne=function(){};function Xx(gn,bn,wn,In,Nn,jn){var Vn=this;this.i=gn,this.g=bn.presentationTimeline,this.B=bn.minBufferTime||0,this.l=wn,this.u=Nn,this.s=null,this.o=pI(gn,wn,jn),this.j=new CS(gn,bn.presentationTimeline,wn,this.o,jn),this.h=new Wx(gn,function(){e:{var Hn=Vn.j;Hn.m=!0,Hn.l=!1;var Xn=qx(Vn.h);if(Hn=Jx(Vn,Xn),.001<Math.abs(Hn-Xn)&&(Xn=Date.now()/1e3,!Vn.s||Vn.s<Xn-1)){Vn.s=Xn,dI(Vn.h,Hn),Hn=void 0;break e}Vn.u(),Hn=void 0}return Hn},Qx(this,In)),this.m=new Hu(function(){if(Vn.i.readyState!=0&&!Vn.i.paused){var Hn=qx(Vn.h),Xn=Vn.g.Db(),ns=Vn.g.Na();3>ns-Xn&&(Xn=ns-3),Hn<Xn&&(Hn=Jx(Vn,Hn),Vn.i.currentTime=Hn)}})}En=Xx.prototype,En.yd=function(){this.m.Ca(.25)},En.release=function(){this.h&&(this.h.release(),this.h=null),this.j&&(this.j.release(),this.j=null),this.m&&(this.m.stop(),this.m=null),this.i=this.h=this.g=this.l=null,this.u=function(){}},En.zd=function(gn){dI(this.h,gn)},En.Ic=function(){var gn=qx(this.h);return 0<this.i.readyState&&!this.i.paused?ew(this,gn):gn},En.ue=function(){return this.o?this.o.o:0},En.te=function(){return this.j.u};function Qx(gn,bn){return bn==null?bn=1/0>gn.g.getDuration()?gn.g.Db():gn.g.Na():0>bn&&(bn=gn.g.Na()+bn),Zx(gn,ew(gn,bn))}En.Ne=function(){this.j.Wd()};function Zx(gn,bn){var wn=gn.g.getDuration();return bn>=wn?wn-gn.l.durationBackoff:bn}function Jx(gn,bn){var wn=Math.max(gn.B,gn.l.rebufferingGoal),In=gn.l.safeSeekOffset,Nn=gn.g.Db(),jn=gn.g.Na(),Vn=gn.g.getDuration();3>jn-Nn&&(Nn=jn-3);var Hn=gn.g.kc(wn),Xn=gn.g.kc(In);return wn=gn.g.kc(wn+In),bn>=Vn?Zx(gn,bn):bn>jn?jn:bn<Nn?Nx(gn.i.buffered,Xn)?Xn:wn:bn>=Hn||Nx(gn.i.buffered,bn)?bn:wn}function ew(gn,bn){var wn=gn.g.Db();return bn<wn?wn:(gn=gn.g.Na(),bn>gn?gn:bn)}function pI(gn,bn,wn){if(!bn.stallEnabled)return null;var In=bn.stallSkip;return bn=new zx(new lI(gn),bn.stallThreshold,wn),Hx(bn,function(){In?gn.currentTime+=In:(gn.pause(),gn.play())}),bn}function yl(gn){this.g=gn,this.h=null,this.i=0,this.j=!1}En=yl.prototype,En.release=function(){this.j||(this.g=[],this.h&&this.h.stop(),this.h=null)},En.bg=function(){this.j=!0};function hI(gn,bn){gn=Dn(gn.g);for(var wn=gn.next();!wn.done;wn=gn.next())bn(wn.value)}En.find=function(gn){for(var bn=this.g.length-1,wn=bn;0<=wn;--wn){var In=this.g[wn],Nn=wn<bn?this.g[wn+1].startTime:In.endTime;if(gn>=In.startTime&&gn<Nn)return wn+this.i}return this.g.length&&gn<this.g[0].startTime?this.i:null},En.get=function(gn){return this.g.length==0?null:(gn-=this.i,0>gn||gn>=this.g.length?null:this.g[gn])},En.offset=function(gn){if(!this.j)for(var bn=Dn(this.g),wn=bn.next();!wn.done;wn=bn.next())wn.value.offset(gn)},En.pc=function(gn){if(!this.j&&gn.length){var bn=Math.round(1e3*gn[0].startTime)/1e3;this.g=this.g.filter(function(wn){return Math.round(1e3*wn.startTime)/1e3<bn}),this.g.push.apply(this.g,Kn(gn))}},En.Hb=function(gn,bn){var wn=this;gn=gn.filter(function(In){return In.endTime>bn&&(wn.g.length==0||In.endTime>wn.g[0].startTime)}),this.pc(gn),this.eb(bn)},En.eb=function(gn){if(!this.j){var bn=this.g.length;this.g=this.g.filter(function(wn){return wn.endTime>gn}),this.i+=bn-this.g.length}},En.Wa=function(gn,bn,wn){if(wn=wn===void 0?!1:wn,!this.j){for(;this.g.length&&this.g[this.g.length-1].startTime>=bn;)this.g.pop();for(;this.g.length&&this.g[0].endTime<=gn;)this.g.shift(),wn||this.i++;this.g.length!=0&&(gn=this.g[this.g.length-1],this.g[this.g.length-1]=new cl(gn.startTime,bn,gn.u,gn.Ba,gn.la,gn.h,gn.timestampOffset,gn.appendWindowStart,gn.appendWindowEnd,gn.i,gn.tilesLayout,gn.s,gn.g,gn.status,gn.m),this.g[this.g.length-1].j=gn.j)}},En.fd=function(gn,bn){var wn=this;this.j||(this.h&&this.h.stop(),this.h=new Hu(function(){var In=bn();In?wn.g.push.apply(wn.g,Kn(In)):(wn.h.stop(),wn.h=null)}),this.h.Ca(gn))},yl.prototype[Symbol.iterator]=function(){return this.Cb(0)},yl.prototype.Cb=function(gn){var bn=this.find(gn);if(bn==null)return null;bn--;var wn=this.get(bn+1),In=-1;if(wn&&0<wn.i.length)for(var Nn=wn.i.length-1;0<=Nn;--Nn){var jn=wn.i[Nn];if(gn>=jn.startTime&&gn<jn.endTime){bn++,In=Nn-1;break}}return new zy(this,bn,In)};function vT(gn,bn,wn){return new yl([new cl(gn,gn+bn,function(){return wn},0,null,null,gn,gn,gn+bn)])}Ys("shaka.media.SegmentIndex",yl),yl.forSingleSegment=vT,yl.prototype.getIteratorForTime=yl.prototype.Cb,yl.prototype.updateEvery=yl.prototype.fd,yl.prototype.fit=yl.prototype.Wa,yl.prototype.evict=yl.prototype.eb,yl.prototype.mergeAndEvict=yl.prototype.Hb,yl.prototype.offset=yl.prototype.offset,yl.prototype.get=yl.prototype.get,yl.prototype.find=yl.prototype.find,yl.prototype.markImmutable=yl.prototype.bg,yl.prototype.release=yl.prototype.release;function zy(gn,bn,wn){this.i=gn,this.g=bn,this.h=wn}zy.prototype.uf=function(){return this.g},zy.prototype.current=function(){var gn=this.i.get(this.g);return gn&&0<gn.i.length&&gn.ya().length&&this.h>=gn.i.length&&(this.g++,this.h=0,gn=this.i.get(this.g)),gn&&0<gn.i.length?gn.i[this.h]:gn},zy.prototype.next=function(){var gn=this.i.get(this.g);return gn&&0<gn.i.length?(this.h++,gn.ya().length&&this.h==gn.i.length&&(this.g++,this.h=0)):(this.g++,this.h=0),gn=this.current(),{value:gn,done:!gn}},Ys("shaka.media.SegmentIterator",zy),zy.prototype.next=zy.prototype.next,zy.prototype.current=zy.prototype.current,zy.prototype.currentPosition=zy.prototype.uf;function _d(){yl.call(this,[]),this.l=[]}as(_d,yl),En=_d.prototype,En.clone=function(){var gn=new _d;return gn.l=this.l.slice(),gn},En.release=function(){for(var gn=Dn(this.l),bn=gn.next();!bn.done;bn=gn.next())bn.value.release();this.l=[]},En.find=function(gn){for(var bn=0,wn=Dn(this.l),In=wn.next();!In.done;In=wn.next()){In=In.value;var Nn=In.find(gn);if(Nn!=null)return Nn+bn;bn+=In.i+In.g.length}return null},En.get=function(gn){for(var bn=0,wn=Dn(this.l),In=wn.next();!In.done;In=wn.next()){In=In.value;var Nn=In.get(gn-bn);if(Nn)return Nn;bn+=In.i+In.g.length}return null},En.offset=function(){},En.pc=function(){},En.eb=function(){},En.Hb=function(){},En.Wa=function(){},En.fd=function(){},Ys("shaka.media.MetaSegmentIndex",_d),_d.prototype.updateEvery=_d.prototype.fd,_d.prototype.fit=_d.prototype.Wa,_d.prototype.mergeAndEvict=_d.prototype.Hb,_d.prototype.evict=_d.prototype.eb,_d.prototype.merge=_d.prototype.pc,_d.prototype.offset=_d.prototype.offset,_d.prototype.get=_d.prototype.get,_d.prototype.find=_d.prototype.find,_d.prototype.release=_d.prototype.release;function lE(gn){var bn=this;this.g=gn,this.j=!1,this.i=this.g.Tc(),this.h=new Hu(function(){bn.g.Me(.25*bn.i)})}lE.prototype.release=function(){this.h&&(this.h.stop(),this.h=null),this.g=null},lE.prototype.set=function(gn){this.i=gn,tw(this)},lE.prototype.Pc=function(){return this.g.Pc()};function tw(gn){gn.h.stop();var bn=gn.j?0:gn.i;if(0<=bn)try{gn.g.Tc()!=bn&&gn.g.le(bn);return}catch{}gn.h.Ca(.25),gn.g.Tc()!=0&&gn.g.le(0)}function mI(gn){var bn=this;this.h=gn,this.g=new Set,this.i=new Hu(function(){vl(bn,!1)}).Ca(.25)}mI.prototype.release=function(){this.i.stop();for(var gn=Dn(this.g),bn=gn.next();!bn.done;bn=gn.next())bn.value.release();this.g.clear()};function vl(gn,bn){for(var wn=Dn(gn.g),In=wn.next();!In.done;In=wn.next())In.value.j(gn.h.currentTime,bn)}function _T(gn){hl.call(this),this.g=new Map,this.h=gn}as(_T,hl),_T.prototype.release=function(){this.g.clear(),hl.prototype.release.call(this)};function rw(gn,bn){var wn=gn.g.get(bn);return wn||(wn={rc:[],Ae:null,contentType:bn},gn.g.set(bn,wn)),wn}function Hy(gn,bn,wn){var In=rw(gn,bn.contentType);ip(gn,In),gn={Od:bn,position:wn},In=In.rc,bn=In.findIndex(function(Nn){return Nn.position>=wn}),0<=bn?In.splice(bn,In[bn].position==wn?1:0,gn):In.push(gn)}_T.prototype.j=function(gn){for(var bn=Dn(this.g.values()),wn=bn.next();!wn.done;wn=bn.next()){wn=wn.value;e:{for(var In=wn.rc,Nn=In.length-1;0<=Nn;Nn--){var jn=In[Nn];if(jn.position<=gn){In=jn.Od;break e}}In=null}if((Nn=In)&&(Nn=wn.Ae,Nn=!(Nn===In||Nn&&In&&Nn.bandwidth==In.bandwidth&&Nn.audioSamplingRate==In.audioSamplingRate&&Nn.codecs==In.codecs&&Nn.contentType==In.contentType&&Nn.frameRate==In.frameRate&&Nn.height==In.height&&Nn.mimeType==In.mimeType&&Nn.channelsCount==In.channelsCount&&Nn.pixelAspectRatio==In.pixelAspectRatio&&Nn.width==In.width)),Nn)e:{if(Nn=gn,jn=In.contentType,(jn=this.h()[jn])&&0<jn.length){var Vn=jn[jn.length-1].end;if(Nn>=jn[0].start&&Nn<Vn){Nn=!0;break e}}Nn=!1}Nn&&(wn.Ae=In,JSON.stringify(In),wn=new Ju("qualitychange",new Map([["quality",In],["position",gn]])),this.dispatchEvent(wn))}};function ip(gn,bn){if((gn=gn.h()[bn.contentType])&&0<gn.length){var wn=gn[0].start,In=gn[gn.length-1].end,Nn=bn.rc;bn.rc=Nn.filter(function(jn,Vn){return!(jn.position<=wn&&Vn+1<Nn.length&&Nn[Vn+1].position<=wn||jn.position>=In)})}else bn.rc=[]}function e0(gn){hl.call(this);var bn=this;this.g=new Set,this.i=gn,this.h=new Hu(function(){for(var wn=bn.i(),In=Dn(bn.g),Nn=In.next();!Nn.done;Nn=In.next())Nn=Nn.value,Nn.endTime<wn.start&&(bn.g.delete(Nn),Nn=new Ju("regionremove",new Map([["region",Nn]])),bn.dispatchEvent(Nn))}).Ca(2)}as(e0,hl),e0.prototype.release=function(){this.g.clear(),this.h.stop(),hl.prototype.release.call(this)};function AS(gn){hl.call(this);var bn=this;this.i=gn,this.g=new Map,this.l=[{rb:null,qb:Fv,ib:function(wn,In){return h_(bn,"enter",wn,In)}},{rb:cE,qb:Fv,ib:function(wn,In){return h_(bn,"enter",wn,In)}},{rb:IS,qb:Fv,ib:function(wn,In){return h_(bn,"enter",wn,In)}},{rb:Fv,qb:cE,ib:function(wn,In){return h_(bn,"exit",wn,In)}},{rb:Fv,qb:IS,ib:function(wn,In){return h_(bn,"exit",wn,In)}},{rb:cE,qb:IS,ib:function(wn,In){return h_(bn,"skip",wn,In)}},{rb:IS,qb:cE,ib:function(wn,In){return h_(bn,"skip",wn,In)}}],this.h=new jl,this.h.C(this.i,"regionremove",function(wn){bn.g.delete(wn.region)})}as(AS,hl),AS.prototype.release=function(){this.i=null,this.g.clear(),this.h.release(),this.h=null,hl.prototype.release.call(this)},AS.prototype.j=function(gn,bn){for(var wn=Dn(this.i.g),In=wn.next();!In.done;In=wn.next()){In=In.value;var Nn=this.g.get(In),jn=gn<In.startTime?cE:gn>In.endTime?IS:Fv;this.g.set(In,jn);for(var Vn=Dn(this.l),Hn=Vn.next();!Hn.done;Hn=Vn.next())Hn=Hn.value,Hn.rb==Nn&&Hn.qb==jn&&Hn.ib(In,bn)}};function h_(gn,bn,wn,In){bn=new Ju(bn,new Map([["region",wn],["seeking",In]])),gn.dispatchEvent(bn)}var cE=1,Fv=2,IS=3;function nw(gn,bn,wn,In,Nn){return gn=tm(gn,In,Nn),(bn!=0||wn!=null)&&(gn.headers.Range=wn?"bytes="+bn+"-"+wn:"bytes="+bn+"-"),gn}function gI(gn,bn){var wn=this;this.g=bn,this.m=gn,this.i=null,this.u=1,this.o=this.l=null,this.F=0,this.D=!1,this.j=new Map,this.B=!1,this.G=null,this.s=!1,this.h=new gm(function(){return iw(wn)})}En=gI.prototype,En.destroy=function(){return this.h.destroy()};function iw(gn){var bn,wn,In,Nn;return hs(function(jn){if(jn.g==1){for(bn=[],wn=Dn(gn.j.values()),In=wn.next();!In.done;In=wn.next())Nn=In.value,PS(Nn),bn.push($I(Nn));return Qn(jn,Promise.all(bn),2)}gn.j.clear(),gn.g=null,gn.m=null,gn.i=null,ms(jn)})}En.configure=function(gn){this.i=gn,this.G=new ax({maxAttempts:Math.max(gn.retryParameters.maxAttempts,2),baseDelay:gn.retryParameters.baseDelay,backoffFactor:gn.retryParameters.backoffFactor,fuzzFactor:gn.retryParameters.fuzzFactor,timeout:0,stallTimeout:0,connectionTimeout:0},!0)},En.start=function(){var gn=this;return hs(function(bn){if(bn.g==1)return Qn(bn,HM(gn),2);ll(gn.h),gn.B=!0,ms(bn)})};function ET(gn,bn){var wn,In,Nn,jn,Vn,Hn;hs(function(Xn){switch(Xn.g){case 1:return wn=tl,gn.F++,In=gn.F,$s(Xn,2),Qn(Xn,jx(gn.g.N,wn.X),4);case 4:gs(Xn,3);break;case 2:Nn=Ss(Xn),gn.g&&gn.g.onError(Nn);case 3:jn=_h(bn.mimeType,bn.codecs),Uv(gn.g.N,jn,gn.m.sequenceMode),Vn=gn.g.N.m,(Vn.isTextVisible()||gn.i.alwaysStreamText)&&gn.F==In&&(Hn=vI(bn),gn.j.set(wn.X,Hn),fy(gn,Hn,0)),ms(Xn)}})}function t0(gn){var bn=gn.j.get(Zu);bn&&(PS(bn),$I(bn).catch(function(){}),gn.j.delete(Zu)),gn.o=null}function dE(gn,bn){var wn=gn.j.get("video");if(wn){var In=wn.stream;In&&(bn?(bn=In.trickModeVideo)&&!wn.ob&&(g_(gn,bn,!1,0,!1),wn.ob=In):(In=wn.ob)&&(wn.ob=null,g_(gn,In,!0,0,!1)))}}function r0(gn,bn,wn,In,Nn,jn){wn=wn===void 0?!1:wn,In=In===void 0?0:In,Nn=Nn===void 0?!1:Nn,jn=jn===void 0?!1:jn,gn.l=bn,gn.B&&(bn.video&&g_(gn,bn.video,wn,In,Nn,jn),bn.audio&&g_(gn,bn.audio,wn,In,Nn,jn))}function m_(gn,bn){hs(function(wn){if(wn.g==1)return gn.o=bn,gn.B?bn.segmentIndex?wn.A(2):Qn(wn,bn.createSegmentIndex(),2):wn.return();g_(gn,bn,!0,0,!1),ms(wn)})}function g_(gn,bn,wn,In,Nn,jn){var Vn=gn.j.get(bn.type);Vn||bn.type!=Zu?Vn&&(Vn.ob&&(bn.trickModeVideo?(Vn.ob=bn,bn=bn.trickModeVideo):Vn.ob=null),Vn.stream!=bn||Nn)&&(bn.type==Zu&&Uv(gn.g.N,_h(bn.mimeType,bn.codecs),gn.m.sequenceMode),Vn.stream.closeSegmentIndex&&Vn.stream.closeSegmentIndex(),Vn.stream=bn,Vn.aa=null,Vn.ve=!!jn,wn&&(Vn.ac?Vn.hd=!0:Vn.ra?(Vn.bb=!0,Vn.Nc=In,Vn.hd=!0):(PS(Vn),uw(gn,Vn,!0,In).catch(function(Hn){gn.g&&gn.g.onError(Hn)}))),yI(gn,Vn).catch(function(Hn){gn.g&&gn.g.onError(Hn)})):ET(gn,bn)}function yI(gn,bn){var wn,In;return hs(function(Nn){if(Nn.g==1)return bn.ta?(wn=bn.stream,In=bn.ta,wn.segmentIndex?Nn.A(2):Qn(Nn,wn.createSegmentIndex(),2)):Nn.return();if(bn.ta!=In||bn.stream!=wn)return Nn.return();var jn=gn.g.Sc(),Vn=hT(gn.g.N,bn.type),Hn=bn.stream.segmentIndex.find(bn.pa?bn.pa.endTime:jn),Xn=Hn==null?null:bn.stream.segmentIndex.get(Hn);Hn=Xn&&Xn.la?Xn.la-Xn.Ba:null,Xn&&!Hn&&(Hn=(Xn.endTime-Xn.getStartTime())*(bn.stream.bandwidth||0)/8),Hn?((Xn=Xn.h)&&(Hn+=(Xn.la?Xn.la-Xn.Ba:null)||0),Xn=gn.g.getBandwidthEstimate(),jn=8*Hn/Xn<(Vn||0)-jn-Math.max(gn.m.minBufferTime||0,gn.i.rebufferingGoal)||bn.ta.h.g>Hn):jn=!1,jn&&bn.ta.abort(),ms(Nn)})}En.vc=function(){if(this.g)for(var gn=this.g.Sc(),bn=Dn(this.j.keys()),wn=bn.next();!wn.done;wn=bn.next()){var In=wn.value;wn=this.j.get(In),wn.aa=null;var Nn=this.g.N;if(In==Zu?(Nn=Nn.g,Nn=Nn.g==null||Nn.h==null?!1:gn>=Nn.g&&gn<Nn.h):(Nn=p_(Nn,In),Nn=Nx(Nn,gn)),!Nn){if((hT(this.g.N,In)!=null||wn.ra)&&zM(this,wn),wn.ta&&(wn.ta.abort(),wn.ta=null),In===Zu&&(In=this.g.N,In.s))for(In=In.s.g,In.l=0,In.h=[],In.g=[],Nn=In.i,Nn.i=[],Nn.h=[],Nn.g=0,Cx(In),In=Dn(In.j.values()),Nn=In.next();!Nn.done;Nn=In.next())YA(Nn.value);wn.vc=!0}}};function zM(gn,bn){bn.ac||bn.bb||(bn.ra?(bn.bb=!0,bn.Nc=0):iI(gn.g.N,bn.type)==null?bn.Ka==null&&fy(gn,bn,0):(PS(bn),uw(gn,bn,!1,0).catch(function(wn){gn.g&&gn.g.onError(wn)})))}function HM(gn){var bn,wn,In,Nn,jn,Vn,Hn,Xn,ns,ss;return hs(function(ps){if(ps.g==1){if(bn=tl,!gn.l)throw new Vs(2,5,5006);return wn=new Map,In=new Set,gn.l.audio&&(wn.set(bn.Hc,gn.l.audio),In.add(gn.l.audio)),gn.l.video&&(wn.set(bn.va,gn.l.video),In.add(gn.l.video)),gn.o&&(wn.set(bn.X,gn.o),In.add(gn.o)),Nn=gn.g.N,jn=gn.i.forceTransmux,Qn(ps,Nn.init(wn,jn,gn.m.sequenceMode),2)}for(ll(gn.h),gn.updateDuration(),Vn=Dn(wn.keys()),Hn=Vn.next();!Hn.done;Hn=Vn.next())Xn=Hn.value,ns=wn.get(Xn),gn.j.has(Xn)||(ss=vI(ns),gn.j.set(Xn,ss),fy(gn,ss,0));ms(ps)})}function vI(gn){return{stream:gn,type:gn.type,aa:null,pa:null,Zc:null,Kd:null,Jd:null,Id:null,ob:null,endOfStream:!1,ra:!1,Ka:null,bb:!1,Nc:0,hd:!1,ac:!1,vc:!0,Rd:!1,be:!1,nc:!1,ta:null}}En.updateDuration=function(){var gn=this.m.presentationTimeline.getDuration();1/0>gn?this.g.N.Aa(gn):this.g.N.Aa(Math.pow(2,32))};function _I(gn,bn){var wn,In,Nn,jn,Vn;return hs(function(Hn){switch(Hn.g){case 1:if(ll(gn.h),bn.ra||bn.Ka==null||bn.ac)return Hn.return();if(bn.Ka=null,!bn.bb){Hn.A(2);break}return Qn(Hn,uw(gn,bn,bn.hd,bn.Nc),3);case 3:return Hn.return();case 2:if(bn.stream.segmentIndex){Hn.A(4);break}return wn=bn.stream,Qn(Hn,bn.stream.createSegmentIndex(),5);case 5:if(wn!=bn.stream)return wn.closeSegmentIndex&&wn.closeSegmentIndex(),bn.ra||bn.Ka||fy(gn,bn,0),Hn.return();case 4:$s(Hn,6),In=EI(gn,bn),In!=null&&(fy(gn,bn,In),bn.nc=!1),gs(Hn,7);break;case 6:return Nn=Ss(Hn),Qn(Hn,$T(gn,Nn),8);case 8:return Hn.return();case 7:if(jn=Array.from(gn.j.values()),!gn.B||!jn.every(function(Xn){return Xn.endOfStream})){Hn.A(0);break}return Qn(Hn,gn.g.N.endOfStream(),10);case 10:ll(gn.h),Vn=gn.g.N.getDuration(),Vn!=0&&Vn<gn.m.presentationTimeline.getDuration()&&gn.m.presentationTimeline.Aa(Vn),ms(Hn)}})}function EI(gn,bn){if(ow(bn))return GM(gn.g.N,bn.stream.originalId||""),null;bn.type==Zu&&bS(gn.g.N);var wn=gn.g.Sc(),In=bn.pa?bn.pa.endTime:wn,Nn=VM(gn.g.N,bn.type,wn),jn=Math.max(gn.m.minBufferTime||0,gn.i.rebufferingGoal,gn.i.bufferingGoal)*gn.u,Vn=gn.m.presentationTimeline.getDuration()-In,Hn=hT(gn.g.N,bn.type);if(1e-6>Vn&&Hn)return bn.endOfStream=!0,bn.type=="video"&&(gn=gn.j.get(Zu))&&ow(gn)&&(gn.endOfStream=!0),null;if(bn.endOfStream=!1,Nn>=jn)return gn.i.updateIntervalSeconds/2;if(Nn=ST(gn,bn,wn,Hn),!Nn)return gn.i.updateIntervalSeconds;for(jn=1/0,Vn=Array.from(gn.j.values()),Vn=Dn(Vn),Hn=Vn.next();!Hn.done;Hn=Vn.next())Hn=Hn.value,ow(Hn)||Hn.aa&&!Hn.aa.current()||(jn=Math.min(jn,Hn.pa?Hn.pa.endTime:wn));return In>=jn+gn.m.presentationTimeline.g?gn.i.updateIntervalSeconds:(fE(gn,bn,wn,Nn).catch(function(){}),null)}function ST(gn,bn,wn,In){if(bn.aa)return bn.aa.current();if(bn.pa||In)return wn=bn.pa?bn.pa.endTime:In,bn.Rd=!0,bn.aa=bn.stream.segmentIndex.Cb(wn),bn.aa&&bn.aa.next().value;gn=gn.i.inaccurateManifestTolerance,In=Math.max(wn-gn,0);var Nn=null;return gn&&(bn.aa=bn.stream.segmentIndex.Cb(In),Nn=bn.aa&&bn.aa.next().value),Nn||(bn.aa=bn.stream.segmentIndex.Cb(wn),Nn=bn.aa&&bn.aa.next().value),Nn}function fE(gn,bn,wn,In){var Nn,jn,Vn,Hn,Xn,ns,ss,ps,fs,vs,Is,Ls,ws,Rs,Zs;return hs(function(Fs){switch(Fs.g){case 1:if(Nn=tl,jn=bn.stream,Vn=bn.aa,bn.ra=!0,$s(Fs,2),In.Eb()==2)throw new Vs(1,1,1011);return Qn(Fs,SI(gn,bn,In),4);case 4:return ll(gn.h),gn.s?Fs.return():(Hn=jn.mimeType=="video/mp4"||jn.mimeType=="audio/mp4",Xn=pn.ReadableStream,gn.i.lowLatencyMode&&Xn&&Hn&&!In.m?(ps=new Uint8Array(0),vs=fs=!1,Is=function(Ws){var Gs,eu,au;return hs(function(du){return fs||(vs=!0,ll(gn.h),gn.s)?du.return():(ps=WM(ps,Ws),Gs=!1,eu=0,new Rl().box("mdat",function(pu){eu=pu.size+pu.start,Gs=!0}).parse(ps,!1,!0),Gs?(au=ps.subarray(0,eu),ps=ps.subarray(eu),Qn(du,aw(gn,bn,wn,jn,In,au),0)):du.A(0))})},Qn(Fs,sw(gn,bn,In,Is),11)):(ns=sw(gn,bn,In),Qn(Fs,ns,7)));case 7:if(ss=Fs.h,ll(gn.h),gn.s)return Fs.return();if(!In.m){Fs.A(8);break}return Qn(Fs,KM(ss,In,Vn),9);case 9:ss=Fs.h;case 8:return ll(gn.h),bn.bb?(bn.ra=!1,fy(gn,bn,0),Fs.return()):Qn(Fs,aw(gn,bn,wn,jn,In,ss),6);case 11:if(Ls=Fs.h,vs){Fs.A(6);break}return fs=!0,ll(gn.h),gn.s?Fs.return():bn.bb?(bn.ra=!1,fy(gn,bn,0),Fs.return()):Qn(Fs,aw(gn,bn,wn,jn,In,Ls),6);case 6:if(ll(gn.h),gn.s)return Fs.return();bn.pa=In,Vn.next(),bn.ra=!1,bn.be=!1,ws=gn.g.N.Ma(),Rs=ws[bn.type],JSON.stringify(Rs),bn.bb||gn.g.Wd(In.startTime,In.endTime,bn.type),fy(gn,bn,0),gs(Fs,0);break;case 2:if(Zs=Ss(Fs),ll(gn.h,Zs),gn.s)return Fs.return();if(bn.ra=!1,Zs.code==7001)bn.ra=!1,PS(bn),fy(gn,bn,0),Fs.A(0);else if(bn.type==Nn.X&&gn.i.ignoreTextStreamFailures)gn.j.delete(Nn.X),Fs.A(0);else if(Zs.code==3017)qM(gn,bn,Zs),Fs.A(0);else return bn.nc=!0,Zs.severity=2,Qn(Fs,$T(gn,Zs),0)}})}function KM(gn,bn,wn){var In,Nn,jn,Vn;return hs(function(Hn){if(Hn.g==1)return In=bn.m,In.cryptoKey?Hn.A(2):Qn(Hn,In.fetchKey(),3);if(Nn=In.iv,!Nn)for(Nn=Pu(new ArrayBuffer(16)),jn=In.firstMediaSequenceNumber+wn.g,Vn=Nn.byteLength-1;0<=Vn;Vn--)Nn[Vn]=jn&255,jn>>=8;return Hn.return(pn.crypto.subtle.decrypt({name:"AES-CBC",iv:Nn},In.cryptoKey,gn))})}function WM(gn,bn){var wn=new Uint8Array(gn.length+bn.length);return wn.set(gn),wn.set(bn,gn.length),wn}function qM(gn,bn,wn){if(!Array.from(gn.j.values()).some(function(Nn){return Nn!=bn&&Nn.be})){var In=Math.round(100*gn.u);if(20<In)gn.u-=.2;else if(4<In)gn.u-=.04;else{bn.nc=!0,gn.s=!0,gn.g.onError(wn);return}bn.be=!0}fy(gn,bn,4)}function SI(gn,bn,wn){var In,Nn,jn,Vn,Hn,Xn,ns,ss;return hs(function(ps){return In=[],Nn=Math.max(0,wn.appendWindowStart-.1),jn=wn.appendWindowEnd+.01,Vn=wn.timestampOffset,(Vn!=bn.Kd||Nn!=bn.Jd||jn!=bn.Id)&&(Hn=function(){var fs;return hs(function(vs){if(vs.g==1)return $s(vs,2),bn.Jd=Nn,bn.Id=jn,bn.Kd=Vn,Qn(vs,oI(gn.g.N,bn.type,Vn,Nn,jn,gn.m.sequenceMode),4);if(vs.g!=2)return gs(vs,0);throw fs=Ss(vs),bn.Jd=null,bn.Id=null,bn.Kd=null,fs})},In.push(Hn())),!Rx(wn.h,bn.Zc)&&(bn.Zc=wn.h)&&(Xn=sw(gn,bn,wn.h),ns=function(){var fs,vs,Is,Ls;return hs(function(ws){switch(ws.g){case 1:return $s(ws,2),Qn(ws,Xn,4);case 4:return fs=ws.h,ll(gn.h),vs=new Rl,vs.box("moov",Gl).box("trak",Gl).box("mdia",Gl).R("mdhd",function(Rs){Rs=SS(Rs.reader||0,Rs.version||0),wn.h.timescale=Rs.timescale}).parse(fs),Is=bn.stream.closedCaptions&&0<bn.stream.closedCaptions.size,Qn(ws,gn.g.xe(bn.type,fs),5);case 5:return Qn(ws,aI(gn.g.N,bn.type,fs,null,Is),6);case 6:gs(ws,0);break;case 2:throw Ls=Ss(ws),bn.Zc=null,Ls}})},gn.g.eg(wn.startTime,wn.h),In.push(ns())),ss=bn.pa?bn.pa.j:null,gn.m.sequenceMode?(wn.j!=ss||bn.Rd)&&(bn.Rd=!1,In.push(xS(gn.g.N,bn.type,wn.startTime))):wn.j!=ss&&In.push(xS(gn.g.N,bn.type,wn.timestampOffset)),Qn(ps,Promise.all(In),0)})}function aw(gn,bn,wn,In,Nn,jn){var Vn,Hn,Xn,ns,ss,ps;return hs(function(fs){switch(fs.g){case 1:return Vn=In.closedCaptions&&0<In.closedCaptions.size,Xn=In.emsgSchemeIdUris!=null&&0<In.emsgSchemeIdUris.length||gn.i.dispatchAllEmsgBoxes,ns=gn.i.parsePrftBox&&!gn.D,(Xn||ns)&&(Hn=new Rl),Xn&&Hn.R("emsg",function(vs){var Is=In.emsgSchemeIdUris;if(vs.version===0)var Ls=vs.reader.sc(),ws=vs.reader.sc(),Rs=vs.reader.K(),Zs=vs.reader.K(),Fs=vs.reader.K(),Ws=vs.reader.K(),Gs=Nn.startTime+Zs/Rs;else Rs=vs.reader.K(),Gs=vs.reader.$a()/Rs+Nn.timestampOffset,Zs=Gs-Nn.startTime,Fs=vs.reader.K(),Ws=vs.reader.K(),Ls=vs.reader.sc(),ws=vs.reader.sc();vs=vs.reader.Za(vs.reader.S.byteLength-vs.reader.Z()),(Is&&Is.includes(Ls)||gn.i.dispatchAllEmsgBoxes)&&(Ls=="urn:mpeg:dash:event:2012"?gn.g.fg():Ls=="https://aomedia.org/emsg/ID3"?(Is=aE(vs),Is.length&&Nn&&gn.g.gg([{cueTime:Nn.startTime,data:vs,frames:Is,dts:Nn.startTime,pts:Nn.startTime}],0,Nn.endTime)):(Is=new Map().set("detail",{startTime:Gs,endTime:Gs+Fs/Rs,schemeIdUri:Ls,value:ws,timescale:Rs,presentationTimeDelta:Zs,eventDuration:Fs,id:Ws,messageData:vs}),Is=new Ju("emsg",Is),gn.g.onEvent(Is)))}),ns&&Hn.R("prft",function(vs){e:{if(!gn.D&&Nn.h.timescale){vs.reader.K();var Is=vs.reader.K(),Ls=vs.reader.K();if(Is=1e3*Is+Ls/Math.pow(2,32)*1e3,vs.version===0)var ws=vs.reader.K();else try{ws=vs.reader.$a()}catch{gn.D=!0,ws=void 0;break e}vs=new Date(new Date(Date.UTC(1900,0,1,0,0,0)).getTime()+Is).getTime(),ws=new Map().set("detail",{wallClockTime:vs,programStartDate:new Date(vs-ws/Nn.h.timescale*1e3)}),ws=new Ju("prft",ws),gn.g.onEvent(ws),gn.D=!0}ws=void 0}return ws}),(Xn||ns)&&Hn.parse(jn),Qn(fs,YM(gn,bn,wn),2);case 2:return ll(gn.h),ss=bn.vc,bn.vc=!1,ps=bn.ve,bn.ve=!1,Qn(fs,gn.g.xe(bn.type,jn),3);case 3:return Qn(fs,aI(gn.g.N,bn.type,jn,Nn,Vn,ss,ps),4);case 4:ll(gn.h),ms(fs)}})}function YM(gn,bn,wn){var In,Nn,jn,Vn;return hs(function(Hn){if(Hn.g==1)return In=Math.max(gn.i.bufferBehind,gn.m.presentationTimeline.g),Nn=iI(gn.g.N,bn.type),Nn==null?Hn.return():(jn=wn-Nn,Vn=jn-In,.01>=Vn?Hn.return():Qn(Hn,gn.g.N.remove(bn.type,Nn,Nn+Vn),2));ll(gn.h),ms(Hn)})}function ow(gn){return gn&&gn.type==Zu&&(gn.stream.mimeType=="application/cea-608"||gn.stream.mimeType=="application/cea-708")}function sw(gn,bn,wn,In){var Nn,jn,Vn,Hn,Xn;return hs(function(ns){return ns.g==1?(Nn=Fy,jn=nw(wn.ya(),wn.Ba,wn.la,gn.i.retryParameters,In),Vn=bn.stream,gn.g.modifySegmentRequest(jn,{type:Vn.type,init:wn instanceof Hm,duration:wn.endTime-wn.startTime,mimeType:Vn.mimeType,codecs:Vn.codecs,bandwidth:Vn.bandwidth}),Hn=gn.g.kb.request(Nn,jn),bn.ta=Hn,Qn(ns,Hn.promise,2)):(Xn=ns.h,bn.ta=null,ns.return(Xn.data))})}function uw(gn,bn,wn,In){var Nn,jn;return hs(function(Vn){if(Vn.g==1)return bn.bb=!1,bn.hd=!1,bn.Nc=0,bn.ac=!0,bn.pa=null,bn.Zc=null,bn.aa=null,In?(Nn=gn.g.Sc(),jn=gn.g.N.getDuration(),Qn(Vn,gn.g.N.remove(bn.type,Nn+In,jn),3)):Qn(Vn,jx(gn.g.N,bn.type),4);if(Vn.g!=3)return ll(gn.h),wn?Qn(Vn,gn.g.N.flush(bn.type),3):Vn.A(3);ll(gn.h),bn.ac=!1,bn.endOfStream=!1,bn.ra||bn.Ka||fy(gn,bn,0),ms(Vn)})}function fy(gn,bn,wn){var In=bn.type;(In!=Zu||gn.j.has(In))&&(bn.Ka=new ay(function(){var Nn;return hs(function(jn){if(jn.g==1)return $s(jn,2),Qn(jn,_I(gn,bn),4);if(jn.g!=2)return gs(jn,0);Nn=Ss(jn),gn.g&&gn.g.onError(Nn),ms(jn)})}).O(wn))}function PS(gn){gn.Ka!=null&&(gn.Ka.stop(),gn.Ka=null)}function $I(gn){return hs(function(bn){return gn.ta?Qn(bn,gn.ta.abort(),0):bn.A(0)})}function $T(gn,bn){return hs(function(wn){if(wn.g==1)return Qn(wn,iS(gn.G),2);ll(gn.h),gn.g.onError(bn),bn.handled||gn.i.failureCallback(bn),ms(wn)})}function TI(gn,bn){var wn=y_(),In=this;this.j=bn,this.i=gn,this.l=wn,this.o=null,this.m=[],this.h=this.g=null,this.u=Promise.resolve().then(function(){return cw(In)}),this.s=new gm(function(){return lw(In)})}TI.prototype.destroy=function(){return this.s.destroy()};function lw(gn){var bn,wn,In;return hs(function(Nn){if(Nn.g==1)return gn.h&&gn.h.abort(),pE(gn),Qn(Nn,gn.u,2);for(gn.g&&gn.g.Ia.mb(),bn=Dn(gn.m),wn=bn.next();!wn.done;wn=bn.next())In=wn.value,In.Ia.mb();gn.g=null,gn.m=[],gn.j=null,ms(Nn)})}function n0(gn,bn){var wn={Jb:function(){},bd:function(){},mb:function(){},onError:function(){},dd:function(){},th:function(){}};return gn.m.push({create:bn,Ia:wn}),gn.h&&gn.h.abort(),pE(gn),wn}function cw(gn){return hs(function(bn){if(gn.s.g)bn=bn.A(0);else{if(gn.m.length==0||gn.g&&!gn.g.hb)var wn=!1;else{gn.g&&(gn.g.Ia.mb(),gn.g=null),wn=gn.m.shift();var In=wn.create(gn.l);In?(wn.Ia.Jb(),gn.g={node:In.node,payload:In.payload,hb:In.hb,Ia:wn.Ia}):wn.Ia.dd(),wn=!0}wn?wn=Promise.resolve():gn.g?wn=py(gn):(gn.j.dg(gn.i),gn.o=new bl,wn=gn.o),bn=Qn(bn,wn,1)}return bn})}function py(gn){var bn,wn;return hs(function(In){switch(In.g){case 1:return gn.i=gn.j.Lf(gn.i,gn.l,gn.g.node,gn.g.payload),$s(In,2),gn.h=gn.j.xf(gn.i,gn.l,gn.g.payload),Qn(In,gn.h.promise,4);case 4:gn.h=null,gn.i==gn.g.node&&(gn.g.Ia.bd(),gn.g=null),gs(In,0);break;case 2:return bn=Ss(In),bn.code==7001?gn.g.Ia.mb():gn.g.Ia.onError(bn),gn.g=null,gn.h=null,wn=gn,Qn(In,gn.j.handleError(gn.l,bn),5);case 5:wn.i=In.h,ms(In)}})}function pE(gn){gn.o&&(gn.o.resolve(),gn.o=null)}function dw(gn){var bn=[],wn=700<=gn.fontWeight,In=gn.fontStyle=="italic",Nn=gn.textDecoration.includes("underline");return wn&&bn.push("b"),In&&bn.push("i"),Nn&&bn.push("u"),wn=bn.reduce(function(jn,Vn){return jn+"<"+Vn+">"},""),bn=bn.reduceRight(function(jn,Vn){return jn+"</"+Vn+">"},""),gn.lineBreak?`
`:gn.nestedCues.length?gn.nestedCues.map(dw).join(""):wn+gn.payload+bn}function TT(gn,bn){gn=Dn(gn);for(var wn=gn.next();!wn.done;wn=gn.next())if(wn=wn.value,wn.isContainer)TT(wn.nestedCues,bn);else{var In=wn.clone();In.nestedCues=[],In.payload=dw(wn),bn.push(In)}return bn}function bm(gn){this.g=null;for(var bn=Dn(Array.from(gn.textTracks)),wn=bn.next();!wn.done;wn=bn.next())wn=wn.value,wn.mode="disabled",wn.label=="Shaka Player TextTrack"&&(this.g=wn);this.g||(this.g=gn.addTextTrack("subtitles","Shaka Player TextTrack")),this.g.mode="hidden"}En=bm.prototype,En.remove=function(gn,bn){return this.g?(hE(this.g,function(wn){return wn.startTime<bn&&wn.endTime>gn}),!0):!1},En.append=function(gn){var bn=TT(gn,[]),wn=[];gn=this.g.cues?Array.from(this.g.cues):[];var In={};bn=Dn(bn);for(var Nn=bn.next();!Nn.done;In={sb:In.sb},Nn=bn.next())In.sb=Nn.value,gn.some(function(jn){return function(Vn){return Vn.startTime==jn.sb.startTime&&Vn.endTime==jn.sb.endTime&&Vn.text==jn.sb.payload}}(In))||(Nn=XM(In.sb))&&wn.push(Nn);for(gn=wn.slice().sort(function(jn,Vn){return jn.startTime!=Vn.startTime?jn.startTime-Vn.startTime:jn.endTime!=Vn.endTime?jn.endTime-Vn.startTime:"line"in VTTCue.prototype?wn.indexOf(Vn)-wn.indexOf(jn):wn.indexOf(jn)-wn.indexOf(Vn)}),gn=Dn(gn),In=gn.next();!In.done;In=gn.next())this.g.addCue(In.value)},En.destroy=function(){return this.g&&(hE(this.g,function(){return!0}),this.g.mode="disabled"),this.g=null,Promise.resolve()},En.isTextVisible=function(){return this.g.mode=="showing"},En.setTextVisibility=function(gn){this.g.mode=gn?"showing":"hidden"};function XM(gn){if(gn.startTime>=gn.endTime)return null;var bn=new VTTCue(gn.startTime,gn.endTime,gn.payload);bn.lineAlign=gn.lineAlign,bn.positionAlign=gn.positionAlign,gn.size&&(bn.size=gn.size);try{bn.align=gn.textAlign}catch{}return gn.textAlign=="center"&&bn.align!="center"&&(bn.align="middle"),gn.writingMode=="vertical-lr"?bn.vertical="lr":gn.writingMode=="vertical-rl"&&(bn.vertical="rl"),gn.lineInterpretation==1&&(bn.snapToLines=!1),gn.line!=null&&(bn.line=gn.line),gn.position!=null&&(bn.position=gn.position),bn}function hE(gn,bn){var wn=gn.mode;gn.mode=wn=="showing"?"showing":"hidden";for(var In=Dn(Array.from(gn.cues)),Nn=In.next();!Nn.done;Nn=In.next())(Nn=Nn.value)&&bn(Nn)&&gn.removeCue(Nn);gn.mode=wn}Ys("shaka.text.SimpleTextDisplayer",bm),bm.prototype.setTextVisibility=bm.prototype.setTextVisibility,bm.prototype.isTextVisible=bm.prototype.isTextVisible,bm.prototype.destroy=bm.prototype.destroy,bm.prototype.append=bm.prototype.append,bm.prototype.remove=bm.prototype.remove;function kI(){}function kT(gn){for(;gn.firstChild;)gn.removeChild(gn.firstChild)}Ys("shaka.util.Dom",kI),kI.removeAllChildren=kT;function xm(gn,bn){var wn=this;this.j=!1,this.i=[],this.B=gn,this.m=bn,this.g=document.createElement("div"),this.g.classList.add("shaka-text-container"),this.g.style.textAlign="center",this.g.style.display="flex",this.g.style.flexDirection="column",this.g.style.alignItems="center",this.g.style.justifyContent="flex-end",this.m.appendChild(this.g),this.u=new Hu(function(){rm(wn)}).Ca(.25),this.h=new Map,this.s=new jl,this.s.C(document,"fullscreenchange",function(){rm(wn,!0)}),this.l=null,"ResizeObserver"in pn&&(this.l=new ResizeObserver(function(){rm(wn,!0)}),this.l.observe(this.g)),this.o=new Map}En=xm.prototype,En.append=function(gn){var bn=[].concat(Kn(this.i)),wn={};gn=Dn(gn);for(var In=gn.next();!In.done;wn={Cc:wn.Cc},In=gn.next())wn.Cc=In.value,bn.some(function(Nn){return function(jn){return Iu(jn,Nn.Cc)}}(wn))||this.i.push(wn.Cc);rm(this)},En.destroy=function(){this.m.removeChild(this.g),this.g=null,this.j=!1,this.i=[],this.u&&this.u.stop(),this.h.clear(),this.s&&(this.s.release(),this.s=null),this.l&&(this.l.disconnect(),this.l=null)},En.remove=function(gn,bn){if(!this.g)return!1;var wn=this.i.length;return this.i=this.i.filter(function(In){return In.startTime<gn||In.endTime>=bn}),rm(this,wn>this.i.length),!0},En.isTextVisible=function(){return this.j},En.setTextVisibility=function(gn){this.j=gn};function bI(gn,bn){for(;bn!=null;){if(bn==gn.g)return!0;bn=bn.parentElement}return!1}function bT(gn,bn,wn,In,Nn){var jn=!1,Vn=[],Hn=[];bn=Dn(bn);for(var Xn=bn.next();!Xn.done;Xn=bn.next()){Xn=Xn.value,Nn.push(Xn);var ns=gn.h.get(Xn),ss=Xn.startTime<=In&&Xn.endTime>In,ps=ns?ns.df:null;ns&&(Vn.push(ns.Bd),ns.tc&&Vn.push(ns.tc),ss||(jn=!0,gn.h.delete(Xn),ns=null)),ss&&(Hn.push(Xn),ns?bI(gn,ps)||(jn=!0):(QM(gn,Xn,Nn),ns=gn.h.get(Xn),ps=ns.df,jn=!0)),0<Xn.nestedCues.length&&ps&&bT(gn,Xn.nestedCues,ps,In,Nn),Nn.pop()}if(jn){for(In=Dn(Vn),Nn=In.next();!Nn.done;Nn=In.next())Nn=Nn.value,Nn.parentElement&&Nn.parentElement.removeChild(Nn);for(Hn.sort(function(fs,vs){return fs.startTime!=vs.startTime?fs.startTime-vs.startTime:fs.endTime-vs.endTime}),Hn=Dn(Hn),Xn=Hn.next();!Xn.done;Xn=Hn.next())In=gn.h.get(Xn.value),In.tc?(wn.appendChild(In.tc),In.tc.appendChild(In.Bd)):wn.appendChild(In.Bd)}}function rm(gn,bn){if(gn.g){var wn=gn.B.currentTime;if(!gn.j||bn!==void 0&&bn){bn=Dn(gn.o.values());for(var In=bn.next();!In.done;In=bn.next())kT(In.value);kT(gn.g),gn.h.clear(),gn.o.clear()}if(gn.j){bn=new Map,In=Dn(gn.h.keys());for(var Nn=In.next();!Nn.done;Nn=In.next())Nn=Nn.value,bn.set(Nn,gn.h.get(Nn));bT(gn,gn.i,gn.g,wn,[])}}}function QM(gn,bn,wn){var In=1<wn.length,Nn=In?"span":"div";bn.lineBreak&&(Nn="br"),In=!In&&0<bn.nestedCues.length;var jn=document.createElement(Nn);if(Nn!="br"&&xI(gn,jn,bn,wn,In),wn=null,bn.region&&bn.region.id)if(wn=bn.region,Nn=wn.id+"_"+wn.width+"x"+wn.height+(wn.heightUnits==Zl?"%":"px")+"-"+wn.viewportAnchorX+"x"+wn.viewportAnchorY+(wn.viewportAnchorUnits==Zl?"%":"px"),gn.o.has(Nn))wn=gn.o.get(Nn);else{var Vn=document.createElement("span"),Hn=wn.heightUnits==Zl?"%":"px",Xn=wn.widthUnits==Zl?"%":"px",ns=wn.viewportAnchorUnits==Zl?"%":"px";Vn.id="shaka-text-region---"+Nn,Vn.classList.add("shaka-text-region"),Vn.style.height=wn.height+Hn,Vn.style.width=wn.width+Xn,Vn.style.position="absolute",Vn.style.top=wn.viewportAnchorY+ns,Vn.style.left=wn.viewportAnchorX+ns,Vn.style.display="flex",Vn.style.flexDirection="column",Vn.style.alignItems="center",Vn.style.justifyContent=bn.displayAlign=="before"?"flex-start":bn.displayAlign=="center"?"center":"flex-end",gn.o.set(Nn,Vn),wn=Vn}Nn=jn,In&&(Nn=document.createElement("span"),Nn.classList.add("shaka-text-wrapper"),Nn.style.backgroundColor=bn.backgroundColor,Nn.style.lineHeight="normal",jn.appendChild(Nn)),gn.h.set(bn,{Bd:jn,df:Nn,tc:wn})}function xI(gn,bn,wn,In,Nn){var jn=bn.style,Vn=wn.nestedCues.length==0,Hn=1<In.length;jn.whiteSpace="pre-wrap";var Xn=wn.payload.replace(/\s+$/g,function(ss){return" ".repeat(ss.length)});if(jn.webkitTextStrokeColor=wn.textStrokeColor,jn.webkitTextStrokeWidth=wn.textStrokeWidth,jn.color=wn.color,jn.direction=wn.direction,jn.opacity=wn.opacity,jn.paddingLeft=xT(wn.linePadding,wn,gn.m),jn.paddingRight=xT(wn.linePadding,wn,gn.m),jn.textShadow=wn.textShadow,wn.backgroundImage)jn.backgroundImage="url('"+wn.backgroundImage+"')",jn.backgroundRepeat="no-repeat",jn.backgroundSize="contain",jn.backgroundPosition="center",jn.width="100%",jn.height="100%";else{if(wn.nestedCues.length)var ns=bn;else ns=document.createElement("span"),bn.appendChild(ns);wn.border&&(ns.style.border=wn.border),Nn||((bn=Au(In,function(ss){return ss.backgroundColor}))?ns.style.backgroundColor=bn:Xn&&(ns.style.backgroundColor="rgba(0, 0, 0, 0.8)")),Xn&&(ns.textContent=Xn)}Hn&&!In[In.length-1].isContainer?jn.display="inline":(jn.display="flex",jn.flexDirection="column",jn.alignItems="center",jn.justifyContent=wn.displayAlign=="before"?"flex-start":wn.displayAlign=="center"?"center":"flex-end"),Vn||(jn.margin="0"),jn.fontFamily=wn.fontFamily,jn.fontWeight=wn.fontWeight.toString(),jn.fontStyle=wn.fontStyle,jn.letterSpacing=wn.letterSpacing,jn.fontSize=xT(wn.fontSize,wn,gn.m),wn.line!=null&&wn.lineInterpretation==1&&(jn.position="absolute",wn.writingMode==$v?(jn.width="100%",wn.lineAlign==Tv?jn.top=wn.line+"%":wn.lineAlign=="end"&&(jn.bottom=100-wn.line+"%")):wn.writingMode=="vertical-lr"?(jn.height="100%",wn.lineAlign==Tv?jn.left=wn.line+"%":wn.lineAlign=="end"&&(jn.right=100-wn.line+"%")):(jn.height="100%",wn.lineAlign==Tv?jn.right=wn.line+"%":wn.lineAlign=="end"&&(jn.left=100-wn.line+"%"))),jn.lineHeight=wn.lineHeight,wn.position!=null&&(wn.writingMode==$v?jn.paddingLeft=wn.position:jn.paddingTop=wn.position),wn.positionAlign=="line-left"?jn.cssFloat="left":wn.positionAlign=="line-right"&&(jn.cssFloat="right"),jn.textAlign=wn.textAlign,jn.textDecoration=wn.textDecoration.join(" "),jn.writingMode=wn.writingMode,"writingMode"in document.documentElement.style&&jn.writingMode==wn.writingMode||(jn.webkitWritingMode=wn.writingMode),wn.size&&(wn.writingMode==$v?jn.width=wn.size+"%":jn.height=wn.size+"%")}function xT(gn,bn,wn){var In=(In=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(gn))?{value:Number(In[1]),unit:In[2]}:null;if(!In)return gn;var Nn=In.value;switch(In.unit){case"%":return Nn/100*wn.clientHeight/bn.cellResolution.rows+"px";case"c":return wn.clientHeight*Nn/bn.cellResolution.rows+"px";default:return gn}}function Au(gn,bn){for(var wn=gn.length-1;0<=wn;wn--){var In=bn(gn[wn]);if(In||In===0)return In}return null}Ys("shaka.text.UITextDisplayer",xm),xm.prototype.setTextVisibility=xm.prototype.setTextVisibility,xm.prototype.isTextVisible=xm.prototype.isTextVisible,xm.prototype.remove=xm.prototype.remove,xm.prototype.destroy=xm.prototype.destroy,xm.prototype.append=xm.prototype.append;function Tp(gn,bn){function wn(jn){for(var Vn=jn,Hn=Dn(bn),Xn=Hn.next();!Xn.done;Xn=Hn.next())Xn=Xn.value,Xn.end&&Xn.start<jn&&(Vn+=Xn.end-Xn.start);return jn=Math.floor(Vn/3600),Hn=Math.floor(Vn/60%60),Xn=Math.floor(Vn%60),Vn=Math.floor(1e3*Vn%1e3),(10>jn?"0":"")+jn+":"+(10>Hn?"0":"")+Hn+":"+(10>Xn?"0":"")+Xn+"."+(100>Vn?10>Vn?"00":"0":"")+Vn}var In=TT(gn,[]);gn=`WEBVTT

`,In=Dn(In);for(var Nn=In.next();!Nn.done;Nn=In.next())Nn=Nn.value,gn+=wn(Nn.startTime)+" --> "+wn(Nn.endTime)+function(jn){var Vn=[];switch(jn.textAlign){case"left":Vn.push("align:left");break;case"right":Vn.push("align:right");break;case Qp:Vn.push("align:middle");break;case"start":Vn.push("align:start");break;case"end":Vn.push("align:end")}switch(jn.writingMode){case"vertical-lr":Vn.push("vertical:lr");break;case"vertical-rl":Vn.push("vertical:rl")}return Vn.length?" "+Vn.join(" "):""}(Nn)+`
`,gn+=Nn.payload+`

`;return gn}Ys("shaka.text.WebVttGenerator",function(){});function i0(gn,bn){this.h=gn,this.g=bn,this.j="",this.o=void 0,this.i=!1,this.m=!0,this.l=!1}function wm(gn,bn,wn){try{if(gn.g.enabled){var In={d:1e3*wn.duration,st:gn.h.U()?nR:AT};In.ot=JM(wn);var Nn=In.ot===mE||In.ot===mw||In.ot===gE||In.ot===yw;Nn&&(In.bl=eR(gn,wn.type)),wn.bandwidth&&(In.br=wn.bandwidth/1e3),Nn&&In.ot!==yw&&(In.tb=fw(gn,In.ot)/1e3),a0(gn,bn,In)}}catch(jn){cp("CMCD_SEGMENT_ERROR","Could not generate segment CMCD data.",jn)}}function ZM(gn,bn,wn){try{if(!gn.g.enabled)return bn;var In=wT(gn);e:{switch(wn){case"video/webm":case"video/mp4":var Nn=gE;break e;case"application/x-mpegurl":Nn=hw;break e}Nn=void 0}In.ot=Nn,In.su=!0;var jn=CT(In);return pw(bn,jn)}catch(Vn){return cp("CMCD_SRC_ERROR","Could not generate src CMCD data.",Vn),bn}}function wT(gn){return gn.j||(gn.j=gn.g.sessionId||pn.crypto.randomUUID()),{v:1,sf:gn.o,sid:gn.j,cid:gn.g.contentId,mtp:gn.h.getBandwidthEstimate()/1e3}}function a0(gn,bn,wn){wn=wn===void 0?{}:wn;var In=In===void 0?gn.g.useHeaders:In;if(gn.g.enabled){Object.assign(wn,wT(gn)),wn.pr=gn.h.Rc();var Nn=wn.ot===mE||wn.ot===gE;if(gn.l&&Nn&&(wn.bs=!0,wn.su=!0,gn.l=!1),wn.su==null&&(wn.su=gn.m),In)gn=tR(wn),Object.keys(gn).length&&Object.assign(bn.headers,gn);else{var jn=CT(wn);jn&&(bn.uris=bn.uris.map(function(Vn){return pw(Vn,jn)}))}}}function JM(gn){var bn=gn.type;if(gn.init)return rR;if(bn=="video")return gn.codecs.includes(",")?gE:mE;if(bn=="audio")return mw;if(bn=="text")return gn.mimeType==="application/mp4"?yw:gw}function eR(gn,bn){if(bn=gn.h.Ma()[bn],!bn.length)return NaN;var wn=gn.h.getCurrentTime();return(gn=bn.find(function(In){return In.start<=wn&&In.end>=wn}))?1e3*(gn.end-wn):NaN}function fw(gn,bn){var wn=gn.h.Xa();if(!wn.length)return NaN;gn=wn[0],wn=Dn(wn);for(var In=wn.next();!In.done;In=wn.next())In=In.value,In.type==="variant"&&In.bandwidth>gn.bandwidth&&(gn=In);switch(bn){case mE:return gn.videoBandwidth||NaN;case mw:return gn.audioBandwidth||NaN;default:return gn.bandwidth}}function CT(gn){function bn(ps){return 100*wn(ps/100)}function wn(ps){return Math.round(ps)}function In(ps){return!Number.isNaN(ps)&&ps!=null&&ps!==""&&ps!==!1}var Nn=[],jn={br:wn,d:wn,bl:bn,dl:bn,mtp:bn,nor:function(ps){return encodeURIComponent(ps)},rtp:bn,tb:wn},Vn=Object.keys(gn||{}).sort();Vn=Dn(Vn);for(var Hn=Vn.next();!Hn.done;Hn=Vn.next()){Hn=Hn.value;var Xn=gn[Hn];if(In(Xn)&&(Hn!=="v"||Xn!==1)&&(Hn!="pr"||Xn!==1)){var ns=jn[Hn];ns&&(Xn=ns(Xn)),ns=typeof Xn;var ss=void 0;ss=ns==="string"&&Hn!=="ot"&&Hn!=="sf"&&Hn!=="st"?Hn+"="+JSON.stringify(Xn):ns==="boolean"?Hn:ns==="symbol"?Hn+"="+Xn.description:Hn+"="+Xn,Nn.push(ss)}}return Nn.join(",")}function tR(gn){var bn=Object.keys(gn),wn={},In=["Object","Request","Session","Status"],Nn=[{},{},{},{}],jn={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};bn=Dn(bn);for(var Vn=bn.next();!Vn.done;Vn=bn.next())Vn=Vn.value,Nn[jn[Vn]!=null?jn[Vn]:1][Vn]=gn[Vn];for(gn=0;gn<Nn.length;gn++)(jn=CT(Nn[gn]))&&(wn["CMCD-"+In[gn]]=jn);return wn}function pw(gn,bn){return!bn||gn.includes("offline:")?gn:(gn=new Rp(gn),gn.g.set("CMCD",bn),gn.toString())}var hw="m",mw="a",mE="v",gE="av",rR="i",gw="c",yw="tt",AT="v",nR="l";Ys("shaka.util.CmcdManager.StreamingFormat",{DASH:"d",HLS:"h",bh:"s",Xg:"o"});function OS(){}function IT(gn,bn,wn,In,Nn){var jn=Nn in In,Vn=!0,Hn;for(Hn in bn){var Xn=Nn+"."+Hn,ns=jn?In[Nn]:wn[Hn];jn||Hn in wn?bn[Hn]===void 0?ns===void 0||jn?delete gn[Hn]:gn[Hn]=G_(ns):ns.constructor==Object&&bn[Hn]&&bn[Hn].constructor==Object?(gn[Hn]||(gn[Hn]=G_(ns)),Xn=IT(gn[Hn],bn[Hn],ns,In,Xn),Vn=Vn&&Xn):typeof bn[Hn]!=typeof ns||bn[Hn]==null||typeof bn[Hn]!="function"&&bn[Hn].constructor!=ns.constructor?(fl("Invalid config, wrong type for "+Xn),Vn=!1):(typeof wn[Hn]=="function"&&wn[Hn].length!=bn[Hn].length&&$u("Unexpected number of arguments for "+Xn),gn[Hn]=bn[Hn]):(fl("Invalid config, unrecognized key "+Xn),Vn=!1)}return Vn}function RS(gn,bn){for(var wn={},In=wn,Nn=0,jn=0;Nn=gn.indexOf(".",Nn),!(0>Nn);)(Nn==0||gn[Nn-1]!="\\")&&(jn=gn.substring(jn,Nn).replace(/\\\./g,"."),In[jn]={},In=In[jn],jn=Nn+1),Nn+=1;return In[gn.substring(jn).replace(/\\\./g,".")]=bn,wn}function yE(gn,bn){return gn&&bn}Ys("shaka.util.ConfigUtils",OS),OS.convertToConfigObject=RS,OS.mergeConfigObjects=IT;function Cm(){}function wI(gn){return gn=My(gn),new Rp(gn).Ha}function o0(gn,bn,wn){function In(Hn){rp(jn).setUint32(Vn,Hn.byteLength,!0),Vn+=4,jn.set(Pu(Hn),Vn),Vn+=Hn.byteLength}if(!wn||!wn.byteLength)throw new Vs(2,6,6015);var Nn;typeof bn=="string"?Nn=Ku(bn,!0):Nn=bn,gn=My(gn),gn=Ku(gn,!0);var jn=new Uint8Array(12+gn.byteLength+Nn.byteLength+wn.byteLength),Vn=0;return In(gn),In(Nn),In(wn),jn}Ys("shaka.util.FairPlayUtils",Cm),Cm.commonFairPlayResponse=function(gn,bn){if(gn===2){try{var wn=Ou(bn.data)}catch{return}gn=!1,wn=wn.trim(),wn.substr(0,5)==="<ckc>"&&wn.substr(-6)==="</ckc>"&&(wn=wn.slice(5,-6),gn=!0);try{var In=JSON.parse(wn);In.ckc&&(wn=In.ckc,gn=!0),In.CkcMessage&&(wn=In.CkcMessage,gn=!0),In.License&&(wn=In.License,gn=!0)}catch{}gn&&(bn.data=Vu(mm(wn)))}},Cm.conaxFairPlayRequest=function(gn,bn){gn===2&&(bn.headers["Content-Type"]="application/octet-stream")},Cm.ezdrmFairPlayRequest=function(gn,bn){gn===2&&(bn.headers["Content-Type"]="application/octet-stream")},Cm.verimatrixFairPlayRequest=function(gn,bn){gn===2&&(gn=Pu(bn.body),gn=Sm(gn),bn.headers["Content-Type"]="application/x-www-form-urlencoded",bn.body=fp("spc="+gn))},Cm.conaxInitDataTransform=function(gn,bn,wn){if(bn!=="skd")return gn;bn=wn.serverCertificate,wn=My(gn).split("skd://").pop().split("?").shift(),wn=pn.atob(wn);var In=new ArrayBuffer(2*wn.length);In=new Uint16Array(In);for(var Nn=0,jn=wn.length;Nn<jn;Nn++)In[Nn]=wn.charCodeAt(Nn);return o0(gn,In,bn)},Cm.ezdrmInitDataTransform=function(gn,bn,wn){return bn!=="skd"?gn:(bn=wn.serverCertificate,wn=My(gn).split(";").pop(),o0(gn,wn,bn))},Cm.verimatrixInitDataTransform=function(gn,bn,wn){return bn!=="skd"?gn:(bn=wn.serverCertificate,wn=My(gn).split("skd://").pop(),o0(gn,wn,bn))},Cm.initDataTransform=o0,Cm.defaultGetContentId=wI,Cm.isFairPlaySupported=function(){var gn;return hs(function(bn){return bn.g==1?(gn={initDataTypes:["cenc","sinf","skd"],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]},$s(bn,2),Qn(bn,navigator.requestMediaKeySystemAccess("com.apple.fps",[gn]),4)):bn.g!=2?bn.return(!0):(Ss(bn),bn.return(!1))})};function NS(){}function vE(){var gn=1/0;navigator.connection&&navigator.connection.saveData&&(gn=360);var bn={retryParameters:o_(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,initDataTransform:function(Vn,Hn,Xn){return Xn.keySystem=="com.apple.fps.1_0"&&Hn=="skd"&&(Hn=Xn.serverCertificate,Xn=wI(Vn),Vn=o0(Vn,Xn,Hn)),Vn},logLicenseExchange:!1,updateExpirationTime:1,preferredKeySystems:[],keySystemsMapping:{},parseInbandPsshEnabled:Um()},wn={retryParameters:o_(),availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,defaultPresentationDelay:0,segmentRelativeVttTiming:!1,dash:{clockSyncUri:"",ignoreDrmInfo:!1,disableXlinkProcessing:!1,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},manifestPreprocessor:function(Vn){return yE([Vn],Vn)},sequenceMode:!1},hls:{ignoreTextStreamFailures:!1,ignoreImageStreamFailures:!1,defaultAudioCodec:"mp4a.40.2",defaultVideoCodec:"avc1.42E01E",ignoreManifestProgramDateTime:!1,mediaPlaylistFullMimeType:'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"',useSafariBehaviorForLive:!0,liveSegmentsDelay:3}},In={retryParameters:o_(),failureCallback:function(Vn){return yE([Vn])},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.5,durationBackoff:1,forceTransmux:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1,autoLowLatencyMode:!1,forceHTTPS:!1,preferNativeHls:!1,updateIntervalSeconds:1,dispatchAllEmsgBoxes:!1,observeQualityChanges:!1,maxDisabledTime:30,parsePrftBox:!1};(gl("Web0S")||Ep()||gl("CrKey"))&&(In.stallSkip=0);var Nn={trackSelectionCallback:function(Vn){return hs(function(Hn){return Hn.return(Vn)})},downloadSizeCallback:function(Vn){var Hn;return hs(function(Xn){return Xn.g==1?navigator.storage&&navigator.storage.estimate?Qn(Xn,navigator.storage.estimate(),3):Xn.return(!0):(Hn=Xn.h,Xn.return(Hn.usage+Vn<.95*Hn.quota))})},progressCallback:function(Vn,Hn){return yE([Vn,Hn])},usePersistentLicense:!0,numberOfParallelDownloads:5},jn={drm:bn,manifest:wn,streaming:In,mediaSource:{sourceBufferExtraFeatures:""},offline:Nn,abrFactory:function(){return new ql},abr:{enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:gn,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},advanced:{minTotalBytes:128e3,minBytes:16e3,fastHalfLife:2,slowHalfLife:5},restrictToElementSize:!1,restrictToScreenSize:!1,ignoreDevicePixelRatio:!1},autoShowText:3,preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredVideoCodecs:[],preferredAudioCodecs:[],preferForcedSubs:!1,preferredDecodingAttributes:[],restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null},cmcd:{enabled:!1,sessionId:"",contentId:"",useHeaders:!1},lcevc:{enabled:!1,dynamicPerformanceScaling:!0,logLevel:0,drawLogo:!1}};return Nn.trackSelectionCallback=function(Vn){return hs(function(Hn){return Hn.return(vw(Vn,jn.preferredAudioLanguage))})},jn}function _E(gn,bn,wn){var In={".drm.keySystemsMapping":"",".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",sessionType:"",serverCertificate:new Uint8Array(0),serverCertificateUri:"",individualizationServer:""}};return IT(gn,bn,wn||vE(),In,"")}function vw(gn,bn){var wn=gn.filter(function(Vn){return Vn.type=="variant"}),In=[],Nn=Cv(bn,wn.map(function(Vn){return Vn.language}));Nn&&(In=wn.filter(function(Vn){return ml(Vn.language)==Nn})),In.length==0&&(In=wn.filter(function(Vn){return Vn.primary})),In.length==0&&(wn.map(function(Vn){return Vn.language}),In=wn);var jn=In.filter(function(Vn){return Vn.height&&480>=Vn.height});for(jn.length&&(jn.sort(function(Vn,Hn){return Hn.height-Vn.height}),In=jn.filter(function(Vn){return Vn.height==jn[0].height})),bn=[],In.length&&(wn=Math.floor(In.length/2),In.sort(function(Vn,Hn){return Vn.bandwidth-Hn.bandwidth}),bn.push(In[wn])),gn=Dn(gn),In=gn.next();!In.done;In=gn.next())In=In.value,In.type!=Zu&&In.type!="image"||bn.push(In);return bn}Ys("shaka.util.PlayerConfiguration",NS),NS.mergeConfigObjects=_E,NS.createDefault=vE;function DS(){this.g=null,this.h=[]}function s0(gn,bn){if(gn.g==null)gn.g={timestamp:Date.now()/1e3,state:bn,duration:0};else{var wn=Date.now()/1e3;gn.g.duration=wn-gn.g.timestamp,gn.g.state!=bn&&(gn.h.push(gn.g),gn.g={timestamp:wn,state:bn,duration:0})}}function LS(gn,bn){var wn=0;gn.g&&gn.g.state==bn&&(wn+=gn.g.duration),gn=Dn(gn.h);for(var In=gn.next();!In.done;In=gn.next())In=In.value,wn+=In.state==bn?In.duration:0;return wn}function Ky(gn){function bn(jn){return{timestamp:jn.timestamp,state:jn.state,duration:jn.duration}}for(var wn=[],In=Dn(gn.h),Nn=In.next();!Nn.done;Nn=In.next())wn.push(bn(Nn.value));return gn.g&&wn.push(bn(gn.g)),wn}function CI(){this.i=this.h=null,this.g=[]}function u0(gn,bn,wn){gn.i!=bn&&(gn.i=bn,gn.g.push({timestamp:Date.now()/1e3,id:bn.id,type:"text",fromAdaptation:wn,bandwidth:null}))}function PT(){this.u=this.B=this.G=this.D=this.s=this.j=this.F=this.m=this.i=this.M=this.P=this.H=this.J=this.L=this.l=this.o=NaN,this.g=new DS,this.h=new CI}function nu(gn,bn){hl.call(this);var wn=this;this.l=zT,this.Uc=this.g=null,this.ca=!1,this.Xc=new jl,this.Xb=new jl,this.u=new jl,this.Nb=this.i=this.Yc=this.J=this.j=this.ua=this.L=this.bf=this.V=this.Fa=this.M=this.Vc=this.H=this.xb=this.B=this.G=this.m=this.D=null,this.dc=!1,this.Nd=this.s=null,this.Yd=1e9,this.h=SE(this),this.ec={width:1/0,height:1/0},this.o=null,this.ub=new Pl(this.h.preferredAudioLanguage,this.h.preferredVariantRole,this.h.preferredAudioChannelCount),this.vb=this.h.preferredTextLanguage,this.cc=this.h.preferredTextRole,this.$b=this.h.preferForcedSubs,this.Zb=[],this.fc=null,bn&&bn(this),this.D=cR(this),this.D.je(this.h.streaming.forceHTTPS),this.F=null,dv&&(this.F=dv()),this.Xc.C(pn,"online",function(){wn.ce()}),this.P={name:"detach"},this.W={name:"attach"},this.ea={name:"unload"},this.Zd={name:"manifest-parser"},this.Xd={name:"manifest"},this.wb={name:"media-source"},this.Qd={name:"drm-engine"},this.ba={name:"load"},this.de={name:"src-equals-drm-engine"},this.yb={name:"src-equals"};var In=new Map;In.set(this.W,function(Nn,jn){return nv(_w(wn,Nn,jn))}),In.set(this.P,function(Nn){return Nn.mediaElement&&(wn.Xb.nb(),Nn.mediaElement=null),wn.F&&wn.F.release(),wn.g=null,Nn=Promise.resolve(),nv(Nn)}),In.set(this.ea,function(Nn){return nv(AI(wn,Nn))}),In.set(this.wb,function(Nn){return Nn=aR(wn,Nn),nv(Nn)}),In.set(this.Zd,function(Nn,jn){return Nn=Ew(wn,Nn,jn),nv(Nn)}),In.set(this.Xd,function(Nn){return II(wn,Nn)}),In.set(this.Qd,function(Nn){return Nn=iu(wn,Nn),nv(Nn)}),In.set(this.ba,function(Nn,jn){return nv(MT(wn,Nn,jn))}),In.set(this.de,function(Nn,jn){return Nn=oR(wn,Nn,jn),nv(Nn)}),In.set(this.yb,function(Nn,jn){return sp(wn,Nn,jn)}),this.Ga=new TI(this.P,{Lf:function(Nn,jn,Vn,Hn){var Xn=null;return Nn==wn.P&&(Xn=Vn==wn.P?wn.P:wn.W),Nn==wn.W&&(Xn=Vn==wn.P||jn.mediaElement!=Hn.mediaElement?wn.P:Vn==wn.W?wn.W:Vn==wn.wb||Vn==wn.ba?wn.wb:Vn==wn.yb?wn.de:null),Nn==wn.wb&&(Xn=Vn==wn.ba&&jn.mediaElement==Hn.mediaElement?wn.Zd:wn.ea),Nn==wn.Zd&&(Xn=c0(wn.ba,wn.Xd,wn.ea,Vn,jn,Hn)),Nn==wn.Xd&&(Xn=c0(wn.ba,wn.Qd,wn.ea,Vn,jn,Hn)),Nn==wn.Qd&&(Xn=c0(wn.ba,wn.ba,wn.ea,Vn,jn,Hn)),Nn==wn.de&&(Xn=Vn==wn.yb&&jn.mediaElement==Hn.mediaElement?wn.yb:wn.ea),(Nn==wn.ba||Nn==wn.yb)&&(Xn=wn.ea),Nn==wn.ea&&(Xn=Hn.mediaElement&&jn.mediaElement==Hn.mediaElement?wn.W:wn.P),Xn},xf:function(Nn,jn,Vn){return wn.dispatchEvent(op("onstatechange",new Map().set("state",Nn.name))),In.get(Nn)(jn,Vn)},handleError:function(Nn){return hs(function(jn){return jn.g==1?Qn(jn,AI(wn,Nn),2):jn.return(Nn.mediaElement?wn.W:wn.P)})},dg:function(Nn){wn.dispatchEvent(op("onstateidle",new Map().set("state",Nn.name)))}}),this.$e=new Hu(function(){El(wn.i.variants,wn.h.restrictions,wn.ec)&&Vv(wn)}),gn&&this.Yb(gn,!0)}as(nu,hl);function Bv(gn){gn.L!=null&&(gn.L.release(),gn.L=null)}function iR(gn,bn){if(bn.lcevc.enabled){var wn=gn.Xa();wn&&wn[0]&&wn[0].videoMimeType==CE.ts&&(Yl()||navigator.userAgent.match(/Edge\//))&&(bn.streaming.forceTransmux||$u("LCEVC Warning: For MPEG-2 TS decoding the config.streaming.forceTransmux must be enabled.")),Bv(gn),gn.L==null&&(gn.L=new sE(gn.g,gn.bf,bn.lcevc),gn.G&&(gn.G.F=gn.L))}else Bv(gn)}function op(gn,bn){return new Ju(gn,bn)}En=nu.prototype,En.destroy=function(){var gn=this,bn;return hs(function(wn){switch(wn.g){case 1:return gn.l==my?wn.return():(Bv(gn),gn.l=my,bn=n0(gn.Ga,function(){return{node:gn.P,payload:y_(),hb:!1}}),Qn(wn,new Promise(function(In){bn.Jb=function(){},bn.bd=function(){In()},bn.mb=function(){In()},bn.onError=function(){In()},bn.dd=function(){In()}}),2));case 2:return Qn(wn,gn.Ga.destroy(),3);case 3:if(gn.Xc&&(gn.Xc.release(),gn.Xc=null),gn.Xb&&(gn.Xb.release(),gn.Xb=null),gn.u&&(gn.u.release(),gn.u=null),gn.Nd=null,gn.h=null,gn.o=null,gn.Uc=null,gn.V=null,!gn.D){wn.A(4);break}return Qn(wn,gn.D.destroy(),5);case 5:gn.D=null;case 4:gn.s&&(gn.s.release(),gn.s=null),hl.prototype.release.call(gn),ms(wn)}})},En.Yb=function(gn,bn){if(bn=bn===void 0?!0:bn,this.l==my)return Promise.reject(qm());var wn=y_();wn.mediaElement=gn,Ap()||(bn=!1);var In=bn?this.wb:this.W;return gn=n0(this.Ga,function(){return{node:In,payload:wn,hb:!1}}),gn.Jb=function(){},VT(gn)},En.kf=function(gn){this.bf=gn},En.detach=function(){var gn=this;if(this.l==my)return Promise.reject(qm());var bn=n0(this.Ga,function(){return{node:gn.P,payload:y_(),hb:!1}});return bn.Jb=function(){},VT(bn)},En.re=function(gn){var bn=this;if(gn=gn===void 0?!0:gn,this.l==my)return Promise.reject(qm());this.dc=!1,Ap()||(gn=!1),Bv(this);var wn=y_(),In=n0(this.Ga,function(Nn){var jn=Nn.mediaElement&&gn?bn.wb:Nn.mediaElement?bn.W:bn.P;return wn.mediaElement=Nn.mediaElement,{node:jn,payload:wn,hb:!1}});return In.Jb=function(){},VT(In)},En.Eg=function(gn){this.fc=gn},En.load=function(gn,bn,wn){var In=this;if(this.fc=null,this.dc=!1,this.l==my)return Promise.reject(qm());this.dispatchEvent(op("loading"));var Nn=y_();Nn.uri=gn,Nn.ne=Date.now()/1e3,wn&&(Nn.mimeType=wn),bn!==void 0&&(Nn.startTime=bn);var jn=OT(this,Nn)?this.yb:this.ba,Vn=n0(this.Ga,function(Hn){return Hn.mediaElement==null?null:(Nn.mediaElement=Hn.mediaElement,{node:jn,payload:Nn,hb:!0})});return this.o=new PT,this.V=DI(this),Vn.Jb=function(){},new Promise(function(Hn,Xn){Vn.dd=function(){return Xn(new Vs(2,7,7002))},Vn.bd=function(){Hn(),In.dispatchEvent(op("loaded"))},Vn.mb=function(){return Xn(qm())},Vn.onError=function(ns){return Xn(ns)}})};function OT(gn,bn){if(!Ap())return!0;var wn=bn.mimeType,In=bn.uri||"";if(wn||(wn=Q0(In),wn=CE[wn]),wn){if((bn.mediaElement||YE()).canPlayType(wn)=="")return!1;if(!Ap()||!(wn in cy||Q0(In)in q_)||(wn==="application/x-mpegurl"||wn==="application/vnd.apple.mpegurl")&&gn.h.streaming.preferNativeHls)return!0;if(D_())return gn.h.streaming.useNativeHlsOnSafari}return!1}function _w(gn,bn,wn){return bn.mediaElement==null&&(bn.mediaElement=wn.mediaElement,gn.Xb.C(bn.mediaElement,"error",function(){var In=wE(gn);In&&cv(gn,In)})),gn.g=bn.mediaElement,Promise.resolve()}function AI(gn,bn){var wn,In,Nn,jn,Vn,Hn,Xn,ns,ss;return hs(function(ps){switch(ps.g){case 1:return gn.l!=my&&(gn.l=zT),wn=gn.Zb.map(function(fs){return fs()}),gn.Zb=[],Qn(ps,Promise.all(wn),2);case 2:if(gn.dispatchEvent(op("unloading")),bn.mimeType=null,bn.startTime=null,bn.uri=null,gn.Fa&&(gn.Fa.release(),gn.Fa=null),bn.mediaElement&&gn.u.nb(),gn.$e.stop(),gn.xb&&(gn.xb.release(),gn.xb=null),gn.Vc&&(gn.Vc.stop(),gn.Vc=null),!gn.J){ps.A(3);break}return Qn(ps,gn.J.stop(),4);case 4:gn.J=null,gn.Yc=null;case 3:if(!gn.s){ps.A(5);break}return Qn(ps,gn.s.stop(),5);case 5:if(!gn.j){ps.A(7);break}return Qn(ps,gn.j.destroy(),8);case 8:gn.j=null;case 7:if(gn.H&&(gn.H.release(),gn.H=null),gn.B&&(gn.B.release(),gn.B=null),!gn.G){ps.A(9);break}return Qn(ps,gn.G.destroy(),10);case 10:gn.G=null;case 9:if(gn.F&&gn.F.onAssetUnload(),!bn.mediaElement||!bn.mediaElement.src){ps.A(11);break}return Qn(ps,new Promise(function(fs){return new Hu(fs).O(.1)}),12);case 12:for(bn.mediaElement.removeAttribute("src"),bn.mediaElement.load();bn.mediaElement.lastChild;)bn.mediaElement.removeChild(bn.mediaElement.firstChild);case 11:if(!gn.m){ps.A(13);break}return Qn(ps,gn.m.destroy(),14);case 14:gn.m=null;case 13:if(gn.Nb=null,gn.M=null,gn.i){for(In=Dn(gn.i.variants),Nn=In.next();!Nn.done;Nn=In.next())for(jn=Nn.value,Vn=Dn([jn.audio,jn.video]),Hn=Vn.next();!Hn.done;Hn=Vn.next())(Xn=Hn.value)&&Xn.segmentIndex&&Xn.segmentIndex.release();for(ns=Dn(gn.i.textStreams),Hn=ns.next();!Hn.done;Hn=ns.next())ss=Hn.value,ss.segmentIndex&&ss.segmentIndex.release()}gn.i=null,gn.o=new PT,gn.Ud=null,jS(gn),ms(ps)}})}function aR(gn,bn){var wn,In,Nn,jn,Vn;return hs(function(Hn){if(Hn.g==1)return wn=gn.h.textDisplayFactory,In=wn(),gn.Ud=wn,Nn=pR(bn.mediaElement,In,function(Xn,ns,ss){Sw(gn,Xn,ns,ss)},gn.L),Nn.configure(gn.h.mediaSource),jn=gn.h.manifest,Vn=jn.segmentRelativeVttTiming,Nn.H=Vn,Qn(Hn,Nn.J,2);gn.G=Nn,ms(Hn)})}function Ew(gn,bn,wn){var In,Nn,jn,Vn;return hs(function(Hn){if(Hn.g==1)return bn.mimeType=wn.mimeType,bn.uri=wn.uri,In=bn.uri,Nn=gn.D,gn.Nb=In,jn=gn,Qn(Hn,VA(In,Nn,gn.h.manifest.retryParameters,bn.mimeType),2);jn.Yc=Hn.h,gn.J=gn.Yc(),Vn=G_(gn.h.manifest),wn.mediaElement&&wn.mediaElement.nodeName==="AUDIO"&&(Vn.disableVideo=!0),gn.J.configure(Vn),ms(Hn)})}function II(gn,bn){var wn=bn.uri;bn=gn.D,gn.Fa=new e0(function(){return gn.uc()}),gn.Fa.addEventListener("regionadd",function(jn){jn=jn.region,Gv(gn,"timelineregionadded",jn),gn.F&&gn.F.onDashTimedMetadata(jn)}),gn.ua=null,gn.h.streaming.observeQualityChanges&&(gn.ua=new _T(function(){return gn.Ma()}),gn.ua.addEventListener("qualitychange",function(jn){var Vn=jn.quality;jn=jn.position,Vn=new Map().set("mediaQuality",{bandwidth:Vn.bandwidth,audioSamplingRate:Vn.audioSamplingRate,codecs:Vn.codecs,contentType:Vn.contentType,frameRate:Vn.frameRate,height:Vn.height,mimeType:Vn.mimeType,channelsCount:Vn.channelsCount,pixelAspectRatio:Vn.pixelAspectRatio,width:Vn.width}).set("position",jn),gn.dispatchEvent(op("mediaqualitychanged",Vn))}));var In={networkingEngine:bn,modifyManifestRequest:function(jn,Vn){var Hn=gn.V;try{Hn.g.enabled&&(Hn.o=Vn.format,a0(Hn,jn,{ot:hw,su:!Hn.i}))}catch(Xn){cp("CMCD_MANIFEST_ERROR","Could not generate manifest CMCD data.",Xn)}},modifySegmentRequest:function(jn,Vn){wm(gn.V,jn,Vn)},filter:function(jn){return BI(gn,jn)},makeTextStreamsForClosedCaptions:function(jn){return hR(gn,jn)},onTimelineRegionAdded:function(jn){var Vn=gn.Fa;e:{for(var Hn=Dn(Vn.g),Xn=Hn.next();!Xn.done;Xn=Hn.next())if(Xn=Xn.value,Xn.schemeIdUri==jn.schemeIdUri&&Xn.id==jn.id&&Xn.startTime==jn.startTime&&Xn.endTime==jn.endTime){Hn=Xn;break e}Hn=null}Hn==null&&(Vn.g.add(jn),jn=new Ju("regionadd",new Map([["region",jn]])),Vn.dispatchEvent(jn))},onEvent:function(jn){return gn.dispatchEvent(jn)},onError:function(jn){return cv(gn,jn)},isLowLatencyMode:function(){return gn.h.streaming.lowLatencyMode},isAutoLowLatencyMode:function(){return gn.h.streaming.autoLowLatencyMode},enableLowLatencyMode:function(){gn.configure("streaming.lowLatencyMode",!0)},updateDuration:function(){gn.j&&gn.j.updateDuration()},newDrmInfo:function(jn){var Vn=gn.m?gn.m.g:null;Vn&&gn.m.u&&bw(gn,Vn.keySystem,jn)}},Nn=Date.now()/1e3;return new Vl(function(){var jn,Vn,Hn,Xn;return hs(function(ns){if(ns.g==1)return jn=gn,Qn(ns,gn.J.start(wn,In),2);if(jn.i=ns.h,Vn=op("manifestparsed"),gn.dispatchEvent(Vn),gn.i.variants.length==0)throw new Vs(2,4,4036);lR(gn.i),Hn=Date.now()/1e3,Xn=Hn-Nn,gn.o.F=Xn,ms(ns)})}(),function(){return gn.J.stop()})}function iu(gn,bn){var wn,In;return hs(function(Nn){return Nn.g==1?(wn=Date.now()/1e3,In=!0,gn.m=RI(gn,{kb:gn.D,onError:function(jn){cv(gn,jn)},cd:function(jn){HI(gn,jn)},onExpirationUpdated:function(jn,Vn){ww(gn,jn,Vn)},onEvent:function(jn){gn.dispatchEvent(jn),jn.type=="drmsessionupdate"&&In&&(In=!1,gn.o.j=Date.now()/1e3-wn,gn.L&&(jn=gn.L,jn.g&&jn.h.classList.add("shaka-hidden")))}}),gn.m.configure(gn.h.drm),Qn(Nn,W0(gn.m,gn.i.variants,gn.i.offlineSessionIds),2)):Nn.g!=3?Qn(Nn,gn.m.Yb(bn.mediaElement),3):Qn(Nn,BI(gn,gn.i),0)})}function MT(gn,bn,wn){var In,Nn,jn,Vn,Hn,Xn,ns,ss,ps,fs,vs,Is,Ls,ws,Rs,Zs,Fs;return hs(function(Ws){switch(Ws.g){case 1:for(bn.startTime=wn.startTime,gn.fc!=null&&(bn.startTime=gn.fc,gn.fc=null),In=bn.mediaElement,Nn=bn.uri,gn.Nb=Nn,gn.H=new lE({Tc:function(){return In.playbackRate},Pc:function(){return In.defaultPlaybackRate},le:function(Gs){In.playbackRate=Gs},Me:function(Gs){In.currentTime+=Gs}}),jn=function(){return TE(gn)},Vn=function(){return xw(gn)},gn.u.C(In,"playing",jn),gn.u.C(In,"pause",jn),gn.u.C(In,"ended",jn),gn.u.C(In,"ratechange",Vn),iR(gn,gn.h),Hn=gn.h.abrFactory,gn.s&&gn.Nd==Hn||(gn.Nd=Hn,gn.s=Hn(),typeof gn.s.setMediaElement!="function"&&(ex("AbrManager","Please use an AbrManager with setMediaElement function."),gn.s.setMediaElement=function(){}),gn.s.configure(gn.h.abr)),gn.ub=new Pl(gn.h.preferredAudioLanguage,gn.h.preferredVariantRole,gn.h.preferredAudioChannelCount),gn.vb=gn.h.preferredTextLanguage,gn.cc=gn.h.preferredTextRole,gn.$b=gn.h.preferForcedSubs,Wm(gn.i.presentationTimeline,gn.h.playRangeStart,gn.h.playRangeEnd),gn.s.init(function(Gs,eu,au){gn.j&&Gs!=gn.j.l&&bE(gn,Gs,!0,eu===void 0?!1:eu,au===void 0?0:au)}),gn.s.setMediaElement(In),Vm(gn.i,gn.h.preferredVideoCodecs,gn.h.preferredAudioCodecs,gn.h.preferredAudioChannelCount,gn.h.preferredDecodingAttributes),gn.j=LI(gn),gn.j.configure(gn.h.streaming),gn.l=Am,In.textTracks&&gn.u.C(In.textTracks,"addtrack",function(Gs){if(Gs.track)switch(Gs=Gs.track,Gs.kind){case"chapters":MI(gn,Gs)}}),gn.dispatchEvent(op("streaming")),Xn=null,(ns=gn.j.l)||(Xn=Vv(gn)),ss=[],ps=ns||Xn,fs=Dn([ps.video,ps.audio]),vs=fs.next();!vs.done;vs=fs.next())(Is=vs.value)&&!Is.segmentIndex&&ss.push(Is.createSegmentIndex());if(!(0<ss.length)){Ws.A(2);break}return Qn(Ws,Promise.all(ss),2);case 2:if(gn.B=dR(gn,bn.startTime),gn.xb=fR(gn),Ls=Math.max(gn.i.minBufferTime,gn.h.streaming.rebufferingGoal),NI(gn,Ls),ns){Ws.A(4);break}if(bE(gn,Xn,!0,!1,0),!gn.h.streaming.startAtSegmentBoundary){Ws.A(5);break}return ws=gn.B.Ic(),Qn(Ws,GI(Xn,ws),6);case 6:Rs=Ws.h,gn.B.zd(Rs);case 5:jT(gn,null,j_(Xn));case 4:return gn.B.yd(),Zs=gn.Fb().find(function(Gs){return Gs.active}),Zs||((Fs=Qk(gn.i.textStreams,gn.vb,gn.cc,gn.$b)[0]||null)&&u0(gn.o.h,Fs,!0),Xn&&(Fs?(Xn.audio&&zI(gn,Xn.audio,Fs)&&(gn.ca=!0),gn.ca&&gn.G.m.setTextVisibility(!0),BS(gn)):gn.ca=!1),Fs&&(gn.h.streaming.alwaysStreamText||gn.Hd())&&m_(gn.j,Fs)),Qn(Ws,gn.j.start(),7);case 7:gn.h.abr.enabled&&(gn.s.enable(),xE(gn)),U_(gn.j?gn.j.l:null,gn.i),VS(gn.i),hy(gn),kE(gn),gn.i.variants.some(function(Gs){return Gs.primary}),gn.dc=!0,gn.u.ia(In,"loadedmetadata",function(){gn.o.m=Date.now()/1e3-wn.ne}),ms(Ws)}})}function oR(gn,bn,wn){var In,Nn,jn,Vn,Hn,Xn,ns;return hs(function(ss){return ss.g==1?(In=tl,Nn=Date.now()/1e3,jn=!0,gn.m=RI(gn,{kb:gn.D,onError:function(ps){cv(gn,ps)},cd:function(ps){HI(gn,ps)},onExpirationUpdated:function(ps,fs){ww(gn,ps,fs)},onEvent:function(ps){gn.dispatchEvent(ps),ps.type=="drmsessionupdate"&&jn&&(jn=!1,gn.o.j=Date.now()/1e3-Nn)}}),gn.m.configure(gn.h.drm),Vn=wn.uri||"",Hn=Q0(Vn),Xn=CE[Hn],Xn=="application/x-mpegurl"&&D_()&&(Xn="application/vnd.apple.mpegurl"),Xn||(Xn="video/mp4"),ns={id:0,language:"und",disabledUntilTime:0,primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:wn.mimeType?wn.mimeType.split(";")[0]:Xn,codecs:wn.mimeType?Ry(wn.mimeType):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",label:null,type:In.va,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},gn.m.V=!0,Qn(ss,W0(gn.m,[ns],[]),2)):Qn(ss,gn.m.Yb(bn.mediaElement),0)})}function sp(gn,bn,wn){function In(){return TE(gn)}bn.uri=wn.uri,bn.startTime=wn.startTime,gn.Nb=bn.uri;var Nn=bn.mediaElement;gn.B=new fI(Nn);var jn=!1;gn.Zb.push(function(){jn=!0}),bn.startTime!=null&&gn.B.zd(bn.startTime),gn.H=new lE({Tc:function(){return Nn.playbackRate},Pc:function(){return Nn.defaultPlaybackRate},le:function(Xn){Nn.playbackRate=Xn},Me:function(Xn){Nn.currentTime+=Xn}}),NI(gn,gn.h.streaming.rebufferingGoal),gn.u.C(Nn,"playing",In),gn.u.C(Nn,"pause",In),gn.u.C(Nn,"ended",In),gn.u.C(Nn,"ratechange",function(){return xw(gn)}),Nn.preload!="none"&&gn.u.ia(Nn,"loadedmetadata",function(){gn.o.m=Date.now()/1e3-wn.ne}),Nn.audioTracks&&(gn.u.C(Nn.audioTracks,"addtrack",function(){return hy(gn)}),gn.u.C(Nn.audioTracks,"removetrack",function(){return hy(gn)}),gn.u.C(Nn.audioTracks,"change",function(){return hy(gn)})),Nn.textTracks&&(gn.u.C(Nn.textTracks,"addtrack",function(Xn){if(Xn.track)switch(Xn=Xn.track,Xn.kind){case"metadata":uR(gn,Xn);break;case"chapters":MI(gn,Xn);break;default:hy(gn)}}),gn.u.C(Nn.textTracks,"removetrack",function(){return hy(gn)}),gn.u.C(Nn.textTracks,"change",function(){return hy(gn)}));var Vn=Q0(bn.uri);Nn.src=ZM(gn.V,bn.uri,CE[Vn]),(Ep()||gl("Web0S"))&&Nn.load(),gn.l=Ym,gn.dispatchEvent(op("streaming"));var Hn=new bl;return Gy(Nn,HTMLMediaElement.HAVE_METADATA,gn.u,function(){gn.B.yd(),Hn.resolve()}),Gy(Nn,HTMLMediaElement.HAVE_CURRENT_DATA,gn.u,function(){var Xn;return hs(function(ns){if(ns.g==1)return PI(gn),Xn=US(gn),Xn.find(function(ss){return ss.mode!="disabled"})?(0<Xn.length&&(gn.ca=!0),ns.A(2)):Qn(ns,new Promise(function(ss){gn.u.ia(Nn.textTracks,"change",ss),new Hu(ss).O(1)}),2);if(jn)return ns.return();sR(gn),ms(ns)})}),Nn.error?Hn.reject(wE(gn)):Nn.preload=="none"&&($u('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),Hn.resolve()),gn.u.ia(Nn,"error",function(){Hn.reject(wE(gn))}),new Vl(Hn,function(){return Hn.reject(new Vs(2,7,7001)),Promise.resolve()}).Y(function(){gn.dc=!0})}function PI(gn){var bn=gn.h.preferredAudioLanguage;if(bn!=""){gn.ge(bn);var wn=gn.h.preferredVariantRole;wn!=""&&gn.ge(bn,wn)}}function sR(gn){var bn=gn.h.preferredTextLanguage,wn=gn.h.preferForcedSubs;if(bn!=""){gn.he(bn,"",wn);var In=gn.h.preferredTextRole;In!=""&&gn.he(bn,In,wn)}}function uR(gn,bn){if(bn.kind=="metadata"){bn.mode="hidden",gn.u.C(bn,"cuechange",function(){if(bn.activeCues)for(var In=Dn(bn.activeCues),Nn=In.next();!Nn.done;Nn=In.next())Nn=Nn.value,OI(gn,Nn.startTime,Nn.endTime,Nn.type,Nn.value),gn.F&&gn.F.onCueMetadataChange(Nn.value)});var wn=new Hu(function(){var In=UI(gn);In=Dn(In);for(var Nn=In.next();!Nn.done;Nn=In.next())Nn.value.mode="hidden"}).Mb().O(.5);gn.Zb.push(function(){wn.stop()})}}function Sw(gn,bn,wn,In){bn=Dn(bn);for(var Nn=bn.next();!Nn.done;Nn=bn.next())if(Nn=Nn.value,Nn.data&&Nn.cueTime&&Nn.frames){var jn=Nn.cueTime+wn,Vn=In;Vn&&jn>Vn&&(Vn=jn);for(var Hn=Dn(Nn.frames),Xn=Hn.next();!Xn.done;Xn=Hn.next())OI(gn,jn,Vn,"org.id3",Xn.value);gn.F&&gn.F.onHlsTimedMetadata(Nn,jn)}}function OI(gn,bn,wn,In,Nn){bn=new Map().set("startTime",bn).set("endTime",wn).set("metadataType",In).set("payload",Nn),gn.dispatchEvent(op("metadata",bn))}function MI(gn,bn){if(bn&&bn.kind=="chapters"){bn.mode="hidden";var wn=new Hu(function(){bn.mode="hidden"}).Mb().O(.5);gn.Zb.push(function(){wn.stop()})}}function lR(gn){function bn(wn){return wn.video&&wn.audio||wn.video&&wn.video.codecs.includes(",")}gn.variants.some(bn)&&(gn.variants=gn.variants.filter(bn))}function RI(gn,bn){return new K$(bn,gn.h.drm.updateExpirationTime)}function cR(gn){return new Sl(function(bn,wn){gn.s&&gn.s.segmentDownloaded(bn,wn)},function(bn,wn,In){bn=new Map().set("headers",bn).set("request",wn).set("requestType",In),gn.dispatchEvent(op("downloadheadersreceived",bn))},function(bn,wn,In,Nn){bn=new Map().set("request",bn).set("error",wn).set("httpResponseCode",In).set("aborted",Nn),gn.dispatchEvent(op("downloadfailed",bn))})}function dR(gn,bn){return new Xx(gn.g,gn.i,gn.h.streaming,bn,function(){gn.xb&&vl(gn.xb,!0),gn.j&&gn.j.vc(),gn.M&&$w(gn)},function(wn){return gn.dispatchEvent(wn)})}function fR(gn){var bn=new AS(gn.Fa);bn.addEventListener("enter",function(In){Gv(gn,"timelineregionenter",In.region)}),bn.addEventListener("exit",function(In){Gv(gn,"timelineregionexit",In.region)}),bn.addEventListener("skip",function(In){var Nn=In.region;In.seeking||(Gv(gn,"timelineregionenter",Nn),Gv(gn,"timelineregionexit",Nn))});var wn=new mI(gn.g);return wn.g.add(bn),gn.ua&&wn.g.add(gn.ua),wn}function NI(gn,bn){gn.M=new nx,gn.M.g=F0,ix(gn.M,bn,Math.min(.5,bn/2)),jS(gn),gn.Vc=new Hu(function(){$w(gn)}).Ca(.25)}function $w(gn){switch(gn.l){case Ym:if(gn.g.ended)var bn=!0;else{var wn=lT(gn.g.buffered);bn=wn!=null&&wn>=gn.g.duration-1}break;case Am:e:if(gn.g.ended||Ux(gn.G))bn=!0;else{if(gn.i.presentationTimeline.U()){wn=gn.i.presentationTimeline.gb();var In=lT(gn.g.buffered);if(In!=null&&In>=wn){bn=!0;break e}}bn=!1}break;default:bn=!1}In=Km(gn.g.buffered,gn.g.currentTime),wn=gn.M;var Nn=bn,jn=wn.h.get(wn.g);bn=wn.g,In=Nn||In>=jn?B$:F0,wn.g=In,bn!=In&&jS(gn)}function pR(gn,bn,wn,In){return new pT(gn,bn,wn,In)}function DI(gn){return new i0({getBandwidthEstimate:function(){return gn.s?gn.s.getBandwidthEstimate():NaN},Ma:function(){return gn.Ma()},getCurrentTime:function(){return gn.g?gn.g.currentTime:0},Xa:function(){return gn.Xa()},Rc:function(){return gn.Rc()},U:function(){return gn.U()}},gn.h.cmcd)}function LI(gn){return new gI(gn.i,{Sc:function(){return gn.B?gn.B.Ic():0},getBandwidthEstimate:function(){return gn.s.getBandwidthEstimate()},modifySegmentRequest:function(bn,wn){wm(gn.V,bn,wn)},N:gn.G,kb:gn.D,onError:function(bn){return cv(gn,bn)},onEvent:function(bn){return gn.dispatchEvent(bn)},fg:function(){gn.J&&gn.J.update&&gn.J.update()},Wd:function(bn,wn,In){gn.B&&gn.B.Ne(),$w(gn),bn=new Map().set("start",bn).set("end",wn).set("contentType",In),gn.dispatchEvent(op("segmentappended",bn))},eg:function(bn,wn){(wn=wn.Od)&&gn.ua&&Hy(gn.ua,wn,bn)},xe:function(bn,wn){var In=gn.m;if(In.h.parseInbandPsshEnabled&&["audio","video"].includes(bn)){wn=new G0(Pu(wn));var Nn=0,jn=Dn(wn.data);for(bn=jn.next();!bn.done;bn=jn.next())Nn+=bn.value.length;if(Nn==0)In=Promise.resolve();else{for(Nn=new Uint8Array(Nn),jn=0,wn=Dn(wn.data),bn=wn.next();!bn.done;bn=wn.next())bn=bn.value,Nn.set(bn,jn),jn+=bn.length;X0(In,"cenc",Nn),In=In.o}}else In=Promise.resolve();return In},gg:function(bn,wn,In){Sw(gn,bn,wn,In)}})}En.configure=function(gn,bn){arguments.length==2&&typeof gn=="string"&&(gn=RS(gn,bn)),gn.streaming&&"forceTransmuxTS"in gn.streaming&&(ex("streaming.forceTransmuxTS configuration","Please Use streaming.forceTransmux instead."),gn.streaming.forceTransmux=gn.streaming.forceTransmuxTS,delete gn.streaming.forceTransmuxTS),gn.streaming&&gn.streaming.lowLatencyMode&&(gn.streaming.inaccurateManifestTolerance==null&&(gn.streaming.inaccurateManifestTolerance=0),gn.streaming.rebufferingGoal==null&&(gn.streaming.rebufferingGoal=.01));var wn=_E(this.h,gn,SE(this));return Tw(this),wn};function Tw(gn){if(gn.J){var bn=G_(gn.h.manifest);gn.g&&gn.g.nodeName==="AUDIO"&&(bn.disableVideo=!0),gn.J.configure(bn)}if(gn.m&&gn.m.configure(gn.h.drm),gn.j){gn.j.configure(gn.h.streaming);try{$E(gn,gn.i)}catch(jn){cv(gn,jn)}gn.s&&kE(gn),bn=gn.j.l,!bn||bn.allowedByApplication&&bn.allowedByKeySystem||DT(gn)}if(gn.D&&gn.D.je(gn.h.streaming.forceHTTPS),gn.G&&(gn.G.configure(gn.h.mediaSource),gn.G.H=gn.h.manifest.segmentRelativeVttTiming,bn=gn.h.textDisplayFactory,gn.Ud!=bn)){var wn=bn(),In=gn.G,Nn=In.m;In.m=wn,Nn&&(wn.setTextVisibility(Nn.isTextVisible()),Nn.destroy()),In.g&&(In.g.j=wn),gn.Ud=bn,gn.j&&(bn=gn.j,(wn=bn.j.get(Zu))&&g_(bn,wn.stream,!0,0,!0))}gn.s&&(gn.s.configure(gn.h.abr),gn.h.abr.enabled?gn.s.enable():gn.s.disable(),xE(gn)),gn.M&&(bn=gn.h.streaming.rebufferingGoal,gn.i&&(bn=Math.max(bn,gn.i.minBufferTime)),ix(gn.M,bn,Math.min(.5,bn/2))),gn.i&&Wm(gn.i.presentationTimeline,gn.h.playRangeStart,gn.h.playRangeEnd)}En.getConfiguration=function(){var gn=SE(this);return _E(gn,this.h,SE(this)),gn},En.Af=function(){if(this.g){var gn=this.g.buffered.length;gn=gn?this.g.buffered.end(gn-1):0;var bn=this.getConfiguration().streaming.bufferingGoal;if(bn=Math.min(this.g.currentTime+bn,this.uc().end),gn>=bn)return 1;if(!(gn<=this.g.currentTime)&&gn<bn)return(gn-this.g.currentTime)/(bn-this.g.currentTime)}return 0},En.qg=function(){for(var gn in this.h)delete this.h[gn];_E(this.h,SE(this),SE(this)),Tw(this)},En.Gf=function(){return this.l},En.Kf=function(){return this.g},En.jc=function(){return this.D},En.Dd=function(){return this.Nb},En.Ge=function(){return this.F?this.F:null},En.U=function(){return this.i?this.i.presentationTimeline.U():this.g&&this.g.src?this.g.duration==1/0:!1},En.jb=function(){return this.i?this.i.presentationTimeline.jb():!1},En.Yf=function(){if(this.i){var gn=this.i.variants;return gn.length?!gn[0].video:!1}return this.g&&this.g.src?this.g.videoTracks?this.g.videoTracks.length==0:this.g.videoHeight==0:!1},En.uc=function(){if(!this.dc)return{start:0,end:0};if(this.i){var gn=this.i.presentationTimeline;return{start:gn.Db(),end:gn.Na()}}return this.g&&this.g.src&&(gn=this.g.seekable,gn.length)?{start:gn.start(0),end:gn.end(gn.length-1)}:{start:0,end:0}},En.Wf=function(){this.U()&&(this.g.currentTime=this.uc().end)},En.keySystem=function(){var gn=this.drmInfo();return gn?gn.keySystem:""},En.drmInfo=function(){return this.m?this.m.g:null},En.ic=function(){return this.m?this.m.ic():1/0},En.Qc=function(){return this.m?this.m.Qc():{}},En.Fd=function(){return this.M?this.M.g==F0:!1},En.Rc=function(){return this.g?this.H?this.H.i:1:0},En.zg=function(gn){gn==0?$u("A trick play rate of 0 is unsupported!"):(this.g.paused&&this.g.play(),this.H.set(gn),this.l==Am&&(this.s.playbackRateChanged(gn),dE(this.j,1<Math.abs(gn))))},En.nf=function(){var gn=this.H.Pc();this.l==Ym&&this.H.set(gn),this.l==Am&&(this.H.set(gn),this.s.playbackRateChanged(gn),dE(this.j,!1))},En.Xa=function(){if(this.i){for(var gn=this.j?this.j.l:null,bn=[],wn=0,In=Dn(this.i.variants),Nn=In.next();!Nn.done;Nn=In.next())if(Nn=Nn.value,F_(Nn)){var jn=j_(Nn);jn.active=Nn==gn,jn.active||wn==1||gn==null||Nn.video!=gn.video||Nn.audio!=gn.audio||(jn.active=!0),jn.active&&wn++,bn.push(jn)}return bn}return this.g&&this.g.audioTracks?Array.from(this.g.audioTracks).map(function(Vn){return eS(Vn)}):[]},En.Fb=function(){if(this.i){for(var gn=this.j?this.j.o:null,bn=[],wn=Dn(this.i.textStreams),In=wn.next();!In.done;In=wn.next()){In=In.value;var Nn=j0(In);Nn.active=In==gn,bn.push(Nn)}return bn}return this.g&&this.g.src&&this.g.textTracks?US(this).map(function(jn){return Yk(jn)}):[]},En.Ef=function(){return this.i?this.i.imageStreams.map(function(gn){return JE(gn)}):[]},En.Sf=function(gn,bn){var wn=this,In,Nn,jn,Vn,Hn,Xn,ns,ss,ps,fs,vs,Is,Ls,ws,Rs,Zs,Fs,Ws,Gs,eu;return hs(function(au){return au.g==1?wn.i?(In=wn.i.imageStreams.find(function(du){return du.id==gn}))?In.segmentIndex?au.A(3):Qn(au,In.createSegmentIndex(),3):au.return(null):au.A(2):au.g!=2?(Nn=In.segmentIndex.find(bn),Nn==null||(jn=In.segmentIndex.get(Nn),Vn=jn.tilesLayout||In.tilesLayout,Hn=/(\d+)x(\d+)/.exec(Vn),!Hn)?au.return(null):(Xn=In.width||0,ns=In.height||0,ss=parseInt(Hn[1],10),ps=parseInt(Hn[2],10),fs=Xn/ss,vs=ns/ps,Is=ss*ps,Ls=jn.l-jn.startTime,ws=jn.s||Ls/Is,Rs=jn.startTime,Fs=Zs=0,1<Is&&(Ws=Math.floor((bn-jn.startTime)/ws),Rs=jn.startTime+Ws*ws,Zs=Ws%ss*fs,Fs=Math.floor(Ws/ss)*vs),Gs=!1,(eu=jn.o)&&(Gs=!0,vs=eu.height,Zs=eu.positionX,Fs=eu.positionY,fs=eu.width),au.return({imageHeight:ns,imageWidth:Xn,height:vs,positionX:Zs,positionY:Fs,startTime:Rs,duration:ws,uris:jn.ya(),width:fs,sprite:Gs}))):au.return(null)})},En.Re=function(gn){if(this.i&&this.j){var bn=this.i.textStreams.find(function(In){return In.id==gn.id});bn&&bn!=this.j.o&&(u0(this.o.h,bn,!1),m_(this.j,bn),FS(this),this.vb=bn.language)}else if(this.g&&this.g.src&&this.g.textTracks){bn=US(this),bn=Dn(bn);for(var wn=bn.next();!wn.done;wn=bn.next())wn=wn.value,Wk(wn)==gn.id?wn.mode=this.ca?"showing":"hidden":wn.mode="disabled";FS(this)}},En.Se=function(gn,bn,wn){if(bn=bn===void 0?!1:bn,wn=wn===void 0?0:wn,this.i&&this.j){this.h.abr.enabled&&$u("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var In=this.i.variants.find(function(Nn){return Nn.id==gn.id});In&&F_(In)&&(bE(this,In,!1,bn,wn),this.ub=new CA(In),kE(this))}else if(this.g&&this.g.audioTracks){for(bn=Array.from(this.g.audioTracks),bn=Dn(bn),wn=bn.next();!wn.done;wn=bn.next())if(wn=wn.value,Wk(wn)==gn.id){UT(this,wn);break}}},En.zf=function(){return KI(this.Xa())},En.Qf=function(){return KI(this.Fb())},En.yf=function(){return Array.from(Aw(this.Xa()))},En.Pf=function(){return Array.from(Aw(this.Fb()))},En.ge=function(gn,bn,wn){if(wn=wn===void 0?0:wn,this.i&&this.B){this.ub=new Pl(gn,bn||"",wn,""),bn=function(Hn,Xn){return Hn.video||Xn.video?Hn.video&&Xn.video?Math.abs((Hn.video.height||0)-(Xn.video.height||0))+Math.abs((Hn.video.width||0)-(Xn.video.width||0)):1/0:0},gn=this.j.l;var In=this.ub.create(this.i.variants);wn=null,In=Dn(In.values());for(var Nn=In.next();!Nn.done;Nn=In.next())Nn=Nn.value,(!wn||bn(wn,gn)>bn(Nn,gn))&&(wn=Nn);wn?(bn=j_(wn),this.Se(bn,!0)):DT(this)}else if(this.g&&this.g.audioTracks){Nn=Array.from(this.g.audioTracks),gn=ml(gn),In=wn=null,Nn=Dn(Nn);for(var jn=Nn.next();!jn.done;jn=Nn.next()){jn=jn.value;var Vn=eS(jn);ml(Vn.language)==gn&&(wn=jn,bn?Vn.roles.includes(bn)&&(In=jn):Vn.roles.length==0&&(In=jn))}In?UT(this,In):wn&&UT(this,wn)}},En.he=function(gn,bn,wn){if(wn=wn===void 0?!1:wn,this.i&&this.B)this.vb=gn,this.cc=bn||"",this.$b=wn,(gn=Qk(this.i.textStreams,this.vb,this.cc,this.$b)[0]||null)&&gn!=this.j.o&&(u0(this.o.h,gn,!1),this.h.streaming.alwaysStreamText||this.Hd())&&(m_(this.j,gn),FS(this));else{var In=ml(gn);(gn=this.Fb().find(function(Nn){return ml(Nn.language)==In&&(!bn||Nn.roles.includes(bn))&&Nn.forced==wn}))&&this.Re(gn)}},En.sg=function(gn){if(this.i&&this.B){for(var bn=null,wn=Dn(this.i.variants),In=wn.next();!In.done;In=wn.next())if(In=In.value,In.audio.label==gn){bn=In;break}bn!=null&&(this.ub=new Pl(bn.language,"",0,gn),DT(this))}else if(this.g&&this.g.audioTracks){for(wn=Array.from(this.g.audioTracks),bn=null,wn=Dn(wn),In=wn.next();!In.done;In=wn.next())In=In.value,In.label==gn&&(bn=In);bn&&UT(this,bn)}},En.Hd=function(){var gn=this.ca;return this.G?this.G.m.isTextVisible():this.g&&this.g.src&&this.g.textTracks?US(this).some(function(bn){return bn.mode=="showing"}):gn},En.He=function(){return this.g&&this.g.src&&this.g.textTracks?jI(this).map(function(gn){return Yk(gn)}):[]},En.Bf=function(gn){var bn=ml(gn),wn=jI(this).filter(function(Hn){return ml(Hn.language)==bn});if(!wn||!wn.length)return[];gn=[];var In=new Set;wn=Dn(wn);for(var Nn=wn.next();!Nn.done;Nn=wn.next())if((Nn=Nn.value)&&Nn.cues){Nn=Dn(Nn.cues);for(var jn=Nn.next();!jn.done;jn=Nn.next()){var Vn=jn.value;(jn=Vn.id)&&jn!=""||(jn=Vn.startTime+"-"+Vn.endTime+"-"+Vn.text),Vn={id:jn,title:Vn.text,startTime:Vn.startTime,endTime:Vn.endTime},In.has(jn)||(gn.push(Vn),In.add(jn))}}return gn};function US(gn){return Array.from(gn.g.textTracks).filter(function(bn){return bn.kind!="metadata"&&bn.kind!="chapters"&&bn.label!="Shaka Player TextTrack"})}function UI(gn){return Array.from(gn.g.textTracks).filter(function(bn){return bn.kind=="metadata"})}function jI(gn){return Array.from(gn.g.textTracks).filter(function(bn){return bn.kind=="chapters"})}En.xg=function(gn){if(gn=!!gn,this.ca!=gn){if(this.ca=gn,this.l==Am)this.G.m.setTextVisibility(gn),this.h.streaming.alwaysStreamText||(gn?this.j.o||(gn=Qk(this.i.textStreams,this.vb,this.cc,this.$b),0<gn.length&&(m_(this.j,gn[0]),FS(this))):t0(this.j));else if(this.g&&this.g.src&&this.g.textTracks){var bn=US(this);bn=Dn(bn);for(var wn=bn.next();!wn.done;wn=bn.next())wn=wn.value,wn.mode!="disabled"&&(wn.mode=gn?"showing":"hidden")}BS(this)}},En.Nf=function(){if(!this.U())return null;var gn=this.Ga.l,bn=0;if(this.B)bn=this.B.Ic();else if(gn){if(gn.startTime==null)return new Date;bn=gn.startTime}return this.i?new Date(1e3*(this.i.presentationTimeline.i+bn)):this.g&&this.g.getStartDate?(gn=this.g.getStartDate(),isNaN(gn.getTime())?null:new Date(gn.getTime()+1e3*bn)):null},En.Ie=function(){if(!this.U())return null;if(this.i)return new Date(1e3*this.i.presentationTimeline.i);if(this.g&&this.g.getStartDate){var gn=this.g.getStartDate();return isNaN(gn.getTime())?null:gn}return null},En.Ma=function(){if(this.l==Am)return this.G.Ma();var gn={total:[],audio:[],video:[],text:[]};return this.l==Ym&&(gn.total=rl(this.g.buffered)),gn},En.getStats=function(){if(this.l!=Am&&this.l!=Ym)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,stallsDetected:NaN,gapsJumped:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,switchHistory:[],stateHistory:[]};TE(this);var gn=this.g,bn=gn.currentTime/gn.duration;if(!isNaN(bn)){var wn=this.o;bn=Math.round(100*bn),wn.i=isNaN(wn.i)?bn:Math.max(wn.i,bn)}if(this.B&&(this.o.M=this.B.te(),this.o.P=this.B.ue()),gn.getVideoPlaybackQuality){wn=gn.getVideoPlaybackQuality(),bn=this.o;var In=Number(wn.totalVideoFrames);bn.L=Number(wn.droppedVideoFrames),bn.J=In,this.o.H=Number(wn.corruptedVideoFrames)}this.m?(wn=this.m,wn=wn.H?wn.H:NaN):wn=NaN,this.o.s=wn,this.l==Am&&((wn=this.j.l)&&(this.o.B=(this.H?this.H.i:1)*wn.bandwidth),wn&&wn.video&&(bn=this.o,In=wn.video.height||NaN,bn.o=wn.video.width||NaN,bn.l=In),this.U()&&(wn=this.Ie().valueOf()+1e3*this.uc().end,this.o.D=(Date.now()-wn)/1e3),this.i&&this.i.presentationTimeline&&(this.o.G=this.i.presentationTimeline.g),wn=this.s.getBandwidthEstimate(),this.o.u=wn),this.l==Ym&&(wn=this.o,bn=gn.videoHeight||NaN,wn.o=gn.videoWidth||NaN,wn.l=bn);var Nn=this.o;gn=Nn.o,wn=Nn.l,bn=Nn.B,In=Nn.J;var jn=Nn.L,Vn=Nn.H,Hn=Nn.P,Xn=Nn.M,ns=Nn.u,ss=Nn.i,ps=Nn.m,fs=Nn.F,vs=Nn.j,Is=LS(Nn.g,"playing"),Ls=LS(Nn.g,"paused"),ws=LS(Nn.g,"buffering"),Rs=Nn.s,Zs=Nn.D,Fs=Nn.G,Ws=Ky(Nn.g),Gs=[];Nn=Dn(Nn.h.g);for(var eu=Nn.next();!eu.done;eu=Nn.next())eu=eu.value,Gs.push({timestamp:eu.timestamp,id:eu.id,type:eu.type,fromAdaptation:eu.fromAdaptation,bandwidth:eu.bandwidth});return{width:gn,height:wn,streamBandwidth:bn,decodedFrames:In,droppedFrames:jn,corruptedFrames:Vn,stallsDetected:Hn,gapsJumped:Xn,estimatedBandwidth:ns,completionPercent:ss,loadLatency:ps,manifestTimeSeconds:fs,drmTimeSeconds:vs,playTime:Is,pauseTime:Ls,bufferingTime:ws,licenseTime:Rs,liveLatency:Zs,maxSegmentDuration:Fs,stateHistory:Ws,switchHistory:Gs}},En.gf=function(gn,bn,wn,In,Nn,jn,Vn){Vn=Vn===void 0?!1:Vn;var Hn=this,Xn,ns,ss,ps,fs,vs,Is,Ls,ws,Rs,Zs;return hs(function(Fs){switch(Fs.g){case 1:if(Hn.l!=Am&&Hn.l!=Ym)throw new Vs(1,7,7004);if(In){Fs.A(2);break}return Qn(Fs,kw(Hn,gn),3);case 3:In=Fs.h;case 2:if(Xn=[],Hn.F)try{Xn=Hn.F.getServerSideCuePoints()}catch{}if(Hn.l!=Ym){Fs.A(4);break}return Vn&&(wn="forced"),Qn(Fs,FI(Hn,gn,bn,wn,In,jn||"",Xn),5);case 5:if(ns=Hn.Fb(),ss=ns.find(function(Ws){return Ws.language==bn&&Ws.label==(jn||"")&&Ws.kind==wn}))return hy(Hn),Fs.return(ss);throw new Vs(1,2,2012);case 4:if(ps=tl,fs=Hn.i.presentationTimeline.getDuration(),fs==1/0)throw new Vs(1,4,4033);if(!Xn.length){Fs.A(6);break}return Qn(Fs,RT(Hn,gn,Hn.D,Hn.h.streaming.retryParameters),7);case 7:vs=Fs.h,Is=NT(Hn,vs,In,Xn),Ls=new Blob([Is],{type:"text/vtt"}),gn=uE(Ls),In="text/vtt";case 6:if(ws={id:Hn.Yd++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:vT(0,fs,[gn]),mimeType:In||"",codecs:Nn||"",kind:wn,encrypted:!1,drmInfos:[],keyIds:new Set,language:bn,label:jn||null,type:ps.X,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!Vn,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},Rs=_h(ws.mimeType,ws.codecs),Zs=r_(Rs),!Zs)throw new Vs(2,2,2014,In);return Hn.i.textStreams.push(ws),hy(Hn),Fs.return(j0(ws))}})},En.hf=function(gn,bn){var wn=this,In,Nn,jn,Vn,Hn,Xn,ns,ss,ps,fs,vs,Is,Ls,ws,Rs,Zs;return hs(function(Fs){switch(Fs.g){case 1:if(wn.l!=Am&&wn.l!=Ym)throw new Vs(1,7,7004);if(wn.l==Ym)throw new Vs(1,2,2016);if(bn){Fs.A(2);break}return Qn(Fs,kw(wn,gn),3);case 3:bn=Fs.h;case 2:if(bn!="text/vtt")throw new Vs(1,2,2017,gn);if(In=tl,Nn=wn.i.presentationTimeline.getDuration(),Nn==1/0)throw new Vs(1,4,4045);return Qn(Fs,RT(wn,gn,wn.D,wn.h.streaming.retryParameters),4);case 4:if(jn=Fs.h,Vn=_c[bn],!Vn)throw new Vs(2,2,2014,bn);for(Hn=Vn(),Xn={periodStart:0,segmentStart:0,segmentEnd:Nn,vttOffset:0},ns=Pu(jn),ss=Hn.parseMedia(ns,Xn),ps=[],fs={},vs=Dn(ss),Is=vs.next();!Is.done;fs={Rb:fs.Rb},Is=vs.next())Ls=Is.value,fs.Rb=zp([gn],[Ls.payload])[0],ws=new cl(Ls.startTime,Ls.endTime,function(Ws){return function(){return[Ws.Rb]}}(fs),0,null,null,0,0,1/0),fs.Rb.includes("#xywh")&&(Rs=fs.Rb.split("#xywh=")[1].split(","),Rs.length===4&&ws.Xe({height:parseInt(Rs[3],10),positionX:parseInt(Rs[0],10),positionY:parseInt(Rs[1],10),width:parseInt(Rs[2],10)})),ps.push(ws);return Zs={id:wn.Yd++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new yl(ps),mimeType:bn||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",label:null,type:In.Wb,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1"},wn.i.imageStreams.push(Zs),hy(wn),Fs.return(JE(Zs))}})},En.ff=function(gn,bn,wn){var In=this,Nn,jn,Vn,Hn;return hs(function(Xn){switch(Xn.g){case 1:if(In.l!=Am&&In.l!=Ym)throw new Vs(1,7,7004);if(wn){Xn.A(2);break}return Qn(Xn,kw(In,gn),3);case 3:wn=Xn.h;case 2:if(Nn=[],In.F)try{Nn=In.F.getServerSideCuePoints()}catch{}return Qn(Xn,FI(In,gn,bn,"chapters",wn,"",Nn),4);case 4:if(jn=Xn.h,Vn=In.He(),Hn=Vn.find(function(ns){return ns.language==bn}),!Hn){Xn.A(5);break}return Qn(Xn,new Promise(function(ns,ss){In.u.ia(jn,"load",ns),In.u.ia(jn,"error",function(){ss(new Vs(1,2,2015))})}),6);case 6:return Xn.return(Hn);case 5:throw new Vs(1,2,2012)}})};function kw(gn,bn){var wn,In;return hs(function(Nn){switch(Nn.g){case 1:return wn=Q0(bn),(In=AE[wn])?Nn.return(In):($s(Nn,2),Qn(Nn,yx(bn,gn.D,gn.h.streaming.retryParameters),4));case 4:In=Nn.h,gs(Nn,3);break;case 2:Ss(Nn);case 3:if(In)return Nn.return(In);throw new Vs(1,2,2011,wn)}})}function FI(gn,bn,wn,In,Nn,jn,Vn){var Hn,Xn,ns,ss;return hs(function(ps){if(ps.g==1)return Nn!="text/vtt"||Vn.length?Qn(ps,RT(gn,bn,gn.D,gn.h.streaming.retryParameters),3):ps.A(2);ps.g!=2&&(Hn=ps.h,Xn=NT(gn,Hn,Nn,Vn),ns=new Blob([Xn],{type:"text/vtt"}),bn=uE(ns),Nn="text/vtt"),ss=document.createElement("track");var fs=gn.V,vs=bn;try{if(fs.g.enabled){var Is=wT(fs);Is.ot=gw,Is.su=!0;var Ls=CT(Is),ws=pw(vs,Ls)}else ws=vs}catch(Rs){cp("CMCD_TEXT_TRACK_ERROR","Could not generate text track CMCD data.",Rs),ws=vs}return ss.src=ws,ss.label=jn,ss.kind=In,ss.srclang=wn,gn.g.getAttribute("crossorigin")||gn.g.setAttribute("crossorigin","anonymous"),gn.g.appendChild(ss),ps.return(ss)})}function RT(gn,bn,wn,In){var Nn,jn,Vn;return hs(function(Hn){if(Hn.g==1){Nn=Fy,jn=tm([bn],In),jn.method="GET";var Xn=gn.V;try{Xn.g.enabled&&a0(Xn,jn,{ot:gw,su:!0})}catch(ns){cp("CMCD_TEXT_ERROR","Could not generate text CMCD data.",ns)}return Qn(Hn,wn.request(Nn,jn).promise,2)}return Vn=Hn.h,Hn.return(Vn.data)})}function NT(gn,bn,wn,In){var Nn=_c[wn];if(Nn)return wn=Nn(),gn={periodStart:0,segmentStart:0,segmentEnd:gn.g.duration,vttOffset:0},bn=Pu(bn),bn=wn.parseMedia(bn,gn),Tp(bn,In);throw new Vs(2,2,2014,wn)}En.ke=function(gn,bn){this.ec.width=gn,this.ec.height=bn},En.ce=function(gn){if(this.l==Am){var bn=this.j;if(gn=gn===void 0?.1:gn,bn.h.g)bn=!1;else if(bn.s)bn=!1;else{for(var wn=Dn(bn.j.values()),In=wn.next();!In.done;In=wn.next())In=In.value,!In.nc||In.ra||In.Ka||(In.nc=!1,fy(bn,In,gn));bn=!0}}else bn=!1;return bn},En.Hf=function(){return $u("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.i},En.If=function(){return this.Yc};function SE(gn){var bn=vE();return bn.streaming.failureCallback=function(wn){if(gn.U()){var In=null;wn.code==1001||wn.code==1002?In=1:wn.code==1003&&(In=.1),In!=null&&(wn.severity=1,gn.ce(In))}},bn.textDisplayFactory=function(){return gn.Uc?new xm(gn.g,gn.Uc):new bm(gn.g)},bn}En.Ze=function(gn){this.Uc=gn};function hR(gn,bn){for(var wn=new Set,In=Dn(bn.textStreams),Nn=In.next();!Nn.done;Nn=In.next())Nn=Nn.value,Nn.mimeType!="application/cea-608"&&Nn.mimeType!="application/cea-708"||wn.add(Nn.originalId);for(In=Dn(bn.variants),Nn=In.next();!Nn.done;Nn=In.next())if((Nn=Nn.value.video)&&Nn.closedCaptions){for(var jn=Dn(Nn.closedCaptions.keys()),Vn=jn.next();!Vn.done;Vn=jn.next())if(Vn=Vn.value,!wn.has(Vn)){var Hn=Vn.startsWith("CC")?"application/cea-608":"application/cea-708",Xn=new _d;Hn={id:gn.Yd++,originalId:Vn,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Xn,mimeType:Hn,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:Nn.closedCaptions.get(Vn),label:null,type:Zu,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:Nn.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},bn.textStreams.push(Hn),wn.add(Vn)}}}function BI(gn,bn){return hs(function(wn){if(wn.g==1)return Qn(wn,VI(gn,bn),2);$E(gn,bn),ms(wn)})}function VI(gn,bn){var wn;return hs(function(In){if(In.g==1)return wn=gn.j?gn.j.l:null,Qn(In,Cu(wn,bn),2);VS(bn),ms(In)})}function $E(gn,bn){if(gn.l!=my){El(bn.variants,gn.h.restrictions,gn.ec)&&gn.j&&hy(gn);var wn=gn.m?gn.m.g:null;if(wn&&gn.m.u)for(var In=Dn(bn.variants),Nn=In.next();!Nn.done;Nn=In.next())Nn=Nn.value,bw(gn,wn.keySystem,Nn.video),bw(gn,wn.keySystem,Nn.audio);Cw(gn,bn)}}function bw(gn,bn,wn){if(wn){wn=Dn(wn.drmInfos);for(var In=wn.next();!In.done;In=wn.next())if(In=In.value,In.keySystem==bn){In=Dn(In.initData||[]);for(var Nn=In.next();!Nn.done;Nn=In.next())Nn=Nn.value,X0(gn.m,Nn.initDataType,Nn.initData)}}}function GI(gn,bn){var wn,In,Nn,jn,Vn;return hs(function(Hn){return Hn.g==1?(wn=gn.audio,In=gn.video,Nn=function(Xn,ns){var ss,ps,fs;return hs(function(vs){return vs.g==1?Xn?Qn(vs,Xn.createSegmentIndex(),2):vs.return(null):(ps=(ss=Xn.segmentIndex.Cb(ns))?ss.next().value:null,ps?(fs=ps.startTime,vs.return(fs)):vs.return(null))})},Qn(Hn,Nn(wn,bn),2)):Hn.g!=3?(jn=Hn.h,Qn(Hn,Nn(In,bn),3)):(Vn=Hn.h,Vn!=null&&jn!=null?Hn.return(Math.max(Vn,jn)):Vn!=null?Hn.return(Vn):jn!=null?Hn.return(jn):Hn.return(bn))})}function jS(gn){var bn=gn.Fd();if(gn.o&&gn.M&&gn.B){var wn=gn.H;wn.j=bn,tw(wn),gn.V&&(wn=gn.V,bn||wn.i||(wn.i=!0),wn.i&&bn&&(wn.l=!0),wn.m=bn),TE(gn)}bn=new Map().set("buffering",bn),gn.dispatchEvent(op("buffering",bn))}function xw(gn){var bn=gn.g.playbackRate;bn!=0&&(gn.H&&gn.H.set(bn),bn=op("ratechange"),gn.dispatchEvent(bn))}function TE(gn){if(gn.o&&gn.M){var bn=gn.o.g;gn.M.g==F0?s0(bn,"buffering"):gn.g.paused?s0(bn,"paused"):gn.g.ended?s0(bn,"ended"):s0(bn,"playing")}}function kE(gn){try{Cw(gn,gn.i)}catch(wn){return cv(gn,wn),!1}var bn=gn.i.variants.filter(function(wn){return F_(wn)});return bn=gn.ub.create(bn),gn.s.setVariants(Array.from(bn.values())),!0}function Vv(gn){return kE(gn)?gn.s.chooseVariant():null}function DT(gn){var bn=Vv(gn);bn&&bE(gn,bn,!0,!0,0)}function bE(gn,bn,wn,In,Nn){var jn=gn.j.l;if(bn==jn)In&&r0(gn.j,bn,In,Nn,!0);else{var Vn=gn.o.h;Vn.h!=bn&&(Vn.h=bn,Vn.g.push({timestamp:Date.now()/1e3,id:bn.id,type:"variant",fromAdaptation:wn,bandwidth:bn.bandwidth})),r0(gn.j,bn,In,Nn,void 0,wn),In=null,jn&&(In=j_(jn)),bn=j_(bn),wn?jT(gn,In,bn):FT(gn,In,bn)}}function UT(gn,bn){var wn=Array.from(gn.g.audioTracks).find(function(In){return In.enabled});bn.enabled=!0,bn.id!==wn.id&&(wn.enabled=!1),wn=eS(wn),bn=eS(bn),FT(gn,wn,bn)}function zI(gn,bn,wn){if(gn.h.autoShowText==0)return!1;if(gn.h.autoShowText==1)return!0;var In=ml(gn.h.preferredTextLanguage);return wn=ml(wn.language),gn.h.autoShowText==2?wv(wn,In):gn.h.autoShowText==3?(gn=ml(bn.language),wv(wn,In)&&!wv(gn,wn)):($u("Invalid autoShowText setting!"),!1)}function jT(gn,bn,wn){bn=new Map().set("oldTrack",bn).set("newTrack",wn),gn.L&&Lx(gn.L,wn),wn=op("adaptation",bn),l0(gn,wn)}function hy(gn){var bn=op("trackschanged");l0(gn,bn)}function FT(gn,bn,wn){bn=new Map().set("oldTrack",bn).set("newTrack",wn),gn.L&&Lx(gn.L,wn),wn=op("variantchanged",bn),l0(gn,wn)}function FS(gn){var bn=op("textchanged");l0(gn,bn)}function BS(gn){var bn=op("texttrackvisibility");l0(gn,bn)}function xE(gn){var bn=new Map().set("newStatus",gn.h.abr.enabled);l0(gn,op("abrstatuschanged",bn))}function BT(gn,bn){if(bn.code!=1002&&bn.code!=1011||bn.category!=1||!navigator.onLine)return!1;var wn=gn.h.streaming.maxDisabledTime;if(wn==0)if(bn.code==1011)wn=1;else return!1;bn=gn.Xa().find(function(Vn){return Vn.active});for(var In=gn.i,Nn=Dn(In.variants),jn=Nn.next();!jn.done;jn=Nn.next())jn=jn.value,jn.id===bn.id&&(jn.disabledUntilTime=Date.now()/1e3+wn);return El(In.variants,gn.h.restrictions,gn.ec),bn=Vv(gn),bn?(In=gn.Ma().video.reduce(function(Vn,Hn){return Vn+Hn.end-Hn.start},0),bE(gn,bn,!1,!0,In),gn.$e.O(wn),!0):!1}function cv(gn,bn){if(gn.l!=my)if(BT(gn,bn))bn.handled=!0;else{var wn=op("error",new Map().set("detail",bn));gn.dispatchEvent(wn),wn.defaultPrevented&&(bn.handled=!0)}}function Gv(gn,bn,wn){wn=new Map().set("detail",{schemeIdUri:wn.schemeIdUri,value:wn.value,startTime:wn.startTime,endTime:wn.endTime,id:wn.id,eventElement:wn.eventElement}),gn.dispatchEvent(op(bn,wn))}function wE(gn){if(!gn.g.error)return null;var bn=gn.g.error.code;if(bn==1)return null;var wn=gn.g.error.msExtendedCode;return wn&&(0>wn&&(wn+=Math.pow(2,32)),wn=wn.toString(16)),new Vs(2,3,3016,bn,wn,gn.g.error.message)}function HI(gn,bn){if(gn.j){var wn=Object.keys(bn),In=wn.length==1&&wn[0]=="00",Nn=!1;if(wn.length){wn=Dn(gn.i.variants);for(var jn=wn.next();!jn.done;jn=wn.next()){jn=jn.value;var Vn=[];jn.audio&&Vn.push(jn.audio),jn.video&&Vn.push(jn.video),Vn=Dn(Vn);for(var Hn=Vn.next();!Hn.done;Hn=Vn.next()){var Xn=Hn.value;if(Hn=jn.allowedByKeySystem,Xn.keyIds.size){jn.allowedByKeySystem=!0,Xn=Dn(Xn.keyIds);for(var ns=Xn.next();!ns.done;ns=Xn.next())ns=ns.value,ns=bn[In?"00":ns],jn.allowedByKeySystem=jn.allowedByKeySystem&&!!ns&&!Iw.includes(ns)}Hn!=jn.allowedByKeySystem&&(Nn=!0)}}}(!Nn||kE(gn))&&((bn=gn.j.l)&&!bn.allowedByKeySystem&&DT(gn),Nn&&hy(gn))}}function ww(gn,bn,wn){gn.J&&gn.J.onExpirationUpdated&&gn.J.onExpirationUpdated(bn,wn),bn=op("expirationupdated"),gn.dispatchEvent(bn)}function Wm(gn,bn,wn){0<bn&&(gn.U()||gn.Ye(bn)),bn=gn.getDuration(),wn<bn&&(gn.U()||gn.Aa(wn))}function Cw(gn,bn){gn=gn.m?gn.m.Qc():{};var wn=Object.keys(gn);wn=wn.length&&wn[0]=="00";var In=!1,Nn=!1,jn=new Set,Vn=new Set;bn=Dn(bn.variants);for(var Hn=bn.next();!Hn.done;Hn=bn.next()){Hn=Hn.value;var Xn=[];Hn.audio&&Xn.push(Hn.audio),Hn.video&&Xn.push(Hn.video),Xn=Dn(Xn);for(var ns=Xn.next();!ns.done;ns=Xn.next())if(ns=ns.value,ns.keyIds.size){ns=Dn(ns.keyIds);for(var ss=ns.next();!ss.done;ss=ns.next()){ss=ss.value;var ps=gn[wn?"00":ss];ps?Iw.includes(ps)&&Vn.add(ps):jn.add(ss)}}Hn.allowedByApplication?Hn.allowedByKeySystem&&(In=!0):Nn=!0}if(!In)throw gn={hasAppRestrictions:Nn,missingKeys:Array.from(jn),restrictedKeyStatuses:Array.from(Vn)},new Vs(2,4,4012,gn)}function VS(gn){if(!gn.variants.some(F_))throw new Vs(2,4,4032)}function l0(gn,bn){hs(function(wn){if(wn.g==1)return Qn(wn,Promise.resolve(),2);gn.l!=my&&gn.dispatchEvent(bn),ms(wn)})}function Aw(gn){var bn=new Set;gn=Dn(gn);for(var wn=gn.next();!wn.done;wn=gn.next())wn=wn.value,wn.language?bn.add(ml(wn.language)):bn.add("und");return bn}function KI(gn){var bn=new Map,wn=new Map;gn=Dn(gn);for(var In=gn.next();!In.done;In=gn.next()){In=In.value;var Nn="und",jn=[];In.language&&(Nn=ml(In.language)),In.type=="variant"?jn=In.audioRoles:jn=In.roles,jn&&jn.length||(jn=[""]),bn.has(Nn)||bn.set(Nn,new Set),jn=Dn(jn);for(var Vn=jn.next();!Vn.done;Vn=jn.next())Vn=Vn.value,bn.get(Nn).add(Vn),In.label&&(wn.has(Nn)||wn.set(Nn,new Map),wn.get(Nn).set(Vn,In.label))}var Hn=[];return bn.forEach(function(Xn,ns){Xn=Dn(Xn);for(var ss=Xn.next();!ss.done;ss=Xn.next()){ss=ss.value;var ps=null;wn.has(ns)&&wn.get(ns).has(ss)&&(ps=wn.get(ns).get(ss)),Hn.push({language:ns,role:ss,label:ps})}}),Hn}function qm(){return new Vs(2,7,7e3)}function c0(gn,bn,wn,In,Nn,jn){return In==gn&&Nn.mediaElement==jn.mediaElement&&Nn.uri==jn.uri&&Nn.mimeType==jn.mimeType?bn:wn}function y_(){return{mediaElement:null,mimeType:null,startTime:null,ne:NaN,uri:null}}function VT(gn){return new Promise(function(bn,wn){gn.mb=function(){return wn(qm())},gn.bd=function(){return bn()},gn.onError=function(In){return wn(In)},gn.dd=function(){return wn(qm())}})}Ys("shaka.Player",nu),nu.prototype.setVideoContainer=nu.prototype.Ze,nu.prototype.getManifestParserFactory=nu.prototype.If,nu.prototype.getManifest=nu.prototype.Hf,nu.prototype.retryStreaming=nu.prototype.ce,nu.prototype.setMaxHardwareResolution=nu.prototype.ke,nu.prototype.addChaptersTrack=nu.prototype.ff,nu.prototype.addThumbnailsTrack=nu.prototype.hf,nu.prototype.addTextTrackAsync=nu.prototype.gf,nu.prototype.getStats=nu.prototype.getStats,nu.prototype.getBufferedInfo=nu.prototype.Ma,nu.prototype.getPresentationStartTimeAsDate=nu.prototype.Ie,nu.prototype.getPlayheadTimeAsDate=nu.prototype.Nf,nu.prototype.setTextTrackVisibility=nu.prototype.xg,nu.prototype.getChapters=nu.prototype.Bf,nu.prototype.getChaptersTracks=nu.prototype.He,nu.prototype.isTextTrackVisible=nu.prototype.Hd,nu.prototype.selectVariantsByLabel=nu.prototype.sg,nu.prototype.selectTextLanguage=nu.prototype.he,nu.prototype.selectAudioLanguage=nu.prototype.ge,nu.prototype.getTextLanguages=nu.prototype.Pf,nu.prototype.getAudioLanguages=nu.prototype.yf,nu.prototype.getTextLanguagesAndRoles=nu.prototype.Qf,nu.prototype.getAudioLanguagesAndRoles=nu.prototype.zf,nu.prototype.selectVariantTrack=nu.prototype.Se,nu.prototype.selectTextTrack=nu.prototype.Re,nu.prototype.getThumbnails=nu.prototype.Sf,nu.prototype.getImageTracks=nu.prototype.Ef,nu.prototype.getTextTracks=nu.prototype.Fb,nu.prototype.getVariantTracks=nu.prototype.Xa,nu.prototype.cancelTrickPlay=nu.prototype.nf,nu.prototype.trickPlay=nu.prototype.zg,nu.prototype.getPlaybackRate=nu.prototype.Rc,nu.prototype.isBuffering=nu.prototype.Fd,nu.prototype.getKeyStatuses=nu.prototype.Qc,nu.prototype.getExpiration=nu.prototype.ic,nu.prototype.drmInfo=nu.prototype.drmInfo,nu.prototype.keySystem=nu.prototype.keySystem,nu.prototype.goToLive=nu.prototype.Wf,nu.prototype.seekRange=nu.prototype.uc,nu.prototype.isAudioOnly=nu.prototype.Yf,nu.prototype.isInProgress=nu.prototype.jb,nu.prototype.isLive=nu.prototype.U,nu.prototype.getAdManager=nu.prototype.Ge,nu.prototype.getAssetUri=nu.prototype.Dd,nu.prototype.getNetworkingEngine=nu.prototype.jc,nu.prototype.getMediaElement=nu.prototype.Kf,nu.prototype.getLoadMode=nu.prototype.Gf,nu.prototype.resetConfiguration=nu.prototype.qg,nu.prototype.getBufferFullness=nu.prototype.Af,nu.prototype.getConfiguration=nu.prototype.getConfiguration,nu.prototype.configure=nu.prototype.configure,nu.prototype.load=nu.prototype.load,nu.prototype.updateStartTime=nu.prototype.Eg,nu.prototype.unload=nu.prototype.re,nu.prototype.detach=nu.prototype.detach,nu.prototype.attachCanvas=nu.prototype.kf,nu.prototype.attach=nu.prototype.Yb,nu.probeSupport=function(gn){gn=gn===void 0?!0:gn;var bn,wn,In,Nn,jn,Vn;return hs(function(Hn){if(Hn.g==1)return bn={},gn?Qn(Hn,CM(),3):Hn.A(2);Hn.g!=2&&(bn=Hn.h);var Xn={};if(Ap()){for(var ns in cy)Xn[ns]=!0;for(var ss in q_)Xn[ss]=!0}ns={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"},ss=Dn(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"]);for(var ps=ss.next();!ps.done;ps=ss.next())ps=ps.value,Xn[ps]=Ap()?!!cy[ps]:Em(ps);for(var fs in ns)Xn[fs]=Ap()?!!q_[fs]:Em(ns[fs]);for(wn=Xn,fs='video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",audio/mp4; codecs="dtsc",audio/mp4; codecs="dtse",audio/mp4; codecs="dtsx",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").concat(Kn(dy)),Xn={},fs=Dn(fs),ns=fs.next();!ns.done;ns=fs.next())ns=ns.value,Xn[ns]=Ap()?r_(ns)?!0:Fu(ns)||rv(ns):Em(ns),ss=ns.split(";")[0],Xn[ss]=Xn[ss]||Xn[ns];In=Xn,Nn={manifest:wn,media:In,drm:bn},jn=HT;for(Vn in jn)Nn[Vn]=jn[Vn]();return Hn.return(Nn)})},nu.isBrowserSupported=function(){if(pn.Promise||$u("A Promise implementation or polyfill is required"),!(pn.Promise&&pn.Uint8Array&&Array.prototype.forEach)||gl("Trident/"))return!1;var gn=L_();return gn&&13>gn||!(pn.MediaKeys&&pn.navigator&&pn.navigator.requestMediaKeySystemAccess&&pn.MediaKeySystemAccess&&pn.MediaKeySystemAccess.prototype.getConfiguration)?!1:Ap()?!0:Em("application/x-mpegurl")},nu.setAdManagerFactory=function(gn){dv=gn},nu.registerSupportPlugin=function(gn,bn){HT[gn]=bn},nu.prototype.destroy=nu.prototype.destroy;var my=0,zT=1,Am=2,Ym=3;nu.LoadMode={DESTROYED:my,NOT_LOADED:zT,MEDIA_SOURCE:Am,SRC_EQUALS:Ym},nu.version="v4.3.6";var d0=["4","3"];xA=new function(gn){this.g=gn,this.i=kA,this.h=bA}(new rS(Number(d0[0]),Number(d0[1])));var Iw=["output-restricted","internal-error"],HT={},dv=null,CE={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mpd:"application/dash+xml",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav"},AE={sbv:"text/x-subviewer",srt:"text/srt",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml",lrc:"application/x-subtitle-lrc",ssa:"text/x-ssa",ass:"text/x-ssa"};function KT(){this.h=[],this.j=this.i=this.g=0}function zu(gn,bn,wn){var In=this;this.h=gn,this.g=bn,this.m=wn,this.i=!1,this.l=this.g.getVolume(),this.j=new jl,this.j.C(this.g,google.ima.AdEvent.Type.PAUSED,function(){In.i=!0}),this.j.C(this.g,google.ima.AdEvent.Type.RESUMED,function(){In.i=!1})}En=zu.prototype,En.getDuration=function(){return this.h.getDuration()},En.getMinSuggestedDuration=function(){return this.h.getMinSuggestedDuration()},En.getRemainingTime=function(){return this.g.getRemainingTime()},En.isPaused=function(){return this.i},En.isSkippable=function(){return 0<=this.h.getSkipTimeOffset()},En.getTimeUntilSkippable=function(){var gn=this.h.getSkipTimeOffset();return gn=this.getRemainingTime()-gn,Math.max(gn,0)},En.canSkipNow=function(){return this.g.getAdSkippableState()},En.skip=function(){return this.g.skip()},En.pause=function(){return this.g.pause()},En.play=function(){return this.g.resume()},En.getVolume=function(){return this.g.getVolume()},En.setVolume=function(gn){return this.g.setVolume(gn)},En.isMuted=function(){return this.g.getVolume()==0},En.isLinear=function(){return this.h.isLinear()},En.resize=function(gn,bn){var wn=!1,In=this.m;document.fullscreenEnabled?wn=!!document.fullscreenElement:In.webkitSupportsFullscreen&&(wn=In.webkitDisplayingFullscreen),this.g.resize(gn,bn,wn?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},En.setMuted=function(gn){gn?(this.l=this.getVolume(),this.setVolume(0)):this.setVolume(this.l)},En.getSequenceLength=function(){var gn=this.h.getAdPodInfo();return gn==null?1:gn.getTotalAds()},En.getPositionInSequence=function(){var gn=this.h.getAdPodInfo();return gn==null?1:gn.getAdPosition()},En.getTitle=function(){return this.h.getTitle()},En.getDescription=function(){return this.h.getDescription()},En.release=function(){this.g=this.h=null},Ys("shaka.ads.ClientSideAd",zu),zu.prototype.release=zu.prototype.release,zu.prototype.getDescription=zu.prototype.getDescription,zu.prototype.getTitle=zu.prototype.getTitle,zu.prototype.getPositionInSequence=zu.prototype.getPositionInSequence,zu.prototype.getSequenceLength=zu.prototype.getSequenceLength,zu.prototype.setMuted=zu.prototype.setMuted,zu.prototype.resize=zu.prototype.resize,zu.prototype.isLinear=zu.prototype.isLinear,zu.prototype.isMuted=zu.prototype.isMuted,zu.prototype.setVolume=zu.prototype.setVolume,zu.prototype.getVolume=zu.prototype.getVolume,zu.prototype.play=zu.prototype.play,zu.prototype.pause=zu.prototype.pause,zu.prototype.skip=zu.prototype.skip,zu.prototype.canSkipNow=zu.prototype.canSkipNow,zu.prototype.getTimeUntilSkippable=zu.prototype.getTimeUntilSkippable,zu.prototype.isSkippable=zu.prototype.isSkippable,zu.prototype.isPaused=zu.prototype.isPaused,zu.prototype.getRemainingTime=zu.prototype.getRemainingTime,zu.prototype.getMinSuggestedDuration=zu.prototype.getMinSuggestedDuration,zu.prototype.getDuration=zu.prototype.getDuration;function GS(gn,bn,wn,In){var Nn=this;this.o=gn,this.i=bn,this.s=null,this.u=NaN,this.l=In,this.j=null,this.h=new jl,google.ima.settings.setLocale(wn),gn=new google.ima.AdDisplayContainer(this.o,this.i),gn.initialize(),this.m=new google.ima.AdsLoader(gn),this.m.getSettings().setPlayerType("shaka-player"),this.m.getSettings().setPlayerVersion("v4.3.6"),this.g=null,this.h.ia(this.m,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(jn){Xm(Nn,jn)}),this.h.C(this.m,google.ima.AdErrorEvent.Type.AD_ERROR,function(jn){Im(Nn,jn)}),this.h.C(this.i,"ended",function(){Nn.m.contentComplete()})}GS.prototype.stop=function(){this.g&&this.g.stop(),this.o&&kT(this.o)},GS.prototype.release=function(){this.stop(),this.s&&this.s.disconnect(),this.h&&this.h.release(),this.g&&this.g.destroy(),this.m.destroy()};function Im(gn,bn){bn.getError(),f0(gn,null),gn.l(new Ju("ad-cue-points-changed",new Map().set("cuepoints",[])))}function Xm(gn,bn){gn.l(new Ju("ads-loaded",new Map().set("loadTime",Date.now()/1e3-gn.u))),gn.g=bn.getAdsManager(gn.i),gn.l(new Ju("ima-ad-manager-loaded",new Map().set("imaAdManager",gn.g)));var wn=gn.g.getCuePoints();if(wn.length){bn=[],wn=Dn(wn);for(var In=wn.next();!In.done;In=wn.next())bn.push({start:In.value,end:null});gn.l(new Ju("ad-cue-points-changed",new Map().set("cuepoints",bn)))}WI(gn);try{gn.g.init(gn.i.offsetWidth,gn.i.offsetHeight,zS(gn)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),gn.h.C(gn.i,"loadeddata",function(){gn.g.resize(gn.i.offsetWidth,gn.i.offsetHeight,zS(gn)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),"ResizeObserver"in pn?(gn.s=new ResizeObserver(function(){gn.g.resize(gn.i.offsetWidth,gn.i.offsetHeight,zS(gn)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),gn.s.observe(gn.i)):gn.h.C(document,"fullscreenchange",function(){gn.g.resize(gn.i.offsetWidth,gn.i.offsetHeight,zS(gn)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),gn.h.ia(gn.i,"play",function(){gn.g.start()})}catch{f0(gn,null)}}function zS(gn){return document.fullscreenEnabled?!!document.fullscreenElement:(gn=gn.i,gn.webkitSupportsFullscreen?gn.webkitDisplayingFullscreen:!1)}function WI(gn){function bn(wn,In){wn=new Map().set("originalEvent",wn),gn.l(new Ju(In,wn))}gn.h.C(gn.g,google.ima.AdErrorEvent.Type.AD_ERROR,function(wn){Im(gn,wn)}),gn.h.C(gn.g,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(wn){WT(gn,wn)}),gn.h.C(gn.g,google.ima.AdEvent.Type.STARTED,function(wn){WT(gn,wn)}),gn.h.C(gn.g,google.ima.AdEvent.Type.FIRST_QUARTILE,function(wn){bn(wn,"ad-first-quartile")}),gn.h.C(gn.g,google.ima.AdEvent.Type.MIDPOINT,function(wn){bn(wn,"ad-midpoint")}),gn.h.C(gn.g,google.ima.AdEvent.Type.THIRD_QUARTILE,function(wn){bn(wn,"ad-third-quartile")}),gn.h.C(gn.g,google.ima.AdEvent.Type.COMPLETE,function(wn){bn(wn,"ad-complete")}),gn.h.C(gn.g,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(wn){f0(gn,wn)}),gn.h.C(gn.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(wn){f0(gn,wn)}),gn.h.C(gn.g,google.ima.AdEvent.Type.SKIPPED,function(wn){bn(wn,"ad-skipped")}),gn.h.C(gn.g,google.ima.AdEvent.Type.VOLUME_CHANGED,function(wn){bn(wn,"ad-volume-changed")}),gn.h.C(gn.g,google.ima.AdEvent.Type.VOLUME_MUTED,function(wn){bn(wn,"ad-muted")}),gn.h.C(gn.g,google.ima.AdEvent.Type.PAUSED,function(wn){gn.j&&(gn.j.i=!0,bn(wn,"ad-paused"))}),gn.h.C(gn.g,google.ima.AdEvent.Type.RESUMED,function(wn){gn.j&&(gn.j.i=!1,bn(wn,"ad-resumed"))}),gn.h.C(gn.g,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,function(wn){gn.j&&bn(wn,"ad-skip-state-changed")}),gn.h.C(gn.g,google.ima.AdEvent.Type.CLICK,function(wn){bn(wn,"ad-clicked")}),gn.h.C(gn.g,google.ima.AdEvent.Type.AD_PROGRESS,function(wn){bn(wn,"ad-progress")}),gn.h.C(gn.g,google.ima.AdEvent.Type.AD_BUFFERING,function(wn){bn(wn,"ad-buffering")}),gn.h.C(gn.g,google.ima.AdEvent.Type.IMPRESSION,function(wn){bn(wn,"ad-impression")}),gn.h.C(gn.g,google.ima.AdEvent.Type.DURATION_CHANGE,function(wn){bn(wn,"ad-duration-changed")}),gn.h.C(gn.g,google.ima.AdEvent.Type.USER_CLOSE,function(wn){bn(wn,"ad-closed")}),gn.h.C(gn.g,google.ima.AdEvent.Type.LOADED,function(wn){bn(wn,"ad-loaded")}),gn.h.C(gn.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(wn){bn(wn,"all-ads-completed")}),gn.h.C(gn.g,google.ima.AdEvent.Type.LINEAR_CHANGED,function(wn){bn(wn,"ad-linear-changed")}),gn.h.C(gn.g,google.ima.AdEvent.Type.AD_METADATA,function(wn){bn(wn,"ad-metadata")}),gn.h.C(gn.g,google.ima.AdEvent.Type.LOG,function(wn){bn(wn,"ad-recoverable-error")}),gn.h.C(gn.g,google.ima.AdEvent.Type.AD_BREAK_READY,function(wn){bn(wn,"ad-break-ready")}),gn.h.C(gn.g,google.ima.AdEvent.Type.INTERACTION,function(wn){bn(wn,"ad-interaction")})}function WT(gn,bn){var wn=bn.getAd();wn?(gn.j=new zu(wn,gn.g,gn.i),bn=new Map().set("ad",gn.j).set("sdkAdObject",wn).set("originalEvent",bn),gn.l(new Ju("ad-started",bn)),gn.j.isLinear()&&(gn.o.setAttribute("ad-active","true"),gn.i.pause(),gn.j.setVolume(gn.i.volume),gn.i.muted&&gn.j.setMuted(!0))):$u("The IMA SDK fired a "+bn.type+" event with no associated ad. Unable to play ad!")}function f0(gn,bn){gn.l(new Ju("ad-stopped",new Map().set("originalEvent",bn))),gn.j&&gn.j.isLinear()&&(gn.o.removeAttribute("ad-active"),gn.i.ended||gn.i.play())}function nl(gn,bn){this.i=gn,this.h=null,this.g=bn}En=nl.prototype,En.getDuration=function(){return this.h?this.h.duration:-1},En.getMinSuggestedDuration=function(){return this.getDuration()},En.getRemainingTime=function(){return this.h?this.h.duration-this.h.currentTime:-1},En.isPaused=function(){return this.g.paused},En.isSkippable=function(){return this.i.isSkippable()},En.getTimeUntilSkippable=function(){var gn=this.i.getSkipTimeOffset();return gn=this.getRemainingTime()-gn,Math.max(gn,0)},En.canSkipNow=function(){return this.getTimeUntilSkippable()==0},En.skip=function(){this.g.currentTime+=this.getRemainingTime()},En.pause=function(){return this.g.pause()},En.play=function(){return this.g.play()},En.getVolume=function(){return this.g.volume},En.setVolume=function(gn){this.g.volume=gn},En.isMuted=function(){return this.g.muted},En.isLinear=function(){return!0},En.resize=function(){},En.setMuted=function(gn){this.g.muted=gn},En.getSequenceLength=function(){var gn=this.i.getAdPodInfo();return gn==null?1:gn.getTotalAds()},En.getPositionInSequence=function(){var gn=this.i.getAdPodInfo();return gn==null?1:gn.getAdPosition()},En.getTitle=function(){return this.i.getTitle()},En.getDescription=function(){return this.i.getDescription()},En.release=function(){this.g=this.h=this.i=null},Ys("shaka.ads.ServerSideAd",nl),nl.prototype.release=nl.prototype.release,nl.prototype.getDescription=nl.prototype.getDescription,nl.prototype.getTitle=nl.prototype.getTitle,nl.prototype.getPositionInSequence=nl.prototype.getPositionInSequence,nl.prototype.getSequenceLength=nl.prototype.getSequenceLength,nl.prototype.setMuted=nl.prototype.setMuted,nl.prototype.resize=nl.prototype.resize,nl.prototype.isLinear=nl.prototype.isLinear,nl.prototype.isMuted=nl.prototype.isMuted,nl.prototype.setVolume=nl.prototype.setVolume,nl.prototype.getVolume=nl.prototype.getVolume,nl.prototype.play=nl.prototype.play,nl.prototype.pause=nl.prototype.pause,nl.prototype.skip=nl.prototype.skip,nl.prototype.canSkipNow=nl.prototype.canSkipNow,nl.prototype.getTimeUntilSkippable=nl.prototype.getTimeUntilSkippable,nl.prototype.isSkippable=nl.prototype.isSkippable,nl.prototype.isPaused=nl.prototype.isPaused,nl.prototype.getRemainingTime=nl.prototype.getRemainingTime,nl.prototype.getMinSuggestedDuration=nl.prototype.getMinSuggestedDuration,nl.prototype.getDuration=nl.prototype.getDuration;function qT(gn,bn,wn,In){var Nn=this;this.s=gn,this.l=bn,this.j=null,this.G=NaN,this.i=In,this.F=!1,this.u=this.m=this.o=null,this.B="",this.D=[],this.h=new jl,gn=new google.ima.dai.api.UiSettings,gn.setLocale(wn),this.g=new google.ima.dai.api.StreamManager(this.l,this.s,gn),this.i(new Ju("ima-stream-manager-loaded",new Map().set("imaStreamManager",this.g))),this.h.C(this.g,google.ima.dai.api.StreamEvent.Type.LOADED,function(jn){qI(Nn,jn)}),this.h.C(this.g,google.ima.dai.api.StreamEvent.Type.ERROR,function(){Nn.B.length?Nn.j.resolve(Nn.B):Nn.j.reject("IMA Stream request returned an error and there was no backup asset uri provided."),Nn.j=null}),this.h.C(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,function(){}),this.h.C(this.g,google.ima.dai.api.StreamEvent.Type.STARTED,function(jn){jn=jn.getAd(),Nn.m=new nl(jn,Nn.l),Nn.u&&(Nn.m.h=Nn.u),Nn.i(new Ju("ad-started",new Map().set("ad",Nn.m))),Nn.s.setAttribute("ad-active","true")}),this.h.C(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,function(){Nn.s.removeAttribute("ad-active");var jn=Nn.l.currentTime;Nn.o&&Nn.o>jn&&(Nn.l.currentTime=Nn.o,Nn.o=null)}),this.h.C(this.g,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,function(jn){Nn.u=jn.getStreamData().adProgressData,Nn.m&&(Nn.m.h=Nn.u)}),this.h.C(this.g,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,function(){Nn.i(new Ju("ad-first-quartile"))}),this.h.C(this.g,google.ima.dai.api.StreamEvent.Type.MIDPOINT,function(){Nn.i(new Ju("ad-midpoint"))}),this.h.C(this.g,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,function(){Nn.i(new Ju("ad-third-quartile"))}),this.h.C(this.g,google.ima.dai.api.StreamEvent.Type.COMPLETE,function(){Nn.i(new Ju("ad-complete")),Nn.i(new Ju("ad-stopped")),Nn.s.removeAttribute("ad-active"),Nn.m=null}),this.h.C(this.g,google.ima.dai.api.StreamEvent.Type.SKIPPED,function(){Nn.i(new Ju("ad-skipped")),Nn.i(new Ju("ad-stopped"))}),this.h.C(this.g,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,function(jn){var Vn=jn.getStreamData();jn=[],Vn=Dn(Vn.cuepoints);for(var Hn=Vn.next();!Hn.done;Hn=Vn.next())Hn=Hn.value,jn.push({start:Hn.start,end:Hn.end});Nn.D=jn,Nn.i(new Ju("ad-cue-points-changed",new Map().set("cuepoints",jn)))})}qT.prototype.stop=function(){this.B="",this.o=null,this.D=[]},qT.prototype.release=function(){this.stop(),this.h&&this.h.release()},qT.prototype.onCueMetadataChange=function(gn){if(gn.key&&gn.data){var bn={};bn[gn.key]=gn.data,this.g.onTimedMetadata(bn)}};function qI(gn,bn){gn.i(new Ju("ads-loaded",new Map().set("loadTime",Date.now()/1e3-gn.G))),bn=bn.getStreamData().url,gn.j.resolve(bn),gn.j=null,gn.F||gn.h.C(gn.l,"seeked",function(){var wn=gn.l.currentTime;if(wn!=0){gn.g.streamTimeForContentTime(wn);var In=gn.g.previousCuePointForStreamTime(wn);In&&!In.played&&(gn.o=wn,gn.l.currentTime=In.start)}})}function cu(){hl.call(this),this.g=this.i=null,this.h=new KT,this.j=navigator.language}as(cu,hl),En=cu.prototype,En.setLocale=function(gn){this.j=gn},En.initClientSide=function(gn,bn){var wn=this;if(!pn.google||!google.ima||!google.ima.AdsLoader)throw new Vs(2,10,1e4);this.i&&this.i.release(),this.i=new GS(gn,bn,this.j,function(In){if(In&&In.type)switch(In.type){case"ads-loaded":wn.h.h.push(In.loadTime);break;case"ad-started":wn.h.g++;break;case"ad-complete":wn.h.i++;break;case"ad-skipped":wn.h.j++}wn.dispatchEvent(In)})},En.release=function(){this.i&&(this.i.release(),this.i=null),this.g&&(this.g.release(),this.g=null),hl.prototype.release.call(this)},En.onAssetUnload=function(){this.i&&this.i.stop(),this.g&&this.g.stop(),this.dispatchEvent(new Ju("ad-stopped")),this.h=new KT},En.requestClientSideAds=function(gn){if(!this.i)throw new Vs(1,10,10001);var bn=this.i;bn.u=Date.now()/1e3,bn.m.requestAds(gn)},En.initServerSide=function(gn,bn){var wn=this;if(!pn.google||!google.ima||!google.ima.dai)throw new Vs(2,10,10002);this.g&&this.g.release(),this.g=new qT(gn,bn,this.j,function(In){if(In&&In.type)switch(In.type){case"ads-loaded":wn.h.h.push(In.loadTime);break;case"ad-started":wn.h.g++;break;case"ad-complete":wn.h.i++;break;case"ad-skipped":wn.h.j++}wn.dispatchEvent(In)})},En.requestServerSideStream=function(gn,bn){if(bn=bn===void 0?"":bn,!this.g)throw new Vs(1,10,10003);gn.adTagParameters||(gn.adTagParameters={});var wn=gn.adTagParameters;return(wn.mpt||wn.mpv)&&$u('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),gn.adTagParameters.mpt="shaka-player",gn.adTagParameters.mpv="v4.3.6",wn=this.g,wn.j?gn=Promise.reject(new Vs(1,10,10004)):(gn instanceof google.ima.dai.api.LiveStreamRequest&&(wn.F=!0),wn.j=new bl,wn.g.requestStream(gn),wn.B=bn||"",wn.G=Date.now()/1e3,gn=wn.j),gn},En.replaceServerSideAdTagParameters=function(gn){if(!this.g)throw new Vs(1,10,10003);(gn.mpt||gn.mpv)&&$u('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),gn.mpt="Shaka Player",gn.mpv="v4.3.6",this.g.g.replaceAdTagParameters(gn)},En.getServerSideCuePoints=function(){if(!this.g)throw new Vs(1,10,10003);return this.g.D},En.getStats=function(){var gn=this.h;return{loadTimes:gn.h,started:gn.g,playedCompletely:gn.i,skipped:gn.j}},En.onDashTimedMetadata=function(gn){if(this.g&&gn.schemeIdUri=="urn:google:dai:2018"){var bn=gn.schemeIdUri,wn=gn.eventElement?gn.eventElement.getAttribute("messageData"):null;this.g.g.processMetadata(bn,wn,gn.startTime)}},En.onHlsTimedMetadata=function(gn,bn){this.g&&this.g.g.processMetadata("ID3",gn.data,bn)},En.onCueMetadataChange=function(gn){this.g&&this.g.onCueMetadataChange(gn)},Ys("shaka.ads.AdManager",cu),cu.prototype.onCueMetadataChange=cu.prototype.onCueMetadataChange,cu.prototype.onHlsTimedMetadata=cu.prototype.onHlsTimedMetadata,cu.prototype.onDashTimedMetadata=cu.prototype.onDashTimedMetadata,cu.prototype.getStats=cu.prototype.getStats,cu.prototype.getServerSideCuePoints=cu.prototype.getServerSideCuePoints,cu.prototype.replaceServerSideAdTagParameters=cu.prototype.replaceServerSideAdTagParameters,cu.prototype.requestServerSideStream=cu.prototype.requestServerSideStream,cu.prototype.initServerSide=cu.prototype.initServerSide,cu.prototype.requestClientSideAds=cu.prototype.requestClientSideAds,cu.prototype.onAssetUnload=cu.prototype.onAssetUnload,cu.prototype.release=cu.prototype.release,cu.prototype.initClientSide=cu.prototype.initClientSide,cu.prototype.setLocale=cu.prototype.setLocale,cu.ADS_LOADED="ads-loaded",cu.AD_STARTED="ad-started",cu.AD_FIRST_QUARTILE="ad-first-quartile",cu.AD_MIDPOINT="ad-midpoint",cu.AD_THIRD_QUARTILE="ad-third-quartile",cu.AD_COMPLETE="ad-complete",cu.AD_STOPPED="ad-stopped",cu.AD_SKIPPED="ad-skipped",cu.AD_VOLUME_CHANGED="ad-volume-changed",cu.AD_MUTED="ad-muted",cu.AD_PAUSED="ad-paused",cu.AD_RESUMED="ad-resumed",cu.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",cu.CUEPOINTS_CHANGED="ad-cue-points-changed",cu.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",cu.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",cu.AD_CLICKED="ad-clicked",cu.AD_PROGRESS="ad-progress",cu.AD_BUFFERING="ad-buffering",cu.AD_IMPRESSION="ad-impression",cu.AD_DURATION_CHANGED="ad-duration-changed",cu.AD_CLOSED="ad-closed",cu.AD_LOADED="ad-loaded",cu.ALL_ADS_COMPLETED="all-ads-completed",cu.AD_LINEAR_CHANGED="ad-linear-changed",cu.AD_METADATA="ad-metadata",cu.AD_RECOVERABLE_ERROR="ad-recoverable-error",cu.AD_BREAK_READY="ad-break-ready",cu.AD_INTERACTION="ad-interaction",dv=function(){return new cu};function YT(gn){return JSON.stringify(gn,function(bn,wn){if(typeof wn!="function"){if(wn instanceof Event||wn instanceof Ju){var In={};for(Nn in wn)(bn=wn[Nn])&&typeof bn=="object"?Nn=="detail"&&(In[Nn]=bn):Nn in Event||(In[Nn]=bn);return In}if(wn instanceof Error){var Nn=new Set(["name","message","stack"]);for(In in wn)Nn.add(In);for(bn=Dn(Object.getOwnPropertyNames(wn)),In=bn.next();!In.done;In=bn.next())Nn.add(In.value);for(bn={},Nn=Dn(Nn),In=Nn.next();!In.done;In=Nn.next())In=In.value,bn[In]=wn[In];wn={__type__:"Error",contents:bn}}else if(wn instanceof TimeRanges){for(Nn={__type__:"TimeRanges",length:wn.length,start:[],end:[]},wn=Dn(rl(wn)),In=wn.next();!In.done;In=wn.next())In=In.value,bn=In.end,Nn.start.push(In.start),Nn.end.push(bn);wn=Nn}else wn=wn instanceof Uint8Array?{__type__:"Uint8Array",entries:Array.from(wn)}:typeof wn=="number"?isNaN(wn)?"NaN":isFinite(wn)?wn:0>wn?"-Infinity":"Infinity":wn;return wn}})}function XT(gn){return JSON.parse(gn,function(bn,wn){if(wn=="NaN")var In=NaN;else if(wn=="-Infinity")In=-1/0;else if(wn=="Infinity")In=1/0;else if(wn&&typeof wn=="object"&&wn.__type__=="TimeRanges")In=mR(wn);else if(wn&&typeof wn=="object"&&wn.__type__=="Uint8Array")In=new Uint8Array(wn.entries);else if(wn&&typeof wn=="object"&&wn.__type__=="Error"){bn=wn.contents,wn=Error(bn.message);for(In in bn)wn[In]=bn[In];In=wn}else In=wn;return In})}function mR(gn){return{length:gn.length,start:function(bn){return gn.start[bn]},end:function(bn){return gn.end[bn]}}}var HS="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),gR="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),QT=["loop","playbackRate"],ZT=["pause","play"],il={getAssetUri:2,getAudioLanguages:4,getAudioLanguagesAndRoles:4,getBufferFullness:1,getBufferedInfo:2,getExpiration:2,getKeyStatuses:2,getPlaybackRate:2,getTextLanguages:4,getTextLanguagesAndRoles:4,getImageTracks:2,getThumbnails:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,getLoadMode:10},p0={getConfiguration:4,getStats:5,getTextTracks:2,getVariantTracks:2},Pw={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},Nu=[["getConfiguration","configure"]],Ow=[["isTextTrackVisible","setTextTrackVisibility"]],Mw="addChaptersTrack addTextTrackAsync addThumbnailsTrack cancelTrickPlay configure getChapters getChaptersTracks resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay updateStartTime goToLive".split(" "),yR=["attach","attachCanvas","detach","load","unload"];function JT(gn,bn,wn,In,Nn,jn,Vn){var Hn=this;this.G=gn,this.M=Vn,this.j=new Hu(bn),this.P=wn,this.u=!1,this.s=In,this.F=Nn,this.J=jn,this.h=this.m=!1,this.L="",this.o=null,this.B=function(){return YS(Hn)},this.D=function(Xn,ns){switch(Xn=XT(ns),Xn.type){case"event":var ss=Xn.targetName,ps=ox(Xn.event);Hn.s(ss,ps);break;case"update":ss=Xn.update;for(ps in ss){Xn=Hn.g[ps]||{};for(var fs in ss[ps])Xn[fs]=ss[ps][fs]}Hn.u&&(Hn.P(),Hn.u=!1);break;case"asyncComplete":if(ps=Xn.id,fs=Xn.error,Xn=Hn.i[ps],delete Hn.i[ps],Xn)if(fs){ps=new Vs(fs.severity,fs.category,fs.code);for(ss in fs)ps[ss]=fs[ss];Xn.reject(ps)}else Xn.resolve()}},this.g={video:{},player:{}},this.H=0,this.i={},this.l=null,h0.add(this)}En=JT.prototype,En.destroy=function(){return h0.delete(this),e1(this),Pm&&qS(this),this.j&&(this.j.stop(),this.j=null),this.F=this.s=null,this.h=this.m=!1,this.D=this.B=this.l=this.i=this.g=this.o=null,Promise.resolve()},En.sa=function(){return this.h},En.ae=function(){return this.L},En.init=function(){if(this.G.length)if(pn.chrome&&chrome.cast&&chrome.cast.isAvailable){this.m=!0,this.j.Mb();var gn=new chrome.cast.SessionRequest(this.G,[],null,this.M,null);gn=new chrome.cast.ApiConfig(gn,function(bn){for(var wn=Dn(h0),In=wn.next();!In.done;In=wn.next())WS(In.value,bn)},function(bn){for(var wn=Dn(h0),In=wn.next();!In.done;In=wn.next())In=In.value,t1=bn=="available",In.j.Mb()},"origin_scoped"),chrome.cast.initialize(gn,function(){},function(){}),t1&&this.j.O(_R),(gn=Pm)&&gn.status!=chrome.cast.SessionStatus.STOPPED?WS(this,gn):Pm=null}else pn.__onGCastApiAvailable!==Rw&&(r1=pn.__onGCastApiAvailable||null,pn.__onGCastApiAvailable=Rw)},En.ie=function(gn){this.o=gn,this.h&&IE(this,{type:"appData",appData:this.o})},En.cast=function(gn){var bn=this;return hs(function(wn){if(!bn.m)throw new Vs(1,8,8e3);if(!t1)throw new Vs(1,8,8001);if(bn.h)throw new Vs(1,8,8002);return bn.l=new bl,chrome.cast.requestSession(function(In){return KS(bn,gn,In)},function(In){return YI(bn,In)}),Qn(wn,bn.l,0)})};function vR(gn){if(gn.h){var bn=gn.J();chrome.cast.requestSession(function(wn){return KS(gn,bn,wn)},function(wn){return YI(gn,wn)})}}En.Ab=function(){if(this.h){if(e1(this),Pm){qS(this);try{Pm.stop(function(){},function(){})}catch{}Pm=null}YS(this)}},En.get=function(gn,bn){var wn=this;if(gn=="video"){if(ZT.includes(bn))return function(){return wn.Pe.apply(wn,[gn,bn].concat(Kn(lu.apply(0,arguments))))}}else if(gn=="player"){if(Pw[bn]&&!this.get("player","isLive")())return function(){};if(Mw.includes(bn))return function(){return wn.Pe.apply(wn,[gn,bn].concat(Kn(lu.apply(0,arguments))))};if(yR.includes(bn))return function(){return wn.ng.apply(wn,[gn,bn].concat(Kn(lu.apply(0,arguments))))};if(il[bn]||p0[bn])return function(){return wn.g[gn][bn]}}return this.g[gn][bn]},En.set=function(gn,bn,wn){this.g[gn][bn]=wn,IE(this,{type:"set",targetName:gn,property:bn,value:wn})};function KS(gn,bn,wn){Pm=wn,wn.addUpdateListener(gn.B),wn.addMessageListener("urn:x-cast:com.google.shaka.v2",gn.D),YS(gn),IE(gn,{type:"init",initState:bn,appData:gn.o}),gn.l.resolve()}function YI(gn,bn){var wn=8003;switch(bn.code){case"cancel":wn=8004;break;case"timeout":wn=8005;break;case"receiver_unavailable":wn=8006}gn.l.reject(new Vs(2,8,wn,bn))}En.Pe=function(gn,bn){IE(this,{type:"call",targetName:gn,methodName:bn,args:lu.apply(2,arguments)})},En.ng=function(gn,bn){var wn=lu.apply(2,arguments),In=new bl,Nn=this.H.toString();this.H++,this.i[Nn]=In;try{IE(this,{type:"asyncCall",targetName:gn,methodName:bn,args:wn,id:Nn})}catch(jn){In.reject(jn)}return In};function WS(gn,bn){var wn=gn.J();gn.l=new bl,gn.u=!0,KS(gn,wn,bn)}function qS(gn){var bn=Pm;bn.removeUpdateListener(gn.B),bn.removeMessageListener("urn:x-cast:com.google.shaka.v2",gn.D)}function YS(gn){var bn=Pm?Pm.status=="connected":!1;if(gn.h&&!bn){gn.F();for(var wn in gn.g)gn.g[wn]={};e1(gn)}gn.h=bn,gn.L=bn?Pm.receiver.friendlyName:"",gn.j.Mb()}function e1(gn){for(var bn in gn.i){var wn=gn.i[bn];delete gn.i[bn],wn.reject(new Vs(1,7,7e3))}}function IE(gn,bn){bn=YT(bn);var wn=Pm;try{wn.sendMessage("urn:x-cast:com.google.shaka.v2",bn,function(){},Cp)}catch(In){throw bn=new Vs(2,8,8005,In),wn=new Ju("error",new Map().set("detail",bn)),gn.s("player",wn),gn.Ab(),bn}}var _R=.02,t1=!1,Pm=null,r1=null,h0=new Set;function Rw(gn){if(r1?pn.__onGCastApiAvailable=r1:delete pn.__onGCastApiAvailable,r1=null,gn)for(var bn=Dn(h0),wn=bn.next();!wn.done;wn=bn.next())wn.value.init();typeof pn.__onGCastApiAvailable=="function"&&pn.__onGCastApiAvailable(gn)}function ep(gn,bn,wn,In){In=In===void 0?!1:In,hl.call(this);var Nn=this;this.i=gn,this.h=bn,this.m=this.o=this.j=this.s=this.l=null,this.D=wn,this.B=In,this.u=new Map,this.g=new JT(wn,function(){return QI(Nn)},function(){return XS(Nn)},function(jn,Vn){return Dw(Nn,jn,Vn)},function(){return Qm(Nn)},function(){return m0(Nn)},In),XI(this)}as(ep,hl),En=ep.prototype,En.destroy=function(gn){return gn&&this.g.Ab(),this.m&&(this.m.release(),this.m=null),gn=[],this.h&&(gn.push(this.h.destroy()),this.h=null),this.g&&(gn.push(this.g.destroy()),this.g=null),this.s=this.l=this.i=null,hl.prototype.release.call(this),Promise.all(gn)},En.Vf=function(){return this.l},En.Mf=function(){return this.s},En.mf=function(){return this.g.m&&t1},En.sa=function(){return this.g.sa()},En.ae=function(){return this.g.ae()},En.cast=function(){var gn=this,bn;return hs(function(wn){return wn.g==1?(bn=m0(gn),Qn(wn,gn.g.cast(bn),2)):gn.h?Qn(wn,gn.h.re(),0):wn.return()})},En.ie=function(gn){this.g.ie(gn)},En.yg=function(){vR(this.g)},En.Ab=function(){this.g.Ab()},En.pf=function(gn,bn){bn=bn===void 0?!1:bn;var wn=this;return hs(function(In){if(In.g==1)return gn==wn.D&&bn==wn.B?In.return():(wn.D=gn,wn.B=bn,wn.g.Ab(),Qn(In,wn.g.destroy(),2));wn.g=null,wn.g=new JT(gn,function(){return QI(wn)},function(){return XS(wn)},function(Nn,jn){return Dw(wn,Nn,jn)},function(){return Qm(wn)},function(){return m0(wn)},bn),wn.g.init(),ms(In)})};function XI(gn){gn.g.init(),gn.m=new jl;for(var bn=Dn(HS),wn=bn.next();!wn.done;wn=bn.next())gn.m.C(gn.i,wn.value,function(jn){gn.g.sa()||(jn=ox(jn),gn.j.dispatchEvent(jn))});for(var In in Av)gn.m.C(gn.h,Av[In],function(jn){gn.g.sa()||gn.o.dispatchEvent(jn)});gn.l={},bn={};for(var Nn in gn.i)bn.Sb=Nn,Object.defineProperty(gn.l,bn.Sb,{configurable:!1,enumerable:!0,get:function(jn){return function(){return i1(gn,jn.Sb)}}(bn),set:function(jn){return function(Vn){var Hn=jn.Sb;gn.g.sa()?gn.g.set("video",Hn,Vn):gn.i[Hn]=Vn}}(bn)}),bn={Sb:bn.Sb};gn.s={},n1(gn,function(jn){Object.defineProperty(gn.s,jn,{configurable:!1,enumerable:!0,get:function(){return QS(gn,jn)}})}),Nw(gn),gn.j=new hl,gn.j.Wc=gn.l,gn.o=new hl,gn.o.Wc=gn.s}function Nw(gn){var bn=new Map;n1(gn,function(wn,In){bn.has(In)?(In=bn.get(In),wn.length<In.length?gn.u.set(wn,In):gn.u.set(In,wn)):bn.set(In,wn)})}function n1(gn,bn){function wn(Xn){return Xn=="constructor"||typeof In[Xn]!="function"?!1:!Nn.has(Xn)}var In=gn.h,Nn=new Set,jn;for(jn in In)wn(jn)&&(Nn.add(jn),bn(jn,In[jn]));for(gn=Object.getPrototypeOf(In),jn=Object.getPrototypeOf({});gn&&gn!=jn;){for(var Vn=Dn(Object.getOwnPropertyNames(gn)),Hn=Vn.next();!Hn.done;Hn=Vn.next())Hn=Hn.value,wn(Hn)&&(Nn.add(Hn),bn(Hn,In[Hn]));gn=Object.getPrototypeOf(gn)}}function m0(gn){var bn={video:{},player:{},playerAfterLoad:{},manifest:gn.h.Dd(),startTime:null};gn.i.pause();for(var wn=Dn(QT),In=wn.next();!In.done;In=wn.next())In=In.value,bn.video[In]=gn.i[In];for(gn.i.ended||(bn.startTime=gn.i.currentTime),wn=Dn(Nu),In=wn.next();!In.done;In=wn.next()){var Nn=In.value;In=Nn[1],Nn=gn.h[Nn[0]](),bn.player[In]=Nn}for(wn=Dn(Ow),In=wn.next();!In.done;In=wn.next())Nn=In.value,In=Nn[1],Nn=gn.h[Nn[0]](),bn.playerAfterLoad[In]=Nn;return bn}function QI(gn){var bn=new Ju("caststatuschanged");gn.dispatchEvent(bn)}function XS(gn){var bn=new Ju(gn.l.paused?"pause":"play");gn.j.dispatchEvent(bn)}function Qm(gn){for(var bn=Dn(Nu),wn=bn.next();!wn.done;wn=bn.next()){var In=wn.value;wn=In[1],In=gn.g.get("player",In[0])(),gn.h[wn](In)}var Nn=gn.g.get("player","getAssetUri")();wn=gn.g.get("video","ended"),bn=Promise.resolve();var jn=gn.i.autoplay;In=null,wn||(In=gn.g.get("video","currentTime")),Nn&&(gn.i.autoplay=!1,bn=gn.h.load(Nn,In));var Vn={};for(wn=Dn(QT),In=wn.next();!In.done;In=wn.next())In=In.value,Vn[In]=gn.g.get("video",In);bn.then(function(){if(gn.i){for(var Hn=Dn(QT),Xn=Hn.next();!Xn.done;Xn=Hn.next())Xn=Xn.value,gn.i[Xn]=Vn[Xn];for(Hn=Dn(Ow),Xn=Hn.next();!Xn.done;Xn=Hn.next()){var ns=Xn.value;Xn=ns[1],ns=gn.g.get("player",ns[0])(),gn.h[Xn](ns)}gn.i.autoplay=jn,Nn&&gn.i.play()}},function(Hn){Hn=new Map().set("detail",Hn),Hn=new Ju("error",Hn),gn.h.dispatchEvent(Hn)})}function i1(gn,bn){if(bn=="addEventListener")return function(In,Nn,jn){return gn.j.addEventListener(In,Nn,jn)};if(bn=="removeEventListener")return function(In,Nn,jn){return gn.j.removeEventListener(In,Nn,jn)};if(gn.g.sa()&&Object.keys(gn.g.g.video).length==0){var wn=gn.i[bn];if(typeof wn!="function")return wn}return gn.g.sa()?gn.g.get("video",bn):(bn=gn.i[bn],typeof bn=="function"&&(bn=bn.bind(gn.i)),bn)}function QS(gn,bn){if(gn.u.has(bn)&&(bn=gn.u.get(bn)),bn=="addEventListener")return function(wn,In,Nn){return gn.o.addEventListener(wn,In,Nn)};if(bn=="removeEventListener")return function(wn,In,Nn){return gn.o.removeEventListener(wn,In,Nn)};if(bn=="getMediaElement")return function(){return gn.l};if(bn=="getSharedConfiguration")return gn.g.get("player","getConfiguration");if(bn=="getNetworkingEngine")return function(){return gn.h.jc()};if(bn=="getDrmEngine")return function(){return gn.h.m};if(bn=="getAdManager")return function(){return gn.h.Ge()};if(bn=="setVideoContainer")return function(wn){return gn.h.Ze(wn)};if(gn.g.sa()){if(bn=="getManifest"||bn=="drmInfo")return function(){return $u(bn+"() does not work while casting!"),null};if(bn=="attach"||bn=="detach")return function(){return $u(bn+"() does not work while casting!"),Promise.resolve()}}return gn.g.sa()&&Object.keys(gn.g.g.video).length==0&&(il[bn]||p0[bn])||!gn.g.sa()?gn.h[bn].bind(gn.h):gn.g.get("player",bn)}function Dw(gn,bn,wn){gn.g.sa()&&(bn=="video"?gn.j.dispatchEvent(wn):bn=="player"&&gn.o.dispatchEvent(wn))}Ys("shaka.cast.CastProxy",ep),ep.prototype.changeReceiverId=ep.prototype.pf,ep.prototype.forceDisconnect=ep.prototype.Ab,ep.prototype.suggestDisconnect=ep.prototype.yg,ep.prototype.setAppData=ep.prototype.ie,ep.prototype.cast=ep.prototype.cast,ep.prototype.receiverName=ep.prototype.ae,ep.prototype.isCasting=ep.prototype.sa,ep.prototype.canCast=ep.prototype.mf,ep.prototype.getPlayer=ep.prototype.Mf,ep.prototype.getVideo=ep.prototype.Vf,ep.prototype.destroy=ep.prototype.destroy;function sl(gn,bn,wn,In){hl.call(this);var Nn=this;this.g=gn,this.h=bn,this.j=new jl,this.H={video:gn,player:bn},this.D=wn||function(){},this.J=In||function(jn){return jn},this.i=null,this.F=!1,this.o=!0,this.m=0,this.B=!1,this.u=!0,this.s=this.l=null,this.G=new Hu(function(){a1(Nn)}),ER(this)}as(sl,hl),En=sl.prototype,En.isConnected=function(){return this.F},En.Zf=function(){return this.o},En.vg=function(gn){this.i=gn},En.tf=function(){this.i=null},En.wg=function(gn){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.title=gn},En.ug=function(gn){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.images=[{url:gn}]},En.tg=function(gn){this.i||(this.i={}),this.i.artist=gn,this.i.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},En.destroy=function(){var gn=this,bn,wn;return hs(function(In){if(In.g==1)return gn.j&&(gn.j.release(),gn.j=null),bn=[],gn.h&&(bn.push(gn.h.destroy()),gn.h=null),gn.G&&(gn.G.stop(),gn.G=null),gn.g=null,gn.H=null,gn.D=null,gn.F=!1,gn.o=!0,gn.l=null,gn.s=null,hl.prototype.release.call(gn),Qn(In,Promise.all(bn),2);wn=cast.receiver.CastReceiverManager.getInstance(),wn.stop(),ms(In)})};function ER(gn){var bn=cast.receiver.CastReceiverManager.getInstance();bn.onSenderConnected=function(){return ZI(gn)},bn.onSenderDisconnected=function(){return ZI(gn)},bn.onSystemVolumeChanged=function(){var Nn=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();Nn&&zv(gn,{type:"update",update:{video:{volume:Nn.level,muted:Nn.muted}}},gn.l),zv(gn,{type:"event",targetName:"video",event:{type:"volumechange"}},gn.l)},gn.s=bn.getCastMessageBus("urn:x-cast:com.google.cast.media"),gn.s.onMessage=function(Nn){return JI(gn,Nn)},gn.l=bn.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),gn.l.onMessage=function(Nn){return SR(gn,Nn)},bn.start(),bn=Dn(HS);for(var wn=bn.next();!wn.done;wn=bn.next())gn.j.C(gn.g,wn.value,function(Nn){return Uw(gn,"video",Nn)});for(var In in Av)gn.j.C(gn.h,Av[In],function(Nn){return Uw(gn,"player",Nn)});cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?gn.h.ke(3840,2160):gn.h.ke(1920,1080),gn.j.C(gn.g,"loadeddata",function(){gn.B=!0}),gn.j.C(gn.h,"loading",function(){gn.o=!1,g0(gn)}),gn.j.C(gn.g,"playing",function(){gn.o=!1,g0(gn)}),gn.j.C(gn.g,"pause",function(){g0(gn)}),gn.j.C(gn.h,"unloading",function(){gn.o=!0,g0(gn)}),gn.j.C(gn.g,"ended",function(){new Hu(function(){gn.g&&gn.g.ended&&(gn.o=!0,g0(gn))}).O($R)})}function ZI(gn){gn.m=0,gn.u=!0,gn.F=cast.receiver.CastReceiverManager.getInstance().getSenders().length!=0,g0(gn)}function g0(gn){var bn;hs(function(wn){if(wn.g==1)return Qn(wn,Promise.resolve(),2);if(!gn.h)return wn.return();bn=new Ju("caststatuschanged"),gn.dispatchEvent(bn),jw(gn)||fv(gn),ms(wn)})}function Lw(gn,bn,wn){var In,Nn,jn,Vn,Hn,Xn,ns,ss,ps,fs;hs(function(vs){switch(vs.g){case 1:for(In in bn.player)Nn=bn.player[In],gn.h[In](Nn);return gn.D(wn),jn=gn.g.autoplay,bn.manifest?(gn.g.autoplay=!1,$s(vs,5),Qn(vs,gn.h.load(bn.manifest,bn.startTime),7)):Qn(vs,Promise.resolve(),3);case 7:gs(vs,3);break;case 5:return Vn=Ss(vs),Hn=new Map().set("detail",Vn),Xn=new Ju("error",Hn),gn.h&&gn.h.dispatchEvent(Xn),vs.return();case 3:if(!gn.h)return vs.return();for(ns in bn.video)ss=bn.video[ns],gn.g[ns]=ss;for(ps in bn.playerAfterLoad)fs=bn.playerAfterLoad[ps],gn.h[ps](fs);gn.g.autoplay=jn,bn.manifest&&(gn.g.play(),fv(gn)),ms(vs)}})}function Uw(gn,bn,wn){gn.h&&(a1(gn),zv(gn,{type:"event",targetName:bn,event:wn},gn.l))}function a1(gn){gn.G.O(PE);for(var bn={video:{},player:{}},wn=Dn(gR),In=wn.next();!In.done;In=wn.next())In=In.value,bn.video[In]=gn.g[In];if(gn.h.U())for(var Nn in Pw)gn.m%Pw[Nn]==0&&(bn.player[Nn]=gn.h[Nn]());for(var jn in il)gn.m%il[jn]==0&&(bn.player[jn]=gn.h[jn]());(wn=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(bn.video.volume=wn.level,bn.video.muted=wn.muted),zv(gn,{type:"update",update:bn},gn.l);for(var Vn in p0)gn.m%p0[Vn]==0&&(bn={player:{}},bn.player[Vn]=gn.h[Vn](),zv(gn,{type:"update",update:bn},gn.l));gn.B&&(gn.m+=1),jw(gn)}function jw(gn){return gn.u&&(gn.g.duration||gn.h.U())?(Fw(gn),gn.u=!1,!0):!1}function Fw(gn,bn){var wn={contentId:gn.h.Dd(),streamType:gn.h.U()?"LIVE":"BUFFERED",contentType:""};gn.h.U()||(wn.duration=gn.g.duration),gn.i&&(wn.metadata=gn.i),fv(gn,bn===void 0?0:bn,wn)}function SR(gn,bn){var wn=XT(bn.data);switch(wn.type){case"init":gn.m=0,gn.B=!1,gn.u=!0,Lw(gn,wn.initState,wn.appData),a1(gn);break;case"appData":gn.D(wn.appData);break;case"set":var In=wn.targetName,Nn=wn.property;if(wn=wn.value,In=="video"){if(bn=cast.receiver.CastReceiverManager.getInstance(),Nn=="volume"){bn.setSystemVolumeLevel(wn);break}else if(Nn=="muted"){bn.setSystemVolumeMuted(wn);break}}gn.H[In][Nn]=wn;break;case"call":In=gn.H[wn.targetName],In[wn.methodName].apply(In,wn.args);break;case"asyncCall":In=wn.targetName,Nn=wn.methodName,In=="player"&&Nn=="load"&&(gn.m=0,gn.B=!1);var jn=wn.id,Vn=bn.senderId;bn=gn.H[In],wn=bn[Nn].apply(bn,wn.args),In=="player"&&Nn=="load"&&(wn=wn.then(function(){gn.u=!0})),wn.then(function(){return Pp(gn,Vn,jn,null)},function(Hn){return Pp(gn,Vn,jn,Hn)})}}function JI(gn,bn){var wn=XT(bn.data);switch(wn.type){case"PLAY":gn.g.play(),fv(gn);break;case"PAUSE":gn.g.pause(),fv(gn);break;case"SEEK":bn=wn.currentTime;var In=wn.resumeState;bn!=null&&(gn.g.currentTime=Number(bn)),In&&In=="PLAYBACK_START"?(gn.g.play(),fv(gn)):In&&In=="PLAYBACK_PAUSE"&&(gn.g.pause(),fv(gn));break;case"STOP":gn.h.re().then(function(){gn.h&&fv(gn)});break;case"GET_STATUS":Fw(gn,Number(wn.requestId));break;case"VOLUME":In=wn.volume,bn=In.level,In=In.muted;var Nn=gn.g.volume,jn=gn.g.muted;bn!=null&&(gn.g.volume=Number(bn)),In!=null&&(gn.g.muted=In),Nn==gn.g.volume&&jn==gn.g.muted||fv(gn);break;case"LOAD":gn.m=0,gn.B=!1,gn.u=!1,bn=wn.media,In=wn.currentTime,Nn=gn.J(bn.contentId),jn=wn.autoplay||!0,gn.D(bn.customData),jn&&(gn.g.autoplay=!0),gn.h.load(Nn,In).then(function(){gn.h&&Fw(gn)}).catch(function(Vn){var Hn="LOAD_FAILED";Vn.category==7&&Vn.code==7e3&&(Hn="LOAD_CANCELLED"),zv(gn,{requestId:Number(wn.requestId),type:Hn},gn.s)});break;default:zv(gn,{requestId:Number(wn.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},gn.s)}}function Pp(gn,bn,wn,In){gn.h&&zv(gn,{type:"asyncComplete",id:wn,error:In},gn.l,bn)}function zv(gn,bn,wn,In){gn.F&&(gn=YT(bn),In?wn.getCastChannel(In).send(gn):wn.broadcast(gn))}function fv(gn,bn,wn){wn=wn===void 0?null:wn;var In={mediaSessionId:0,playbackRate:gn.g.playbackRate,playerState:gn.o?eP:gn.h.Fd()?tP:gn.g.paused?Vw:Bw,currentTime:gn.g.currentTime,supportedMediaCommands:63,volume:{level:gn.g.volume,muted:gn.g.muted}};wn&&(In.media=wn),zv(gn,{requestId:bn===void 0?0:bn,type:"MEDIA_STATUS",status:[In]},gn.s)}Ys("shaka.cast.CastReceiver",sl),sl.prototype.destroy=sl.prototype.destroy,sl.prototype.setContentArtist=sl.prototype.tg,sl.prototype.setContentImage=sl.prototype.ug,sl.prototype.setContentTitle=sl.prototype.wg,sl.prototype.clearContentMetadata=sl.prototype.tf,sl.prototype.setContentMetadata=sl.prototype.vg,sl.prototype.isIdle=sl.prototype.Zf,sl.prototype.isConnected=sl.prototype.isConnected;var PE=.5,$R=5,eP="IDLE",Bw="PLAYING",tP="BUFFERING",Vw="PAUSED";function rP(gn,bn,wn){var In=bR(gn),Nn=null;gn=[];var jn=[],Vn=new Set(In.map(function(Hn){return Hn.keyId}));if(Vn.delete(null),1<Vn.size)throw new Vs(2,4,4010);if(bn||(jn=In.filter(function(Hn){return Hn.fe=="urn:mpeg:dash:mp4protection:2011"?(Nn=Hn.init||Nn,!1):!0}),jn.length&&(gn=kR(Nn,jn,wn,Vn),gn.length==0&&(gn=[tv("",Nn)]))),In.length&&(bn||!jn.length))for(gn=[],bn=Dn(Object.values(wn)),wn=bn.next();!wn.done;wn=bn.next())wn=wn.value,wn!="org.w3.clearkey"&&gn.push(tv(wn,Nn));if(Vn=Array.from(Vn)[0]||null)for(bn=Dn(gn),wn=bn.next();!wn.done;wn=bn.next())for(wn=Dn(wn.value.initData),In=wn.next();!In.done;In=wn.next())In.value.keyId=Vn;return{Be:Vn,rh:Nn,drmInfos:gn,Fe:!0}}function TR(gn,bn,wn,In){var Nn=rP(gn,wn,In);if(bn.Fe)gn=bn.drmInfos.length==1&&!bn.drmInfos[0].keySystem,wn=Nn.drmInfos.length==0,(bn.drmInfos.length==0||gn&&!wn)&&(bn.drmInfos=Nn.drmInfos),bn.Fe=!1;else if(0<Nn.drmInfos.length&&(bn.drmInfos=bn.drmInfos.filter(function(jn){return Nn.drmInfos.some(function(Vn){return Vn.keySystem==jn.keySystem})}),bn.drmInfos.length==0))throw new Vs(2,4,4008);return Nn.Be||bn.Be}function nP(gn){var bn=0,wn=rp(gn),In=wn.getUint32(bn,!0);if(In!=gn.byteLength)return[];e:{for(gn=bn+6,bn=[];gn<wn.byteLength-1;){In=wn.getUint16(gn,!0),gn+=2;var Nn=wn.getUint16(gn,!0);if(gn+=2,Nn&1||Nn+gn>wn.byteLength){wn=[];break e}var jn=Pu(wn,gn,Nn);bn.push({type:In,value:jn}),gn+=Nn}wn=bn}return wn}function Hv(gn){gn=Dn(gn.getElementsByTagName("DATA"));for(var bn=gn.next();!bn.done;bn=gn.next()){bn=Dn(bn.value.childNodes);for(var wn=bn.next();!wn.done;wn=bn.next())if(wn=wn.value,wn instanceof Element&&wn.tagName=="LA_URL")return wn.textContent}return""}function gy(gn){return gn=sS(gn.node,"urn:microsoft:playready","pro"),!gn||(gn=mm(gn.textContent),gn=nP(gn).filter(function(bn){return bn.type===wR})[0],!gn)?"":(gn=Ip(gn.value,!0),(gn=K0(gn,"WRMHEADER"))?Hv(gn):"")}function kR(gn,bn,wn,In){var Nn=[];bn=Dn(bn);for(var jn=bn.next();!jn.done;jn=bn.next()){jn=jn.value;var Vn=wn[jn.fe];if(Vn){var Hn;if(Hn=sS(jn.node,"urn:microsoft:playready","pro")){Hn=mm(Hn.textContent);var Xn=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);Hn=[{initData:z$(Hn,Xn,new Set,0),initDataType:"cenc",keyId:jn.keyId}]}else Hn=null;if(Xn=null,jn.fe==="urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e")if(Xn=In,Xn.size==0)Xn=null;else{var ns=new Uint8Array([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]),ss=new Uint8Array([]);Xn=[{initData:z$(ss,ns,Xn,1),initDataType:"cenc",keyId:jn.keyId}]}Hn=tv(Vn,jn.init||gn||Hn||Xn),(Vn=CR.get(Vn))&&(Hn.licenseServerUri=Vn(jn)),Nn.push(Hn)}}return Nn}function bR(gn){var bn=[];gn=Dn(gn);for(var wn=gn.next();!wn.done;wn=gn.next())(wn=xR(wn.value))&&bn.push(wn);return bn}function xR(gn){var bn=gn.getAttribute("schemeIdUri"),wn=l_(gn,"urn:mpeg:cenc:2013","default_KID"),In=RA(gn,"urn:mpeg:cenc:2013","pssh").map(z0);if(!bn)return null;if(bn=bn.toLowerCase(),wn&&(wn=wn.replace(/-/g,"").toLowerCase(),wn.includes(" ")))throw new Vs(2,4,4009);var Nn=[];try{Nn=In.map(function(jn){return{initDataType:"cenc",initData:mm(jn),keyId:null}})}catch{throw new Vs(2,4,4007)}return{node:gn,fe:bn,keyId:wn,init:0<Nn.length?Nn:null}}var wR=1,CR=new Map().set("com.widevine.alpha",function(gn){return(gn=sS(gn.node,"urn:microsoft","laurl"))&&gn.getAttribute("licenseUrl")||""}).set("com.microsoft.playready",gy).set("com.microsoft.playready.recommendation",gy).set("com.microsoft.playready.software",gy).set("com.microsoft.playready.hardware",gy).set("org.w3.clearkey",function(gn){return(gn=sS(gn.node,"http://dashif.org/guidelines/clearKey","Laurl"))&&gn.getAttribute("Lic_type")==="EME-1.0"&&gn.textContent?gn.textContent:""});function o1(gn,bn,wn,In,Nn){var jn={RepresentationID:bn,Number:wn,Bandwidth:In,Time:Nn};return gn.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,function(Vn,Hn,Xn,ns){if(Vn=="$$")return"$";var ss=jn[Hn];if(ss==null)return Vn;switch(Hn=="RepresentationID"&&Xn&&(Xn=void 0),Hn=="Time"&&(ss=Math.round(ss)),ns){case void 0:case"d":case"i":case"u":Vn=ss.toString();break;case"o":Vn=ss.toString(8);break;case"x":Vn=ss.toString(16);break;case"X":Vn=ss.toString(16).toUpperCase();break;default:Vn=ss.toString()}return Xn=pn.parseInt(Xn,10)||1,Array(Math.max(0,Xn-Vn.length)+1).join("0")+Vn})}function Gw(gn,bn){var wn=pv(gn,bn,"timescale"),In=1;wn&&(In=ly(wn)||1);var Nn=pv(gn,bn,"duration");wn=ly(Nn||""),gn.I.contentType=="image"&&(wn=H0(Nn||"")),wn&&(wn/=In);var jn=pv(gn,bn,"startNumber");Nn=Number(pv(gn,bn,"presentationTimeOffset"))||0;var Vn=Gm(jn||"");if((jn==null||Vn==null)&&(Vn=1),jn=s1(gn,bn,"SegmentTimeline"),bn=null,jn){bn=In,gn=gn.T.duration||1/0,jn=Hl(jn,"S");for(var Hn=[],Xn=-Nn,ns=0;ns<jn.length;++ns){var ss=jn[ns],ps=jn[ns+1],fs=Ml(ss,"t",Gm),vs=Ml(ss,"d",Gm);if(ss=Ml(ss,"r",K_),fs!=null&&(fs-=Nn),!vs)break;if(fs=fs??Xn,ss=ss||0,0>ss)if(ps){if(ps=Ml(ps,"t",Gm),ps==null)break;if(fs>=ps)break;ss=Math.ceil((ps-fs)/vs)-1}else{if(gn==1/0)break;if(fs/bn>=gn)break;ss=Math.ceil((gn*bn-fs)/vs)-1}for(0<Hn.length&&fs!=Xn&&(Hn[Hn.length-1].end=fs/bn),ps=0;ps<=ss;++ps)Xn=fs+vs,Hn.push({start:fs/bn,end:Xn/bn,Cg:fs}),fs=Xn}bn=Hn}return{timescale:In,ja:wn,Lb:Vn,Ra:Nn/In||0,se:Nn,timeline:bn}}function pv(gn,bn,wn){return[bn(gn.I),bn(gn.fa),bn(gn.$)].filter(dp).map(function(In){return In.getAttribute(wn)}).reduce(function(In,Nn){return In||Nn})}function s1(gn,bn,wn){return[bn(gn.I),bn(gn.fa),bn(gn.$)].filter(dp).map(function(In){return Rv(In,wn)}).reduce(function(In,Nn){return In||Nn})}function AR(gn,bn,wn,In,Nn,jn){for(var Vn=l_(gn,"http://www.w3.org/1999/xlink","href"),Hn=l_(gn,"http://www.w3.org/1999/xlink","actuate")||"onRequest",Xn=Dn(Array.from(gn.attributes)),ns=Xn.next();!ns.done;ns=Xn.next())ns=ns.value,ns.namespaceURI=="http://www.w3.org/1999/xlink"&&gn.removeAttributeNS(ns.namespaceURI,ns.localName);if(5<=jn)return s_(new Vs(2,4,4028));if(Hn!="onLoad")return s_(new Vs(2,4,4027));var ss=zp([In],[Vn]);return Nn.request(0,tm(ss,bn)).Y(function(ps){if(ps=sv(ps.data,gn.tagName),!ps)return s_(new Vs(2,4,4001,Vn));for(;gn.childNodes.length;)gn.removeChild(gn.childNodes[0]);for(;ps.childNodes.length;){var fs=ps.childNodes[0];ps.removeChild(fs),gn.appendChild(fs)}for(ps=Dn(Array.from(ps.attributes)),fs=ps.next();!fs.done;fs=ps.next())gn.setAttributeNode(fs.value.cloneNode(!1));return y0(gn,bn,wn,ss[0],Nn,jn+1)})}function y0(gn,bn,wn,In,Nn,jn){if(jn=jn===void 0?0:jn,l_(gn,"http://www.w3.org/1999/xlink","href")){var Vn=AR(gn,bn,wn,In,Nn,jn);return wn&&(Vn=Vn.Y(void 0,function(){return y0(gn,bn,wn,In,Nn,jn)})),Vn}Vn=[];for(var Hn=Dn(Array.from(gn.childNodes)),Xn=Hn.next();!Xn.done;Xn=Hn.next())Xn=Xn.value,Xn instanceof Element&&(l_(Xn,"http://www.w3.org/1999/xlink","href")=="urn:mpeg:dash:resolve-to-zero:2013"?gn.removeChild(Xn):Xn.tagName!="SegmentTimeline"&&Vn.push(y0(Xn,bn,wn,In,Nn,jn)));return IA(Vn).Y(function(){return gn})}function IR(gn,bn,wn,In,Nn,jn,Vn){var Hn,Xn=new Rl().R("sidx",function(ns){Hn=PR(bn,In,Nn,jn,Vn,wn,ns)});if(gn&&Xn.parse(gn),Hn)return Hn;throw new Vs(2,3,3004)}function PR(gn,bn,wn,In,Nn,jn,Vn){var Hn=[];Vn.reader.skip(4);var Xn=Vn.reader.K();if(Xn==0)throw new Vs(2,3,3005);if(Vn.version==0)var ns=Vn.reader.K(),ss=Vn.reader.K();else ns=Vn.reader.$a(),ss=Vn.reader.$a();Vn.reader.skip(2);var ps=Vn.reader.$d();for(gn=gn+Vn.size+ss,ss=0;ss<ps;ss++){var fs=Vn.reader.K(),vs=(fs&2147483648)>>>31;fs&=2147483647;var Is=Vn.reader.K();if(Vn.reader.skip(4),vs==1)throw new Vs(2,3,3006);Hn.push(new cl(ns/Xn+wn,(ns+Is)/Xn+wn,function(){return jn},gn,gn+fs-1,bn,wn,In,Nn)),ns+=Is,gn+=fs}return Vn.parser.stop(),Hn}function v_(gn){this.h=rp(gn),this.g=new xu(this.h,0)}v_.prototype.ha=function(){return this.g.ha()};function Kv(gn){var bn=iP(gn);if(7<bn.length)throw new Vs(2,3,3002);var wn=0;bn=Dn(bn);for(var In=bn.next();!In.done;In=bn.next())wn=256*wn+In.value;bn=iP(gn);e:{In=Dn(u1);for(var Nn=In.next();!Nn.done;Nn=In.next())if(Lm(bn,new Uint8Array(Nn.value))){In=!0;break e}In=!1}if(In)bn=gn.h.byteLength-gn.g.Z();else{if(bn.length==8&&bn[1]&224)throw new Vs(2,3,3001);for(Nn=In=0;Nn<bn.length;Nn++){var jn=bn[Nn];In=Nn==0?jn&(1<<8-bn.length)-1:256*In+jn}bn=In}return bn=gn.g.Z()+bn<=gn.h.byteLength?bn:gn.h.byteLength-gn.g.Z(),In=rp(gn.h,gn.g.Z(),bn),gn.g.skip(bn),new aP(wn,In)}function iP(gn){var bn=gn.g.Z(),wn=gn.g.Qa();if(wn==0)throw new Vs(2,3,3002);return wn=8-Math.floor(Math.log2(wn)),gn.g.skip(wn-1),Pu(gn.h,bn,wn)}var u1=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function aP(gn,bn){this.id=gn,this.g=bn}function yy(gn){if(8<gn.g.byteLength)throw new Vs(2,3,3002);if(gn.g.byteLength==8&&gn.g.getUint8(0)&224)throw new Vs(2,3,3001);for(var bn=0,wn=0;wn<gn.g.byteLength;wn++){var In=gn.g.getUint8(wn);bn=256*bn+In}return bn}function l1(gn,bn,wn,In,Nn,jn,Vn,Hn,Xn){function ns(){return Nn}var ss=[];gn=new v_(gn.g);for(var ps=null,fs=null;gn.ha();){var vs=Kv(gn);if(vs.id==187){var Is=OR(vs);Is&&(vs=wn*Is.Dg,Is=bn+Is.mg,ps!=null&&ss.push(new cl(ps+Vn,vs+Vn,ns,fs,Is-1,jn,Vn,Hn,Xn)),ps=vs,fs=Is)}}return ps!=null&&ss.push(new cl(ps+Vn,In+Vn,ns,fs,null,jn,Vn,Hn,Xn)),ss}function OR(gn){var bn=new v_(gn.g);if(gn=Kv(bn),gn.id!=179)throw new Vs(2,3,3013);if(gn=yy(gn),bn=Kv(bn),bn.id!=183)throw new Vs(2,3,3012);bn=new v_(bn.g);for(var wn=0;bn.ha();){var In=Kv(bn);if(In.id==241){wn=yy(In);break}}return{Dg:gn,mg:wn}}function ZS(gn,bn){if(bn=s1(gn,bn,"Initialization"),!bn)return null;var wn=gn.I.wa,In=bn.getAttribute("sourceURL");In&&(wn=zp(gn.I.wa,[In])),In=0;var Nn=null;return(bn=Ml(bn,"range",cS))&&(In=bn.start,Nn=bn.end),new Hm(function(){return wn},In,Nn,lP(gn))}function MR(gn,bn){var wn=Number(pv(gn,Zm,"presentationTimeOffset"))||0,In=pv(gn,Zm,"timescale"),Nn=1;In&&(Nn=ly(In)||1);var jn=wn/Nn||0,Vn=ZS(gn,Zm);sP(gn,Vn);var Hn=sx(gn);return{Bb:function(){var Xn=s1(Hn,Zm,"RepresentationIndex"),ns=Hn.I.wa;return Xn&&(Xn=Xn.getAttribute("sourceURL"))&&(ns=zp(Hn.I.wa,[Xn])),Xn=hv(Hn),oP(Hn,bn,Vn,ns,Xn.start,Xn.end,jn)}}}function oP(gn,bn,wn,In,Nn,jn,Vn){var Hn,Xn,ns,ss,ps,fs,vs,Is,Ls,ws,Rs,Zs,Fs,Ws,Gs;return hs(function(eu){if(eu.g==1)return Hn=gn.presentationTimeline,Xn=!gn.Va||!gn.T.Gd,ns=gn.T.start,ss=gn.T.duration,ps=gn.I.mimeType.split("/")[1],fs=bn,vs=null,Is=[fs(In,Nn,jn),ps=="webm"?fs(wn.ya(),wn.Ba,wn.la):null],fs=null,Qn(eu,Promise.all(Is),2);if(Ls=eu.h,ws=Ls[0],Rs=Ls[1]||null,Zs=null,Fs=ns-Vn,Ws=ns,Gs=ss?ns+ss:1/0,ps=="mp4")var au=IR(ws,Nn,In,wn,Fs,Ws,Gs);else{if(au=new v_(Rs),Kv(au).id!=440786851)throw new Vs(2,3,3008);var du=Kv(au);if(du.id!=408125543)throw new Vs(2,3,3009);au=du.g.byteOffset,du=new v_(du.g);for(var pu=null;du.ha();){var bu=Kv(du);if(bu.id==357149030){pu=bu;break}}if(!pu)throw new Vs(2,3,3010);for(pu=new v_(pu.g),bu=1e6,du=null;pu.ha();){var Uu=Kv(pu);if(Uu.id==2807729)bu=yy(Uu);else if(Uu.id==17545)if(Uu.g.byteLength==4)du=Uu.g.getFloat32(0);else if(Uu.g.byteLength==8)du=Uu.g.getFloat64(0);else throw new Vs(2,3,3003)}if(du==null)throw new Vs(2,3,3011);if(pu=bu/1e9,du*=pu,bu=Kv(new v_(ws)),bu.id!=475249515)throw new Vs(2,3,3007);au=l1(bu,au,pu,du,In,wn,Fs,Ws,Gs)}return Zs=au,Hn.Ib(Zs),vs=new yl(Zs),Xn&&vs.Wa(Ws,Gs,!0),eu.return(vs)})}function Zm(gn){return gn.wc}function hv(gn){var bn=s1(gn,Zm,"RepresentationIndex");return gn=pv(gn,Zm,"indexRange"),gn=cS(gn||""),bn&&(gn=Ml(bn,"range",cS,gn)),gn}function sP(gn,bn){if(uP(gn,bn),!hv(gn))throw new Vs(2,4,4002)}function uP(gn,bn){var wn=gn.I.mimeType.split("/")[1];if(gn.I.contentType!=Zu&&wn!="mp4"&&wn!="webm")throw new Vs(2,4,4006);if(wn=="webm"&&!bn)throw new Vs(2,4,4005)}function lP(gn){var bn=gn.I;return{bandwidth:gn.bandwidth,audioSamplingRate:bn.audioSamplingRate,codecs:bn.codecs,contentType:bn.contentType,frameRate:bn.frameRate||null,height:bn.height||null,mimeType:bn.mimeType,channelsCount:bn.ad,pixelAspectRatio:bn.pixelAspectRatio||null,width:bn.width||null}}function zw(gn,bn){var wn=ZS(gn,cP),In=RR(gn);if(!In.ja&&!In.timeline&&1<In.Gb.length)throw new Vs(2,4,4002);if(!In.ja&&!gn.T.duration&&!In.timeline&&In.Gb.length==1)throw new Vs(2,4,4002);if(In.timeline&&In.timeline.length==0)throw new Vs(2,4,4002);var Nn=null,jn=null;gn.$.id&&gn.I.id&&(jn=bn[gn.$.id+","+gn.I.id])&&(Nn=jn.segmentIndex);var Vn=dP(gn.T.start,gn.T.duration,gn.I.wa,In,wn);return bn=!Nn,Nn?Nn.Hb(Vn,gn.presentationTimeline.Oa()):Nn=new yl(Vn),gn.presentationTimeline.Ib(Vn),gn.Va&&gn.T.Gd||Nn.Wa(gn.T.start,gn.T.duration?gn.T.start+gn.T.duration:1/0,bn),jn&&(jn.segmentIndex=Nn),{Bb:function(){return Nn&&Nn.g.length!=0||Nn.pc(Vn),Promise.resolve(Nn)}}}function cP(gn){return gn.ab}function RR(gn){var bn=NR(gn);gn=Gw(gn,cP);var wn=gn.Lb;wn==0&&(wn=1);var In=0;return gn.ja?In=gn.ja*(wn-1):gn.timeline&&0<gn.timeline.length&&(In=gn.timeline[0].start),{ja:gn.ja,startTime:In,Lb:wn,Ra:gn.Ra,timeline:gn.timeline,Gb:bn}}function dP(gn,bn,wn,In,Nn){var jn=In.Gb.length;In.timeline&&In.timeline.length!=In.Gb.length&&(jn=Math.min(In.timeline.length,In.Gb.length));for(var Vn=gn-In.Ra,Hn=bn?gn+bn:1/0,Xn=[],ns=In.startTime,ss={},ps=0;ps<jn;ss={od:ss.od},ps++){var fs=In.Gb[ps];ss.od=zp(wn,[fs.cg]);var vs=void 0;vs=In.ja!=null?ns+In.ja:In.timeline?In.timeline[ps].end:ns+bn,Xn.push(new cl(gn+ns,gn+vs,function(Is){return function(){return Is.od}}(ss),fs.start,fs.end,Nn,Vn,gn,Hn)),ns=vs}return Xn}function NR(gn){return[gn.I.ab,gn.fa.ab,gn.$.ab].filter(dp).map(function(bn){return Hl(bn,"SegmentURL")}).reduce(function(bn,wn){return 0<bn.length?bn:wn}).map(function(bn){bn.getAttribute("indexRange")&&!gn.Ke&&(gn.Ke=!0);var wn=bn.getAttribute("media");return bn=Ml(bn,"mediaRange",cS,{start:0,end:null}),{cg:wn,start:bn.start,end:bn.end}})}function fP(gn,bn,wn,In,Nn,jn){var Vn=LR(gn),Hn=pP(gn);DR(Hn);var Xn=sx(gn);if(Hn.oc)return uP(gn,Vn),{Bb:function(){var vs=o1(Hn.oc,Xn.I.id,null,Xn.bandwidth||null,null);return vs=zp(Xn.I.wa,[vs]),oP(Xn,bn,Vn,vs,0,null,Hn.Ra)}};if(Hn.ja)return In||gn.fa.contentType==="image"||(gn.presentationTimeline.Sd(Hn.ja),gn.presentationTimeline.Td(gn.T.start)),{Bb:function(){return hP(Xn,Hn,Nn,Vn,jn)}};var ns=null;In=In=null,gn.$.id&&gn.I.id&&(In=gn.$.id+","+gn.I.id,In=wn[In])&&(ns=In.segmentIndex);var ss=mP(Xn,Hn,Vn);wn=gn.T.start;var ps=gn.T.duration?gn.T.start+gn.T.duration:1/0,fs=!(gn.Va&&gn.T.Gd);return ns?(fs&&new yl(ss).Wa(wn,ps,!0),ns.Hb(ss,gn.presentationTimeline.Oa())):ns=new yl(ss),gn.presentationTimeline.Ib(ss),fs&&ns.Wa(wn,ps),In&&gn.Va&&(In.segmentIndex=ns),{Bb:function(){return ns&&ns.g.length!=0||ns.pc(ss),Promise.resolve(ns)}}}function Wv(gn){return gn.xc}function pP(gn){var bn=Gw(gn,Wv),wn=pv(gn,Wv,"media");return gn=pv(gn,Wv,"index"),{ja:bn.ja,timescale:bn.timescale,Lb:bn.Lb,Ra:bn.Ra,se:bn.se,timeline:bn.timeline,Pd:wn,oc:gn}}function DR(gn){var bn=gn.oc?1:0;if(bn+=gn.timeline?1:0,bn+=gn.ja?1:0,bn==0)throw new Vs(2,4,4002);if(bn!=1&&(gn.oc&&(gn.timeline=null),gn.ja=null),!gn.oc&&!gn.Pd)throw new Vs(2,4,4002)}function hP(gn,bn,wn,In,Nn){function jn(pu){var bu=(pu-vs)*fs,Uu=bu+bn.Ra,Bu=bu+ns;bu=Bu+fs;var al=Math.min(bu,Hn());return Bu=new cl(Bu,al,function(){var Mu=o1(Ls,Rs,pu,ws,Uu*Is);return zp(Zs,[Mu])},0,null,In,Fs,ns,Hn()),Bu.l=bu,Bu}function Vn(){var pu=[Math.max(Xn.Oa(),ns),Math.min(Xn.gb(),Hn())].map(function(bu){return bu-ns});return[Math.ceil(pu[0]/fs),Math.ceil(pu[1]/fs)-1].map(function(bu){return bu+vs})}function Hn(){var pu=ss!=null&&Nn[ss]||ps;return pu?ns+pu:1/0}var Xn=gn.presentationTimeline,ns=gn.T.start,ss=gn.$.id,ps=gn.T.duration,fs=bn.ja,vs=bn.Lb,Is=bn.timescale,Ls=bn.Pd,ws=gn.bandwidth||null,Rs=gn.I.id,Zs=gn.I.wa,Fs=ns-bn.Ra,Ws=Vn();gn=gn.Va?Math.max(Ws[0],Ws[1]-wn+1):Ws[0],Ws=Ws[1],wn=[];for(var Gs=gn;Gs<=Ws;++Gs){var eu=jn(Gs);wn.push(eu)}var au=new yl(wn);if(wn=Xn.gb()<Hn(),Gs=Xn.U(),wn||Gs){var du=Math.max(gn,Ws+1);au.fd(fs,function(){var pu=Xn.Oa();au.eb(pu);var bu=Dn(Vn());bu.next(),bu=bu.next().value;for(var Uu=[];du<=bu;){var Bu=jn(du);Uu.push(Bu),du++}return pu>Hn()&&!Uu.length?null:Uu})}return Promise.resolve(au)}function mP(gn,bn,wn){var In=gn.T.start,Nn=gn.T.duration,jn=In-bn.Ra;Nn=Nn?In+Nn:1/0;for(var Vn=[],Hn={},Xn=0;Xn<bn.timeline.length;Hn={nd:Hn.nd,rd:Hn.rd,ud:Hn.ud,kd:Hn.kd,wd:Hn.wd,ld:Hn.ld},Xn++){var ns=bn.timeline[Xn],ss=ns.start,ps=ns.Cg;ns=ns.end,Hn.ud=Xn+bn.Lb,Hn.wd=ps+bn.se,Hn.rd=gn.I.id,Hn.kd=gn.bandwidth||null,Hn.nd=bn.Pd,Hn.ld=gn.I.wa,Vn.push(new cl(In+ss,In+ns,function(fs){return function(){var vs=o1(fs.nd,fs.rd,fs.ud,fs.kd||null,fs.wd);return zp(fs.ld,[vs]).map(function(Is){return Is.toString()})}}(Hn),0,null,wn,jn,In,Nn))}return Vn}function LR(gn){var bn=pv(gn,Wv,"initialization");if(!bn)return null;var wn=gn.I.id,In=gn.bandwidth||null,Nn=gn.I.wa;return new Hm(function(){var jn=o1(bn,wn,null,In,null);return zp(Nn,[jn])},0,null,lP(gn))}function Hw(){this.l=[],this.g=[],this.h=[],this.j=[],this.i=[],this.m=new Set}Hw.prototype.release=function(){for(var gn=Dn(this.g.concat(this.h,this.j,this.i)),bn=gn.next();!bn.done;bn=gn.next())bn=bn.value,bn.segmentIndex&&bn.segmentIndex.release();this.g=[],this.h=[],this.j=[],this.i=[],this.l=[]};function UR(gn,bn,wn){var In,Nn,jn,Vn,Hn,Xn,ns,ss,ps,fs,vs,Is,Ls,ws,Rs,Zs,Fs,Ws,Gs,eu,au,du,pu,bu,Uu,Bu,al,Mu,Ql,ul;return hs(function(kl){switch(kl.g){case 1:if(In=tl,jR(bn),BR(bn),FR(bn),c1(bn),!wn&&bn.length==1){Nn=bn[0],gn.g=Nn.Kc,gn.h=Nn.gd,gn.j=Nn.textStreams,gn.i=Nn.imageStreams,kl.A(2);break}for(jn=-1,Vn=0;Vn<bn.length;Vn++)Hn=bn[Vn],gn.m.has(Hn.id)||(gn.m.add(Hn.id),jn==-1&&(jn=Vn));if(jn==-1)return kl.return();for(Xn=bn.map(function(Bp){return Bp.Kc}),ns=bn.map(function(Bp){return Bp.gd}),ss=bn.map(function(Bp){return Bp.textStreams}),ps=bn.map(function(Bp){return Bp.imageStreams}),fs=Dn(ss),vs=fs.next();!vs.done;vs=fs.next())Is=vs.value,Is.push(v0(In.X));for(Ls=Dn(ps),ws=Ls.next();!ws.done;ws=Ls.next())Rs=ws.value,Rs.push(v0(In.Wb));return Qn(kl,__(gn.g,Xn,jn,JS,OE),3);case 3:return Qn(kl,__(gn.h,ns,jn,JS,OE),4);case 4:return Qn(kl,__(gn.j,ss,jn,JS,OE),5);case 5:return Qn(kl,__(gn.i,ps,jn,JS,OE),2);case 2:if(Zs=0,Fs=[],gn.h.length&&gn.g.length)for(pu=Dn(gn.g),bu=pu.next();!bu.done;bu=pu.next())for(Uu=bu.value,Bu=Dn(gn.h),al=Bu.next();!al.done;al=Bu.next())Mu=al.value,Ql=Y$(Uu.drmInfos,Mu.drmInfos),Uu.drmInfos.length&&Mu.drmInfos.length&&!Ql.length||(ul=Zs++,Fs.push({id:ul,language:Uu.language,primary:Uu.primary,audio:Uu,video:Mu,bandwidth:(Uu.bandwidth||0)+(Mu.bandwidth||0),drmInfos:Ql,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(Ws=gn.h.concat(gn.g),Gs=Dn(Ws),eu=Gs.next();!eu.done;eu=Gs.next())au=eu.value,du=Zs++,Fs.push({id:du,language:au.language,primary:au.primary,audio:au.type==In.Hc?au:null,video:au.type==In.va?au:null,bandwidth:au.bandwidth||0,drmInfos:au.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});gn.l=Fs,ms(kl)}})}function jR(gn){gn=Dn(gn);for(var bn=gn.next();!bn.done;bn=gn.next()){bn=bn.value;for(var wn=[],In=Dn(bn.Kc),Nn=In.next();!Nn.done;Nn=In.next()){Nn=Nn.value;for(var jn=!1,Vn=Dn(wn),Hn=Vn.next();!Hn.done;Hn=Vn.next())Hn=Hn.value,Nn.id!=Hn.id&&Nn.channelsCount==Hn.channelsCount&&Nn.language==Hn.language&&Nn.bandwidth==Hn.bandwidth&&Nn.label==Hn.label&&Nn.codecs==Hn.codecs&&Nn.mimeType==Hn.mimeType&&Xp(Nn.roles,Hn.roles)&&Nn.audioSamplingRate==Hn.audioSamplingRate&&Nn.primary==Hn.primary&&(jn=!0);jn||wn.push(Nn)}bn.Kc=wn}}function FR(gn){gn=Dn(gn);for(var bn=gn.next();!bn.done;bn=gn.next()){bn=bn.value;for(var wn=[],In=Dn(bn.textStreams),Nn=In.next();!Nn.done;Nn=In.next()){Nn=Nn.value;for(var jn=!1,Vn=Dn(wn),Hn=Vn.next();!Hn.done;Hn=Vn.next())Hn=Hn.value,Nn.id!=Hn.id&&Nn.language==Hn.language&&Nn.label==Hn.label&&Nn.codecs==Hn.codecs&&Nn.mimeType==Hn.mimeType&&Nn.bandwidth==Hn.bandwidth&&Xp(Nn.roles,Hn.roles)&&(jn=!0);jn||wn.push(Nn)}bn.textStreams=wn}}function BR(gn){gn=Dn(gn);for(var bn=gn.next();!bn.done;bn=gn.next()){bn=bn.value;for(var wn=[],In=Dn(bn.gd),Nn=In.next();!Nn.done;Nn=In.next()){Nn=Nn.value;for(var jn=!1,Vn=Dn(wn),Hn=Vn.next();!Hn.done;Hn=Vn.next())Hn=Hn.value,Nn.id!=Hn.id&&Nn.width==Hn.width&&Nn.frameRate==Hn.frameRate&&Nn.codecs==Hn.codecs&&Nn.mimeType==Hn.mimeType&&Nn.label==Hn.label&&Xp(Nn.roles,Hn.roles)&&Ol(Nn.closedCaptions,Hn.closedCaptions)&&Nn.bandwidth==Hn.bandwidth&&(jn=!0);jn||wn.push(Nn)}bn.gd=wn}}function c1(gn){gn=Dn(gn);for(var bn=gn.next();!bn.done;bn=gn.next()){bn=bn.value;for(var wn=[],In=Dn(bn.imageStreams),Nn=In.next();!Nn.done;Nn=In.next()){Nn=Nn.value;for(var jn=!1,Vn=Dn(wn),Hn=Vn.next();!Hn.done;Hn=Vn.next())Hn=Hn.value,Nn.id!=Hn.id&&Nn.width==Hn.width&&Nn.codecs==Hn.codecs&&Nn.mimeType==Hn.mimeType&&(jn=!0);jn||wn.push(Nn)}bn.imageStreams=wn}}function gP(gn){var bn,wn,In,Nn,jn,Vn,Hn,Xn,ns,ss,ps,fs,vs,Is,Ls,ws,Rs,Zs,Fs,Ws,Gs,eu,au,du,pu,bu,Uu;return hs(function(Bu){switch(Bu.g){case 1:if(bn=tl,gn.length==1)return Bu.return(gn[0]);for(wn=gn.map(function(al){return al.filter(function(Mu){return Mu.type==bn.Hc})}),In=gn.map(function(al){return al.filter(function(Mu){return Mu.type==bn.va})}),Nn=gn.map(function(al){return al.filter(function(Mu){return Mu.type==bn.X})}),jn=gn.map(function(al){return al.filter(function(Mu){return Mu.type==bn.Wb})}),Vn=Dn(Nn),Hn=Vn.next();!Hn.done;Hn=Vn.next())Xn=Hn.value,Xn.push(t$(bn.X));for(ns=Dn(jn),ss=ns.next();!ss.done;ss=ns.next())ps=ss.value,ps.push(t$(bn.Wb));return Qn(Bu,__([],wn,0,d1,f1),2);case 2:return fs=Bu.h,Qn(Bu,__([],In,0,d1,f1),3);case 3:return vs=Bu.h,Qn(Bu,__([],Nn,0,d1,f1),4);case 4:return Is=Bu.h,Qn(Bu,__([],jn,0,d1,f1),5);case 5:if(Ls=Bu.h,ws=0,vs.length&&fs.length)for(Gs=Dn(fs),eu=Gs.next();!eu.done;eu=Gs.next())for(au=eu.value,du=Dn(vs),pu=du.next();!pu.done;pu=du.next())bu=pu.value,Uu=ws++,bu.variantIds.push(Uu),au.variantIds.push(Uu);else for(Rs=vs.concat(fs),Zs=Dn(Rs),Fs=Zs.next();!Fs.done;Fs=Zs.next())Ws=Fs.value,Ws.variantIds=[ws++];return Bu.return(vs.concat(fs).concat(Is).concat(Ls))}})}function __(gn,bn,wn,In,Nn){var jn,Vn,Hn,Xn,ns,ss,ps,fs,vs,Is,Ls,ws,Rs,Zs,Fs,Ws,Gs,eu,au,du;return hs(function(pu){switch(pu.g){case 1:for(jn=tl,Vn=[],Hn=0;Hn<bn.length;Hn++)Hn>=wn?Vn.push(new Set(bn[Hn])):Vn.push(new Set);Xn=Dn(gn),ns=Xn.next();case 2:if(ns.done){pu.A(4);break}return ss=ns.value,Qn(pu,VR(ss,bn,wn,Nn,Vn),5);case 5:if(ps=pu.h,!ps)throw new Vs(2,4,4037);ns=Xn.next(),pu.A(2);break;case 4:for(fs=Dn(Vn),vs=fs.next();!vs.done;vs=fs.next())for(Is=vs.value,Ls=Dn(Is),ws=Ls.next();!ws.done;ws=Ls.next())Rs=ws.value,(Zs=GR(Rs,bn,In,Nn,Vn))&&gn.push(Zs);for(Fs=Dn(Vn),vs=Fs.next();!vs.done;vs=Fs.next())for(Ws=vs.value,Gs={},eu=Dn(Ws),ws=eu.next();!ws.done;Gs={Ua:Gs.Ua},ws=eu.next())if(Gs.Ua=ws.value,au=Gs.Ua.type==jn.X&&!Gs.Ua.language,du=Gs.Ua.type==jn.Wb&&!Gs.Ua.tilesLayout,!au&&!du&&gn.some(function(bu){return function(Uu){return Uu.mimeType==bu.Ua.mimeType&&xl(Uu.codecs)==xl(bu.Ua.codecs)}}(Gs)))throw new Vs(2,4,4037);return pu.return(gn)}})}function VR(gn,bn,wn,In,Nn){return hs(function(jn){return jn.g==1?(vP(bn,gn),gn.matchedStreams?gn.segmentIndex?Qn(jn,yP(gn,wn),2):jn.A(2):jn.return(!1)):(Kw(gn,wn,In,Nn),jn.return(!0))})}function yP(gn,bn){var wn,In,Nn,jn,Vn,Hn,Xn;return hs(function(ns){if(ns.g==1){for(wn=[],In=gn.matchedStreams,Nn=Dn(In),jn=Nn.next();!jn.done;jn=Nn.next())Vn=jn.value,wn.push(Vn.createSegmentIndex()),Vn.trickModeVideo&&!Vn.trickModeVideo.segmentIndex&&wn.push(Vn.trickModeVideo.createSegmentIndex());return Qn(ns,Promise.all(wn),2)}if(gn.segmentIndex instanceof _d)for(Hn=bn;Hn<In.length;Hn++)Xn=In[Hn],Xn.segmentIndex&&gn.segmentIndex.l.push(Xn.segmentIndex);ms(ns)})}function GR(gn,bn,wn,In,Nn){var jn=wn(gn);return vP(bn,jn),jn.createSegmentIndex&&(jn.createSegmentIndex=function(){return hs(function(Vn){return jn.segmentIndex?Vn.A(0):(jn.segmentIndex=new _d,Qn(Vn,yP(jn,0),0))})}),!jn.matchedStreams||!jn.matchedStreams.length?null:(Kw(jn,0,In,Nn),jn)}function Kw(gn,bn,wn,In){for(var Nn=gn.matchedStreams,jn=0;jn<Nn.length;jn++)if(jn>=bn){var Vn=Nn[jn];wn(gn,Vn);var Hn=!0;gn.type=="audio"&&km(gn.language,Vn.language)==0&&(Hn=!1),Hn&&In[jn].delete(Vn)}}function JS(gn){var bn=Object.assign({},gn);return bn.originalId=null,bn.createSegmentIndex=function(){return Promise.resolve()},bn.closeSegmentIndex=function(){if(bn.segmentIndex&&(bn.segmentIndex.release(),bn.segmentIndex=null),bn.matchedStreams)for(var wn=Dn(bn.matchedStreams),In=wn.next();!In.done;In=wn.next())In=In.value,In.segmentIndex&&(In.segmentIndex.release(),In.segmentIndex=null)},bn.segmentIndex=null,bn.emsgSchemeIdUris=[],bn.keyIds=new Set,bn.closedCaptions=null,bn.trickModeVideo=null,bn}function d1(gn){return gn=Object.assign({},gn),gn.keyIds=new Set,gn.segments=[],gn.variantIds=[],gn.closedCaptions=null,gn}function OE(gn,bn){gn.roles=Array.from(new Set(gn.roles.concat(bn.roles))),bn.emsgSchemeIdUris&&(gn.emsgSchemeIdUris=Array.from(new Set(gn.emsgSchemeIdUris.concat(bn.emsgSchemeIdUris)))),gn.keyIds=function(jn,Vn){return new Set([].concat(Kn(jn),Kn(Vn)))}(gn.keyIds,bn.keyIds),gn.originalId==null?gn.originalId=bn.originalId:gn.originalId+=","+(bn.originalId||"");var wn=Y$(gn.drmInfos,bn.drmInfos);if(bn.drmInfos.length&&gn.drmInfos.length&&!wn.length)throw new Vs(2,4,4038);if(gn.drmInfos=wn,gn.encrypted=gn.encrypted||bn.encrypted,bn.closedCaptions){gn.closedCaptions||(gn.closedCaptions=new Map),wn=Dn(bn.closedCaptions);for(var In=wn.next();!In.done;In=wn.next()){var Nn=Dn(In.value);In=Nn.next().value,Nn=Nn.next().value,gn.closedCaptions.set(In,Nn)}}bn.trickModeVideo?(gn.trickModeVideo||(gn.trickModeVideo=JS(bn.trickModeVideo),gn.trickModeVideo.createSegmentIndex=function(){return gn.trickModeVideo.segmentIndex=gn.segmentIndex.clone(),Promise.resolve()}),OE(gn.trickModeVideo,bn.trickModeVideo)):gn.trickModeVideo&&OE(gn.trickModeVideo,bn)}function f1(gn,bn){gn.roles=Array.from(new Set(gn.roles.concat(bn.roles)));var wn=bn.keyIds;if(wn=new Set([].concat(Kn(gn.keyIds),Kn(wn))),gn.keyIds=wn,gn.encrypted=gn.encrypted&&bn.encrypted,gn.segments.push.apply(gn.segments,Kn(bn.segments)),bn.closedCaptions)for(gn.closedCaptions||(gn.closedCaptions=new Map),bn=Dn(bn.closedCaptions),wn=bn.next();!wn.done;wn=bn.next()){var In=Dn(wn.value);wn=In.next().value,In=In.next().value,gn.closedCaptions.set(wn,In)}}function vP(gn,bn){var wn=[];gn=Dn(gn);for(var In=gn.next();!In.done;In=gn.next()){var Nn=bn,jn={audio:Ww,video:Ww,text:E_,image:zR}[Nn.type],Vn={audio:_P,video:HR,text:EP,image:e$}[Nn.type],Hn=null;In=Dn(In.value);for(var Xn=In.next();!Xn.done;Xn=In.next())Xn=Xn.value,!jn(Nn,Xn)||Hn&&!Vn(Nn,Hn,Xn)||(Hn=Xn);if(Nn=Hn,!Nn)return;wn.push(Nn)}bn.matchedStreams=wn}function Ww(gn,bn){var wn;return!(wn=bn.mimeType!=gn.mimeType||xl(bn.codecs)!=xl(gn.codecs))&&(wn=gn.drmInfos)&&(gn=gn.drmInfos,bn=bn.drmInfos,wn=!(!(gn.length&&bn.length)||0<Y$(gn,bn).length)),!wn}function E_(gn,bn){return gn.language?bn.language?!(km(gn.language,bn.language)==0||bn.kind!=gn.kind):!0:!1}function zR(gn){return!!gn.tilesLayout}function _P(gn,bn,wn){if(gn.id==wn.id)return!0;var In=km(gn.language,bn.language),Nn=km(gn.language,wn.language);return Nn>In?!0:Nn<In?!1:gn.roles.length?(In=bn.roles.filter(function(jn){return gn.roles.includes(jn)}),Nn=wn.roles.filter(function(jn){return gn.roles.includes(jn)}),Nn.length>In.length?!0:Nn.length<In.length?!1:wn.roles.length<bn.roles.length):!wn.roles.length&&bn.roles.length?!0:wn.roles.length&&!bn.roles.length?!1:!bn.primary&&wn.primary?!0:bn.primary&&!wn.primary?!1:(In=S_(gn.channelsCount,bn.channelsCount,wn.channelsCount),In==vy?!0:In==qv?!1:(In=S_(gn.audioSamplingRate,bn.audioSamplingRate,wn.audioSamplingRate),In==vy?!0:In==qv?!1:!!(gn.bandwidth&&qw(gn.bandwidth,bn.bandwidth,wn.bandwidth)==vy)))}function HR(gn,bn,wn){if(gn.id==wn.id)return!0;var In=S_(gn.width*gn.height,bn.width*bn.height,wn.width*wn.height);if(In==vy)return!0;if(In==qv)return!1;if(gn.frameRate){if(In=S_(gn.frameRate,bn.frameRate,wn.frameRate),In==vy)return!0;if(In==qv)return!1}return!!(gn.bandwidth&&qw(gn.bandwidth,bn.bandwidth,wn.bandwidth)==vy)}function EP(gn,bn,wn){if(gn.id==wn.id)return!0;var In=km(gn.language,bn.language),Nn=km(gn.language,wn.language);if(Nn>In)return!0;if(Nn<In)return!1;if(!bn.primary&&wn.primary)return!0;if(bn.primary&&!wn.primary)return!1;if(gn.roles.length){if(In=bn.roles.filter(function(jn){return gn.roles.includes(jn)}),Nn=wn.roles.filter(function(jn){return gn.roles.includes(jn)}),Nn.length>In.length)return!0;if(Nn.length<In.length)return!1}else{if(!wn.roles.length&&bn.roles.length)return!0;if(wn.roles.length&&!bn.roles.length)return!1}return!(wn.mimeType!=gn.mimeType||wn.codecs!=gn.codecs||bn.mimeType==gn.mimeType&&bn.codecs==gn.codecs)}function e$(gn,bn,wn){return gn.id==wn.id?!0:S_(gn.width*gn.height,bn.width*bn.height,wn.width*wn.height)==vy}function t$(gn){return{id:0,originalId:"",primary:!1,type:gn,mimeType:"",codecs:"",language:"",label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null}}function v0(gn){return{id:0,originalId:"",createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new yl([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",label:null,type:gn,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null}}function S_(gn,bn,wn){if(bn==gn&&gn!=wn)return qv;if(wn==gn&&gn!=bn)return vy;if(bn>gn){if(wn<=gn||wn-gn<bn-gn)return vy;if(wn-gn>bn-gn)return qv}else{if(wn>gn)return qv;if(gn-wn<gn-bn)return vy;if(gn-wn>gn-bn)return qv}return SP}function qw(gn,bn,wn){return bn=Math.abs(gn-bn),gn=Math.abs(gn-wn),gn<bn?vy:bn<gn?qv:SP}var vy=1,SP=0,qv=-1;function r$(){var gn=this;this.h=this.g=null,this.m=[],this.i=null,this.G=1,this.l={},this.L={},this.j=new Hw,this.F=0,this.H=new _u(5),this.D=new Hu(function(){xP(gn)}),this.o=new Iv,this.s=null,this.J=[],this.u=1/0,this.B=!1}En=r$.prototype,En.configure=function(gn){this.g=gn},En.start=function(gn,bn){var wn=this,In;return hs(function(Nn){if(Nn.g==1)return wn.B=bn.isLowLatencyMode(),wn.m=[gn],wn.h=bn,Qn(Nn,Yw(wn),2);if(In=Nn.h,wn.h&&mv(wn,In),!wn.h)throw new Vs(2,7,7001);return Nn.return(wn.i)})},En.stop=function(){for(var gn=Dn(Object.values(this.l)),bn=gn.next();!bn.done;bn=gn.next())bn=bn.value,bn.segmentIndex&&bn.segmentIndex.release();return this.j&&this.j.release(),this.g=this.h=null,this.m=[],this.i=null,this.l={},this.j=null,this.D!=null&&(this.D.stop(),this.D=null),this.o.destroy()},En.update=function(){var gn=this,bn;return hs(function(wn){if(wn.g==1)return $s(wn,2),Qn(wn,Yw(gn),4);if(wn.g!=2)return gs(wn,0);if(bn=Ss(wn),!gn.h||!bn)return wn.return();gn.h.onError(bn),ms(wn)})},En.onExpirationUpdated=function(){};function Yw(gn){var bn,wn,In,Nn,jn,Vn,Hn;return hs(function(Xn){return Xn.g==1?(bn=tm(gn.m,gn.g.retryParameters),wn=gn.h.networkingEngine,gn.h.modifyManifestRequest(bn,{format:"d"}),In=Date.now(),Nn=wn.request(0,bn),Al(gn.o,Nn),Qn(Xn,Nn.promise,2)):Xn.g!=3?(jn=Xn.h,gn.h?(jn.uri&&!gn.m.includes(jn.uri)&&gn.m.unshift(jn.uri),Qn(Xn,KR(gn,jn.data,jn.uri),3)):Xn.return(0)):(Vn=Date.now(),Hn=(Vn-In)/1e3,gn.H.sample(1,Hn),Xn.return(Hn))})}function KR(gn,bn,wn){var In,Nn,jn,Vn;return hs(function(Hn){if(Hn.g==1){if(In=sv(bn,"MPD"),!In)throw new Vs(2,4,4001,wn);return gn.g.dash.disableXlinkProcessing?Hn.return($P(gn,In,wn)):(Nn=gn.g.dash.xlinkFailGracefully,jn=y0(In,gn.g.retryParameters,Nn,wn,gn.h.networkingEngine),Al(gn.o,jn),Qn(Hn,jn.promise,2))}return Vn=Hn.h,Hn.return($P(gn,Vn,wn))})}function $P(gn,bn,wn){var In,Nn,jn,Vn,Hn,Xn,ns,ss,ps,fs,vs,Is,Ls,ws,Rs,Zs,Fs,Ws,Gs,eu,au,du,pu,bu,Uu,Bu,al,Mu,Ql,ul;return hs(function(kl){switch(kl.g){case 1:if((In=gn.g.dash.manifestPreprocessor)&&In(bn),Nn=[wn],jn=Hl(bn,"Location").map(z0).filter(dp),0<jn.length&&(Vn=zp(Nn,jn),Nn=gn.m=Vn),Hn=Hl(bn,"BaseURL"),Xn=Hn.map(z0),ns=zp(Nn,Xn),ss=0,Hn&&Hn.length&&(ss=Ml(Hn[0],"availabilityTimeOffset",H0)||0),ps=gn.g.dash.ignoreMinBufferTime,fs=0,ps||(fs=Ml(bn,"minBufferTime",Nv)||0),gn.F=Ml(bn,"minimumUpdatePeriod",Nv,-1),vs=Ml(bn,"availabilityStartTime",Xl),Is=Ml(bn,"timeShiftBufferDepth",Nv),Ls=gn.g.dash.ignoreSuggestedPresentationDelay,ws=null,Ls||(ws=Ml(bn,"suggestedPresentationDelay",Nv)),Rs=gn.g.dash.ignoreMaxSegmentDuration,Zs=null,Rs||(Zs=Ml(bn,"maxSegmentDuration",Nv)),Fs=bn.getAttribute("type")||"static",gn.i)for(Ws=gn.i.presentationTimeline,Gs=Dn(Object.values(gn.l)),eu=Gs.next();!eu.done;eu=Gs.next())au=eu.value,au.segmentIndex&&au.segmentIndex.eb(Ws.Oa());else du=gn.g.defaultPresentationDelay||1.5*fs,pu=ws??du,Ws=new ku(vs,pu,gn.g.dash.autoCorrectDrift);return Ws.yc(Fs=="static"),Ws.U()&&!isNaN(gn.g.availabilityWindowOverride)&&(Is=gn.g.availabilityWindowOverride),Is==null&&(Is=1/0),Ws.me(Is),bu=bn.getAttribute("profiles")||"",Uu={Va:Fs!="static",presentationTimeline:Ws,$:null,T:null,fa:null,I:null,bandwidth:0,Ke:!1,zb:ss,profiles:bu.split(",")},Bu=TP(gn,Uu,ns,bn),al=Bu.duration,Mu=Bu.periods,Fs!="static"&&Bu.De||Ws.Aa(al||1/0),gn.u&&!gn.B&&gn.h.isAutoLowLatencyMode()&&(gn.h.enableLowLatencyMode(),gn.B=gn.h.isLowLatencyMode()),gn.B?Ws.Te(gn.u):gn.u&&$u("Low-latency DASH live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),Ws.Sd(Zs||1),Qn(kl,UR(gn.j,Mu,Uu.Va),2);case 2:if(gn.i){gn.i.variants=gn.j.l,gn.i.textStreams=gn.j.j.slice(),gn.i.imageStreams=gn.j.i,gn.h.filter(gn.i),kl.A(3);break}if(gn.i={presentationTimeline:Ws,variants:gn.j.l,textStreams:gn.j.j.slice(),imageStreams:gn.j.i,offlineSessionIds:[],minBufferTime:fs||0,sequenceMode:gn.g.dash.sequenceMode},!Ws.cf()){kl.A(4);break}return Ql=Hl(bn,"UTCTiming"),Qn(kl,qR(gn,ns,Ql),5);case 5:if(ul=kl.h,!gn.h)return kl.return();Ws.Ue(ul);case 4:Ws.Md();case 3:gn.h.makeTextStreamsForClosedCaptions(gn.i),ms(kl)}})}function TP(gn,bn,wn,In){var Nn=Ml(In,"mediaPresentationDuration",Nv),jn=[],Vn=0;In=Hl(In,"Period");for(var Hn=0;Hn<In.length;Hn++){var Xn=In[Hn],ns=In[Hn+1],ss=Ml(Xn,"start",Nv,Vn),ps=Xn.id,fs=Ml(Xn,"duration",Nv),vs=null;if(ns){var Is=Ml(ns,"start",Nv);Is!=null&&(vs=Is-ss)}else Nn!=null&&(vs=Nn-ss);if(vs==null&&(vs=fs),!(gn.s!==null&&ps!==null&&ss!==null&&ss<gn.s)||gn.J.includes(ps)||Hn+1==In.length){if(ss!==null&&(gn.s===null||ss>gn.s)&&(gn.s=ss),Vn=kP(gn,bn,wn,{start:ss,duration:vs,node:Xn,Gd:vs==null||!ns}),jn.push(Vn),bn.$.id&&vs&&(gn.L[bn.$.id]=vs),vs==null){Vn=null;break}Vn=ss+vs}}return gn.J=jn.map(function(Ls){return Ls.id}),Nn!=null?{periods:jn,duration:Nn,De:!1}:{periods:jn,duration:Vn,De:!0}}function kP(gn,bn,wn,In){bn.$=_0(In.node,null,wn),bn.T=In,bn.$.zb=bn.zb,bn.$.id||(bn.$.id="__shaka_period_"+In.start);var Nn=Hl(In.node,"EventStream");wn=bn.presentationTimeline.Oa(),Nn=Dn(Nn);for(var jn=Nn.next();!jn.done;jn=Nn.next())YR(gn,In.start,In.duration,jn.value,wn);if(wn=Hl(In.node,"AdaptationSet").map(function(ss){return bP(gn,bn,ss)}).filter(dp),bn.Va){for(In=[],Nn=Dn(wn),jn=Nn.next();!jn.done;jn=Nn.next()){jn=Dn(jn.value.pg);for(var Vn=jn.next();!Vn.done;Vn=jn.next())In.push(Vn.value)}if(In.length!=new Set(In).size)throw new Vs(2,4,4018)}for(In=wn.filter(function(ss){return!ss.qe}),wn=wn.filter(function(ss){return ss.qe}),wn=Dn(wn),Nn=wn.next();!Nn.done;Nn=wn.next()){Nn=Nn.value,jn=Nn.qe.split(" "),Vn=Dn(In);for(var Hn=Vn.next();!Hn.done;Hn=Vn.next()){var Xn=Hn.value;if(jn.includes(Xn.id)){Hn={},Xn=Dn(Xn.streams);for(var ns=Xn.next();!ns.done;Hn={Gc:Hn.Gc},ns=Xn.next())Hn.Gc=ns.value,Hn.Gc.trickModeVideo=Nn.streams.find(function(ss){return function(ps){return xl(ss.Gc.codecs)==xl(ps.codecs)}}(Hn))}}}if(Nn=gn.g.disableAudio?[]:$_(In,"audio"),Vn=gn.g.disableVideo?[]:$_(In,"video"),jn=gn.g.disableText?[]:$_(In,Zu),wn=gn.g.disableThumbnails?[]:$_(In,"image"),!Vn.length&&!Nn.length)throw new Vs(2,4,4004);for(In=[],Nn=Dn(Nn),Hn=Nn.next();!Hn.done;Hn=Nn.next())In.push.apply(In,Kn(Hn.value.streams));for(Nn=[],Vn=Dn(Vn),Hn=Vn.next();!Hn.done;Hn=Vn.next())Nn.push.apply(Nn,Kn(Hn.value.streams));for(Vn=[],jn=Dn(jn),Hn=jn.next();!Hn.done;Hn=jn.next())Vn.push.apply(Vn,Kn(Hn.value.streams));for(jn=[],wn=Dn(wn),Hn=wn.next();!Hn.done;Hn=wn.next())jn.push.apply(jn,Kn(Hn.value.streams));return{id:bn.$.id,Kc:In,gd:Nn,textStreams:Vn,imageStreams:jn}}function $_(gn,bn){return gn.filter(function(wn){return wn.contentType==bn})}function bP(gn,bn,wn){function In(eu){switch(eu){case 1:case 6:case 13:case 14:case 15:return"SDR";case 16:return"PQ";case 18:return"HLG"}}bn.fa=_0(wn,bn.$,null);var Nn=!1,jn=Hl(wn,"Role"),Vn=jn.map(function(eu){return eu.getAttribute("value")}).filter(dp),Hn=void 0,Xn=bn.fa.contentType==Zu;Xn&&(Hn="subtitle"),jn=Dn(jn);for(var ns=jn.next();!ns.done;ns=jn.next()){ns=ns.value;var ss=ns.getAttribute("schemeIdUri");if(ss==null||ss=="urn:mpeg:dash:role:2011")switch(ns=ns.getAttribute("value"),ns){case"main":Nn=!0;break;case"caption":case"subtitle":Hn=ns}}var ps;ss=Hl(wn,"EssentialProperty"),jn=null,ns=!1,ss=Dn(ss);for(var fs=ss.next();!fs.done;fs=ss.next()){fs=fs.value;var vs=fs.getAttribute("schemeIdUri");vs=="http://dashif.org/guidelines/trickmode"?jn=fs.getAttribute("value"):vs=="urn:mpeg:mpegB:cicp:TransferCharacteristics"?ps=In(parseInt(fs.getAttribute("value"),10)):ns=!0}for(ss=Hl(wn,"SupplementalProperty"),ss=Dn(ss),fs=ss.next();!fs.done;fs=ss.next())fs=fs.value,fs.getAttribute("schemeIdUri")=="urn:mpeg:mpegB:cicp:TransferCharacteristics"&&(ps=In(parseInt(fs.getAttribute("value"),10)));ss=Hl(wn,"Accessibility");var Is=new Map;for(ss=Dn(ss),fs=ss.next();!fs.done;fs=ss.next())if(vs=fs.value,fs=vs.getAttribute("schemeIdUri"),vs=vs.getAttribute("value"),fs=="urn:scte:dash:cc:cea-608:2015")if(fs=1,vs!=null){vs=vs.split(";");for(var Ls=Dn(vs),ws=Ls.next();!ws.done;ws=Ls.next()){var Rs=ws.value,Zs=ws=void 0;Rs.includes("=")?(Rs=Rs.split("="),ws=Rs[0].startsWith("CC")?Rs[0]:"CC"+Rs[0],Zs=Rs[1]||"und"):(ws="CC"+fs,vs.length==2?fs+=2:fs++,Zs=Rs),Is.set(ws,ml(Zs))}}else Is.set("CC1","und");else if(fs=="urn:scte:dash:cc:cea-708:2015")if(fs=1,vs!=null)for(vs=Dn(vs.split(";")),ws=vs.next();!ws.done;ws=vs.next())ws=ws.value,Rs=Ls=void 0,ws.includes("=")?(ws=ws.split("="),Ls="svc"+ws[0],Rs=ws[1].split(",")[0].split(":").pop()):(Ls="svc"+fs,fs++,Rs=ws),Is.set(Ls,ml(Rs));else Is.set("svc1","und");else fs=="urn:mpeg:dash:role:2011"&&vs!=null&&(Vn.push(vs),vs=="captions"&&(Hn="caption"));if(ns)return null;ns=Hl(wn,"ContentProtection");var Fs=rP(ns,gn.g.dash.ignoreDrmInfo,gn.g.dash.keySystemsByURI),Ws=ml(wn.getAttribute("lang")||"und"),Gs=wn.getAttribute("label");if((ns=Hl(wn,"Label"))&&ns.length&&(ns=ns[0],ns.textContent&&(Gs=ns.textContent)),ns=Hl(wn,"Representation"),wn=ns.map(function(eu){return(eu=Wy(gn,bn,Fs,Hn,Ws,Gs,Nn,Vn,Is,eu))&&(eu.hdr=eu.hdr||ps),eu}).filter(function(eu){return!!eu}),wn.length==0){if(jn=bn.fa.contentType=="image",gn.g.dash.ignoreEmptyAdaptationSet||Xn||jn)return null;throw new Vs(2,4,4003)}if(!bn.fa.contentType||bn.fa.contentType=="application")for(bn.fa.contentType=wP(wn[0].mimeType,wn[0].codecs),Xn=Dn(wn),ss=Xn.next();!ss.done;ss=Xn.next())ss.value.type=bn.fa.contentType;for(Xn=Dn(wn),ss=Xn.next();!ss.done;ss=Xn.next())for(ss=ss.value,fs=Dn(Fs.drmInfos),vs=fs.next();!vs.done;vs=fs.next())vs=vs.value,vs.keyIds=vs.keyIds&&ss.keyIds?new Set([].concat(Kn(vs.keyIds),Kn(ss.keyIds))):vs.keyIds||ss.keyIds;return Xn=ns.map(function(eu){return eu.getAttribute("id")}).filter(dp),{id:bn.fa.id||"__fake__"+gn.G++,contentType:bn.fa.contentType,language:Ws,sh:Nn,streams:wn,drmInfos:Fs.drmInfos,qe:jn,pg:Xn}}function Wy(gn,bn,wn,In,Nn,jn,Vn,Hn,Xn,ns){if(bn.I=_0(ns,bn.fa,null),gn.u=Math.min(gn.u,bn.I.zb),!WR(bn.I))return null;var ss=bn.T.start;bn.bandwidth=Ml(ns,"bandwidth",ly)||0;var ps=bn.I.contentType,fs=ps==Zu||ps=="application";ps=ps=="image";try{var vs=function(eu,au,du){return p1(gn,eu,au,du)};if(bn.I.wc)var Is=MR(bn,vs);else if(bn.I.ab)Is=zw(bn,gn.l);else if(bn.I.xc)Is=fP(bn,vs,gn.l,!!gn.i,gn.g.dash.initialSegmentLimit,gn.L);else{var Ls=bn.I.wa,ws=bn.T.duration||0;Is={Bb:function(){return Promise.resolve(vT(ss,ws,Ls))}}}}catch(eu){if((fs||ps)&&eu.code==4002)return null;throw eu}vs=Hl(ns,"ContentProtection"),vs=TR(vs,wn,gn.g.dash.ignoreDrmInfo,gn.g.dash.keySystemsByURI),vs=new Set(vs?[vs]:[]);var Rs=!1;Hl(ns,"SupplementalProperty").some(function(eu){return eu.getAttribute("schemeIdUri")=="tag:dolby.com,2018:dash:EC3_ExtensionType:2018"&&eu.getAttribute("value")=="JOC"})&&(Rs=!0);var Zs=!1;fs&&(Zs=Hn.includes("forced_subtitle")||Hn.includes("forced-subtitle"));var Fs;if(ps&&((ns=Hl(ns,"EssentialProperty").find(function(eu){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(eu.getAttribute("schemeIdUri"))}))&&(Fs=ns.getAttribute("value")),!Fs))return null;var Ws;ns=bn.I.codecs,bn.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(ns.includes("hvc1.2.4.L153.B0")||ns.includes("hev1.2.4.L153.B0"))&&(Ws="PQ"),ns=bn.I.id?bn.$.id+","+bn.I.id:"";var Gs=ns&&gn.l[ns]?gn.l[ns]:{id:gn.G++,originalId:bn.I.id,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){Gs.segmentIndex&&(Gs.segmentIndex.release(),Gs.segmentIndex=null)},segmentIndex:null,mimeType:bn.I.mimeType,codecs:bn.I.codecs,frameRate:bn.I.frameRate,pixelAspectRatio:bn.I.pixelAspectRatio,bandwidth:bn.bandwidth,width:bn.I.width,height:bn.I.height,kind:In,encrypted:0<wn.drmInfos.length,drmInfos:wn.drmInfos,keyIds:vs,language:Nn,label:jn,type:bn.fa.contentType,primary:Vn,trickModeVideo:null,emsgSchemeIdUris:bn.I.emsgSchemeIdUris,roles:Hn,forced:Zs,channelsCount:bn.I.ad,audioSamplingRate:bn.I.audioSamplingRate,spatialAudio:Rs,closedCaptions:Xn,hdr:Ws,tilesLayout:Fs,matchedStreams:[]};return Gs.createSegmentIndex=function(){var eu;return hs(function(au){if(au.g==1)return Gs.segmentIndex?au.A(0):(eu=Gs,Qn(au,Is.Bb(),3));eu.segmentIndex=au.h,ms(au)})},ns&&bn.Va&&!gn.l[ns]&&(gn.l[ns]=Gs),Gs}function xP(gn){var bn,wn;hs(function(In){switch(In.g){case 1:return bn=0,$s(In,2),Qn(In,Yw(gn),4);case 4:bn=In.h,gs(In,3);break;case 2:wn=Ss(In),gn.h&&(wn.severity=1,gn.h.onError(wn));case 3:if(!gn.h)return In.return();mv(gn,bn),ms(In)}})}function mv(gn,bn){0>gn.F||gn.D.O(Math.max(3,gn.F-bn,Wl(gn.H)))}function _0(gn,bn,wn){bn=bn||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,ad:null,audioSamplingRate:null,zb:0},wn=wn||bn.wa;var In=Hl(gn,"BaseURL"),Nn=In.map(z0),jn=gn.getAttribute("contentType")||bn.contentType,Vn=gn.getAttribute("mimeType")||bn.mimeType,Hn=gn.getAttribute("codecs")||bn.codecs,Xn=Ml(gn,"frameRate",Kl)||bn.frameRate,ns=gn.getAttribute("sar")||bn.pixelAspectRatio,ss=Hl(gn,"InbandEventStream"),ps=bn.emsgSchemeIdUris.slice();ss=Dn(ss);for(var fs=ss.next();!fs.done;fs=ss.next())fs=fs.value.getAttribute("schemeIdUri"),ps.includes(fs)||ps.push(fs);ss=Hl(gn,"AudioChannelConfiguration"),ss=Xw(ss)||bn.ad,fs=Ml(gn,"audioSamplingRate",Gm)||bn.audioSamplingRate,jn||(jn=wP(Vn,Hn));var vs=Rv(gn,"SegmentBase"),Is=Rv(gn,"SegmentTemplate"),Ls=vs&&Ml(vs,"availabilityTimeOffset",H0)||0,ws=Is&&Ml(Is,"availabilityTimeOffset",H0)||0;return In=In&&In.length&&Ml(In[0],"availabilityTimeOffset",H0)||0,In=bn.zb+In+Ls+ws,{wa:zp(wn,Nn),wc:vs||bn.wc,ab:Rv(gn,"SegmentList")||bn.ab,xc:Is||bn.xc,width:Ml(gn,"width",Gm)||bn.width,height:Ml(gn,"height",Gm)||bn.height,contentType:jn,mimeType:Vn,codecs:Hn,frameRate:Xn,pixelAspectRatio:ns,emsgSchemeIdUris:ps,id:gn.getAttribute("id"),ad:ss,audioSamplingRate:fs,zb:In}}function Xw(gn){gn=Dn(gn);for(var bn=gn.next();!bn.done;bn=gn.next()){var wn=bn.value;if((bn=wn.getAttribute("schemeIdUri"))&&(wn=wn.getAttribute("value")))switch(bn){case"urn:mpeg:dash:outputChannelPositionList:2012":return wn.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(bn=parseInt(wn,10),!bn)continue;return bn;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(bn=parseInt(wn,16),!bn)continue;for(gn=0;bn;)bn&1&&++gn,bn>>=1;return gn;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(bn=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(wn=parseInt(wn,10))&&0<wn&&wn<bn.length)return bn[wn]}}return null}function WR(gn){var bn=gn.wc?1:0;return bn+=gn.ab?1:0,bn+=gn.xc?1:0,bn==0?gn.contentType==Zu||gn.contentType=="application":(bn!=1&&(gn.wc&&(gn.ab=null),gn.xc=null),!0)}function Qw(gn,bn,wn,In){var Nn,jn,Vn,Hn,Xn,ns;return hs(function(ss){if(ss.g==1)return Nn=zp(bn,[wn]),jn=tm(Nn,gn.g.retryParameters),jn.method=In,Vn=gn.h.networkingEngine.request(4,jn),Al(gn.o,Vn),Qn(ss,Vn.promise,2);if(Hn=ss.h,In=="HEAD"){if(!Hn.headers||!Hn.headers.date)return ss.return(0);Xn=Hn.headers.date}else Xn=Ou(Hn.data);return ns=Date.parse(Xn),isNaN(ns)?ss.return(0):ss.return(ns-Date.now())})}function qR(gn,bn,wn){var In,Nn,jn,Vn,Hn,Xn,ns,ss;return hs(function(ps){switch(ps.g){case 1:In=wn.map(function(fs){return{scheme:fs.getAttribute("schemeIdUri"),value:fs.getAttribute("value")}}),Nn=gn.g.dash.clockSyncUri,!In.length&&Nn&&In.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:Nn}),jn=Dn(In),Vn=jn.next();case 2:if(Vn.done){ps.A(4);break}switch(Hn=Vn.value,$s(ps,5),Xn=Hn.scheme,ns=Hn.value,Xn){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return ps.A(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return ps.A(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return ss=Date.parse(ns),ps.return(isNaN(ss)?0:ss-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":$u("NTP UTCTiming scheme is not supported");break;default:$u("Unrecognized scheme in UTCTiming element",Xn)}ps.A(9);break;case 7:return Qn(ps,Qw(gn,bn,ns,"HEAD"),10);case 10:return ps.return(ps.h);case 8:return Qn(ps,Qw(gn,bn,ns,"GET"),11);case 11:return ps.return(ps.h);case 9:gs(ps,3);break;case 5:Ss(ps);case 3:Vn=jn.next(),ps.A(2);break;case 4:return $u("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),ps.return(0)}})}function YR(gn,bn,wn,In,Nn){var jn=In.getAttribute("schemeIdUri")||"",Vn=In.getAttribute("value")||"",Hn=Ml(In,"timescale",Gm)||1;In=Dn(Hl(In,"Event"));for(var Xn=In.next();!Xn.done;Xn=In.next()){Xn=Xn.value;var ns=Ml(Xn,"presentationTime",Gm)||0,ss=Ml(Xn,"duration",Gm)||0;ns=ns/Hn+bn,ss=ns+ss/Hn,wn!=null&&(ns=Math.min(ns,bn+wn),ss=Math.min(ss,bn+wn)),ss<Nn||(Xn={schemeIdUri:jn,value:Vn,startTime:ns,endTime:ss,id:Xn.getAttribute("id")||"",eventElement:Xn},gn.h.onTimelineRegionAdded(Xn))}}function p1(gn,bn,wn,In){var Nn,jn,Vn,Hn,Xn;return hs(function(ns){return ns.g==1?(Nn=Fy,jn=nw(bn,wn,In,gn.g.retryParameters),Vn=gn.h.networkingEngine,Hn=Vn.request(Nn,jn),Al(gn.o,Hn),Qn(ns,Hn.promise,2)):(Xn=ns.h,ns.return(Xn.data))})}function wP(gn,bn){return r_(_h(gn,bn))?Zu:gn.split("/")[0]}Ys("shaka.dash.DashParser",r$),q_.mpd=function(){return new r$},cy["application/dash+xml"]=function(){return new r$},cy["video/vnd.mpeg.dash.mpd"]=function(){return new r$};function CP(gn,bn,wn,In){this.h=gn,this.type=bn,this.g=wn,this.segments=In||null}function Zw(gn,bn,wn,In){this.id=gn,this.name=bn,this.g=wn,this.value=In===void 0?null:In}Zw.prototype.toString=function(){function gn(In){return In.name+"="+(isNaN(Number(In.value))?'"'+In.value+'"':In.value)}var bn="#"+this.name,wn=this.g?this.g.map(gn):[];return this.value&&wn.unshift(this.value),0<wn.length&&(bn+=":"+wn.join(",")),bn},Zw.prototype.getAttribute=function(gn){var bn=this.g.filter(function(wn){return wn.name==gn});return bn.length?bn[0]:null};function Yu(gn,bn,wn){return(gn=gn.getAttribute(bn))?gn.value:wn||null}function tp(gn,bn){if(gn=gn.getAttribute(bn),!gn)throw new Vs(2,4,4023,bn);return gn.value}function AP(gn,bn,wn){wn=wn===void 0?[]:wn,this.g=bn,this.i=gn,this.h=wn}function IP(gn,bn){this.name=gn,this.value=bn}function qy(gn,bn){return gn.filter(function(wn){return wn.name==bn})}function PP(gn,bn){return gn.filter(function(wn){return tp(wn,"TYPE")==bn})}function um(gn,bn){return gn=qy(gn,bn),gn.length?gn[0]:null}function h1(gn,bn){var wn=0;return wn=wn===void 0?0:wn,(gn=um(gn,bn))?Number(gn.value):wn}function E0(gn,bn){return zp([gn],[bn])[0]}function T_(gn){this.h=gn,this.g=0}function k_(gn){Lu(gn,/[ \t]+/gm)}function Lu(gn,bn){return bn.lastIndex=gn.g,bn=bn.exec(gn.h),bn=bn==null?null:{position:bn.index,length:bn[0].length,results:bn},gn.g==gn.h.length||bn==null||bn.position!=gn.g?null:(gn.g+=bn.length,bn.results)}function Fl(gn){return gn.g==gn.h.length?null:(gn=Lu(gn,/[^ \t\n]*/gm))?gn[0]:null}function OP(){this.g=0}function m1(gn,bn,wn){bn=Ou(bn),bn=bn.replace(/\r\n|\r(?=[^\n]|$)/gm,`
`).trim();var In=bn.split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(In[0]))throw new Vs(2,4,4015);bn=0;for(var Nn=!0,jn=Dn(In),Vn=jn.next();!Vn.done;Vn=jn.next())if(Vn=Vn.value,/^#(?!EXT)/m.test(Vn)||Nn)Nn=!1;else if(Vn=_y(gn,Vn),--gn.g,Jw.includes(Vn.name)){bn=1;break}else Vn.name=="EXT-X-STREAM-INF"&&(Nn=!0);for(jn=[],Nn=!0,Vn=0;Vn<In.length;Vn++){var Hn=In[Vn],Xn=In[Vn+1];if(/^#(?!EXT)/m.test(Hn)||Nn)Nn=!1;else{if(Hn=_y(gn,Hn),lm.includes(Hn.name)){if(bn!=1)throw new Vs(2,4,4017);var ns=In.splice(Vn,In.length-Vn);In=wn,Nn=[],Vn=[],Xn=[],Hn=null,ns=Dn(ns);for(var ss=ns.next();!ss.done;ss=ns.next())ss=ss.value,/^(#EXT)/.test(ss)?(ss=_y(gn,ss),Jw.includes(ss.name)?jn.push(ss):ss.name=="EXT-X-MAP"?Hn=ss:ss.name=="EXT-X-PART"?Xn.push(ss):ss.name=="EXT-X-PRELOAD-HINT"?Yu(ss,"TYPE")=="PART"?Xn.push(ss):Yu(ss,"TYPE")=="MAP"&&(ss.name="EXT-X-MAP",Hn=ss):Vn.push(ss)):/^#(?!EXT)/m.test(ss)||(ss=E0(In,ss.trim()),Hn&&Vn.push(Hn),Nn.push(new AP(ss,Vn,Xn)),Vn=[],Xn=[]);return Xn.length&&(Hn&&Vn.push(Hn),Nn.push(new AP("",Vn,Xn))),new CP(wn,bn,jn,Nn)}jn.push(Hn),Hn.name=="EXT-X-STREAM-INF"&&(Hn.g.push(new IP("URI",Xn)),Nn=!0)}}return new CP(wn,bn,jn)}function _y(gn,bn){gn=gn.g++;var wn=bn.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!wn)throw new Vs(2,4,4016,bn);bn=wn[1];var In=wn[2];wn=[];var Nn;if(In){In=new T_(In);var jn;(jn=Lu(In,/^([^,=]+)(?:,|$)/g))&&(Nn=jn[1]);for(var Vn=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;jn=Lu(In,Vn);)wn.push(new IP(jn[1],jn[2]||jn[3])),k_(In)}return new Zw(gn,bn,wn,Nn)}var Jw="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP".split(" "),lm="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP".split(" ");function n$(){}function S0(gn){try{var bn=Yv(gn);return Uy({uri:gn,originalUri:gn,data:bn.data,headers:{"content-type":bn.contentType}})}catch(wn){return s_(wn)}}function Yv(gn){var bn=gn.split(":");if(2>bn.length||bn[0]!="data")throw new Vs(2,1,1004,gn);if(bn=bn.slice(1).join(":").split(","),2>bn.length)throw new Vs(2,1,1004,gn);var wn=bn[0];gn=pn.decodeURIComponent(bn.slice(1).join(",")),bn=wn.split(";"),wn=bn[0];var In=!1;1<bn.length&&bn[bn.length-1]=="base64"&&(In=!0,bn.pop());var Nn;return In?Nn=mm(gn):Nn=fp(gn),{data:Nn,contentType:wn}}Ys("shaka.net.DataUriPlugin",n$),n$.parse=S0,jy("data",S0);function gv(){var gn=this;this.g=this.i=null,this.Fa=1,this.o=new Map,this.u=new Map,this.F=new Map,this.F.set("video",new Map),this.F.set("audio",new Map),this.F.set(Zu,new Map),this.F.set("image",new Map),this.ua=new Set,this.h=new Map,this.j=null,this.M="",this.W=new OP,this.P=0,this.B=-1,this.H=1/0,this.Ga=!1,this.m=new Hu(function(){HP(gn)}),this.ea=w1,this.D=null,this.ca=0,this.J=1/0,this.V=this.da=0,this.G=new Iv,this.L=new Map,this.s=new Map,this.ba=new Map,this.l=!1}En=gv.prototype,En.configure=function(gn){this.g=gn},En.start=function(gn,bn){var wn=this,In;return hs(function(Nn){return Nn.g==1?(wn.i=bn,wn.l=bn.isLowLatencyMode(),Qn(Nn,$1(wn,gn),2)):Nn.g!=3?(In=Nn.h,wn.M=In.uri,Qn(Nn,MP(wn,In.data,gn),3)):Nn.return(wn.D)})},En.stop=function(){this.m&&(this.m.stop(),this.m=null);var gn=[];return this.G&&(gn.push(this.G.destroy()),this.G=null),this.g=this.i=null,this.ua.clear(),this.D=null,this.h.clear(),this.u.clear(),this.s.clear(),this.o.clear(),Promise.all(gn)},En.update=function(){var gn=this,bn,wn,In,Nn,jn,Vn,Hn,Xn,ns;return hs(function(ss){if(ss.g==1){if(!Ey(gn))return ss.return();for(bn=[],wn=Array.from(gn.h.values()),In=wn.filter(function(ps){return ps.stream.segmentIndex}),Nn=Dn(In),jn=Nn.next();!jn.done;jn=Nn.next())Vn=jn.value,bn.push($0(gn,Vn));return Qn(ss,Promise.all(bn),2)}UP(gn,In.map(function(ps){return ps.stream})),Hn=In.some(function(ps){return ps.mc==0}),In.length&&!Hn&&(Xn=Sy,T1(gn,Xn.ef),ns=In.map(function(ps){return ps.Ya}),gn.j.Aa(Math.min.apply(Math,Kn(ns))),gn.i.updateDuration()),ms(ss)})};function yv(gn,bn){return Ey(gn)?gn.F.get(bn.type):bn.$c}function $0(gn,bn){var wn,In,Nn,jn,Vn,Hn,Xn,ns,ss,ps,fs,vs,Is,Ls,ws,Rs;return hs(function(Zs){if(Zs.g==1)return wn=bn.Jc,In=new Rp(wn),gn.l&&bn.Mc&&pm(In,new Jv("_HLS_skip=YES")),Qn(Zs,$1(gn,In.toString()),2);if(Nn=Zs.h,!bn.stream.segmentIndex)return Zs.return();if(jn=m1(gn.W,Nn.data,Nn.uri),jn.type!=1)throw new Vs(2,4,4017);Vn=qy(jn.g,"EXT-X-DEFINE"),Hn=tC(gn,Vn),Xn=bn.stream,ns=yv(gn,bn),ss=v1(jn,Xn.mimeType),ps=ss.keyIds,fs=ss.drmInfos,vs=function(Fs,Ws){return Fs.size===Ws.size&&[].concat(Kn(Fs)).every(function(Gs){return Ws.has(Gs)})},vs(Xn.keyIds,ps)||(Xn.keyIds=ps,Xn.drmInfos=fs,gn.i.newDrmInfo(Xn)),Is=zP(gn,jn,Xn.type,ns,Hn),Xn.segmentIndex.Hb(Is,gn.j.Oa()),Is.length&&(Ls=h1(jn.g,"EXT-X-MEDIA-SEQUENCE"),ws=ns.get(Ls),Xn.segmentIndex.eb(ws)),Rs=Is[Is.length-1],um(jn.g,"EXT-X-ENDLIST")&&(bn.mc=!0,bn.Ya=Rs.endTime),ms(Zs)})}En.onExpirationUpdated=function(){};function XR(gn,bn){for(var wn=gn.B==-1,In=Dn(bn),Nn=In.next();!Nn.done;Nn=In.next()){Nn=Nn.value;var jn=Nn.stream.segmentIndex,Vn=yv(gn,Nn);if(jn=jn.g[0]||null){Vn=Dn(Vn);for(var Hn=Vn.next();!Hn.done;Hn=Vn.next()){Hn=Dn(Hn.value);var Xn=Hn.next().value;if(Hn.next().value==jn.startTime){wn&&(gn.B=Math.max(gn.B,Xn)),Nn.Cd=Xn;break}}}}if(!(0>gn.B))for(bn=Dn(bn),Nn=bn.next();!Nn.done;Nn=bn.next())wn=Nn.value,(In=wn.stream.segmentIndex)&&(In.g.splice(0,gn.B-wn.Cd),(In=In.g[0]||null)&&(In=-In.startTime,wn.stream.segmentIndex.offset(In),g1(gn,wn,In)))}function eC(gn,bn){if(gn.H==1/0){bn=Dn(bn);for(var wn=bn.next();!wn.done;wn=bn.next()){var In=wn.value.stream.segmentIndex.g[0]||null;In!=null&&In.g!=null&&(gn.H=Math.min(gn.H,In.g))}}if(bn=gn.H,bn!=1/0)for(In=Dn(gn.h.values()),wn=In.next();!wn.done;wn=In.next()){wn=wn.value;var Nn=wn.stream.segmentIndex;if(Nn!=null){var jn=Nn.g[0]||null;if(jn.g==null)fl("Missing EXT-X-PROGRAM-DATE-TIME for stream",wn.Ac,"Expect AV sync issues!");else for(g1(gn,wn,jn.g-bn-jn.startTime),wn=Dn(Nn),Nn=wn.next();!Nn.done;Nn=wn.next())Nn.value.oe(bn)}}}function g1(gn,bn,wn){bn.Ya+=wn,gn=yv(gn,bn),bn=Dn(gn);for(var In=bn.next();!In.done;In=bn.next()){var Nn=Dn(In.value);In=Nn.next().value,Nn=Nn.next().value,gn.set(In,Nn+wn)}}function MP(gn,bn,wn){var In,Nn,jn,Vn,Hn,Xn,ns,ss,ps,fs,vs,Is,Ls,ws,Rs,Zs,Fs,Ws,Gs,eu,au,du,pu,bu,Uu,Bu,al,Mu,Ql,ul,kl,Bp;return hs(function(ey){switch(ey.g){case 1:In=m1(gn.W,bn,gn.M),Nn=qy(In.g,"EXT-X-DEFINE");for(var Qy=Dn(Nn),yp=Qy.next();!yp.done;yp=Qy.next()){var qp=yp.value;yp=Yu(qp,"NAME"),qp=Yu(qp,"VALUE"),yp&&qp&&(gn.o.has(yp)||gn.o.set(yp,qp))}if(jn=[],Vn=[],Hn=[],In.type==1)return eu=gn.g.hls.mediaPlaylistFullMimeType,In.segments.length&&(au=new Rp(In.segments[0].i),du=au.qa.split(".").pop(),(pu=fC[du])?eu=pu:du!=="ts"&&du!=="mp4"&&(k1[du]?(pu=k1[du],bu=gn.g.hls.defaultAudioCodec,eu=pu+'; codecs="'+bu+'"'):b_[du]&&(pu=b_[du],Uu=gn.g.hls.defaultVideoCodec,eu=pu+'; codecs="'+Uu+'"'))),Bu=eu.split(";")[0],al=Bu.split("/")[0],Mu=Ry(eu),Ql=new Map,Qn(ey,jP(gn,In,wn,wn,Mu,al,"",!0,"Media Playlist",null,Ql,null,!1,!1,Bu),5);for(Xn=qy(In.g,"EXT-X-MEDIA"),ns=qy(In.g,"EXT-X-STREAM-INF"),ss=qy(In.g,"EXT-X-IMAGE-STREAM-INF"),ps=qy(In.g,"EXT-X-SESSION-KEY"),Qy=Dn(ns),yp=Qy.next();!yp.done;yp=Qy.next()){var Zy=yp.value;qp=Yu(Zy,"AUDIO"),yp=Yu(Zy,"VIDEO");var Su=Yu(Zy,"SUBTITLES");if(Zy=DP(gn,Zy),Su){var pA=Np(Zu,Zy);gn.s.set(Su,pA),pl(Zy,pA)}qp&&(Su=Np("audio",Zy),Su||(Su=gn.g.hls.defaultAudioCodec),gn.s.set(qp,Su)),yp&&(qp=Np("video",Zy),qp||(qp=gn.g.hls.defaultVideoCodec),gn.s.set(yp,qp))}for(fs=qy(In.g,"EXT-X-SESSION-DATA"),vs=Dn(fs),Is=vs.next();!Is.done;Is=vs.next())Ls=Is.value,ws=Yu(Ls,"DATA-ID"),Rs=Yu(Ls,"URI"),Zs=Yu(Ls,"LANGUAGE"),Fs=Yu(Ls,"VALUE"),Ws=new Map().set("id",ws),Rs&&Ws.set("uri",E0(gn.M,Rs)),Zs&&Ws.set("language",Zs),Fs&&Ws.set("value",Fs),Gs=new Ju("sessiondata",Ws),gn.i&&gn.i.onEvent(Gs);for(i$(gn,Xn),Qy=PP(Xn,"CLOSED-CAPTIONS"),Qy=Dn(Qy),yp=Qy.next();!yp.done;yp=Qy.next())Su=yp.value,yp=iC(Su),qp=tp(Su,"GROUP-ID"),Su=tp(Su,"INSTREAM-ID"),gn.L.get(qp)||gn.L.set(qp,new Map),gn.L.get(qp).set(Su,yp);return jn=nC(gn,ns,ps),Vn=NP(gn,Xn),Qn(ey,rC(gn,ss),4);case 4:Hn=ey.h,ey.A(3);break;case 5:ul=ey.h,gn.h.set(wn,ul),jn.push({id:0,language:"und",disabledUntilTime:0,primary:!0,audio:al=="audio"?ul.stream:null,video:al=="video"?ul.stream:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});case 3:if(!gn.i)throw new Vs(2,7,7001);gn.j=new ku(null,0),gn.j.yc(!0),In.type==1&&(Ey(gn)&&(VP(gn),kl=gn.P,gn.m.O(kl)),Bp=Array.from(gn.h.values()),sC(gn,Bp),RP(gn)),gn.D={presentationTimeline:gn.j,variants:jn,textStreams:Vn,imageStreams:Hn,offlineSessionIds:[],minBufferTime:0,sequenceMode:!0},gn.i.makeTextStreamsForClosedCaptions(gn.D),ms(ey)}})}function RP(gn){if(Ey(gn)){if(gn.P=gn.J,gn.ea==pC){var bn=oC(gn);gn.g.hls.useSafariBehaviorForLive&&(bn=gn.j.m),isNaN(gn.g.availabilityWindowOverride)||(bn=gn.g.availabilityWindowOverride),gn.j.me(bn)}}else gn.j.Aa(oC(gn));gn.j.Md()}function tC(gn,bn){var wn=new Map;bn=Dn(bn);for(var In=bn.next();!In.done;In=bn.next()){var Nn=In.value;In=Yu(Nn,"NAME");var jn=Yu(Nn,"VALUE");Nn=Yu(Nn,"IMPORT"),In&&jn&&wn.set(In,jn),Nn&&(In=gn.o.get(Nn))&&wn.set(Nn,In)}return wn}function NP(gn,bn){var wn=PP(bn,"SUBTITLES");bn=wn.map(function(Vn){if(gn.g.disableText)return null;try{return aC(gn,Vn).stream}catch(Hn){if(gn.g.hls.ignoreTextStreamFailures)return null;throw Hn}}),wn=Dn(wn);for(var In=wn.next();!In.done;In=wn.next()){var Nn=tp(In.value,"GROUP-ID");if((In=gn.s.get(Nn))&&(Nn=gn.u.get(Nn))){Nn=Dn(Nn);for(var jn=Nn.next();!jn.done;jn=Nn.next())jn=jn.value,jn.stream.codecs=In,jn.stream.mimeType=E1(Zu,In)||S1(Zu)}}return bn.filter(function(Vn){return Vn})}function rC(gn,bn){var wn,In;return hs(function(Nn){return Nn.g==1?(wn=bn.map(function(jn){var Vn,Hn;return hs(function(Xn){if(Xn.g==1)return gn.g.disableThumbnails?Xn.return(null):($s(Xn,2),Qn(Xn,ZR(gn,jn),4));if(Xn.g!=2)return Vn=Xn.h,Xn.return(Vn.stream);if(Hn=Ss(Xn),gn.g.hls.ignoreImageStreamFailures)return Xn.return(null);throw Hn})}),Qn(Nn,Promise.all(wn),2)):(In=Nn.h,Nn.return(In.filter(function(jn){return jn})))})}function i$(gn,bn){bn=bn.filter(function(In){var Nn=Yu(In,"URI")||"";return Yu(In,"TYPE")!="SUBTITLES"&&Nn!=""}),bn=Dn(bn);for(var wn=bn.next();!wn.done;wn=bn.next())aC(gn,wn.value)}function nC(gn,bn,wn){var In=[],Nn=new Set;if(0<wn.length){wn=Dn(wn);for(var jn=wn.next();!jn.done;jn=wn.next()){jn=jn.value;var Vn=tp(jn,"METHOD");if(Vn!="NONE"&&Vn!="AES-128"&&(Vn=Yu(jn,"KEYFORMAT")||"identity",jn=(Vn=x1[Vn])?Vn(jn,""):null)){if(jn.keyIds){Vn=Dn(jn.keyIds);for(var Hn=Vn.next();!Hn.done;Hn=Vn.next())Nn.add(Hn.value)}In.push(jn)}}}return bn=bn.map(function(Xn){var ns=Yu(Xn,"FRAME-RATE"),ss=Number(Yu(Xn,"AVERAGE-BANDWIDTH"))||Number(tp(Xn,"BANDWIDTH")),ps=Yu(Xn,"RESOLUTION");ps=Dn(ps?ps.split("x"):[null,null]);var fs=ps.next().value,vs=ps.next().value,Is=Yu(Xn,"VIDEO-RANGE");Xn=QR(gn,Xn),ps=Xn.audio,Xn=Xn.video;for(var Ls=Dn(Xn),ws=Ls.next();!ws.done;ws=Ls.next())(ws=ws.value.stream)&&(ws.width=Number(fs)||void 0,ws.height=Number(vs)||void 0,ws.frameRate=Number(ns)||void 0,ws.hdr=Is||void 0);for(ns=gn.g.disableAudio,(!ps.length||ns)&&(ps=[null]),ns=gn.g.disableVideo,(!Xn.length||ns)&&(Xn=[null]),ns=[],ps=Dn(ps),fs=ps.next();!fs.done;fs=ps.next())for(fs=fs.value,vs=Dn(Xn),Is=vs.next();!Is.done;Is=vs.next()){var Rs=Is.value;(Is=fs?fs.stream:null)&&(Is.drmInfos=In,Is.keyIds=Nn),(Ls=Rs?Rs.stream:null)&&(Ls.drmInfos=In,Ls.keyIds=Nn),ws=fs?fs.stream.drmInfos:null;var Zs=Rs?Rs.stream.drmInfos:null;Rs=(Rs?Rs.Ac:"")+" - "+(fs?fs.Ac:""),Is&&Ls&&ws.length&&Zs.length&&!(0<Y$(ws,Zs).length)||gn.ua.has(Rs)||(Is={id:gn.Fa++,language:Is?Is.language:"und",primary:!!Is&&Is.primary||!!Ls&&Ls.primary,audio:Is,video:Ls,bandwidth:ss,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},ns.push(Is),gn.ua.add(Rs))}return ns}).reduce(bv,[]),bn=bn.filter(function(Xn){return Xn!=null})}function QR(gn,bn){var wn=DP(gn,bn),In=Yu(bn,"AUDIO"),Nn=Yu(bn,"VIDEO"),jn=In||Nn;jn=jn&&gn.u.has(jn)?gn.u.get(jn):[],In={audio:In?jn:[],video:Nn?jn:[]},Nn=!1;var Vn=tp(bn,"URI"),Hn=In.audio.find(function(ss){return ss&&ss.Ac==Vn}),Xn=Np("video",wn),ns=Np("audio",wn);return ns&&!Xn?jn="audio":!jn.length&&ns&&Xn?(jn="video",wn=[[Xn,ns].join()]):In.audio.length&&Hn?(jn="audio",Nn=!0):jn=In.video.length&&!In.audio.length?"audio":"video",Nn||(gn=LP(gn,bn,wn,jn),In[gn.stream.type]=[gn]),In}function DP(gn,bn){var wn=[];gn.g.disableVideo||wn.push(gn.g.hls.defaultVideoCodec),gn.g.disableAudio||wn.push(gn.g.hls.defaultAudioCodec),wn=Yu(bn,"CODECS",wn.join(",")).split(/\s*,\s*/),gn=new Set,bn=[],wn=Dn(wn);for(var In=wn.next();!In.done;In=wn.next()){In=In.value;var Nn=Bm(In)[0];gn.has(Nn)||(bn.push(In),gn.add(Nn))}return bn}function iC(gn){return gn=Yu(gn,"LANGUAGE")||"und",ml(gn)}function aC(gn,bn){var wn=tp(bn,"GROUP-ID"),In="",Nn=tp(bn,"TYPE").toLowerCase();Nn=="subtitles"&&(Nn=Zu);var jn=Nn;if(jn==Zu?In=Yu(bn,"CODECS")||"":wn&&gn.s.has(wn)&&(In=gn.s.get(wn)),Nn=T0(tp(bn,"URI"),gn.o),gn.h.has(Nn))return gn.h.get(Nn);var Vn=iC(bn),Hn=Yu(bn,"NAME"),Xn=Yu(bn,"DEFAULT")=="YES",ns=jn=="audio"&&(ns=Yu(bn,"CHANNELS"))?parseInt(ns.split("/")[0],10):null,ss=jn=="audio"&&(ss=Yu(bn,"CHANNELS"))?ss.includes("/JOC"):!1,ps=Yu(bn,"CHARACTERISTICS");return bn=Yu(bn,"FORCED")=="YES",In=y1(gn,Nn,In,jn,Vn,Xn,Hn,ns,null,ps,bn,ss),gn.u.has(wn)?gn.u.get(wn).push(In):gn.u.set(wn,[In]),gn.h.has(Nn)?gn.h.get(Nn):(gn.h.set(Nn,In),In)}function ZR(gn,bn){var wn,In,Nn,jn,Vn,Hn,Xn,ns,ss,ps;return hs(function(fs){return fs.g==1?(wn=T0(tp(bn,"URI"),gn.o),In=Yu(bn,"CODECS","jpeg")||"",gn.h.has(wn)?fs.return(gn.h.get(wn)):(Nn=iC(bn),jn=Yu(bn,"NAME"),Vn=Yu(bn,"CHARACTERISTICS"),Hn=y1(gn,wn,In,"image",Nn,!1,jn,null,null,Vn,!1,!1),gn.h.has(wn)?fs.return(gn.h.get(wn)):(Xn=Yu(bn,"RESOLUTION"))?Qn(fs,Hn.stream.createSegmentIndex(),3):fs.A(2))):(fs.g!=2&&(ns=Hn.stream.segmentIndex.get(0),ss=ns.tilesLayout)&&(Hn.stream.width=Number(Xn.split("x")[0])*Number(ss.split("x")[0]),Hn.stream.height=Number(Xn.split("x")[1])*Number(ss.split("x")[1])),(ps=Yu(bn,"BANDWIDTH"))&&(Hn.stream.bandwidth=Number(ps)),gn.h.set(wn,Hn),fs.return(Hn))})}function LP(gn,bn,wn,In){var Nn=T0(tp(bn,"URI"),gn.o);return gn.h.has(Nn)||(bn=Yu(bn,"CLOSED-CAPTIONS"),bn=In=="video"&&bn&&bn!="NONE"?gn.L.get(bn):null,wn=qu(In,wn),In=y1(gn,Nn,wn,In,"und",!1,null,null,bn,null,!1,!1),gn.h.has(Nn))?gn.h.get(Nn):(gn.h.set(Nn,In),In)}function y1(gn,bn,wn,In,Nn,jn,Vn,Hn,Xn,ns,ss,ps){function fs(Zs){var Fs,Ws,Gs,eu,au,du,pu,bu,Uu,Bu,al,Mu,Ql,ul;return hs(function(kl){if(kl.g==1)return Qn(kl,$1(gn,Ls.Jc),2);if(kl.g!=3)return Fs=kl.h,Zs.aborted?kl.return():(Ws=Fs.uri,Gs=m1(gn.W,Fs.data,Ws),eu=Ey(gn),Qn(kl,jP(gn,Gs,bn,Ws,wn,In,Nn,jn,Vn,Hn,Xn,ns,ss,ps),3));if(au=kl.h,Zs.aborted)return kl.return();if(du=au.stream,Ey(gn)&&!eu&&VP(gn),Ls.Jc=Ws,Ls.Ya=au.Ya,Ls.Mc=au.Mc,Ls.mc=au.mc,Ls.$c=au.$c,Ls.Ld=!0,Is.segmentIndex=du.segmentIndex,Is.encrypted=du.encrypted,Is.drmInfos=du.drmInfos,Is.keyIds=du.keyIds,Is.mimeType=du.mimeType,dy.includes(Is.mimeType)&&(Is.codecs=""),Is.drmInfos.length&&gn.i.newDrmInfo(Is),pu=tl,In==pu.va||In==pu.Hc)for(bu=Dn(gn.h.values()),Uu=bu.next();!Uu.done;Uu=bu.next())Bu=Uu.value,Bu.Ld||Bu.type!=In||(Bu.stream.mimeType=du.mimeType,dy.includes(Bu.stream.mimeType)&&(Bu.stream.codecs=""));In==pu.X&&(al=du.segmentIndex.get(0))&&al.h&&(Is.mimeType="application/mp4"),JR(gn)&&(gn.Ga?sC(gn,[Ls]):(gn.Ga=!0,Mu=Array.from(gn.h.values()),Ql=Mu.filter(function(Bp){return Bp.stream.segmentIndex}),sC(gn,Ql),RP(gn),ul=gn.P,0<ul&&gn.m.O(ul))),ms(kl)})}var vs=E0(gn.M,bn),Is=uC(gn,wn,In,Nn,jn,Vn,Hn,Xn,ns,ss,ps);dy.includes(Is.mimeType)&&(Is.codecs="");var Ls={stream:Is,type:In,Ac:bn,Jc:vs,Ya:0,$c:new Map,Mc:!1,mc:!1,Cd:-1,Ld:!1},ws=null,Rs=new AbortController;return Is.createSegmentIndex=function(){return ws||(Rs=new AbortController,ws=new Promise(function(Zs){Zs(fs(Rs.signal))}))},Is.closeSegmentIndex=function(){ws&&!Is.segmentIndex&&Rs.abort(),Is.segmentIndex&&(Is.segmentIndex.release(),Is.segmentIndex=null),ws=null},Ls}function oC(gn){var bn=1/0;gn=Dn(gn.h.values());for(var wn=gn.next();!wn.done;wn=gn.next())wn=wn.value,wn.stream.segmentIndex&&wn.stream.type!="text"&&(bn=Math.min(bn,wn.Ya));return bn}function UP(gn,bn){var wn=[];bn=Dn(bn);for(var In=bn.next();!In.done;In=bn.next())In=In.value,In.segmentIndex&&hI(In.segmentIndex,function(Nn){wn.push(Nn)});gn.j.Ib(wn)}function sC(gn,bn){if(!Ey(gn))for(var wn=oC(gn),In=Dn(bn),Nn=In.next();!Nn.done;Nn=In.next())Nn.value.stream.segmentIndex.Wa(0,wn);for(wn=Dn(bn),Nn=wn.next();!Nn.done;Nn=wn.next())Nn=Nn.value.stream,dy.includes(Nn.mimeType)&&(Nn.codecs="");UP(gn,bn.map(function(jn){return jn.stream})),gn.g.hls.ignoreManifestProgramDateTime?XR(gn,bn):eC(gn,bn)}function JR(gn){if(!gn.D)return!1;var bn=[],wn=[];gn=Dn(gn.D.variants);for(var In=gn.next();!In.done;In=gn.next())In=In.value,In.video&&bn.push(In.video),In.audio&&wn.push(In.audio);return!(0<bn.length&&!bn.some(function(Nn){return Nn.segmentIndex})||0<wn.length&&!wn.some(function(Nn){return Nn.segmentIndex}))}function jP(gn,bn,wn,In,Nn,jn,Vn,Hn,Xn,ns,ss,ps,fs,vs,Is){var Ls,ws,Rs,Zs,Fs,Ws,Gs,eu,au,du,pu,bu,Uu,Bu,al;return hs(function(Mu){if(Mu.g==1){if(bn.type!=1)throw new Vs(2,4,4017);return Ls=qy(bn.g,"EXT-X-DEFINE"),ws=tC(gn,Ls),BP(gn,bn),Is?Mu.A(2):Qn(Mu,eN(gn,jn,Nn,bn,ws),3)}if(Mu.g!=2&&(Is=Mu.h),Rs=v1(bn,Is),Zs=Rs.drmInfos,Fs=Rs.keyIds,Ws=Rs.encrypted,Gs=Rs.jf,Ws&&!Zs.length&&!Gs)throw new Vs(2,4,4026);return eu=Ey(gn)?gn.F.get(jn):new Map,au=gn.l,du=zP(gn,bn,jn,eu,ws),au!=gn.l&&BP(gn,bn),pu=du[du.length-1].endTime,bu=new yl(du),Bu=(Uu=um(bn.g,"EXT-X-SERVER-CONTROL"))?Uu.getAttribute("CAN-SKIP-UNTIL")!=null:!1,al=uC(gn,Nn,jn,Vn,Hn,Xn,ns,ss,ps,fs,vs),al.segmentIndex=bu,al.encrypted=Ws,al.drmInfos=Zs,al.keyIds=Fs,al.mimeType=Is,Mu.return({stream:al,type:jn,Ac:wn,Jc:In,Ya:pu,Mc:Bu,mc:!1,Cd:-1,$c:eu,Ld:!1})})}function uC(gn,bn,wn,In,Nn,jn,Vn,Hn,Xn,ns,ss){var ps=E1(wn,bn)||S1(wn);return{id:gn.Fa++,originalId:jn,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:ps,codecs:bn,kind:wn==Zu?"subtitle":void 0,encrypted:!1,drmInfos:[],keyIds:new Set,language:In,label:jn,type:wn,primary:Nn,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:Xn?Xn.split(","):[],forced:ns,channelsCount:Vn,audioSamplingRate:null,spatialAudio:ss,closedCaptions:Hn,hdr:void 0,tilesLayout:void 0}}function v1(gn,bn){var wn=[];if(gn.segments){gn=Dn(gn.segments);for(var In=gn.next();!In.done;In=gn.next())In=qy(In.value.g,"EXT-X-KEY"),wn.push.apply(wn,Kn(In))}In=gn=!1;var Nn=[],jn=new Set;wn=Dn(wn);for(var Vn=wn.next();!Vn.done;Vn=wn.next()){Vn=Vn.value;var Hn=tp(Vn,"METHOD");if(Hn!="NONE"){if(gn=!0,Hn=="AES-128")In=!0;else if(Hn=Yu(Vn,"KEYFORMAT")||"identity",Vn=(Hn=x1[Hn])?Hn(Vn,bn):null){if(Vn.keyIds){Hn=Dn(Vn.keyIds);for(var Xn=Hn.next();!Xn.done;Xn=Hn.next())jn.add(Xn.value)}Nn.push(Vn)}}}return{drmInfos:Nn,keyIds:jn,encrypted:gn,jf:In}}function FP(gn,bn,wn){if(!pn.crypto||!pn.crypto.subtle)throw $u("Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"),new Vs(2,4,4042);var In=0,Nn=Yu(bn,"IV","");if(Nn){var jn=Tu(Nn.substr(2));if(jn.byteLength!=16)throw new Vs(2,4,4043)}else In=h1(wn.g,"EXT-X-MEDIA-SEQUENCE");bn=E0(wn.h,tp(bn,"URI"));var Vn=tm([bn],gn.g.retryParameters),Hn={method:"AES-128",iv:jn,firstMediaSequenceNumber:In,fetchKey:function(){var Xn,ns,ss;return hs(function(ps){if(ps.g==1)return Qn(ps,dC(gn,Vn,6),2);if(ps.g!=3){if(Xn=ps.h,!Xn.data||Xn.data.byteLength!=16)throw new Vs(2,4,4044);return ns={name:"AES-CBC"},ss=Hn,Qn(ps,pn.crypto.subtle.importKey("raw",Xn.data,ns,!0,["decrypt"]),3)}ss.cryptoKey=ps.h,Hn.fetchKey=void 0,ms(ps)})}};return Hn}function BP(gn,bn){var wn=um(bn.g,"EXT-X-PLAYLIST-TYPE"),In=um(bn.g,"EXT-X-ENDLIST");if(In=wn&&wn.value=="VOD"||In,wn=wn&&wn.value=="EVENT"&&!In,wn=!In&&!wn,In)T1(gn,w1);else{if(wn?T1(gn,pC):T1(gn,C1),In=um(bn.g,"EXT-X-TARGETDURATION"),!In)throw new Vs(2,4,4024,"EXT-X-TARGETDURATION");In=Number(In.value),wn=um(bn.g,"EXT-X-PART-INF"),gn.l&&wn?(gn.da=Number(tp(wn,"PART-TARGET")),gn.J=Math.min(gn.da,gn.J),bn=um(bn.g,"EXT-X-SERVER-CONTROL"),gn.V=bn?Number(tp(bn,"PART-HOLD-BACK")):0):gn.J=Math.min(In,gn.J),gn.ca=Math.max(In,gn.ca)}}function VP(gn){var bn=gn.g.defaultPresentationDelay?gn.g.defaultPresentationDelay:gn.V?gn.V:gn.ca*gn.g.hls.liveSegmentsDelay;gn.j.We(0),gn.j.Ve(bn),gn.j.yc(!1)}function lC(gn,bn,wn,In){if(wn=um(wn,"EXT-X-MAP"),!wn)return null;var Nn=tp(wn,"URI");return In=T0(E0(bn,Nn),In),bn=[In,Yu(wn,"BYTERANGE","")].join("-"),gn.ba.has(bn)||(wn=cC(In,wn),gn.ba.set(bn,wn)),gn.ba.get(bn)}function cC(gn,bn){var wn=0,In=null;return(bn=Yu(bn,"BYTERANGE"))&&(wn=bn.split("@"),In=Number(wn[0]),wn=Number(wn[1]),In=wn+In-1),new Hm(function(){return[gn]},wn,In)}function GP(gn,bn,wn,In,Nn,jn,Vn,Hn,Xn,ns){var ss=In.g,ps=T0(In.i,jn),fs=um(ss,"EXTINF"),vs=jn=0,Is=null;In.h.length&&!gn.l&&$u("Low-latency HLS live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details.");var Ls=null;if(!gn.g.hls.ignoreManifestProgramDateTime){var ws=um(ss,"EXT-X-PROGRAM-DATE-TIME");ws&&ws.value&&(Ls=Xl(ws.value))}if(ws=nE,um(ss,"EXT-X-GAP")&&(ws=2),!fs){if(In.h.length==0)throw new Vs(2,4,4024,"EXTINF");if(!gn.l)return null}var Rs=[];if(gn.l)for(var Zs={},Fs=0;Fs<In.h.length;Zs={pd:Zs.pd},Fs++){var Ws=In.h[Fs],Gs=Fs==0?wn:Rs[Rs.length-1],eu=Fs==0?Nn:Gs.endTime,au=Number(Yu(Ws,"DURATION"))||gn.da;if(au){au=eu+au;var du=0,pu=null;Ws.name=="EXT-X-PRELOAD-HINT"?du=(du=Yu(Ws,"BYTERANGE-START"))?Number(du):0:(du=Yu(Ws,"BYTERANGE"),pu=Dn(_1(Gs,du)),du=pu.next().value,pu=pu.next().value),(Gs=Yu(Ws,"URI"))&&(Zs.pd=E0(Vn,Gs),Gs=nE,Yu(Ws,"GAP")=="YES"&&(Gs=2),Rs.push(new cl(eu,au,function(bu){return function(){return[bu.pd]}}(Zs),du,pu,bn,0,0,1/0,[],"",null,null,Gs)))}}return fs?jn=Nn+Number(fs.value.split(",")[0]):jn=Rs[Rs.length-1].endTime,(gn=um(ss,"EXT-X-BYTERANGE"))?(Is=Dn(_1(wn,gn.value)),vs=Is.next().value,Is=Is.next().value):Rs.length&&(vs=Rs[0].Ba,Is=Rs[Rs.length-1].la),wn="",gn=null,Hn=="image"&&(wn="1x1",Hn=um(ss,"EXT-X-TILES"))&&(wn=tp(Hn,"LAYOUT"),(Hn=Yu(Hn,"DURATION"))&&(gn=Number(Hn))),new cl(Nn,jn,function(){return ps.length?[ps]:[]},vs,Is,bn,Xn,0,1/0,Rs,wn,gn,Ls,ws,ns)}function _1(gn,bn){var wn=0,In=null;return bn&&(wn=bn.split("@"),bn=Number(wn[0]),wn=wn[1]?Number(wn[1]):gn.la+1,In=wn+bn-1),[wn,In]}function zP(gn,bn,wn,In,Nn){var jn=bn.segments,Vn=void 0,Hn=h1(bn.g,"EXT-X-DISCONTINUITY-SEQUENCE"),Xn=h1(bn.g,"EXT-X-MEDIA-SEQUENCE"),ns=um(bn.g,"EXT-X-SKIP");ns=ns?Number(Yu(ns,"SKIPPED-SEGMENTS")):0;var ss=Xn+ns,ps=0;Ey(gn)&&In.has(ss)&&(ps=In.get(ss));for(var fs=[],vs=null,Is=ps,Ls=0;Ls<jn.length;Ls++){var ws=jn[Ls],Rs=Ls==0?ps:vs.endTime;ss=Xn+ns+Ls,um(ws.g,"EXT-X-DISCONTINUITY")&&(Hn++,Is=Rs);for(var Zs=Dn(ws.g),Fs=Zs.next();!Fs.done;Fs=Zs.next())Fs=Fs.value,Fs.name=="EXT-X-KEY"&&(tp(Fs,"METHOD")=="AES-128"?Vn=FP(gn,Fs,bn):Vn=void 0);In.set(ss,Rs),Zs=lC(gn,bn.h,ws.g,Nn),!gn.l&&gn.i.isAutoLowLatencyMode()&&(gn.i.enableLowLatencyMode(),gn.l=gn.i.isLowLatencyMode()),(vs=ws=GP(gn,Zs,vs,ws,Rs,Nn,bn.h,wn,Is,Vn))&&(ws.j=Hn,gn.g.hls.ignoreManifestProgramDateTime&&gn.B!=null&&ss<gn.B||fs.push(ws))}if(bn=fs.some(function(Ws){return Ws.g!=null})){for(wn={},In=0;In<fs.length;wn={Qb:wn.Qb,Pb:wn.Pb,Bc:wn.Bc,Sa:wn.Sa,Ob:wn.Ob},In++)if(wn.Sa=fs[In],wn.Sa.g==null)for(wn.Pb=0,wn.Qb=In,Nn=function(Ws){return function(){var Gs=fs[Ws.Qb];if(Gs){if(Gs.g!=null)return Gs.g+Ws.Pb;Ws.Pb-=Gs.endTime-Gs.startTime,Ws.Qb+=1}return null}}(wn),wn.Ob=0,wn.Bc=In,jn=function(Ws){return function(){var Gs=fs[Ws.Bc];if(Gs){if(Gs!=Ws.Sa&&(Ws.Ob+=Gs.endTime-Gs.startTime),Gs.g!=null)return Gs.g+Ws.Ob;--Ws.Bc}return null}}(wn);wn.Sa.g==null;)wn.Sa.g=jn(),wn.Sa.g==null&&(wn.Sa.g=Nn())}if(bn)for(wn=Dn(fs),In=wn.next();!In.done;In=wn.next())for(Nn=In.value,In=Nn.g,Nn=Dn(Nn.i),jn=Nn.next();!jn.done;jn=Nn.next())jn=jn.value,jn.g=In,In+=jn.endTime-jn.startTime;if(gn=gn.H,bn&&gn!=1/0)for(bn=Dn(fs),In=bn.next();!In.done;In=bn.next())In.value.oe(gn);return fs}function T0(gn,bn){gn=String(gn).replace(/%7B/g,"{").replace(/%7D/g,"}");var wn=gn.match(/{\$\w*}/g);if(wn){wn=Dn(wn);for(var In=wn.next();!In.done;In=wn.next()){In=In.value;var Nn=In.slice(2,In.length-1),jn=bn.get(Nn);if(jn)gn=gn.replace(In,jn);else throw new Vs(2,4,4039,Nn)}}return gn}function E1(gn,bn){if(gn==Zu){if(bn=="vtt"||bn=="wvtt")return"text/vtt";if(bn&&bn!=="")return"application/mp4"}return gn!="image"||bn&&bn!="jpeg"?gn=="audio"&&bn=="mp4a.40.34"?"audio/mpeg":null:"image/jpeg"}function S1(gn){return gn==Zu?"text/vtt":b1[gn].mp4}function eN(gn,bn,wn,In,Nn){var jn,Vn,Hn,Xn,ns,ss,ps,fs,vs,Is;return hs(function(Ls){return Ls.g==1?(jn=Fy,Vn=Math.trunc((In.segments.length-1)/2),Hn=T0(In.segments[Vn].i,Nn),Xn=new Rp(Hn),ns=Xn.qa.split(".").pop(),ss=b1[bn],(ps=ss[ns])||(ps=fC[ns])||(ps=E1(bn,wn))?Ls.return(ps):(fs=tm([Hn],gn.g.retryParameters),fs.method="HEAD",Qn(Ls,dC(gn,fs,jn),2))):(vs=Ls.h,(Is=vs.headers["content-type"])?Ls.return(Is.split(";")[0]):Ls.return(S1(bn)))})}function $1(gn,bn){return bn=tm([bn],gn.g.retryParameters),gn.i.modifyManifestRequest(bn,{format:"h"}),dC(gn,bn,0)}function HP(gn){var bn,wn;hs(function(In){if(In.g==1)return gn.i?($s(In,2),Qn(In,gn.update(),4)):In.return();if(In.g!=2)return Ey(gn)&&(bn=gn.P,gn.m.O(bn)),gs(In,0);if(wn=Ss(In),!gn.i)return In.return();wn.severity=1,gn.i.onError(wn),gn.m.O(.1),ms(In)})}function Ey(gn){return gn.ea!=w1}function T1(gn,bn){gn.ea=bn,gn.j&&gn.j.yc(!Ey(gn)),Ey(gn)||gn.m.stop()}function dC(gn,bn,wn){if(!gn.G)throw new Vs(2,7,7001);return bn=gn.i.networkingEngine.request(wn,bn),Al(gn.G,bn),bn.promise}Ys("shaka.hls.HlsParser",gv);var fC={aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},k1={mp4:"audio/mp4",mp4a:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",m4f:"audio/mp4",cmfa:"audio/mp4",ts:"video/mp2t",tsa:"video/mp2t"},b_={mp4:"video/mp4",mp4v:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",m4f:"video/mp4",cmfv:"video/mp4",ts:"video/mp2t",tsv:"video/mp2t"},b1={audio:k1,video:b_,text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",m4f:"application/mp4",cmft:"application/mp4",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml"},image:{jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif"}},x1={"com.apple.streamingkeydelivery":function(gn,bn){if(bn=="video/mp2t")throw new Vs(2,4,4040);if(pn.shakaMediaKeysPolyfill)throw new Vs(2,4,4041);return tv("com.apple.fps",[{initDataType:"sinf",initData:new Uint8Array(0),keyId:null}])},"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(gn){var bn=tp(gn,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(bn)?(bn=tp(gn,"URI"),bn=Yv(bn),bn=Pu(bn.data),bn=tv("com.widevine.alpha",[{initDataType:"cenc",initData:bn}]),(gn=Yu(gn,"KEYID"))&&(bn.keyIds=new Set([gn.toLowerCase().substr(2)])),bn):null},"com.microsoft.playready":function(gn){var bn=tp(gn,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(bn)?(gn=tp(gn,"URI"),gn=Yv(gn),gn=Pu(gn.data),bn=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),gn=z$(gn,bn,new Set,0),tv("com.microsoft.playready",[{initDataType:"cenc",initData:gn}])):null},identity:function(gn){return gn=tp(gn,"METHOD"),["SAMPLE-AES","SAMPLE-AES-CTR"].includes(gn)?tv("org.w3.clearkey",null):null}},w1="VOD",C1="EVENT",pC="LIVE",Sy={ef:w1,Ng:C1,Rg:pC};gl("Tizen 3")||gl("Tizen 2")||Oy()||(q_.m3u8=function(){return new gv},cy["application/x-mpegurl"]=function(){return new gv},cy["application/vnd.apple.mpegurl"]=function(){return new gv});function a$(gn,bn,wn,In,Nn,jn){if(200<=wn&&299>=wn&&wn!=202)return{uri:Nn||In,originalUri:In,data:bn,status:wn,headers:gn,fromCache:!!gn["x-shaka-from-cache"]};Nn=null;try{Nn=My(bn)}catch{}throw new Vs(wn==401||wn==403?2:1,1,1001,In,wn,Nn,gn,jn)}function o$(){}function s$(gn,bn,wn,In,Nn){var jn=new gC;u_(bn.headers).forEach(function(ns,ss){jn.append(ss,ns)});var Vn=new I1,Hn={ye:!1,af:!1};if(gn=hC(gn,wn,{body:bn.body||void 0,headers:jn,method:bn.method,signal:Vn.signal,credentials:bn.allowCrossSiteCredentials?"include":void 0},Hn,In,Nn,bn.streamDataCallback),gn=new Vl(gn,function(){return Hn.ye=!0,Vn.abort(),Promise.resolve()}),bn=bn.retryParameters.timeout){var Xn=new Hu(function(){Hn.af=!0,Vn.abort()});Xn.O(bn/1e3),gn.finally(function(){Xn.stop()})}return gn}function hC(gn,bn,wn,In,Nn,jn,Vn){var Hn,Xn,ns,ss,ps,fs,vs,Is,Ls,ws,Rs,Zs,Fs;return hs(function(Ws){switch(Ws.g){case 1:return Hn=KP,Xn=WP,fs=ps=0,vs=Date.now(),$s(Ws,2),Qn(Ws,Hn(gn,wn),4);case 4:if(ns=Ws.h,jn(A1(ns.headers)),wn.method=="HEAD"){Ws.A(5);break}return Is=ns.clone().body.getReader(),ws=(Ls=ns.headers.get("Content-Length"))?parseInt(Ls,10):0,Rs=function(Gs){function eu(){var au,du;return hs(function(pu){switch(pu.g){case 1:return $s(pu,2),Qn(pu,Is.read(),4);case 4:au=pu.h,gs(pu,3);break;case 2:return Ss(pu),pu.return();case 3:if(au.done){pu.A(5);break}if(ps+=au.value.byteLength,!Vn){pu.A(5);break}return Qn(pu,Vn(au.value),5);case 5:du=Date.now(),(100<du-vs||au.done)&&(Nn(du-vs,ps-fs,ws-ps),fs=ps,vs=du),au.done?Gs.close():(Gs.enqueue(au.value),eu()),ms(pu)}})}eu()},new Xn({start:Rs}),Qn(Ws,ns.arrayBuffer(),6);case 6:ss=Ws.h;case 5:gs(Ws,3);break;case 2:throw Zs=Ss(Ws),In.ye?new Vs(1,1,7001,gn,bn):In.af?new Vs(1,1,1003,gn,bn):new Vs(1,1,1002,gn,Zs,bn);case 3:return Fs=A1(ns.headers),Ws.return(a$(Fs,ss,ns.status,gn,ns.url,bn))}})}function A1(gn){var bn={};return gn.forEach(function(wn,In){bn[In.trim()]=wn}),bn}function mC(){if(pn.ReadableStream)try{new ReadableStream({})}catch{return!1}else return!1;if(pn.Response){if(!new Response("").body)return!1}else return!1;return!(!pn.fetch||!pn.AbortController)}Ys("shaka.net.HttpFetchPlugin",o$),o$.isSupported=mC,o$.parse=s$;var KP=pn.fetch,I1=pn.AbortController,WP=pn.ReadableStream,gC=pn.Headers;mC()&&(jy("http",s$,2,!0),jy("https",s$,2,!0),jy("blob",s$,2,!0));function qP(){}function u$(gn,bn,wn,In,Nn){var jn=new O1,Vn=Date.now(),Hn=0,Xn=new Promise(function(ns,ss){jn.open(bn.method,gn,!0),jn.responseType="arraybuffer",jn.timeout=bn.retryParameters.timeout,jn.withCredentials=bn.allowCrossSiteCredentials,jn.onabort=function(){ss(new Vs(1,1,7001,gn,wn))};var ps=!1;jn.onreadystatechange=function(){if(jn.readyState==2&&!ps){var vs=P1(jn);Nn(vs),ps=!0}},jn.onload=function(){var vs=P1(jn),Is=jn.response;try{var Ls=a$(vs,Is,jn.status,gn,jn.responseURL,wn);ns(Ls)}catch(ws){ss(ws)}},jn.onerror=function(vs){ss(new Vs(1,1,1002,gn,vs,wn))},jn.ontimeout=function(){ss(new Vs(1,1,1003,gn,wn))},jn.onprogress=function(vs){var Is=Date.now();(100<Is-Vn||vs.lengthComputable&&vs.loaded==vs.total)&&(In(Is-Vn,vs.loaded-Hn,vs.total-vs.loaded),Hn=vs.loaded,Vn=Is)};for(var fs in bn.headers)jn.setRequestHeader(fs.toLowerCase(),bn.headers[fs]);jn.send(bn.body)});return new Vl(Xn,function(){return jn.abort(),Promise.resolve()})}function P1(gn){var bn=gn.getAllResponseHeaders().trim().split(`\r
`);gn={},bn=Dn(bn);for(var wn=bn.next();!wn.done;wn=bn.next())wn=wn.value.split(": "),gn[wn[0].toLowerCase()]=wn.slice(1).join(": ");return gn}Ys("shaka.net.HttpXHRPlugin",qP),qP.parse=u$;var O1=pn.XMLHttpRequest;jy("http",u$,1,!0),jy("https",u$,1,!0),jy("blob",u$,1,!0);function YP(gn,bn,wn,In){this.g=gn,this.i=bn,this.groupId=wn,this.h=In}function M1(gn){return gn.ya().map(function(bn){return"{"+encodeURI(bn)+"}"}).join("")+":"+gn.Ba+":"+gn.la}function XP(gn,bn){return nw(gn.g.ya(),gn.g.Ba,gn.g.la,bn.streaming.retryParameters)}function QP(){this.h=this.j=this.i=0,this.g=new Map,this.l=0}function ZP(gn,bn){gn.i+=bn;var wn=gn.l;return gn.l++,gn.g.set(wn,bn),wn}QP.prototype.close=function(gn,bn){if(this.g.has(gn)){var wn=this.g.get(gn);this.g.delete(gn),this.j+=wn,this.h+=bn}};function JP(gn){var bn=this;this.o=gn,this.j=new Map,this.i=new gm(function(){return R1(bn).catch(function(){})}),this.h=[],this.m=function(){},this.l=function(){},this.g=new QP}JP.prototype.destroy=function(){return this.i.destroy()};function tN(gn,bn,wn){gn.m=bn,gn.l=wn}function R1(gn){var bn=gn.h.map(function(wn){return wn()});return gn.h=[],Promise.all(bn)}function N1(gn,bn,wn,In,Nn,jn){ll(gn.i);var Vn=(gn.j.get(bn)||Promise.resolve()).then(function(){var Hn,Xn,ns,ss,ps,fs,vs;return hs(function(Is){if(Is.g==1)return Qn(Is,rN(gn,wn),2);if(Hn=Is.h,gn.i.g)throw new Vs(2,9,7001);if(Nn)for(ss in Xn=Pu(Hn),ns=new G0(Xn),ns.data)ps=Number(ss),fs=ns.data[ps],vs=ns.g[ps],gn.l(fs,vs);gn.g.close(In,Hn.byteLength);var Ls=gn.g;return gn.m(Ls.i==0?0:Ls.j/Ls.i,gn.g.h),Is.return(jn(Hn))})});gn.j.set(bn,Vn)}function eO(gn){return hs(function(bn){return bn.g==1?Qn(bn,Promise.all(gn.j.values()),2):bn.return(gn.g.h)})}function rN(gn,bn){var wn,In,Nn,jn;return hs(function(Vn){return Vn.g==1?(wn=Fy,In=gn.o.request(wn,bn),Nn=function(){return In.abort()},gn.h.push(Nn),Qn(Vn,In.promise,2)):(jn=Vn.h,pl(gn.h,Nn),Vn.return(jn.data))})}function l$(gn,bn){var wn=this;this.i=gn,this.h=gn.objectStore(bn),this.g=new bl,gn.onabort=function(In){In.preventDefault(),wn.g.reject()},gn.onerror=function(In){In.preventDefault(),wn.g.reject()},gn.oncomplete=function(){wn.g.resolve()}}l$.prototype.abort=function(){var gn=this;return hs(function(bn){if(bn.g==1){try{gn.i.abort()}catch{}return $s(bn,2),Qn(bn,gn.g,4)}if(bn.g!=2)return gs(bn,0);Ss(bn),ms(bn)})};function c$(gn,bn){return new Promise(function(wn,In){var Nn=gn.h.openCursor();Nn.onerror=In,Nn.onsuccess=function(){var jn;return hs(function(Vn){if(Vn.g==1)return Nn.result==null?(wn(),Vn.return()):(jn=Nn.result,Qn(Vn,bn(jn.key,jn.value,jn),2));jn.continue(),ms(Vn)})}})}l$.prototype.store=function(){return this.h},l$.prototype.promise=function(){return this.g};function yC(gn){this.h=gn,this.g=[]}yC.prototype.destroy=function(){return Promise.all(this.g.map(function(gn){return gn.abort()}))};function x_(gn,bn){return d$(gn,bn,"readwrite")}function d$(gn,bn,wn){wn=gn.h.transaction([bn],wn);var In=new l$(wn,bn);return gn.g.push(In),In.promise().then(function(){pl(gn.g,In)},function(){pl(gn.g,In)}),In}function w_(gn,bn,wn){this.h=new yC(gn),this.i=bn,this.g=wn}En=w_.prototype,En.destroy=function(){return this.h.destroy()},En.hasFixedKeySpace=function(){return!0},En.addSegments=function(){return D1(this.i)},En.removeSegments=function(gn,bn){return tO(this,this.i,gn,bn)},En.getSegments=function(gn){var bn=this,wn;return hs(function(In){return In.g==1?Qn(In,rO(bn,bn.i,gn),2):(wn=In.h,In.return(wn.map(function(Nn){return bn.ze(Nn)})))})},En.addManifests=function(){return D1(this.g)},En.updateManifest=function(){return Promise.reject(new Vs(2,9,9016,"Cannot modify values in "+this.g))};function nN(gn,bn,wn){gn=x_(gn.h,gn.g);var In=gn.store();return In.get(bn).onsuccess=function(){In.put(wn,bn)},gn.promise()}En.updateManifestExpiration=function(gn,bn){var wn=x_(this.h,this.g),In=wn.store();return In.get(gn).onsuccess=function(Nn){(Nn=Nn.target.result)&&(Nn.expiration=bn,In.put(Nn,gn))},wn.promise()},En.removeManifests=function(gn,bn){return tO(this,this.g,gn,bn)},En.getManifests=function(gn){var bn=this,wn;return hs(function(In){return In.g==1?Qn(In,rO(bn,bn.g,gn),2):(wn=In.h,In.return(Promise.all(wn.map(function(Nn){return bn.bc(Nn)}))))})},En.getAllManifests=function(){var gn=this,bn,wn;return hs(function(In){return In.g==1?(bn=d$(gn.h,gn.g,"readonly"),wn=new Map,Qn(In,c$(bn,function(Nn,jn){var Vn;return hs(function(Hn){if(Hn.g==1)return Qn(Hn,gn.bc(jn),2);Vn=Hn.h,wn.set(Nn,Vn),ms(Hn)})}),2)):In.g!=3?Qn(In,bn.promise(),3):In.return(wn)})},En.ze=function(gn){return gn},En.bc=function(gn){return Promise.resolve(gn)};function D1(gn){return Promise.reject(new Vs(2,9,9011,"Cannot add new value to "+gn))}En.add=function(gn,bn){var wn=this,In,Nn,jn,Vn,Hn,Xn,ns;return hs(function(ss){if(ss.g==1){for(In=x_(wn.h,gn),Nn=In.store(),jn=[],Vn={},Hn=Dn(bn),Xn=Hn.next();!Xn.done;Vn={Fc:Vn.Fc},Xn=Hn.next())ns=Xn.value,Vn.Fc=Nn.add(ns),Vn.Fc.onsuccess=function(ps){return function(){jn.push(ps.Fc.result)}}(Vn);return Qn(ss,In.promise(),2)}return ss.return(jn)})};function tO(gn,bn,wn,In){gn=x_(gn.h,bn),bn=gn.store();var Nn={};wn=Dn(wn);for(var jn=wn.next();!jn.done;Nn={Ec:Nn.Ec},jn=wn.next())Nn.Ec=jn.value,bn.delete(Nn.Ec).onsuccess=function(Vn){return function(){return In(Vn.Ec)}}(Nn);return gn.promise()}function rO(gn,bn,wn){var In,Nn,jn,Vn,Hn,Xn,ns;return hs(function(ss){if(ss.g==1){for(In=d$(gn.h,bn,"readonly"),Nn=In.store(),jn={},Vn=[],Hn={},Xn=Dn(wn),ns=Xn.next();!ns.done;Hn={Vb:Hn.Vb,Tb:Hn.Tb},ns=Xn.next())Hn.Tb=ns.value,Hn.Vb=Nn.get(Hn.Tb),Hn.Vb.onsuccess=function(ps){return function(){ps.Vb.result==null&&Vn.push(ps.Tb),jn[ps.Tb]=ps.Vb.result}}(Hn);return Qn(ss,In.promise(),2)}if(Vn.length)throw new Vs(2,9,9012,"Could not find values for "+Vn);return ss.return(wn.map(function(ps){return jn[ps]}))})}function f$(gn){this.g=new yC(gn)}f$.prototype.destroy=function(){return this.g.destroy()},f$.prototype.getAll=function(){var gn=this,bn,wn;return hs(function(In){return In.g==1?(bn=d$(gn.g,"session-ids","readonly"),wn=[],Qn(In,c$(bn,function(Nn,jn){wn.push(jn)}),2)):In.g!=3?Qn(In,bn.promise(),3):In.return(wn)})},f$.prototype.add=function(gn){var bn=x_(this.g,"session-ids"),wn=bn.store();gn=Dn(gn);for(var In=gn.next();!In.done;In=gn.next())wn.add(In.value);return bn.promise()},f$.prototype.remove=function(gn){var bn=this,wn;return hs(function(In){return In.g==1?(wn=x_(bn.g,"session-ids"),Qn(In,c$(wn,function(Nn,jn,Vn){gn.includes(jn.sessionId)&&Vn.delete()}),2)):Qn(In,wn.promise(),0)})};function Fp(){this.g=new Map}Fp.prototype.destroy=function(){for(var gn=[],bn=Dn(this.g.values()),wn=bn.next();!wn.done;wn=bn.next())gn.push(wn.value.destroy());return this.g.clear(),Promise.all(gn)},Fp.prototype.init=function(){var gn=this;ME.forEach(function(Nn,jn){(Nn=Nn())&&gn.g.set(jn,Nn)});for(var bn=[],wn=Dn(this.g.values()),In=wn.next();!In.done;In=wn.next())bn.push(In.value.init());return Promise.all(bn)};function L1(gn){var bn=null;if(gn.g.forEach(function(wn,In){wn.getCells().forEach(function(Nn,jn){Nn.hasFixedKeySpace()||bn||(bn={path:{za:In,ka:jn},ka:Nn})})}),bn)return bn;throw new Vs(2,9,9013,"Could not find a cell that supports add-operations")}function vC(gn,bn){gn.g.forEach(function(wn,In){wn.getCells().forEach(function(Nn,jn){bn({za:In,ka:jn},Nn)})})}function vv(gn,bn,wn){if(gn=gn.g.get(bn),!gn)throw new Vs(2,9,9013,"Could not find mechanism with name "+bn);if(bn=gn.getCells().get(wn),!bn)throw new Vs(2,9,9013,"Could not find cell with name "+wn);return bn}function U1(gn,bn){gn.g.forEach(function(wn){bn(wn.getEmeSessionCell())})}function k0(gn){var bn=Array.from(gn.g.keys());if(!bn.length)throw new Vs(2,9,9e3,"No supported storage mechanisms found");return gn.g.get(bn[0]).getEmeSessionCell()}function iN(gn){var bn,wn,In;return hs(function(Nn){return Nn.g==1?(bn=Array.from(gn.g.values()),wn=0<bn.length,wn||(In=ME,In.forEach(function(jn){(jn=jn())&&bn.push(jn)})),Qn(Nn,Promise.all(bn.map(function(jn){return jn.erase()})),2)):wn?Nn.A(0):Qn(Nn,Promise.all(bn.map(function(jn){return jn.destroy()})),0)})}function _C(gn,bn){ME.set(gn,bn)}Ys("shaka.offline.StorageMuxer",Fp),Fp.unregister=function(gn){ME.delete(gn)},Fp.register=_C,Fp.prototype.destroy=Fp.prototype.destroy;var ME=new Map;function RE(){w_.apply(this,arguments)}as(RE,w_),RE.prototype.updateManifestExpiration=function(gn,bn){var wn=this,In,Nn,jn;return hs(function(Vn){return In=x_(wn.h,wn.g),Nn=In.store(),jn=new bl,Nn.get(gn).onsuccess=function(Hn){(Hn=Hn.target.result)?(Hn.expiration=bn,Nn.put(Hn),jn.resolve()):jn.reject(new Vs(2,9,9012,"Could not find values for "+gn))},Qn(Vn,Promise.all([In.promise(),jn]),0)})},RE.prototype.bc=function(gn){var bn,wn,In,Nn,jn,Vn;return hs(function(Hn){if(Hn.g==1){for(bn=[],wn=0;wn<gn.periods.length;++wn)In=wn==gn.periods.length-1?gn.duration:gn.periods[wn+1].startTime,Nn=In-gn.periods[wn].startTime,jn=p$(gn.periods[wn],Nn),bn.push(jn);return Qn(Hn,gP(bn),2)}return Vn=Hn.h,Hn.return({creationTime:0,originalManifestUri:gn.originalManifestUri,duration:gn.duration,size:gn.size,expiration:gn.expiration==null?1/0:gn.expiration,streams:Vn,sessionIds:gn.sessionIds,drmInfo:gn.drmInfo,appMetadata:gn.appMetadata,sequenceMode:!1})})};function p$(gn,bn){aN(gn);for(var wn=Dn(gn.streams),In=wn.next();!In.done;In=wn.next());return gn.streams.map(function(Nn){return cm(Nn,gn.startTime,bn)})}function cm(gn,bn,wn){var In=gn.initSegmentUri?EC(gn.initSegmentUri):null,Nn=bn+gn.presentationTimeOffset,jn=bn+wn;return{id:gn.id,originalId:null,primary:gn.primary,type:gn.contentType,mimeType:gn.mimeType,codecs:gn.codecs,frameRate:gn.frameRate,pixelAspectRatio:void 0,hdr:void 0,kind:gn.kind,language:gn.language,label:gn.label,width:gn.width,height:gn.height,initSegmentKey:In,encrypted:gn.encrypted,keyIds:new Set([gn.keyId]),segments:gn.segments.map(function(Vn){var Hn=EC(Vn.uri);return{startTime:bn+Vn.startTime,endTime:bn+Vn.endTime,dataKey:Hn,initSegmentKey:In,appendWindowStart:bn,appendWindowEnd:jn,timestampOffset:Nn,tilesLayout:""}}),variantIds:gn.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0}}RE.prototype.ze=function(gn){return{data:gn.data}};function EC(gn){var bn;if((bn=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(gn))||(bn=/^offline:segment\/([0-9]+)$/.exec(gn)))return Number(bn[1]);throw new Vs(2,9,9004,"Could not parse uri "+gn)}function aN(gn){var bn=gn.streams.filter(function(Hn){return Hn.contentType=="audio"});if(gn=gn.streams.filter(function(Hn){return Hn.contentType=="video"}),!bn.every(function(Hn){return Hn.variantIds})||!gn.every(function(Hn){return Hn.variantIds})){for(var wn=Dn(bn),In=wn.next();!In.done;In=wn.next())In.value.variantIds=[];for(wn=Dn(gn),In=wn.next();!In.done;In=wn.next())In.value.variantIds=[];if(wn=0,gn.length&&!bn.length){var Nn=wn++,jn=Dn(gn);for(In=jn.next();!In.done;In=jn.next())In.value.variantIds.push(Nn)}if(!gn.length&&bn.length)for(Nn=wn++,jn=Dn(bn),In=jn.next();!In.done;In=jn.next())In.value.variantIds.push(Nn);if(gn.length&&bn.length)for(bn=Dn(bn),In=bn.next();!In.done;In=bn.next())for(In=In.value,Nn=Dn(gn),jn=Nn.next();!jn.done;jn=Nn.next()){jn=jn.value;var Vn=wn++;In.variantIds.push(Vn),jn.variantIds.push(Vn)}}}function b0(){w_.apply(this,arguments)}as(b0,w_),b0.prototype.bc=function(gn){var bn,wn,In,Nn,jn,Vn;return hs(function(Hn){if(Hn.g==1){for(bn=[],wn=0;wn<gn.periods.length;++wn){In=wn==gn.periods.length-1?gn.duration:gn.periods[wn+1].startTime,Nn=In-gn.periods[wn].startTime;for(var Xn=gn.periods[wn],ns=[],ss=Dn(Xn.streams),ps=ss.next();!ps.done;ps=ss.next())ps=ps.value,ps.variantIds.length!=0&&ns.push(oN(ps,Xn.startTime,Xn.startTime+Nn));jn=ns,bn.push(jn)}return Qn(Hn,gP(bn),2)}return Vn=Hn.h,Hn.return({appMetadata:gn.appMetadata,creationTime:0,drmInfo:gn.drmInfo,duration:gn.duration,expiration:gn.expiration==null?1/0:gn.expiration,originalManifestUri:gn.originalManifestUri,sessionIds:gn.sessionIds,size:gn.size,streams:Vn,sequenceMode:!1})})};function oN(gn,bn,wn){return{id:gn.id,originalId:gn.originalId,primary:gn.primary,type:gn.contentType,mimeType:gn.mimeType,codecs:gn.codecs,frameRate:gn.frameRate,pixelAspectRatio:gn.pixelAspectRatio,hdr:void 0,kind:gn.kind,language:gn.language,label:gn.label,width:gn.width,height:gn.height,encrypted:gn.encrypted,keyIds:new Set([gn.keyId]),segments:gn.segments.map(function(In){return{startTime:bn+In.startTime,endTime:bn+In.endTime,initSegmentKey:gn.initSegmentKey,appendWindowStart:bn,appendWindowEnd:wn,timestampOffset:bn-gn.presentationTimeOffset,dataKey:In.dataKey,tilesLayout:""}}),variantIds:gn.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0}}function SC(){w_.apply(this,arguments)}as(SC,w_),En=SC.prototype,En.hasFixedKeySpace=function(){return!1},En.addSegments=function(gn){return this.add(this.i,gn)},En.addManifests=function(gn){return this.add(this.g,gn)},En.updateManifest=function(gn,bn){return nN(this,gn,bn)},En.bc=function(gn){return gn.expiration==null&&(gn.expiration=1/0),Promise.resolve(gn)};function nO(){this.m=this.j=this.i=this.h=this.g=this.l=null}En=nO.prototype,En.init=function(){var gn=this,bn=new bl,wn=!1,In=new Hu(function(){wn=!0,bn.reject(new Vs(2,9,9017))});In.O(5);var Nn=pn.indexedDB.open("shaka_offline_db",5);return Nn.onsuccess=function(){if(!wn){var jn=Nn.result;gn.l=jn;var Vn=jn.objectStoreNames;Vn=Vn.contains("manifest")&&Vn.contains("segment")?new RE(jn,"segment","manifest"):null,gn.g=Vn,Vn=jn.objectStoreNames,Vn=Vn.contains("manifest-v2")&&Vn.contains("segment-v2")?new b0(jn,"segment-v2","manifest-v2"):null,gn.h=Vn,Vn=jn.objectStoreNames,Vn=Vn.contains("manifest-v3")&&Vn.contains("segment-v3")?new b0(jn,"segment-v3","manifest-v3"):null,gn.i=Vn,Vn=jn.objectStoreNames,Vn=Vn.contains("manifest-v5")&&Vn.contains("segment-v5")?new SC(jn,"segment-v5","manifest-v5"):null,gn.j=Vn,jn=jn.objectStoreNames.contains("session-ids")?new f$(jn):null,gn.m=jn,In.stop(),bn.resolve()}},Nn.onupgradeneeded=function(){for(var jn=Nn.result,Vn=Dn(["segment-v5","manifest-v5","session-ids"]),Hn=Vn.next();!Hn.done;Hn=Vn.next())Hn=Hn.value,jn.objectStoreNames.contains(Hn)||jn.createObjectStore(Hn,{autoIncrement:!0})},Nn.onerror=function(jn){wn||(bn.reject(new Vs(2,9,9001,Nn.error)),In.stop(),jn.preventDefault())},bn},En.destroy=function(){var gn=this;return hs(function(bn){switch(bn.g){case 1:if(!gn.g){bn.A(2);break}return Qn(bn,gn.g.destroy(),2);case 2:if(!gn.h){bn.A(4);break}return Qn(bn,gn.h.destroy(),4);case 4:if(!gn.i){bn.A(6);break}return Qn(bn,gn.i.destroy(),6);case 6:if(!gn.j){bn.A(8);break}return Qn(bn,gn.j.destroy(),8);case 8:if(!gn.m){bn.A(10);break}return Qn(bn,gn.m.destroy(),10);case 10:gn.l&&gn.l.close(),ms(bn)}})},En.getCells=function(){var gn=new Map;return this.g&&gn.set("v1",this.g),this.h&&gn.set("v2",this.h),this.i&&gn.set("v3",this.i),this.j&&gn.set("v5",this.j),gn},En.getEmeSessionCell=function(){return this.m},En.erase=function(){var gn=this;return hs(function(bn){switch(bn.g){case 1:if(!gn.g){bn.A(2);break}return Qn(bn,gn.g.destroy(),2);case 2:if(!gn.h){bn.A(4);break}return Qn(bn,gn.h.destroy(),4);case 4:if(!gn.i){bn.A(6);break}return Qn(bn,gn.i.destroy(),6);case 6:if(!gn.j){bn.A(8);break}return Qn(bn,gn.j.destroy(),8);case 8:return gn.l&&gn.l.close(),Qn(bn,iO(),10);case 10:return gn.l=null,gn.g=null,gn.h=null,gn.i=null,gn.j=null,Qn(bn,gn.init(),0)}})};function iO(){var gn=new bl,bn=pn.indexedDB.deleteDatabase("shaka_offline_db");return bn.onblocked=function(){},bn.onsuccess=function(){gn.resolve()},bn.onerror=function(wn){gn.reject(new Vs(2,9,9001,bn.error)),wn.preventDefault()},gn}_C("idb",function(){return gl("CrKey")||Um()||!pn.indexedDB?null:new nO});function Om(gn,bn,wn,In){this.g=gn,this.i=bn,this.h=wn,this.l=In,this.j=["offline:",gn,"/",bn,"/",wn,"/",In].join("")}Om.prototype.za=function(){return this.i},Om.prototype.ka=function(){return this.h},Om.prototype.key=function(){return this.l},Om.prototype.toString=function(){return this.j};function x0(gn){if(gn=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(gn),gn==null)return null;var bn=gn[1];if(bn!="manifest"&&bn!="segment")return null;var wn=gn[2];if(!wn)return null;var In=gn[3];return In&&bn!=null?new Om(bn,wn,In,Number(gn[4])):null}function aO(gn,bn){this.h=gn,this.g=bn}function oO(gn,bn){var wn=new ku(null,0);wn.Aa(bn.duration);var In=bn.streams.filter(function(ns){return ns.type=="audio"}),Nn=bn.streams.filter(function(ns){return ns.type=="video"});In=sO(gn,In,Nn,wn),Nn=bn.streams.filter(function(ns){return ns.type==Zu}).map(function(ns){return j1(gn,ns,wn)});var jn=bn.streams.filter(function(ns){return ns.type=="image"}).map(function(ns){return j1(gn,ns,wn)}),Vn=bn.drmInfo?[bn.drmInfo]:[];if(bn.drmInfo)for(var Hn=Dn(In.values()),Xn=Hn.next();!Xn.done;Xn=Hn.next())Xn=Xn.value,Xn.audio&&Xn.audio.encrypted&&(Xn.audio.drmInfos=Vn),Xn.video&&Xn.video.encrypted&&(Xn.video.drmInfos=Vn);return{presentationTimeline:wn,minBufferTime:2,offlineSessionIds:bn.sessionIds,variants:Array.from(In.values()),textStreams:Nn,imageStreams:jn,sequenceMode:bn.sequenceMode||!1}}function sO(gn,bn,wn,In){for(var Nn=new Set,jn=Dn(bn),Vn=jn.next();!Vn.done;Vn=jn.next()){var Hn=Dn(Vn.value.variantIds);for(Vn=Hn.next();!Vn.done;Vn=Hn.next())Nn.add(Vn.value)}for(jn=Dn(wn),Vn=jn.next();!Vn.done;Vn=jn.next())for(Hn=Dn(Vn.value.variantIds),Vn=Hn.next();!Vn.done;Vn=Hn.next())Nn.add(Vn.value);for(jn=new Map,Nn=Dn(Nn),Vn=Nn.next();!Vn.done;Vn=Nn.next())Vn=Vn.value,jn.set(Vn,{id:Vn,language:"",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});for(bn=Dn(bn),Nn=bn.next();!Nn.done;Nn=bn.next())for(Nn=Nn.value,Vn=j1(gn,Nn,In),Hn=Dn(Nn.variantIds),Nn=Hn.next();!Nn.done;Nn=Hn.next())Nn=jn.get(Nn.value),Nn.language=Vn.language,Nn.primary=Nn.primary||Vn.primary,Nn.audio=Vn;for(wn=Dn(wn),bn=wn.next();!bn.done;bn=wn.next())for(Nn=bn.value,bn=j1(gn,Nn,In),Vn=Dn(Nn.variantIds),Nn=Vn.next();!Nn.done;Nn=Vn.next())Nn=jn.get(Nn.value),Nn.primary=Nn.primary||bn.primary,Nn.video=bn;return jn}function j1(gn,bn,wn){var In=bn.segments.map(function(Nn){return F1(gn,Nn)});return wn.Ib(In),{id:bn.id,originalId:bn.originalId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new yl(In),mimeType:bn.mimeType,codecs:bn.codecs,width:bn.width||void 0,height:bn.height||void 0,frameRate:bn.frameRate,pixelAspectRatio:bn.pixelAspectRatio,hdr:bn.hdr,kind:bn.kind,encrypted:bn.encrypted,drmInfos:[],keyIds:bn.keyIds,language:bn.language,label:bn.label,type:bn.type,primary:bn.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:bn.roles,forced:bn.forced,channelsCount:bn.channelsCount,audioSamplingRate:bn.audioSamplingRate,spatialAudio:bn.spatialAudio,closedCaptions:bn.closedCaptions,tilesLayout:bn.tilesLayout}}function F1(gn,bn){var wn=new Om("segment",gn.h,gn.g,bn.dataKey);return new cl(bn.startTime,bn.endTime,function(){return[wn.toString()]},0,null,bn.initSegmentKey!=null?sN(gn,bn.initSegmentKey):null,bn.timestampOffset,bn.appendWindowStart,bn.appendWindowEnd,[],bn.tilesLayout||"")}function sN(gn,bn){var wn=new Om("segment",gn.h,gn.g,bn);return new Hm(function(){return[wn.toString()]},0,null)}function B1(){this.g=null}En=B1.prototype,En.configure=function(){},En.start=function(gn,bn){var wn=this,In,Nn,jn,Vn,Hn,Xn,ns;return hs(function(ss){switch(ss.g){case 1:if(In=x0(gn),wn.g=In,In==null||In.g!="manifest")throw new Vs(2,1,9004,gn);return Nn=new Fp,Ms(ss),Qn(ss,Nn.init(),4);case 4:return Qn(ss,vv(Nn,In.za(),In.ka()),5);case 5:return jn=ss.h,Qn(ss,jn.getManifests([In.key()]),6);case 6:return Vn=ss.h,Hn=Vn[0],Xn=new aO(In.za(),In.ka()),ns=oO(Xn,Hn),bn.makeTextStreamsForClosedCaptions(ns),ss.return(ns);case 2:return js(ss),Qn(ss,Nn.destroy(),7);case 7:bs(ss,0)}})},En.stop=function(){return Promise.resolve()},En.update=function(){},En.onExpirationUpdated=function(gn,bn){var wn=this,In,Nn,jn,Vn,Hn,Xn,ns;return hs(function(ss){switch(ss.g){case 1:return In=wn.g,Nn=new Fp,$s(ss,2,3),Qn(ss,Nn.init(),5);case 5:return Qn(ss,vv(Nn,In.za(),In.ka()),6);case 6:return jn=ss.h,Qn(ss,jn.getManifests([In.key()]),7);case 7:if(Vn=ss.h,Hn=Vn[0],Xn=Hn.sessionIds.includes(gn),ns=Hn.expiration==null||Hn.expiration>bn,!Xn||!ns){ss.A(3);break}return Qn(ss,jn.updateManifestExpiration(In.key(),bn),3);case 3:return js(ss),Qn(ss,Nn.destroy(),10);case 10:bs(ss,0);break;case 2:Ss(ss),ss.A(3)}})},cy["application/x-offline-manifest"]=function(){return new B1};function $C(){}function uO(gn){var bn=x0(gn);return bn&&bn.g=="manifest"?(gn={uri:gn,originalUri:gn,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}},gn=Uy(gn)):gn=bn&&bn.g=="segment"?_v(bn.key(),bn):s_(new Vs(2,1,9004,gn)),gn}function _v(gn,bn){var wn=new Fp;return Uy(void 0).Y(function(){return wn.init()}).Y(function(){return vv(wn,bn.za(),bn.ka())}).Y(function(In){return In.getSegments([bn.key()])}).Y(function(In){return{uri:bn,data:In[0].data,headers:{}}}).finally(function(){return wn.destroy()})}Ys("shaka.offline.OfflineScheme",$C),$C.plugin=uO,jy("offline",uO);function V1(gn,bn,wn){var In,Nn,jn,Vn,Hn,Xn;return hs(function(ns){switch(ns.g){case 1:In=[];for(var ss=[],ps=Dn(wn),fs=ps.next();!fs.done;fs=ps.next()){fs=fs.value;for(var vs=!1,Is=Dn(ss),Ls=Is.next();!Ls.done;Ls=Is.next())if(Ls=Ls.value,cO(Ls.info,fs)){Ls.sessionIds.push(fs.sessionId),vs=!0;break}vs||ss.push({info:fs,sessionIds:[fs.sessionId]})}Nn=Dn(ss),jn=Nn.next();case 2:if(jn.done){ns.A(4);break}return Vn=jn.value,Hn=lO(gn,bn,Vn),Qn(ns,Hn,5);case 5:Xn=ns.h,In=In.concat(Xn),jn=Nn.next(),ns.A(2);break;case 4:return ns.return(In)}})}function lO(gn,bn,wn){var In,Nn;return hs(function(jn){switch(jn.g){case 1:return In=new K$({kb:bn,onError:function(){},cd:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),$s(jn,2),In.configure(gn),Qn(jn,$M(In,wn.info.keySystem,wn.info.licenseUri,wn.info.serverCertificate,wn.info.audioCapabilities,wn.info.videoCapabilities),4);case 4:gs(jn,3);break;case 2:return Ss(jn),Qn(jn,In.destroy(),5);case 5:return jn.return([]);case 3:return $s(jn,6),Qn(jn,Y0(In),8);case 8:gs(jn,7);break;case 6:return Ss(jn),Qn(jn,In.destroy(),9);case 9:return jn.return([]);case 7:return Nn=[],Qn(jn,Promise.all(wn.sessionIds.map(function(Vn){return hs(function(Hn){if(Hn.g==1)return $s(Hn,2),Qn(Hn,kM(In,Vn),4);if(Hn.g!=2)return Nn.push(Vn),gs(Hn,0);Ss(Hn),ms(Hn)})})),10);case 10:return Qn(jn,In.destroy(),11);case 11:return jn.return(Nn)}})}function cO(gn,bn){function wn(In,Nn){return In.robustness==Nn.robustness&&In.contentType==Nn.contentType}return gn.keySystem==bn.keySystem&&gn.licenseUri==bn.licenseUri&&Xp(gn.audioCapabilities,bn.audioCapabilities,wn)&&Xp(gn.videoCapabilities,bn.videoCapabilities,wn)}function uN(gn,bn,wn){var In=bn.presentationTimeline.getDuration();return bn=dO(bn),{offlineUri:null,originalManifestUri:gn,duration:In,size:0,expiration:1/0,tracks:bn,appMetadata:wn,isIncomplete:!1}}function NE(gn,bn){var wn=oO(new aO(gn.za(),gn.ka()),bn),In=bn.appMetadata||{};return wn=dO(wn),{offlineUri:gn.toString(),originalManifestUri:bn.originalManifestUri,duration:bn.duration,size:bn.size,expiration:bn.expiration,tracks:wn,appMetadata:In,isIncomplete:bn.isIncomplete||!1}}function dO(gn){var bn=[],wn=L$(gn.variants);wn=Dn(wn);for(var In=wn.next();!In.done;In=wn.next())bn.push(j_(In.value));for(gn=Dn(gn.textStreams),wn=gn.next();!wn.done;wn=gn.next())bn.push(j0(wn.value));return bn}function lN(){this.g={}}function fO(gn,bn){var wn=bn.audio,In=bn.video;if(wn&&!In&&(gn.g[wn.id]=wn.bandwidth||bn.bandwidth),!wn&&In&&(gn.g[In.id]=In.bandwidth||bn.bandwidth),wn&&In){var Nn=wn.bandwidth||393216,jn=In.bandwidth||bn.bandwidth-Nn;0>=jn&&(jn=bn.bandwidth),gn.g[wn.id]=Nn,gn.g[In.id]=jn}}function pO(gn,bn){gn.g[bn.id]=bn.bandwidth||2048}function TC(gn,bn){return gn=gn.g[bn],gn==null&&(gn=0),gn}function kp(gn){var bn=this;if(gn&&gn.constructor!=nu)throw new Vs(2,9,9008);this.g=this.h=null,gn?(this.h=gn.h,this.g=gn.jc()):(this.h=vE(),this.g=new Sl),this.i=[],this.j=[];var wn=!gn;this.l=new gm(function(){var In,Nn,jn,Vn,Hn;return hs(function(Xn){switch(Xn.g){case 1:return Qn(Xn,Promise.all(bn.j.map(function(ns){return R1(ns)})),2);case 2:for(In=function(){},Nn=[],jn=Dn(bn.i),Vn=jn.next();!Vn.done;Vn=jn.next())Hn=Vn.value,Nn.push(Hn.then(In,In));return Qn(Xn,Promise.all(Nn),3);case 3:if(!wn){Xn.A(4);break}return Qn(Xn,bn.g.destroy(),4);case 4:bn.h=null,bn.g=null,ms(Xn)}})})}function G1(){if(Ap())e:{for(var gn=Dn(ME.values()),bn=gn.next();!bn.done;bn=gn.next())if(bn=bn.value,bn=bn()){bn.destroy(),gn=!0;break e}gn=!1}else gn=!1;return gn}En=kp.prototype,En.destroy=function(){return this.l.destroy()},En.configure=function(gn,bn){return arguments.length==2&&typeof gn=="string"&&(gn=RS(gn,bn)),_E(this.h,gn)},En.getConfiguration=function(){var gn=vE();return _E(gn,this.h,vE()),gn},En.jc=function(){return this.g},En.store=function(gn,bn,wn){var In=this,Nn=this.getConfiguration(),jn=new JP(this.g);return this.j.push(jn),bn=cN(this,gn,bn||{},function(){var Vn;return hs(function(Hn){return Hn.g==1?Qn(Hn,VA(gn,In.g,Nn.manifest.retryParameters,wn||null),2):(Vn=Hn.h,Hn.return(Vn()))})},Nn,jn),bn=new Vl(bn,function(){return R1(jn)}),bn.finally(function(){pl(In.j,jn)}),vN(this,bn)};function cN(gn,bn,wn,In,Nn,jn){var Vn,Hn,Xn,ns,ss,ps,fs,vs,Is,Ls,ws,Rs,Zs,Fs;return hs(function(Ws){switch(Ws.g){case 1:return h$(),Hn=Vn=null,Xn=new Fp,ps=ss=ns=null,$s(Ws,2,3),Qn(Ws,In(),5);case 5:return Vn=Ws.h,Qn(Ws,mN(gn,bn,Vn,Nn),6);case 6:if(fs=Ws.h,Wp(gn),vs=!fs.presentationTimeline.U()&&!fs.presentationTimeline.jb(),!vs)throw new Vs(2,9,9005,bn);return Qn(Ws,gN(gn,fs,function(Gs){ps=ps||Gs},Nn),7);case 7:if(Hn=Ws.h,Wp(gn),ps)throw ps;return Qn(Ws,mO(fs,Nn),8);case 8:return Qn(Ws,Xn.init(),9);case 9:return Wp(gn),Qn(Ws,L1(Xn),10);case 10:return ns=Ws.h,Wp(gn),Is=fN(Hn,fs,bn,wn,Nn,jn),Ls=Is.$f,ws=Is.pe,Qn(Ws,ns.ka.addManifests([Ls]),11);case 11:if(Rs=Ws.h,Wp(gn),ss=Rs[0],Wp(gn),ps)throw ps;return Qn(Ws,dN(gn,ws,ss,Ls,jn,Nn,ns.ka,fs,Hn),12);case 12:return Wp(gn),Zs=new Om("manifest",ns.path.za,ns.path.ka,ss),Ws.return(NE(Zs,Ls));case 3:return js(Ws),Qn(Ws,Xn.destroy(),13);case 13:if(!Vn){Ws.A(14);break}return Qn(Ws,Vn.stop(),14);case 14:if(!Hn){Ws.A(16);break}return Qn(Ws,Hn.destroy(),16);case 16:bs(Ws,0);break;case 2:if(Fs=Ss(Ws),ss==null){Ws.A(18);break}return Qn(Ws,hO(ss),18);case 18:throw ps||Fs}})}function dN(gn,bn,wn,In,Nn,jn,Vn,Hn,Xn){var ns,ss,ps,fs,vs,Is,Ls,ws,Rs,Zs;return hs(function(Fs){switch(Fs.g){case 1:if(ns={},ss=0,ps=function(Ws,Gs){var eu,au,du,pu,bu,Uu,Bu;return hs(function(al){if(al.g==1){for(eu={},au=Dn(Ws),du=au.next();!du.done;eu={cb:eu.cb},du=au.next())eu.cb=du.value,pu=XP(eu.cb,jn),bu=eu.cb.i,Uu=eu.cb.h,Bu=function(Mu){return function(Ql){var ul,kl,Bp;return hs(function(ey){if(ey.g==1)return Qn(ey,Vn.addSegments([{data:Ql}]),2);ul=ey.h,Wp(gn),kl=Mu.cb.g,Bp=M1(kl),ns[Bp]=ul[0],ss+=Ql.byteLength,ms(ey)})}}(eu),N1(Nn,eu.cb.groupId,pu,bu,Uu,Bu);return Qn(al,eO(Nn),2)}return Gs?(Wp(gn),yO(Hn,In,Xn,jn),Qn(al,Vn.updateManifest(wn,In),0)):al.A(0)})},fs=!1,$s(Fs,2),!kC(Hn)||!fs||gO(Hn)){Fs.A(4);break}return Qn(Fs,ps(bn.filter(function(Ws){return Ws.h}),!0),5);case 5:return Wp(gn),bn=bn.filter(function(Ws){return!Ws.h}),vs=ns,Is=ss,ns={},ss=0,Qn(Fs,z1(Vn,wn,In,vs,Is,function(){return Wp(gn)}),6);case 6:Wp(gn);case 4:if(fs){Fs.A(7);break}return Qn(Fs,ps(bn,!1),8);case 8:return Wp(gn),Ls=ns,ws=ss,ns={},ss=0,Qn(Fs,z1(Vn,wn,In,Ls,ws,function(){return Wp(gn)}),9);case 9:Wp(gn);case 7:gs(Fs,0);break;case 2:return Rs=Ss(Fs),Zs=Object.values(ns),Qn(Fs,Vn.removeSegments(Zs,function(){}),10);case 10:throw Rs}})}function hO(gn){var bn,wn,In,Nn;return hs(function(jn){switch(jn.g){case 1:return bn=new Fp,Qn(jn,bn.init(),2);case 2:return Qn(jn,L1(bn),3);case 3:return wn=jn.h,In=new Om("manifest",wn.path.za,wn.path.ka,gn),Qn(jn,bn.destroy(),4);case 4:return Nn=new kp,Qn(jn,Nn.remove(In.toString()),0)}})}function z1(gn,bn,wn,In,Nn,jn){var Vn,Hn,Xn,ns,ss,ps,fs,vs,Is,Ls,ws;return hs(function(Rs){switch(Rs.g){case 1:for(Vn=!1,$s(Rs,2),Hn=!0,Xn=Dn(wn.streams),ns=Xn.next();!ns.done;ns=Xn.next())for(ss=ns.value,ps=Dn(ss.segments),fs=ps.next();!fs.done;fs=ps.next())vs=fs.value,Is=vs.pendingSegmentRefId?In[vs.pendingSegmentRefId]:null,Is!=null&&(vs.dataKey=Is,vs.pendingSegmentRefId=void 0),Is=vs.pendingInitSegmentRefId?In[vs.pendingInitSegmentRefId]:null,Is!=null&&(vs.initSegmentKey=Is,vs.pendingInitSegmentRefId=void 0),vs.pendingSegmentRefId&&(Hn=!1),vs.pendingInitSegmentRefId&&(Hn=!1);return wn.size+=Nn,Hn&&(wn.isIncomplete=!1),Qn(Rs,gn.updateManifest(bn,wn),4);case 4:Vn=!0,jn(),gs(Rs,0);break;case 2:return Ls=Ss(Rs),Qn(Rs,hO(bn),5);case 5:if(Vn){Rs.A(6);break}return ws=Object.values(In),Qn(Rs,gn.removeSegments(ws,function(){}),6);case 6:throw Ls}})}function mO(gn,bn){var wn,In,Nn,jn,Vn,Hn,Xn,ns,ss,ps,fs,vs,Is,Ls,ws,Rs,Zs,Fs,Ws,Gs,eu,au,du,pu,bu,Uu,Bu,al,Mu;return hs(function(Ql){switch(Ql.g){case 1:return wn={width:1/0,height:1/0},uu(gn,bn.restrictions,wn),Qn(Ql,jp(gn,bn.offline.usePersistentLicense),2);case 2:for(In=[],Nn=bn.preferredAudioChannelCount,jn=bn.preferredDecodingAttributes,Vn=bn.preferredVideoCodecs,Hn=bn.preferredAudioCodecs,Vm(gn,Vn,Hn,Nn,jn),Xn=Dn(gn.variants),ns=Xn.next();!ns.done;ns=Xn.next())ss=ns.value,In.push(j_(ss));for(ps=Dn(gn.textStreams),fs=ps.next();!fs.done;fs=ps.next())vs=fs.value,In.push(j0(vs));for(Is=Dn(gn.imageStreams),Ls=Is.next();!Ls.done;Ls=Is.next())ws=Ls.value,In.push(JE(ws));return Qn(Ql,bn.offline.trackSelectionCallback(In),3);case 3:for(Rs=Ql.h,Zs=gn.presentationTimeline.getDuration(),Fs=0,Ws=Dn(Rs),Gs=Ws.next();!Gs.done;Gs=Ws.next())eu=Gs.value,au=eu.bandwidth*Zs/8,Fs+=au;return $s(Ql,4),Qn(Ql,bn.offline.downloadSizeCallback(Fs),6);case 6:if(du=Ql.h,!du)throw new Vs(2,9,9014);gs(Ql,5);break;case 4:throw pu=Ss(Ql),pu instanceof Vs?pu:new Vs(2,9,9015);case 5:for(bu=new Set,Uu=new Set,Bu=new Set,al=Dn(Rs),Gs=al.next();!Gs.done;Gs=al.next())Mu=Gs.value,Mu.type=="variant"&&bu.add(Mu.id),Mu.type=="text"&&Uu.add(Mu.id),Mu.type=="image"&&Bu.add(Mu.id);gn.variants=gn.variants.filter(function(ul){return bu.has(ul.id)}),gn.textStreams=gn.textStreams.filter(function(ul){return Uu.has(ul.id)}),gn.imageStreams=gn.imageStreams.filter(function(ul){return Bu.has(ul.id)}),SN(gn),ms(Ql)}})}function fN(gn,bn,wn,In,Nn,jn){var Vn=uN(wn,bn,In),Hn=Nn.offline.progressCallback;tN(jn,function(vs,Is){Vn.size=Is,Hn(Vn,vs)},function(vs,Is){Xn&&Nn.offline.usePersistentLicense&&ns==Is&&X0(gn,"cenc",vs)});var Xn=kC(bn)&&!gO(bn),ns=null;Xn&&(ns=$N.get(gn.g.keySystem));for(var ss=new lN,ps=Dn(bn.textStreams),fs=ps.next();!fs.done;fs=ps.next())ss.g[fs.value.id]=52;for(ps=Dn(bn.imageStreams),fs=ps.next();!fs.done;fs=ps.next())pO(ss,fs.value);for(fs=Dn(bn.variants),ps=fs.next();!ps.done;ps=fs.next())fO(ss,ps.value);return ss=bC(jn,ss,bn,Nn),jn=ss.streams,ss=ss.pe,fs=gn.g,ps=Nn.offline.usePersistentLicense,fs&&ps&&(fs.initData=[]),{$f:{creationTime:Date.now(),originalManifestUri:wn,duration:bn.presentationTimeline.getDuration(),size:0,expiration:gn.ic(),streams:jn,sessionIds:ps?dx(gn):[],drmInfo:fs,appMetadata:In,isIncomplete:!0,sequenceMode:bn.sequenceMode},pe:ss}}function kC(gn){return gn.variants.some(function(bn){var wn=bn.audio&&bn.audio.encrypted;return bn.video&&bn.video.encrypted||wn})}function gO(gn){return gn.variants.some(function(bn){return(bn.video?bn.video.drmInfos:[]).concat(bn.audio?bn.audio.drmInfos:[]).some(function(wn){return wn.initData&&wn.initData.length})})}function yO(gn,bn,wn,In){if(bn.expiration=wn.ic(),wn=dx(wn),bn.sessionIds=In.offline.usePersistentLicense?wn:[],kC(gn)&&In.offline.usePersistentLicense&&!wn.length)throw new Vs(2,9,9007)}En.remove=function(gn){return xC(this,bp(this,gn))};function bp(gn,bn){var wn,In,Nn,jn,Vn,Hn;return hs(function(Xn){switch(Xn.g){case 1:if(h$(),wn=x0(bn),wn==null||wn.g!="manifest")throw new Vs(2,9,9004,bn);return In=wn,Nn=new Fp,Ms(Xn),Qn(Xn,Nn.init(),4);case 4:return Qn(Xn,vv(Nn,In.za(),In.ka()),5);case 5:return jn=Xn.h,Qn(Xn,jn.getManifests([In.key()]),6);case 6:return Vn=Xn.h,Hn=Vn[0],Qn(Xn,Promise.all([pN(gn,Hn,Nn),hN(jn,In,Hn)]),2);case 2:return js(Xn),Qn(Xn,Nn.destroy(),8);case 8:bs(Xn,0)}})}function H1(gn,bn){for(var wn=[],In=Dn(gn.streams),Nn=In.next();!Nn.done;Nn=In.next())Nn=Nn.value,bn&&Nn.type=="video"?wn.push({contentType:_h(Nn.mimeType,Nn.codecs),robustness:gn.drmInfo.videoRobustness}):bn||Nn.type!="audio"||wn.push({contentType:_h(Nn.mimeType,Nn.codecs),robustness:gn.drmInfo.audioRobustness});return wn}function pN(gn,bn,wn){return hs(function(In){return Qn(In,EN(gn.g,gn.h.drm,wn,bn),0)})}function hN(gn,bn,wn){function In(){}var Nn=_N(wn);return NE(bn,wn),Promise.all([gn.removeSegments(Nn,In),gn.removeManifests([bn.key()],In)])}En.og=function(){return xC(this,vO(this))};function vO(gn){var bn,wn,In,Nn,jn,Vn,Hn,Xn,ns,ss;return hs(function(ps){switch(ps.g){case 1:return h$(),bn=gn.g,wn=gn.h.drm,In=new Fp,Nn=!1,Ms(ps),Qn(ps,In.init(),4);case 4:jn=[],U1(In,function(fs){return jn.push(fs)}),Vn=Dn(jn),Hn=Vn.next();case 5:if(Hn.done){ps.A(2);break}return Xn=Hn.value,Qn(ps,Xn.getAll(),8);case 8:return ns=ps.h,Qn(ps,V1(wn,bn,ns),9);case 9:return ss=ps.h,Qn(ps,Xn.remove(ss),10);case 10:ss.length!=ns.length&&(Nn=!0),Hn=Vn.next(),ps.A(5);break;case 2:return js(ps),Qn(ps,In.destroy(),11);case 11:bs(ps,3);break;case 3:return ps.return(!Nn)}})}En.list=function(){return xC(this,_O())};function _O(){var gn,bn,wn;return hs(function(In){switch(In.g){case 1:return h$(),gn=[],bn=new Fp,Ms(In),Qn(In,bn.init(),4);case 4:return wn=Promise.resolve(),vC(bn,function(Nn,jn){wn=wn.then(function(){var Vn;return hs(function(Hn){if(Hn.g==1)return Qn(Hn,jn.getAllManifests(),2);Vn=Hn.h,Vn.forEach(function(Xn,ns){Xn=NE(new Om("manifest",Nn.za,Nn.ka,ns),Xn),gn.push(Xn)}),ms(Hn)})})}),Qn(In,wn,2);case 2:return js(In),Qn(In,bn.destroy(),6);case 6:bs(In,3);break;case 3:return In.return(gn)}})}function mN(gn,bn,wn,In){var Nn,jn,Vn,Hn,Xn;return hs(function(ns){if(ns.g==1)return Nn=null,jn=gn.g,Vn={networkingEngine:jn,modifyManifestRequest:function(){},modifySegmentRequest:function(){},filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(ss){Nn=ss},isLowLatencyMode:function(){return!1},isAutoLowLatencyMode:function(){return!1},enableLowLatencyMode:function(){},updateDuration:function(){},newDrmInfo:function(){}},wn.configure(In.manifest),Wp(gn),Qn(ns,wn.start(bn,Vn),2);if(ns.g!=3)return Hn=ns.h,Wp(gn),Xn=SO(Hn),Qn(ns,Promise.all(Pv(Xn,function(ss){return ss.createSegmentIndex()})),3);if(Wp(gn),Nn)throw Nn;return ns.return(Hn)})}function gN(gn,bn,wn,In){var Nn;return hs(function(jn){switch(jn.g){case 1:return Nn=new K$({kb:gn.g,onError:wn,cd:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),Nn.configure(In.drm),Qn(jn,uv(Nn,bn.variants,In.offline.usePersistentLicense),2);case 2:return Qn(jn,Y0(Nn),3);case 3:return Qn(jn,NA(Nn),4);case 4:return jn.return(Nn)}})}function bC(gn,bn,wn,In){var Nn=new Map,jn=SO(wn),Vn=new Map;jn=Dn(jn);for(var Hn=jn.next();!Hn.done;Hn=jn.next()){Hn=Hn.value;var Xn=EO(gn,bn,wn,Hn,In,Nn);Vn.set(Hn.id,Xn)}for(gn=Dn(wn.variants),bn=gn.next();!bn.done;bn=gn.next())bn=bn.value,bn.audio&&Vn.get(bn.audio.id).variantIds.push(bn.id),bn.video&&Vn.get(bn.video.id).variantIds.push(bn.id);return{streams:Array.from(Vn.values()),pe:Array.from(Nn.values())}}function EO(gn,bn,wn,In,Nn,jn){var Vn={id:In.id,originalId:In.originalId,primary:In.primary,type:In.type,mimeType:In.mimeType,codecs:In.codecs,frameRate:In.frameRate,pixelAspectRatio:In.pixelAspectRatio,hdr:In.hdr,kind:In.kind,language:In.language,label:In.label,width:In.width||null,height:In.height||null,encrypted:In.encrypted,keyIds:In.keyIds,segments:[],variantIds:[],roles:In.roles,forced:In.forced,channelsCount:In.channelsCount,audioSamplingRate:In.audioSamplingRate,spatialAudio:In.spatialAudio,closedCaptions:In.closedCaptions,tilesLayout:In.tilesLayout},Hn=Nn.offline.numberOfParallelDownloads,Xn=0;return yN(In,wn.presentationTimeline.Oa(),function(ns){var ss=M1(ns),ps=void 0;if(!jn.has(ss)){var fs=ns.endTime-ns.startTime;fs=TC(bn,In.id)*fs,fs=ZP(gn.g,fs),jn.set(ss,new YP(ns,fs,Xn,!1))}ns.h&&(ps=M1(ns.h),jn.has(ps)||(fs=.5*TC(bn,In.id),fs=ZP(gn.g,fs),jn.set(ps,new YP(ns.h,fs,Xn,!0)))),Vn.segments.push({pendingInitSegmentRefId:ps,initSegmentKey:ps?0:null,startTime:ns.startTime,endTime:ns.endTime,appendWindowStart:ns.appendWindowStart,appendWindowEnd:ns.appendWindowEnd,timestampOffset:ns.timestampOffset,tilesLayout:ns.tilesLayout,pendingSegmentRefId:ss,dataKey:0}),Xn=(Xn+1)%Hn}),Vn}function yN(gn,bn,wn){if(bn=gn.segmentIndex.find(bn),bn!=null)for(var In=gn.segmentIndex.get(bn);In;)wn(In),In=gn.segmentIndex.get(++bn)}function Wp(gn){if(gn.l.g)throw new Vs(2,9,7001)}function h$(){if(!G1())throw new Vs(2,9,9e3)}function xC(gn,bn){return hs(function(wn){return wn.g==1?(gn.i.push(bn),Ms(wn),Qn(wn,bn,4)):wn.g!=2?wn.return(wn.h):(js(wn),pl(gn.i,bn),bs(wn,0))})}function vN(gn,bn){var wn=bn.promise;return gn.i.push(wn),bn.finally(function(){pl(gn.i,wn)})}function _N(gn){var bn=new Set;gn=Dn(gn.streams);for(var wn=gn.next();!wn.done;wn=gn.next()){wn=Dn(wn.value.segments);for(var In=wn.next();!In.done;In=wn.next())In=In.value,In.initSegmentKey!=null&&bn.add(In.initSegmentKey),bn.add(In.dataKey)}return Array.from(bn)}function EN(gn,bn,wn,In){var Nn,jn,Vn;return hs(function(Hn){return Hn.g==1?In.drmInfo?(Nn=k0(wn),jn=In.sessionIds.map(function(Xn){return{sessionId:Xn,keySystem:In.drmInfo.keySystem,licenseUri:In.drmInfo.licenseServerUri,serverCertificate:In.drmInfo.serverCertificate,audioCapabilities:H1(In,!1),videoCapabilities:H1(In,!0)}}),Qn(Hn,V1(bn,gn,jn),2)):Hn.return():Hn.g!=3?(Vn=Hn.h,Qn(Hn,Nn.remove(Vn),3)):Qn(Hn,Nn.add(jn.filter(function(Xn){return!Vn.includes(Xn.sessionId)})),0)})}function SO(gn){for(var bn=new Set,wn=Dn(gn.textStreams),In=wn.next();!In.done;In=wn.next())bn.add(In.value);for(wn=Dn(gn.imageStreams),In=wn.next();!In.done;In=wn.next())bn.add(In.value);for(gn=Dn(gn.variants),wn=gn.next();!wn.done;wn=gn.next())wn=wn.value,wn.audio&&bn.add(wn.audio),wn.video&&bn.add(wn.video);return bn}function SN(gn){gn.variants.map(function(jn){return jn.video});var bn=new Set(gn.variants.map(function(jn){return jn.audio}));gn=gn.textStreams;for(var wn=Dn(bn),In=wn.next();!In.done;In=wn.next()){In=Dn(bn);for(var Nn=In.next();!Nn.done;Nn=In.next());}for(bn=Dn(gn),wn=bn.next();!wn.done;wn=bn.next())for(wn=Dn(gn),In=wn.next();!In.done;In=wn.next());}Ys("shaka.offline.Storage",kp),kp.deleteAll=function(){var gn;return hs(function(bn){return bn.g==1?(gn=new Fp,Ms(bn),Qn(bn,iN(gn),2)):bn.g!=5?(js(bn),Qn(bn,gn.destroy(),5)):bs(bn,0)})},kp.prototype.list=kp.prototype.list,kp.prototype.removeEmeSessions=kp.prototype.og,kp.prototype.remove=kp.prototype.remove,kp.prototype.store=kp.prototype.store,kp.prototype.getNetworkingEngine=kp.prototype.jc,kp.prototype.getConfiguration=kp.prototype.getConfiguration,kp.prototype.configure=kp.prototype.configure,kp.prototype.destroy=kp.prototype.destroy,kp.support=G1;var $N=new Map().set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware","9a04f07998404286ab92e65be0885f95").set("com.adobe.primetime","f239e769efa348509c16a903c6932efb");HT.offline=G1;function Op(){}function nm(gn,bn){for(gn={priority:bn||0,lf:gn},bn=0;bn<hp.length;bn++)if(hp[bn].priority<gn.priority){hp.splice(bn,0,gn);return}hp.push(gn)}Ys("shaka.polyfill",Op),Op.register=nm,Op.installAll=function(){for(var gn=Dn(hp),bn=gn.next();!bn.done;bn=gn.next()){bn=bn.value;try{bn.lf()}catch(wn){$u("Error installing polyfill!",wn)}}};var hp=[];function C_(){this.g=new W1}function K1(){pn.AbortController||(pn.AbortController=C_,pn.AbortSignal=W1)}C_.prototype.abort=function(gn){var bn=this.g;bn.h||(bn.h=!0,bn.g=gn,bn.g===void 0&&(bn.g=new DOMException("signal is aborted without reason","AbortError")),gn=new Ju("abort"),bn.onabort&&bn.onabort(gn),bn.dispatchEvent(gn))},Ln.Object.defineProperties(C_.prototype,{signal:{configurable:!0,enumerable:!0,get:function(){return this.g}}}),Op.AbortController=C_,C_.install=K1;function W1(){hl.call(this),this.h=!1,this.g=void 0,this.onabort=null}as(W1,hl),Ln.Object.defineProperties(W1.prototype,{aborted:{configurable:!0,enumerable:!0,get:function(){return this.h}},reason:{configurable:!0,enumerable:!0,get:function(){return this.g}}}),nm(K1);function $O(){}function TO(){if(!Object.getOwnPropertyDescriptor(Element.prototype,"ariaHidden"))for(var gn=Dn(["ariaHidden","ariaLabel","ariaPressed","ariaSelected"]),bn=gn.next();!bn.done;bn=gn.next())kO(bn.value)}function kO(gn){var bn="aria-"+gn.toLowerCase().replace(/^aria/,"");Object.defineProperty(Element.prototype,gn,{get:function(){return this.getAttribute(bn)},set:function(wn){wn==null||wn==null?this.removeAttribute(bn):this.setAttribute(bn,wn)}})}Op.Aria=$O,$O.install=TO,nm(TO);function bO(){}function xO(){fA()}Op.EncryptionScheme=bO,bO.install=xO,nm(xO,-2);function xp(){}function wC(){if(pn.Document){var gn=Element.prototype;gn.requestFullscreen=gn.requestFullscreen||gn.mozRequestFullScreen||gn.msRequestFullscreen||gn.webkitRequestFullscreen,gn=Document.prototype,gn.exitFullscreen=gn.exitFullscreen||gn.mozCancelFullScreen||gn.msExitFullscreen||gn.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",mp),document.addEventListener("webkitfullscreenerror",mp),document.addEventListener("mozfullscreenchange",mp),document.addEventListener("mozfullscreenerror",mp),document.addEventListener("MSFullscreenChange",mp),document.addEventListener("MSFullscreenError",mp)}}function mp(gn){var bn=gn.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),wn=document.createEvent("Event");wn.initEvent(bn,gn.bubbles,gn.cancelable),gn.target.dispatchEvent(wn)}Op.Fullscreen=xp,xp.install=wC,nm(wC);function w0(){}function DE(){var gn=!0;(D_()||gl("PlayStation 5")||hm()||gl("Web0S")||Ep()||gl("CrKey")||gl("PC=EOS")||gl("Hisense")||gl("VIDAA"))&&(gn=!1),gn&&navigator.mediaCapabilities||(navigator.mediaCapabilities||(navigator.mediaCapabilities={}),m$=navigator.mediaCapabilities,navigator.mediaCapabilities.decodingInfo=wO)}function wO(gn){var bn,wn,In,Nn,jn,Vn,Hn,Xn,ns,ss,ps,fs,vs,Is,Ls,ws,Rs,Zs;return hs(function(Fs){switch(Fs.g){case 1:if(bn={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:gn},!gn)return Fs.return(bn);if(wn=gn.video,In=gn.audio,gn.type=="media-source"){if(!Ap())return Fs.return(bn);if(wn){if(gl("CrKey"))if(pn.cast&&cast.__platform__&&cast.__platform__.canDisplayType){var Ws=wn.contentType;wn.width&&wn.height&&(Ws+="; width="+wn.width+"; height="+wn.height),wn.framerate&&(Ws+="; framerate="+wn.framerate),wn.transferFunction==="pq"&&(Ws+="; eotf=smpte2084"),Nn=cast.__platform__.canDisplayType(Ws)}else Nn=Fu(wn.contentType);else Ep()?(jn=wn.contentType,wn.width&&wn.height&&(jn+="; width="+wn.width,jn+="; height="+wn.height),wn.framerate&&(jn+="; framerate="+wn.framerate),wn.bitrate&&(jn+="; bitrate="+wn.bitrate),Nn=Fu(jn)):Nn=Fu(wn.contentType);if(!Nn)return Fs.return(bn)}if(In&&(Vn=In.contentType,Hn=Fu(Vn),!Hn))return Fs.return(bn)}else if(gn.type=="file"){if(wn&&(Xn=wn.contentType,ns=Em(Xn),!ns)||In&&(ss=In.contentType,ps=Em(ss),!ps))return Fs.return(bn)}else return Fs.return(bn);return gn.keySystemConfiguration?(fs=gn.keySystemConfiguration,vs=[],Is=[],fs.audio&&(Ls={robustness:fs.audio.robustness||"",contentType:gn.audio.contentType},vs.push(Ls)),fs.video&&(ws={robustness:fs.video.robustness||"",contentType:gn.video.contentType},Is.push(ws)),Rs={initDataTypes:[fs.initDataType],distinctiveIdentifier:fs.distinctiveIdentifier,persistentState:fs.persistentState,sessionTypes:fs.sessionTypes},vs.length&&(Rs.audioCapabilities=vs),Is.length&&(Rs.videoCapabilities=Is),$s(Fs,3),Qn(Fs,navigator.requestMediaKeySystemAccess(fs.keySystem,[Rs]),5)):(bn.supported=!0,Fs.return(Promise.resolve(bn)));case 5:Zs=Fs.h,gs(Fs,4);break;case 3:Ss(Fs);case 4:Zs&&(bn.supported=!0,bn.keySystemAccess=Zs);case 2:return Fs.return(bn)}})}Op.MediaCapabilities=w0,w0.install=DE;var m$=null;w0.originalMcap=m$,nm(DE,-1);function CC(){}function AC(){var gn=L_();pn.MediaSource&&(pn.cast&&cast.__platform__&&cast.__platform__.canDisplayType?OO():gn?12>=gn?(CO(),AO()):15>=gn&&CO():Yl()?IO():(gl("Tizen 2")||gl("Tizen 3")||gl("Tizen 4"))&&PO()),pn.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&LE()}function CO(){var gn=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var bn=gn.apply(this,lu.apply(0,arguments));return bn.abort=function(){},bn}}function AO(){var gn=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(bn,wn){return gn.call(this,bn,wn-.001)}}function IO(){var gn=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(bn){return bn.split(";")[0].split("/")[1]!="mp2t"&&gn(bn)}}function PO(){var gn=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(bn){return Bm(bn)[0]!="opus"&&gn(bn)}}function OO(){var gn=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(bn){var wn=bn.split(/ *; */);return wn.shift(),wn.some(function(In){return In.startsWith("codecs=")})?cast.__platform__.canDisplayType(bn):gn(bn)}}function LE(){var gn=MediaSource.isTypeSupported;gl("Web0S")||(MediaSource.isTypeSupported=function(bn){var wn=bn.split(/ *; */),In=wn.findIndex(function(Vn){return Vn.startsWith("codecs=")});if(0>In)return gn(bn);var Nn=wn[In].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),jn=Nn.findIndex(function(Vn){return Vn.startsWith("vp09")});return 0<=jn&&(Nn[jn]="vp9",wn[In]='codecs="'+Nn.join(",")+'"',bn=wn.join("; ")),gn(bn)})}Op.MediaSource=CC,CC.install=AC,nm(AC);function q1(){}function IC(){screen.orientation||pn.orientation!=null&&TN()}function TN(){function gn(){switch(pn.orientation){case-90:bn.type="landscape-secondary",bn.angle=270;break;case 0:bn.type="portrait-primary",bn.angle=0;break;case 90:bn.type="landscape-primary",bn.angle=90;break;case 180:bn.type="portrait-secondary",bn.angle=180}}var bn=new g$;screen.orientation=bn,gn(),pn.addEventListener("orientationchange",function(){gn();var wn=new Ju("change");bn.dispatchEvent(wn)})}Op.Orientation=q1,q1.install=IC;function g$(){hl.call(this),this.type="",this.angle=0}as(g$,hl),g$.prototype.lock=function(gn){function bn(In){return screen.lockOrientation?screen.lockOrientation(In):screen.mozLockOrientation?screen.mozLockOrientation(In):screen.msLockOrientation?screen.msLockOrientation(In):!1}var wn=!1;switch(gn){case"natural":wn=bn("default");break;case"any":wn=!0,this.unlock();break;default:wn=bn(gn)}return wn?Promise.resolve():(gn=Error("screen.orientation.lock() is not available on this device"),gn.name="NotSupportedError",gn.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(gn))},g$.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},nm(IC);function Y1(){}var X1,Q1,PC,OC,MC,RC;function kN(gn,bn){try{var wn=new Z1(gn,bn);return Promise.resolve(wn)}catch(In){return Promise.reject(In)}}function MO(gn){var bn=this.mediaKeys;return bn&&bn!=gn&&J1(bn,null),delete this.mediaKeys,(this.mediaKeys=gn)?J1(gn,this):Promise.resolve()}function RO(gn){if(gn=Pu(gn.initData),rp(gn).getUint32(0,!0)+4!=gn.byteLength)throw new RangeError("Malformed FairPlay init data");gn=Ip(gn.subarray(4),!0),gn=fp(gn);var bn=new Event("encrypted");bn.initDataType="skd",bn.initData=Vu(gn),this.dispatchEvent(bn)}Op.PatchedMediaKeysApple=Y1,Y1.uninstall=function(){X1&&(X1=!1,Object.defineProperty(HTMLMediaElement.prototype,"mediaKeys",Q1),HTMLMediaElement.prototype.setMediaKeys=PC,pn.MediaKeys=OC,pn.MediaKeySystemAccess=MC,navigator.requestMediaKeySystemAccess=RC,Q1=RC=PC=MC=OC=null,pn.shakaMediaKeysPolyfill=!1)},Y1.install=function(gn){pn.HTMLVideoElement&&pn.WebKitMediaKeys&&(gn!==void 0&&gn&&(X1=!0,Q1=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"mediaKeys"),PC=HTMLMediaElement.prototype.setMediaKeys,OC=pn.MediaKeys,MC=pn.MediaKeySystemAccess,RC=navigator.requestMediaKeySystemAccess),delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=MO,pn.MediaKeys=C0,pn.MediaKeySystemAccess=Z1,navigator.requestMediaKeySystemAccess=kN,pn.shakaMediaKeysPolyfill=!0)};function Z1(gn,bn){if(this.keySystem=gn,gn.startsWith("com.apple.fps"))for(gn=Dn(bn),bn=gn.next();!bn.done;bn=gn.next()){var wn=bn.value;if(wn.persistentState=="required")bn=null;else{bn={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:wn.initDataTypes,sessionTypes:["temporary"],label:wn.label};var In=!1,Nn=!1;if(wn.audioCapabilities)for(var jn=Dn(wn.audioCapabilities),Vn=jn.next();!Vn.done;Vn=jn.next())Vn=Vn.value,Vn.contentType&&(In=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,Vn.contentType.split(";")[0])&&(bn.audioCapabilities.push(Vn),Nn=!0));if(wn.videoCapabilities)for(wn=Dn(wn.videoCapabilities),Vn=wn.next();!Vn.done;Vn=wn.next())jn=Vn.value,jn.contentType&&(In=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,jn.contentType.split(";")[0])&&(bn.videoCapabilities.push(jn),Nn=!0));In||(Nn=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),bn=Nn?bn:null}if(bn){this.g=bn;return}}throw gn=Error("Unsupported keySystem"),gn.name="NotSupportedError",gn.code=DOMException.NOT_SUPPORTED_ERR,gn}Z1.prototype.createMediaKeys=function(){var gn=new C0(this.keySystem);return Promise.resolve(gn)},Z1.prototype.getConfiguration=function(){return this.g};function C0(gn){this.h=new WebKitMediaKeys(gn),this.g=new jl}C0.prototype.createSession=function(gn){if(gn=gn||"temporary",gn!="temporary")throw new TypeError("Session type "+gn+" is unsupported on this platform.");return new y$(this.h)},C0.prototype.setServerCertificate=function(){return Promise.resolve(!1)};function J1(gn,bn){if(gn.g.nb(),!bn)return Promise.resolve();gn.g.C(bn,"webkitneedkey",RO);try{return Gy(bn,HTMLMediaElement.HAVE_METADATA,gn.g,function(){bn.webkitSetMediaKeys(gn.h)}),Promise.resolve()}catch(wn){return Promise.reject(wn)}}function y$(gn){hl.call(this),this.i=null,this.l=gn,this.g=this.h=null,this.j=new jl,this.sessionId="",this.expiration=NaN,this.closed=new bl,this.keyStatuses=new _k}as(y$,hl),En=y$.prototype,En.generateRequest=function(gn,bn){var wn=this;this.h=new bl;try{var In=this.l.createSession("video/mp4",Pu(bn));this.i=In,this.sessionId=In.sessionId||"",this.j.C(this.i,"webkitkeymessage",function(Nn){wn.h&&(wn.h.resolve(),wn.h=null),Nn=new Map().set("messageType",wn.keyStatuses.Eb()==null?"license-request":"license-renewal").set("message",Vu(Nn.message)),Nn=new Ju("message",Nn),wn.dispatchEvent(Nn)}),this.j.C(In,"webkitkeyadded",function(){wn.g&&(UE(wn,"usable"),wn.g.resolve(),wn.g=null)}),this.j.C(In,"webkitkeyerror",function(){var Nn=Error("EME PatchedMediaKeysApple key error");if(Nn.errorCode=wn.i.error,wn.h!=null)wn.h.reject(Nn),wn.h=null;else if(wn.g!=null)wn.g.reject(Nn),wn.g=null;else switch(wn.i.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:UE(wn,"output-not-allowed");break;default:UE(wn,"internal-error")}}),UE(this,"status-pending")}catch(Nn){this.h.reject(Nn)}return this.h},En.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},En.update=function(gn){this.g=new bl;try{this.i.update(Pu(gn))}catch(bn){this.g.reject(bn)}return this.g},En.close=function(){try{this.i.close(),this.closed.resolve(),this.j.nb()}catch(gn){this.closed.reject(gn)}return this.closed},En.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))};function UE(gn,bn){var wn=gn.keyStatuses;wn.size=bn==null?0:1,wn.g=bn,bn=new Ju("keystatuseschange"),gn.dispatchEvent(bn)}function _k(){this.size=0,this.g=void 0}En=_k.prototype,En.Eb=function(){return this.g},En.forEach=function(gn){this.g&&gn(this.g,Z$.value())},En.get=function(gn){if(this.has(gn))return this.g},En.has=function(gn){var bn=Z$.value();return!!(this.g&&Lm(gn,bn))},En.entries=function(){},En.keys=function(){},En.values=function(){};function Ek(){}function Sk(){!pn.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=NC,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=bN,pn.MediaKeys=DC,pn.MediaKeySystemAccess=LC,pn.shakaMediaKeysPolyfill=!0)}function NC(){return Promise.reject(Error("The key system specified is not supported."))}function bN(gn){return gn==null?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}Op.PatchedMediaKeysNop=Ek,Ek.install=Sk;function DC(){throw new TypeError("Illegal constructor.")}DC.prototype.createSession=function(){},DC.prototype.setServerCertificate=function(){};function LC(){throw this.keySystem="",new TypeError("Illegal constructor.")}LC.prototype.getConfiguration=function(){},LC.prototype.createMediaKeys=function(){},nm(Sk,-10);function v$(){}function _$(){if(!(!pn.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)k$="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=UC,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Tk,pn.MediaKeys=S$,pn.MediaKeySystemAccess=E$,pn.shakaMediaKeysPolyfill=!0}}function $k(gn){var bn=k$;return bn?bn+gn.charAt(0).toUpperCase()+gn.slice(1):gn}function UC(gn,bn){try{var wn=new E$(gn,bn);return Promise.resolve(wn)}catch(In){return Promise.reject(In)}}function Tk(gn){var bn=this.mediaKeys;return bn&&bn!=gn&&jC(bn,null),delete this.mediaKeys,(this.mediaKeys=gn)&&jC(gn,this),Promise.resolve()}Op.PatchedMediaKeysWebkit=v$,v$.install=_$;function E$(gn,bn){this.g=this.keySystem=gn;var wn=!1;gn=="org.w3.clearkey"&&(this.g="webkit-org.w3.clearkey",wn=!1);var In=!1,Nn=document.getElementsByTagName("video");Nn=Nn.length?Nn[0]:document.createElement("video"),bn=Dn(bn);for(var jn=bn.next();!jn.done;jn=bn.next()){jn=jn.value;var Vn={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:jn.initDataTypes,sessionTypes:["temporary"],label:jn.label},Hn=!1;if(jn.audioCapabilities)for(var Xn=Dn(jn.audioCapabilities),ns=Xn.next();!ns.done;ns=Xn.next())ns=ns.value,ns.contentType&&(Hn=!0,Nn.canPlayType(ns.contentType.split(";")[0],this.g)&&(Vn.audioCapabilities.push(ns),In=!0));if(jn.videoCapabilities)for(Xn=Dn(jn.videoCapabilities),ns=Xn.next();!ns.done;ns=Xn.next())ns=ns.value,ns.contentType&&(Hn=!0,Nn.canPlayType(ns.contentType,this.g)&&(Vn.videoCapabilities.push(ns),In=!0));if(Hn||(In=Nn.canPlayType("video/mp4",this.g)||Nn.canPlayType("video/webm",this.g)),jn.persistentState=="required"&&(wn?(Vn.persistentState="required",Vn.sessionTypes=["persistent-license"]):In=!1),In){this.h=Vn;return}}throw wn="Unsupported keySystem",(gn=="org.w3.clearkey"||gn=="com.widevine.alpha")&&(wn="None of the requested configurations were supported."),gn=Error(wn),gn.name="NotSupportedError",gn.code=DOMException.NOT_SUPPORTED_ERR,gn}E$.prototype.createMediaKeys=function(){var gn=new S$(this.g);return Promise.resolve(gn)},E$.prototype.getConfiguration=function(){return this.h};function S$(gn){this.l=gn,this.h=null,this.g=new jl,this.i=[],this.j=new Map}function jC(gn,bn){gn.h=bn,gn.g.nb();var wn=k$;bn&&(gn.g.C(bn,wn+"needkey",function(In){var Nn=new CustomEvent("encrypted");Nn.initDataType="cenc",Nn.initData=Vu(In.initData),gn.h.dispatchEvent(Nn)}),gn.g.C(bn,wn+"keymessage",function(In){var Nn=FC(gn,In.sessionId);Nn&&(In=new Map().set("messageType",Nn.keyStatuses.Eb()==null?"licenserequest":"licenserenewal").set("message",In.message),In=new Ju("message",In),Nn.h&&(Nn.h.resolve(),Nn.h=null),Nn.dispatchEvent(In))}),gn.g.C(bn,wn+"keyadded",function(In){(In=FC(gn,In.sessionId))&&(T$(In,"usable"),In.g&&In.g.resolve(),In.g=null)}),gn.g.C(bn,wn+"keyerror",function(In){var Nn=FC(gn,In.sessionId);Nn&&Nn.handleError(In)}))}S$.prototype.createSession=function(gn){if(gn=gn||"temporary",gn!="temporary"&&gn!="persistent-license")throw new TypeError("Session type "+gn+" is unsupported on this platform.");var bn=this.h||document.createElement("video");return bn.src||(bn.src="about:blank"),gn=new BC(bn,this.l,gn),this.i.push(gn),gn},S$.prototype.setServerCertificate=function(){return Promise.resolve(!1)};function FC(gn,bn){var wn=gn.j.get(bn);return wn||((wn=gn.i.shift())?(wn.sessionId=bn,gn.j.set(bn,wn),wn):null)}function BC(gn,bn,wn){hl.call(this),this.j=gn,this.m=!1,this.g=this.h=null,this.i=bn,this.l=wn,this.sessionId="",this.expiration=NaN,this.closed=new bl,this.keyStatuses=new VC}as(BC,hl),En=BC.prototype,En.handleError=function(gn){var bn=Error("EME v0.1b key error"),wn=gn.errorCode;wn.systemCode=gn.systemCode,bn.errorCode=wn,!gn.sessionId&&this.h?(gn.systemCode==45&&(bn.message="Unsupported session type."),this.h.reject(bn),this.h=null):gn.sessionId&&this.g?(this.g.reject(bn),this.g=null):(bn=gn.systemCode,gn.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?T$(this,"output-restricted"):bn==1?T$(this,"expired"):T$(this,"internal-error"))};function Ck(gn,bn,wn){if(gn.m)return Promise.reject(Error("The session is already initialized."));gn.m=!0;try{if(gn.l=="persistent-license")if(wn)var In=Pu(fp("LOAD_SESSION|"+wn));else{var Nn=fp("PERSISTENT|");In=oy(Nn,bn)}else In=Pu(bn)}catch(Vn){return Promise.reject(Vn)}gn.h=new bl;var jn=$k("generateKeyRequest");try{gn.j[jn](gn.i,In)}catch(Vn){if(Vn.name!="InvalidStateError")return gn.h=null,Promise.reject(Vn);new Hu(function(){try{gn.j[jn](gn.i,In)}catch(Hn){gn.h.reject(Hn),gn.h=null}}).O(.01)}return gn.h}function $$(gn,bn,wn){if(gn.g)gn.g.then(function(){return $$(gn,bn,wn)}).catch(function(){return $$(gn,bn,wn)});else{if(gn.g=bn,gn.i=="webkit-org.w3.clearkey"){var In=Ou(wn),Nn=JSON.parse(In);Nn.keys[0].kty!="oct"&&(gn.g.reject(Error("Response is not a valid JSON Web Key Set.")),gn.g=null),In=mm(Nn.keys[0].k),Nn=mm(Nn.keys[0].kid)}else In=Pu(wn),Nn=null;var jn=$k("addKey");try{gn.j[jn](gn.i,In,Nn,gn.sessionId)}catch(Vn){gn.g.reject(Vn),gn.g=null}}}function T$(gn,bn){var wn=gn.keyStatuses;wn.size=bn==null?0:1,wn.g=bn,bn=new Ju("keystatuseschange"),gn.dispatchEvent(bn)}En.generateRequest=function(gn,bn){return Ck(this,bn,null)},En.load=function(gn){return this.l=="persistent-license"?Ck(this,null,gn):Promise.reject(Error("Not a persistent session."))},En.update=function(gn){var bn=new bl;return $$(this,bn,gn),bn},En.close=function(){if(this.l!="persistent-license"){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var gn=$k("cancelKeyRequest");try{this.j[gn](this.i,this.sessionId)}catch{}}return this.closed.resolve(),this.closed},En.remove=function(){return this.l!="persistent-license"?Promise.reject(Error("Not a persistent session.")):this.close()};function VC(){this.size=0,this.g=void 0}En=VC.prototype,En.Eb=function(){return this.g},En.forEach=function(gn){this.g&&gn(this.g,Z$.value())},En.get=function(gn){if(this.has(gn))return this.g},En.has=function(gn){var bn=Z$.value();return!!(this.g&&Lm(gn,bn))},En.entries=function(){},En.keys=function(){},En.values=function(){};var k$="";nm(_$);function NO(){}function DO(){if(pn.HTMLVideoElement){var gn=HTMLVideoElement.prototype;gn.requestPictureInPicture&&document.exitPictureInPicture||!gn.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,gn.requestPictureInPicture=Ik,Object.defineProperty(gn,"disablePictureInPicture",{get:GC,set:zC,enumerable:!0,configurable:!0}),document.exitPictureInPicture=LO,document.addEventListener("webkitpresentationmodechanged",Ak,!0))}}function Ak(gn){if(gn=gn.target,gn.webkitPresentationMode=="picture-in-picture"){document.pictureInPictureElement=gn;var bn=new Event("enterpictureinpicture");gn.dispatchEvent(bn)}else document.pictureInPictureElement==gn&&(document.pictureInPictureElement=null),bn=new Event("leavepictureinpicture"),gn.dispatchEvent(bn)}function Ik(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function LO(){var gn=document.pictureInPictureElement;return gn?(gn.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function GC(){return this.hasAttribute("disablePictureInPicture")?!0:!this.webkitSupportsPresentationMode("picture-in-picture")}function zC(gn){gn?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}Op.PiPWebkit=NO,NO.install=DO,nm(DO);function HC(){}function Pk(){pn.crypto&&("randomUUID"in pn.crypto||(pn.crypto.randomUUID=Ok))}function Ok(){var gn=URL.createObjectURL(new Blob),bn=gn.toString();return URL.revokeObjectURL(gn),bn.substr(bn.lastIndexOf("/")+1)}Op.RandomUUID=HC,HC.install=Pk,nm(Pk);function KC(){}function Mk(){navigator.storage&&navigator.storage.estimate||!navigator.webkitTemporaryStorage||!navigator.webkitTemporaryStorage.queryUsageAndQuota||("storage"in navigator||(navigator.storage={}),navigator.storage.estimate=UO)}function UO(){return new Promise(function(gn,bn){navigator.webkitTemporaryStorage.queryUsageAndQuota(function(wn,In){gn({usage:wn,quota:In})},bn)})}Op.StorageEstimate=KC,KC.install=Mk,nm(Mk);function WC(){}function jO(){var gn=Symbol.prototype;"description"in gn||Object.defineProperty(gn,"description",{get:xN})}function xN(){var gn=/\((.*)\)/.exec(this.toString());return gn?gn[1]:void 0}Op.Symbol=WC,WC.install=jO,nm(jO);function FO(){}function BO(){if(pn.HTMLMediaElement){var gn=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var bn=gn.apply(this);return bn&&bn.catch(function(){}),bn}}}Op.VideoPlayPromise=FO,FO.install=BO,nm(BO);function VO(){}function qC(){if(pn.HTMLVideoElement){var gn=HTMLVideoElement.prototype;!gn.getVideoPlaybackQuality&&("webkitDroppedFrameCount"in gn||Oy())&&(gn.getVideoPlaybackQuality=GO)}}function GO(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}Op.VideoPlaybackQuality=VO,VO.install=qC,nm(qC);function zO(){}function YC(){if(!pn.VTTCue&&pn.TextTrackCue){var gn=null,bn=TextTrackCue.length;if(bn==3)gn=Rk;else if(bn==6)gn=wN;else{try{var wn=!!Rk(1,2,"")}catch{wn=!1}wn&&(gn=Rk)}gn&&(pn.VTTCue=function(In,Nn,jn){return gn(In,Nn,jn)})}}function Rk(gn,bn,wn){return new pn.TextTrackCue(gn,bn,wn)}function wN(gn,bn,wn){return new pn.TextTrackCue(gn+"-"+bn+"-"+wn,gn,bn,wn)}Op.VTTCue=zO,zO.install=YC,nm(YC);function $y(){}$y.prototype.parseInit=function(){},$y.prototype.setSequenceMode=function(){},$y.prototype.parseMedia=function(gn,bn){var wn=null,In=[];gn=Ou(gn).split(/\r?\n/),gn=Dn(gn);for(var Nn=gn.next();!Nn.done;Nn=gn.next())if((Nn=Nn.value)&&!/^\s+$/.test(Nn)&&(Nn=HO.exec(Nn))){var jn=CN.exec(Nn[1]);jn=60*parseInt(jn[1],10)+parseFloat(jn[2].replace(",",".")),Nn=new wu(jn,bn.segmentEnd?bn.segmentEnd:jn+2,Nn[2]),wn&&(wn.endTime=jn,In.push(wn)),wn=Nn}return wn&&In.push(wn),In},Ys("shaka.text.LrcTextParser",$y),$y.prototype.parseMedia=$y.prototype.parseMedia,$y.prototype.setSequenceMode=$y.prototype.setSequenceMode,$y.prototype.parseInit=$y.prototype.parseInit;var HO=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,CN=/^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;_c["application/x-subtitle-lrc"]=function(){return new $y};function Jm(){}Jm.prototype.parseInit=function(){},Jm.prototype.setSequenceMode=function(){},Jm.prototype.parseMedia=function(gn,bn){var wn=Ou(gn);if(gn=[],wn=="")return gn;var In=K0(wn,"tt");if(!In)throw new Vs(2,2,2005,"Failed to parse TTML.");if(wn=In.getElementsByTagName("body")[0],!wn)return[];var Nn=ov(In,A0,"frameRate"),jn=ov(In,A0,"subFrameRate"),Vn=ov(In,A0,"frameRateMultiplier"),Hn=ov(In,A0,"tickRate"),Xn=ov(In,A0,"cellResolution"),ns=In.getAttribute("xml:space")||"default",ss=ov(In,Bk,"extent");if(ns!="default"&&ns!="preserve")throw new Vs(2,2,2005,"Invalid xml:space value: "+ns);ns=ns=="default",Nn=new qO(Nn,jn,Vn,Hn),Xn=Xn&&(Xn=/^(\d+) (\d+)$/.exec(Xn))?{columns:parseInt(Xn[1],10),rows:parseInt(Xn[2],10)}:null,jn=(jn=In.getElementsByTagName("metadata")[0])?uS(jn):[],Vn=Array.from(In.getElementsByTagName("style")),In=Array.from(In.getElementsByTagName("region")),Hn=[];for(var ps=Dn(In),fs=ps.next();!fs.done;fs=ps.next()){var vs=fs.value;fs=new Zv;var Is=vs.getAttribute("xml:id");if(Is){fs.id=Is;var Ls=null;ss&&(Ls=JC.exec(ss)||jE.exec(ss)),Is=Ls?Number(Ls[1]):null,Ls=Ls?Number(Ls[2]):null;var ws,Rs;(ws=b$(vs,Vn,"extent"))&&(ws=(Rs=JC.exec(ws))||jE.exec(ws),ws!=null&&(fs.width=Number(ws[1]),fs.height=Number(ws[2]),Rs||(Is!=null&&(fs.width=100*fs.width/Is),Ls!=null&&(fs.height=100*fs.height/Ls)),fs.widthUnits=Rs||Is!=null?Zl:0,fs.heightUnits=Rs||Ls!=null?Zl:0)),(vs=b$(vs,Vn,"origin"))&&(ws=(Rs=JC.exec(vs))||jE.exec(vs),ws!=null&&(fs.viewportAnchorX=Number(ws[1]),fs.viewportAnchorY=Number(ws[2]),Rs||(Ls!=null&&(fs.viewportAnchorY=100*fs.viewportAnchorY/Ls),Is!=null&&(fs.viewportAnchorX=100*fs.viewportAnchorX/Is)),fs.viewportAnchorUnits=Rs||Is!=null?Zl:0))}else fs=null;fs&&Hn.push(fs)}if(Hl(wn,"p").length)throw new Vs(2,2,2001,"<p> can only be inside <div> in TTML");for(ss=Dn(Hl(wn,"div")),ps=ss.next();!ps.done;ps=ss.next())if(Hl(ps.value,"span").length)throw new Vs(2,2,2001,"<span> can only be inside <p> in TTML");return(bn=XC(wn,bn,Nn,jn,Vn,In,Hn,ns,Xn,null,!1))&&(bn.backgroundColor||(bn.backgroundColor="transparent"),gn.push(bn)),gn};function XC(gn,bn,wn,In,Nn,jn,Vn,Hn,Xn,ns,ss){var ps=gn.parentNode;if(gn.nodeType==Node.COMMENT_NODE)return null;if(gn.nodeType==Node.TEXT_NODE){if(!ss)return null;var fs=document.createElement("span");fs.textContent=gn.textContent}else fs=gn;for(var vs=null,Is=Dn(FE),Ls=Is.next();!Ls.done&&!(vs=Lk(fs,"backgroundImage",In,"#",Ls.value)[0]);Ls=Is.next());if(Is=ss,(gn.nodeName=="p"||vs)&&(ss=!0),Hn=(fs.getAttribute("xml:space")||(Hn?"default":"preserve"))=="default",Ls=Array.from(fs.childNodes).every(function(Ws){return Ws.nodeType==Node.TEXT_NODE}),gn=[],!Ls)for(var ws=Dn(fs.childNodes),Rs=ws.next();!Rs.done;Rs=ws.next())(Rs=XC(Rs.value,bn,wn,In,Nn,jn,Vn,Hn,Xn,fs,ss))&&gn.push(Rs);In=ns!=null,ws=/\S/.test(fs.textContent);var Zs=fs.hasAttribute("begin")||fs.hasAttribute("end")||fs.hasAttribute("dur");if(!(Zs||ws||fs.tagName=="br"||gn.length!=0||In&&!Hn))return null;for(Rs=WO(fs,wn),ws=Rs.start,Rs=Rs.end;ps&&ps.nodeType==Node.ELEMENT_NODE&&ps.tagName!="tt";)Rs=Yy(ps,wn,ws,Rs),ws=Rs.start,Rs=Rs.end,ps=ps.parentNode;if(ws==null&&(ws=0),ws+=bn.periodStart,Rs=Rs==null?1/0:Rs+bn.periodStart,ws=Math.max(ws,bn.segmentStart),Rs=Math.min(Rs,bn.segmentEnd),!Zs&&0<gn.length)for(ws=1/0,Rs=0,bn=Dn(gn),wn=bn.next();!wn.done;wn=bn.next())wn=wn.value,ws=Math.min(ws,wn.startTime),Rs=Math.max(Rs,wn.endTime);if(fs.tagName=="br")return Nn=new wu(ws,Rs,""),Nn.lineBreak=!0,Nn;if(bn="",Ls&&(bn=fs.textContent,Hn&&(bn=bn.trim(),bn=bn.replace(/\s+/g," "))),bn=new wu(ws,Rs,bn),bn.nestedCues=gn,ss||(bn.isContainer=!0),Xn&&(bn.cellResolution=Xn),Xn=Lk(fs,"region",jn,"")[0],fs.hasAttribute("region")&&Xn&&Xn.getAttribute("xml:id")){var Fs=Xn.getAttribute("xml:id");bn.region=Vn.filter(function(Ws){return Ws.id==Fs})[0]}return Vn=Xn,ns&&In&&!fs.getAttribute("region")&&!fs.getAttribute("style")&&(Vn=Lk(ns,"region",jn,"")[0]),KO(bn,fs,Vn,vs,Nn,Is,gn.length==0),bn}function KO(gn,bn,wn,In,Nn,jn,Vn){if(jn=jn||Vn,im(bn,wn,Nn,"direction",jn)=="rtl"&&(gn.direction="rtl"),Vn=im(bn,wn,Nn,"writingMode",jn),Vn=="tb"||Vn=="tblr"?gn.writingMode="vertical-lr":Vn=="tbrl"?gn.writingMode="vertical-rl":Vn=="rltb"||Vn=="rl"?gn.direction="rtl":Vn&&(gn.direction=zE),(Vn=im(bn,wn,Nn,"textAlign",!0))?(gn.positionAlign=AN[Vn],gn.lineAlign=rA[Vn],gn.textAlign=Cy[Vn.toUpperCase()]):gn.textAlign=Qp,(Vn=im(bn,wn,Nn,"displayAlign",!0))&&(gn.displayAlign=ny[Vn.toUpperCase()]),(Vn=im(bn,wn,Nn,"color",jn))&&(gn.color=Vn),(Vn=im(bn,wn,Nn,"backgroundColor",jn))&&(gn.backgroundColor=Vn),(Vn=im(bn,wn,Nn,"border",jn))&&(gn.border=Vn),Vn=im(bn,wn,Nn,"fontFamily",jn))switch(Vn){case"monospaceSerif":gn.fontFamily="Courier New,Liberation Mono,Courier,monospace";break;case"proportionalSansSerif":gn.fontFamily="Arial,Helvetica,Liberation Sans,sans-serif";break;case"sansSerif":gn.fontFamily="sans-serif";break;case"monospaceSansSerif":gn.fontFamily="Consolas,monospace";break;case"proportionalSerif":gn.fontFamily="serif";break;default:gn.fontFamily=Vn}if((Vn=im(bn,wn,Nn,"fontWeight",jn))&&Vn=="bold"&&(gn.fontWeight=700),Vn=im(bn,wn,Nn,"wrapOption",jn),gn.wrapLine=!(Vn&&Vn=="noWrap"),(Vn=im(bn,wn,Nn,"lineHeight",jn))&&Vn.match(gp)&&(gn.lineHeight=Vn),(Vn=im(bn,wn,Nn,"fontSize",jn))&&(Vn.match(gp)||Vn.match(YO))&&(gn.fontSize=Vn),(Vn=im(bn,wn,Nn,"fontStyle",jn))&&(gn.fontStyle=O0[Vn.toUpperCase()]),In){Vn=In.getAttribute("imageType")||In.getAttribute("imagetype");var Hn=In.getAttribute("encoding");In=In.textContent.trim(),Vn=="PNG"&&Hn=="Base64"&&In&&(gn.backgroundImage="data:image/png;base64,"+In)}(In=im(bn,wn,Nn,"textOutline",jn))&&(In=In.split(" "),In[0].match(gp)?gn.textStrokeColor=gn.color:(gn.textStrokeColor=In[0],In.shift()),In[0]&&In[0].match(gp)?gn.textStrokeWidth=In[0]:gn.textStrokeColor=""),(In=im(bn,wn,Nn,"letterSpacing",jn))&&In.match(gp)&&(gn.letterSpacing=In),(In=im(bn,wn,Nn,"linePadding",jn))&&In.match(gp)&&(gn.linePadding=In),(jn=im(bn,wn,Nn,"opacity",jn))&&(gn.opacity=parseFloat(jn)),(wn=b$(wn,Nn,"textDecoration"))&&QC(gn,wn),(bn=Nk(bn,Nn,"textDecoration"))&&QC(gn,bn)}function QC(gn,bn){bn=Dn(bn.split(" "));for(var wn=bn.next();!wn.done;wn=bn.next())switch(wn.value){case"underline":gn.textDecoration.includes("underline")||gn.textDecoration.push("underline");break;case"noUnderline":gn.textDecoration.includes("underline")&&pl(gn.textDecoration,"underline");break;case"lineThrough":gn.textDecoration.includes("lineThrough")||gn.textDecoration.push("lineThrough");break;case"noLineThrough":gn.textDecoration.includes("lineThrough")&&pl(gn.textDecoration,"lineThrough");break;case"overline":gn.textDecoration.includes("overline")||gn.textDecoration.push("overline");break;case"noOverline":gn.textDecoration.includes("overline")&&pl(gn.textDecoration,"overline")}}function im(gn,bn,wn,In,Nn){return Nn=Nn===void 0?!0:Nn,(gn=Nk(gn,wn,In))?gn:Nn?b$(bn,wn,In):null}function b$(gn,bn,wn){if(!gn)return null;var In=ov(gn,Bk,wn);return In||Dk(gn,bn,wn)}function Nk(gn,bn,wn){var In=ov(gn,Bk,wn);return In||Dk(gn,bn,wn)}function Dk(gn,bn,wn){gn=Lk(gn,"style",bn,"");for(var In=null,Nn=0;Nn<gn.length;Nn++){var jn=l_(gn[Nn],"urn:ebu:tt:style",wn);jn||(jn=ov(gn[Nn],Bk,wn)),jn||(jn=Nk(gn[Nn],bn,wn)),jn&&(In=jn)}return In}function Lk(gn,bn,wn,In,Nn){var jn=[];if(!gn||1>wn.length)return jn;var Vn=gn;for(gn=null;Vn&&!(gn=Nn?l_(Vn,Nn,bn):Vn.getAttribute(bn))&&(Vn=Vn.parentNode,Vn instanceof Element););if(bn=gn){for(bn=Dn(bn.split(" ")),Nn=bn.next();!Nn.done;Nn=bn.next())for(Nn=Nn.value,gn=Dn(wn),Vn=gn.next();!Vn.done;Vn=gn.next())if(Vn=Vn.value,In+Vn.getAttribute("xml:id")==Nn){jn.push(Vn);break}}return jn}function Yy(gn,bn,wn,In){return gn=WO(gn,bn),wn==null?wn=gn.start:gn.start!=null&&(wn+=gn.start),In==null?In=gn.end:gn.start!=null&&(In+=gn.start),{start:wn,end:In}}function WO(gn,bn){var wn=ZC(gn.getAttribute("begin"),bn),In=ZC(gn.getAttribute("end"),bn);return gn=ZC(gn.getAttribute("dur"),bn),In==null&&gn!=null&&(In=wn+gn),{start:wn,end:In}}function ZC(gn,bn){var wn=null;if(Uk.test(gn)){gn=Uk.exec(gn),wn=Number(gn[1]);var In=Number(gn[2]),Nn=Number(gn[3]),jn=Number(gn[4]);jn+=(Number(gn[5])||0)/bn.h,Nn+=jn/bn.frameRate,wn=Nn+60*In+3600*wn}else if(eA.test(gn))wn=Mm(eA,gn);else if(x$.test(gn))wn=Mm(x$,gn);else if(XO.test(gn))gn=XO.exec(gn),wn=Number(gn[1])/bn.frameRate;else if(tA.test(gn))gn=tA.exec(gn),wn=Number(gn[1])/bn.g;else if(Fk.test(gn))wn=Mm(Fk,gn);else if(gn)throw new Vs(2,2,2001,"Could not parse cue time range in TTML");return wn}function Mm(gn,bn){return gn=gn.exec(bn),gn==null||gn[0]==""?null:(Number(gn[4])||0)/1e3+(Number(gn[3])||0)+60*(Number(gn[2])||0)+3600*(Number(gn[1])||0)}Ys("shaka.text.TtmlTextParser",Jm),Jm.prototype.parseMedia=Jm.prototype.parseMedia,Jm.prototype.setSequenceMode=Jm.prototype.setSequenceMode,Jm.prototype.parseInit=Jm.prototype.parseInit;function qO(gn,bn,wn,In){this.frameRate=Number(gn)||30,this.h=Number(bn)||1,this.g=Number(In),this.g==0&&(this.g=gn?this.frameRate*this.h:1),wn&&(gn=/^(\d+) (\d+)$/g.exec(wn))&&(this.frameRate*=Number(gn[1])/Number(gn[2]))}var JC=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,YO=/^(\d{1,2}(?:\.\d+)?|100)%$/,gp=/^(\d+px|\d+em|\d*\.?\d+c)$/,jE=/^(\d+)px (\d+)px$/,Uk=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,eA=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,x$=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,XO=/^(\d*(?:\.\d*)?)f$/,tA=/^(\d*(?:\.\d*)?)t$/,Fk=RegExp("^(?:(\\d*(?:\\.\\d*)?)h)?(?:(\\d*(?:\\.\\d*)?)m)?(?:(\\d*(?:\\.\\d*)?)s)?(?:(\\d*(?:\\.\\d*)?)ms)?$"),rA={left:Tv,center:"center",right:"end",start:Tv,end:"end"},AN={left:"line-left",center:"center",right:"line-right"},A0=["http://www.w3.org/ns/ttml#parameter","http://www.w3.org/2006/10/ttaf1#parameter"],Bk=["http://www.w3.org/ns/ttml#styling","http://www.w3.org/2006/10/ttaf1#styling"],FE=["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt","http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"];_c["application/ttml+xml"]=function(){return new Jm};function dm(){this.g=new Jm}dm.prototype.parseInit=function(gn){var bn=!1;if(new Rl().box("moov",Gl).box("trak",Gl).box("mdia",Gl).box("minf",Gl).box("stbl",Gl).R("stsd",Mv).box("stpp",function(wn){bn=!0,wn.parser.stop()}).parse(gn),!bn)throw new Vs(2,2,2007)},dm.prototype.setSequenceMode=function(){},dm.prototype.parseMedia=function(gn,bn){var wn=this,In=!1,Nn=[];if(new Rl().box("mdat",B0(function(jn){In=!0,Nn=Nn.concat(wn.g.parseMedia(jn,bn))})).parse(gn,!1),!In)throw new Vs(2,2,2007);return Nn},Ys("shaka.text.Mp4TtmlParser",dm),dm.prototype.parseMedia=dm.prototype.parseMedia,dm.prototype.setSequenceMode=dm.prototype.setSequenceMode,dm.prototype.parseInit=dm.prototype.parseInit,_c['application/mp4; codecs="stpp"']=function(){return new dm},_c['application/mp4; codecs="stpp.ttml"']=function(){return new dm},_c['application/mp4; codecs="stpp.ttml.im1t"']=function(){return new dm},_c['application/mp4; codecs="stpp.TTML.im1t"']=function(){return new dm};function ym(){this.g=!1}ym.prototype.parseInit=function(){},ym.prototype.setSequenceMode=function(gn){this.g=gn},ym.prototype.parseMedia=function(gn,bn){gn=Ou(gn),gn=gn.replace(/\r\n|\r(?=[^\n]|$)/gm,`
`);var wn=gn.split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(wn[0]))throw new Vs(2,2,2e3);if(gn=bn.vttOffset,wn[0].includes("X-TIMESTAMP-MAP")&&this.g){var In=wn[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),Nn=wn[0].match(/MPEGTS:(\d+)/m);if(In&&Nn){if(gn=Vk(new T_(In[1])),gn==null)throw new Vs(2,2,2e3);for(Nn=Number(Nn[1]),In=bn.segmentStart-bn.periodStart;95443.7176888889<=In;)In-=95443.7176888889,Nn+=8589934592;gn=bn.periodStart+Nn/9e4-gn}}for(bn=[],Nn=Dn(wn[0].split(`
`)),In=Nn.next();!In.done;In=Nn.next())if(In=In.value,/^Region:/.test(In)){In=new T_(In);var jn=new Zv;Fl(In),k_(In);for(var Vn=Fl(In);Vn;){var Hn=jn,Xn=Vn;(Vn=/^id=(.*)$/.exec(Xn))?Hn.id=Vn[1]:(Vn=/^width=(\d{1,2}|100)%$/.exec(Xn))?Hn.width=Number(Vn[1]):(Vn=/^lines=(\d+)$/.exec(Xn))?(Hn.height=Number(Vn[1]),Hn.heightUnits=2):(Vn=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(Xn))?(Hn.regionAnchorX=Number(Vn[1]),Hn.regionAnchorY=Number(Vn[2])):(Vn=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(Xn))?(Hn.viewportAnchorX=Number(Vn[1]),Hn.viewportAnchorY=Number(Vn[2])):/^scroll=up$/.exec(Xn)&&(Hn.scroll="up"),k_(In),Vn=Fl(In)}bn.push(jn)}for(Nn=new Map,nA(Nn),In=[],wn=Dn(wn.slice(1)),jn=wn.next();!jn.done;jn=wn.next()){if(jn=jn.value.split(`
`),(jn.length!=1||jn[0])&&!/^NOTE($|[ \t])/.test(jn[0])&&jn[0]=="STYLE"){for(Hn=[],Vn=-1,Xn=1;Xn<jn.length;Xn++)jn[Xn].includes("::cue")&&(Hn.push([]),Vn=Hn.length-1),Vn!=-1&&(Hn[Vn].push(jn[Xn]),jn[Xn].includes("}")&&(Vn=-1));for(Hn=Dn(Hn),Vn=Hn.next();!Vn.done;Vn=Hn.next()){var ns=Vn.value;Vn="global",(Xn=ns[0].match(/\((.*)\)/))&&(Vn=Xn.pop()),Xn=ns.slice(1,-1),ns[0].includes("}")&&(ns=/\{(.*?)\}/.exec(ns[0]))&&(Xn=ns[1].split(";")),(ns=Nn.get(Vn))||(ns=new wu(0,0,""));for(var ss=!1,ps=0;ps<Xn.length;ps++){var fs=/^\s*([^:]+):\s*(.*)/.exec(Xn[ps]);if(fs){var vs=fs[2].trim().replace(";","");switch(fs[1].trim()){case"background-color":case"background":ss=!0,ns.backgroundColor=vs;break;case"color":ss=!0,ns.color=vs;break;case"font-family":ss=!0,ns.fontFamily=vs;break;case"font-size":ss=!0,ns.fontSize=vs;break;case"font-weight":(700<=parseInt(vs,10)||vs=="bold")&&(ss=!0,ns.fontWeight=700);break;case"font-style":switch(vs){case"normal":ss=!0,ns.fontStyle=Hs;break;case"italic":ss=!0,ns.fontStyle="italic";break;case"oblique":ss=!0,ns.fontStyle="oblique"}break;case"opacity":ss=!0,ns.opacity=parseFloat(vs);break;case"text-shadow":ss=!0,ns.textShadow=vs;break;case"white-space":ss=!0,ns.wrapLine=vs!="noWrap"}}}ss&&Nn.set(Vn,ns)}}if(ss=gn,jn.length==1&&!jn[0]||/^NOTE($|[ \t])/.test(jn[0])||jn[0]=="STYLE"||jn[0]=="REGION")jn=null;else{if(Hn=null,jn[0].includes("-->")||(Hn=jn[0],jn.splice(0,1)),Vn=new T_(jn[0]),Xn=Vk(Vn),ps=Lu(Vn,/[ \t]+--\x3e[ \t]+/g),ns=Vk(Vn),Xn==null||ps==null||ns==null)throw new Vs(2,2,2001,"Could not parse cue time range in WebVTT");for(Xn+=ss,ns+=ss,ss=jn.slice(1).join(`
`).trim(),Nn.has("global")?(jn=Nn.get("global").clone(),jn.startTime=Xn,jn.endTime=ns,jn.payload=""):jn=new wu(Xn,ns,""),iA(ss,jn,Nn),k_(Vn),Xn=Fl(Vn);Xn;)oA(jn,Xn,bn),k_(Vn),Xn=Fl(Vn);Hn!=null&&(jn.id=Hn)}jn&&In.push(jn)}return In};function nA(gn){for(var bn=Dn(Object.entries(Iy)),wn=bn.next();!wn.done;wn=bn.next()){var In=Dn(wn.value);wn=In.next().value,In=In.next().value;var Nn=new wu(0,0,"");Nn.color=In,gn.set("."+wn,Nn)}for(bn=Dn(Object.entries(Py)),wn=bn.next();!wn.done;wn=bn.next())In=Dn(wn.value),wn=In.next().value,In=In.next().value,Nn=new wu(0,0,""),Nn.backgroundColor=In,gn.set("."+wn,Nn)}function iA(gn,bn,wn){wn.size===0&&nA(wn);e:{var In=gn;gn=[];for(var Nn=-1,jn="",Vn=0;Vn<In.length;Vn++)if(In[Vn]==="/"&&0<Vn&&In[Vn-1]==="<"){var Hn=In.indexOf(">",Vn);if(Hn<=Vn){gn=In;break e}if((Hn=In.substring(Vn+1,Hn))&&Hn==="c"){var Xn=gn.pop();Xn?Xn===Hn?(jn+="/"+Hn+">",Vn+=Hn.length+1):Xn.startsWith("c.")?(Vn+=Hn.length+1,jn+="/"+Xn+">"):jn+=In[Vn]:jn+=In[Vn]}else jn+=In[Vn]}else In[Vn]==="<"?(Nn=Vn+1,In[Nn]!="c"&&(Nn=-1)):In[Vn]===">"&&0<Nn&&(gn.push(In.substr(Nn,Vn-Nn)),Nn=-1),jn+=In[Vn];gn=jn}for(In=[],jn=-1,Nn=0;Nn<gn.length;Nn++)gn[Nn]==="<"?jn=Nn+1:gn[Nn]===">"&&0<jn&&(jn=gn.substr(jn,Nn-jn),jn.match(C$)&&In.push(jn),jn=-1);for(In=Dn(In),Nn=In.next();!Nn.done;Nn=In.next())Nn=Nn.value,gn=gn.replace("<"+Nn+">",'<div time="'+Nn+'">'),gn+="</div>";e:{for(Nn=gn,jn=[],Vn=-1,In="",gn=!1,Hn=0;Hn<Nn.length;Hn++)if(Nn[Hn]==="/"){if(Xn=Nn.indexOf(">",Hn),Xn===-1){gn=Nn;break e}if((Xn=Nn.substring(Hn+1,Xn))&&Xn=="v"){gn=!0;var ns=null;if(jn.length&&(ns=jn[jn.length-1]),ns){if(ns===Xn)In+="/"+Xn+">";else{if(!ns.startsWith("v")){In+=Nn[Hn];continue}In+="/"+ns+">"}Hn+=Xn.length+1}else In+=Nn[Hn]}else In+=Nn[Hn]}else Nn[Hn]==="<"?(Vn=Hn+1,Nn[Vn]!="v"&&(Vn=-1)):Nn[Hn]===">"&&0<Vn&&(jn.push(Nn.substr(Vn,Hn-Vn)),Vn=-1),In+=Nn[Hn];for(Nn=Dn(jn),jn=Nn.next();!jn.done;jn=Nn.next())jn=jn.value,Vn=jn.replace(" ",".voice-"),In=In.replace("<"+jn+">","<"+Vn+">"),In=In.replace("</"+jn+">","</"+Vn+">"),gn||(In+="</"+Vn+">");gn=In}if(Nn=K0("<span>"+gn+"</span>","span")){if(In=[],Nn=Nn.childNodes,Nn.length==1&&(jn=Nn[0],jn.nodeType==Node.TEXT_NODE||jn.nodeType==Node.CDATA_SECTION_NODE)){bn.payload=I0(gn);return}for(gn=Dn(Nn),Nn=gn.next();!Nn.done;Nn=gn.next())aA(Nn.value,bn,In,wn);bn.nestedCues=In}else bn.payload=I0(gn)}function w$(gn,bn){return gn&&0<gn.length?gn:bn}function aA(gn,bn,wn,In){var Nn=bn.clone();if(gn.nodeType===Node.ELEMENT_NODE&&gn.nodeName)for(var jn=Dn(gn.nodeName.split(/(?=[ .])+/g)),Vn=jn.next();!Vn.done;Vn=jn.next()){var Hn=Vn=Vn.value;if(Hn.startsWith(".voice-")){var Xn=Hn.split("-").pop();Hn='v[voice="'+Xn+'"]',In.has(Hn)||(Hn="v[voice="+Xn+"]")}switch(In.has(Hn)&&(Hn=In.get(Hn))&&(Nn.backgroundColor=w$(Hn.backgroundColor,Nn.backgroundColor),Nn.color=w$(Hn.color,Nn.color),Nn.fontFamily=w$(Hn.fontFamily,Nn.fontFamily),Nn.fontSize=w$(Hn.fontSize,Nn.fontSize),Nn.fontWeight=Hn.fontWeight,Nn.fontStyle=Hn.fontStyle,Nn.opacity=Hn.opacity,Nn.wrapLine=Hn.wrapLine),Vn){case"br":Vn=bn.clone(),Vn.lineBreak=!0,wn.push(Vn);break;case"b":Nn.fontWeight=700;break;case"i":Nn.fontStyle="italic";break;case"u":Nn.textDecoration.push("underline");break;case"div":(Vn=gn.getAttribute("time"))&&(Vn=Vk(new T_(Vn)))&&(Nn.startTime=Vn)}}if(lS(gn))for(jn=!0,In=Dn(gn.textContent.split(`
`)),gn=In.next();!gn.done;gn=In.next())gn=gn.value,jn||(jn=bn.clone(),jn.lineBreak=!0,wn.push(jn)),0<gn.length&&(jn=Nn.clone(),jn.payload=I0(gn),wn.push(jn)),jn=!1;else for(bn=Dn(gn.childNodes),gn=bn.next();!gn.done;gn=bn.next())aA(gn.value,Nn,wn,In)}function oA(gn,bn,wn){var In;(In=/^align:(start|middle|center|end|left|right)$/.exec(bn))?(bn=In[1],bn=="middle"?gn.textAlign=Qp:gn.textAlign=Cy[bn.toUpperCase()]):(In=/^vertical:(lr|rl)$/.exec(bn))?gn.writingMode=In[1]=="lr"?"vertical-lr":"vertical-rl":(In=/^size:([\d.]+)%$/.exec(bn))?gn.size=Number(In[1]):(In=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(bn))?(gn.position=Number(In[1]),In[2]&&(bn=In[2],gn.positionAlign=bn=="line-left"||bn=="start"?"line-left":bn=="line-right"||bn=="end"?"line-right":"center")):(In=/^region:(.*)$/.exec(bn))?(bn=IN(wn,In[1]))&&(gn.region=bn):(wn=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(bn))?(gn.lineInterpretation=1,gn.line=Number(wn[1]),wn[2]&&(gn.lineAlign=KE[wn[2].toUpperCase()])):(wn=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(bn))&&(gn.lineInterpretation=HE,gn.line=Number(wn[1]),wn[2]&&(gn.lineAlign=KE[wn[2].toUpperCase()]))}function IN(gn,bn){return gn=gn.filter(function(wn){return wn.id==bn}),gn.length?gn[0]:null}function Vk(gn){if(gn=Lu(gn,C$),gn==null)return null;var bn=Number(gn[2]),wn=Number(gn[3]);return 59<bn||59<wn?null:Number(gn[4])/1e3+wn+60*bn+3600*(Number(gn[1])||0)}function I0(gn){var bn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&nbsp;":" ","&lrm;":"‎","&rlm;":"‏"},wn=/&(?:amp|lt|gt|quot|#(0+)?39|nbsp|lrm|rlm);/g,In=RegExp(wn.source);return gn&&In.test(gn)?gn.replace(wn,function(Nn){return bn[Nn]||"'"}):gn||""}Ys("shaka.text.VttTextParser",ym),ym.prototype.parseMedia=ym.prototype.parseMedia,ym.prototype.setSequenceMode=ym.prototype.setSequenceMode,ym.prototype.parseInit=ym.prototype.parseInit;var C$=/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g;_c["text/vtt"]=function(){return new ym},_c['text/vtt; codecs="vtt"']=function(){return new ym},_c['text/vtt; codecs="wvtt"']=function(){return new ym};function Xy(){this.g=null}Xy.prototype.parseInit=function(gn){var bn=this,wn=!1;if(new Rl().box("moov",Gl).box("trak",Gl).box("mdia",Gl).R("mdhd",function(In){In=SS(In.reader,In.version),bn.g=In.timescale}).box("minf",Gl).box("stbl",Gl).R("stsd",Mv).box("wvtt",function(){wn=!0}).parse(gn),!this.g)throw new Vs(2,2,2008);if(!wn)throw new Vs(2,2,2008)},Xy.prototype.setSequenceMode=function(){},Xy.prototype.parseMedia=function(gn,bn){if(!gn.length)return[];if(!this.g)throw new Vs(2,2,2008);var wn=0,In=[],Nn,jn=[],Vn=!1,Hn=!1,Xn=!1,ns=null;if(new Rl().box("moof",Gl).box("traf",Gl).R("tfdt",function(Fs){Vn=!0,wn=eI(Fs.reader,Fs.version).we}).R("tfhd",function(Fs){ns=JA(Fs.reader,Fs.flags).Ce}).R("trun",function(Fs){Hn=!0,In=tI(Fs.reader,Fs.version,Fs.flags).Qe}).box("mdat",B0(function(Fs){Xn=!0,Nn=Fs})).parse(gn,!1),!Xn&&!Vn&&!Hn)throw new Vs(2,2,2008);gn=wn;for(var ss=new xu(Nn,0),ps=Dn(In),fs=ps.next();!fs.done;fs=ps.next()){fs=fs.value;var vs=fs.ee||ns,Is=fs.ed?wn+fs.ed:gn;gn=Is+(vs||0);var Ls=0;do{var ws=ss.K();Ls+=ws;var Rs=ss.K(),Zs=null;uy(Rs)=="vttc"?8<ws&&(Zs=ss.Za(ws-8)):ss.skip(ws-8),vs&&Zs&&(ws=Rm(Zs,bn.periodStart+Is/this.g,bn.periodStart+gn/this.g),jn.push(ws))}while(fs.sampleSize&&Ls<fs.sampleSize)}return jn.filter(dp)};function Rm(gn,bn,wn){var In,Nn,jn;return new Rl().box("payl",B0(function(Vn){In=Ou(Vn)})).box("iden",B0(function(Vn){Nn=Ou(Vn)})).box("sttg",B0(function(Vn){jn=Ou(Vn)})).parse(gn),In?Nm(In,Nn,jn,bn,wn):null}function Nm(gn,bn,wn,In,Nn){if(In=new wu(In,Nn,""),iA(gn,In,new Map),bn&&(In.id=bn),wn)for(gn=new T_(wn),bn=Fl(gn);bn;)oA(In,bn,[]),k_(gn),bn=Fl(gn);return In}Ys("shaka.text.Mp4VttParser",Xy),Xy.prototype.parseMedia=Xy.prototype.parseMedia,Xy.prototype.setSequenceMode=Xy.prototype.setSequenceMode,Xy.prototype.parseInit=Xy.prototype.parseInit,_c['application/mp4; codecs="wvtt"']=function(){return new Xy};function Ty(){}Ty.prototype.parseInit=function(){},Ty.prototype.setSequenceMode=function(){},Ty.prototype.parseMedia=function(gn){var bn=Ou(gn).replace(/\r+/g,"");if(bn=bn.trim(),gn=[],bn=="")return gn;bn=Dn(bn.split(`

`));for(var wn=bn.next();!wn.done;wn=bn.next()){wn=wn.value.split(`
`);var In=new T_(wn[0]),Nn=sA(In),jn=Lu(In,/,/g);if(In=sA(In),Nn==null||jn==null||In==null)throw new Vs(2,2,2001,"Could not parse cue time range in SubViewer");gn.push(new wu(Nn,In,wn.slice(1).join(`
`).trim()))}return gn};function sA(gn){if(gn=Lu(gn,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g),gn==null)return null;var bn=Number(gn[2]),wn=Number(gn[3]);return 59<bn||59<wn?null:Number(gn[4])/1e3+wn+60*bn+3600*(Number(gn[1])||0)}Ys("shaka.text.SbvTextParser",Ty),Ty.prototype.parseMedia=Ty.prototype.parseMedia,Ty.prototype.setSequenceMode=Ty.prototype.setSequenceMode,Ty.prototype.parseInit=Ty.prototype.parseInit,_c["text/x-subviewer"]=function(){return new Ty};function vm(){this.g=new ym}vm.prototype.parseInit=function(){},vm.prototype.setSequenceMode=function(){},vm.prototype.parseMedia=function(gn,bn){return gn=Ou(gn),gn=uA(gn),gn=Pu(fp(gn)),this.g.parseMedia(gn,bn)};function uA(gn){var bn=`WEBVTT

`;if(gn=="")return bn;gn=gn.replace(/\r+/g,""),gn=gn.trim(),gn=Dn(gn.split(`

`));for(var wn=gn.next();!wn.done;wn=gn.next())wn=wn.value.split(/\n/),wn[0].match(/\d+/)&&wn.shift(),wn[0]=wn[0].replace(/,/g,"."),bn+=wn.join(`
`)+`

`;return bn}Ys("shaka.text.SrtTextParser",vm),vm.srt2webvtt=uA,vm.prototype.parseMedia=vm.prototype.parseMedia,vm.prototype.setSequenceMode=vm.prototype.setSequenceMode,vm.prototype.parseInit=vm.prototype.parseInit,_c["text/srt"]=function(){return new vm};function ky(){}ky.prototype.parseInit=function(){},ky.prototype.setSequenceMode=function(){},ky.prototype.parseMedia=function(gn){var bn="",wn="";gn=Ou(gn).split(/\r?\n\s*\r?\n/),gn=Dn(gn);for(var In=gn.next();!In.done;In=gn.next()){var Nn=QO.exec(In.value);Nn&&(In=Nn[1],Nn=Nn[2],In=="V4 Styles"||In=="V4+ Styles"?bn=Nn:In=="Events"&&(wn=Nn))}gn=[],In=null,bn=Dn(bn.split(/\r?\n/));for(var jn=bn.next();!jn.done;jn=bn.next())if(Nn=jn.value,!/^\s*;/.test(Nn)&&(jn=by.exec(Nn))){if(Nn=jn[1].trim(),jn=jn[2].trim(),Nn=="Format")In=jn.split(zk);else if(Nn=="Style"){Nn=jn.split(zk),jn={};for(var Vn=0;Vn<In.length&&Vn<Nn.length;Vn++)jn[In[Vn]]=Nn[Vn];gn.push(jn)}}for(In=[],bn=null,Nn={},wn=Dn(wn.split(/\r?\n/)),jn=wn.next();!jn.done;Nn={vd:Nn.vd},jn=wn.next())if(jn=jn.value,!/^\s*;/.test(jn)&&(Vn=by.exec(jn))){if(jn=Vn[1].trim(),Vn=Vn[2].trim(),jn=="Format")bn=Vn.split(zk);else if(jn=="Dialogue"){Vn=Vn.split(zk),jn={};for(var Hn=0;Hn<bn.length&&Hn<Vn.length;Hn++)jn[bn[Hn]]=Vn[Hn];Hn=Gk(jn.Start);var Xn=Gk(jn.End);Vn=new wu(Hn,Xn,Vn.slice(bn.length-1).join(",").replace(/\\N/g,`
`).replace(/\{[^}]+\}/g,"")),Nn.vd=jn.Style,(jn=gn.find(function(ns){return function(ss){return ss.Name==ns.vd}}(Nn)))&&PN(Vn,jn),In.push(Vn)}}return In};function PN(gn,bn){var wn=bn.Fontname;if(wn&&(gn.fontFamily=wn),(wn=bn.Fontsize)&&(gn.fontSize=wn+"px"),(wn=bn.PrimaryColour)&&(wn=A$(wn))&&(gn.color=wn),(wn=bn.BackColour)&&(wn=A$(wn))&&(gn.backgroundColor=wn),bn.Bold&&(gn.fontWeight=700),bn.Italic&&(gn.fontStyle="italic"),bn.Underline&&gn.textDecoration.push("underline"),(wn=bn.Spacing)&&(gn.letterSpacing=wn+"px"),wn=bn.Alignment)switch(parseInt(wn,10)){case 1:gn.displayAlign=Ay,gn.textAlign="start";break;case 2:gn.displayAlign=Ay,gn.textAlign=Qp;break;case 3:gn.displayAlign=Ay,gn.textAlign="end";break;case 5:gn.displayAlign="before",gn.textAlign="start";break;case 6:gn.displayAlign="before",gn.textAlign=Qp;break;case 7:gn.displayAlign="before",gn.textAlign="end";break;case 9:gn.displayAlign="center",gn.textAlign="start";break;case 10:gn.displayAlign="center",gn.textAlign=Qp;break;case 11:gn.displayAlign="center",gn.textAlign="end"}(bn=bn.AlphaLevel)&&(gn.opacity=parseFloat(bn))}function A$(gn){return gn=parseInt(gn.replace("&H",""),16),0<=gn?"rgba("+(gn&255)+","+(gn>>8&255)+","+(gn>>16&255)+","+(gn>>24&255^255)/255+")":null}function Gk(gn){return gn=ON.exec(gn),3600*(gn[1]?parseInt(gn[1].replace(":",""),10):0)+60*parseInt(gn[2],10)+parseFloat(gn[3])}Ys("shaka.text.SsaTextParser",ky),ky.prototype.parseMedia=ky.prototype.parseMedia,ky.prototype.setSequenceMode=ky.prototype.setSequenceMode,ky.prototype.parseInit=ky.prototype.parseInit;var QO=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,by=/^\s*([^:]+):\s*(.*)/,zk=/\s*,\s*/,ON=/^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;_c["text/x-ssa"]=function(){return new ky};/*
 @license
 EME Encryption Scheme Polyfill
 Copyright 2019 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/function xy(){}var BE;function _g(){BE?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(BE=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=ZO):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function ZO(gn,bn){var wn=this,In;return hs(function(Nn){return Nn.g==1?(console.assert(wn==navigator,'bad "this" for requestMediaKeySystemAccess'),Qn(Nn,BE.call(wn,gn,bn),2)):(In=Nn.h,cA(In)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=BE,Nn.return(In)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=wy,Nn.return(wy.call(wn,gn,bn))))})}function wy(gn,bn){var wn=this,In,Nn,jn,Vn,Hn,Xn,ns,ss,ps,fs;return hs(function(vs){if(vs.g==1){for(console.assert(wn==navigator,'bad "this" for requestMediaKeySystemAccess'),In=GE(gn),Nn=[],jn=Dn(bn),Vn=jn.next();!Vn.done;Vn=jn.next())Hn=Vn.value,Xn=JO(Hn.videoCapabilities,In),ns=JO(Hn.audioCapabilities,In),Hn.videoCapabilities&&Hn.videoCapabilities.length&&!Xn.length||Hn.audioCapabilities&&Hn.audioCapabilities.length&&!ns.length||(ss=Object.assign({},Hn),ss.videoCapabilities=Xn,ss.audioCapabilities=ns,Nn.push(ss));if(!Nn.length)throw ps=Error("Unsupported keySystem or supportedConfigurations."),ps.name="NotSupportedError",ps.code=DOMException.NOT_SUPPORTED_ERR,ps;return Qn(vs,BE.call(wn,gn,Nn),2)}return fs=vs.h,vs.return(new P$(fs,In))})}function JO(gn,bn){return gn&&gn.filter(function(wn){return!wn.encryptionScheme||wn.encryptionScheme==bn})}Ys("EmeEncryptionSchemePolyfill",xy),xy.install=_g;function lA(){}var VE;function eM(){VE?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(VE=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=tM):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function tM(gn){var bn=this,wn,In,Nn;return hs(function(jn){switch(jn.g){case 1:return console.assert(bn==navigator.mediaCapabilities,'bad "this" for decodingInfo'),Qn(jn,VE.call(bn,gn),2);case 2:if(wn=jn.h,!gn.keySystemConfiguration)return jn.return(wn);if((In=wn.keySystemAccess)&&cA(In))return console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=VE,jn.return(wn);if(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=I$,In){jn.A(3);break}return Nn=wn,Qn(jn,rM(gn),4);case 4:return Nn.keySystemAccess=jn.h,jn.return(wn);case 3:return jn.return(I$.call(bn,gn))}})}function I$(gn){var bn=this,wn,In,Nn,jn,Vn,Hn,Xn,ns;return hs(function(ss){switch(ss.g){case 1:return console.assert(bn==navigator.mediaCapabilities,'bad "this" for decodingInfo'),wn=null,gn.keySystemConfiguration&&(In=gn.keySystemConfiguration,Nn=In.keySystem,jn=In.audio&&In.audio.encryptionScheme,Vn=In.video&&In.video.encryptionScheme,wn=GE(Nn),Hn={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:gn},jn&&jn!=wn||Vn&&Vn!=wn)?ss.return(Hn):Qn(ss,VE.call(bn,gn),2);case 2:if(Xn=ss.h,Xn.keySystemAccess){Xn.keySystemAccess=new P$(Xn.keySystemAccess,wn),ss.A(3);break}if(!gn.keySystemConfiguration){ss.A(3);break}return ns=Xn,Qn(ss,rM(gn),5);case 5:ns.keySystemAccess=ss.h;case 3:return ss.return(Xn)}})}function rM(gn){var bn,wn;return hs(function(In){if(In.g==1){var Nn=gn.keySystemConfiguration,jn=[],Vn=[];return Nn.audio&&jn.push({robustness:Nn.audio.robustness||"",contentType:gn.audio.contentType}),Nn.video&&Vn.push({robustness:Nn.video.robustness||"",contentType:gn.video.contentType}),Nn={initDataTypes:Nn.initDataType?[Nn.initDataType]:[],distinctiveIdentifier:Nn.distinctiveIdentifier,persistentState:Nn.persistentState,sessionTypes:Nn.sessionTypes},jn.length&&(Nn.audioCapabilities=jn),Vn.length&&(Nn.videoCapabilities=Vn),bn=Nn,Qn(In,navigator.requestMediaKeySystemAccess(gn.keySystemConfiguration.keySystem,[bn]),2)}return wn=In.h,In.return(wn)})}Ys("McEncryptionSchemePolyfill",lA),lA.install=eM;function P$(gn,bn){this.h=gn,this.g=bn,this.keySystem=gn.keySystem}P$.prototype.getConfiguration=function(){var gn=this.h.getConfiguration();if(gn.videoCapabilities)for(var bn=Dn(gn.videoCapabilities),wn=bn.next();!wn.done;wn=bn.next())wn.value.encryptionScheme=this.g;if(gn.audioCapabilities)for(bn=Dn(gn.audioCapabilities),wn=bn.next();!wn.done;wn=bn.next())wn.value.encryptionScheme=this.g;return gn},P$.prototype.createMediaKeys=function(){return this.h.createMediaKeys()};function GE(gn){return gn.startsWith("com.widevine")||gn.startsWith("com.microsoft")||gn.startsWith("com.chromecast")||gn.startsWith("com.adobe")||gn.startsWith("org.w3")?"cenc":gn.startsWith("com.apple")?"cbcs-1-9":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",gn,"Please contribute!"),null)}function cA(gn){gn=gn.getConfiguration();var bn=gn.audioCapabilities&&gn.audioCapabilities[0];return!!((gn=gn.videoCapabilities&&gn.videoCapabilities[0]||bn)&&gn.encryptionScheme!==void 0)}function dA(){}function fA(){_g(),eM()}Ys("EncryptionSchemePolyfills",dA),dA.install=fA,typeof Sn<"u"&&Sn.exports&&(Sn.exports=dA)}).call(cn,ln,ln,void 0);for(var dn in cn.shaka)sn[dn]=cn.shaka[dn]})()})(shakaPlayer_compiled);const Shaka=getDefaultExportFromCjs(shakaPlayer_compiled),errorLogger=(sn,ln)=>{const cn=getErrorEnvironment();sn instanceof Error&&datadogRum.addError(sn,Object.assign(cn,ln)),datadogRum.addError(sn,Object.assign(cn,ln,{originError:sn}))},getErrorEnvironment=()=>{var sn;return{userAgent:navigator.userAgent,connectionType:((sn=navigator.connection)==null?void 0:sn.type)||"unknown",maxTouchPoints:navigator.maxTouchPoints}};class ShakaError extends Error{constructor(cn){super(cn.message);$l(this,"category");$l(this,"severity");$l(this,"code");this.name="ShakaError",this.message=this.getErrorMessage(cn),this.code=cn.code,this.severity=cn.severity,this.category=cn.category}static isShakaError(cn){return!!(has$1(cn,"category")&&has$1(cn,"code")&&has$1(cn,"severity"))}isCriticalError(){return this.code===Shaka.util.Error.Code.LOAD_INTERRUPTED&&this.category===Shaka.util.Error.Category.PLAYER}getErrorMessage(cn){const dn=cn.category,pn=cn.severity,vn=cn.code;return`category: ${dn} severity: ${pn} code: ${vn} message: ${cn.message||""}`}}const isMobile=()=>{const sn=/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i,ln="ontouchstart"in window||navigator.maxTouchPoints>0;return sn.test(navigator.userAgent)||ln&&window.innerWidth<=1024};isMobile();function getSrc(sn){return(sn==null?void 0:sn.url)||""}function isVodCdnUrl(sn){return RegExp(/^https:\/\/vod\.(dev)?inflearn.com/).test(sn)}function isHlsKeyUrl(sn){return isVodCdnUrl(sn)&&RegExp(/^https:\/\/vod\.(dev)?inflearn.com\/key\/[^/]+\/[^/]+$/).test(sn)}const style="",shaka=getShaka();shaka.ui.Controls.registerElement(MobileSeekingUiFactory.uiName,new MobileSeekingUiFactory);shaka.ui.Controls.registerElement(PlaybackRateUiFactory.uiName,new PlaybackRateUiFactory);shaka.ui.Controls.registerElement(AutoPlayUiFactory.uiName,new AutoPlayUiFactory);shaka.ui.Controls.registerElement(SubtitleButtonUiFactory.uiName,new SubtitleButtonUiFactory);shaka.ui.Controls.registerElement(UnitTitleUiFactory.uiName,new UnitTitleUiFactory);shaka.ui.Controls.registerElement(FullscreenButtonUiFactory.uiName,new FullscreenButtonUiFactory);shaka.ui.Controls.registerElement(PlayPauseButtonUiFactory.uiName,new PlayPauseButtonUiFactory);shaka.ui.Controls.registerElement(SubtitleUiFactory.uiName,new SubtitleUiFactory);const getPlayBackRate=(sn,ln)=>{const cn=[];for(let dn=sn*100;dn<=ln*100;dn+=5)cn.push(Number(dn));return cn.map(dn=>dn/100)},PLAYER_CONFIG={streaming:{bufferingGoal:40,retryParameters:{maxAttempts:5,baseDelay:2e3}}},isIosDevice$1=isIos(navigator.userAgent,document),OVERLAY_CONFIG={controlPanelElements:[SubtitleUiFactory.uiName,PlayPauseButtonUiFactory.uiName,"mute",...isMobile()?[]:["volume"],"time_and_duration","spacer",AutoPlayUiFactory.uiName,PlaybackRateUiFactory.uiName,SubtitleButtonUiFactory.uiName,FullscreenButtonUiFactory.uiName,"overflow_menu",...isMobile()?[MobileSeekingUiFactory.uiName]:[],...isMobile()?[]:[UnitTitleUiFactory.uiName]],overflowMenuButtons:[...isIosDevice$1||isSafari(navigator.userAgent)?[]:["quality"],"picture_in_picture"],seekBarColors:{base:"rgba(255,255,255,.2)",buffered:"rgba(255,255,255,.4)",played:P$8.infgreen[6],adBreaks:P$8.infgreen[6]},playbackRates:getPlayBackRate(.5,2),enableKeyboardPlaybackControls:!1,doubleClickForFullscreen:!1,addBigPlayButton:!1,enableFullscreenOnRotation:!0};window.muxjs=muxjs$1;const PASSPHRASE=appConfig.PASSPHRASE,useCustomPlayer=({src:sn,unitTitle:ln,currentTime:cn,config:dn,overlayConfig:pn})=>{const[vn,Sn]=reactExports.useState(null),[En,Cn]=reactExports.useState(null),Pn=reactExports.useRef(null),Rn=reactExports.useRef(null),Ln=reactExports.useRef(null);reactExports.useEffect(()=>{if(!Rn.current||!Pn.current)return;const Ts=new shaka.Player(Pn.current),xs=new shaka.ui.Overlay(Ts,Rn.current,Pn.current);return Dn(Ts),Sn(Ts),Cn(xs),Ts.configure({...PLAYER_CONFIG}),xs.configure(defaults$1(pn,OVERLAY_CONFIG)),()=>{Ts.destroy(),xs.destroy(),Sn(null),Cn(null)}},[]);const Fn=Ts=>{const xs={url:`${location.pathname}${location.search}`,playbackRate:vn==null?void 0:vn.getPlaybackRate()};if(ShakaError.isShakaError(Ts)&&Ts.severity===shaka.util.Error.Severity.CRITICAL){if(Ts.severity!==shaka.util.Error.Severity.CRITICAL)return;const zs=new ShakaError(Ts);errorLogger(zs,xs);return}errorLogger(Ts,xs)};reactExports.useEffect(()=>{vn&&Ln.current!==sn&&sn&&(Pn.current&&(Pn.current.dataset.unitTitle=ln),vn.load(sn,cn,"application/x-mpegURL").then(()=>{Ln.current=sn}).catch(Fn))},[vn,sn]);const Gn=(Ts,xs)=>{if(isNil(Ts))return;const zs=vn==null?void 0:vn.getMediaElement();zs&&(zs.currentTime=Ts,xs&&zs.play())},Dn=Ts=>{var xs;(xs=Ts.getNetworkingEngine())==null||xs.registerRequestFilter((zs,Bs)=>{var hs;const Js=Bs.uris[0],tu=isVodCdnUrl(Js)||!1;if(zs!==shaka.net.NetworkingEngine.RequestType.LICENSE&&tu&&(Bs.allowCrossSiteCredentials=!!((hs=dn==null?void 0:dn.headers)!=null&&hs.withCredentials)),zs!==shaka.net.NetworkingEngine.RequestType.LICENSE&&isHlsKeyUrl(Js)){const[lu,vu]=Js.split("/key/")[1].split("/"),yu=sha256(`${lu}${vu}${PASSPHRASE}`);Bs.uris[0]=`${Bs.uris[0]}?key=${yu}`}})},Kn=()=>{const Ts=vn==null?void 0:vn.getMediaElement(),xs=Ts==null?void 0:Ts.currentTime;return isNil(xs)?null:Math.floor(xs)},qn=()=>{const Ts=vn==null?void 0:vn.getMediaElement(),xs=Ts==null?void 0:Ts.duration;return isNil(xs)?null:Math.floor(xs)},Zn=Ts=>{const xs=vn==null?void 0:vn.getMediaElement();xs&&(xs.playbackRate=Ts,xs.defaultPlaybackRate=Ts)},Yn=useDispatch();return{overlayElement:Rn,videoElement:Pn,player:vn,overlay:En,setCurrentTime:Gn,getCurrentTime:Kn,getDuration:qn,setPlaybackRate:Zn,setPlaybackRateOptions:Ts=>{if(En&&(vn!=null&&vn.getMediaElement())){const xs=isSafari(navigator.userAgent)?2:Ts;Yn(videoActions.setMaxPlaybackRate(xs)),En.configure({playbackRates:getPlayBackRate(.5,xs)})}},setQuality:Ts=>{const xs=vn==null?void 0:vn.getVariantTracks(),zs=find$1(xs,{height:Ts});if(!zs){vn==null||vn.configure({abr:{enabled:!0}});return}vn==null||vn.configure({abr:{enabled:!1}}),vn==null||vn.selectVariantTrack(zs,!0)},setVolume:Ts=>{const xs=vn==null?void 0:vn.getMediaElement();xs&&(xs.volume=Ts)},toggleFullscreen:()=>{var Ts;(Ts=En==null?void 0:En.getControls())==null||Ts.toggleFullScreen()},play:()=>{var Ts;(Ts=vn==null?void 0:vn.getMediaElement())==null||Ts.play()},pause:()=>{var Ts;(Ts=vn==null?void 0:vn.getMediaElement())==null||Ts.pause()},togglePlayPause:()=>{const Ts=vn==null?void 0:vn.getMediaElement();Ts&&(Ts.paused?Ts.play():Ts.pause())},forward:Ts=>{const xs=vn==null?void 0:vn.getMediaElement();if(!xs)return;const zs=xs.duration,Bs=xs.currentTime+Ts;Gn(Bs>=zs?zs-.001:Bs)},rewind:Ts=>{const xs=vn==null?void 0:vn.getMediaElement();if(!xs)return;const zs=xs.currentTime-Ts;xs.currentTime=zs<=0?0:zs},setMuted:Ts=>{const xs=vn==null?void 0:vn.getMediaElement();xs&&(xs.muted=Ts)},getVolume:()=>{var Ts;return((Ts=vn==null?void 0:vn.getMediaElement())==null?void 0:Ts.volume)||0},toggleMuted:()=>{const Ts=vn==null?void 0:vn.getMediaElement();Ts&&(Ts.muted=!Ts.muted)},getPlaybackRate:()=>{const Ts=vn==null?void 0:vn.getMediaElement();return(Ts==null?void 0:Ts.playbackRate)||1},getQuality:()=>{var Bs,Js,tu;const Ts=(Js=(Bs=vn==null?void 0:vn.getConfiguration())==null?void 0:Bs.abr)==null?void 0:Js.enabled,xs=vn==null?void 0:vn.getVariantTracks(),zs=((tu=xs==null?void 0:xs.find(hs=>hs.active))==null?void 0:tu.height)??null;return Ts?null:zs},getVideoElement:()=>Pn.current}},useErrorMonitoring=({player:sn})=>{useEvent$2("error",ln=>{const cn={url:`${location.pathname}${location.search}`,playbackRate:sn.getPlaybackRate()};if(ShakaError.isShakaError(ln)){const dn=new ShakaError(ln);errorLogger(dn,cn),dn.isCriticalError()&&(setDebugMode(!0),initLogger());return}errorLogger(ln,cn)},sn.player)},defaultKeyConditions={playPauseKey:sn=>sn.code==="Space",rewindKey:sn=>sn.code==="ArrowLeft",forwardKey:sn=>sn.code==="ArrowRight",volumeUpKey:sn=>sn.code==="ArrowUp",volumeDownKey:sn=>sn.code==="ArrowDown",muteKey:sn=>sn.code==="KeyM",subtitleKey:sn=>sn.code==="KeyC"&&!sn.metaKey&&!sn.ctrlKey,fullscreenKey:sn=>sn.code==="KeyF"&&!sn.metaKey&&!sn.ctrlKey,speedUpKey:sn=>sn.shiftKey&&sn.code==="Period",speedDown:sn=>sn.shiftKey&&sn.code==="Comma"},defaultOptions={volumeStep:.1,seekStep:5,documentHotkeysFocusElementFilter:()=>!1};function usePlayerHotkey({player:sn,mediaElement:ln,customOptions:cn,customOverlay:dn}){const pn=useAppSelector(Dn=>Dn.video.isVodSubtitleOpened),vn=useAppDispatch(),{enterFullScreen:Sn,isFullscreen:En,exitFullScreen:Cn}=usePlayerFullscreen(),Pn={...defaultOptions,...cn},Rn={...defaultKeyConditions,...cn},Ln=Dn=>Dn===document.body,Fn=Dn=>Dn.find(Kn=>{var qn;return(qn=Kn==null?void 0:Kn.classList)==null?void 0:qn.contains("shaka-video-container")});useEvent$2("keydown",Dn=>{var Kn,qn;if(ln&&(Ln(Dn.target)||Fn(Dn.composedPath()))&&!Pn.documentHotkeysFocusElementFilter(Dn)){if(Rn.playPauseKey(Dn)){Dn.preventDefault(),sn.togglePlayPause();return}if(Rn.rewindKey(Dn)){Dn.preventDefault(),sn.rewind(Pn.seekStep);return}if(Rn.forwardKey(Dn)){Dn.preventDefault(),sn.forward(Pn.seekStep);return}if(Rn.volumeUpKey(Dn)){Dn.preventDefault(),sn.setMuted(!1);const Zn=sn.getVolume()+Pn.volumeStep;sn.setVolume(Zn>=1?1:Zn);return}if(Rn.volumeDownKey(Dn)){Dn.preventDefault(),sn.setMuted(!1);const Zn=sn.getVolume()-Pn.volumeStep;sn.setVolume(Zn<0?0:Zn);return}if(Rn.muteKey(Dn)){sn.toggleMuted();return}if(Rn.fullscreenKey(Dn)){if(Dn.preventDefault(),En){Cn();return}Sn()}if(Rn.speedUpKey(Dn)){const Zn=sn.getPlaybackRate(),Yn=last$1(((Kn=sn.overlay)==null?void 0:Kn.getConfiguration().playbackRates)||[2]);if(Zn===Yn)return;const Jn=Number((Zn+.25).toFixed(2)),rs=Yn>Jn?Jn:Yn;sn.setPlaybackRate(rs),setUserSetting({playbackRate:rs}),dn.showPlaybackFeedback("forward",rs);return}if(Rn.speedDown(Dn)){const Zn=sn.getPlaybackRate(),Yn=head$1(((qn=sn.overlay)==null?void 0:qn.getConfiguration().playbackRates)||[.5]);if(Zn===Yn)return;const Jn=Number((Zn-.25).toFixed(2)),rs=Jn<Yn?Yn:Jn;sn.setPlaybackRate(rs),setUserSetting({playbackRate:rs}),dn.showPlaybackFeedback("backward",rs);return}Rn.subtitleKey(Dn)&&vn(videoActions.setIsVodSubtitleOpened(!pn))}})}const controls="",styleMobileSeekingUi={name:"hvg71l",styles:".shaka-fast-forward-on-controls-container{height:100%;width:100%;flex-shrink:1;position:absolute;left:0;right:0;top:0;bottom:0;display:flex;flex-direction:column;justify-content:center;align-items:center;border-radius:40% 0 0 40%;margin:0;border:none;color:#fff;background-color:#0000007f;cursor:default;font-size:20px;opacity:0;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.shaka-rewind-on-controls-container{height:100%;width:100%;flex-shrink:1;position:absolute;left:0;right:0;top:0;bottom:0;display:flex;flex-direction:column;justify-content:center;align-items:center;border-radius:0 40% 40% 0;margin:0;border:none;color:#fff;background-color:#0000007f;cursor:default;font-size:20px;opacity:0;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.shaka-forward-rewind-on-controls-container-icon{font-weight:bold;font-size:34px;}.shaka-hidden-fast-forward-container{height:100%;width:40%;flex-shrink:1;position:absolute;top:0;right:0;left:60%;}.shaka-hidden-rewind-container{height:100%;width:40%;flex-shrink:1;position:absolute;left:0;right:0;top:0;bottom:0;}"},VideoPlayer=({player:sn,subtitleUrl:ln,onReady:cn,onTimeUpdate:dn,onPlay:pn,onEnd:vn,onPlaybackRateChange:Sn,onVolumeChange:En,onQualityChange:Cn,onFullscreenChange:Pn,onLoadStart:Rn})=>{var us;const Ln=reactExports.useRef(!1),Fn=()=>{const as=sn.getDuration()||0,cs=sn.getCurrentTime()||0;dn==null||dn(sn,{time:cs,duration:as})},Gn=()=>{const as=sn.getVolume();En==null||En(sn,{volume:as})},Dn=()=>{cn==null||cn(sn)},Kn=()=>vn==null?void 0:vn(sn),qn=()=>pn==null?void 0:pn(sn),Zn=()=>{Pn==null||Pn(sn,{fullscreen:!!document.fullscreenElement})},Yn=()=>{const as=sn.getPlaybackRate();as!==0&&(Sn==null||Sn(sn,{playbackRate:as}))},Jn=()=>Rn==null?void 0:Rn(sn),rs=()=>{const as=sn.getQuality();Cn==null||Cn(sn,{quality:as})};return useEvent$2("fullscreenchange",Zn,document),useEvent$2("resolutionselectionupdated",rs,(us=sn.overlay)==null?void 0:us.getControls()),reactExports.useEffect(()=>{var _s,Es;const as=(Es=(_s=sn.overlay)==null?void 0:_s.getControls())==null?void 0:Es.getControlsContainer(),cs=document.querySelector(".shaka-playback-rates");Ln.current||!as||!cs||(Ln.current=!0,cs.addEventListener("click",Qn=>{const ms=Qn.target,$s=ms.textContent;if(cs.contains(ms)&&($s==null?void 0:$s.includes("x"))&&$s){const gs=Number($s.replace("x",""));trackEvent(eventNames.UNIT__VIDEO_CONTENT_PLAYBACK_RATE,{Type:gs})}}))},[sn.player]),reactExports.useEffect(()=>{var _s;const as=(_s=sn.videoElement)==null?void 0:_s.current;if(!as)return;const cs=as==null?void 0:as.querySelector('[srcLang="ko"]');if(!ln){cs==null||cs.remove();return}if(cs){cs.src=ln;return}if(!cs){const Es=document.createElement("track");Es.kind="captions",Es.srclang="ko",Es.src=ln,as.appendChild(Es)}},[ln]),jsx("div",{ref:sn.overlayElement,css:[styleVideoCover,styleYoutube,styleMobileSeekingUi,"",""],children:jsx("video",{onLoadStart:Jn,onLoadedData:Dn,onTimeUpdate:Fn,onVolumeChange:Gn,onEnded:Kn,onRateChange:Yn,onPlay:qn,ref:sn.videoElement,css:styleVideo,controls:!1,autoPlay:!0,playsInline:!0})})},styleVideoCover={name:"w1atjl",styles:"width:100%;height:100%"},styleYoutube=css$1({".shaka-controls-container[casting=true] .shaka-seek-bar-container, .shaka-controls-container[shown=true] .shaka-seek-bar-container":{height:"3px"},".shaka-controls-container[casting=true] .shaka-controls-button-panel, .shaka-controls-container[shown=true] .shaka-controls-button-panel":{height:"40px"},".shaka-bottom-controls":{width:"100%",padding:0,paddingBottom:0,zIndex:1,display:"flex",WebkitBoxOrient:"vertical",WebkitBoxDirection:"normal",msFlexDirection:"column",flexDirection:"column"},".shaka-controls-button-panel":{WebkitBoxOrdinalGroup:3,msFlexOrder:2,order:2,height:0,padding:"0 2px",transition:"opacity cubic-bezier(.4, 0, .6, 1) .6s, height cubic-bezier(.4, 0, .6, 1) .2s",[mediaQueries.tablet]:{padding:"0 10px"}},".shaka-range-container":{margin:"4px 0px 4px 0px",top:0,[mediaQueries.tablet]:{margin:"4px 10px 4px 10px"}},".shaka-controls-button-panel > *":{margin:0,color:"#EEE",height:"40px",padding:0},".shaka-controls-button-panel > *:focus":{outline:"none",WebkitBoxShadow:"inset 0 0 0 2px rgba(27, 127, 204, 0.8)",boxShadow:"inset 0 0 0 2px rgba(27, 127, 204, 0.8)",color:"#FFF"},".shaka-controls-button-panel > *:hover":{color:"#FFF"},".shaka-controls-button-panel .shaka-volume-bar-container":{display:"none",position:"relative",zIndex:10,left:"-1px",WebkitBoxOrdinalGroup:0,opacity:0,width:0,WebkitTransition:"width 0.2s cubic-bezier(0.4, 0, 1, 1)",height:"3px",transition:"width 0.2s cubic-bezier(0.4, 0, 1, 1)",padding:0,marginRight:"8px",[mediaQueries.tablet]:{display:"block"}},".shaka-controls-button-panel .shaka-volume-bar-container:hover, .shaka-controls-button-panel .shaka-volume-bar-container:focus":{display:"block",width:"50px",opacity:1,padding:"0 6px"},".shaka-mute-button":{display:"none",width:"40px",alignItems:"center",justifyContent:"center",[mediaQueries.tablet]:{display:"inline-flex"}},".shaka-mute-button:hover + div":{width:"50px",opacity:1},".shaka-current-time":{fontSize:"12px"},".shaka-seek-bar-container":{height:0,position:"relative",top:"-1px",borderRadius:0,marginBottom:0},".shaka-seek-bar-container .shaka-range-element":{opacity:0},".shaka-seek-bar-container:hover":{height:"5px",top:0,cursor:"pointer"},".shaka-seek-bar-container:hover .shaka-range-element":{opacity:1,cursor:"pointer"},'.shaka-seek-bar-container input[type="range"]::-webkit-slider-thumb':{background:colors.primary500,cursor:"pointer"},'.shaka-seek-bar-container input[type="range"]::-moz-range-thumb':{background:colors.primary500,cursor:"pointer"},'.shaka-seek-bar-container input[type="range"]::-ms-thumb':{background:colors.primary500,cursor:"pointer"},".shaka-video-container .material-icons-round":{fontFamily:"Material Icons Sharp"},".shaka-overflow-menu, .shaka-settings-menu":{borderRadius:"2px",background:"rgba(28, 28, 28, 0.9)",textShadow:"0 0 2px rgb(0 0 0%)",WebkitTransition:"opacity 0.1s cubic-bezier(0, 0, 0.2, 1)",transition:"opacity 0.1s cubic-bezier(0, 0, 0.2, 1)",MozUserSelect:"none",msUserSelect:"none",WebkitUserSelect:"none",right:"10px",bottom:"50px",padding:"8px 0",minWidth:"200px"},".shaka-settings-menu":{padding:"0 0 8px 0"},".shaka-settings-menu button":{fontSize:"12px"},".shaka-settings-menu button span":{marginLeft:"33px",fontSize:"13px"},'.shaka-settings-menu button[aria-selected="true"]':{display:"flex"},'.shaka-settings-menu button[aria-selected="true"] span':{WebkitBoxOrdinalGroup:3,msFlexOrder:2,order:2,marginLeft:0},'.shaka-settings-menu button[aria-selected="true"] i':{WebkitBoxOrdinalGroup:2,msFlexOrder:1,order:1,fontSize:"18px",paddingLeft:"5px"},".shaka-overflow-menu button":{padding:0},".shaka-overflow-menu button i":{display:"none"},".shaka-overflow-menu button .shaka-overflow-button-label":{display:"flex",WebkitBoxPack:"justify",msFlexPack:"justify",justifyContent:"space-between",WebkitBoxOrient:"horizontal",WebkitBoxDirection:"normal",msFlexDirection:"row",flexDirection:"row",WebkitBoxAlign:"center",msFlexAlign:"center",alignItems:"center",cursor:"default",outline:"none",height:"40px",WebkitBoxFlex:0,msFlex:"0 0 100%",flex:"0 0 100%"},".shaka-overflow-menu button .shaka-overflow-button-label span":{msFlexNegative:"initial",flexShrink:"initial",paddingLeft:"15px",fontSize:"13px",fontWeight:500,display:"flex",WebkitBoxAlign:"center",msFlexAlign:"center",alignItems:"center"},".shaka-overflow-menu span + span":{color:"#FFF",fontWeight:"400 !important",fontSize:"12px !important",paddingRight:"8px",paddingLeft:"0 !important"},".shaka-overflow-menu .shaka-pip-button span + span":{paddingRight:"15px !important"},".shaka-overflow-menu .shaka-pip-button span + span::after":{content:'""'},".shaka-back-to-overflow-button":{padding:"8px 0",borderBottom:"1px solid rgba(255, 255, 255, 0.2)",fontSize:"12px",color:"#eee",height:"40px"},".shaka-back-to-overflow-button .material-icons-round":{fontSize:"15px",paddingRight:"10px"},".shaka-back-to-overflow-button span":{marginLeft:"3px !important"},".shaka-overflow-menu button:hover, .shaka-settings-menu button:hover":{cursor:"pointer"},".shaka-overflow-menu button:hover label, .shaka-settings-menu button:hover label":{cursor:"pointer"},".shaka-overflow-menu button:focus, .shaka-settings-menu button:focus":{backgroundColor:"rgba(255, 255, 255, 0.1)",border:"none",outline:"none"},".shaka-overflow-menu button, .shaka-settings-menu button":{color:"#EEE"},".shaka-captions-off":{color:"#BFBFBF"},".shaka-spacer":{flexGrow:1,padding:0,minWidth:0},".shaka-overflow-menu-button":{fontSize:"18px",width:"34px",display:"inline-flex",alignItems:"center",justifyContent:"center"},".shaka-scrim-container":{background:`linear-gradient(to top,${P$8.dark[8]} 0,transparent 15%);`}},"",""),styleVideo={name:"w1atjl",styles:"width:100%;height:100%"},storageKey="userSetting",isLocalStorageAvailable=()=>typeof localStorage<"u",isIosDevice=isIos(navigator.userAgent,document),isSafariBrowser=isSafari(navigator.userAgent),setStorage=(sn,ln)=>{if(isLocalStorageAvailable()){localStorage.setItem(sn,JSON.stringify(ln));return}window.__storage__[sn]=JSON.stringify(ln)},getStorage=sn=>isLocalStorageAvailable()?localStorage.getItem(sn):window.__storage__[sn],getUserSetting=()=>{const sn={quality:null,playbackRate:1,volume:1,autoplay:!1,isVodSubtitleOpened:!1,subtitlePosition:"top",subtitleSize:"sm"},ln=getStorage(storageKey),cn=ln?JSON.parse(ln):sn;return`${cn.playbackRate}`.length>4&&(cn.playbackRate=1,setStorage(storageKey,cn)),cn},setUserSetting=sn=>{const ln=getUserSetting();setStorage(storageKey,{...ln,...sn})};function PlayerWrapper({currentTime:sn,src:ln,unitTitle:cn,isReview:dn,hasSubtitle:pn,subtitleOid:vn,isShowTopSubtitle:Sn}){var _s;const En=useAppDispatch(),{setPlayerContext:Cn}=useDispatchPlayerContext(),{unitId:Pn,slug:Rn}=useLectureParams(),Ln=reactExports.useRef(!1),Fn=reactExports.useRef(0),Gn=vn?VOD_SUBTITLE_VTT_VOD_SUBTITLE_ID(vn):void 0,Dn=useCustomPlayer({src:ln,unitTitle:cn,currentTime:sn,config:{headers:{withCredentials:!0}},overlayConfig:{playbackRates:getPlayBackRate(.5,dn&&!(isIosDevice||isSafariBrowser)?3:2)}});return usePlayerHotkey({player:Dn,mediaElement:(_s=Dn.player)==null?void 0:_s.getMediaElement(),customOverlay:{showPlaybackFeedback:(Es,Qn)=>{var ms;(ms=Dn.overlayElement)!=null&&ms.current&&showPlaybackOverlay({playbackRate:Qn,dir:Es})()}}}),useErrorMonitoring({player:Dn}),reactExports.useEffect(()=>{Cn(Dn)},[Dn.player]),jsxs(m$9,{css:stylePlayerWrapper,children:[jsx(VideoPlayer,{player:Dn,subtitleUrl:Gn,onReady:Es=>{Ln.current=!0;const Qn=getUserSetting();Es.setVolume(Qn.volume),Es.setQuality(Qn.quality),Es.setPlaybackRate(Qn.playbackRate),Qn.subtitleSize&&En(videoActions.setSubtitleSize(Qn.subtitleSize))},onPlay:()=>{En(videoActions.setIsOverlay(!1))},onEnd:()=>{En(videoActions.setIsOverlay(!0))},onTimeUpdate:(Es,{time:Qn})=>{const ms=Math.floor(Qn);Fn.current!==ms&&ms%10===0&&(Fn.current=ms,datadogLogs.logger.info(`slug: ${Rn}, currentTime: ${ms}, unitId: ${Pn}`))},onPlaybackRateChange:()=>{Ln.current},onVolumeChange:(Es,Qn)=>{Ln.current&&setUserSetting({volume:Qn.volume})},onQualityChange:(Es,Qn)=>{Ln.current&&setUserSetting({quality:Qn.quality})},onFullscreenChange:(Es,Qn)=>{Qn.fullscreen&&trackEvent(eventNames.LECTUREM_FULLSCREEN_CLICK)},onLoadStart:()=>{Ln.current=!1}}),jsx(SwitchProvider,{isReview:dn,children:jsx(PortalControl,{elementId:AUTOPLAY_ELEMENT_ID,children:jsx(AutoPlayUiComponent,{})})}),pn&&jsx(PortalControl,{elementId:SUBTITLE_BUTTON_ELEMENT_ID,children:jsx(SubtitleButtonUiComponent,{})}),Sn&&vn&&jsx(PortalControl,{elementId:SUBTITLE_ELEMENT_ID,children:jsx(SubtitleUiComponent,{subtitleOid:vn})}),jsx(PortalControl,{elementId:FULLSCREEN_ELEMENT_ID,children:jsx(FullScreenButtonUiComponent,{})}),jsx(PortalControl,{elementId:PLAYBACKRATE_ELEMENT_ID,children:jsx(PlaybackRateUiComponent,{})}),jsx(PortalControl,{elementId:PLAY_PAUSE_ELEMENT_ID,children:jsx(PlayPauseButtonUiComponent,{})})]})}const stylePlayerWrapper={name:"2pste9",styles:"flex:1 1 auto;height:0"},{isVodSubtitleOpened,subtitlePosition}=getUserSetting(),initialVideo={isOverlay:!1,isVodSubtitleOpened:isVodSubtitleOpened||!1,subtitlePosition:subtitlePosition||"top",currentScript:{index:null,prevIndex:null,isPlaceholder:!1},subTitleSize:SUBTITLE_SIZE_KEY.sm,maxPlaybackRate:2},slice$2=createSlice({name:"video",initialState:initialVideo,reducers:{setIsOverlay(sn,{payload:ln}){sn.isOverlay=ln},setIsVodSubtitleOpened(sn,{payload:ln}){sn.isVodSubtitleOpened=ln},setSubtitlePosition(sn,{payload:ln}){sn.subtitlePosition=ln},setCurrentScriptIndex(sn,{payload:ln}){return sn.currentScript=ln,sn},setSubtitleSize(sn,{payload:ln}){return sn.subTitleSize=ln,sn},setMaxPlaybackRate(sn,{payload:ln}){return sn.maxPlaybackRate=ln,sn}}}),{reducer:videoReducer}=slice$2,videoActions=slice$2.actions;function isOver(sn){return(ln,cn)=>ln<sn&&cn>=sn}function useUpdateCurrentTime(){const sn=useAppDispatch(),{unitId:ln,slug:cn}=useLectureParams(),{instCode:dn}=useAppSelector(Kn=>Kn.lecture),{data:pn}=useUnit(ln,cn),{data:vn}=useMyVoucher(cn),{data:Sn}=useSession(),{mutate:En}=useV2UnitCompleteCurrentTimeUpdateMutation({url:API_ENDPOINT.V2_UNIT_COMPLETE_CURRENT_TIME}),{openForbiddenModal:Cn}=useForbiddenModal(),{openConflictModal:Pn}=useConflictModal(),{openMultiStudyBlockModal:Rn}=useMultiStudyBlockModal(),{openRecommendReviewModal:Ln}=useRecommendReviewModal(),{openCompleteModal:Fn}=useCompleteModal(),Gn=useQueryClient();return{updateCurrentTime:({unitId:Kn,userId:qn,currentTime:Zn,prevRequestTime:Yn})=>{var us;const Jn=(us=pn==null?void 0:pn.complete)==null?void 0:us.isComplete;if(!(vn!=null&&vn.hasVoucher))return;const rs=isSafari(navigator.userAgent);En({unitId:Kn,userId:qn,currentTime:Zn,prevRequestTime:Yn},{onSuccess:({data:as})=>{var ms;if(isNil(as))return;sn(videoActions.setMaxPlaybackRate(rs||as.isCompleted===!1?2:3)),sn(lectureActions.setPrevRequestTime(as.now));const cs=Number(as.prevProgress),_s=Number(as.progress),Es=!!((ms=vn==null?void 0:vn.voucher)!=null&&ms.isReviewable)&&!(Sn!=null&&Sn.isBlocked);isOver(100)(cs,_s)&&Fn(),Es&&isOver(30)(cs,_s)?Ln(30):Es&&isOver(60)(cs,_s)&&Ln(60),!Jn&&as.isCompleted&&(trackMixpanelEvent(eventNames.LECTURE_CLICK_COMPLETES,{course_id:`${vn.id}`,unit_id:`${Kn}`,completes_type:"자동체크",progress:Number(Number(_s).toFixed(2))}),Gn.invalidateQueries(["myVoucher"]),Gn.invalidateQueries(["units",Kn]),Gn.invalidateQueries(["curriculum",cn]))},onError:as=>{console.error(as);const cs=vn!=null&&vn.hasVoucher?URL_COURSE_DASHBOARD(cn):URL_COURSE_DESCRIPTION(cn,dn);as instanceof ApiError&&(as.isUnauthorized&&Cn(),as.isConflict&&Pn({href:cs,title:as.message}),as.isForbidden&&Rn({href:cs,title:as.message}),setTimeout(()=>{window.location.assign(cs)},5e3))}})}}}function useMoveUnit(){const sn=useAppSelector(Gn=>Gn.lecture.prevRequestTime),{slug:ln,unitId:cn}=useLectureParams(),{data:dn}=useUnit(Number(cn),ln),{data:pn}=useSession(),{player:vn}=usePlayerContext(),Sn=useAppDispatch(),{updateCurrentTime:En}=useUpdateCurrentTime(),Cn=useNavigate(),[Pn,Rn]=useSearchParams(),Ln=Gn=>{Rn(Kn=>(Kn.delete("time"),Kn)),window.innerWidth<laptopSize&&Rn(Kn=>(Kn.delete("tab"),Kn)),Rn(Kn=>(Kn.set("unitId",String(Gn)),Kn.set("courseSlug",ln),Kn));const Dn=`${URL_LECTURE_V2}?${Pn.toString()}`;Cn(Dn)},Fn=Gn=>{if(Gn===Number(cn))return;const Dn=vn==null?void 0:vn.getCurrentTime(),Kn=vn==null?void 0:vn.getDuration();Dn&&Kn&&pn&&En({unitId:Number(cn),userId:pn==null?void 0:pn.userId,currentTime:Dn,prevRequestTime:sn}),Ln(Gn),Sn(lectureActions.setUnitId(Gn)),Sn(videoActions.setIsOverlay(!1))};return{unitId:Number(cn),prevUnitId:dn==null?void 0:dn.prevUnitId,nextUnitId:dn==null?void 0:dn.nextUnitId,moveUnit:Fn}}const MODAL_OPEN_SHORTCUT="?",keyConditions={moveToPrevUnitKey:sn=>sn.shiftKey&&sn.code==="KeyP",moveToNextUnitKey:sn=>sn.shiftKey&&sn.code==="KeyN",toggleSidebarKey:sn=>sn.key==="["};function useShortcut(){const{openShortcutGuideModal:sn}=useShortcutGuide(),{closeTab:ln,tab:cn,onChangeTab:dn}=useQueryTab(),{moveUnit:pn,prevUnitId:vn,nextUnitId:Sn}=useMoveUnit();function En(Ln){if(!!document.querySelector('[aria-label="shortcut-table"]'))return;const Gn=Ln.target;isShortcutDisabledTargetElement(Gn)||Ln.key===MODAL_OPEN_SHORTCUT&&sn()}function Cn(Ln){const Fn=Ln.target;if(!isShortcutDisabledTargetElement(Fn)){if(keyConditions.moveToPrevUnitKey(Ln)){if(!vn)return;pn(vn)}if(keyConditions.moveToNextUnitKey(Ln)){if(!Sn)return;pn(Sn)}}}const Pn=reactExports.useRef();reactExports.useEffect(()=>{cn&&(Pn.current=cn)},[cn]);function Rn(Ln){const Fn=Ln.target;if(isInputElement(Fn)||!keyConditions.toggleSidebarKey(Ln))return;if(!!cn){ln();return}dn(Pn.current||tabLookup.커리큘럼)}useEvent$2("keypress",En),useEvent$2("keypress",Cn),useEvent$2("keypress",Rn)}const SHORTCUT_DISABLED_TAGS=["input","textarea"];function isShortcutDisabledTargetElement(sn){return sn.getAttribute("contenteditable")||SHORTCUT_DISABLED_TAGS.some(ln=>ln===sn.tagName.toLowerCase())}const DesktopCourse=reactExports.lazy(()=>__vitePreload(()=>import("./DesktopCourse-ae016112.js"),["assets/DesktopCourse-ae016112.js","assets/canViewContent-df424c4e.js","assets/canViewContent-11a542c1.css"])),MobileCourse=reactExports.lazy(()=>__vitePreload(()=>import("./MobileCourse-96fddae1.js"),["assets/MobileCourse-96fddae1.js","assets/canViewContent-df424c4e.js","assets/canViewContent-11a542c1.css"]));function getCookieDomain(sn){return sn==="production"?".inflearn.com":sn==="development"?".devinflearn.com":"localhost"}function Course(){useShortcut();const sn=useAppSelector(Kn=>Kn.lecture.isCompleteModalOpened),ln=useAppSelector(Kn=>Kn.lecture.isReviewModalOpened),cn=useAppSelector(Kn=>Kn.lecture.prevRequestTime),dn=useAppSelector(Kn=>Kn.lecture.isRecommendReviewModalOpened),pn=usePlayerContext(),vn=useAppDispatch(),{slug:Sn,unitId:En}=useLectureParams(),{data:Cn,isLoading:Pn}=useCourse(Sn),{data:Rn,isLoading:Ln}=useUnit(En,Sn,{onSuccess:({data:Kn})=>{var qn,Zn,Yn;(qn=Kn==null?void 0:Kn.complete)!=null&&qn.nowInMilliseconds&&Fn((Zn=Kn==null?void 0:Kn.complete)==null?void 0:Zn.nowInMilliseconds),Gn(((Yn=Kn==null?void 0:Kn.complete)==null?void 0:Yn.isComplete)===!0?3:2)}}),Fn=Kn=>{Kn!==cn&&Kn&&vn(lectureActions.setPrevRequestTime(Number(Kn)))},Gn=Kn=>{var qn;((qn=pn.player)==null?void 0:qn.getPlaybackRate())!==Kn&&pn.player&&pn.player.setPlaybackRateOptions(Kn)};reactExports.useEffect(()=>{if(isIos(navigator.userAgent,document)||isSafari(navigator.userAgent)){const Kn=appConfig.MODE,qn=getCookieDomain(Kn);api.set("CloudFront-Is-Apple-Viewer","true",{domain:qn})}},[]),reactExports.useEffect(()=>{(!Sn||!En)&&(window.location.href=`${appConfig.ANTMAN_APP_URL}/not-found`)},[Sn,En]);const Dn=()=>{const Kn=queryString.parse(window.location.search).inst;if(!(!Kn||typeof Kn=="object"))return Kn||void 0};return reactExports.useEffect(()=>{vn(lectureActions.setInstCode(Dn()))},[]),reactExports.useEffect(()=>{!(Rn!=null&&Rn.id)||!Cn||trackMixpanelEvent(eventNames.LECTURE_VIEW_UNIT,{course_identification:`${Cn.id}`,course_title:Cn.title,unit_id:`${En}`,is_class_material:Rn.hasAttachment})},[Rn==null?void 0:Rn.id,Cn]),Pn||Ln?jsx(LogoLoading,{styleWrapper:styleLogoLoading}):jsxs(Fragment,{children:[jsx(reactExports.Suspense,{fallback:jsx(LogoLoading,{styleWrapper:styleLogoLoading}),children:jsx(DeviceBranch,{desktopComponent:jsx(DesktopCourse,{}),mobileComponent:jsx(MobileCourse,{})})}),jsx(CompleteModal,{isOpened:sn,onClose:()=>vn(lectureActions.setIsCompleteModalOpened(!1))}),jsx(WriteReviewModal,{isOpened:ln,onClose:()=>vn(lectureActions.setIsReviewModalOpened(!1))}),jsx(RecommendReviewModal,{isOpened:dn,onClose:()=>vn(lectureActions.setIsRecommendReviewModalOpened(!1))})]})}function createPolymorphicComponent(sn){return sn}function packSx(sn){return Array.isArray(sn)?sn:[sn]}const DEFAULT_COLORS={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function fontStyles(sn){return()=>({fontFamily:sn.fontFamily||"sans-serif"})}var __defProp$q=Object.defineProperty,__getOwnPropSymbols$r=Object.getOwnPropertySymbols,__hasOwnProp$r=Object.prototype.hasOwnProperty,__propIsEnum$r=Object.prototype.propertyIsEnumerable,__defNormalProp$q=(sn,ln,cn)=>ln in sn?__defProp$q(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$q=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$r.call(ln,cn)&&__defNormalProp$q(sn,cn,ln[cn]);if(__getOwnPropSymbols$r)for(var cn of __getOwnPropSymbols$r(ln))__propIsEnum$r.call(ln,cn)&&__defNormalProp$q(sn,cn,ln[cn]);return sn};function focusStyles(sn){return ln=>({WebkitTapHighlightColor:"transparent",[ln||"&:focus"]:__spreadValues$q({},sn.focusRing==="always"||sn.focusRing==="auto"?sn.focusRingStyles.styles(sn):sn.focusRingStyles.resetStyles(sn)),[ln?ln.replace(":focus",":focus:not(:focus-visible)"):"&:focus:not(:focus-visible)"]:__spreadValues$q({},sn.focusRing==="auto"||sn.focusRing==="never"?sn.focusRingStyles.resetStyles(sn):null)})}function primaryShade(sn){return ln=>typeof sn.primaryShade=="number"?sn.primaryShade:sn.primaryShade[ln||sn.colorScheme]}function themeColor(sn){const ln=primaryShade(sn);return(cn,dn,pn=!0,vn=!0)=>{if(typeof cn=="string"&&cn.includes(".")){const[En,Cn]=cn.split("."),Pn=parseInt(Cn,10);if(En in sn.colors&&Pn>=0&&Pn<10)return sn.colors[En][typeof dn=="number"&&!vn?dn:Pn]}const Sn=typeof dn=="number"?dn:ln();return cn in sn.colors?sn.colors[cn][Sn]:pn?sn.colors[sn.primaryColor][Sn]:cn}}function getGradientColorStops(sn){let ln="";for(let cn=1;cn<sn.length-1;cn+=1)ln+=`${sn[cn]} ${cn/(sn.length-1)*100}%, `;return`${sn[0]} 0%, ${ln}${sn[sn.length-1]} 100%`}function linearGradient(sn,...ln){return`linear-gradient(${sn}deg, ${getGradientColorStops(ln)})`}function radialGradient(...sn){return`radial-gradient(circle, ${getGradientColorStops(sn)})`}function gradient(sn){const ln=themeColor(sn),cn=primaryShade(sn);return dn=>{const pn={from:(dn==null?void 0:dn.from)||sn.defaultGradient.from,to:(dn==null?void 0:dn.to)||sn.defaultGradient.to,deg:(dn==null?void 0:dn.deg)||sn.defaultGradient.deg};return`linear-gradient(${pn.deg}deg, ${ln(pn.from,cn(),!1)} 0%, ${ln(pn.to,cn(),!1)} 100%)`}}function createConverter(sn){return ln=>{if(typeof ln=="number")return`${ln/16}${sn}`;if(typeof ln=="string"){const cn=ln.replace("px","");if(!Number.isNaN(Number(cn)))return`${Number(cn)/16}${sn}`}return ln}}const rem=createConverter("rem"),em=createConverter("em");function getSize({size:sn,sizes:ln,units:cn}){return sn in ln?ln[sn]:typeof sn=="number"?cn==="em"?em(sn):rem(sn):sn||ln.md}function getBreakpointValue(sn){return typeof sn=="number"?sn:typeof sn=="string"&&sn.includes("rem")?Number(sn.replace("rem",""))*16:typeof sn=="string"&&sn.includes("em")?Number(sn.replace("em",""))*16:Number(sn)}function largerThan(sn){return ln=>`@media (min-width: ${em(getBreakpointValue(getSize({size:ln,sizes:sn.breakpoints})))})`}function smallerThan(sn){return ln=>`@media (max-width: ${em(getBreakpointValue(getSize({size:ln,sizes:sn.breakpoints}))-1)})`}function isHexColor(sn){return/^#?([0-9A-F]{3}){1,2}$/i.test(sn)}function hexToRgba(sn){let ln=sn.replace("#","");if(ln.length===3){const Sn=ln.split("");ln=[Sn[0],Sn[0],Sn[1],Sn[1],Sn[2],Sn[2]].join("")}const cn=parseInt(ln,16),dn=cn>>16&255,pn=cn>>8&255,vn=cn&255;return{r:dn,g:pn,b:vn,a:1}}function rgbStringToRgba(sn){const[ln,cn,dn,pn]=sn.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:ln,g:cn,b:dn,a:pn||1}}function toRgba(sn){return isHexColor(sn)?hexToRgba(sn):sn.startsWith("rgb")?rgbStringToRgba(sn):{r:0,g:0,b:0,a:1}}function rgba(sn,ln){if(typeof sn!="string"||ln>1||ln<0)return"rgba(0, 0, 0, 1)";if(sn.startsWith("var(--"))return sn;const{r:cn,g:dn,b:pn}=toRgba(sn);return`rgba(${cn}, ${dn}, ${pn}, ${ln})`}function cover(sn=0){return{position:"absolute",top:rem(sn),right:rem(sn),left:rem(sn),bottom:rem(sn)}}function darken(sn,ln){if(typeof sn=="string"&&sn.startsWith("var(--"))return sn;const{r:cn,g:dn,b:pn,a:vn}=toRgba(sn),Sn=1-ln,En=Cn=>Math.round(Cn*Sn);return`rgba(${En(cn)}, ${En(dn)}, ${En(pn)}, ${vn})`}function lighten(sn,ln){if(typeof sn=="string"&&sn.startsWith("var(--"))return sn;const{r:cn,g:dn,b:pn,a:vn}=toRgba(sn),Sn=En=>Math.round(En+(255-En)*ln);return`rgba(${Sn(cn)}, ${Sn(dn)}, ${Sn(pn)}, ${vn})`}function radius(sn){return ln=>{if(typeof ln=="number")return rem(ln);const cn=typeof sn.defaultRadius=="number"?sn.defaultRadius:sn.radius[sn.defaultRadius]||sn.defaultRadius;return sn.radius[ln]||ln||cn}}function getColorIndexInfo(sn,ln){if(typeof sn=="string"&&sn.includes(".")){const[cn,dn]=sn.split("."),pn=parseInt(dn,10);if(cn in ln.colors&&pn>=0&&pn<10)return{isSplittedColor:!0,key:cn,shade:pn}}return{isSplittedColor:!1}}function variant(sn){const ln=themeColor(sn),cn=primaryShade(sn),dn=gradient(sn);return({variant:pn,color:vn,gradient:Sn,primaryFallback:En})=>{const Cn=getColorIndexInfo(vn,sn);switch(pn){case"light":return{border:"transparent",background:rgba(ln(vn,sn.colorScheme==="dark"?8:0,En,!1),sn.colorScheme==="dark"?.2:1),color:vn==="dark"?sn.colorScheme==="dark"?sn.colors.dark[0]:sn.colors.dark[9]:ln(vn,sn.colorScheme==="dark"?2:cn("light")),hover:rgba(ln(vn,sn.colorScheme==="dark"?7:1,En,!1),sn.colorScheme==="dark"?.25:.65)};case"subtle":return{border:"transparent",background:"transparent",color:vn==="dark"?sn.colorScheme==="dark"?sn.colors.dark[0]:sn.colors.dark[9]:ln(vn,sn.colorScheme==="dark"?2:cn("light")),hover:rgba(ln(vn,sn.colorScheme==="dark"?8:0,En,!1),sn.colorScheme==="dark"?.2:1)};case"outline":return{border:ln(vn,sn.colorScheme==="dark"?5:cn("light")),background:"transparent",color:ln(vn,sn.colorScheme==="dark"?5:cn("light")),hover:sn.colorScheme==="dark"?rgba(ln(vn,5,En,!1),.05):rgba(ln(vn,0,En,!1),.35)};case"default":return{border:sn.colorScheme==="dark"?sn.colors.dark[4]:sn.colors.gray[4],background:sn.colorScheme==="dark"?sn.colors.dark[6]:sn.white,color:sn.colorScheme==="dark"?sn.white:sn.black,hover:sn.colorScheme==="dark"?sn.colors.dark[5]:sn.colors.gray[0]};case"white":return{border:"transparent",background:sn.white,color:ln(vn,cn()),hover:null};case"transparent":return{border:"transparent",color:vn==="dark"?sn.colorScheme==="dark"?sn.colors.dark[0]:sn.colors.dark[9]:ln(vn,sn.colorScheme==="dark"?2:cn("light")),background:"transparent",hover:null};case"gradient":return{background:dn(Sn),color:sn.white,border:"transparent",hover:null};default:{const Pn=cn(),Rn=Cn.isSplittedColor?Cn.shade:Pn,Ln=Cn.isSplittedColor?Cn.key:vn;return{border:"transparent",background:ln(Ln,Rn,En),color:sn.white,hover:ln(Ln,Rn===9?8:Rn+1)}}}}}function primaryColor(sn){return ln=>{const cn=primaryShade(sn)(ln);return sn.colors[sn.primaryColor][cn]}}function hover(sn){return{"@media (hover: hover)":{"&:hover":sn},"@media (hover: none)":{"&:active":sn}}}function placeholderStyles(sn){return()=>({userSelect:"none",color:sn.colorScheme==="dark"?sn.colors.dark[3]:sn.colors.gray[5]})}function dimmed(sn){return()=>sn.colorScheme==="dark"?sn.colors.dark[2]:sn.colors.gray[6]}const fns={fontStyles,themeColor,focusStyles,linearGradient,radialGradient,smallerThan,largerThan,rgba,cover,darken,lighten,radius,variant,primaryShade,hover,gradient,primaryColor,placeholderStyles,dimmed};var __defProp$p=Object.defineProperty,__defProps$5=Object.defineProperties,__getOwnPropDescs$5=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$q=Object.getOwnPropertySymbols,__hasOwnProp$q=Object.prototype.hasOwnProperty,__propIsEnum$q=Object.prototype.propertyIsEnumerable,__defNormalProp$p=(sn,ln,cn)=>ln in sn?__defProp$p(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$p=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$q.call(ln,cn)&&__defNormalProp$p(sn,cn,ln[cn]);if(__getOwnPropSymbols$q)for(var cn of __getOwnPropSymbols$q(ln))__propIsEnum$q.call(ln,cn)&&__defNormalProp$p(sn,cn,ln[cn]);return sn},__spreadProps$5=(sn,ln)=>__defProps$5(sn,__getOwnPropDescs$5(ln));function attachFunctions(sn){return __spreadProps$5(__spreadValues$p({},sn),{fn:{fontStyles:fns.fontStyles(sn),themeColor:fns.themeColor(sn),focusStyles:fns.focusStyles(sn),largerThan:fns.largerThan(sn),smallerThan:fns.smallerThan(sn),radialGradient:fns.radialGradient,linearGradient:fns.linearGradient,gradient:fns.gradient(sn),rgba:fns.rgba,cover:fns.cover,lighten:fns.lighten,darken:fns.darken,primaryShade:fns.primaryShade(sn),radius:fns.radius(sn),variant:fns.variant(sn),hover:fns.hover,primaryColor:fns.primaryColor(sn),placeholderStyles:fns.placeholderStyles(sn),dimmed:fns.dimmed(sn)}})}const MANTINE_COLORS=Object.keys(DEFAULT_COLORS),_DEFAULT_THEME={dir:"ltr",primaryShade:{light:6,dark:8},focusRing:"auto",loader:"oval",colorScheme:"light",white:"#fff",black:"#000",defaultRadius:"sm",transitionTimingFunction:"ease",colors:DEFAULT_COLORS,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",respectReducedMotion:!0,cursorType:"default",defaultGradient:{from:"indigo",to:"cyan",deg:45},shadows:{xs:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), 0 0.0625rem 0.125rem rgba(0, 0, 0, 0.1)",sm:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 0.625rem 0.9375rem -0.3125rem, rgba(0, 0, 0, 0.04) 0 0.4375rem 0.4375rem -0.3125rem",md:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 1.25rem 1.5625rem -0.3125rem, rgba(0, 0, 0, 0.04) 0 0.625rem 0.625rem -0.3125rem",lg:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 1.75rem 1.4375rem -0.4375rem, rgba(0, 0, 0, 0.04) 0 0.75rem 0.75rem -0.4375rem",xl:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 2.25rem 1.75rem -0.4375rem, rgba(0, 0, 0, 0.04) 0 1.0625rem 1.0625rem -0.4375rem"},fontSizes:{xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem"},radius:{xs:"0.125rem",sm:"0.25rem",md:"0.5rem",lg:"1rem",xl:"2rem"},spacing:{xs:"0.625rem",sm:"0.75rem",md:"1rem",lg:"1.25rem",xl:"1.5rem"},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:"2.125rem",lineHeight:1.3,fontWeight:void 0},h2:{fontSize:"1.625rem",lineHeight:1.35,fontWeight:void 0},h3:{fontSize:"1.375rem",lineHeight:1.4,fontWeight:void 0},h4:{fontSize:"1.125rem",lineHeight:1.45,fontWeight:void 0},h5:{fontSize:"1rem",lineHeight:1.5,fontWeight:void 0},h6:{fontSize:"0.875rem",lineHeight:1.5,fontWeight:void 0}}},other:{},components:{},activeStyles:{transform:"translateY(0.0625rem)"},datesLocale:"en",globalStyles:void 0,focusRingStyles:{styles:sn=>({outlineOffset:"0.125rem",outline:`0.125rem solid ${sn.colors[sn.primaryColor][sn.colorScheme==="dark"?7:5]}`}),resetStyles:()=>({outline:"none"}),inputStyles:sn=>({outline:"none",borderColor:sn.colors[sn.primaryColor][typeof sn.primaryShade=="object"?sn.primaryShade[sn.colorScheme]:sn.primaryShade]})}},DEFAULT_THEME=attachFunctions(_DEFAULT_THEME);function filterProps(sn){return Object.keys(sn).reduce((ln,cn)=>(sn[cn]!==void 0&&(ln[cn]=sn[cn]),ln),{})}var __defProp$o=Object.defineProperty,__getOwnPropSymbols$p=Object.getOwnPropertySymbols,__hasOwnProp$p=Object.prototype.hasOwnProperty,__propIsEnum$p=Object.prototype.propertyIsEnumerable,__defNormalProp$o=(sn,ln,cn)=>ln in sn?__defProp$o(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$o=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$p.call(ln,cn)&&__defNormalProp$o(sn,cn,ln[cn]);if(__getOwnPropSymbols$p)for(var cn of __getOwnPropSymbols$p(ln))__propIsEnum$p.call(ln,cn)&&__defNormalProp$o(sn,cn,ln[cn]);return sn};const MantineProviderContext=reactExports.createContext({theme:DEFAULT_THEME});function useMantineTheme(){var sn;return((sn=reactExports.useContext(MantineProviderContext))==null?void 0:sn.theme)||DEFAULT_THEME}function useMantineProviderStyles(sn){const ln=useMantineTheme(),cn=dn=>{var pn,vn,Sn,En;return{styles:((pn=ln.components[dn])==null?void 0:pn.styles)||{},classNames:((vn=ln.components[dn])==null?void 0:vn.classNames)||{},variants:(Sn=ln.components[dn])==null?void 0:Sn.variants,sizes:(En=ln.components[dn])==null?void 0:En.sizes}};return Array.isArray(sn)?sn.map(cn):[cn(sn)]}function useMantineEmotionCache(){var sn;return(sn=reactExports.useContext(MantineProviderContext))==null?void 0:sn.emotionCache}function useComponentDefaultProps(sn,ln,cn){var dn;const pn=useMantineTheme(),vn=(dn=pn.components[sn])==null?void 0:dn.defaultProps,Sn=typeof vn=="function"?vn(pn):vn;return __spreadValues$o(__spreadValues$o(__spreadValues$o({},ln),Sn),filterProps(cn))}function useGuaranteedMemo(sn,ln){const cn=reactExports.useRef();return(!cn.current||ln.length!==cn.current.prevDeps.length||cn.current.prevDeps.map((dn,pn)=>dn===ln[pn]).indexOf(!1)>=0)&&(cn.current={v:sn(),prevDeps:[...ln]}),cn.current.v}const defaultMantineEmotionCache=createCache$1({key:"mantine",prepend:!0});function useEmotionCache(){return useMantineEmotionCache()||defaultMantineEmotionCache}var __defProp$n=Object.defineProperty,__getOwnPropSymbols$o=Object.getOwnPropertySymbols,__hasOwnProp$o=Object.prototype.hasOwnProperty,__propIsEnum$o=Object.prototype.propertyIsEnumerable,__defNormalProp$n=(sn,ln,cn)=>ln in sn?__defProp$n(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$n=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$o.call(ln,cn)&&__defNormalProp$n(sn,cn,ln[cn]);if(__getOwnPropSymbols$o)for(var cn of __getOwnPropSymbols$o(ln))__propIsEnum$o.call(ln,cn)&&__defNormalProp$n(sn,cn,ln[cn]);return sn};const refPropertyName="ref";function getRef(sn){let ln;if(sn.length!==1)return{args:sn,ref:ln};const[cn]=sn;if(!(cn instanceof Object))return{args:sn,ref:ln};if(!(refPropertyName in cn))return{args:sn,ref:ln};ln=cn[refPropertyName];const dn=__spreadValues$n({},cn);return delete dn[refPropertyName],{args:[dn],ref:ln}}const{cssFactory}=(()=>{function sn(cn,dn,pn){const vn=[],Sn=getRegisteredStyles$1(cn,vn,pn);return vn.length<2?pn:Sn+dn(vn)}function ln(cn){const{cache:dn}=cn,pn=(...Sn)=>{const{ref:En,args:Cn}=getRef(Sn),Pn=serializeStyles(Cn,dn.registered);return insertStyles$1(dn,Pn,!1),`${dn.key}-${Pn.name}${En===void 0?"":` ${En}`}`};return{css:pn,cx:(...Sn)=>sn(dn.registered,pn,clsx(Sn))}}return{cssFactory:ln}})();function useCss(){const sn=useEmotionCache();return useGuaranteedMemo(()=>cssFactory({cache:sn}),[sn])}function mergeClassNames({cx:sn,classes:ln,context:cn,classNames:dn,name:pn,cache:vn}){const Sn=cn.reduce((En,Cn)=>(Object.keys(Cn.classNames).forEach(Pn=>{typeof En[Pn]!="string"?En[Pn]=`${Cn.classNames[Pn]}`:En[Pn]=`${En[Pn]} ${Cn.classNames[Pn]}`}),En),{});return Object.keys(ln).reduce((En,Cn)=>(En[Cn]=sn(ln[Cn],Sn[Cn],dn!=null&&dn[Cn],Array.isArray(pn)?pn.filter(Boolean).map(Pn=>`${(vn==null?void 0:vn.key)||"mantine"}-${Pn}-${Cn}`).join(" "):pn?`${(vn==null?void 0:vn.key)||"mantine"}-${pn}-${Cn}`:null),En),{})}var __defProp$m=Object.defineProperty,__getOwnPropSymbols$n=Object.getOwnPropertySymbols,__hasOwnProp$n=Object.prototype.hasOwnProperty,__propIsEnum$n=Object.prototype.propertyIsEnumerable,__defNormalProp$m=(sn,ln,cn)=>ln in sn?__defProp$m(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$m=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$n.call(ln,cn)&&__defNormalProp$m(sn,cn,ln[cn]);if(__getOwnPropSymbols$n)for(var cn of __getOwnPropSymbols$n(ln))__propIsEnum$n.call(ln,cn)&&__defNormalProp$m(sn,cn,ln[cn]);return sn};function assignAccStyles(sn,ln){return ln&&Object.keys(ln).forEach(cn=>{sn[cn]?sn[cn]=__spreadValues$m(__spreadValues$m({},sn[cn]),ln[cn]):sn[cn]=__spreadValues$m({},ln[cn])}),sn}function getStyles(sn,ln,cn,dn){const pn=vn=>typeof vn=="function"?vn(ln,cn||{},dn):vn||{};return Array.isArray(sn)?sn.map(vn=>pn(vn.styles)).reduce((vn,Sn)=>assignAccStyles(vn,Sn),{}):pn(sn)}function getContextVariation({ctx:sn,theme:ln,params:cn,variant:dn,size:pn}){return sn.reduce((vn,Sn)=>(Sn.variants&&dn in Sn.variants&&assignAccStyles(vn,Sn.variants[dn](ln,cn,{variant:dn,size:pn})),Sn.sizes&&pn in Sn.sizes&&assignAccStyles(vn,Sn.sizes[pn](ln,cn,{variant:dn,size:pn})),vn),{})}function createStyles(sn){const ln=typeof sn=="function"?sn:()=>sn;function cn(dn,pn){const vn=useMantineTheme(),Sn=useMantineProviderStyles(pn==null?void 0:pn.name),En=useMantineEmotionCache(),Cn={variant:pn==null?void 0:pn.variant,size:pn==null?void 0:pn.size},{css:Pn,cx:Rn}=useCss(),Ln=ln(vn,dn,Cn),Fn=getStyles(pn==null?void 0:pn.styles,vn,dn,Cn),Gn=getStyles(Sn,vn,dn,Cn),Dn=getContextVariation({ctx:Sn,theme:vn,params:dn,variant:pn==null?void 0:pn.variant,size:pn==null?void 0:pn.size}),Kn=Object.fromEntries(Object.keys(Ln).map(qn=>{const Zn=Rn({[Pn(Ln[qn])]:!(pn!=null&&pn.unstyled)},Pn(Dn[qn]),Pn(Gn[qn]),Pn(Fn[qn]));return[qn,Zn]}));return{classes:mergeClassNames({cx:Rn,classes:Kn,context:Sn,classNames:pn==null?void 0:pn.classNames,name:pn==null?void 0:pn.name,cache:En}),cx:Rn,theme:vn}}return cn}var __getOwnPropSymbols$m=Object.getOwnPropertySymbols,__hasOwnProp$m=Object.prototype.hasOwnProperty,__propIsEnum$m=Object.prototype.propertyIsEnumerable,__objRest$g=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$m.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$m)for(var dn of __getOwnPropSymbols$m(sn))ln.indexOf(dn)<0&&__propIsEnum$m.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};function extractSystemStyles(sn){const ln=sn,{m:cn,mx:dn,my:pn,mt:vn,mb:Sn,ml:En,mr:Cn,p:Pn,px:Rn,py:Ln,pt:Fn,pb:Gn,pl:Dn,pr:Kn,bg:qn,c:Zn,opacity:Yn,ff:Jn,fz:rs,fw:us,lts:as,ta:cs,lh:_s,fs:Es,tt:Qn,td:ms,w:$s,miw:Ms,maw:gs,h:Ss,mih:js,mah:bs,bgsz:Ts,bgp:xs,bgr:zs,bga:Bs,pos:Js,top:tu,left:hs,bottom:lu,right:vu,inset:yu,display:Wu}=ln,Ru=__objRest$g(ln,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:filterProps({m:cn,mx:dn,my:pn,mt:vn,mb:Sn,ml:En,mr:Cn,p:Pn,px:Rn,py:Ln,pt:Fn,pb:Gn,pl:Dn,pr:Kn,bg:qn,c:Zn,opacity:Yn,ff:Jn,fz:rs,fw:us,lts:as,ta:cs,lh:_s,fs:Es,tt:Qn,td:ms,w:$s,miw:Ms,maw:gs,h:Ss,mih:js,mah:bs,bgsz:Ts,bgp:xs,bgr:zs,bga:Bs,pos:Js,top:tu,left:hs,bottom:lu,right:vu,inset:yu,display:Wu}),rest:Ru}}function getSortedKeys(sn,ln){const cn=Object.keys(sn).filter(dn=>dn!=="base").sort((dn,pn)=>getBreakpointValue(getSize({size:dn,sizes:ln.breakpoints}))-getBreakpointValue(getSize({size:pn,sizes:ln.breakpoints})));return"base"in sn?["base",...cn]:cn}function getResponsiveValue({value:sn,theme:ln,getValue:cn,property:dn}){if(sn==null)return;if(typeof sn=="object")return getSortedKeys(sn,ln).reduce((Sn,En)=>{if(En==="base"&&sn.base!==void 0){const Pn=cn(sn.base,ln);return Array.isArray(dn)?(dn.forEach(Rn=>{Sn[Rn]=Pn}),Sn):(Sn[dn]=Pn,Sn)}const Cn=cn(sn[En],ln);return Array.isArray(dn)?(Sn[ln.fn.largerThan(En)]={},dn.forEach(Pn=>{Sn[ln.fn.largerThan(En)][Pn]=Cn}),Sn):(Sn[ln.fn.largerThan(En)]={[dn]:Cn},Sn)},{});const pn=cn(sn,ln);return Array.isArray(dn)?dn.reduce((vn,Sn)=>(vn[Sn]=pn,vn),{}):{[dn]:pn}}function getColorValue(sn,ln){return sn==="dimmed"?ln.colorScheme==="dark"?ln.colors.dark[2]:ln.colors.gray[6]:ln.fn.variant({variant:"filled",color:sn,primaryFallback:!1}).background}function getSizeValue(sn){return rem(sn)}function identity(sn){return sn}function getFontSizeValue(sn,ln){return getSize({size:sn,sizes:ln.fontSizes})}const NEGATIVE_VALUES=["-xs","-sm","-md","-lg","-xl"];function getSpacingValue(sn,ln){return NEGATIVE_VALUES.includes(sn)?`calc(${getSize({size:sn.replace("-",""),sizes:ln.spacing})} * -1)`:getSize({size:sn,sizes:ln.spacing})}const valueGetters={identity,color:getColorValue,size:getSizeValue,fontSize:getFontSizeValue,spacing:getSpacingValue},SYSTEM_PROPS={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"identity",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"identity",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"}};var __defProp$l=Object.defineProperty,__getOwnPropSymbols$l=Object.getOwnPropertySymbols,__hasOwnProp$l=Object.prototype.hasOwnProperty,__propIsEnum$l=Object.prototype.propertyIsEnumerable,__defNormalProp$l=(sn,ln,cn)=>ln in sn?__defProp$l(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$l=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$l.call(ln,cn)&&__defNormalProp$l(sn,cn,ln[cn]);if(__getOwnPropSymbols$l)for(var cn of __getOwnPropSymbols$l(ln))__propIsEnum$l.call(ln,cn)&&__defNormalProp$l(sn,cn,ln[cn]);return sn};function getSystemStyles(sn,ln,cn=SYSTEM_PROPS){return Object.keys(cn).reduce((pn,vn)=>(vn in sn&&sn[vn]!==void 0&&pn.push(getResponsiveValue({value:sn[vn],getValue:valueGetters[cn[vn].type],property:cn[vn].property,theme:ln})),pn),[]).reduce((pn,vn)=>(Object.keys(vn).forEach(Sn=>{typeof vn[Sn]=="object"&&vn[Sn]!==null&&Sn in pn?pn[Sn]=__spreadValues$l(__spreadValues$l({},pn[Sn]),vn[Sn]):pn[Sn]=vn[Sn]}),pn),{})}function extractSx(sn,ln){return typeof sn=="function"?sn(ln):sn}function useSx(sn,ln,cn){const dn=useMantineTheme(),{css:pn,cx:vn}=useCss();return Array.isArray(sn)?vn(cn,pn(getSystemStyles(ln,dn)),sn.map(Sn=>pn(extractSx(Sn,dn)))):vn(cn,pn(extractSx(sn,dn)),pn(getSystemStyles(ln,dn)))}var __defProp$k=Object.defineProperty,__getOwnPropSymbols$k=Object.getOwnPropertySymbols,__hasOwnProp$k=Object.prototype.hasOwnProperty,__propIsEnum$k=Object.prototype.propertyIsEnumerable,__defNormalProp$k=(sn,ln,cn)=>ln in sn?__defProp$k(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$k=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$k.call(ln,cn)&&__defNormalProp$k(sn,cn,ln[cn]);if(__getOwnPropSymbols$k)for(var cn of __getOwnPropSymbols$k(ln))__propIsEnum$k.call(ln,cn)&&__defNormalProp$k(sn,cn,ln[cn]);return sn},__objRest$f=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$k.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$k)for(var dn of __getOwnPropSymbols$k(sn))ln.indexOf(dn)<0&&__propIsEnum$k.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const _Box=reactExports.forwardRef((sn,ln)=>{var cn=sn,{className:dn,component:pn,style:vn,sx:Sn}=cn,En=__objRest$f(cn,["className","component","style","sx"]);const{systemStyles:Cn,rest:Pn}=extractSystemStyles(En);return jsx$1(pn||"div",{...__spreadValues$k({ref:ln,className:useSx(Sn,Cn,dn),style:vn},Pn)})});_Box.displayName="@mantine/core/Box";const Box=_Box;var __defProp$j=Object.defineProperty,__defProps$4=Object.defineProperties,__getOwnPropDescs$4=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$j=Object.getOwnPropertySymbols,__hasOwnProp$j=Object.prototype.hasOwnProperty,__propIsEnum$j=Object.prototype.propertyIsEnumerable,__defNormalProp$j=(sn,ln,cn)=>ln in sn?__defProp$j(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$j=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$j.call(ln,cn)&&__defNormalProp$j(sn,cn,ln[cn]);if(__getOwnPropSymbols$j)for(var cn of __getOwnPropSymbols$j(ln))__propIsEnum$j.call(ln,cn)&&__defNormalProp$j(sn,cn,ln[cn]);return sn},__spreadProps$4=(sn,ln)=>__defProps$4(sn,__getOwnPropDescs$4(ln)),useStyles$g=createStyles(sn=>({root:__spreadProps$4(__spreadValues$j(__spreadValues$j({},sn.fn.focusStyles()),sn.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:sn.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:sn.colorScheme==="dark"?sn.colors.dark[0]:sn.black,textDecoration:"none",boxSizing:"border-box"})}));const useStyles$h=useStyles$g;var __defProp$i=Object.defineProperty,__getOwnPropSymbols$i=Object.getOwnPropertySymbols,__hasOwnProp$i=Object.prototype.hasOwnProperty,__propIsEnum$i=Object.prototype.propertyIsEnumerable,__defNormalProp$i=(sn,ln,cn)=>ln in sn?__defProp$i(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$i=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$i.call(ln,cn)&&__defNormalProp$i(sn,cn,ln[cn]);if(__getOwnPropSymbols$i)for(var cn of __getOwnPropSymbols$i(ln))__propIsEnum$i.call(ln,cn)&&__defNormalProp$i(sn,cn,ln[cn]);return sn},__objRest$e=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$i.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$i)for(var dn of __getOwnPropSymbols$i(sn))ln.indexOf(dn)<0&&__propIsEnum$i.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const _UnstyledButton=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps("UnstyledButton",{},sn),{className:dn,component:pn="button",unstyled:vn,variant:Sn}=cn,En=__objRest$e(cn,["className","component","unstyled","variant"]),{classes:Cn,cx:Pn}=useStyles$h(null,{name:"UnstyledButton",unstyled:vn,variant:Sn});return jsx$1(Box,{...__spreadValues$i({component:pn,ref:ln,className:Pn(Cn.root,dn),type:pn==="button"?"button":void 0},En)})});_UnstyledButton.displayName="@mantine/core/UnstyledButton";const UnstyledButton=_UnstyledButton;var __defProp$h=Object.defineProperty,__defProps$3=Object.defineProperties,__getOwnPropDescs$3=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$h=Object.getOwnPropertySymbols,__hasOwnProp$h=Object.prototype.hasOwnProperty,__propIsEnum$h=Object.prototype.propertyIsEnumerable,__defNormalProp$h=(sn,ln,cn)=>ln in sn?__defProp$h(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$h=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$h.call(ln,cn)&&__defNormalProp$h(sn,cn,ln[cn]);if(__getOwnPropSymbols$h)for(var cn of __getOwnPropSymbols$h(ln))__propIsEnum$h.call(ln,cn)&&__defNormalProp$h(sn,cn,ln[cn]);return sn},__spreadProps$3=(sn,ln)=>__defProps$3(sn,__getOwnPropDescs$3(ln));const ACTION_ICON_VARIANTS=["subtle","filled","outline","light","default","transparent","gradient"],sizes$4={xs:rem(18),sm:rem(22),md:rem(28),lg:rem(34),xl:rem(44)};function getVariantStyles$2({variant:sn,theme:ln,color:cn,gradient:dn}){const pn=ln.fn.variant({color:cn,variant:sn,gradient:dn});return sn==="gradient"?{border:0,backgroundImage:pn.background,color:pn.color,"&:hover":ln.fn.hover({backgroundSize:"200%"})}:ACTION_ICON_VARIANTS.includes(sn)?__spreadValues$h({border:`${rem(1)} solid ${pn.border}`,backgroundColor:pn.background,color:pn.color},ln.fn.hover({backgroundColor:pn.hover})):null}var useStyles$e=createStyles((sn,{radius:ln,color:cn,gradient:dn},{variant:pn,size:vn})=>({root:__spreadProps$3(__spreadValues$h({position:"relative",borderRadius:sn.fn.radius(ln),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center",height:getSize({size:vn,sizes:sizes$4}),minHeight:getSize({size:vn,sizes:sizes$4}),width:getSize({size:vn,sizes:sizes$4}),minWidth:getSize({size:vn,sizes:sizes$4})},getVariantStyles$2({variant:pn,theme:sn,color:cn,gradient:dn})),{"&:active":sn.activeStyles,"& [data-action-icon-loader]":{maxWidth:"70%"},"&:disabled, &[data-disabled]":{color:sn.colors.gray[sn.colorScheme==="dark"?6:4],cursor:"not-allowed",backgroundColor:pn==="transparent"?void 0:sn.fn.themeColor("gray",sn.colorScheme==="dark"?8:1),borderColor:pn==="transparent"?void 0:sn.fn.themeColor("gray",sn.colorScheme==="dark"?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":__spreadProps$3(__spreadValues$h({content:'""'},sn.fn.cover(rem(-1))),{backgroundColor:sn.colorScheme==="dark"?sn.fn.rgba(sn.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:sn.fn.radius(ln),cursor:"not-allowed"})}})}));const useStyles$f=useStyles$e;var __defProp$g=Object.defineProperty,__getOwnPropSymbols$g=Object.getOwnPropertySymbols,__hasOwnProp$g=Object.prototype.hasOwnProperty,__propIsEnum$g=Object.prototype.propertyIsEnumerable,__defNormalProp$g=(sn,ln,cn)=>ln in sn?__defProp$g(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$g=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$g.call(ln,cn)&&__defNormalProp$g(sn,cn,ln[cn]);if(__getOwnPropSymbols$g)for(var cn of __getOwnPropSymbols$g(ln))__propIsEnum$g.call(ln,cn)&&__defNormalProp$g(sn,cn,ln[cn]);return sn},__objRest$d=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$g.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$g)for(var dn of __getOwnPropSymbols$g(sn))ln.indexOf(dn)<0&&__propIsEnum$g.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};function Bars(sn){var ln=sn,{size:cn,color:dn}=ln,pn=__objRest$d(ln,["size","color"]);const vn=pn,{style:Sn}=vn,En=__objRest$d(vn,["style"]);return jsxs$1("svg",{...__spreadValues$g({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:dn,style:__spreadValues$g({width:cn},Sn)},En),children:[jsxs$1("rect",{y:"10",width:"15",height:"120",rx:"6",children:[jsx$1("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),jsx$1("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]}),jsxs$1("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6",children:[jsx$1("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),jsx$1("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]}),jsxs$1("rect",{x:"60",width:"15",height:"140",rx:"6",children:[jsx$1("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),jsx$1("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]}),jsxs$1("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6",children:[jsx$1("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),jsx$1("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]}),jsxs$1("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6",children:[jsx$1("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),jsx$1("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]})]})}var __defProp$f=Object.defineProperty,__getOwnPropSymbols$f=Object.getOwnPropertySymbols,__hasOwnProp$f=Object.prototype.hasOwnProperty,__propIsEnum$f=Object.prototype.propertyIsEnumerable,__defNormalProp$f=(sn,ln,cn)=>ln in sn?__defProp$f(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$f=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$f.call(ln,cn)&&__defNormalProp$f(sn,cn,ln[cn]);if(__getOwnPropSymbols$f)for(var cn of __getOwnPropSymbols$f(ln))__propIsEnum$f.call(ln,cn)&&__defNormalProp$f(sn,cn,ln[cn]);return sn},__objRest$c=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$f.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$f)for(var dn of __getOwnPropSymbols$f(sn))ln.indexOf(dn)<0&&__propIsEnum$f.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};function Oval(sn){var ln=sn,{size:cn,color:dn}=ln,pn=__objRest$c(ln,["size","color"]);const vn=pn,{style:Sn}=vn,En=__objRest$c(vn,["style"]);return jsx$1("svg",{...__spreadValues$f({viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:dn,style:__spreadValues$f({width:cn,height:cn},Sn)},En),children:jsx$1("g",{fill:"none",fillRule:"evenodd",children:jsxs$1("g",{transform:"translate(2.5 2.5)",strokeWidth:"5",children:[jsx$1("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),jsx$1("path",{d:"M32 16c0-9.94-8.06-16-16-16",children:jsx$1("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})})]})})})}var __defProp$e=Object.defineProperty,__getOwnPropSymbols$e=Object.getOwnPropertySymbols,__hasOwnProp$e=Object.prototype.hasOwnProperty,__propIsEnum$e=Object.prototype.propertyIsEnumerable,__defNormalProp$e=(sn,ln,cn)=>ln in sn?__defProp$e(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$e=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$e.call(ln,cn)&&__defNormalProp$e(sn,cn,ln[cn]);if(__getOwnPropSymbols$e)for(var cn of __getOwnPropSymbols$e(ln))__propIsEnum$e.call(ln,cn)&&__defNormalProp$e(sn,cn,ln[cn]);return sn},__objRest$b=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$e.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$e)for(var dn of __getOwnPropSymbols$e(sn))ln.indexOf(dn)<0&&__propIsEnum$e.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};function Dots(sn){var ln=sn,{size:cn,color:dn}=ln,pn=__objRest$b(ln,["size","color"]);const vn=pn,{style:Sn}=vn,En=__objRest$b(vn,["style"]);return jsxs$1("svg",{...__spreadValues$e({viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:dn,style:__spreadValues$e({width:cn},Sn)},En),children:[jsxs$1("circle",{cx:"15",cy:"15",r:"15",children:[jsx$1("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),jsx$1("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]}),jsxs$1("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3",children:[jsx$1("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),jsx$1("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})]}),jsxs$1("circle",{cx:"105",cy:"15",r:"15",children:[jsx$1("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),jsx$1("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]})]})}var __defProp$d=Object.defineProperty,__getOwnPropSymbols$d=Object.getOwnPropertySymbols,__hasOwnProp$d=Object.prototype.hasOwnProperty,__propIsEnum$d=Object.prototype.propertyIsEnumerable,__defNormalProp$d=(sn,ln,cn)=>ln in sn?__defProp$d(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$d=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$d.call(ln,cn)&&__defNormalProp$d(sn,cn,ln[cn]);if(__getOwnPropSymbols$d)for(var cn of __getOwnPropSymbols$d(ln))__propIsEnum$d.call(ln,cn)&&__defNormalProp$d(sn,cn,ln[cn]);return sn},__objRest$a=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$d.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$d)for(var dn of __getOwnPropSymbols$d(sn))ln.indexOf(dn)<0&&__propIsEnum$d.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const LOADERS={bars:Bars,oval:Oval,dots:Dots},sizes$3={xs:rem(18),sm:rem(22),md:rem(36),lg:rem(44),xl:rem(58)},defaultProps$9={size:"md"};function Loader(sn){const ln=useComponentDefaultProps("Loader",defaultProps$9,sn),{size:cn,color:dn,variant:pn}=ln,vn=__objRest$a(ln,["size","color","variant"]),Sn=useMantineTheme(),En=pn in LOADERS?pn:Sn.loader;return jsx$1(Box,{...__spreadValues$d({role:"presentation",component:LOADERS[En]||LOADERS.bars,size:getSize({size:cn,sizes:sizes$3}),color:Sn.fn.variant({variant:"filled",primaryFallback:!1,color:dn||Sn.primaryColor}).background},vn)})}Loader.displayName="@mantine/core/Loader";var __defProp$c=Object.defineProperty,__getOwnPropSymbols$c=Object.getOwnPropertySymbols,__hasOwnProp$c=Object.prototype.hasOwnProperty,__propIsEnum$c=Object.prototype.propertyIsEnumerable,__defNormalProp$c=(sn,ln,cn)=>ln in sn?__defProp$c(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$c=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$c.call(ln,cn)&&__defNormalProp$c(sn,cn,ln[cn]);if(__getOwnPropSymbols$c)for(var cn of __getOwnPropSymbols$c(ln))__propIsEnum$c.call(ln,cn)&&__defNormalProp$c(sn,cn,ln[cn]);return sn},__objRest$9=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$c.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$c)for(var dn of __getOwnPropSymbols$c(sn))ln.indexOf(dn)<0&&__propIsEnum$c.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$8={color:"gray",size:"md",variant:"subtle"},_ActionIcon=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps("ActionIcon",defaultProps$8,sn),{className:dn,color:pn,children:vn,radius:Sn,size:En,variant:Cn,gradient:Pn,disabled:Rn,loaderProps:Ln,loading:Fn,unstyled:Gn,__staticSelector:Dn}=cn,Kn=__objRest$9(cn,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled","__staticSelector"]),{classes:qn,cx:Zn,theme:Yn}=useStyles$f({radius:Sn,color:pn,gradient:Pn},{name:["ActionIcon",Dn],unstyled:Gn,size:En,variant:Cn}),Jn=jsx$1(Loader,{...__spreadValues$c({color:Yn.fn.variant({color:pn,variant:Cn}).color,size:"100%","data-action-icon-loader":!0},Ln)});return jsx$1(UnstyledButton,{...__spreadValues$c({className:Zn(qn.root,dn),ref:ln,disabled:Rn,"data-disabled":Rn||void 0,"data-loading":Fn||void 0,unstyled:Gn},Kn),children:Fn?Jn:vn})});_ActionIcon.displayName="@mantine/core/ActionIcon";const ActionIcon=_ActionIcon;var __defProp$b=Object.defineProperty,__getOwnPropSymbols$b=Object.getOwnPropertySymbols,__hasOwnProp$b=Object.prototype.hasOwnProperty,__propIsEnum$b=Object.prototype.propertyIsEnumerable,__defNormalProp$b=(sn,ln,cn)=>ln in sn?__defProp$b(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$b=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$b.call(ln,cn)&&__defNormalProp$b(sn,cn,ln[cn]);if(__getOwnPropSymbols$b)for(var cn of __getOwnPropSymbols$b(ln))__propIsEnum$b.call(ln,cn)&&__defNormalProp$b(sn,cn,ln[cn]);return sn},__objRest$8=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$b.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$b)for(var dn of __getOwnPropSymbols$b(sn))ln.indexOf(dn)<0&&__propIsEnum$b.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};function CloseIcon(sn){const ln=sn,{width:cn,height:dn,style:pn}=ln,vn=__objRest$8(ln,["width","height","style"]);return jsx$1("svg",{...__spreadValues$b({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:__spreadValues$b({width:cn,height:dn},pn)},vn),children:jsx$1("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}CloseIcon.displayName="@mantine/core/CloseIcon";var __defProp$a=Object.defineProperty,__getOwnPropSymbols$a=Object.getOwnPropertySymbols,__hasOwnProp$a=Object.prototype.hasOwnProperty,__propIsEnum$a=Object.prototype.propertyIsEnumerable,__defNormalProp$a=(sn,ln,cn)=>ln in sn?__defProp$a(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$a=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$a.call(ln,cn)&&__defNormalProp$a(sn,cn,ln[cn]);if(__getOwnPropSymbols$a)for(var cn of __getOwnPropSymbols$a(ln))__propIsEnum$a.call(ln,cn)&&__defNormalProp$a(sn,cn,ln[cn]);return sn},__objRest$7=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$a.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$a)for(var dn of __getOwnPropSymbols$a(sn))ln.indexOf(dn)<0&&__propIsEnum$a.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const iconSizes={xs:rem(12),sm:rem(16),md:rem(20),lg:rem(28),xl:rem(34)},defaultProps$7={size:"sm"},_CloseButton=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps("CloseButton",defaultProps$7,sn),{iconSize:dn,size:pn,children:vn}=cn,Sn=__objRest$7(cn,["iconSize","size","children"]),En=rem(dn||iconSizes[pn]);return jsx$1(ActionIcon,{...__spreadValues$a({ref:ln,__staticSelector:"CloseButton",size:pn},Sn),children:vn||jsx$1(CloseIcon,{width:En,height:En})})});_CloseButton.displayName="@mantine/core/CloseButton";const CloseButton=_CloseButton;var __defProp$9=Object.defineProperty,__defProps$2=Object.defineProperties,__getOwnPropDescs$2=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$9=Object.getOwnPropertySymbols,__hasOwnProp$9=Object.prototype.hasOwnProperty,__propIsEnum$9=Object.prototype.propertyIsEnumerable,__defNormalProp$9=(sn,ln,cn)=>ln in sn?__defProp$9(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$9=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$9.call(ln,cn)&&__defNormalProp$9(sn,cn,ln[cn]);if(__getOwnPropSymbols$9)for(var cn of __getOwnPropSymbols$9(ln))__propIsEnum$9.call(ln,cn)&&__defNormalProp$9(sn,cn,ln[cn]);return sn},__spreadProps$2=(sn,ln)=>__defProps$2(sn,__getOwnPropDescs$2(ln));function getTextDecoration({underline:sn,strikethrough:ln}){const cn=[];return sn&&cn.push("underline"),ln&&cn.push("line-through"),cn.length>0?cn.join(" "):"none"}function getTextColor({theme:sn,color:ln}){return ln==="dimmed"?sn.fn.dimmed():typeof ln=="string"&&(ln in sn.colors||ln.split(".")[0]in sn.colors)?sn.fn.variant({variant:"filled",color:ln}).background:ln||"inherit"}function getLineClamp(sn){return typeof sn=="number"?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:sn,WebkitBoxOrient:"vertical"}:null}function getTruncate({theme:sn,truncate:ln}){return ln==="start"?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",direction:sn.dir==="ltr"?"rtl":"ltr",textAlign:sn.dir==="ltr"?"right":"left"}:ln?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:null}var useStyles$c=createStyles((sn,{color:ln,lineClamp:cn,truncate:dn,inline:pn,inherit:vn,underline:Sn,gradient:En,weight:Cn,transform:Pn,align:Rn,strikethrough:Ln,italic:Fn},{size:Gn})=>{const Dn=sn.fn.variant({variant:"gradient",gradient:En});return{root:__spreadProps$2(__spreadValues$9(__spreadValues$9(__spreadValues$9(__spreadValues$9({},sn.fn.fontStyles()),sn.fn.focusStyles()),getLineClamp(cn)),getTruncate({theme:sn,truncate:dn})),{color:getTextColor({color:ln,theme:sn}),fontFamily:vn?"inherit":sn.fontFamily,fontSize:vn||Gn===void 0?"inherit":getSize({size:Gn,sizes:sn.fontSizes}),lineHeight:vn?"inherit":pn?1:sn.lineHeight,textDecoration:getTextDecoration({underline:Sn,strikethrough:Ln}),WebkitTapHighlightColor:"transparent",fontWeight:vn?"inherit":Cn,textTransform:Pn,textAlign:Rn,fontStyle:Fn?"italic":void 0}),gradient:{backgroundImage:Dn.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}});const useStyles$d=useStyles$c;var __defProp$8=Object.defineProperty,__getOwnPropSymbols$8=Object.getOwnPropertySymbols,__hasOwnProp$8=Object.prototype.hasOwnProperty,__propIsEnum$8=Object.prototype.propertyIsEnumerable,__defNormalProp$8=(sn,ln,cn)=>ln in sn?__defProp$8(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$8=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$8.call(ln,cn)&&__defNormalProp$8(sn,cn,ln[cn]);if(__getOwnPropSymbols$8)for(var cn of __getOwnPropSymbols$8(ln))__propIsEnum$8.call(ln,cn)&&__defNormalProp$8(sn,cn,ln[cn]);return sn},__objRest$6=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$8.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$8)for(var dn of __getOwnPropSymbols$8(sn))ln.indexOf(dn)<0&&__propIsEnum$8.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$6={variant:"text"},_Text=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps("Text",defaultProps$6,sn),{className:dn,size:pn,weight:vn,transform:Sn,color:En,align:Cn,variant:Pn,lineClamp:Rn,truncate:Ln,gradient:Fn,inline:Gn,inherit:Dn,underline:Kn,strikethrough:qn,italic:Zn,classNames:Yn,styles:Jn,unstyled:rs,span:us,__staticSelector:as}=cn,cs=__objRest$6(cn,["className","size","weight","transform","color","align","variant","lineClamp","truncate","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span","__staticSelector"]),{classes:_s,cx:Es}=useStyles$d({color:En,lineClamp:Rn,truncate:Ln,inline:Gn,inherit:Dn,underline:Kn,strikethrough:qn,italic:Zn,weight:vn,transform:Sn,align:Cn,gradient:Fn},{unstyled:rs,name:as||"Text",variant:Pn,size:pn});return jsx$1(Box,{...__spreadValues$8({ref:ln,className:Es(_s.root,{[_s.gradient]:Pn==="gradient"},dn),component:us?"span":"div"},cs)})});_Text.displayName="@mantine/core/Text";const Text=_Text,sizes$2={xs:rem(30),sm:rem(36),md:rem(42),lg:rem(50),xl:rem(60)};var __defProp$7=Object.defineProperty,__defProps$1=Object.defineProperties,__getOwnPropDescs$1=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$7=Object.getOwnPropertySymbols,__hasOwnProp$7=Object.prototype.hasOwnProperty,__propIsEnum$7=Object.prototype.propertyIsEnumerable,__defNormalProp$7=(sn,ln,cn)=>ln in sn?__defProp$7(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$7=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$7.call(ln,cn)&&__defNormalProp$7(sn,cn,ln[cn]);if(__getOwnPropSymbols$7)for(var cn of __getOwnPropSymbols$7(ln))__propIsEnum$7.call(ln,cn)&&__defNormalProp$7(sn,cn,ln[cn]);return sn},__spreadProps$1=(sn,ln)=>__defProps$1(sn,__getOwnPropDescs$1(ln));const BADGE_VARIANTS=["light","filled","outline","dot","gradient"],sizes$1={xs:{fontSize:rem(9),height:rem(16)},sm:{fontSize:rem(10),height:rem(18)},md:{fontSize:rem(11),height:rem(20)},lg:{fontSize:rem(13),height:rem(26)},xl:{fontSize:rem(16),height:rem(32)}},dotSizes={xs:rem(4),sm:rem(4),md:rem(6),lg:rem(8),xl:rem(10)};function getVariantStyles$1({theme:sn,variant:ln,color:cn,size:dn,gradient:pn}){if(!BADGE_VARIANTS.includes(ln))return null;if(ln==="dot"){const Sn=getSize({size:dn,sizes:dotSizes});return{backgroundColor:"transparent",color:sn.colorScheme==="dark"?sn.colors.dark[0]:sn.colors.gray[7],border:`${rem(1)} solid ${sn.colorScheme==="dark"?sn.colors.dark[3]:sn.colors.gray[3]}`,paddingLeft:`calc(${getSize({size:dn,sizes:sn.spacing})} / 1.5 - ${Sn} / 2)`,"&::before":{content:'""',display:"block",width:Sn,height:Sn,borderRadius:Sn,backgroundColor:sn.fn.themeColor(cn,sn.colorScheme==="dark"?4:sn.fn.primaryShade("light"),!0),marginRight:Sn}}}const vn=sn.fn.variant({color:cn,variant:ln,gradient:pn});return{background:vn.background,color:vn.color,border:`${rem(ln==="gradient"?0:1)} solid ${vn.border}`}}var useStyles$a=createStyles((sn,{color:ln,radius:cn,gradient:dn,fullWidth:pn},{variant:vn,size:Sn})=>{const{fontSize:En,height:Cn}=Sn in sizes$1?sizes$1[Sn]:sizes$1.md;return{leftSection:{marginRight:`calc(${sn.spacing.xs} / 2)`},rightSection:{marginLeft:`calc(${sn.spacing.xs} / 2)`},inner:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},root:__spreadValues$7(__spreadProps$1(__spreadValues$7(__spreadValues$7({},sn.fn.focusStyles()),sn.fn.fontStyles()),{fontSize:En,height:Cn,WebkitTapHighlightColor:"transparent",lineHeight:`calc(${Cn} - ${rem(2)})`,textDecoration:"none",padding:`0 calc(${getSize({size:Sn,sizes:sn.spacing})} / 1.5)`,boxSizing:"border-box",display:pn?"flex":"inline-flex",alignItems:"center",justifyContent:"center",width:pn?"100%":"auto",textTransform:"uppercase",borderRadius:sn.fn.radius(cn),fontWeight:700,letterSpacing:rem(.25),cursor:"inherit",textOverflow:"ellipsis",overflow:"hidden"}),getVariantStyles$1({theme:sn,variant:vn,color:ln,size:Sn,gradient:dn}))}});const useStyles$b=useStyles$a;var __defProp$6=Object.defineProperty,__getOwnPropSymbols$6=Object.getOwnPropertySymbols,__hasOwnProp$6=Object.prototype.hasOwnProperty,__propIsEnum$6=Object.prototype.propertyIsEnumerable,__defNormalProp$6=(sn,ln,cn)=>ln in sn?__defProp$6(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$6=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$6.call(ln,cn)&&__defNormalProp$6(sn,cn,ln[cn]);if(__getOwnPropSymbols$6)for(var cn of __getOwnPropSymbols$6(ln))__propIsEnum$6.call(ln,cn)&&__defNormalProp$6(sn,cn,ln[cn]);return sn},__objRest$5=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$6.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$6)for(var dn of __getOwnPropSymbols$6(sn))ln.indexOf(dn)<0&&__propIsEnum$6.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$5={variant:"light",size:"md",radius:"xl"},_Badge=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps("Badge",defaultProps$5,sn),{className:dn,color:pn,variant:vn,fullWidth:Sn,children:En,size:Cn,leftSection:Pn,rightSection:Rn,radius:Ln,gradient:Fn,classNames:Gn,styles:Dn,unstyled:Kn}=cn,qn=__objRest$5(cn,["className","color","variant","fullWidth","children","size","leftSection","rightSection","radius","gradient","classNames","styles","unstyled"]),{classes:Zn,cx:Yn}=useStyles$b({fullWidth:Sn,color:pn,radius:Ln,gradient:Fn},{classNames:Gn,styles:Dn,name:"Badge",unstyled:Kn,variant:vn,size:Cn});return jsxs$1(Box,{...__spreadValues$6({className:Yn(Zn.root,dn),ref:ln},qn),children:[Pn&&jsx$1("span",{className:Zn.leftSection,children:Pn}),jsx$1("span",{className:Zn.inner,children:En}),Rn&&jsx$1("span",{className:Zn.rightSection,children:Rn})]})});_Badge.displayName="@mantine/core/Badge";const Badge=_Badge;var useStyles$8=createStyles((sn,{orientation:ln,buttonBorderWidth:cn})=>({root:{display:"flex",flexDirection:ln==="vertical"?"column":"row","& [data-button]":{"&:first-of-type:not(:last-of-type)":{borderBottomRightRadius:0,[ln==="vertical"?"borderBottomLeftRadius":"borderTopRightRadius"]:0,[ln==="vertical"?"borderBottomWidth":"borderRightWidth"]:`calc(${rem(cn)} / 2)`},"&:last-of-type:not(:first-of-type)":{borderTopLeftRadius:0,[ln==="vertical"?"borderTopRightRadius":"borderBottomLeftRadius"]:0,[ln==="vertical"?"borderTopWidth":"borderLeftWidth"]:`calc(${rem(cn)} / 2)`},"&:not(:first-of-type):not(:last-of-type)":{borderRadius:0,[ln==="vertical"?"borderTopWidth":"borderLeftWidth"]:`calc(${rem(cn)} / 2)`,[ln==="vertical"?"borderBottomWidth":"borderRightWidth"]:`calc(${rem(cn)} / 2)`},"& + [data-button]":{[ln==="vertical"?"marginTop":"marginLeft"]:`calc(${cn} * -1)`,"@media (min-resolution: 192dpi)":{[ln==="vertical"?"marginTop":"marginLeft"]:0}}}}}));const useStyles$9=useStyles$8;var __defProp$5=Object.defineProperty,__getOwnPropSymbols$5=Object.getOwnPropertySymbols,__hasOwnProp$5=Object.prototype.hasOwnProperty,__propIsEnum$5=Object.prototype.propertyIsEnumerable,__defNormalProp$5=(sn,ln,cn)=>ln in sn?__defProp$5(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$5=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$5.call(ln,cn)&&__defNormalProp$5(sn,cn,ln[cn]);if(__getOwnPropSymbols$5)for(var cn of __getOwnPropSymbols$5(ln))__propIsEnum$5.call(ln,cn)&&__defNormalProp$5(sn,cn,ln[cn]);return sn},__objRest$4=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$5.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$5)for(var dn of __getOwnPropSymbols$5(sn))ln.indexOf(dn)<0&&__propIsEnum$5.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$4={orientation:"horizontal",buttonBorderWidth:1},ButtonGroup=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps("ButtonGroup",defaultProps$4,sn),{className:dn,orientation:pn,buttonBorderWidth:vn,unstyled:Sn}=cn,En=__objRest$4(cn,["className","orientation","buttonBorderWidth","unstyled"]),{classes:Cn,cx:Pn}=useStyles$9({orientation:pn,buttonBorderWidth:vn},{name:"ButtonGroup",unstyled:Sn});return jsx$1(Box,{...__spreadValues$5({className:Pn(Cn.root,dn),ref:ln},En)})});ButtonGroup.displayName="@mantine/core/ButtonGroup";var __defProp$4=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$4=Object.getOwnPropertySymbols,__hasOwnProp$4=Object.prototype.hasOwnProperty,__propIsEnum$4=Object.prototype.propertyIsEnumerable,__defNormalProp$4=(sn,ln,cn)=>ln in sn?__defProp$4(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$4=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$4.call(ln,cn)&&__defNormalProp$4(sn,cn,ln[cn]);if(__getOwnPropSymbols$4)for(var cn of __getOwnPropSymbols$4(ln))__propIsEnum$4.call(ln,cn)&&__defNormalProp$4(sn,cn,ln[cn]);return sn},__spreadProps=(sn,ln)=>__defProps(sn,__getOwnPropDescs(ln));const BUTTON_VARIANTS=["filled","outline","light","white","default","subtle","gradient"],sizes={xs:{height:sizes$2.xs,paddingLeft:rem(14),paddingRight:rem(14)},sm:{height:sizes$2.sm,paddingLeft:rem(18),paddingRight:rem(18)},md:{height:sizes$2.md,paddingLeft:rem(22),paddingRight:rem(22)},lg:{height:sizes$2.lg,paddingLeft:rem(26),paddingRight:rem(26)},xl:{height:sizes$2.xl,paddingLeft:rem(32),paddingRight:rem(32)},"compact-xs":{height:rem(22),paddingLeft:rem(7),paddingRight:rem(7)},"compact-sm":{height:rem(26),paddingLeft:rem(8),paddingRight:rem(8)},"compact-md":{height:rem(30),paddingLeft:rem(10),paddingRight:rem(10)},"compact-lg":{height:rem(34),paddingLeft:rem(12),paddingRight:rem(12)},"compact-xl":{height:rem(40),paddingLeft:rem(14),paddingRight:rem(14)}};function getSizeStyles({compact:sn,size:ln,withLeftIcon:cn,withRightIcon:dn}){if(sn)return sizes[`compact-${ln}`];const pn=sizes[ln];return pn?__spreadProps(__spreadValues$4({},pn),{paddingLeft:cn?`calc(${pn.paddingLeft}  / 1.5)`:pn.paddingLeft,paddingRight:dn?`calc(${pn.paddingRight}  / 1.5)`:pn.paddingRight}):{}}const getWidthStyles=sn=>({display:sn?"block":"inline-block",width:sn?"100%":"auto"});function getVariantStyles({variant:sn,theme:ln,color:cn,gradient:dn}){if(!BUTTON_VARIANTS.includes(sn))return null;const pn=ln.fn.variant({color:cn,variant:sn,gradient:dn});return sn==="gradient"?__spreadValues$4({border:0,backgroundImage:pn.background,color:pn.color},ln.fn.hover({backgroundSize:"200%"})):__spreadValues$4({border:`${rem(1)} solid ${pn.border}`,backgroundColor:pn.background,color:pn.color},ln.fn.hover({backgroundColor:pn.hover}))}var useStyles$6=createStyles((sn,{radius:ln,fullWidth:cn,compact:dn,withLeftIcon:pn,withRightIcon:vn,color:Sn,gradient:En},{variant:Cn,size:Pn})=>({root:__spreadProps(__spreadValues$4(__spreadProps(__spreadValues$4(__spreadValues$4(__spreadValues$4(__spreadValues$4({},getSizeStyles({compact:dn,size:Pn,withLeftIcon:pn,withRightIcon:vn})),sn.fn.fontStyles()),sn.fn.focusStyles()),getWidthStyles(cn)),{borderRadius:sn.fn.radius(ln),fontWeight:600,position:"relative",lineHeight:1,fontSize:getSize({size:Pn,sizes:sn.fontSizes}),userSelect:"none",cursor:"pointer"}),getVariantStyles({variant:Cn,theme:sn,color:Sn,gradient:En})),{"&:active":sn.activeStyles,"&:disabled, &[data-disabled]":{borderColor:"transparent",backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[4]:sn.colors.gray[2],color:sn.colorScheme==="dark"?sn.colors.dark[6]:sn.colors.gray[5],cursor:"not-allowed",backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":__spreadProps(__spreadValues$4({content:'""'},sn.fn.cover(rem(-1))),{backgroundColor:sn.colorScheme==="dark"?sn.fn.rgba(sn.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:sn.fn.radius(ln),cursor:"not-allowed"})}}),icon:{display:"flex",alignItems:"center"},leftIcon:{marginRight:sn.spacing.xs},rightIcon:{marginLeft:sn.spacing.xs},centerLoader:{position:"absolute",left:"50%",transform:"translateX(-50%)",opacity:.5},inner:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",overflow:"visible"},label:{whiteSpace:"nowrap",height:"100%",overflow:"hidden",display:"flex",alignItems:"center"}}));const useStyles$7=useStyles$6;var __defProp$3=Object.defineProperty,__getOwnPropSymbols$3=Object.getOwnPropertySymbols,__hasOwnProp$3=Object.prototype.hasOwnProperty,__propIsEnum$3=Object.prototype.propertyIsEnumerable,__defNormalProp$3=(sn,ln,cn)=>ln in sn?__defProp$3(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$3=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$3.call(ln,cn)&&__defNormalProp$3(sn,cn,ln[cn]);if(__getOwnPropSymbols$3)for(var cn of __getOwnPropSymbols$3(ln))__propIsEnum$3.call(ln,cn)&&__defNormalProp$3(sn,cn,ln[cn]);return sn},__objRest$3=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$3.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$3)for(var dn of __getOwnPropSymbols$3(sn))ln.indexOf(dn)<0&&__propIsEnum$3.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$3={size:"sm",type:"button",variant:"filled",loaderPosition:"left"},_Button=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps("Button",defaultProps$3,sn),{className:dn,size:pn,color:vn,type:Sn,disabled:En,children:Cn,leftIcon:Pn,rightIcon:Rn,fullWidth:Ln,variant:Fn,radius:Gn,uppercase:Dn,compact:Kn,loading:qn,loaderPosition:Zn,loaderProps:Yn,gradient:Jn,classNames:rs,styles:us,unstyled:as}=cn,cs=__objRest$3(cn,["className","size","color","type","disabled","children","leftIcon","rightIcon","fullWidth","variant","radius","uppercase","compact","loading","loaderPosition","loaderProps","gradient","classNames","styles","unstyled"]),{classes:_s,cx:Es,theme:Qn}=useStyles$7({radius:Gn,color:vn,fullWidth:Ln,compact:Kn,gradient:Jn,withLeftIcon:!!Pn,withRightIcon:!!Rn},{name:"Button",unstyled:as,classNames:rs,styles:us,variant:Fn,size:pn}),ms=Qn.fn.variant({color:vn,variant:Fn}),$s=jsx$1(Loader,{...__spreadValues$3({color:ms.color,size:`calc(${getSize({size:pn,sizes}).height} / 2)`},Yn)});return jsx$1(UnstyledButton,{...__spreadValues$3({className:Es(_s.root,dn),type:Sn,disabled:En,"data-button":!0,"data-disabled":En||void 0,"data-loading":qn||void 0,ref:ln,unstyled:as},cs),children:jsxs$1("div",{className:_s.inner,children:[(Pn||qn&&Zn==="left")&&jsx$1("span",{className:Es(_s.icon,_s.leftIcon),children:qn&&Zn==="left"?$s:Pn}),qn&&Zn==="center"&&jsx$1("span",{className:_s.centerLoader,children:$s}),jsx$1("span",{className:_s.label,style:{textTransform:Dn?"uppercase":void 0},children:Cn}),(Rn||qn&&Zn==="right")&&jsx$1("span",{className:Es(_s.icon,_s.rightIcon),children:qn&&Zn==="right"?$s:Rn})]})})});_Button.displayName="@mantine/core/Button";_Button.Group=ButtonGroup;const Button=_Button;var useStyles$4=createStyles((sn,{radius:ln,shadow:cn})=>({root:{outline:0,WebkitTapHighlightColor:"transparent",display:"block",textDecoration:"none",color:sn.colorScheme==="dark"?sn.colors.dark[0]:sn.black,backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[7]:sn.white,boxSizing:"border-box",borderRadius:sn.fn.radius(ln),boxShadow:sn.shadows[cn]||cn||"none","&[data-with-border]":{border:`${rem(1)} solid ${sn.colorScheme==="dark"?sn.colors.dark[4]:sn.colors.gray[3]}`}}}));const useStyles$5=useStyles$4;var __defProp$2=Object.defineProperty,__getOwnPropSymbols$2=Object.getOwnPropertySymbols,__hasOwnProp$2=Object.prototype.hasOwnProperty,__propIsEnum$2=Object.prototype.propertyIsEnumerable,__defNormalProp$2=(sn,ln,cn)=>ln in sn?__defProp$2(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$2=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$2.call(ln,cn)&&__defNormalProp$2(sn,cn,ln[cn]);if(__getOwnPropSymbols$2)for(var cn of __getOwnPropSymbols$2(ln))__propIsEnum$2.call(ln,cn)&&__defNormalProp$2(sn,cn,ln[cn]);return sn},__objRest$2=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$2.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$2)for(var dn of __getOwnPropSymbols$2(sn))ln.indexOf(dn)<0&&__propIsEnum$2.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$2={},_Paper=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps("Paper",defaultProps$2,sn),{className:dn,children:pn,radius:vn,withBorder:Sn,shadow:En,unstyled:Cn,variant:Pn}=cn,Rn=__objRest$2(cn,["className","children","radius","withBorder","shadow","unstyled","variant"]),{classes:Ln,cx:Fn}=useStyles$5({radius:vn,shadow:En},{name:"Paper",unstyled:Cn,variant:Pn});return jsx$1(Box,{...__spreadValues$2({className:Fn(Ln.root,dn),"data-with-border":Sn||void 0,ref:ln},Rn),children:pn})});_Paper.displayName="@mantine/core/Paper";const Paper=_Paper,CardContext=reactExports.createContext({padding:0}),CardProvider=CardContext.Provider,useCardPadding=()=>reactExports.useContext(CardContext).padding;var useStyles$2=createStyles((sn,{padding:ln,withBorder:cn,inheritPadding:dn})=>{const pn=getSize({size:ln,sizes:sn.spacing}),vn=`calc(-1 * ${pn})`,Sn=sn.colorScheme==="dark"?sn.colors.dark[4]:sn.colors.gray[3];return{cardSection:{display:"block",marginLeft:vn,marginRight:vn,paddingLeft:dn?pn:void 0,paddingRight:dn?pn:void 0,borderTop:cn?`${rem(1)} solid ${Sn}`:void 0,borderBottom:cn?`${rem(1)} solid ${Sn}`:void 0,"& + &":{borderTop:0},"&[data-first]":{marginTop:vn,borderTop:0,borderBottom:cn?`${rem(1)} solid ${Sn}`:void 0},"&[data-last]":{marginBottom:vn,borderBottom:0}}}});const useStyles$3=useStyles$2;var __defProp$1=Object.defineProperty,__getOwnPropSymbols$1=Object.getOwnPropertySymbols,__hasOwnProp$1=Object.prototype.hasOwnProperty,__propIsEnum$1=Object.prototype.propertyIsEnumerable,__defNormalProp$1=(sn,ln,cn)=>ln in sn?__defProp$1(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues$1=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp$1.call(ln,cn)&&__defNormalProp$1(sn,cn,ln[cn]);if(__getOwnPropSymbols$1)for(var cn of __getOwnPropSymbols$1(ln))__propIsEnum$1.call(ln,cn)&&__defNormalProp$1(sn,cn,ln[cn]);return sn},__objRest$1=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp$1.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols$1)for(var dn of __getOwnPropSymbols$1(sn))ln.indexOf(dn)<0&&__propIsEnum$1.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps$1={withBorder:!1,inheritPadding:!1},_CardSection=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps("CardSection",defaultProps$1,sn),{className:dn,withBorder:pn,inheritPadding:vn,unstyled:Sn,variant:En}=cn,Cn=__objRest$1(cn,["className","withBorder","inheritPadding","unstyled","variant"]),{classes:Pn,cx:Rn}=useStyles$3({padding:useCardPadding(),withBorder:pn,inheritPadding:vn},{name:"Card",unstyled:Sn,variant:En});return jsx$1(Box,{...__spreadValues$1({className:Rn(Pn.cardSection,dn),ref:ln},Cn)})});_CardSection.displayName="@mantine/core/CardSection";const CardSection=_CardSection;var useStyles=createStyles(sn=>({root:{position:"relative",overflow:"hidden",backgroundColor:sn.colorScheme==="dark"?sn.colors.dark[6]:sn.white}}));const useStyles$1=useStyles;var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(sn,ln,cn)=>ln in sn?__defProp(sn,ln,{enumerable:!0,configurable:!0,writable:!0,value:cn}):sn[ln]=cn,__spreadValues=(sn,ln)=>{for(var cn in ln||(ln={}))__hasOwnProp.call(ln,cn)&&__defNormalProp(sn,cn,ln[cn]);if(__getOwnPropSymbols)for(var cn of __getOwnPropSymbols(ln))__propIsEnum.call(ln,cn)&&__defNormalProp(sn,cn,ln[cn]);return sn},__objRest=(sn,ln)=>{var cn={};for(var dn in sn)__hasOwnProp.call(sn,dn)&&ln.indexOf(dn)<0&&(cn[dn]=sn[dn]);if(sn!=null&&__getOwnPropSymbols)for(var dn of __getOwnPropSymbols(sn))ln.indexOf(dn)<0&&__propIsEnum.call(sn,dn)&&(cn[dn]=sn[dn]);return cn};const defaultProps={padding:"md"},_Card=reactExports.forwardRef((sn,ln)=>{const cn=useComponentDefaultProps("Card",defaultProps,sn),{className:dn,padding:pn,radius:vn,children:Sn,unstyled:En,variant:Cn}=cn,Pn=__objRest(cn,["className","padding","radius","children","unstyled","variant"]),{classes:Rn,cx:Ln}=useStyles$1(null,{name:"Card",unstyled:En,variant:Cn}),Fn=reactExports.Children.toArray(Sn),Gn=Fn.map((Dn,Kn)=>typeof Dn=="object"&&Dn&&"type"in Dn&&Dn.type===CardSection?reactExports.cloneElement(Dn,{variant:Cn,padding:pn,"data-first":Kn===0||void 0,"data-last":Kn===Fn.length-1||void 0}):Dn);return jsx$1(CardProvider,{value:{padding:pn},children:jsx$1(Paper,{...__spreadValues({className:Ln(Rn.root,dn),radius:vn,p:pn,ref:ln},Pn),children:Gn})})});_Card.Section=CardSection;_Card.displayName="@mantine/core/Card";const Card=_Card;var y$3={xs:576,sm:768,md:1024,lg:1200,xl:1400},ur$3=typeof global=="object"&&global&&global.Object===Object&&global,Q$4=ur$3,mr$3=typeof self=="object"&&self&&self.Object===Object&&self,dr$3=Q$4||mr$3||Function("return this")(),c$5=dr$3,cr$3=c$5.Symbol,b$4=cr$3,ht$2=Object.prototype,xr$3=ht$2.hasOwnProperty,hr$3=ht$2.toString,W$4=b$4?b$4.toStringTag:void 0;function gr$3(sn){var ln=xr$3.call(sn,W$4),cn=sn[W$4];try{sn[W$4]=void 0;var dn=!0}catch{}var pn=hr$3.call(sn);return dn&&(ln?sn[W$4]=cn:delete sn[W$4]),pn}var gt$3=gr$3,yr$3=Object.prototype,br$3=yr$3.toString;function _r$3(sn){return br$3.call(sn)}var yt$3=_r$3,Tr$2="[object Null]",Sr$2="[object Undefined]",bt$3=b$4?b$4.toStringTag:void 0;function wr$2(sn){return sn==null?sn===void 0?Sr$2:Tr$2:bt$3&&bt$3 in Object(sn)?gt$3(sn):yt$3(sn)}var h$4=wr$2;function vr$2(sn){return sn!=null&&typeof sn=="object"}var x$6=vr$2,Cr$2=Array.isArray,d$6=Cr$2,Tt$2=b$4?b$4.prototype:void 0;Tt$2&&Tt$2.toString;function Mr$3(sn){var ln=typeof sn;return sn!=null&&(ln=="object"||ln=="function")}var u$3=Mr$3;function Er$2(sn){return sn}var Z$3=Er$2,Rr$3="[object AsyncFunction]",Kr$2="[object Function]",Nr$2="[object GeneratorFunction]",Fr$2="[object Proxy]";function Br$2(sn){if(!u$3(sn))return!1;var ln=h$4(sn);return ln==Kr$2||ln==Nr$2||ln==Rr$3||ln==Fr$2}var I$4=Br$2,Xr$2=c$5["__core-js_shared__"],Y$5=Xr$2,Ot$2=function(){var sn=/[^.]+$/.exec(Y$5&&Y$5.keys&&Y$5.keys.IE_PROTO||"");return sn?"Symbol(src)_1."+sn:""}();function $r$2(sn){return!!Ot$2&&Ot$2 in sn}var Pt$2=$r$2,jr$2=Function.prototype,zr$3=jr$2.toString;function Dr$2(sn){if(sn!=null){try{return zr$3.call(sn)}catch{}try{return sn+""}catch{}}return""}var At$3=Dr$2,Wr$2=/[\\^$.*+?()[\]{}|]/g,Gr$2=/^\[object .+?Constructor\]$/,Ur$2=Function.prototype,Hr$2=Object.prototype,qr$2=Ur$2.toString,Vr$2=Hr$2.hasOwnProperty,Qr$2=RegExp("^"+qr$2.call(Vr$2).replace(Wr$2,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Zr$2(sn){if(!u$3(sn)||Pt$2(sn))return!1;var ln=I$4(sn)?Qr$2:Gr$2;return ln.test(At$3(sn))}var Ct$3=Zr$2;function Yr$2(sn,ln){return sn==null?void 0:sn[ln]}var It$3=Yr$2;function Jr$2(sn,ln){var cn=It$3(sn,ln);return Ct$3(cn)?cn:void 0}var M$4=Jr$2,Mt$3=Object.create,Lr$2=function(){function sn(){}return function(ln){if(!u$3(ln))return{};if(Mt$3)return Mt$3(ln);sn.prototype=ln;var cn=new sn;return sn.prototype=void 0,cn}}(),Et$3=Lr$2;function kr$2(sn,ln,cn){switch(cn.length){case 0:return sn.call(ln);case 1:return sn.call(ln,cn[0]);case 2:return sn.call(ln,cn[0],cn[1]);case 3:return sn.call(ln,cn[0],cn[1],cn[2])}return sn.apply(ln,cn)}var Rt$3=kr$2;function to$2(sn,ln){var cn=-1,dn=sn.length;for(ln||(ln=Array(dn));++cn<dn;)ln[cn]=sn[cn];return ln}var Kt$3=to$2,eo$2=800,ro$2=16,oo$2=Date.now;function ao$2(sn){var ln=0,cn=0;return function(){var dn=oo$2(),pn=ro$2-(dn-cn);if(cn=dn,pn>0){if(++ln>=eo$2)return arguments[0]}else ln=0;return sn.apply(void 0,arguments)}}var Nt$3=ao$2;function fo$2(sn){return function(){return sn}}var Ft$3=fo$2,io$2=function(){try{var sn=M$4(Object,"defineProperty");return sn({},"",{}),sn}catch{}}(),E$5=io$2,lo$2=E$5?function(sn,ln){return E$5(sn,"toString",{configurable:!0,enumerable:!1,value:Ft$3(ln),writable:!0})}:Z$3,Bt$3=lo$2,no$2=Nt$3(Bt$3),Xt$3=no$2,so$2=9007199254740991,po$2=/^(?:0|[1-9]\d*)$/;function uo$2(sn,ln){var cn=typeof sn;return ln=ln??so$2,!!ln&&(cn=="number"||cn!="symbol"&&po$2.test(sn))&&sn>-1&&sn%1==0&&sn<ln}var R$5=uo$2;function mo$2(sn,ln,cn){ln=="__proto__"&&E$5?E$5(sn,ln,{configurable:!0,enumerable:!0,value:cn,writable:!0}):sn[ln]=cn}var K$5=mo$2;function co$2(sn,ln){return sn===ln||sn!==sn&&ln!==ln}var T$6=co$2,xo$2=Object.prototype,ho$2=xo$2.hasOwnProperty;function go$2(sn,ln,cn){var dn=sn[ln];(!(ho$2.call(sn,ln)&&T$6(dn,cn))||cn===void 0&&!(ln in sn))&&K$5(sn,ln,cn)}var $t$3=go$2;function yo$2(sn,ln,cn,dn){var pn=!cn;cn||(cn={});for(var vn=-1,Sn=ln.length;++vn<Sn;){var En=ln[vn],Cn=dn?dn(cn[En],sn[En],En,cn,sn):void 0;Cn===void 0&&(Cn=sn[En]),pn?K$5(cn,En,Cn):$t$3(cn,En,Cn)}return cn}var jt$3=yo$2,zt$3=Math.max;function bo$2(sn,ln,cn){return ln=zt$3(ln===void 0?sn.length-1:ln,0),function(){for(var dn=arguments,pn=-1,vn=zt$3(dn.length-ln,0),Sn=Array(vn);++pn<vn;)Sn[pn]=dn[ln+pn];pn=-1;for(var En=Array(ln+1);++pn<ln;)En[pn]=dn[pn];return En[ln]=cn(Sn),Rt$3(sn,this,En)}}var Dt$3=bo$2;function _o$2(sn,ln){return Xt$3(Dt$3(sn,ln,Z$3),sn+"")}var Wt$3=_o$2,To$2=9007199254740991;function So$2(sn){return typeof sn=="number"&&sn>-1&&sn%1==0&&sn<=To$2}var N$7=So$2;function wo$2(sn){return sn!=null&&N$7(sn.length)&&!I$4(sn)}var F$5=wo$2;function vo$2(sn,ln,cn){if(!u$3(cn))return!1;var dn=typeof ln;return(dn=="number"?F$5(cn)&&R$5(ln,cn.length):dn=="string"&&ln in cn)?T$6(cn[ln],sn):!1}var Gt$3=vo$2;function Oo$2(sn){return Wt$3(function(ln,cn){var dn=-1,pn=cn.length,vn=pn>1?cn[pn-1]:void 0,Sn=pn>2?cn[2]:void 0;for(vn=sn.length>3&&typeof vn=="function"?(pn--,vn):void 0,Sn&&Gt$3(cn[0],cn[1],Sn)&&(vn=pn<3?void 0:vn,pn=1),ln=Object(ln);++dn<pn;){var En=cn[dn];En&&sn(ln,En,dn,vn)}return ln})}var Ut$3=Oo$2,Po$2=Object.prototype;function Ao$2(sn){var ln=sn&&sn.constructor,cn=typeof ln=="function"&&ln.prototype||Po$2;return sn===cn}var J$2=Ao$2;function Co$2(sn,ln){for(var cn=-1,dn=Array(sn);++cn<sn;)dn[cn]=ln(cn);return dn}var Ht$3=Co$2,Io$2="[object Arguments]";function Mo$2(sn){return x$6(sn)&&h$4(sn)==Io$2}var it$2=Mo$2,qt$3=Object.prototype,Eo$2=qt$3.hasOwnProperty,Ro$2=qt$3.propertyIsEnumerable,Ko$2=it$2(function(){return arguments}())?it$2:function(sn){return x$6(sn)&&Eo$2.call(sn,"callee")&&!Ro$2.call(sn,"callee")},O$5=Ko$2;function No$2(){return!1}var Vt$3=No$2,Yt$3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Qt$3=Yt$3&&typeof module=="object"&&module&&!module.nodeType&&module,Fo$2=Qt$3&&Qt$3.exports===Yt$3,Zt$3=Fo$2?c$5.Buffer:void 0,Bo$2=Zt$3?Zt$3.isBuffer:void 0,Xo$2=Bo$2||Vt$3,L$5=Xo$2,$o$2="[object Arguments]",jo$2="[object Array]",zo$2="[object Boolean]",Do$2="[object Date]",Wo$2="[object Error]",Go$2="[object Function]",Uo$2="[object Map]",Ho$2="[object Number]",qo$2="[object Object]",Vo$2="[object RegExp]",Qo$2="[object Set]",Zo$2="[object String]",Yo$2="[object WeakMap]",Jo$2="[object ArrayBuffer]",Lo$2="[object DataView]",ko$2="[object Float32Array]",ta$2="[object Float64Array]",ea$2="[object Int8Array]",ra$2="[object Int16Array]",oa$2="[object Int32Array]",aa$2="[object Uint8Array]",fa$2="[object Uint8ClampedArray]",ia$2="[object Uint16Array]",la$2="[object Uint32Array]",s$5={};s$5[ko$2]=s$5[ta$2]=s$5[ea$2]=s$5[ra$2]=s$5[oa$2]=s$5[aa$2]=s$5[fa$2]=s$5[ia$2]=s$5[la$2]=!0;s$5[$o$2]=s$5[jo$2]=s$5[Jo$2]=s$5[zo$2]=s$5[Lo$2]=s$5[Do$2]=s$5[Wo$2]=s$5[Go$2]=s$5[Uo$2]=s$5[Ho$2]=s$5[qo$2]=s$5[Vo$2]=s$5[Qo$2]=s$5[Zo$2]=s$5[Yo$2]=!1;function na$2(sn){return x$6(sn)&&N$7(sn.length)&&!!s$5[h$4(sn)]}var Jt$3=na$2;function sa$2(sn){return function(ln){return sn(ln)}}var Lt$3=sa$2,kt$3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,G$4=kt$3&&typeof module=="object"&&module&&!module.nodeType&&module,pa$2=G$4&&G$4.exports===kt$3,lt$3=pa$2&&Q$4.process,ua$2=function(){try{var sn=G$4&&G$4.require&&G$4.require("util").types;return sn||lt$3&&lt$3.binding&&lt$3.binding("util")}catch{}}(),nt$3=ua$2,te$3=nt$3&&nt$3.isTypedArray,ma$2=te$3?Lt$3(te$3):Jt$3,k$4=ma$2,da$2=Object.prototype,ca$2=da$2.hasOwnProperty;function xa$2(sn,ln){var cn=d$6(sn),dn=!cn&&O$5(sn),pn=!cn&&!dn&&L$5(sn),vn=!cn&&!dn&&!pn&&k$4(sn),Sn=cn||dn||pn||vn,En=Sn?Ht$3(sn.length,String):[],Cn=En.length;for(var Pn in sn)(ln||ca$2.call(sn,Pn))&&!(Sn&&(Pn=="length"||pn&&(Pn=="offset"||Pn=="parent")||vn&&(Pn=="buffer"||Pn=="byteLength"||Pn=="byteOffset")||R$5(Pn,Cn)))&&En.push(Pn);return En}var ee$3=xa$2;function ha$2(sn,ln){return function(cn){return sn(ln(cn))}}var re$3=ha$2;function ga$2(sn){var ln=[];if(sn!=null)for(var cn in Object(sn))ln.push(cn);return ln}var oe$3=ga$2,ya$2=Object.prototype,ba$2=ya$2.hasOwnProperty;function _a$2(sn){if(!u$3(sn))return oe$3(sn);var ln=J$2(sn),cn=[];for(var dn in sn)dn=="constructor"&&(ln||!ba$2.call(sn,dn))||cn.push(dn);return cn}var ae$3=_a$2;function Ta$2(sn){return F$5(sn)?ee$3(sn,!0):ae$3(sn)}var tt$3=Ta$2,Oa$2=M$4(Object,"create"),_$4=Oa$2;function Pa$2(){this.__data__=_$4?_$4(null):{},this.size=0}var ie$2=Pa$2;function Aa$2(sn){var ln=this.has(sn)&&delete this.__data__[sn];return this.size-=ln?1:0,ln}var le$3=Aa$2,Ca$2="__lodash_hash_undefined__",Ia$2=Object.prototype,Ma$2=Ia$2.hasOwnProperty;function Ea$2(sn){var ln=this.__data__;if(_$4){var cn=ln[sn];return cn===Ca$2?void 0:cn}return Ma$2.call(ln,sn)?ln[sn]:void 0}var ne$3=Ea$2,Ra$2=Object.prototype,Ka$1=Ra$2.hasOwnProperty;function Na$1(sn){var ln=this.__data__;return _$4?ln[sn]!==void 0:Ka$1.call(ln,sn)}var se$3=Na$1,Fa$1="__lodash_hash_undefined__";function Ba$2(sn,ln){var cn=this.__data__;return this.size+=this.has(sn)?0:1,cn[sn]=_$4&&ln===void 0?Fa$1:ln,this}var pe$3=Ba$2;function B$4(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}B$4.prototype.clear=ie$2;B$4.prototype.delete=le$3;B$4.prototype.get=ne$3;B$4.prototype.has=se$3;B$4.prototype.set=pe$3;var st$3=B$4;function Xa$1(){this.__data__=[],this.size=0}var ue$3=Xa$1;function $a$1(sn,ln){for(var cn=sn.length;cn--;)if(T$6(sn[cn][0],ln))return cn;return-1}var S$5=$a$1,ja$2=Array.prototype,za$2=ja$2.splice;function Da$2(sn){var ln=this.__data__,cn=S$5(ln,sn);if(cn<0)return!1;var dn=ln.length-1;return cn==dn?ln.pop():za$2.call(ln,cn,1),--this.size,!0}var me$3=Da$2;function Wa$1(sn){var ln=this.__data__,cn=S$5(ln,sn);return cn<0?void 0:ln[cn][1]}var de$3=Wa$1;function Ga$1(sn){return S$5(this.__data__,sn)>-1}var ce$3=Ga$1;function Ua$2(sn,ln){var cn=this.__data__,dn=S$5(cn,sn);return dn<0?(++this.size,cn.push([sn,ln])):cn[dn][1]=ln,this}var xe$3=Ua$2;function X$2(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}X$2.prototype.clear=ue$3;X$2.prototype.delete=me$3;X$2.prototype.get=de$3;X$2.prototype.has=ce$3;X$2.prototype.set=xe$3;var w$5=X$2,Ha$2=M$4(c$5,"Map"),et$3=Ha$2;function qa$2(){this.size=0,this.__data__={hash:new st$3,map:new(et$3||w$5),string:new st$3}}var he$3=qa$2;function Va$2(sn){var ln=typeof sn;return ln=="string"||ln=="number"||ln=="symbol"||ln=="boolean"?sn!=="__proto__":sn===null}var ge$3=Va$2;function Qa$1(sn,ln){var cn=sn.__data__;return ge$3(ln)?cn[typeof ln=="string"?"string":"hash"]:cn.map}var v$4=Qa$1;function Za$1(sn){var ln=v$4(this,sn).delete(sn);return this.size-=ln?1:0,ln}var ye$3=Za$1;function Ya$1(sn){return v$4(this,sn).get(sn)}var be$3=Ya$1;function Ja$1(sn){return v$4(this,sn).has(sn)}var _e$3=Ja$1;function La$2(sn,ln){var cn=v$4(this,sn),dn=cn.size;return cn.set(sn,ln),this.size+=cn.size==dn?0:1,this}var Te$3=La$2;function $$Y(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}$$Y.prototype.clear=he$3;$$Y.prototype.delete=ye$3;$$Y.prototype.get=be$3;$$Y.prototype.has=_e$3;$$Y.prototype.set=Te$3;var U$5=$$Y,ka$1="Expected a function";function pt$3(sn,ln){if(typeof sn!="function"||ln!=null&&typeof ln!="function")throw new TypeError(ka$1);var cn=function(){var dn=arguments,pn=ln?ln.apply(this,dn):dn[0],vn=cn.cache;if(vn.has(pn))return vn.get(pn);var Sn=sn.apply(this,dn);return cn.cache=vn.set(pn,Sn)||vn,Sn};return cn.cache=new(pt$3.Cache||U$5),cn}pt$3.Cache=U$5;var Se$3=pt$3,tf$1=500;function ef$1(sn){var ln=Se$3(sn,function(dn){return cn.size===tf$1&&cn.clear(),dn}),cn=ln.cache;return ln}var we$3=ef$1,rf$1=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,of$1=/\\(\\)?/g;we$3(function(sn){var ln=[];return sn.charCodeAt(0)===46&&ln.push(""),sn.replace(rf$1,function(cn,dn,pn,vn){ln.push(pn?vn.replace(of$1,"$1"):dn||cn)}),ln});var pf$1=re$3(Object.getPrototypeOf,Object),rt$3=pf$1,uf$1="[object Object]",mf$1=Function.prototype,df$1=Object.prototype,Ce$2=mf$1.toString,cf$1=df$1.hasOwnProperty,xf$1=Ce$2.call(Object);function hf$1(sn){if(!x$6(sn)||h$4(sn)!=uf$1)return!1;var ln=rt$3(sn);if(ln===null)return!0;var cn=cf$1.call(ln,"constructor")&&ln.constructor;return typeof cn=="function"&&cn instanceof cn&&Ce$2.call(cn)==xf$1}var Ie$2=hf$1;function gf$1(){this.__data__=new w$5,this.size=0}var Me$3=gf$1;function yf$1(sn){var ln=this.__data__,cn=ln.delete(sn);return this.size=ln.size,cn}var Ee$3=yf$1;function bf$1(sn){return this.__data__.get(sn)}var Re$3=bf$1;function _f$1(sn){return this.__data__.has(sn)}var Ke$3=_f$1,Tf$1=200;function Sf$1(sn,ln){var cn=this.__data__;if(cn instanceof w$5){var dn=cn.__data__;if(!et$3||dn.length<Tf$1-1)return dn.push([sn,ln]),this.size=++cn.size,this;cn=this.__data__=new U$5(dn)}return cn.set(sn,ln),this.size=cn.size,this}var Ne$3=Sf$1;function j$4(sn){var ln=this.__data__=new w$5(sn);this.size=ln.size}j$4.prototype.clear=Me$3;j$4.prototype.delete=Ee$3;j$4.prototype.get=Re$3;j$4.prototype.has=Ke$3;j$4.prototype.set=Ne$3;var Fe$3=j$4,je$3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Be$3=je$3&&typeof module=="object"&&module&&!module.nodeType&&module,wf$1=Be$3&&Be$3.exports===je$3,Xe$3=wf$1?c$5.Buffer:void 0,$e$3=Xe$3?Xe$3.allocUnsafe:void 0;function vf$1(sn,ln){if(ln)return sn.slice();var cn=sn.length,dn=$e$3?$e$3(cn):new sn.constructor(cn);return sn.copy(dn),dn}var ze$3=vf$1,Of$1=c$5.Uint8Array,ut$3=Of$1;function Pf$1(sn){var ln=new sn.constructor(sn.byteLength);return new ut$3(ln).set(new ut$3(sn)),ln}var De$3=Pf$1;function Af$1(sn,ln){var cn=ln?De$3(sn.buffer):sn.buffer;return new sn.constructor(cn,sn.byteOffset,sn.length)}var We$3=Af$1;function Cf$1(sn){return typeof sn.constructor=="function"&&!J$2(sn)?Et$3(rt$3(sn)):{}}var Ge$3=Cf$1;function Mf$1(sn){return function(ln,cn,dn){for(var pn=-1,vn=Object(ln),Sn=dn(ln),En=Sn.length;En--;){var Cn=Sn[sn?En:++pn];if(cn(vn[Cn],Cn,vn)===!1)break}return ln}}var He$2=Mf$1,Ef$1=He$2(),qe$3=Ef$1;function Rf$1(sn,ln,cn){(cn!==void 0&&!T$6(sn[ln],cn)||cn===void 0&&!(ln in sn))&&K$5(sn,ln,cn)}var H$5=Rf$1;function Kf$1(sn){return x$6(sn)&&F$5(sn)}var Ve$3=Kf$1;function Nf$1(sn,ln){if(!(ln==="constructor"&&typeof sn[ln]=="function")&&ln!="__proto__")return sn[ln]}var q$4=Nf$1;function Ff$1(sn){return jt$3(sn,tt$3(sn))}var Qe$3=Ff$1;function Bf(sn,ln,cn,dn,pn,vn,Sn){var En=q$4(sn,cn),Cn=q$4(ln,cn),Pn=Sn.get(Cn);if(Pn){H$5(sn,cn,Pn);return}var Rn=vn?vn(En,Cn,cn+"",sn,ln,Sn):void 0,Ln=Rn===void 0;if(Ln){var Fn=d$6(Cn),Gn=!Fn&&L$5(Cn),Dn=!Fn&&!Gn&&k$4(Cn);Rn=Cn,Fn||Gn||Dn?d$6(En)?Rn=En:Ve$3(En)?Rn=Kt$3(En):Gn?(Ln=!1,Rn=ze$3(Cn,!0)):Dn?(Ln=!1,Rn=We$3(Cn,!0)):Rn=[]:Ie$2(Cn)||O$5(Cn)?(Rn=En,O$5(En)?Rn=Qe$3(En):(!u$3(En)||I$4(En))&&(Rn=Ge$3(Cn))):Ln=!1}Ln&&(Sn.set(Cn,Rn),pn(Rn,Cn,dn,vn,Sn),Sn.delete(Cn)),H$5(sn,cn,Rn)}var Ze$3=Bf;function Ye$3(sn,ln,cn,dn,pn){sn!==ln&&qe$3(ln,function(vn,Sn){if(pn||(pn=new Fe$3),u$3(vn))Ze$3(sn,ln,Sn,cn,Ye$3,dn,pn);else{var En=dn?dn(q$4(sn,Sn),vn,Sn+"",sn,ln,pn):void 0;En===void 0&&(En=vn),H$5(sn,Sn,En)}},tt$3)}var Je$3=Ye$3;Ut$3(function(sn,ln,cn){Je$3(sn,ln,cn)});var or$3=[...MANTINE_COLORS,"infgreen","white","rallit"],Gf$1=Array.from(Array(10).keys());or$3.flatMap(sn=>Gf$1.map(ln=>`${sn}.${ln}`));/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/var ur$2=typeof global=="object"&&global&&global.Object===Object&&global,Q$3=ur$2,mr$2=typeof self=="object"&&self&&self.Object===Object&&self,dr$2=Q$3||mr$2||Function("return this")(),c$4=dr$2,cr$2=c$4.Symbol,b$3=cr$2,gt$2=Object.prototype,xr$2=gt$2.hasOwnProperty,hr$2=gt$2.toString,W$3=b$3?b$3.toStringTag:void 0;function gr$2(sn){var ln=xr$2.call(sn,W$3),cn=sn[W$3];try{sn[W$3]=void 0;var dn=!0}catch{}var pn=hr$2.call(sn);return dn&&(ln?sn[W$3]=cn:delete sn[W$3]),pn}var yt$2=gr$2,yr$2=Object.prototype,br$2=yr$2.toString;function _r$2(sn){return br$2.call(sn)}var bt$2=_r$2,Tr$1="[object Null]",Sr$1="[object Undefined]",_t$2=b$3?b$3.toStringTag:void 0;function wr$1(sn){return sn==null?sn===void 0?Sr$1:Tr$1:_t$2&&_t$2 in Object(sn)?yt$2(sn):bt$2(sn)}var h$3=wr$1;function vr$1(sn){return sn!=null&&typeof sn=="object"}var x$5=vr$1,Cr$1=Array.isArray,d$5=Cr$1,St$2=b$3?b$3.prototype:void 0;St$2&&St$2.toString;function Mr$2(sn){var ln=typeof sn;return sn!=null&&(ln=="object"||ln=="function")}var m$3=Mr$2;function Rr$2(sn){return sn}var Z$2=Rr$2,Er$1="[object AsyncFunction]",Kr$1="[object Function]",Nr$1="[object GeneratorFunction]",Fr$1="[object Proxy]";function jr$1(sn){if(!m$3(sn))return!1;var ln=h$3(sn);return ln==Kr$1||ln==Nr$1||ln==Er$1||ln==Fr$1}var I$3=jr$1,Br$1=c$4["__core-js_shared__"],Y$4=Br$1,Pt$1=function(){var sn=/[^.]+$/.exec(Y$4&&Y$4.keys&&Y$4.keys.IE_PROTO||"");return sn?"Symbol(src)_1."+sn:""}();function Xr$1(sn){return!!Pt$1&&Pt$1 in sn}var At$2=Xr$1,$r$1=Function.prototype,zr$2=$r$1.toString;function Dr$1(sn){if(sn!=null){try{return zr$2.call(sn)}catch{}try{return sn+""}catch{}}return""}var Ct$2=Dr$1,Wr$1=/[\\^$.*+?()[\]{}|]/g,Gr$1=/^\[object .+?Constructor\]$/,Ur$1=Function.prototype,Hr$1=Object.prototype,qr$1=Ur$1.toString,Vr$1=Hr$1.hasOwnProperty,Qr$1=RegExp("^"+qr$1.call(Vr$1).replace(Wr$1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Zr$1(sn){if(!m$3(sn)||At$2(sn))return!1;var ln=I$3(sn)?Qr$1:Gr$1;return ln.test(Ct$2(sn))}var It$2=Zr$1;function Yr$1(sn,ln){return sn==null?void 0:sn[ln]}var Mt$2=Yr$1;function Jr$1(sn,ln){var cn=Mt$2(sn,ln);return It$2(cn)?cn:void 0}var M$3=Jr$1,Rt$2=Object.create,Lr$1=function(){function sn(){}return function(ln){if(!m$3(ln))return{};if(Rt$2)return Rt$2(ln);sn.prototype=ln;var cn=new sn;return sn.prototype=void 0,cn}}(),Et$2=Lr$1;function kr$1(sn,ln,cn){switch(cn.length){case 0:return sn.call(ln);case 1:return sn.call(ln,cn[0]);case 2:return sn.call(ln,cn[0],cn[1]);case 3:return sn.call(ln,cn[0],cn[1],cn[2])}return sn.apply(ln,cn)}var Kt$2=kr$1;function to$1(sn,ln){var cn=-1,dn=sn.length;for(ln||(ln=Array(dn));++cn<dn;)ln[cn]=sn[cn];return ln}var Nt$2=to$1,eo$1=800,ro$1=16,oo$1=Date.now;function ao$1(sn){var ln=0,cn=0;return function(){var dn=oo$1(),pn=ro$1-(dn-cn);if(cn=dn,pn>0){if(++ln>=eo$1)return arguments[0]}else ln=0;return sn.apply(void 0,arguments)}}var Ft$2=ao$1;function fo$1(sn){return function(){return sn}}var jt$2=fo$1,io$1=function(){try{var sn=M$3(Object,"defineProperty");return sn({},"",{}),sn}catch{}}(),R$4=io$1,lo$1=R$4?function(sn,ln){return R$4(sn,"toString",{configurable:!0,enumerable:!1,value:jt$2(ln),writable:!0})}:Z$2,Bt$2=lo$1,no$1=Ft$2(Bt$2),Xt$2=no$1,so$1=9007199254740991,po$1=/^(?:0|[1-9]\d*)$/;function uo$1(sn,ln){var cn=typeof sn;return ln=ln??so$1,!!ln&&(cn=="number"||cn!="symbol"&&po$1.test(sn))&&sn>-1&&sn%1==0&&sn<ln}var E$4=uo$1;function mo$1(sn,ln,cn){ln=="__proto__"&&R$4?R$4(sn,ln,{configurable:!0,enumerable:!0,value:cn,writable:!0}):sn[ln]=cn}var K$4=mo$1;function co$1(sn,ln){return sn===ln||sn!==sn&&ln!==ln}var T$5=co$1,xo$1=Object.prototype,ho$1=xo$1.hasOwnProperty;function go$1(sn,ln,cn){var dn=sn[ln];(!(ho$1.call(sn,ln)&&T$5(dn,cn))||cn===void 0&&!(ln in sn))&&K$4(sn,ln,cn)}var $t$2=go$1;function yo$1(sn,ln,cn,dn){var pn=!cn;cn||(cn={});for(var vn=-1,Sn=ln.length;++vn<Sn;){var En=ln[vn],Cn=dn?dn(cn[En],sn[En],En,cn,sn):void 0;Cn===void 0&&(Cn=sn[En]),pn?K$4(cn,En,Cn):$t$2(cn,En,Cn)}return cn}var zt$2=yo$1,Dt$2=Math.max;function bo$1(sn,ln,cn){return ln=Dt$2(ln===void 0?sn.length-1:ln,0),function(){for(var dn=arguments,pn=-1,vn=Dt$2(dn.length-ln,0),Sn=Array(vn);++pn<vn;)Sn[pn]=dn[ln+pn];pn=-1;for(var En=Array(ln+1);++pn<ln;)En[pn]=dn[pn];return En[ln]=cn(Sn),Kt$2(sn,this,En)}}var Wt$2=bo$1;function _o$1(sn,ln){return Xt$2(Wt$2(sn,ln,Z$2),sn+"")}var Gt$2=_o$1,To$1=9007199254740991;function So$1(sn){return typeof sn=="number"&&sn>-1&&sn%1==0&&sn<=To$1}var N$6=So$1;function wo$1(sn){return sn!=null&&N$6(sn.length)&&!I$3(sn)}var F$4=wo$1;function vo$1(sn,ln,cn){if(!m$3(cn))return!1;var dn=typeof ln;return(dn=="number"?F$4(cn)&&E$4(ln,cn.length):dn=="string"&&ln in cn)?T$5(cn[ln],sn):!1}var Ut$2=vo$1;function Oo$1(sn){return Gt$2(function(ln,cn){var dn=-1,pn=cn.length,vn=pn>1?cn[pn-1]:void 0,Sn=pn>2?cn[2]:void 0;for(vn=sn.length>3&&typeof vn=="function"?(pn--,vn):void 0,Sn&&Ut$2(cn[0],cn[1],Sn)&&(vn=pn<3?void 0:vn,pn=1),ln=Object(ln);++dn<pn;){var En=cn[dn];En&&sn(ln,En,dn,vn)}return ln})}var Ht$2=Oo$1,Po$1=Object.prototype;function Ao$1(sn){var ln=sn&&sn.constructor,cn=typeof ln=="function"&&ln.prototype||Po$1;return sn===cn}var J$1=Ao$1;function Co$1(sn,ln){for(var cn=-1,dn=Array(sn);++cn<sn;)dn[cn]=ln(cn);return dn}var qt$2=Co$1,Io$1="[object Arguments]";function Mo$1(sn){return x$5(sn)&&h$3(sn)==Io$1}var lt$2=Mo$1,Vt$2=Object.prototype,Ro$1=Vt$2.hasOwnProperty,Eo$1=Vt$2.propertyIsEnumerable,Ko$1=lt$2(function(){return arguments}())?lt$2:function(sn){return x$5(sn)&&Ro$1.call(sn,"callee")&&!Eo$1.call(sn,"callee")},O$4=Ko$1;function No$1(){return!1}var Qt$2=No$1,Jt$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Zt$2=Jt$2&&typeof module=="object"&&module&&!module.nodeType&&module,Fo$1=Zt$2&&Zt$2.exports===Jt$2,Yt$2=Fo$1?c$4.Buffer:void 0,jo$1=Yt$2?Yt$2.isBuffer:void 0,Bo$1=jo$1||Qt$2,L$4=Bo$1,Xo$1="[object Arguments]",$o$1="[object Array]",zo$1="[object Boolean]",Do$1="[object Date]",Wo$1="[object Error]",Go$1="[object Function]",Uo$1="[object Map]",Ho$1="[object Number]",qo$1="[object Object]",Vo$1="[object RegExp]",Qo$1="[object Set]",Zo$1="[object String]",Yo$1="[object WeakMap]",Jo$1="[object ArrayBuffer]",Lo$1="[object DataView]",ko$1="[object Float32Array]",ta$1="[object Float64Array]",ea$1="[object Int8Array]",ra$1="[object Int16Array]",oa$1="[object Int32Array]",aa$1="[object Uint8Array]",fa$1="[object Uint8ClampedArray]",ia$1="[object Uint16Array]",la$1="[object Uint32Array]",s$4={};s$4[ko$1]=s$4[ta$1]=s$4[ea$1]=s$4[ra$1]=s$4[oa$1]=s$4[aa$1]=s$4[fa$1]=s$4[ia$1]=s$4[la$1]=!0;s$4[Xo$1]=s$4[$o$1]=s$4[Jo$1]=s$4[zo$1]=s$4[Lo$1]=s$4[Do$1]=s$4[Wo$1]=s$4[Go$1]=s$4[Uo$1]=s$4[Ho$1]=s$4[qo$1]=s$4[Vo$1]=s$4[Qo$1]=s$4[Zo$1]=s$4[Yo$1]=!1;function na$1(sn){return x$5(sn)&&N$6(sn.length)&&!!s$4[h$3(sn)]}var Lt$2=na$1;function sa$1(sn){return function(ln){return sn(ln)}}var kt$2=sa$1,te$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,G$3=te$2&&typeof module=="object"&&module&&!module.nodeType&&module,pa$1=G$3&&G$3.exports===te$2,nt$2=pa$1&&Q$3.process,ua$1=function(){try{var sn=G$3&&G$3.require&&G$3.require("util").types;return sn||nt$2&&nt$2.binding&&nt$2.binding("util")}catch{}}(),st$2=ua$1,ee$2=st$2&&st$2.isTypedArray,ma$1=ee$2?kt$2(ee$2):Lt$2,k$3=ma$1,da$1=Object.prototype,ca$1=da$1.hasOwnProperty;function xa$1(sn,ln){var cn=d$5(sn),dn=!cn&&O$4(sn),pn=!cn&&!dn&&L$4(sn),vn=!cn&&!dn&&!pn&&k$3(sn),Sn=cn||dn||pn||vn,En=Sn?qt$2(sn.length,String):[],Cn=En.length;for(var Pn in sn)(ln||ca$1.call(sn,Pn))&&!(Sn&&(Pn=="length"||pn&&(Pn=="offset"||Pn=="parent")||vn&&(Pn=="buffer"||Pn=="byteLength"||Pn=="byteOffset")||E$4(Pn,Cn)))&&En.push(Pn);return En}var re$2=xa$1;function ha$1(sn,ln){return function(cn){return sn(ln(cn))}}var oe$2=ha$1;function ga$1(sn){var ln=[];if(sn!=null)for(var cn in Object(sn))ln.push(cn);return ln}var ae$2=ga$1,ya$1=Object.prototype,ba$1=ya$1.hasOwnProperty;function _a$1(sn){if(!m$3(sn))return ae$2(sn);var ln=J$1(sn),cn=[];for(var dn in sn)dn=="constructor"&&(ln||!ba$1.call(sn,dn))||cn.push(dn);return cn}var fe$2=_a$1;function Ta$1(sn){return F$4(sn)?re$2(sn,!0):fe$2(sn)}var tt$2=Ta$1,Oa$1=M$3(Object,"create"),_$3=Oa$1;function Pa$1(){this.__data__=_$3?_$3(null):{},this.size=0}var le$2=Pa$1;function Aa$1(sn){var ln=this.has(sn)&&delete this.__data__[sn];return this.size-=ln?1:0,ln}var ne$2=Aa$1,Ca$1="__lodash_hash_undefined__",Ia$1=Object.prototype,Ma$1=Ia$1.hasOwnProperty;function Ra$1(sn){var ln=this.__data__;if(_$3){var cn=ln[sn];return cn===Ca$1?void 0:cn}return Ma$1.call(ln,sn)?ln[sn]:void 0}var se$2=Ra$1,Ea$1=Object.prototype,Ka=Ea$1.hasOwnProperty;function Na(sn){var ln=this.__data__;return _$3?ln[sn]!==void 0:Ka.call(ln,sn)}var pe$2=Na,Fa="__lodash_hash_undefined__";function ja$1(sn,ln){var cn=this.__data__;return this.size+=this.has(sn)?0:1,cn[sn]=_$3&&ln===void 0?Fa:ln,this}var ue$2=ja$1;function j$3(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}j$3.prototype.clear=le$2;j$3.prototype.delete=ne$2;j$3.prototype.get=se$2;j$3.prototype.has=pe$2;j$3.prototype.set=ue$2;var pt$2=j$3;function Ba$1(){this.__data__=[],this.size=0}var me$2=Ba$1;function Xa(sn,ln){for(var cn=sn.length;cn--;)if(T$5(sn[cn][0],ln))return cn;return-1}var S$4=Xa,$a=Array.prototype,za$1=$a.splice;function Da$1(sn){var ln=this.__data__,cn=S$4(ln,sn);if(cn<0)return!1;var dn=ln.length-1;return cn==dn?ln.pop():za$1.call(ln,cn,1),--this.size,!0}var de$2=Da$1;function Wa(sn){var ln=this.__data__,cn=S$4(ln,sn);return cn<0?void 0:ln[cn][1]}var ce$2=Wa;function Ga(sn){return S$4(this.__data__,sn)>-1}var xe$2=Ga;function Ua$1(sn,ln){var cn=this.__data__,dn=S$4(cn,sn);return dn<0?(++this.size,cn.push([sn,ln])):cn[dn][1]=ln,this}var he$2=Ua$1;function B$3(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}B$3.prototype.clear=me$2;B$3.prototype.delete=de$2;B$3.prototype.get=ce$2;B$3.prototype.has=xe$2;B$3.prototype.set=he$2;var w$4=B$3,Ha$1=M$3(c$4,"Map"),et$2=Ha$1;function qa$1(){this.size=0,this.__data__={hash:new pt$2,map:new(et$2||w$4),string:new pt$2}}var ge$2=qa$1;function Va$1(sn){var ln=typeof sn;return ln=="string"||ln=="number"||ln=="symbol"||ln=="boolean"?sn!=="__proto__":sn===null}var ye$2=Va$1;function Qa(sn,ln){var cn=sn.__data__;return ye$2(ln)?cn[typeof ln=="string"?"string":"hash"]:cn.map}var v$3=Qa;function Za(sn){var ln=v$3(this,sn).delete(sn);return this.size-=ln?1:0,ln}var be$2=Za;function Ya(sn){return v$3(this,sn).get(sn)}var _e$2=Ya;function Ja(sn){return v$3(this,sn).has(sn)}var Te$2=Ja;function La$1(sn,ln){var cn=v$3(this,sn),dn=cn.size;return cn.set(sn,ln),this.size+=cn.size==dn?0:1,this}var Se$2=La$1;function X$1(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}X$1.prototype.clear=ge$2;X$1.prototype.delete=be$2;X$1.prototype.get=_e$2;X$1.prototype.has=Te$2;X$1.prototype.set=Se$2;var U$4=X$1,ka="Expected a function";function ut$2(sn,ln){if(typeof sn!="function"||ln!=null&&typeof ln!="function")throw new TypeError(ka);var cn=function(){var dn=arguments,pn=ln?ln.apply(this,dn):dn[0],vn=cn.cache;if(vn.has(pn))return vn.get(pn);var Sn=sn.apply(this,dn);return cn.cache=vn.set(pn,Sn)||vn,Sn};return cn.cache=new(ut$2.Cache||U$4),cn}ut$2.Cache=U$4;var we$2=ut$2,tf=500;function ef(sn){var ln=we$2(sn,function(dn){return cn.size===tf&&cn.clear(),dn}),cn=ln.cache;return ln}var ve$2=ef,rf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,of=/\\(\\)?/g;ve$2(function(sn){var ln=[];return sn.charCodeAt(0)===46&&ln.push(""),sn.replace(rf,function(cn,dn,pn,vn){ln.push(pn?vn.replace(of,"$1"):dn||cn)}),ln});var pf=oe$2(Object.getPrototypeOf,Object),rt$2=pf,uf="[object Object]",mf=Function.prototype,df=Object.prototype,Ie$1=mf.toString,cf=df.hasOwnProperty,xf=Ie$1.call(Object);function hf(sn){if(!x$5(sn)||h$3(sn)!=uf)return!1;var ln=rt$2(sn);if(ln===null)return!0;var cn=cf.call(ln,"constructor")&&ln.constructor;return typeof cn=="function"&&cn instanceof cn&&Ie$1.call(cn)==xf}var Me$2=hf;function gf(){this.__data__=new w$4,this.size=0}var Re$2=gf;function yf(sn){var ln=this.__data__,cn=ln.delete(sn);return this.size=ln.size,cn}var Ee$2=yf;function bf(sn){return this.__data__.get(sn)}var Ke$2=bf;function _f(sn){return this.__data__.has(sn)}var Ne$2=_f,Tf=200;function Sf(sn,ln){var cn=this.__data__;if(cn instanceof w$4){var dn=cn.__data__;if(!et$2||dn.length<Tf-1)return dn.push([sn,ln]),this.size=++cn.size,this;cn=this.__data__=new U$4(dn)}return cn.set(sn,ln),this.size=cn.size,this}var Fe$2=Sf;function $$X(sn){var ln=this.__data__=new w$4(sn);this.size=ln.size}$$X.prototype.clear=Re$2;$$X.prototype.delete=Ee$2;$$X.prototype.get=Ke$2;$$X.prototype.has=Ne$2;$$X.prototype.set=Fe$2;var je$2=$$X,ze$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Be$2=ze$2&&typeof module=="object"&&module&&!module.nodeType&&module,wf=Be$2&&Be$2.exports===ze$2,Xe$2=wf?c$4.Buffer:void 0,$e$2=Xe$2?Xe$2.allocUnsafe:void 0;function vf(sn,ln){if(ln)return sn.slice();var cn=sn.length,dn=$e$2?$e$2(cn):new sn.constructor(cn);return sn.copy(dn),dn}var De$2=vf,Of=c$4.Uint8Array,mt$2=Of;function Pf(sn){var ln=new sn.constructor(sn.byteLength);return new mt$2(ln).set(new mt$2(sn)),ln}var We$2=Pf;function Af(sn,ln){var cn=ln?We$2(sn.buffer):sn.buffer;return new sn.constructor(cn,sn.byteOffset,sn.length)}var Ge$2=Af;function Cf(sn){return typeof sn.constructor=="function"&&!J$1(sn)?Et$2(rt$2(sn)):{}}var Ue$2=Cf;function Mf(sn){return function(ln,cn,dn){for(var pn=-1,vn=Object(ln),Sn=dn(ln),En=Sn.length;En--;){var Cn=Sn[sn?En:++pn];if(cn(vn[Cn],Cn,vn)===!1)break}return ln}}var qe$2=Mf,Rf=qe$2(),Ve$2=Rf;function Ef(sn,ln,cn){(cn!==void 0&&!T$5(sn[ln],cn)||cn===void 0&&!(ln in sn))&&K$4(sn,ln,cn)}var H$4=Ef;function Kf(sn){return x$5(sn)&&F$4(sn)}var Qe$2=Kf;function Nf(sn,ln){if(!(ln==="constructor"&&typeof sn[ln]=="function")&&ln!="__proto__")return sn[ln]}var q$3=Nf;function Ff(sn){return zt$2(sn,tt$2(sn))}var Ze$2=Ff;function jf(sn,ln,cn,dn,pn,vn,Sn){var En=q$3(sn,cn),Cn=q$3(ln,cn),Pn=Sn.get(Cn);if(Pn){H$4(sn,cn,Pn);return}var Rn=vn?vn(En,Cn,cn+"",sn,ln,Sn):void 0,Ln=Rn===void 0;if(Ln){var Fn=d$5(Cn),Gn=!Fn&&L$4(Cn),Dn=!Fn&&!Gn&&k$3(Cn);Rn=Cn,Fn||Gn||Dn?d$5(En)?Rn=En:Qe$2(En)?Rn=Nt$2(En):Gn?(Ln=!1,Rn=De$2(Cn,!0)):Dn?(Ln=!1,Rn=Ge$2(Cn,!0)):Rn=[]:Me$2(Cn)||O$4(Cn)?(Rn=En,O$4(En)?Rn=Ze$2(En):(!m$3(En)||I$3(En))&&(Rn=Ue$2(Cn))):Ln=!1}Ln&&(Sn.set(Cn,Rn),pn(Rn,Cn,dn,vn,Sn),Sn.delete(Cn)),H$4(sn,cn,Rn)}var Ye$2=jf;function Je$2(sn,ln,cn,dn,pn){sn!==ln&&Ve$2(ln,function(vn,Sn){if(pn||(pn=new je$2),m$3(vn))Ye$2(sn,ln,Sn,cn,Je$2,dn,pn);else{var En=dn?dn(q$3(sn,Sn),vn,Sn+"",sn,ln,pn):void 0;En===void 0&&(En=vn),H$4(sn,Sn,En)}},tt$2)}var Le$2=Je$2;Ht$2(function(sn,ln,cn){Le$2(sn,ln,cn)});var or$2=[...MANTINE_COLORS,"infgreen","white","rallit"],Gf=Array.from(Array(10).keys());or$2.flatMap(sn=>Gf.map(ln=>`${sn}.${ln}`));var Jf=useMantineTheme;/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/var wt$1=typeof global=="object"&&global&&global.Object===Object&&global,M$2=wt$1,Mt$1=typeof self=="object"&&self&&self.Object===Object&&self,Rt$1=M$2||Mt$1||Function("return this")(),x$4=Rt$1,zt$1=x$4.Symbol,l$2=zt$1,R$3=Object.prototype,Dt$1=R$3.hasOwnProperty,jt$1=R$3.toString,b$2=l$2?l$2.toStringTag:void 0;function Wt$1(sn){var ln=Dt$1.call(sn,b$2),cn=sn[b$2];try{sn[b$2]=void 0;var dn=!0}catch{}var pn=jt$1.call(sn);return dn&&(ln?sn[b$2]=cn:delete sn[b$2]),pn}var z$3=Wt$1,Bt$1=Object.prototype,Lt$1=Bt$1.toString;function Ft$1(sn){return Lt$1.call(sn)}var D$3=Ft$1,Ht$1="[object Null]",kt$1="[object Undefined]",j$2=l$2?l$2.toStringTag:void 0;function Gt$1(sn){return sn==null?sn===void 0?kt$1:Ht$1:j$2&&j$2 in Object(sn)?z$3(sn):D$3(sn)}var c$3=Gt$1;function Ut$1(sn){return sn!=null&&typeof sn=="object"}var h$2=Ut$1,$t$1="[object Symbol]";function qt$1(sn){return typeof sn=="symbol"||h$2(sn)&&c$3(sn)==$t$1}var y$2=qt$1;function Kt$1(sn,ln){for(var cn=-1,dn=sn==null?0:sn.length,pn=Array(dn);++cn<dn;)pn[cn]=ln(sn[cn],cn,sn);return pn}var W$2=Kt$1,Xt$1=Array.isArray,i$5=Xt$1,Zt$1=1/0,B$2=l$2?l$2.prototype:void 0,L$3=B$2?B$2.toString:void 0;function F$3(sn){if(typeof sn=="string")return sn;if(i$5(sn))return W$2(sn,F$3)+"";if(y$2(sn))return L$3?L$3.call(sn):"";var ln=sn+"";return ln=="0"&&1/sn==-Zt$1?"-0":ln}var H$3=F$3;function Vt$1(sn){var ln=typeof sn;return sn!=null&&(ln=="object"||ln=="function")}var E$3=Vt$1,Jt$1="[object AsyncFunction]",Yt$1="[object Function]",Qt$1="[object GeneratorFunction]",te$1="[object Proxy]";function ee$1(sn){if(!E$3(sn))return!1;var ln=c$3(sn);return ln==Yt$1||ln==Qt$1||ln==Jt$1||ln==te$1}var k$2=ee$1,re$1=x$4["__core-js_shared__"],S$3=re$1,G$2=function(){var sn=/[^.]+$/.exec(S$3&&S$3.keys&&S$3.keys.IE_PROTO||"");return sn?"Symbol(src)_1."+sn:""}();function oe$1(sn){return!!G$2&&G$2 in sn}var U$3=oe$1,ae$1=Function.prototype,fe$1=ae$1.toString;function se$1(sn){if(sn!=null){try{return fe$1.call(sn)}catch{}try{return sn+""}catch{}}return""}var $$W=se$1,pe$1=/[\\^$.*+?()[\]{}|]/g,ne$1=/^\[object .+?Constructor\]$/,le$1=Function.prototype,me$1=Object.prototype,ie$1=le$1.toString,ue$1=me$1.hasOwnProperty,de$1=RegExp("^"+ie$1.call(ue$1).replace(pe$1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xe$1(sn){if(!E$3(sn)||U$3(sn))return!1;var ln=k$2(sn)?de$1:ne$1;return ln.test($$W(sn))}var q$2=xe$1;function ce$1(sn,ln){return sn==null?void 0:sn[ln]}var K$3=ce$1;function he$1(sn,ln){var cn=K$3(sn,ln);return q$2(cn)?cn:void 0}var T$4=he$1,ye$1=9007199254740991,ge$1=/^(?:0|[1-9]\d*)$/;function _e$1(sn,ln){var cn=typeof sn;return ln=ln??ye$1,!!ln&&(cn=="number"||cn!="symbol"&&ge$1.test(sn))&&sn>-1&&sn%1==0&&sn<ln}var X=_e$1;function Ie(sn,ln){return sn===ln||sn!==sn&&ln!==ln}var Z$1=Ie,be$1=9007199254740991;function Oe$1(sn){return typeof sn=="number"&&sn>-1&&sn%1==0&&sn<=be$1}var V$1=Oe$1,Ee$1="[object Arguments]";function Se$1(sn){return h$2(sn)&&c$3(sn)==Ee$1}var N$5=Se$1,J=Object.prototype,Te$1=J.hasOwnProperty,Ae$1=J.propertyIsEnumerable,Ne$1=N$5(function(){return arguments}())?N$5:function(sn){return h$2(sn)&&Te$1.call(sn,"callee")&&!Ae$1.call(sn,"callee")},Y$3=Ne$1,Ce$1=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ve$1=/^\w*$/;function Pe$1(sn,ln){if(i$5(sn))return!1;var cn=typeof sn;return cn=="number"||cn=="symbol"||cn=="boolean"||sn==null||y$2(sn)?!0:ve$1.test(sn)||!Ce$1.test(sn)||ln!=null&&sn in Object(ln)}var Q$2=Pe$1,we$1=T$4(Object,"create"),m$2=we$1;function Me$1(){this.__data__=m$2?m$2(null):{},this.size=0}var tt$1=Me$1;function Re$1(sn){var ln=this.has(sn)&&delete this.__data__[sn];return this.size-=ln?1:0,ln}var et$1=Re$1,ze$1="__lodash_hash_undefined__",De$1=Object.prototype,je$1=De$1.hasOwnProperty;function We$1(sn){var ln=this.__data__;if(m$2){var cn=ln[sn];return cn===ze$1?void 0:cn}return je$1.call(ln,sn)?ln[sn]:void 0}var rt$1=We$1,Be$1=Object.prototype,Le$1=Be$1.hasOwnProperty;function Fe$1(sn){var ln=this.__data__;return m$2?ln[sn]!==void 0:Le$1.call(ln,sn)}var ot=Fe$1,He$1="__lodash_hash_undefined__";function ke$1(sn,ln){var cn=this.__data__;return this.size+=this.has(sn)?0:1,cn[sn]=m$2&&ln===void 0?He$1:ln,this}var at$1=ke$1;function g$2(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}g$2.prototype.clear=tt$1;g$2.prototype.delete=et$1;g$2.prototype.get=rt$1;g$2.prototype.has=ot;g$2.prototype.set=at$1;var C$3=g$2;function Ge$1(){this.__data__=[],this.size=0}var ft$1=Ge$1;function Ue$1(sn,ln){for(var cn=sn.length;cn--;)if(Z$1(sn[cn][0],ln))return cn;return-1}var u$2=Ue$1,$e$1=Array.prototype,qe$1=$e$1.splice;function Ke$1(sn){var ln=this.__data__,cn=u$2(ln,sn);if(cn<0)return!1;var dn=ln.length-1;return cn==dn?ln.pop():qe$1.call(ln,cn,1),--this.size,!0}var st$1=Ke$1;function Xe$1(sn){var ln=this.__data__,cn=u$2(ln,sn);return cn<0?void 0:ln[cn][1]}var pt$1=Xe$1;function Ze$1(sn){return u$2(this.__data__,sn)>-1}var nt$1=Ze$1;function Ve$1(sn,ln){var cn=this.__data__,dn=u$2(cn,sn);return dn<0?(++this.size,cn.push([sn,ln])):cn[dn][1]=ln,this}var lt$1=Ve$1;function _$2(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}_$2.prototype.clear=ft$1;_$2.prototype.delete=st$1;_$2.prototype.get=pt$1;_$2.prototype.has=nt$1;_$2.prototype.set=lt$1;var mt$1=_$2,Je$1=T$4(x$4,"Map"),it$1=Je$1;function Ye$1(){this.size=0,this.__data__={hash:new C$3,map:new(it$1||mt$1),string:new C$3}}var ut$1=Ye$1;function Qe$1(sn){var ln=typeof sn;return ln=="string"||ln=="number"||ln=="symbol"||ln=="boolean"?sn!=="__proto__":sn===null}var dt$1=Qe$1;function tr$1(sn,ln){var cn=sn.__data__;return dt$1(ln)?cn[typeof ln=="string"?"string":"hash"]:cn.map}var d$4=tr$1;function er$1(sn){var ln=d$4(this,sn).delete(sn);return this.size-=ln?1:0,ln}var xt$1=er$1;function rr$1(sn){return d$4(this,sn).get(sn)}var ct$1=rr$1;function or$1(sn){return d$4(this,sn).has(sn)}var ht$1=or$1;function ar$1(sn,ln){var cn=d$4(this,sn),dn=cn.size;return cn.set(sn,ln),this.size+=cn.size==dn?0:1,this}var yt$1=ar$1;function I$2(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}I$2.prototype.clear=ut$1;I$2.prototype.delete=xt$1;I$2.prototype.get=ct$1;I$2.prototype.has=ht$1;I$2.prototype.set=yt$1;var v$2=I$2,fr$1="Expected a function";function P$2(sn,ln){if(typeof sn!="function"||ln!=null&&typeof ln!="function")throw new TypeError(fr$1);var cn=function(){var dn=arguments,pn=ln?ln.apply(this,dn):dn[0],vn=cn.cache;if(vn.has(pn))return vn.get(pn);var Sn=sn.apply(this,dn);return cn.cache=vn.set(pn,Sn)||vn,Sn};return cn.cache=new(P$2.Cache||v$2),cn}P$2.Cache=v$2;var gt$1=P$2,sr$1=500;function pr$1(sn){var ln=gt$1(sn,function(dn){return cn.size===sr$1&&cn.clear(),dn}),cn=ln.cache;return ln}var _t$1=pr$1,nr$1=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lr$1=/\\(\\)?/g,mr$1=_t$1(function(sn){var ln=[];return sn.charCodeAt(0)===46&&ln.push(""),sn.replace(nr$1,function(cn,dn,pn,vn){ln.push(pn?vn.replace(lr$1,"$1"):dn||cn)}),ln}),It$1=mr$1;function ir$1(sn){return sn==null?"":H$3(sn)}var bt$1=ir$1;function ur$1(sn,ln){return i$5(sn)?sn:Q$2(sn,ln)?[sn]:It$1(bt$1(sn))}var Ot$1=ur$1,dr$1=1/0;function xr$1(sn){if(typeof sn=="string"||y$2(sn))return sn;var ln=sn+"";return ln=="0"&&1/sn==-dr$1?"-0":ln}var Et$1=xr$1;function cr$1(sn,ln,cn){ln=Ot$1(ln,sn);for(var dn=-1,pn=ln.length,vn=!1;++dn<pn;){var Sn=Et$1(ln[dn]);if(!(vn=sn!=null&&cn(sn,Sn)))break;sn=sn[Sn]}return vn||++dn!=pn?vn:(pn=sn==null?0:sn.length,!!pn&&V$1(pn)&&X(Sn,pn)&&(i$5(sn)||Y$3(sn)))}var St$1=cr$1,hr$1=Object.prototype,yr$1=hr$1.hasOwnProperty;function gr$1(sn,ln){return sn!=null&&yr$1.call(sn,ln)}var Tt$1=gr$1;function _r$1(sn,ln){return sn!=null&&St$1(sn,ln,Tt$1)}var w$3=_r$1,At$1=[...MANTINE_COLORS,"infgreen","white","rallit"],br$1=Array.from(Array(10).keys());At$1.flatMap(sn=>br$1.map(ln=>`${sn}.${ln}`));var Nt$1=["subtle","light","outline"],Pr$1=sn=>reactExports.isValidElement(sn)&&sn.type.displayName==="inflearnDsIcon",Ct$1=reactExports.forwardRef((sn,ln)=>{let cn=Jf(),{children:dn,size:pn="md",color:vn="gray",...Sn}=sn,En=Rr$1(pn)?Mr$1[pn]:pn;return jsx(ActionIcon,{ref:ln,size:En,color:vn,...Sn,children:reactExports.Children.map(dn,Cn=>Pr$1(Cn)&&typeof pn!="number"?reactExports.cloneElement(Cn,{size:vt$1[pn],...Nt$1.includes(Sn.variant||"")&&{color:zr$1(cn,vn)}}):Cn)})});Ct$1.displayName="ActionIcon";var vt$1={xs:"2xs",sm:"xs",md:"sm",lg:"md",xl:"lg","n-xs":"xs","n-sm":"sm","n-md":"md","n-lg":"lg","n-xl":"xl"},Mr$1={"n-xs":rem(30),"n-sm":rem(36),"n-md":rem(42),"n-lg":rem(50),"n-xl":rem(60)},Rr$1=sn=>sn==="n-xs"||sn==="n-sm"||sn==="n-md"||sn==="n-lg"||sn==="n-xl",zr$1=(sn,ln)=>{let[cn]=ln.split(".");return w$3(sn.colors,cn)?sn.colors[cn][7]:ln},O$3=2;rem(30-O$3),rem(36-O$3),rem(42-O$3),rem(50-O$3),rem(60-O$3);/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/var t$1=16,n$2={"2xs":10,xs:12,sm:14,md:16,lg:20,xl:24,"2xl":32,"1x":t$1*1,"2x":t$1*2,"3x":t$1*3,"4x":t$1*4,"5x":t$1*5,"6x":t$1*6,"7x":t$1*7,"8x":t$1*8,"9x":t$1*9,"10x":t$1*10},i$4=[...MANTINE_COLORS,"infgreen","white","rallit"],N$4=Array.from(Array(10).keys());i$4.flatMap(sn=>N$4.map(ln=>`${sn}.${ln}`));function s$3(sn){let{size:ln="md",iconSize:cn,...dn}=sn,pn=typeof ln!="number"?n$2[vt$1[ln]]:cn;return jsx(CloseButton,{size:ln,iconSize:cn||pn,...dn})}var Se=typeof global=="object"&&global&&global.Object===Object&&global,F$2=Se,Be=typeof self=="object"&&self&&self.Object===Object&&self,Me=F$2||Be||Function("return this")(),d$3=Me,Ee=d$3.Symbol,_$1=Ee,at=Object.prototype,Le=at.hasOwnProperty,De=at.toString,M$1=_$1?_$1.toStringTag:void 0;function Re(sn){var ln=Le.call(sn,M$1),cn=sn[M$1];try{sn[M$1]=void 0;var dn=!0}catch{}var pn=De.call(sn);return dn&&(ln?sn[M$1]=cn:delete sn[M$1]),pn}var ft=Re,ze=Object.prototype,Fe=ze.toString;function Ne(sn){return Fe.call(sn)}var pt=Ne,We="[object Null]",Ge="[object Undefined]",st=_$1?_$1.toStringTag:void 0;function Ue(sn){return sn==null?sn===void 0?Ge:We:st&&st in Object(sn)?ft(sn):pt(sn)}var h$1=Ue;function He(sn){return sn!=null&&typeof sn=="object"}var x$3=He,qe=Array.isArray,E$2=qe;function Ve(sn){var ln=typeof sn;return sn!=null&&(ln=="object"||ln=="function")}var l$1=Ve;function Ke(sn){return sn}var N$3=Ke,ke="[object AsyncFunction]",$e="[object Function]",Je="[object GeneratorFunction]",Xe="[object Proxy]";function Ye(sn){if(!l$1(sn))return!1;var ln=h$1(sn);return ln==$e||ln==Je||ln==ke||ln==Xe}var O$2=Ye,Ze=d$3["__core-js_shared__"],W$1=Ze,it=function(){var sn=/[^.]+$/.exec(W$1&&W$1.keys&&W$1.keys.IE_PROTO||"");return sn?"Symbol(src)_1."+sn:""}();function Qe(sn){return!!it&&it in sn}var nt=Qe,tr=Function.prototype,er=tr.toString;function rr(sn){if(sn!=null){try{return er.call(sn)}catch{}try{return sn+""}catch{}}return""}var ut=rr,or=/[\\^$.*+?()[\]{}|]/g,ar=/^\[object .+?Constructor\]$/,fr=Function.prototype,pr=Object.prototype,sr=fr.toString,ir=pr.hasOwnProperty,nr=RegExp("^"+sr.call(ir).replace(or,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ur(sn){if(!l$1(sn)||nt(sn))return!1;var ln=O$2(sn)?nr:ar;return ln.test(ut(sn))}var lt=ur;function lr(sn,ln){return sn==null?void 0:sn[ln]}var mt=lr;function mr(sn,ln){var cn=mt(sn,ln);return lt(cn)?cn:void 0}var T$3=mr,dt=Object.create,dr=function(){function sn(){}return function(ln){if(!l$1(ln))return{};if(dt)return dt(ln);sn.prototype=ln;var cn=new sn;return sn.prototype=void 0,cn}}(),xt=dr;function xr(sn,ln,cn){switch(cn.length){case 0:return sn.call(ln);case 1:return sn.call(ln,cn[0]);case 2:return sn.call(ln,cn[0],cn[1]);case 3:return sn.call(ln,cn[0],cn[1],cn[2])}return sn.apply(ln,cn)}var ct=xr;function cr(sn,ln){var cn=-1,dn=sn.length;for(ln||(ln=Array(dn));++cn<dn;)ln[cn]=sn[cn];return ln}var ht=cr,hr=800,gr=16,yr=Date.now;function br(sn){var ln=0,cn=0;return function(){var dn=yr(),pn=gr-(dn-cn);if(cn=dn,pn>0){if(++ln>=hr)return arguments[0]}else ln=0;return sn.apply(void 0,arguments)}}var gt=br;function vr(sn){return function(){return sn}}var yt=vr,_r=function(){try{var sn=T$3(Object,"defineProperty");return sn({},"",{}),sn}catch{}}(),j$1=_r,Or=j$1?function(sn,ln){return j$1(sn,"toString",{configurable:!0,enumerable:!1,value:yt(ln),writable:!0})}:N$3,bt=Or,Tr=gt(bt),vt=Tr,jr=9007199254740991,Ar=/^(?:0|[1-9]\d*)$/;function Cr(sn,ln){var cn=typeof sn;return ln=ln??jr,!!ln&&(cn=="number"||cn!="symbol"&&Ar.test(sn))&&sn>-1&&sn%1==0&&sn<ln}var G$1=Cr;function wr(sn,ln,cn){ln=="__proto__"&&j$1?j$1(sn,ln,{configurable:!0,enumerable:!0,value:cn,writable:!0}):sn[ln]=cn}var A$2=wr;function Pr(sn,ln){return sn===ln||sn!==sn&&ln!==ln}var g$1=Pr,Ir=Object.prototype,Sr=Ir.hasOwnProperty;function Br(sn,ln,cn){var dn=sn[ln];(!(Sr.call(sn,ln)&&g$1(dn,cn))||cn===void 0&&!(ln in sn))&&A$2(sn,ln,cn)}var _t=Br;function Mr(sn,ln,cn,dn){var pn=!cn;cn||(cn={});for(var vn=-1,Sn=ln.length;++vn<Sn;){var En=ln[vn],Cn=dn?dn(cn[En],sn[En],En,cn,sn):void 0;Cn===void 0&&(Cn=sn[En]),pn?A$2(cn,En,Cn):_t(cn,En,Cn)}return cn}var Ot=Mr,Tt=Math.max;function Er(sn,ln,cn){return ln=Tt(ln===void 0?sn.length-1:ln,0),function(){for(var dn=arguments,pn=-1,vn=Tt(dn.length-ln,0),Sn=Array(vn);++pn<vn;)Sn[pn]=dn[ln+pn];pn=-1;for(var En=Array(ln+1);++pn<ln;)En[pn]=dn[pn];return En[ln]=cn(Sn),ct(sn,this,En)}}var jt=Er;function Lr(sn,ln){return vt(jt(sn,ln,N$3),sn+"")}var At=Lr,Dr=9007199254740991;function Rr(sn){return typeof sn=="number"&&sn>-1&&sn%1==0&&sn<=Dr}var U$2=Rr;function zr(sn){return sn!=null&&U$2(sn.length)&&!O$2(sn)}var C$2=zr;function Fr(sn,ln,cn){if(!l$1(cn))return!1;var dn=typeof ln;return(dn=="number"?C$2(cn)&&G$1(ln,cn.length):dn=="string"&&ln in cn)?g$1(cn[ln],sn):!1}var Ct=Fr;function Nr(sn){return At(function(ln,cn){var dn=-1,pn=cn.length,vn=pn>1?cn[pn-1]:void 0,Sn=pn>2?cn[2]:void 0;for(vn=sn.length>3&&typeof vn=="function"?(pn--,vn):void 0,Sn&&Ct(cn[0],cn[1],Sn)&&(vn=pn<3?void 0:vn,pn=1),ln=Object(ln);++dn<pn;){var En=cn[dn];En&&sn(ln,En,dn,vn)}return ln})}var wt=Nr,Wr=Object.prototype;function Gr(sn){var ln=sn&&sn.constructor,cn=typeof ln=="function"&&ln.prototype||Wr;return sn===cn}var H$2=Gr;function Ur(sn,ln){for(var cn=-1,dn=Array(sn);++cn<sn;)dn[cn]=ln(cn);return dn}var Pt=Ur,Hr="[object Arguments]";function qr(sn){return x$3(sn)&&h$1(sn)==Hr}var Y$2=qr,It=Object.prototype,Vr=It.hasOwnProperty,Kr=It.propertyIsEnumerable,kr=Y$2(function(){return arguments}())?Y$2:function(sn){return x$3(sn)&&Vr.call(sn,"callee")&&!Kr.call(sn,"callee")},L$2=kr;function $r(){return!1}var St=$r,Et=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Bt=Et&&typeof module=="object"&&module&&!module.nodeType&&module,Jr=Bt&&Bt.exports===Et,Mt=Jr?d$3.Buffer:void 0,Xr=Mt?Mt.isBuffer:void 0,Yr=Xr||St,q$1=Yr,Zr="[object Arguments]",Qr="[object Array]",to="[object Boolean]",eo="[object Date]",ro="[object Error]",oo="[object Function]",ao="[object Map]",fo="[object Number]",po="[object Object]",so="[object RegExp]",io="[object Set]",no="[object String]",uo="[object WeakMap]",lo="[object ArrayBuffer]",mo="[object DataView]",xo="[object Float32Array]",co="[object Float64Array]",ho="[object Int8Array]",go="[object Int16Array]",yo="[object Int32Array]",bo="[object Uint8Array]",vo="[object Uint8ClampedArray]",_o="[object Uint16Array]",Oo="[object Uint32Array]",n$1={};n$1[xo]=n$1[co]=n$1[ho]=n$1[go]=n$1[yo]=n$1[bo]=n$1[vo]=n$1[_o]=n$1[Oo]=!0;n$1[Zr]=n$1[Qr]=n$1[lo]=n$1[to]=n$1[mo]=n$1[eo]=n$1[ro]=n$1[oo]=n$1[ao]=n$1[fo]=n$1[po]=n$1[so]=n$1[io]=n$1[no]=n$1[uo]=!1;function To(sn){return x$3(sn)&&U$2(sn.length)&&!!n$1[h$1(sn)]}var Lt=To;function jo(sn){return function(ln){return sn(ln)}}var Dt=jo,Rt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,D$2=Rt&&typeof module=="object"&&module&&!module.nodeType&&module,Ao=D$2&&D$2.exports===Rt,Z=Ao&&F$2.process,Co=function(){try{var sn=D$2&&D$2.require&&D$2.require("util").types;return sn||Z&&Z.binding&&Z.binding("util")}catch{}}(),Q$1=Co,zt=Q$1&&Q$1.isTypedArray,wo=zt?Dt(zt):Lt,V=wo,Po=Object.prototype,Io=Po.hasOwnProperty;function So(sn,ln){var cn=E$2(sn),dn=!cn&&L$2(sn),pn=!cn&&!dn&&q$1(sn),vn=!cn&&!dn&&!pn&&V(sn),Sn=cn||dn||pn||vn,En=Sn?Pt(sn.length,String):[],Cn=En.length;for(var Pn in sn)(ln||Io.call(sn,Pn))&&!(Sn&&(Pn=="length"||pn&&(Pn=="offset"||Pn=="parent")||vn&&(Pn=="buffer"||Pn=="byteLength"||Pn=="byteOffset")||G$1(Pn,Cn)))&&En.push(Pn);return En}var Ft=So;function Bo(sn,ln){return function(cn){return sn(ln(cn))}}var Nt=Bo;function Mo(sn){var ln=[];if(sn!=null)for(var cn in Object(sn))ln.push(cn);return ln}var Wt=Mo,Eo=Object.prototype,Lo=Eo.hasOwnProperty;function Do(sn){if(!l$1(sn))return Wt(sn);var ln=H$2(sn),cn=[];for(var dn in sn)dn=="constructor"&&(ln||!Lo.call(sn,dn))||cn.push(dn);return cn}var Gt=Do;function Ro(sn){return C$2(sn)?Ft(sn,!0):Gt(sn)}var K$2=Ro,zo=T$3(Object,"create"),c$2=zo;function Fo(){this.__data__=c$2?c$2(null):{},this.size=0}var Ut=Fo;function No(sn){var ln=this.has(sn)&&delete this.__data__[sn];return this.size-=ln?1:0,ln}var Ht=No,Wo="__lodash_hash_undefined__",Go=Object.prototype,Uo=Go.hasOwnProperty;function Ho(sn){var ln=this.__data__;if(c$2){var cn=ln[sn];return cn===Wo?void 0:cn}return Uo.call(ln,sn)?ln[sn]:void 0}var qt=Ho,qo=Object.prototype,Vo=qo.hasOwnProperty;function Ko(sn){var ln=this.__data__;return c$2?ln[sn]!==void 0:Vo.call(ln,sn)}var Vt=Ko,ko="__lodash_hash_undefined__";function $o(sn,ln){var cn=this.__data__;return this.size+=this.has(sn)?0:1,cn[sn]=c$2&&ln===void 0?ko:ln,this}var Kt=$o;function w$2(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}w$2.prototype.clear=Ut;w$2.prototype.delete=Ht;w$2.prototype.get=qt;w$2.prototype.has=Vt;w$2.prototype.set=Kt;var tt=w$2;function Jo(){this.__data__=[],this.size=0}var kt=Jo;function Xo(sn,ln){for(var cn=sn.length;cn--;)if(g$1(sn[cn][0],ln))return cn;return-1}var y$1=Xo,Yo=Array.prototype,Zo=Yo.splice;function Qo(sn){var ln=this.__data__,cn=y$1(ln,sn);if(cn<0)return!1;var dn=ln.length-1;return cn==dn?ln.pop():Zo.call(ln,cn,1),--this.size,!0}var $t=Qo;function ta(sn){var ln=this.__data__,cn=y$1(ln,sn);return cn<0?void 0:ln[cn][1]}var Jt=ta;function ea(sn){return y$1(this.__data__,sn)>-1}var Xt=ea;function ra(sn,ln){var cn=this.__data__,dn=y$1(cn,sn);return dn<0?(++this.size,cn.push([sn,ln])):cn[dn][1]=ln,this}var Yt=ra;function P$1(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}P$1.prototype.clear=kt;P$1.prototype.delete=$t;P$1.prototype.get=Jt;P$1.prototype.has=Xt;P$1.prototype.set=Yt;var b$1=P$1,oa=T$3(d$3,"Map"),k$1=oa;function aa(){this.size=0,this.__data__={hash:new tt,map:new(k$1||b$1),string:new tt}}var Zt=aa;function fa(sn){var ln=typeof sn;return ln=="string"||ln=="number"||ln=="symbol"||ln=="boolean"?sn!=="__proto__":sn===null}var Qt=fa;function pa(sn,ln){var cn=sn.__data__;return Qt(ln)?cn[typeof ln=="string"?"string":"hash"]:cn.map}var v$1=pa;function sa(sn){var ln=v$1(this,sn).delete(sn);return this.size-=ln?1:0,ln}var te=sa;function ia(sn){return v$1(this,sn).get(sn)}var ee=ia;function na(sn){return v$1(this,sn).has(sn)}var re=na;function ua(sn,ln){var cn=v$1(this,sn),dn=cn.size;return cn.set(sn,ln),this.size+=cn.size==dn?0:1,this}var oe=ua;function I$1(sn){var ln=-1,cn=sn==null?0:sn.length;for(this.clear();++ln<cn;){var dn=sn[ln];this.set(dn[0],dn[1])}}I$1.prototype.clear=Zt;I$1.prototype.delete=te;I$1.prototype.get=ee;I$1.prototype.has=re;I$1.prototype.set=oe;var ae=I$1,la=Nt(Object.getPrototypeOf,Object),$$V=la,ma="[object Object]",da=Function.prototype,xa=Object.prototype,fe=da.toString,ca=xa.hasOwnProperty,ha=fe.call(Object);function ga(sn){if(!x$3(sn)||h$1(sn)!=ma)return!1;var ln=$$V(sn);if(ln===null)return!0;var cn=ca.call(ln,"constructor")&&ln.constructor;return typeof cn=="function"&&cn instanceof cn&&fe.call(cn)==ha}var pe=ga;function ya(){this.__data__=new b$1,this.size=0}var se=ya;function ba(sn){var ln=this.__data__,cn=ln.delete(sn);return this.size=ln.size,cn}var ie=ba;function va(sn){return this.__data__.get(sn)}var ne=va;function _a(sn){return this.__data__.has(sn)}var ue=_a,Oa=200;function Ta(sn,ln){var cn=this.__data__;if(cn instanceof b$1){var dn=cn.__data__;if(!k$1||dn.length<Oa-1)return dn.push([sn,ln]),this.size=++cn.size,this;cn=this.__data__=new ae(dn)}return cn.set(sn,ln),this.size=cn.size,this}var le=Ta;function S$2(sn){var ln=this.__data__=new b$1(sn);this.size=ln.size}S$2.prototype.clear=se;S$2.prototype.delete=ie;S$2.prototype.get=ne;S$2.prototype.has=ue;S$2.prototype.set=le;var me=S$2,he=typeof exports=="object"&&exports&&!exports.nodeType&&exports,de=he&&typeof module=="object"&&module&&!module.nodeType&&module,ja=de&&de.exports===he,xe=ja?d$3.Buffer:void 0,ce=xe?xe.allocUnsafe:void 0;function Aa(sn,ln){if(ln)return sn.slice();var cn=sn.length,dn=ce?ce(cn):new sn.constructor(cn);return sn.copy(dn),dn}var ge=Aa,Ca=d$3.Uint8Array,et=Ca;function wa(sn){var ln=new sn.constructor(sn.byteLength);return new et(ln).set(new et(sn)),ln}var ye=wa;function Pa(sn,ln){var cn=ln?ye(sn.buffer):sn.buffer;return new sn.constructor(cn,sn.byteOffset,sn.length)}var be=Pa;function Ia(sn){return typeof sn.constructor=="function"&&!H$2(sn)?xt($$V(sn)):{}}var ve=Ia;function Sa(sn){return function(ln,cn,dn){for(var pn=-1,vn=Object(ln),Sn=dn(ln),En=Sn.length;En--;){var Cn=Sn[sn?En:++pn];if(cn(vn[Cn],Cn,vn)===!1)break}return ln}}var _e=Sa,Ba=_e(),Oe=Ba;function Ma(sn,ln,cn){(cn!==void 0&&!g$1(sn[ln],cn)||cn===void 0&&!(ln in sn))&&A$2(sn,ln,cn)}var R$2=Ma;function Ea(sn){return x$3(sn)&&C$2(sn)}var Te=Ea;function La(sn,ln){if(!(ln==="constructor"&&typeof sn[ln]=="function")&&ln!="__proto__")return sn[ln]}var z$2=La;function Da(sn){return Ot(sn,K$2(sn))}var je=Da;function Ra(sn,ln,cn,dn,pn,vn,Sn){var En=z$2(sn,cn),Cn=z$2(ln,cn),Pn=Sn.get(Cn);if(Pn){R$2(sn,cn,Pn);return}var Rn=vn?vn(En,Cn,cn+"",sn,ln,Sn):void 0,Ln=Rn===void 0;if(Ln){var Fn=E$2(Cn),Gn=!Fn&&q$1(Cn),Dn=!Fn&&!Gn&&V(Cn);Rn=Cn,Fn||Gn||Dn?E$2(En)?Rn=En:Te(En)?Rn=ht(En):Gn?(Ln=!1,Rn=ge(Cn,!0)):Dn?(Ln=!1,Rn=be(Cn,!0)):Rn=[]:pe(Cn)||L$2(Cn)?(Rn=En,L$2(En)?Rn=je(En):(!l$1(En)||O$2(En))&&(Rn=ve(Cn))):Ln=!1}Ln&&(Sn.set(Cn,Rn),pn(Rn,Cn,dn,vn,Sn),Sn.delete(Cn)),R$2(sn,cn,Rn)}var Ae=Ra;function Ce(sn,ln,cn,dn,pn){sn!==ln&&Oe(ln,function(vn,Sn){if(pn||(pn=new me),l$1(vn))Ae(sn,ln,Sn,cn,Ce,dn,pn);else{var En=dn?dn(z$2(sn,Sn),vn,Sn+"",sn,ln,pn):void 0;En===void 0&&(En=vn),R$2(sn,Sn,En)}},K$2)}var we=Ce,za=wt(function(sn,ln,cn){we(sn,ln,cn)}),rt=za,Pe=(sn,ln,cn)=>sn==="dot"?ln.colors.gray[8]:sn==="filled"?"white":cn,Ua={xs:"6px",sm:"6px",md:"8px",lg:"10px",xl:"12px"};function Ha(sn){let{children:ln,removable:cn,color:dn,variant:pn="light",onRemove:vn,size:Sn="md",...En}=sn,Cn=rt({root:{backgroundColor:pn==="dot"?"white":"",padding:`0 ${getSize({size:Sn,sizes:Ua})}`}},En.styles);return jsx(Badge,{color:dn,variant:pn,rightSection:cn&&jsx(s$3,{onClick:vn,size:"xs",sx:Pn=>({"&:hover":{backgroundColor:"transparent"},color:Pe(pn,Pn,dn)})}),styles:Cn,size:Sn,...En,children:ln})}var qa=Ha,Va=qa;/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/var o$2=reactExports.forwardRef((sn,ln)=>jsx(Box,{...sn,ref:ln}));o$2.displayName="Box";var B$1=o$2,m$1=B$1,x$2={xs:14,sm:18,md:22,lg:26,xl:32},u$1=({size:sn,compact:ln,leftIcon:cn,rightIcon:dn})=>ln||cn&&dn?{}:cn?{paddingLeft:x$2[sn]}:dn?{paddingRight:x$2[sn]}:{},t=16,p$1={"2xs":10,xs:12,sm:14,md:16,lg:20,xl:24,"2xl":32,"1x":t*1,"2x":t*2,"3x":t*3,"4x":t*4,"5x":t*5,"6x":t*6,"7x":t*7,"8x":t*8,"9x":t*9,"10x":t*10},N$2=[...MANTINE_COLORS,"infgreen","white","rallit"],T$2=Array.from(Array(10).keys());N$2.flatMap(sn=>T$2.map(ln=>`${sn}.${ln}`));var s$2=reactExports.forwardRef((sn,ln)=>{let{children:cn,sx:dn,leftIcon:pn,rightIcon:vn,size:Sn="sm",compact:En,...Cn}=sn,Pn=()=>j$c({icon:{svg:{width:p$1[Sn],height:p$1[Sn]}}},Cn.styles);return jsx(Button,{ref:ln,sx:[u$1({size:Sn,compact:En,leftIcon:pn,rightIcon:vn}),...packSx(dn)],compact:En,leftIcon:pn,rightIcon:vn,size:Sn,styles:Pn,...Cn,children:cn})}),d$2=reactExports.forwardRef((sn,ln)=>jsx(Button.Group,{ref:ln,...sn}));s$2.displayName="Button";d$2.displayName="ButtonGroup";s$2.Group=d$2;var A$1=s$2;function d$1(sn){let{children:ln,...cn}=sn;return jsx(Card,{...cn,children:ln})}var o$1=d$1;o$1.Section=Card.Section;var i$3=o$1,s$1={"1.5":1.5,"1.7":1.7};function i$2(sn){let{sx:ln,lineHeight:cn=s$1["1.5"],children:dn,...pn}=sn;return jsx(Text,{component:"p",sx:[{lineHeight:cn},...packSx(ln)],...pn,children:dn})}var a$2=i$2,c$1=a$2;function a$1(sn,ln){return a$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(cn,dn){return cn.__proto__=dn,cn},a$1(sn,ln)}function x$1(sn,ln){sn.prototype=Object.create(ln.prototype),sn.prototype.constructor=sn,a$1(sn,ln)}var N$1=function(sn,ln){return sn===void 0&&(sn=[]),ln===void 0&&(ln=[]),sn.length!==ln.length||sn.some(function(cn,dn){return!Object.is(cn,ln[dn])})},C$1={error:null},R$1=function(sn){x$1(ln,sn);function ln(){for(var dn,pn=arguments.length,vn=new Array(pn),Sn=0;Sn<pn;Sn++)vn[Sn]=arguments[Sn];return dn=sn.call.apply(sn,[this].concat(vn))||this,dn.state=C$1,dn.resetErrorBoundary=function(){for(var En,Cn=arguments.length,Pn=new Array(Cn),Rn=0;Rn<Cn;Rn++)Pn[Rn]=arguments[Rn];dn.props.onReset==null||(En=dn.props).onReset.apply(En,Pn),dn.reset()},dn}ln.getDerivedStateFromError=function(dn){return{error:dn}};var cn=ln.prototype;return cn.reset=function(){this.setState(C$1)},cn.componentDidCatch=function(dn,pn){var vn,Sn;(vn=(Sn=this.props).onError)==null||vn.call(Sn,dn,pn)},cn.componentDidUpdate=function(dn,pn){var vn=this.state.error,Sn=this.props.resetKeys;if(vn!==null&&pn.error!==null&&N$1(dn.resetKeys,Sn)){var En,Cn;(En=(Cn=this.props).onResetKeysChange)==null||En.call(Cn,dn.resetKeys,Sn),this.reset()}},cn.render=function(){var dn=this.state.error,pn=this.props,vn=pn.fallbackRender,Sn=pn.FallbackComponent,En=pn.fallback;if(dn!==null){var Cn={error:dn,resetErrorBoundary:this.resetErrorBoundary};if(reactExports.isValidElement(En))return En;if(typeof vn=="function")return vn(Cn);if(Sn)return reactExports.createElement(Sn,Cn);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},ln}(reactExports.Component);function Y$1(sn,ln){try{return sn.addEventListener("change",ln),()=>sn.removeEventListener("change",ln)}catch{return sn.addListener(ln),()=>sn.removeListener(ln)}}function z$1(sn,ln){return typeof ln=="boolean"?ln:typeof window<"u"&&"matchMedia"in window?window.matchMedia(sn).matches:!1}function O$1(sn,ln,{getInitialValueInEffect:cn}={getInitialValueInEffect:!0}){const[dn,pn]=reactExports.useState(cn?ln:z$1(sn,ln)),vn=reactExports.useRef();return reactExports.useEffect(()=>{if("matchMedia"in window)return vn.current=window.matchMedia(sn),pn(vn.current.matches),Y$1(vn.current,Sn=>pn(Sn.matches))},[sn]),dn}const D$1=sn=>`
  @media (max-width: ${sn}px)
`;function f$1(sn){return D$1(y$3[sn])}const U$1=sn=>O$1(sn);function L$1({onClickGoBack:sn}){return jsxs(i$3,{withBorder:!0,maw:420,css:F$1,children:[jsx(Va,{size:"sm",radius:"sm",color:"yellow",mb:8,children:"404 Error"}),jsx(c$1,{size:22,weight:500,mb:4,children:"페이지를 찾을 수 없어요"}),jsx(c$1,{size:16,mb:8,children:"입력하신 주소가 정확한지 다시 한 번 확인해 주세요."}),jsx(A$1,{onClick:sn,size:"sm",variant:"default",children:"돌아가기"})]})}const F$1=css$1({position:"absolute",bottom:"40px",left:"40px",right:"40px",[f$1("md")]:{bottom:"20px",left:"20px",right:"20px"}},"",""),w$1=reactExports.lazy(()=>__vitePreload(()=>import("./react-spline-7f25e880-5fc0ba54.js"),[])),E$1=sn=>({NOT_FOUND_IMAGE:`${sn}/public/errors/not-found.png`,SPLINE_FILE:`${sn}/public/errors/not-found.splinecode`});function K$1({cdnLink:sn,onClickGoBack:ln}){const[cn,dn]=reactExports.useState(!0),pn=U$1(`(max-width: ${y$3.sm}px)`),vn=E$1(sn),Sn=()=>{dn(!1)};return jsxs(m$1,{css:H$1(cn,vn.NOT_FOUND_IMAGE),children:[jsx(R$1,{FallbackComponent:Q,children:jsx(reactExports.Suspense,{fallback:jsx(Fragment,{}),children:jsx(w$1,{scene:vn.SPLINE_FILE,style:S$1(pn),onLoad:Sn})})}),jsx(L$1,{onClickGoBack:ln})]})}function Q(){return jsx(Fragment,{})}const H$1=(sn,ln)=>css$1({width:"100%",height:"100%",backgroundColor:"#FCEECA",position:"relative",backgroundImage:sn?`url(${ln})`:"none",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},"",""),T$1="absolute",S$1=sn=>({position:sn?T$1:void 0,width:sn?"200%":"100%",transform:sn?"translateX(-50%)":void 0,left:sn?"50%":void 0});var _ref={name:"197kdb2",styles:"position:relative;height:100vh"};function NotFound(){const sn=useNavigate(),ln=()=>{sn(-1)};return jsx("div",{css:_ref,children:jsx(K$1,{cdnLink:appConfig.CDN_URL,onClickGoBack:ln})})}const isAccountError=sn=>["/activity-log","/coach/alarm","/coach/weekly-goal","/institution"].some(ln=>sn.includes(ln)),isHackleError=sn=>{var dn;const ln=sn.error.message.includes("Request error"),cn=(dn=sn.error.handling_stack)==null?void 0:dn.includes("hackle");return ln&&cn},isRumErrorEvent=sn=>sn.error!==void 0;isDebugMode()&&appConfig.MODE!=="localhost"&&initLogger();datadogRum.init({applicationId:"a321fe62-4c8b-4f29-814f-b9a8f40ed7f2",clientToken:"pubba81abeb82534976f298f54d286f9c47",site:"datadoghq.com",service:"inflearn-lecture",env:appConfig.MODE,version:appConfig.COMMIT_HASH,sessionSampleRate:isBot(window.navigator.userAgent)?0:100,sessionReplaySampleRate:50,trackInteractions:!0,defaultPrivacyLevel:appConfig.DATADOG_RUM_PRIVACY_LEVEL,trackSessionAcrossSubdomains:!0,trackResources:!0,beforeSend:sn=>{const ln=isRumErrorEvent(sn);if(ln&&(IGNORE_ERRORS.includes(sn.error.message)||isHackleError(sn)))return!1;sn.type==="resource"&&sn.resource.type==="fetch"&&(sn.context||(sn.context={}),sn.context.response&&(sn.context.responseHeaders=Object.fromEntries(sn.context.response.headers))),ln&&isAccountError(sn.error.message)&&(sn.context={...sn.context,cell:"account"})}}),datadogRum.startSessionReplayRecording();function App(){return useSetMobileVh(),jsxs(Routes,{children:[jsx(Route,{path:URL_LECTURE_V2,element:jsxs(ErrorBoundary,{FallbackComponent:AppErrorFallback,children:[jsx(Course,{}),jsx(Modals,{})]})}),jsx(Route,{path:"*",element:jsx(NotFound,{})})]})}var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(sn){return typeof sn=="string"&&REGEX.test(sn)}var byteToHex=[];for(var i$1=0;i$1<256;++i$1)byteToHex.push((i$1+256).toString(16).substr(1));function stringify(sn){var ln=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,cn=(byteToHex[sn[ln+0]]+byteToHex[sn[ln+1]]+byteToHex[sn[ln+2]]+byteToHex[sn[ln+3]]+"-"+byteToHex[sn[ln+4]]+byteToHex[sn[ln+5]]+"-"+byteToHex[sn[ln+6]]+byteToHex[sn[ln+7]]+"-"+byteToHex[sn[ln+8]]+byteToHex[sn[ln+9]]+"-"+byteToHex[sn[ln+10]]+byteToHex[sn[ln+11]]+byteToHex[sn[ln+12]]+byteToHex[sn[ln+13]]+byteToHex[sn[ln+14]]+byteToHex[sn[ln+15]]).toLowerCase();if(!validate(cn))throw TypeError("Stringified UUID is invalid");return cn}function v4(sn,ln,cn){sn=sn||{};var dn=sn.random||(sn.rng||rng)();if(dn[6]=dn[6]&15|64,dn[8]=dn[8]&63|128,ln){cn=cn||0;for(var pn=0;pn<16;++pn)ln[cn+pn]=dn[pn];return ln}return stringify(dn)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$1=function(sn,ln){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(cn,dn){cn.__proto__=dn}||function(cn,dn){for(var pn in dn)dn.hasOwnProperty(pn)&&(cn[pn]=dn[pn])},extendStatics$1(sn,ln)};function __extends$1(sn,ln){extendStatics$1(sn,ln);function cn(){this.constructor=sn}sn.prototype=ln===null?Object.create(ln):(cn.prototype=ln.prototype,new cn)}var __assign$1=function(){return __assign$1=Object.assign||function(ln){for(var cn,dn=1,pn=arguments.length;dn<pn;dn++){cn=arguments[dn];for(var vn in cn)Object.prototype.hasOwnProperty.call(cn,vn)&&(ln[vn]=cn[vn])}return ln},__assign$1.apply(this,arguments)};function __awaiter(sn,ln,cn,dn){function pn(vn){return vn instanceof cn?vn:new cn(function(Sn){Sn(vn)})}return new(cn||(cn=Promise))(function(vn,Sn){function En(Rn){try{Pn(dn.next(Rn))}catch(Ln){Sn(Ln)}}function Cn(Rn){try{Pn(dn.throw(Rn))}catch(Ln){Sn(Ln)}}function Pn(Rn){Rn.done?vn(Rn.value):pn(Rn.value).then(En,Cn)}Pn((dn=dn.apply(sn,ln||[])).next())})}function __generator(sn,ln){var cn={label:0,sent:function(){if(vn[0]&1)throw vn[1];return vn[1]},trys:[],ops:[]},dn,pn,vn,Sn;return Sn={next:En(0),throw:En(1),return:En(2)},typeof Symbol=="function"&&(Sn[Symbol.iterator]=function(){return this}),Sn;function En(Pn){return function(Rn){return Cn([Pn,Rn])}}function Cn(Pn){if(dn)throw new TypeError("Generator is already executing.");for(;cn;)try{if(dn=1,pn&&(vn=Pn[0]&2?pn.return:Pn[0]?pn.throw||((vn=pn.return)&&vn.call(pn),0):pn.next)&&!(vn=vn.call(pn,Pn[1])).done)return vn;switch(pn=0,vn&&(Pn=[Pn[0]&2,vn.value]),Pn[0]){case 0:case 1:vn=Pn;break;case 4:return cn.label++,{value:Pn[1],done:!1};case 5:cn.label++,pn=Pn[1],Pn=[0];continue;case 7:Pn=cn.ops.pop(),cn.trys.pop();continue;default:if(vn=cn.trys,!(vn=vn.length>0&&vn[vn.length-1])&&(Pn[0]===6||Pn[0]===2)){cn=0;continue}if(Pn[0]===3&&(!vn||Pn[1]>vn[0]&&Pn[1]<vn[3])){cn.label=Pn[1];break}if(Pn[0]===6&&cn.label<vn[1]){cn.label=vn[1],vn=Pn;break}if(vn&&cn.label<vn[2]){cn.label=vn[2],cn.ops.push(Pn);break}vn[2]&&cn.ops.pop(),cn.trys.pop();continue}Pn=ln.call(sn,cn)}catch(Rn){Pn=[6,Rn],pn=0}finally{dn=vn=0}if(Pn[0]&5)throw Pn[1];return{value:Pn[0]?Pn[1]:void 0,done:!0}}}var ObjectUtil$1=function(){function sn(){}return sn.isNotNullOrUndefined=function(ln){return ln!=null},sn.isNullOrUndefined=function(ln){return ln==null},sn.requiredNotNullOrUndefined=function(ln,cn){if(cn===void 0&&(cn=function(){return"Required value is null or undefined"}),this.isNullOrUndefined(ln))throw new Error(cn());return ln},sn}(),CollectionUtil=function(){function sn(){}return sn.mapNotNullOrUndefined=function(ln,cn){for(var dn=Array(),pn=0,vn=ln;pn<vn.length;pn++){var Sn=vn[pn],En=cn(Sn);ObjectUtil$1.isNotNullOrUndefined(En)&&dn.push(En)}return dn},sn.associateTo=function(ln,cn,dn){for(var pn=0,vn=ln;pn<vn.length;pn++){var Sn=vn[pn],En=dn(Sn);cn.set(En[0],En[1])}return cn},sn.associate=function(ln,cn){return this.associateTo(ln,new Map,cn)},sn.associateBy=function(ln,cn){return this.associate(ln,function(dn){return[cn(dn),dn]})},sn.chunked=function(ln,cn){for(var dn=[],pn=ln.slice();pn.length;)dn.push(pn.splice(0,cn));return dn},sn}(),logLevels={DISABLE:0,ERROR:1,WARN:2,INFO:3,DEBUG:4},Logger=function(){function sn(){}return sn.setLogLevel=function(ln){ln===void 0&&(ln=logLevels.INFO),this.logLevel=ln},sn.initCounter=function(ln){this.counters=CollectionUtil.associate(Object.keys(logLevels),function(cn){return[cn,ln(cn)]})},sn._log=function(ln,cn){var dn;switch(ln){case"WARN":dn="orange";break;case"ERROR":dn="red";break;default:dn="#AAAAAA"}if(cn instanceof Error){ConsoleLogger.log(ln,dn,cn.message,cn);return}try{ConsoleLogger.log(ln,dn,cn)}catch{}},sn.increment=function(ln){var cn,dn;(dn=(cn=sn.counters)===null||cn===void 0?void 0:cn.get(ln))===null||dn===void 0||dn.increment()},sn.logLevel=logLevels.INFO,sn.log={error:function(ln){sn.logLevel>=logLevels.ERROR&&(sn._log("ERROR",ln),sn.increment("ERROR"))},warn:function(ln){sn.logLevel>=logLevels.WARN&&(sn._log("WARN",ln),sn.increment("WARN"))},info:function(ln){sn.logLevel>=logLevels.INFO&&(sn._log("INFO",ln),sn.increment("INFO"))},debug:function(ln){sn.logLevel>=logLevels.DEBUG&&(sn._log("DEBUG",ln),sn.increment("DEBUG"))}},sn}(),ConsoleLogger=function(){function sn(){}return sn.log=function(ln,cn,dn,pn){try{console.log("%c[".concat(ln,"] Hackle: ").concat(dn),"color: ".concat(cn))}catch{}},sn}(),DEFAULT_CLIENT_SDK_URL="https://client-sdk.hackle.io",DEFAULT_EVENT_URL="https://event.hackle.io",DEFAULT_MONITORING_URL="https://monitoring.hackle.io",SDK_KEY_HEADER="X-HACKLE-SDK-KEY",SDK_NAME_HEADER$1="X-HACKLE-SDK-NAME",SDK_VERSION_HEADER$1="X-HACKLE-SDK-VERSION",SDK_TIME_HEADER="X-HACKLE-SDK-TIME",SDK_VERSION="11.14.2",BROWSER_MIN_POOL_INTERVAL=3e4,BROWSER_BATCH_SIZE=100,METRIC_FLUSH_INTERVAL=1e3*60,BROWSER_FLUSH_INTERVAL=500,DEFAULT_ON_READY_TIMEOUT=3e3,ERROR_RETRY_BASE_WAIT_SECONDS_BY_ERROR_COUNT=[0,8,16,32,64,128,256,512],COOKIE_EXPIRE_DAYS=365*10,COOKIE_HID_KEY="_hackle_hid",COOKIE_USER_ID_KEY="_hackle_id",LOCAL_STORAGE_KEY_PREFIX="hackle-repository-storage",DEFAULT_SESSION_TIMEOUT_MILLIS=1e3*60*30,SESSION_ID_STORAGE_KEY="_hackle_session_id",LAST_EVENT_TIME_STORAGE_KEY="_hackle_last_event_ts",USER_ID_STORAGE_KEY="_hackle_uid",DEVICE_ID_STORAGE_KEY="_hackle_did",OVERRIDE_AB_STORAGE_PREFIX="hackle-manual-override_ab",OVERRIDE_FF_STORAGE_PREFIX="hackle-manual-override_ff",log$8=Logger.log;function getRequest(sn,ln){var cn=new Promise(function(dn,pn){var vn=new XMLHttpRequest;vn.open("GET",sn),vn.onreadystatechange=function(){if(vn.readyState===vn.DONE){if(vn.status===0){pn(new Error("Request error"));return}dn({statusCode:vn.status,body:vn.responseText})}},vn.onerror=function(){pn()},vn.setRequestHeader("content-type","application/json"),setHeaders(vn,ln),vn.send()});return{abort:function(){},responsePromise:cn}}function postRequest(sn,ln,cn,dn,pn){var vn=JSON.stringify(ln),Sn=new XMLHttpRequest;Sn.open("POST",sn),Sn.onreadystatechange=function(){Sn.readyState===Sn.DONE&&(Sn.status>=200&&Sn.status<400?dn({statusCode:Sn.status}):pn&&pn({statusCode:Sn.status}))},Sn.setRequestHeader("content-type","application/json"),setHeaders(Sn,cn),Sn.send(vn)}function setHeaders(sn,ln){for(var cn in ln)ln.hasOwnProperty(cn)&&sn.setRequestHeader(cn,ln[cn])}function sendBeacon(sn,ln,cn,dn,pn){var vn=!1;if(typeof window<"u"&&(vn=window&&window.navigator&&window.navigator.sendBeacon&&!0),vn){var Sn=JSON.stringify(ln),En=new URLSearchParams;En.append("sdkName",cn[SDK_NAME_HEADER$1]),En.append("sdkVersion",cn[SDK_VERSION_HEADER$1]),En.append("sdkKey",cn[SDK_KEY_HEADER]),En.append("data",Sn);var Cn=window.navigator.sendBeacon(sn,En);if(!Cn){log$8.error("sendBeacon failed to queue request."),pn();return}dn()}else log$8.error("Does not support sendBeacon"),pn()}var HttpRequest={getRequest,postRequest,sendBeacon},log$7=Logger.log,IdentifierUtil=function(){function sn(){}return sn.isEquals=function(ln,cn){if(cn==null)return!1;var dn=Object.keys(ln);return dn.length!==Object.keys(cn).length?!1:dn.every(function(pn){return ln[pn]===cn[pn]})},sn.sanitize=function(ln){var cn={};if(ObjectUtil$1.isNullOrUndefined(ln))return cn;for(var dn=0,pn=Object.entries(ln);dn<pn.length;dn++){var vn=pn[dn],Sn=vn[0],En=vn[1];if(!this.isValidType(Sn)){log$7.debug("Invalid identifier type. The identifier type must be a string of 128 characters or less. [".concat(Sn,"]"));continue}var Cn=this.sanitizeValue(En);if(ObjectUtil$1.isNullOrUndefined(Cn)){log$7.debug("Invalid identifier value. The identifier type value be a string of 512 characters or less. [".concat(Sn,"]"));continue}cn[Sn]=Cn}return cn},sn.isValidType=function(ln){return ObjectUtil$1.isNullOrUndefined(ln)?!1:typeof ln=="string"&&ln.length>0&&ln.length<=this.MAX_IDENTIFIER_TYPE_LENGTH},sn.sanitizeValue=function(ln){return typeof ln=="string"&&ln.length>0&&ln.length<=this.MAX_IDENTIFIER_VALUE_LENGTH?ln:typeof ln=="number"?ln.toString():null},sn.MAX_IDENTIFIER_TYPE_LENGTH=128,sn.MAX_IDENTIFIER_VALUE_LENGTH=512,sn}(),log$6=Logger.log,PropertyUtil=function(){function sn(){}return sn.sanitize=function(ln){var cn={};if(ObjectUtil$1.isNullOrUndefined(ln))return cn;for(var dn=0,pn=Object.entries(ln);dn<pn.length;dn++){var vn=pn[dn],Sn=vn[0],En=vn[1];if(Object.keys(cn).length>=this.MAX_PROPERTIES_COUNT){log$6.debug("The number of properties cannot exceed 128. Drops excess properties. [".concat(Sn,", ").concat(En,"]"));break}if(!this.isValidKey(Sn)){log$6.debug("Invalid property key. The property key must be a string of 128 characters or less. [".concat(Sn,"]"));continue}var Cn=this.sanitizeValue(Sn,En);if(ObjectUtil$1.isNullOrUndefined(Cn)){log$6.debug("Invalid property value. The property value mus be 'string(..1024)', 'number', 'boolean', or 'array' type. [".concat(En,"]"));continue}cn[Sn]=Cn}return cn},sn.isValidProperty=function(ln,cn){return this.isValidKey(ln)&&this.isValidValue(cn)},sn.isValidKey=function(ln){return ObjectUtil$1.isNotNullOrUndefined(ln)&&typeof ln=="string"&&ln.length>0&&ln.length<=this.MAX_PROPERTY_KEY_LENGTH},sn.sanitizeValue=function(ln,cn){var dn=this;return ln.startsWith(this.SYSTEM_PROPERTY_KEY_PREFIX)?cn:this.isValidValue(cn)?Array.isArray(cn)?cn.filter(function(pn){return dn.isValidElement(pn)}):cn:null},sn.isValidValue=function(ln){return ObjectUtil$1.isNullOrUndefined(ln)?!1:typeof ln=="string"?ln.length<=this.MAX_PROPERTY_VALUE_LENGTH:typeof ln=="number"?!isNaN(ln)&&isFinite(ln):typeof ln=="boolean"||Array.isArray(ln)},sn.isValidElement=function(ln){return ObjectUtil$1.isNullOrUndefined(ln)?!1:typeof ln=="string"?ln.length>0&&ln.length<=this.MAX_PROPERTY_VALUE_LENGTH:typeof ln=="number"},sn.SYSTEM_PROPERTY_KEY_PREFIX="$",sn.MAX_PROPERTIES_COUNT=128,sn.MAX_PROPERTY_KEY_LENGTH=128,sn.MAX_PROPERTY_VALUE_LENGTH=1024,sn}(),log$5=Logger.log,RemoteConfigDecision=function(){function sn(ln,cn){this.value=ln,this.reason=cn}return sn.of=function(ln,cn){return new sn(ln,cn)},sn}(),Decision=function(){function sn(ln,cn,dn){this.variation=ln,this.reason=cn,this.config=dn}return sn.of=function(ln,cn,dn){return dn===void 0&&(dn=new EmptyParameterConfig),new sn(ln,cn,dn)},sn.prototype.get=function(ln,cn){switch(typeof cn){case"string":return this.config.get(ln,cn);case"number":return this.config.get(ln,cn);case"boolean":return this.config.get(ln,cn);default:return this.config.get(ln,cn)}},sn}(),FeatureFlagDecision=function(){function sn(ln,cn,dn){this.isOn=ln,this.reason=cn,this.config=dn}return sn.on=function(ln,cn){return cn===void 0&&(cn=new EmptyParameterConfig),new sn(!0,ln,cn)},sn.off=function(ln,cn){return cn===void 0&&(cn=new EmptyParameterConfig),new sn(!1,ln,cn)},sn.prototype.get=function(ln,cn){switch(typeof cn){case"string":return this.config.get(ln,cn);case"number":return this.config.get(ln,cn);case"boolean":return this.config.get(ln,cn);default:return this.config.get(ln,cn)}},sn}(),EmptyParameterConfig=function(){function sn(){}return sn.prototype.get=function(ln,cn){return cn},sn}(),DecisionReason=function(){function sn(){}return sn.SDK_NOT_READY="SDK_NOT_READY",sn.EXCEPTION="EXCEPTION",sn.INVALID_INPUT="INVALID_INPUT",sn.EXPERIMENT_NOT_FOUND="EXPERIMENT_NOT_FOUND",sn.EXPERIMENT_DRAFT="EXPERIMENT_DRAFT",sn.EXPERIMENT_PAUSED="EXPERIMENT_PAUSED",sn.EXPERIMENT_COMPLETED="EXPERIMENT_COMPLETED",sn.OVERRIDDEN="OVERRIDDEN",sn.TRAFFIC_NOT_ALLOCATED="TRAFFIC_NOT_ALLOCATED",sn.NOT_IN_MUTUAL_EXCLUSION_EXPERIMENT="NOT_IN_MUTUAL_EXCLUSION_EXPERIMENT",sn.IDENTIFIER_NOT_FOUND="IDENTIFIER_NOT_FOUND",sn.VARIATION_DROPPED="VARIATION_DROPPED",sn.TRAFFIC_ALLOCATED="TRAFFIC_ALLOCATED",sn.TRAFFIC_ALLOCATED_BY_TARGETING="TRAFFIC_ALLOCATED_BY_TARGETING",sn.NOT_IN_EXPERIMENT_TARGET="NOT_IN_EXPERIMENT_TARGET",sn.FEATURE_FLAG_NOT_FOUND="FEATURE_FLAG_NOT_FOUND",sn.FEATURE_FLAG_INACTIVE="FEATURE_FLAG_INACTIVE",sn.INDIVIDUAL_TARGET_MATCH="INDIVIDUAL_TARGET_MATCH",sn.TARGET_RULE_MATCH="TARGET_RULE_MATCH",sn.DEFAULT_RULE="DEFAULT_RULE",sn.REMOTE_CONFIG_PARAMETER_NOT_FOUND="REMOTE_CONFIG_PARAMETER_NOT_FOUND",sn.TYPE_MISMATCH="TYPE_MISMATCH",sn}(),Experiment=function(){function sn(ln,cn,dn,pn,vn,Sn,En,Cn,Pn,Rn,Ln,Fn,Gn,Dn){this.id=ln,this.key=cn,this.type=dn,this.identifierType=pn,this.status=vn,this.version=Sn,this.variations=En,this.userOverrides=Cn,this.segmentOverrides=Pn,this.targetAudiences=Rn,this.targetRules=Ln,this.defaultRule=Fn,this.containerId=Gn,this._winnerVariationId=Dn}return sn.prototype._winnerVariationOrNull=function(){if(this._winnerVariationId)return this._getVariationByIdOrNull(this._winnerVariationId)},sn.prototype._getVariationByIdOrNull=function(ln){return this.variations.find(function(cn){return cn.id===ln})},sn.prototype._getVariationByKeyOrNull=function(ln){return this.variations.find(function(cn){return cn.key===ln})},sn}(),Variation=function(){function sn(ln,cn,dn,pn){this.id=ln,this.key=cn,this.isDropped=dn,this.parameterConfigurationId=pn}return sn}(),Bucket=function(){function sn(ln,cn,dn){this.seed=ln,this.slotSize=cn,this.slots=dn}return sn}(),Slot=function(){function sn(ln,cn,dn){this.startInclusive=ln,this.endExclusive=cn,this.variationId=dn}return sn.prototype.contains=function(ln){return this.startInclusive<=ln&&ln<this.endExclusive},sn}(),EventType=function(){function sn(ln,cn){this.id=ln,this.key=cn}return sn}(),IdentifierType=function(){function sn(){}return sn.ID="$id",sn.USER="$userId",sn.DEVICE="$deviceId",sn.SESSION="$sessionId",sn.HACKLE_DEVICE="$hackleDeviceId",sn}(),IdentifiersBuilder=function(){function sn(){this.identifiers={}}return sn.prototype.addIdentifiers=function(ln){for(var cn in ln)this.add(cn,ln[cn]);return this},sn.prototype.add=function(ln,cn){var dn=IdentifierUtil.sanitizeValue(cn);return IdentifierUtil.isValidType(ln)&&dn?this.identifiers[ln]=cn:log$5.warn("Invalid user identifier [type=".concat(ln,", value=").concat(cn,"]")),this},sn.prototype.build=function(){return this.identifiers},sn}(),isValidUser=function(sn){return!!(sn.id||sn.userId||sn.deviceId||sn.identifiers&&Object.keys(sn.identifiers).length>0)},sanitizeUser=function(sn){var ln,cn,dn,pn={};return pn.id=(ln=IdentifierUtil.sanitizeValue(sn.id))!==null&&ln!==void 0?ln:void 0,pn.userId=(cn=IdentifierUtil.sanitizeValue(sn.userId))!==null&&cn!==void 0?cn:void 0,pn.deviceId=(dn=IdentifierUtil.sanitizeValue(sn.deviceId))!==null&&dn!==void 0?dn:void 0,typeof sn.properties=="object"&&(pn.properties=PropertyUtil.sanitize(sn.properties)),typeof sn.identifiers=="object"&&(pn.identifiers=IdentifierUtil.sanitize(sn.identifiers)),isValidUser(pn)?pn:null},Target=function(){function sn(ln){this.conditions=ln}return sn}(),TargetCondition=function(){function sn(ln,cn){this.key=ln,this.match=cn}return sn}(),TargetKey=function(){function sn(ln,cn){this.type=ln,this.name=cn}return sn}(),TargetMatch=function(){function sn(ln,cn,dn,pn){this.type=ln,this.operator=cn,this.valueType=dn,this.values=pn}return sn}(),TargetAction=function(){function sn(ln,cn,dn){this.type=ln,this.variationId=cn,this.bucketId=dn}return sn}(),TargetRule=function(){function sn(ln,cn){this.target=ln,this.action=cn}return sn}(),Segment=function(){function sn(ln,cn,dn,pn){this.id=ln,this.key=cn,this.type=dn,this.targets=pn}return sn}(),Container=function(){function sn(ln,cn,dn){this.id=ln,this.bucketId=cn,this.groups=dn}return sn.prototype.getGroupOrNull=function(ln){return this.groups.find(function(cn){return cn.id===ln})},sn}(),ContainerGroup=function(){function sn(ln,cn){this.id=ln,this.experiments=cn}return sn}(),ParameterConfiguration=function(){function sn(ln,cn){this.id=ln,this.parameters=cn}return sn.prototype.get=function(ln,cn){var dn=this.parameters.get(ln);return ObjectUtil$1.isNullOrUndefined(dn)?cn:ObjectUtil$1.isNullOrUndefined(cn)||typeof dn==typeof cn?dn:cn},sn}(),RemoteConfigParameter=function(){function sn(ln,cn,dn,pn,vn,Sn){this.id=ln,this.key=cn,this.type=dn,this.identifierType=pn,this.targetRules=vn,this.defaultValue=Sn}return sn}(),RemoteConfigTargetRule=function(){function sn(ln,cn,dn,pn,vn){this.key=ln,this.name=cn,this.target=dn,this.bucketId=pn,this.value=vn}return sn}(),RemoteConfigParameterValue=function(){function sn(ln,cn){this.id=ln,this.rawValue=cn}return sn}();function compareValues(sn,ln){return sn-ln}var Version=function(){function sn(ln,cn,dn){this.coreVersion=ln,this.prerelease=cn,this.build=dn}return sn.tryParse=function(ln){var cn=sn.regExp.exec(ln);if(cn){cn[0];var dn=cn[1],pn=cn[2],vn=pn===void 0?"0":pn,Sn=cn[3],En=Sn===void 0?"0":Sn,Cn=cn[4],Pn=cn[5],Rn=new CoreVersion(parseInt(dn,10),parseInt(vn,10),parseInt(En,10));return new sn(Rn,MetaVersion.parse(Cn),MetaVersion.parse(Pn))}},sn.prototype.compareTo=function(ln){return this.coreVersion.compareTo(ln.coreVersion)||this.prerelease.compareTo(ln.prerelease)},sn.prototype.isEqualTo=function(ln){return this.compareTo(ln)===0},sn.prototype.isGreaterThan=function(ln){return this.compareTo(ln)>0},sn.prototype.isGreaterThanOrEqualTo=function(ln){return this.compareTo(ln)>=0},sn.prototype.isLessThan=function(ln){return this.compareTo(ln)<0},sn.prototype.isLessThanOrEqualTo=function(ln){return this.compareTo(ln)<=0},sn.regExp=/^(0|[1-9]\d*)(?:\.(0|[1-9]\d*))?(?:\.(0|[1-9]\d*))?(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,sn}(),CoreVersion=function(){function sn(ln,cn,dn){this.major=ln,this.minor=cn,this.patch=dn}return sn.prototype.compareTo=function(ln){return compareValues(this.major,ln.major)||compareValues(this.minor,ln.minor)||compareValues(this.patch,ln.patch)},sn}(),MetaVersion=function(){function sn(ln){this.identifiers=ln}return sn.parse=function(ln){return ln?new sn(ln.split(".")):sn.EMPTY},sn.prototype.isEmpty=function(){return this.identifiers.length===0},sn.prototype.isNotEmpty=function(){return!this.isEmpty()},sn.prototype.compareTo=function(ln){return this.isEmpty()&&ln.isEmpty()?0:this.isEmpty()&&ln.isNotEmpty()?1:this.isNotEmpty()&&ln.isEmpty()?-1:this.compareIdentifiers(ln)},sn.prototype.compareIdentifiers=function(ln){for(var cn=Math.min(this.identifiers.length,ln.identifiers.length),dn=0;dn<cn;dn++){var pn=sn.compareIdentifiers(this.identifiers[dn],ln.identifiers[dn]);if(pn!==0)return pn}return compareValues(this.identifiers.length,ln.identifiers.length)},sn.compareIdentifiers=function(ln,cn){return sn.numericIdentifierRegExp.test(ln)&&sn.numericIdentifierRegExp.test(cn)?compareValues(+ln,+cn):ln===cn?0:ln<cn?-1:1},sn.EMPTY=new sn([]),sn.numericIdentifierRegExp=/^(0|[1-9]\d*)$/,sn}(),MATCH_TYPES=["MATCH","NOT_MATCH"],MATCH_VALUE_TYPES=["STRING","NUMBER","BOOLEAN","VERSION","JSON","NULL","UNKNOWN"],MATCH_OPERATORS=["IN","CONTAINS","STARTS_WITH","ENDS_WITH","GT","GTE","LT","LTE"],TARGET_ACTION_TYPES=["VARIATION","BUCKET"],TARGET_KEY_TYPES=["USER_ID","USER_PROPERTY","HACKLE_PROPERTY","SEGMENT","AB_TEST","FEATURE_FLAG"],SEGMENT_TYPES=["USER_ID","USER_PROPERTY"],TargetingType=function(){function sn(){for(var ln=[],cn=0;cn<arguments.length;cn++)ln[cn]=arguments[cn];this.supportedKeyTypes=ln}return sn.prototype.supports=function(ln){return this.supportedKeyTypes.includes(ln)},sn.IDENTIFIER=new sn("SEGMENT"),sn.PROPERTY=new sn("SEGMENT","USER_PROPERTY","HACKLE_PROPERTY","AB_TEST","FEATURE_FLAG"),sn.SEGMENT=new sn("USER_ID","USER_PROPERTY","HACKLE_PROPERTY"),sn}(),TimeUtil=function(){function sn(){}return sn.nanosToUnit=function(ln,cn){switch(cn){case"microseconds":return ln/(sn.C1/sn.C0);case"milliseconds":return ln/(sn.C2/sn.C0);case"seconds":return ln/(sn.C3/sn.C0);case"nanoseconds":default:return ln}},sn.microsToUnit=function(ln,cn){switch(cn){case"nanoseconds":return ln*(sn.C1/sn.C0);case"milliseconds":return ln/(sn.C2/sn.C1);case"seconds":return ln/(sn.C3/sn.C1);case"microseconds":default:return ln}},sn.millisToUnit=function(ln,cn){switch(cn){case"nanoseconds":return ln*(sn.C2/sn.C0);case"microseconds":return ln*(sn.C2/sn.C1);case"seconds":return ln/(sn.C3/sn.C2);case"milliseconds":default:return ln}},sn.secondsToUnit=function(ln,cn){switch(cn){case"nanoseconds":return ln*(sn.C3/sn.C0);case"microseconds":return ln*(sn.C3/sn.C1);case"milliseconds":return ln*(sn.C3/sn.C2);case"seconds":default:return ln}},sn.C0=1,sn.C1=sn.C0*1e3,sn.C2=sn.C1*1e3,sn.C3=sn.C2*1e3,sn.converter={nanoseconds:sn.nanosToUnit,microseconds:sn.microsToUnit,milliseconds:sn.millisToUnit,seconds:sn.secondsToUnit},sn}(),SystemClock=function(){function sn(){}return sn.prototype.tick=function(){return Date.now()*1e3},sn.prototype.currentMillis=function(){return Date.now()},sn.instance=new sn,sn}(),TimerBuilder=function(){function sn(ln){this.name=ln,this._tags={},this.name=ln}return sn.prototype.tags=function(ln){var cn=this;return Object.entries(ln).forEach(function(dn){var pn=dn[0],vn=dn[1];cn._tags[pn]=vn}),this},sn.prototype.tag=function(ln,cn){return this._tags[ln]=cn,this},sn.prototype.register=function(ln){return ln.registerTimer({name:this.name,tags:this._tags,type:"TIMER"})},sn}(),TimerSample=function(){function sn(ln){this._clock=ln,this.startTime=this._clock.tick()}return sn.start=function(ln){return ln===void 0&&(ln=sn.defaultClock),new sn(ln)},sn.prototype.stop=function(ln){var cn=this._clock.tick(),dn=cn-this.startTime;ln.record(dn,"microseconds")},sn.defaultClock=new SystemClock,sn}();function isTimerMetric(sn){return sn.id.type==="TIMER"}var CounterBuilder=function(){function sn(ln){this.name=ln,this._tags={}}return sn.prototype.tags=function(ln){var cn=this;return Object.entries(ln).forEach(function(dn){var pn=dn[0],vn=dn[1];cn._tags[pn]=vn}),this},sn.prototype.tag=function(ln,cn){return this._tags[ln]=cn,this},sn.prototype.register=function(ln){return ln.registerCounter({name:this.name,tags:this._tags,type:"COUNTER"})},sn}();function isCounterMetric(sn){return sn.id.type==="COUNTER"}var Measurement=function(){function sn(ln,cn){this.valueSupplier=cn,this.field=ln}return Object.defineProperty(sn.prototype,"value",{get:function(){return this.valueSupplier()},enumerable:!1,configurable:!0}),sn}();function isMetricIdEqual(sn,ln){return sn.name===ln.name&&IdentifierUtil.isEquals(sn.tags,ln.tags)}var CumulativeCounter=function(){function sn(ln){this.counterValue=0,this.id=ln}return sn.prototype.count=function(){return this.counterValue},sn.prototype.increment=function(ln){this.counterValue+=ln??1},sn.prototype.measure=function(){return[new Measurement("count",this.count.bind(this))]},sn}(),FlushCounter=function(){function sn(ln){this.id=ln,this.currentCounter=new CumulativeCounter(ln)}return sn.prototype.flush=function(){var ln=this.currentCounter;return this.currentCounter=new CumulativeCounter(this.id),ln},sn.prototype.count=function(){return this.currentCounter.count()},sn.prototype.increment=function(ln){this.currentCounter.increment(ln)},sn.prototype.measure=function(){return[new Measurement("count",this.count.bind(this))]},sn}(),Comparable=function(){function sn(ln){this.compareFn=ln,this.data=new Map,this.compareFn=ln,this.data=new Map}return sn.prototype.values=function(){return Array.from(this.data.values())},sn.prototype.keys=function(){return Array.from(this.data.keys())},sn.prototype.get=function(ln){var cn=this,dn=this.keys().find(function(pn){return cn.compareFn(pn,ln)});return dn?this.data.get(dn):void 0},sn.prototype.has=function(ln){return this.get(ln)!==void 0},sn.prototype.add=function(ln,cn){var dn=cn;return dn||(dn=ln),this.data.set(ln,dn),this},sn.prototype.delete=function(ln){if(this.has(ln)){var cn=this.get(ln);return this.data.delete(ln),cn}},sn.prototype.forEach=function(ln){this.data.forEach(ln)},sn.prototype.entries=function(){return Array.from(this.data.entries())},sn}(),MetricRegistry=function(){function sn(){this.id=v4(),this.name="MetricRegistry",this._metrics=new Comparable(isMetricIdEqual)}return Object.defineProperty(sn.prototype,"metrics",{get:function(){return Array.from(this._metrics.values())},enumerable:!1,configurable:!0}),sn.prototype.registerCounter=function(ln){return this.registerMetricIfNecessary(ln,this.createCounter.bind(this))},sn.prototype.registerTimer=function(ln){return this.registerMetricIfNecessary(ln,this.createTimer.bind(this))},sn.prototype.counter=function(ln,cn){return cn===void 0&&(cn={}),new CounterBuilder(ln).tags(cn).register(this)},sn.prototype.timer=function(ln,cn){return cn===void 0&&(cn={}),new TimerBuilder(ln).tags(cn).register(this)},sn.prototype.registerMetricIfNecessary=function(ln,cn){return this.getOrCreateMetric(ln,cn)},sn.prototype.getOrCreateMetric=function(ln,cn){var dn,pn=this._metrics.get(ln);return pn?dn=pn:(dn=cn(ln),this._metrics.add(ln,dn)),dn},sn.prototype.close=function(){},sn}(),PushMetricRegistry=function(sn){__extends$1(ln,sn);function ln(cn){var dn=sn.call(this)||this;return dn.pushIntervalMillis=cn,dn.currentIntervalId=void 0,dn.pushIntervalMillis=cn,dn}return ln.prototype.start=function(){var cn=this;this.currentIntervalId===void 0&&(this.currentIntervalId=setInterval(function(){cn.publish()},this.pushIntervalMillis),Logger.log.debug("PushMetricRegistry started. Publish metrics every ".concat(this.pushIntervalMillis,"ms.")))},ln.prototype.stop=function(){this.currentIntervalId!==void 0&&(clearInterval(this.currentIntervalId),this.currentIntervalId=void 0,this.publish(),Logger.log.debug("PushMetricRegistry stopped."))},ln.prototype.close=function(){this.stop()},ln}(MetricRegistry);function isFlushMetric(sn){return typeof sn.flush<"u"&&typeof sn.flush=="function"}var CumulativeTimer=function(){function sn(ln){this._count=0,this._total=0,this._max=0,this.id=ln}return sn.prototype.count=function(){return this._count},sn.prototype.totalTime=function(ln){return TimeUtil.nanosToUnit(this._total,ln)},sn.prototype.max=function(ln){return TimeUtil.nanosToUnit(this._max,ln)},sn.prototype.mean=function(ln){return this.count()===0?0:this.totalTime(ln)/this.count()},sn.prototype.record=function(ln,cn){if(!(ln<0)){var dn=TimeUtil.converter[cn](ln,"nanoseconds");this._count=this.count()+1,this._total+=dn,this._max=Math.max(dn,this._max)}},sn.prototype.measure=function(){var ln=this;return[new Measurement("count",this.count.bind(this)),new Measurement("total",function(){return ln.totalTime("milliseconds")}),new Measurement("max",function(){return ln.max("milliseconds")}),new Measurement("mean",function(){return ln.mean("milliseconds")})]},sn}(),FlushTimer=function(){function sn(ln){this.id=ln,this.currentTimer=new CumulativeTimer(ln)}return sn.prototype.flush=function(){var ln=this.currentTimer;return this.currentTimer=new CumulativeTimer(this.id),ln},sn.prototype.count=function(){return this.currentTimer.count()},sn.prototype.totalTime=function(ln){return this.currentTimer.totalTime(ln)},sn.prototype.max=function(ln){return this.currentTimer.max(ln)},sn.prototype.record=function(ln,cn){this.currentTimer.record(ln,cn)},sn.prototype.mean=function(ln){return this.count()===0?0:this.totalTime(ln)/this.count()},sn.prototype.measure=function(){var ln=this;return[new Measurement("count",this.count.bind(this)),new Measurement("total",function(){return ln.totalTime("milliseconds")}),new Measurement("max",function(){return ln.max("milliseconds")}),new Measurement("mean",function(){return ln.mean("milliseconds")})]},sn}(),FlushMetricRegistry=function(sn){__extends$1(ln,sn);function ln(cn){return sn.call(this,cn)||this}return ln.prototype.createCounter=function(cn){return new FlushCounter(cn)},ln.prototype.createTimer=function(cn){return new FlushTimer(cn)},ln.prototype.publish=function(){var cn=this.metrics.reduce(function(dn,pn){return isFlushMetric(pn)?dn.concat(pn.flush()):dn},[]);this.flushMetrics(cn)},ln.prototype.close=function(){sn.prototype.close.call(this)},ln}(PushMetricRegistry),NoopCounter=function(){function sn(ln){this.id=ln}return sn.prototype.count=function(){return 0},sn.prototype.increment=function(ln){},sn.prototype.measure=function(){return[new Measurement("count",this.count.bind(this))]},sn}(),DelegatingCounter=function(){function sn(ln){this._counters=new Comparable(function(cn,dn){return cn.id===dn.id}),this.id=ln,this.noopCounter=new NoopCounter(ln)}return Object.defineProperty(sn.prototype,"counters",{get:function(){return Array.from(this._counters.values())},enumerable:!1,configurable:!0}),sn.prototype.add=function(ln){this._counters.add(ln,ln.registerCounter(this.id))},sn.prototype.count=function(){return(this.counters[0]||this.noopCounter).count()},sn.prototype.increment=function(ln){this.counters.forEach(function(cn){cn.increment(ln)})},sn.prototype.measure=function(){return[new Measurement("count",this.count.bind(this))]},sn}();function isDelegatingMetric(sn){return typeof sn.add<"u"&&typeof sn.add=="function"}var NoopTimer=function(){function sn(ln){this.id=ln}return sn.prototype.measure=function(){var ln=this;return[new Measurement("count",this.count.bind(this)),new Measurement("total",function(){return ln.totalTime("milliseconds")}),new Measurement("max",function(){return ln.max("milliseconds")}),new Measurement("mean",function(){return ln.mean("milliseconds")})]},sn.prototype.count=function(){return 0},sn.prototype.totalTime=function(ln){return 0},sn.prototype.max=function(ln){return 0},sn.prototype.mean=function(ln){return 0},sn.prototype.record=function(ln,cn){},sn}(),DelegatingTimer=function(){function sn(ln){this._timers=new Comparable(function(cn,dn){return cn.id===dn.id}),this.id=ln,this.noopTimer=new NoopTimer(ln)}return Object.defineProperty(sn.prototype,"firstTimer",{get:function(){return this.timers[0]||this.noopTimer},enumerable:!1,configurable:!0}),sn.prototype.totalTime=function(ln){return this.firstTimer.totalTime(ln)},sn.prototype.max=function(ln){return this.firstTimer.max(ln)},sn.prototype.mean=function(ln){return this.firstTimer.mean(ln)},sn.prototype.record=function(ln,cn){this.timers.forEach(function(dn){dn.record(ln,cn)})},Object.defineProperty(sn.prototype,"timers",{get:function(){return Array.from(this._timers.values())},enumerable:!1,configurable:!0}),sn.prototype.add=function(ln){this._timers.add(ln,ln.registerTimer(this.id))},sn.prototype.count=function(){return this.firstTimer.count()},sn.prototype.measure=function(){var ln=this;return[new Measurement("count",this.count.bind(this)),new Measurement("total",function(){return ln.totalTime("milliseconds")}),new Measurement("max",function(){return ln.max("milliseconds")}),new Measurement("mean",function(){return ln.mean("milliseconds")})]},sn}(),DelegatingMetricRegistry=function(sn){__extends$1(ln,sn);function ln(){var cn=sn!==null&&sn.apply(this,arguments)||this;return cn.registries=new Comparable(function(dn,pn){return dn.id===pn.id}),cn}return ln.prototype.createCounter=function(cn){var dn=new DelegatingCounter(cn);return this.addRegistry(dn),dn},ln.prototype.createTimer=function(cn){var dn=new DelegatingTimer(cn);return this.addRegistry(dn),dn},ln.prototype.addRegistry=function(cn){this.registries.forEach(function(dn){return cn.add(dn)})},ln.prototype.add=function(cn){cn instanceof ln||this.registries.has(cn)||(this.registries.add(cn),this.metrics.forEach(function(dn){isDelegatingMetric(dn)&&dn.add(cn)}))},ln.prototype.close=function(){this.registries.forEach(function(cn){cn.close()})},ln}(MetricRegistry),Metrics=function(){function sn(){}return sn.counter=function(ln,cn){return sn.globalRegistry.counter(ln,cn)},sn.timer=function(ln,cn){return sn.globalRegistry.timer(ln,cn)},sn.addRegistry=function(ln){sn.globalRegistry.add(ln),Logger.log.debug("MetricRegistry added ".concat(ln.name))},sn.globalRegistry=new DelegatingMetricRegistry,sn}(),MonitoringMetricRegistry=function(sn){__extends$1(ln,sn);function ln(cn,dn,pn,vn,Sn){var En=sn.call(this,dn)||this;return En.monitoringBaseUrl=cn,En.httpClient=pn,En.httpHeader=vn,En.useBeacon=Sn,En.monitoringEndPoint="".concat(En.monitoringBaseUrl,"/metrics"),En.shouldUseBeacon=!1,En.start(),En.monitoringBaseUrl=cn,En}return ln.prototype.flushMetrics=function(cn){var dn=this;CollectionUtil.chunked(cn.filter(this.isDispatchTarget.bind(this)),BROWSER_BATCH_SIZE).forEach(function(pn){dn.dispatch(pn)})},ln.prototype.isDispatchTarget=function(cn){return isCounterMetric(cn)||isTimerMetric(cn)?cn.count()>0:!1},ln.prototype.dispatch=function(cn){if(this.useBeacon&&this.shouldUseBeacon){this.httpClient.sendBeacon(this.monitoringEndPoint,this.batch(cn),this.httpHeader,function(){Logger.log.debug("Beacon called.")});return}this.httpClient.postRequest(this.monitoringEndPoint,this.batch(cn),this.httpHeader,function(){},function(){Logger.log.debug("Failed to flushing metrics.")})},ln.prototype.batch=function(cn){return{metrics:cn.map(function(dn){return{name:dn.id.name,type:dn.id.type,tags:dn.id.tags,measurements:Object.fromEntries(CollectionUtil.associate(dn.measure(),function(pn){return[pn.field,pn.value]}))}})}},ln.prototype.createCounter=function(cn){return new FlushCounter(cn)},ln.prototype.createTimer=function(cn){return new FlushTimer(cn)},ln.prototype.close=function(){this.shouldUseBeacon=!0,sn.prototype.close.call(this)},ln}(FlushMetricRegistry),DecisionMetrics=function(){function sn(){}return sn.experiment=function(ln,cn,dn){var pn=Metrics.timer("experiment.decision",{key:String(cn),variation:dn.variation,reason:String(dn.reason)});ln.stop(pn)},sn.featureFlag=function(ln,cn,dn){var pn=Metrics.timer("feature.flag.decision",{key:String(cn),on:String(dn.isOn),reason:String(dn.reason)});ln.stop(pn)},sn.remoteConfig=function(ln,cn,dn){var pn=Metrics.timer("remote.config.decision",{key:String(cn),reason:String(dn.reason)});ln.stop(pn)},sn}(),ApiCallMetrics=function(){function sn(){}return sn.record=function(ln,cn,dn){var pn=Metrics.timer("api.call",{operation:ln,success:String(dn)});cn.stop(pn)},sn}(),HackleRemoteConfigDecider=function(){function sn(){}return sn.decide=function(ln,cn,dn,pn){if(ObjectUtil$1.isNullOrUndefined(dn))return this.decision(ln,cn,"NULL",dn,pn);switch(typeof dn){case"string":return this.decision(ln,cn,"STRING",dn,pn);case"number":return this.decision(ln,cn,"NUMBER",dn,pn);case"boolean":return this.decision(ln,cn,"BOOLEAN",dn,pn);default:return this.decision(ln,cn,"UNKNOWN",dn,pn)}},sn.decision=function(ln,cn,dn,pn,vn){return ObjectUtil$1.isNullOrUndefined(cn)?RemoteConfigDecision.of(pn,DecisionReason.INVALID_INPUT):ln.remoteConfig(cn,vn,dn,pn)},sn}(),log$4=Logger.log,HackleRemoteConfigImpl=function(){function sn(ln,cn,dn,pn){this.core=ln,this.userManager=cn,this.hackleUserResolver=dn,this.user=pn}return sn.prototype.get=function(ln,cn){var dn=TimerSample.start(),pn;try{pn=this.decide(ln,cn)}catch(vn){log$4.error("Unexpected exception while deciding remote config parameter[".concat(ln,"]. Returning default value. : ").concat(vn)),pn=RemoteConfigDecision.of(cn,DecisionReason.EXCEPTION)}return DecisionMetrics.remoteConfig(dn,ln,pn),pn.value},sn.prototype.decide=function(ln,cn){var dn=this.userManager.resolveCurrentOrNull(this.user);if(!dn)return log$4.warn("invalid user"),RemoteConfigDecision.of(cn,DecisionReason.INVALID_INPUT);var pn=this.hackleUserResolver.resolve(dn);return HackleRemoteConfigDecider.decide(this.core,ln,cn,pn)},sn}(),log$3=Logger.log,HackleClientImpl=function(){function sn(ln,cn,dn,pn,vn){this.core=ln,this.hackleUserResolver=cn,this.sessionManager=dn,this.userManager=pn,this.devTools=vn}return sn.prototype.getSessionId=function(){return this.sessionManager.sessionId},sn.prototype.getUser=function(){return this.userManager.currentUser},sn.prototype.setUser=function(ln){try{var cn=sanitizeUser(ln);if(!cn){log$3.warn("invalid user");return}this.userManager.setUser(cn)}catch(dn){log$3.error("Unexpected exception while set user: ".concat(dn))}},sn.prototype.setUserId=function(ln){try{ln===void 0&&this.userManager.setUserId(void 0);var cn=IdentifierUtil.sanitizeValue(ln);if(!cn){log$3.warn("Invalid userId. [userId=".concat(ln,"]"));return}this.userManager.setUserId(cn)}catch(dn){log$3.error("Unexpected exception while set userId: ".concat(dn))}},sn.prototype.setDeviceId=function(ln){try{var cn=IdentifierUtil.sanitizeValue(ln);if(!cn){log$3.warn("Invalid deviceId. [deviceId=".concat(ln,"]"));return}this.userManager.setDeviceId(ln)}catch(dn){log$3.error("Unexpected exception while set deviceId: ".concat(dn))}},sn.prototype.setUserProperty=function(ln,cn){try{if(!PropertyUtil.isValidKey(ln)){log$3.warn("Invalid property key. [key=".concat(ln,"]"));return}if(!PropertyUtil.isValidValue(cn)){log$3.warn("Invalid property value. [key=".concat(cn,"]"));return}this.userManager.setUserProperty(ln,cn)}catch(dn){log$3.error("Unexpected exception while set userProperty: ".concat(dn))}},sn.prototype.setUserProperties=function(ln){try{var cn=PropertyUtil.sanitize(ln);this.userManager.setUserProperties(cn)}catch(dn){log$3.error("Unexpected exception while set userProperties: ".concat(dn))}},sn.prototype.resetUser=function(){try{this.userManager.resetUser()}catch(ln){log$3.error("Unexpected exception while reset user: ".concat(ln))}},sn.prototype.variation=function(ln,cn,dn){return this.variationDetail(ln,cn,dn).variation},sn.prototype.variationDetail=function(ln,cn,dn){var pn=dn||"A",vn=TimerSample.start(),Sn=function(En){try{var Cn=En.userManager.resolveCurrentOrNull(cn);if(!Cn)return log$3.warn("invalid user"),Decision.of(pn,DecisionReason.INVALID_INPUT);var Pn=En.hackleUserResolver.resolve(Cn);return En.core.experiment(ln,Pn,pn)}catch(Rn){return log$3.error("Unexpected exception while deciding variation for experiment[".concat(ln,"]. Returning default variation[").concat(pn,"] : ").concat(Rn)),Decision.of(pn,DecisionReason.EXCEPTION)}}(this);return DecisionMetrics.experiment(vn,ln,Sn),Sn},sn.prototype.isFeatureOn=function(ln,cn){return this.featureFlagDetail(ln,cn).isOn},sn.prototype.featureFlagDetail=function(ln,cn){var dn=TimerSample.start(),pn=function(vn){try{var Sn=vn.userManager.resolveCurrentOrNull(cn);if(!Sn)return log$3.warn("invalid user"),FeatureFlagDecision.off(DecisionReason.INVALID_INPUT);var En=vn.hackleUserResolver.resolve(Sn);return vn.core.featureFlag(ln,En)}catch(Cn){return log$3.error("Unexpected exception while deciding feature flag[".concat(ln,"]. Returning default value[false] : ").concat(Cn)),FeatureFlagDecision.off(DecisionReason.EXCEPTION)}}(this);return DecisionMetrics.featureFlag(dn,ln,pn),pn},sn.prototype.track=function(ln,cn){try{log$3.debug("track event : ".concat(JSON.stringify(ln)));var dn=this._convertEvent(ln),pn=this.userManager.resolveCurrentOrNull(cn);if(!pn){log$3.warn("invalid user");return}var vn=this.hackleUserResolver.resolve(pn);this.core.track(dn,vn)}catch{log$3.error("Unexpected exception while tracking event: $t")}},sn.prototype.trackPageView=function(ln){log$3.debug("tracking page view");var cn={key:"$page_view"},dn=this.hackleUserResolver.resolve(this.userManager.currentUser);this.core.track(cn,dn)},sn.prototype.remoteConfig=function(ln){return new HackleRemoteConfigImpl(this.core,this.userManager,this.hackleUserResolver,ln)},sn.prototype.onReady=function(ln,cn){cn===void 0&&(cn=DEFAULT_ON_READY_TIMEOUT),this.core.onReady(ln,cn)},sn.prototype.onInitialized=function(ln){return this.core.onInitialized({timeout:ln==null?void 0:ln.timeout})},sn.prototype.close=function(){log$3.debug("Hackle Client is closing"),this.core.close()},sn.prototype._convertEvent=function(ln){return typeof ln=="string"?{key:ln}:ln},sn.prototype.showUserExplorer=function(){var ln;if(!(!((ln=this.devTools)===null||ln===void 0)&&ln.userExplorer)){log$3.error("UserExplorer is not provided");return}log$3.debug("UserExplorer opened."),Metrics.counter("user.explorer.show",{}).increment(),this.devTools.manager.userExplorer(this.devTools.userExplorer)},sn.prototype.hideUserExplorer=function(){if(!this.devTools){log$3.warn("There is no active HackleDevtools.");return}this.devTools.manager.close()},sn}(),Event$1=function(){function sn(ln,cn,dn){dn===void 0&&(dn=v4()),this.timestamp=ln,this.user=cn,this.insertId=dn}return sn.exposure=function(ln,cn,dn,pn){return new Exposure(pn,ln,cn.experiment,cn.variationId,cn.variationKey,cn.reason,dn)},sn.track=function(ln,cn,dn,pn){return new Track(pn,dn,ln,cn)},sn.remoteConfig=function(ln,cn,dn,pn){return new RemoteConfig(pn,ln,cn.parameter,cn.valueId,cn.reason,dn)},sn.isExposure=function(ln){return ln.experiment!==void 0},sn.isTrack=function(ln){return ln.eventType!==void 0},sn.isRemoteConfig=function(ln){return ln.parameter!==void 0},sn.isExposureDto=function(ln){return"experimentId"in ln&&typeof ln.experimentId<"u"},sn.isTrackDto=function(ln){return"eventTypeId"in ln&&typeof ln.eventTypeId<"u"},sn.isRemoteConfigDto=function(ln){return"parameterId"in ln&&typeof ln.parameterId<"u"},sn.prototype.toDto=function(){return{insertId:this.insertId,timestamp:this.timestamp,userId:this.user.identifiers[IdentifierType.ID],identifiers:this.user.identifiers,userProperties:PropertyUtil.sanitize(this.user.properties),hackleProperties:PropertyUtil.sanitize(this.user.hackleProperties)}},sn}(),Exposure=function(sn){__extends$1(ln,sn);function ln(cn,dn,pn,vn,Sn,En,Cn,Pn){var Rn=sn.call(this,cn,dn,Pn)||this;return Rn.experiment=pn,Rn.variationId=vn,Rn.variationKey=Sn,Rn.decisionReason=En,Rn.properties=Cn,Rn}return ln.prototype.copyWithUser=function(cn){return new ln(this.timestamp,cn,this.experiment,this.variationId,this.variationKey,this.decisionReason,this.properties,this.insertId)},ln.prototype.toDto=function(){return __assign$1(__assign$1({},sn.prototype.toDto.call(this)),{experimentId:this.experiment.id,experimentKey:this.experiment.key,experimentType:this.experiment.type,experimentVersion:this.experiment.version,variationId:this.variationId,variationKey:this.variationKey,decisionReason:this.decisionReason.toString(),properties:this.properties})},ln}(Event$1),Track=function(sn){__extends$1(ln,sn);function ln(cn,dn,pn,vn,Sn){var En=sn.call(this,cn,dn,Sn)||this;return En.eventType=pn,En.event=vn,En}return ln.prototype.copyWithUser=function(cn){return new ln(this.timestamp,cn,this.eventType,this.event,this.insertId)},ln.prototype.toDto=function(){return __assign$1(__assign$1({},sn.prototype.toDto.call(this)),{eventTypeId:this.eventType.id,eventTypeKey:this.eventType.key,value:this.event.value||0,properties:PropertyUtil.sanitize(this.event.properties)})},ln}(Event$1),RemoteConfig=function(sn){__extends$1(ln,sn);function ln(cn,dn,pn,vn,Sn,En,Cn){var Pn=sn.call(this,cn,dn,Cn)||this;return Pn.parameter=pn,Pn.valueId=vn,Pn.decisionReason=Sn,Pn.properties=En,Pn}return ln.prototype.copyWithUser=function(cn){return new ln(this.timestamp,cn,this.parameter,this.valueId,this.decisionReason,this.properties,this.insertId)},ln.prototype.toDto=function(){return __assign$1(__assign$1({},sn.prototype.toDto.call(this)),{parameterId:this.parameter.id,parameterKey:this.parameter.key,parameterType:this.parameter.type,valueId:this.valueId,decisionReason:this.decisionReason.toString(),properties:PropertyUtil.sanitize(this.properties)})},ln}(Event$1);function toPayload(sn){var ln=new Array,cn=new Array,dn=new Array;return sn.forEach(function(pn){pn instanceof Event$1?Event$1.isExposure(pn)?ln.push(pn.toDto()):Event$1.isTrack(pn)?cn.push(pn.toDto()):Event$1.isRemoteConfig(pn)&&dn.push(pn.toDto()):Event$1.isExposureDto(pn)?ln.push(pn):Event$1.isTrackDto(pn)?cn.push(pn):Event$1.isRemoteConfigDto(pn)&&dn.push(pn)}),{exposureEvents:ln,trackEvents:cn,remoteConfigEvents:dn}}var EventDispatcher=function(){function sn(ln,cn,dn){this.sdkKey=ln,this.httpRequest=cn,this.headers=dn.headers,this.dispatchUrl=dn.dispatchUrl,this.beaconDispatchUrl=dn.beaconDispatchUrl||"",this.useBeacon=dn.useBeacon||!1}return sn.prototype.dispatch=function(ln,cn,dn){var pn={};pn[SDK_KEY_HEADER]=this.sdkKey,pn[SDK_NAME_HEADER$1]=this.headers[SDK_NAME_HEADER$1],pn[SDK_VERSION_HEADER$1]=this.headers[SDK_VERSION_HEADER$1],pn[SDK_TIME_HEADER]=new Date().getTime().toString();var vn=toPayload(ln),Sn=TimerSample.start();this.httpRequest.postRequest(this.dispatchUrl,vn,pn,function(En){cn(En),ApiCallMetrics.record("post.events",Sn,!0)},function(En){dn==null||dn(En),ApiCallMetrics.record("post.events",Sn,!1)})},sn.prototype.dispatchXhrOrBeacon=function(ln,cn,dn){if(this.useBeacon){var pn={};pn[SDK_KEY_HEADER]=this.sdkKey,pn[SDK_NAME_HEADER$1]=this.headers[SDK_NAME_HEADER$1],pn[SDK_VERSION_HEADER$1]=this.headers[SDK_VERSION_HEADER$1],pn[SDK_TIME_HEADER]=new Date().getTime().toString();var vn=toPayload(ln),Sn=TimerSample.start();this.httpRequest.sendBeacon(this.beaconDispatchUrl,vn,pn,function(En){cn(En),ApiCallMetrics.record("post.events",Sn,!0)},function(En){dn==null||dn(En),ApiCallMetrics.record("post.events",Sn,!1)})}else this.dispatch(ln,cn,dn)},sn}(),log$2=Logger.log,Workspace=function(){function sn(ln,cn,dn,pn,vn,Sn,En,Cn){this.experiments=ln,this.featureFlags=cn,this.buckets=dn,this.eventTypes=pn,this.segments=vn,this.containers=Sn,this.parameterConfigurations=En,this.remoteConfigParameters=Cn}return sn.prototype.getExperiments=function(){return Array.from(this.experiments.values())},sn.prototype.getExperimentOrNull=function(ln){return this.experiments.get(ln)},sn.prototype.getFeatureFlags=function(){return Array.from(this.featureFlags.values())},sn.prototype.getFeatureFlagOrNull=function(ln){return this.featureFlags.get(ln)},sn.prototype.getBucketOrNull=function(ln){return this.buckets.get(ln)},sn.prototype.getEventTypeOrNull=function(ln){return this.eventTypes.get(ln)},sn.prototype.getSegmentOrNull=function(ln){return this.segments.get(ln)},sn.prototype.getContainerOrNull=function(ln){return this.containers.get(ln)},sn.prototype.getParameterConfigurationOrNull=function(ln){return this.parameterConfigurations.get(ln)},sn.prototype.getRemoteConfigParameterOrNull=function(ln){return this.remoteConfigParameters.get(ln)},sn.from=function(ln){var cn=this,dn=CollectionUtil.associate(ln.buckets,function(Ln){return[Ln.id,cn.toBucket(Ln)]}),pn=CollectionUtil.associateBy(CollectionUtil.mapNotNullOrUndefined(ln.experiments,function(Ln){return cn.toExperimentOrNull("AB_TEST",Ln)}),function(Ln){return Ln.key}),vn=CollectionUtil.associateBy(CollectionUtil.mapNotNullOrUndefined(ln.featureFlags,function(Ln){return cn.toExperimentOrNull("FEATURE_FLAG",Ln)}),function(Ln){return Ln.key}),Sn=CollectionUtil.associate(ln.events,function(Ln){return[Ln.key,new EventType(Ln.id,Ln.key)]}),En=CollectionUtil.associateBy(CollectionUtil.mapNotNullOrUndefined(ln.segments,function(Ln){return cn.toSegmentOrNull(Ln)}),function(Ln){return Ln.key}),Cn=CollectionUtil.associate(ln.containers,function(Ln){return[Ln.id,cn.toContainer(Ln)]}),Pn=CollectionUtil.associate(ln.parameterConfigurations,function(Ln){return[Ln.id,cn.toParameterConfiguration(Ln)]}),Rn=CollectionUtil.associateBy(CollectionUtil.mapNotNullOrUndefined(ln.remoteConfigParameters,function(Ln){return cn.toRemoteConfigParameterOrNull(Ln)}),function(Ln){return Ln.key});return new sn(pn,vn,dn,Sn,En,Cn,Pn,Rn)},sn.toBucket=function(ln){return new Bucket(ln.seed,ln.slotSize,ln.slots.map(function(cn){var dn=cn.startInclusive,pn=cn.endExclusive,vn=cn.variationId;return new Slot(dn,pn,vn)}))},sn.toExperimentOrNull=function(ln,cn){var dn=this,pn=this.experimentStatusOrNull(cn.execution.status),vn=cn.variations.map(function(Ln){return new Variation(Ln.id,Ln.key,Ln.status==="DROPPED",Ln.parameterConfigurationId)}),Sn=CollectionUtil.associate(cn.execution.userOverrides,function(Ln){return[Ln.userId,Ln.variationId]}),En=CollectionUtil.mapNotNullOrUndefined(cn.execution.segmentOverrides,function(Ln){return dn.toTargetRuleOrNull(Ln,TargetingType.IDENTIFIER)}),Cn=CollectionUtil.mapNotNullOrUndefined(cn.execution.targetAudiences,function(Ln){return dn.toTargetOrNull(Ln,TargetingType.PROPERTY)}),Pn=CollectionUtil.mapNotNullOrUndefined(cn.execution.targetRules,function(Ln){return dn.toTargetRuleOrNull(Ln,TargetingType.PROPERTY)}),Rn=this.toTargetActionOrNull(cn.execution.defaultRule);return pn&&Rn&&new Experiment(cn.id,cn.key,ln,cn.identifierType,pn,cn.version,vn,Sn,En,Cn,Pn,Rn,cn.containerId,cn.winnerVariationId)},sn.experimentStatusOrNull=function(ln){switch(ln){case"READY":return"DRAFT";case"RUNNING":return"RUNNING";case"PAUSED":return"PAUSED";case"STOPPED":return"COMPLETED";default:log$2.debug("Unsupported status [".concat(ln,"]"));return}},sn.toTargetRuleOrNull=function(ln,cn){var dn=this.toTargetOrNull(ln.target,cn),pn=this.toTargetActionOrNull(ln.action);return dn&&pn&&new TargetRule(dn,pn)},sn.toTargetActionOrNull=function(ln){var cn=this.parseOrNull(TARGET_ACTION_TYPES,ln.type);return cn&&new TargetAction(cn,ln.variationId,ln.bucketId)},sn.toTargetOrNull=function(ln,cn){var dn=this,pn=CollectionUtil.mapNotNullOrUndefined(ln.conditions,function(vn){return dn.toConditionOrNull(vn,cn)});return new Target(pn)},sn.toConditionOrNull=function(ln,cn){var dn=this.toTargetKeyOrNull(ln.key);if(dn&&cn.supports(dn.type)){var pn=this.toTargetMatchOrNull(ln.match);return pn&&new TargetCondition(dn,pn)}},sn.toTargetKeyOrNull=function(ln){var cn=this.parseOrNull(TARGET_KEY_TYPES,ln.type);return cn&&new TargetKey(cn,ln.name)},sn.toTargetMatchOrNull=function(ln){var cn=this.parseOrNull(MATCH_TYPES,ln.type),dn=this.parseOrNull(MATCH_OPERATORS,ln.operator),pn=this.parseOrNull(MATCH_VALUE_TYPES,ln.valueType);return cn&&dn&&pn&&new TargetMatch(cn,dn,pn,ln.values)},sn.toSegmentOrNull=function(ln){var cn=this,dn=this.parseOrNull(SEGMENT_TYPES,ln.type);return dn&&new Segment(ln.id,ln.key,dn,CollectionUtil.mapNotNullOrUndefined(ln.targets,function(pn){return cn.toTargetOrNull(pn,TargetingType.SEGMENT)}))},sn.toContainer=function(ln){var cn=this;return new Container(ln.id,ln.bucketId,ln.groups.map(function(dn){return cn.toContainerGroup(dn)}))},sn.toContainerGroup=function(ln){return new ContainerGroup(ln.id,ln.experiments)},sn.toParameterConfiguration=function(ln){return new ParameterConfiguration(ln.id,CollectionUtil.associate(ln.parameters,function(cn){return[cn.key,cn.value]}))},sn.toRemoteConfigParameterOrNull=function(ln){var cn=this,dn=this.parseOrNull(MATCH_VALUE_TYPES,ln.type),pn=CollectionUtil.mapNotNullOrUndefined(ln.targetRules,function(Sn){return cn.toRemoteConfigTargetRuleOrNull(Sn,TargetingType.PROPERTY)}),vn=this.toRemoteConfigParameterValueOrNull(ln.defaultValue);return dn&&new RemoteConfigParameter(ln.id,ln.key,dn,ln.identifierType,pn,vn)},sn.toRemoteConfigTargetRuleOrNull=function(ln,cn){var dn=this.toTargetOrNull(ln.target,cn);return dn&&new RemoteConfigTargetRule(ln.key,ln.name,dn,ln.bucketId,this.toRemoteConfigParameterValueOrNull(ln.value))},sn.toRemoteConfigParameterValueOrNull=function(ln){return new RemoteConfigParameterValue(ln.id,ln.value)},sn.parseOrNull=function(ln,cn){var dn=ln.find(function(pn){return pn===cn});return dn||log$2.debug("Unsupported type [".concat(cn,"]. Please use the latest version of sdk.")),dn},sn}(),PollingWorkspaceFetcher=function(){function sn(ln,cn,dn){var pn=this;this.workspace=null,this.sdkKey=ln,this.httpRequest=cn,this.isStarted=!1,this.updateInterval=dn.updateInterval,this.fetchUrl=dn.fetchUrl,this.headers=dn.headers,this.readyPromiseResolver=function(){},this.readyPromiseRejecter=function(){},this.readyPromise=new Promise(function(vn,Sn){pn.readyPromiseResolver=vn,pn.readyPromiseRejecter=Sn}),this.currentTimeout=null,this.errorRetryController=new ErrorRetryController,this.currentRequest=null,this.syncOnCurrentRequestComplete=!1,this.isReadyPromiseSettled=!1}return sn.prototype.onReady=function(){return this.readyPromise},sn.prototype.start=function(){this.isStarted||(this.isStarted=!0,this.errorRetryController.reset(),this.fetch())},sn.prototype.stop=function(){return this.isStarted=!1,this.currentTimeout&&(clearTimeout(this.currentTimeout),this.currentTimeout=null),this.currentRequest&&(this.currentRequest.abort(),this.currentRequest=null),Promise.resolve()},sn.prototype.get=function(){return this.workspace},sn.prototype.scheduleNextUpdate=function(){var ln=this,cn=this.errorRetryController.getDelay(),dn=Math.max(cn,this.updateInterval);this.currentTimeout=setTimeout(function(){ln.currentRequest?ln.syncOnCurrentRequestComplete=!0:ln.fetch()},dn)},sn.prototype.fetch=function(){var ln,cn=this,dn,pn=(ln={},ln[SDK_KEY_HEADER]=this.sdkKey,ln[SDK_TIME_HEADER]=new Date().getTime().toString(),ln[SDK_NAME_HEADER$1]=this.headers[SDK_NAME_HEADER$1],ln[SDK_VERSION_HEADER$1]=this.headers[SDK_VERSION_HEADER$1],ln),vn=TimerSample.start();this.currentRequest=this.httpRequest.getRequest(this.fetchUrl,pn);var Sn=function(Rn){var Ln=Rn.isSuccess;ApiCallMetrics.record("get.workspace",vn,Ln)},En=function(){cn.onRequestComplete()},Cn=function(Rn){cn.onRequestResolved(Rn,Sn)},Pn=function(Rn){cn.onRequestRejected(Rn,Sn)};(dn=this.currentRequest)===null||dn===void 0||dn.responsePromise.then(Cn,Pn).then(En,En),this.updateInterval>0&&this.scheduleNextUpdate()},sn.prototype.onRequestComplete=function(){this.isStarted&&(this.currentRequest=null,this.syncOnCurrentRequestComplete&&this.fetch(),this.syncOnCurrentRequestComplete=!1)},sn.prototype.onRequestResolved=function(ln,cn){if(this.isStarted){if(typeof ln.statusCode<"u"&&ln.statusCode>=200&&ln.statusCode<400)this.errorRetryController.reset(),cn({isSuccess:!0});else if(cn({isSuccess:!1}),ln.statusCode===401||ln.statusCode===403){this.readyPromiseRejecter(new Error("Invalid key provided."));return}else this.errorRetryController.countError();if(ln.body){var dn=JSON.parse(ln.body);this.workspace=Workspace.from(dn),this.readyPromiseResolver()}}},sn.prototype.onRequestRejected=function(ln,cn){this.isStarted&&(cn({isSuccess:!1}),this.errorRetryController.countError(),console.error("Error fetching data",ln))},sn.prototype.close=function(){this.stop()},sn}(),ErrorRetryController=function(){function sn(){this.errorCount=0}return sn.prototype.getDelay=function(){if(this.errorCount===0)return 0;var ln=ERROR_RETRY_BASE_WAIT_SECONDS_BY_ERROR_COUNT[Math.min(ERROR_RETRY_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1,this.errorCount)];return ln*1e3+Math.round(Math.random()*1e3)},sn.prototype.countError=function(){this.errorCount<ERROR_RETRY_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1&&this.errorCount++},sn.prototype.reset=function(){this.errorCount=0},sn}(),MODEL="model",NAME="name",TYPE="type",VENDOR="vendor",VERSION="version",ARCHITECTURE="architecture",CONSOLE="console",MOBILE="mobile",TABLET="tablet",SMARTTV="smarttv",WEARABLE="wearable",UAParser=function(){function sn(){}return sn.parse=function(ln){return{browser:sn.getBrowser(ln),cpu:sn.getCPU(ln),device:sn.getDevice(ln),engine:sn.getEngine(ln),os:sn.getOS(ln)}},sn.getBrowser=function(ln){var cn={name:void 0,version:void 0,major:void 0};return sn.mapper.rgx.call(cn,ln,sn.regexes.browser),cn.major=sn.util.major(cn.version),cn},sn.getCPU=function(ln){var cn={architecture:void 0};return sn.mapper.rgx.call(cn,ln,sn.regexes.cpu),cn},sn.getDevice=function(ln){var cn={model:void 0,type:void 0,vendor:void 0};return sn.mapper.rgx.call(cn,ln,sn.regexes.device),cn},sn.getEngine=function(ln){var cn={name:void 0,version:void 0};return sn.mapper.rgx.call(cn,ln,sn.regexes.os),cn},sn.getOS=function(ln){var cn={name:void 0,version:void 0};return sn.mapper.rgx.call(cn,ln,sn.regexes.os),cn},sn.util={extend:function(ln,cn){var dn={};for(var pn in ln)cn[pn]&&cn[pn].length%2===0?dn[pn]=cn[pn].concat(ln[pn]):dn[pn]=ln[pn];return dn},has:function(ln,cn){return typeof ln=="string"?cn.toLowerCase().indexOf(ln.toLowerCase())!==-1:!1},lowerize:function(ln){return ln.toLowerCase()},major:function(ln){return typeof ln=="string"?ln.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(ln){return ln.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},sn.mapper={rgx:function(ln,cn){for(var dn=0,pn,vn,Sn,En,Cn,Pn;dn<cn.length&&!Cn;){var Rn=cn[dn],Ln=cn[dn+1];for(pn=vn=0;pn<Rn.length&&!Cn;)if(Cn=Rn[pn++].exec(ln),Cn)for(Sn=0;Sn<Ln.length;Sn++)Pn=Cn[++vn],En=Ln[Sn],typeof En=="object"&&En.length>0?En.length==2?typeof En[1]=="function"?this[En[0]]=En[1].call(this,Pn):this[En[0]]=En[1]:En.length==3?typeof En[1]=="function"&&!(En[1].exec&&En[1].test)?this[En[0]]=Pn?En[1].call(this,Pn,En[2]):void 0:this[En[0]]=Pn?Pn.replace(En[1],En[2]):void 0:En.length==4&&(this[En[0]]=Pn?En[3].call(this,Pn.replace(En[1],En[2])):void 0):this[En]=Pn||void 0;dn+=2}},str:function(ln,cn){for(var dn in cn)if(typeof cn[dn]=="object"&&cn[dn].length>0){for(var pn=0;pn<cn[dn].length;pn++)if(sn.util.has(cn[dn][pn],ln))return dn==="?"?void 0:dn}else if(sn.util.has(cn[dn],ln))return dn==="?"?void 0:dn;return ln}},sn.maps={browser:{oldsafari:{version:{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},sn.regexes={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[NAME,VERSION],[/(opios)[\/\s]+([\w\.]+)/i],[[NAME,"Opera Mini"],VERSION],[/\s(opr)\/([\w\.]+)/i],[[NAME,"Opera"],VERSION],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[NAME,VERSION],[/(konqueror)\/([\w\.]+)/i],[[NAME,"Konqueror"],VERSION],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[NAME,"IE"],VERSION],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[NAME,"Edge"],VERSION],[/(yabrowser)\/([\w\.]+)/i],[[NAME,"Yandex"],VERSION],[/(Avast)\/([\w\.]+)/i],[[NAME,"Avast Secure Browser"],VERSION],[/(AVG)\/([\w\.]+)/i],[[NAME,"AVG Secure Browser"],VERSION],[/(puffin)\/([\w\.]+)/i],[[NAME,"Puffin"],VERSION],[/(focus)\/([\w\.]+)/i],[[NAME,"Firefox Focus"],VERSION],[/(opt)\/([\w\.]+)/i],[[NAME,"Opera Touch"],VERSION],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[NAME,"UCBrowser"],VERSION],[/(comodo_dragon)\/([\w\.]+)/i],[[NAME,/_/g," "],VERSION],[/(windowswechat qbcore)\/([\w\.]+)/i],[[NAME,"WeChat(Win) Desktop"],VERSION],[/(micromessenger)\/([\w\.]+)/i],[[NAME,"WeChat"],VERSION],[/(brave)\/([\w\.]+)/i],[[NAME,"Brave"],VERSION],[/(whale)\/([\w\.]+)/i],[[NAME,"Whale"],VERSION],[/(qqbrowserlite)\/([\w\.]+)/i],[NAME,VERSION],[/(QQ)\/([\d\.]+)/i],[NAME,VERSION],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[NAME,VERSION],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[NAME,VERSION],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[NAME,VERSION],[/(MetaSr)[\/\s]?([\w\.]+)/i],[NAME],[/(LBBROWSER)/i],[NAME],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[VERSION,[NAME,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[VERSION,[NAME,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[NAME,VERSION],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[VERSION,[NAME,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[NAME,/(.+)/,"$1 WebView"],VERSION],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[NAME,/(.+(?:g|us))(.+)/,"$1 $2"],VERSION],[/((?:android.+)crmo|crios)\/([\w\.]+)/i,/android.+(chrome)\/([\w\.]+)\s+(?:mobile\s?safari)/i],[[NAME,"Chrome Mobile"],VERSION],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[VERSION,[NAME,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[NAME,"Sailfish Browser"],VERSION],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[NAME,VERSION],[/(dolfin)\/([\w\.]+)/i],[[NAME,"Dolphin"],VERSION],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[NAME,"360 Browser"]],[/(coast)\/([\w\.]+)/i],[[NAME,"Opera Coast"],VERSION],[/fxios\/([\w\.-]+)/i],[VERSION,[NAME,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[VERSION,[NAME,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[VERSION,NAME],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[NAME,"GSA"],VERSION],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[NAME,[VERSION,sn.mapper.str,sn.maps.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[NAME,VERSION],[/(navigator|netscape)\/([\w\.-]+)/i],[[NAME,"Netscape"],VERSION],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[NAME,VERSION]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[ARCHITECTURE,"amd64"]],[/(ia32(?=;))/i],[[ARCHITECTURE,sn.util.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[ARCHITECTURE,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[ARCHITECTURE,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[ARCHITECTURE,/ower/,"",sn.util.lowerize]],[/(sun4\w)[;\)]/i],[[ARCHITECTURE,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[ARCHITECTURE,sn.util.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[MODEL,VENDOR,[TYPE,TABLET]],[/applecoremedia\/[\w\.]+ \((ipad)/],[MODEL,[VENDOR,"Apple"],[TYPE,TABLET]],[/(apple\s{0,1}tv)/i],[[MODEL,"Apple TV"],[VENDOR,"Apple"],[TYPE,SMARTTV]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[VENDOR,MODEL,[TYPE,TABLET]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[MODEL,[VENDOR,"Amazon"],[TYPE,TABLET]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[MODEL,sn.mapper.str,sn.maps.device.amazon.model],[VENDOR,"Amazon"],[TYPE,MOBILE]],[/android.+aft([bms])\sbuild/i],[MODEL,[VENDOR,"Amazon"],[TYPE,SMARTTV]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[MODEL,VENDOR,[TYPE,MOBILE]],[/\((ip[honed|\s\w*]+);/i],[MODEL,[VENDOR,"Apple"],[TYPE,MOBILE]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[VENDOR,MODEL,[TYPE,MOBILE]],[/\(bb10;\s(\w+)/i],[MODEL,[VENDOR,"BlackBerry"],[TYPE,MOBILE]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[MODEL,[VENDOR,"Asus"],[TYPE,TABLET]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[VENDOR,"Sony"],[MODEL,"Xperia Tablet"],[TYPE,TABLET]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[MODEL,[VENDOR,"Sony"],[TYPE,MOBILE]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[VENDOR,MODEL,[TYPE,CONSOLE]],[/android.+;\s(shield)\sbuild/i],[MODEL,[VENDOR,"Nvidia"],[TYPE,CONSOLE]],[/(playstation\s[34portablevi]+)/i],[MODEL,[VENDOR,"Sony"],[TYPE,CONSOLE]],[/(sprint\s(\w+))/i],[[VENDOR,sn.mapper.str,sn.maps.device.sprint.vendor],[MODEL,sn.mapper.str,sn.maps.device.sprint.model],[TYPE,MOBILE]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[VENDOR,[MODEL,/_/g," "],[TYPE,MOBILE]],[/(nexus\s9)/i],[MODEL,[VENDOR,"HTC"],[TYPE,TABLET]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p|vog-l29|ane-lx1|eml-l29)/i],[MODEL,[VENDOR,"Huawei"],[TYPE,MOBILE]],[/android.+(bah2?-a?[lw]\d{2})/i],[MODEL,[VENDOR,"Huawei"],[TYPE,TABLET]],[/(microsoft);\s(lumia[\s\w]+)/i],[VENDOR,MODEL,[TYPE,MOBILE]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[MODEL,[VENDOR,"Microsoft"],[TYPE,CONSOLE]],[/(kin\.[onetw]{3})/i],[[MODEL,/\./g," "],[VENDOR,"Microsoft"],[TYPE,MOBILE]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[MODEL,[VENDOR,"Motorola"],[TYPE,MOBILE]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[MODEL,[VENDOR,"Motorola"],[TYPE,TABLET]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[VENDOR,sn.util.trim],[MODEL,sn.util.trim],[TYPE,SMARTTV]],[/hbbtv.+maple;(\d+)/i],[[MODEL,/^/,"SmartTV"],[VENDOR,"Samsung"],[TYPE,SMARTTV]],[/\(dtv[\);].+(aquos)/i],[MODEL,[VENDOR,"Sharp"],[TYPE,SMARTTV]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[VENDOR,"Samsung"],MODEL,[TYPE,TABLET]],[/smart-tv.+(samsung)/i],[VENDOR,[TYPE,SMARTTV],MODEL],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[VENDOR,"Samsung"],MODEL,[TYPE,MOBILE]],[/sie-(\w*)/i],[MODEL,[VENDOR,"Siemens"],[TYPE,MOBILE]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[VENDOR,"Nokia"],MODEL,[TYPE,MOBILE]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[MODEL,[VENDOR,"Acer"],[TYPE,TABLET]],[/android.+([vl]k\-?\d{3})\s+build/i],[MODEL,[VENDOR,"LG"],[TYPE,TABLET]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[VENDOR,"LG"],MODEL,[TYPE,TABLET]],[/(lg) netcast\.tv/i],[VENDOR,MODEL,[TYPE,SMARTTV]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[MODEL,[VENDOR,"LG"],[TYPE,MOBILE]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[VENDOR,MODEL,[TYPE,TABLET]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[MODEL,[VENDOR,"Lenovo"],[TYPE,TABLET]],[/(lenovo)[_\s-]?([\w-]+)/i],[VENDOR,MODEL,[TYPE,MOBILE]],[/linux;.+((jolla));/i],[VENDOR,MODEL,[TYPE,MOBILE]],[/((pebble))app\/[\d\.]+\s/i],[VENDOR,MODEL,[TYPE,WEARABLE]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[VENDOR,MODEL,[TYPE,MOBILE]],[/crkey/i],[[MODEL,"Chromecast"],[VENDOR,"Google"],[TYPE,SMARTTV]],[/android.+;\s(glass)\s\d/i],[MODEL,[VENDOR,"Google"],[TYPE,WEARABLE]],[/android.+;\s(pixel c)[\s)]/i],[MODEL,[VENDOR,"Google"],[TYPE,TABLET]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[MODEL,[VENDOR,"Google"],[TYPE,MOBILE]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[MODEL,/_/g," "],[VENDOR,"Xiaomi"],[TYPE,MOBILE]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[MODEL,/_/g," "],[VENDOR,"Xiaomi"],[TYPE,TABLET]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[MODEL,[VENDOR,"Meizu"],[TYPE,MOBILE]],[/(mz)-([\w-]{2,})/i],[[VENDOR,"Meizu"],MODEL,[TYPE,MOBILE]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[MODEL,[VENDOR,"OnePlus"],[TYPE,MOBILE]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[MODEL,[VENDOR,"RCA"],[TYPE,TABLET]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[MODEL,[VENDOR,"Dell"],[TYPE,TABLET]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[MODEL,[VENDOR,"Verizon"],[TYPE,TABLET]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[VENDOR,"Barnes & Noble"],MODEL,[TYPE,TABLET]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[MODEL,[VENDOR,"NuVision"],[TYPE,TABLET]],[/android.+;\s(k88)\sbuild/i],[MODEL,[VENDOR,"ZTE"],[TYPE,TABLET]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[MODEL,[VENDOR,"Swiss"],[TYPE,MOBILE]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[MODEL,[VENDOR,"Swiss"],[TYPE,TABLET]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[MODEL,[VENDOR,"Zeki"],[TYPE,TABLET]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[VENDOR,"Dragon Touch"],MODEL,[TYPE,TABLET]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[MODEL,[VENDOR,"Insignia"],[TYPE,TABLET]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[MODEL,[VENDOR,"NextBook"],[TYPE,TABLET]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[VENDOR,"Voice"],MODEL,[TYPE,MOBILE]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[VENDOR,"LvTel"],MODEL,[TYPE,MOBILE]],[/android.+;\s(PH-1)\s/i],[MODEL,[VENDOR,"Essential"],[TYPE,MOBILE]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[MODEL,[VENDOR,"Envizen"],[TYPE,TABLET]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[VENDOR,MODEL,[TYPE,TABLET]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[MODEL,[VENDOR,"MachSpeed"],[TYPE,TABLET]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[VENDOR,MODEL,[TYPE,TABLET]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[MODEL,[VENDOR,"Rotor"],[TYPE,TABLET]],[/android.+(KS(.+))\s+build/i],[MODEL,[VENDOR,"Amazon"],[TYPE,TABLET]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[VENDOR,MODEL,[TYPE,TABLET]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[TYPE,sn.util.lowerize],VENDOR,MODEL],[/[\s\/\(](smart-?tv)[;\)]/i],[[TYPE,SMARTTV]],[/(android[\w\.\s\-]{0,9});.+build/i],[MODEL,[VENDOR,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[VERSION,[NAME,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[VERSION,[NAME,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[NAME,VERSION],[/rv\:([\w\.]{1,9}).+(gecko)/i],[VERSION,NAME]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[NAME,VERSION],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[[NAME,sn.mapper.str,sn.maps.os.windows],[VERSION,sn.mapper.str,sn.maps.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[NAME,"Windows"],[VERSION,sn.mapper.str,sn.maps.os.windows.version]],[/\((bb)(10);/i],[[NAME,"BlackBerry"],VERSION],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[NAME,VERSION],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[NAME,"Symbian"],VERSION],[/\((series40);/i],[NAME],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[NAME,"Firefox OS"],VERSION],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[[NAME,"Linux"],VERSION],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[NAME,"Chromium OS"],VERSION],[/(sunos)\s?([\w\.\d]*)/i],[[NAME,"Solaris"],VERSION],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[[NAME,"Linux"],VERSION],[/(iphone)(?:.*os\s*([\w]*)\slike\smac|;\sopera)/i],[[NAME,"iPhone"],[VERSION,/_/g,"."]],[/(ipad)(?:.*os\s*([\w]*)\slike\smac|;\sopera)/i],[[NAME,"iPad"],[VERSION,/_/g,"."]],[/(haiku)\s(\w+)/i],[NAME,VERSION],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[VERSION,/_/g,"."],[NAME,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[NAME,"Mac"],[VERSION,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[NAME,VERSION]]},sn}(),HacklePropertyGenerator=function(){function sn(){}return sn.generate=function(ln){var cn,dn;if(typeof ln>"u"){var pn={hostname:"",pathname:"",host:"",search:"",protocol:""};dn={navigator:{userAgent:"",vendor:"",languages:[]},document:{location:pn,title:""},location:pn,screen:{width:"",height:""}}}else dn=ln;var vn=UAParser.parse(dn.navigator.userAgent),Sn=vn.browser,En=vn.os,Cn=vn.device,Pn=Cn.type?Cn.type==="mobile"?"Mobile":"ETC":"Web",Rn=dn.location.protocol||"",Ln=Rn.replace(":",""),Fn=dn.screen,Gn="";try{Gn=Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return{platform:Pn||"",browserName:Sn.name||"",browserMajorVersion:Sn.major||"",browserVersion:Sn.version||"",osName:En.name||"",osVersion:En.version||"",deviceModel:Cn.model||"",deviceType:Cn.type||"",deviceVendor:Cn.vendor||"",language:((cn=dn.navigator.languages)===null||cn===void 0?void 0:cn[0])||"",userAgent:dn.navigator.userAgent||"",pagePath:dn.location.pathname||"",pageTitle:dn.document.title||"",host:dn.location.host||"",protocol:Ln,referrer:dn.document.referrer||"",queryParameter:dn.location.search||"",screenWidth:Fn.width||"",screenHeight:Fn.height||"",timeZone:Gn||""}},sn}(),CookieStorage=function(){function sn(ln){ln===void 0&&(ln={days:0,isCrossSubdomain:!1,isSecure:!1,isCrossSite:!1}),this.options=ln}return sn.extractDomain=function(ln){var cn=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,dn=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i,pn=cn,vn=ln.split("."),Sn=vn[vn.length-1];(Sn.length>4||Sn==="com"||Sn==="org")&&(pn=dn);var En=ln.match(pn);return En?En[0]:""},sn.prototype.getItem=function(ln){for(var cn=ln+"=",dn=document.cookie.split(";"),pn=0;pn<dn.length;pn++){for(var vn=dn[pn];vn.charAt(0)==" ";)vn=vn.substring(1,vn.length);if(vn.indexOf(cn)===0)return decodeURIComponent(vn.substring(cn.length,vn.length))}return null},sn.prototype.getAllItem=function(ln){var cn=document.cookie.split("; ").map(function(pn){return pn.split("=")}),dn=ln==null?void 0:ln.keyPrefix;return dn?cn.filter(function(pn){var vn=pn[0];return pn[1],vn.startsWith(dn)}):cn},sn.prototype.setItem=function(ln,cn,dn){var pn=__assign$1(__assign$1({},this.options),dn),vn=pn.isSecure,Sn="",En="",Cn="";if(pn.isCrossSubdomain){var Pn=sn.extractDomain(document.location.hostname);Sn=Pn?"; domain=."+Pn:""}if(pn.days){var Rn=new Date;Rn.setTime(Rn.getTime()+pn.days*24*60*60*1e3),En="; expires="+Rn.toUTCString()}pn.isCrossSite&&(vn=!0,Cn="; SameSite=None"),vn&&(Cn+="; secure");var Ln=ln+"="+encodeURIComponent(cn)+En+"; path=/"+Sn+Cn;return document.cookie=Ln,Ln},sn.prototype.removeItem=function(ln,cn){this.setItem(ln,"",__assign$1(__assign$1({},cn),{days:-1}))},sn}(),cookieStorage=new CookieStorage({days:COOKIE_EXPIRE_DAYS,isCrossSubdomain:!0}),LocationSearchParser=function(){function sn(ln){this.search=ln}return sn.prototype.getQueryParam=function(ln){var cn=this.getQueryParams(function(){return!0});return cn[ln]||""},sn.prototype.getQueryParams=function(ln){for(var cn={},dn=this.search.substring(1).split("&"),pn=0,vn=dn;pn<vn.length;pn++){var Sn=vn[pn],En=Sn.split("="),Cn=En[0],Pn=En[1];ln(Cn,Pn)&&(cn[Cn]=decodeURIComponent(Pn))}return cn},sn}(),HackleUserResolver=function(){function sn(ln){this.userManager=ln,IdentifierManager.initialize()}return sn.prototype.resolve=function(ln){var cn=getUserId(),dn=new IdentifiersBuilder().addIdentifiers(ln.identifiers||{}).add(IdentifierType.ID,ln.id||cn).add(IdentifierType.DEVICE,ln.deviceId||cn).add(IdentifierType.HACKLE_DEVICE,cn);ObjectUtil$1.isNotNullOrUndefined(ln.userId)&&dn.add(IdentifierType.USER,ln.userId);var pn=dn.build();return{identifiers:pn,properties:this._userProperties(ln.properties),hackleProperties:this._getHackleProperties()}},sn.prototype.resolveCurrentUser=function(){return this.resolve(this.userManager.currentUser)},sn.prototype._userProperties=function(ln){ln===void 0&&(ln={});var cn={};if(typeof window<"u"){var dn=new LocationSearchParser(window.location.search);cn=__assign$1(__assign$1({},dn.getQueryParams(function(pn){return pn.startsWith("utm_")})),dn.getQueryParams(function(pn){return["gclid","fbclid"].includes(pn)}))}return __assign$1(__assign$1({},cn),ln)},sn.prototype._getHackleProperties=function(){var ln;return typeof window<"u"&&(ln=HacklePropertyGenerator.generate(window)),ln||{}},sn}(),IdentifierManager=function(){function sn(){}return sn.initialize=function(){var ln=cookieStorage.getItem(COOKIE_HID_KEY);ln||generateIdentifier()},sn.reInitialize=function(){generateIdentifier()},sn}();function getUserId(){var sn=cookieStorage.getItem(COOKIE_USER_ID_KEY);if(sn)return sn;var ln=cookieStorage.getItem(COOKIE_HID_KEY);return ln||generateIdentifier()}function removeUserId(){cookieStorage.removeItem(COOKIE_USER_ID_KEY)}function generateIdentifier(){var sn=v4();return cookieStorage.setItem(COOKIE_HID_KEY,sn),sn}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},promise$5={exports:{}},check=function(sn){return sn&&sn.Math==Math&&sn},global$n=check(typeof globalThis=="object"&&globalThis)||check(typeof window=="object"&&window)||check(typeof self=="object"&&self)||check(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||Function("return this")(),objectGetOwnPropertyDescriptor={},fails$p=function(sn){try{return!!sn()}catch{return!0}},fails$o=fails$p,descriptors=!fails$o(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),fails$n=fails$p,functionBindNative=!fails$n(function(){var sn=function(){}.bind();return typeof sn!="function"||sn.hasOwnProperty("prototype")}),NATIVE_BIND$3=functionBindNative,call$k=Function.prototype.call,functionCall=NATIVE_BIND$3?call$k.bind(call$k):function(){return call$k.apply(call$k,arguments)},objectPropertyIsEnumerable={},$propertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor$2=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor$2&&!$propertyIsEnumerable.call({1:2},1);objectPropertyIsEnumerable.f=NASHORN_BUG?function sn(ln){var cn=getOwnPropertyDescriptor$2(this,ln);return!!cn&&cn.enumerable}:$propertyIsEnumerable;var createPropertyDescriptor$6=function(sn,ln){return{enumerable:!(sn&1),configurable:!(sn&2),writable:!(sn&4),value:ln}},NATIVE_BIND$2=functionBindNative,FunctionPrototype$2=Function.prototype,bind$d=FunctionPrototype$2.bind,call$j=FunctionPrototype$2.call,uncurryThis$q=NATIVE_BIND$2&&bind$d.bind(call$j,call$j),functionUncurryThis=NATIVE_BIND$2?function(sn){return sn&&uncurryThis$q(sn)}:function(sn){return sn&&function(){return call$j.apply(sn,arguments)}},uncurryThis$p=functionUncurryThis,toString$7=uncurryThis$p({}.toString),stringSlice$1=uncurryThis$p("".slice),classofRaw$1=function(sn){return stringSlice$1(toString$7(sn),8,-1)},uncurryThis$o=functionUncurryThis,fails$m=fails$p,classof$9=classofRaw$1,$Object$4=Object,split=uncurryThis$o("".split),indexedObject=fails$m(function(){return!$Object$4("z").propertyIsEnumerable(0)})?function(sn){return classof$9(sn)=="String"?split(sn,""):$Object$4(sn)}:$Object$4,$TypeError$e=TypeError,requireObjectCoercible$3=function(sn){if(sn==null)throw $TypeError$e("Can't call method on "+sn);return sn},IndexedObject$6=indexedObject,requireObjectCoercible$2=requireObjectCoercible$3,toIndexedObject$d=function(sn){return IndexedObject$6(requireObjectCoercible$2(sn))},isCallable$o=function(sn){return typeof sn=="function"},isCallable$n=isCallable$o,isObject$f=function(sn){return typeof sn=="object"?sn!==null:isCallable$n(sn)},global$m=global$n,isCallable$m=isCallable$o,aFunction=function(sn){return isCallable$m(sn)?sn:void 0},getBuiltIn$g=function(sn,ln){return arguments.length<2?aFunction(global$m[sn]):global$m[sn]&&global$m[sn][ln]},uncurryThis$n=functionUncurryThis,objectIsPrototypeOf=uncurryThis$n({}.isPrototypeOf),getBuiltIn$f=getBuiltIn$g,engineUserAgent=getBuiltIn$f("navigator","userAgent")||"",global$l=global$n,userAgent$5=engineUserAgent,process$3=global$l.process,Deno$1=global$l.Deno,versions=process$3&&process$3.versions||Deno$1&&Deno$1.version,v8=versions&&versions.v8,match,version;v8&&(match=v8.split("."),version=match[0]>0&&match[0]<4?1:+(match[0]+match[1]));!version&&userAgent$5&&(match=userAgent$5.match(/Edge\/(\d+)/),(!match||match[1]>=74)&&(match=userAgent$5.match(/Chrome\/(\d+)/),match&&(version=+match[1])));var engineV8Version=version,V8_VERSION$3=engineV8Version,fails$l=fails$p,nativeSymbol=!!Object.getOwnPropertySymbols&&!fails$l(function(){var sn=Symbol();return!String(sn)||!(Object(sn)instanceof Symbol)||!Symbol.sham&&V8_VERSION$3&&V8_VERSION$3<41}),NATIVE_SYMBOL$1=nativeSymbol,useSymbolAsUid=NATIVE_SYMBOL$1&&!Symbol.sham&&typeof Symbol.iterator=="symbol",getBuiltIn$e=getBuiltIn$g,isCallable$l=isCallable$o,isPrototypeOf$3=objectIsPrototypeOf,USE_SYMBOL_AS_UID$1=useSymbolAsUid,$Object$3=Object,isSymbol$2=USE_SYMBOL_AS_UID$1?function(sn){return typeof sn=="symbol"}:function(sn){var ln=getBuiltIn$e("Symbol");return isCallable$l(ln)&&isPrototypeOf$3(ln.prototype,$Object$3(sn))},$String$3=String,tryToString$5=function(sn){try{return $String$3(sn)}catch{return"Object"}},isCallable$k=isCallable$o,tryToString$4=tryToString$5,$TypeError$d=TypeError,aCallable$g=function(sn){if(isCallable$k(sn))return sn;throw $TypeError$d(tryToString$4(sn)+" is not a function")},aCallable$f=aCallable$g,getMethod$7=function(sn,ln){var cn=sn[ln];return cn==null?void 0:aCallable$f(cn)},call$i=functionCall,isCallable$j=isCallable$o,isObject$e=isObject$f,$TypeError$c=TypeError,ordinaryToPrimitive$1=function(sn,ln){var cn,dn;if(ln==="string"&&isCallable$j(cn=sn.toString)&&!isObject$e(dn=call$i(cn,sn))||isCallable$j(cn=sn.valueOf)&&!isObject$e(dn=call$i(cn,sn))||ln!=="string"&&isCallable$j(cn=sn.toString)&&!isObject$e(dn=call$i(cn,sn)))return dn;throw $TypeError$c("Can't convert object to primitive value")},shared$4={exports:{}},global$k=global$n,defineProperty$7=Object.defineProperty,defineGlobalProperty$3=function(sn,ln){try{defineProperty$7(global$k,sn,{value:ln,configurable:!0,writable:!0})}catch{global$k[sn]=ln}return ln},global$j=global$n,defineGlobalProperty$2=defineGlobalProperty$3,SHARED="__core-js_shared__",store$3=global$j[SHARED]||defineGlobalProperty$2(SHARED,{}),sharedStore=store$3,store$2=sharedStore;(shared$4.exports=function(sn,ln){return store$2[sn]||(store$2[sn]=ln!==void 0?ln:{})})("versions",[]).push({version:"3.24.1",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"});var requireObjectCoercible$1=requireObjectCoercible$3,$Object$2=Object,toObject$m=function(sn){return $Object$2(requireObjectCoercible$1(sn))},uncurryThis$m=functionUncurryThis,toObject$l=toObject$m,hasOwnProperty=uncurryThis$m({}.hasOwnProperty),hasOwnProperty_1=Object.hasOwn||function sn(ln,cn){return hasOwnProperty(toObject$l(ln),cn)},uncurryThis$l=functionUncurryThis,id$1=0,postfix=Math.random(),toString$6=uncurryThis$l(1 .toString),uid$3=function(sn){return"Symbol("+(sn===void 0?"":sn)+")_"+toString$6(++id$1+postfix,36)},global$i=global$n,shared$3=shared$4.exports,hasOwn$a=hasOwnProperty_1,uid$2=uid$3,NATIVE_SYMBOL=nativeSymbol,USE_SYMBOL_AS_UID=useSymbolAsUid,WellKnownSymbolsStore=shared$3("wks"),Symbol$1=global$i.Symbol,symbolFor=Symbol$1&&Symbol$1.for,createWellKnownSymbol=USE_SYMBOL_AS_UID?Symbol$1:Symbol$1&&Symbol$1.withoutSetter||uid$2,wellKnownSymbol$m=function(sn){if(!hasOwn$a(WellKnownSymbolsStore,sn)||!(NATIVE_SYMBOL||typeof WellKnownSymbolsStore[sn]=="string")){var ln="Symbol."+sn;NATIVE_SYMBOL&&hasOwn$a(Symbol$1,sn)?WellKnownSymbolsStore[sn]=Symbol$1[sn]:USE_SYMBOL_AS_UID&&symbolFor?WellKnownSymbolsStore[sn]=symbolFor(ln):WellKnownSymbolsStore[sn]=createWellKnownSymbol(ln)}return WellKnownSymbolsStore[sn]},call$h=functionCall,isObject$d=isObject$f,isSymbol$1=isSymbol$2,getMethod$6=getMethod$7,ordinaryToPrimitive=ordinaryToPrimitive$1,wellKnownSymbol$l=wellKnownSymbol$m,$TypeError$b=TypeError,TO_PRIMITIVE=wellKnownSymbol$l("toPrimitive"),toPrimitive$1=function(sn,ln){if(!isObject$d(sn)||isSymbol$1(sn))return sn;var cn=getMethod$6(sn,TO_PRIMITIVE),dn;if(cn){if(ln===void 0&&(ln="default"),dn=call$h(cn,sn,ln),!isObject$d(dn)||isSymbol$1(dn))return dn;throw $TypeError$b("Can't convert object to primitive value")}return ln===void 0&&(ln="number"),ordinaryToPrimitive(sn,ln)},toPrimitive=toPrimitive$1,isSymbol=isSymbol$2,toPropertyKey$4=function(sn){var ln=toPrimitive(sn,"string");return isSymbol(ln)?ln:ln+""},global$h=global$n,isObject$c=isObject$f,document$3=global$h.document,EXISTS$1=isObject$c(document$3)&&isObject$c(document$3.createElement),documentCreateElement$2=function(sn){return EXISTS$1?document$3.createElement(sn):{}},DESCRIPTORS$c=descriptors,fails$k=fails$p,createElement$1=documentCreateElement$2,ie8DomDefine=!DESCRIPTORS$c&&!fails$k(function(){return Object.defineProperty(createElement$1("div"),"a",{get:function(){return 7}}).a!=7}),DESCRIPTORS$b=descriptors,call$g=functionCall,propertyIsEnumerableModule=objectPropertyIsEnumerable,createPropertyDescriptor$5=createPropertyDescriptor$6,toIndexedObject$c=toIndexedObject$d,toPropertyKey$3=toPropertyKey$4,hasOwn$9=hasOwnProperty_1,IE8_DOM_DEFINE$1=ie8DomDefine,$getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor.f=DESCRIPTORS$b?$getOwnPropertyDescriptor$1:function sn(ln,cn){if(ln=toIndexedObject$c(ln),cn=toPropertyKey$3(cn),IE8_DOM_DEFINE$1)try{return $getOwnPropertyDescriptor$1(ln,cn)}catch{}if(hasOwn$9(ln,cn))return createPropertyDescriptor$5(!call$g(propertyIsEnumerableModule.f,ln,cn),ln[cn])};var objectDefineProperty={},DESCRIPTORS$a=descriptors,fails$j=fails$p,v8PrototypeDefineBug=DESCRIPTORS$a&&fails$j(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),isObject$b=isObject$f,$String$2=String,$TypeError$a=TypeError,anObject$f=function(sn){if(isObject$b(sn))return sn;throw $TypeError$a($String$2(sn)+" is not an object")},DESCRIPTORS$9=descriptors,IE8_DOM_DEFINE=ie8DomDefine,V8_PROTOTYPE_DEFINE_BUG$1=v8PrototypeDefineBug,anObject$e=anObject$f,toPropertyKey$2=toPropertyKey$4,$TypeError$9=TypeError,$defineProperty=Object.defineProperty,$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,ENUMERABLE="enumerable",CONFIGURABLE$1="configurable",WRITABLE="writable";objectDefineProperty.f=DESCRIPTORS$9?V8_PROTOTYPE_DEFINE_BUG$1?function sn(ln,cn,dn){if(anObject$e(ln),cn=toPropertyKey$2(cn),anObject$e(dn),typeof ln=="function"&&cn==="prototype"&&"value"in dn&&WRITABLE in dn&&!dn[WRITABLE]){var pn=$getOwnPropertyDescriptor(ln,cn);pn&&pn[WRITABLE]&&(ln[cn]=dn.value,dn={configurable:CONFIGURABLE$1 in dn?dn[CONFIGURABLE$1]:pn[CONFIGURABLE$1],enumerable:ENUMERABLE in dn?dn[ENUMERABLE]:pn[ENUMERABLE],writable:!1})}return $defineProperty(ln,cn,dn)}:$defineProperty:function sn(ln,cn,dn){if(anObject$e(ln),cn=toPropertyKey$2(cn),anObject$e(dn),IE8_DOM_DEFINE)try{return $defineProperty(ln,cn,dn)}catch{}if("get"in dn||"set"in dn)throw $TypeError$9("Accessors not supported");return"value"in dn&&(ln[cn]=dn.value),ln};var DESCRIPTORS$8=descriptors,definePropertyModule$5=objectDefineProperty,createPropertyDescriptor$4=createPropertyDescriptor$6,createNonEnumerableProperty$6=DESCRIPTORS$8?function(sn,ln,cn){return definePropertyModule$5.f(sn,ln,createPropertyDescriptor$4(1,cn))}:function(sn,ln,cn){return sn[ln]=cn,sn},makeBuiltIn$3={exports:{}},DESCRIPTORS$7=descriptors,hasOwn$8=hasOwnProperty_1,FunctionPrototype$1=Function.prototype,getDescriptor=DESCRIPTORS$7&&Object.getOwnPropertyDescriptor,EXISTS=hasOwn$8(FunctionPrototype$1,"name"),PROPER=EXISTS&&function sn(){}.name==="something",CONFIGURABLE=EXISTS&&(!DESCRIPTORS$7||DESCRIPTORS$7&&getDescriptor(FunctionPrototype$1,"name").configurable),functionName={EXISTS,PROPER,CONFIGURABLE},uncurryThis$k=functionUncurryThis,isCallable$i=isCallable$o,store$1=sharedStore,functionToString=uncurryThis$k(Function.toString);isCallable$i(store$1.inspectSource)||(store$1.inspectSource=function(sn){return functionToString(sn)});var inspectSource$4=store$1.inspectSource,global$g=global$n,isCallable$h=isCallable$o,inspectSource$3=inspectSource$4,WeakMap$1=global$g.WeakMap,nativeWeakMap=isCallable$h(WeakMap$1)&&/native code/.test(inspectSource$3(WeakMap$1)),shared$2=shared$4.exports,uid$1=uid$3,keys=shared$2("keys"),sharedKey$3=function(sn){return keys[sn]||(keys[sn]=uid$1(sn))},hiddenKeys$5={},NATIVE_WEAK_MAP=nativeWeakMap,global$f=global$n,uncurryThis$j=functionUncurryThis,isObject$a=isObject$f,createNonEnumerableProperty$5=createNonEnumerableProperty$6,hasOwn$7=hasOwnProperty_1,shared$1=sharedStore,sharedKey$2=sharedKey$3,hiddenKeys$4=hiddenKeys$5,OBJECT_ALREADY_INITIALIZED="Object already initialized",TypeError$2=global$f.TypeError,WeakMap$2=global$f.WeakMap,set$1,get,has,enforce=function(sn){return has(sn)?get(sn):set$1(sn,{})},getterFor=function(sn){return function(ln){var cn;if(!isObject$a(ln)||(cn=get(ln)).type!==sn)throw TypeError$2("Incompatible receiver, "+sn+" required");return cn}};if(NATIVE_WEAK_MAP||shared$1.state){var store$4=shared$1.state||(shared$1.state=new WeakMap$2),wmget=uncurryThis$j(store$4.get),wmhas=uncurryThis$j(store$4.has),wmset=uncurryThis$j(store$4.set);set$1=function(sn,ln){if(wmhas(store$4,sn))throw new TypeError$2(OBJECT_ALREADY_INITIALIZED);return ln.facade=sn,wmset(store$4,sn,ln),ln},get=function(sn){return wmget(store$4,sn)||{}},has=function(sn){return wmhas(store$4,sn)}}else{var STATE=sharedKey$2("state");hiddenKeys$4[STATE]=!0,set$1=function(sn,ln){if(hasOwn$7(sn,STATE))throw new TypeError$2(OBJECT_ALREADY_INITIALIZED);return ln.facade=sn,createNonEnumerableProperty$5(sn,STATE,ln),ln},get=function(sn){return hasOwn$7(sn,STATE)?sn[STATE]:{}},has=function(sn){return hasOwn$7(sn,STATE)}}var internalState={set:set$1,get,has,enforce,getterFor},fails$i=fails$p,isCallable$g=isCallable$o,hasOwn$6=hasOwnProperty_1,DESCRIPTORS$6=descriptors,CONFIGURABLE_FUNCTION_NAME$1=functionName.CONFIGURABLE,inspectSource$2=inspectSource$4,InternalStateModule$5=internalState,enforceInternalState=InternalStateModule$5.enforce,getInternalState$3=InternalStateModule$5.get,defineProperty$6=Object.defineProperty,CONFIGURABLE_LENGTH=DESCRIPTORS$6&&!fails$i(function(){return defineProperty$6(function(){},"length",{value:8}).length!==8}),TEMPLATE=String(String).split("String"),makeBuiltIn$2=makeBuiltIn$3.exports=function(sn,ln,cn){String(ln).slice(0,7)==="Symbol("&&(ln="["+String(ln).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),cn&&cn.getter&&(ln="get "+ln),cn&&cn.setter&&(ln="set "+ln),(!hasOwn$6(sn,"name")||CONFIGURABLE_FUNCTION_NAME$1&&sn.name!==ln)&&(DESCRIPTORS$6?defineProperty$6(sn,"name",{value:ln,configurable:!0}):sn.name=ln),CONFIGURABLE_LENGTH&&cn&&hasOwn$6(cn,"arity")&&sn.length!==cn.arity&&defineProperty$6(sn,"length",{value:cn.arity});try{cn&&hasOwn$6(cn,"constructor")&&cn.constructor?DESCRIPTORS$6&&defineProperty$6(sn,"prototype",{writable:!1}):sn.prototype&&(sn.prototype=void 0)}catch{}var dn=enforceInternalState(sn);return hasOwn$6(dn,"source")||(dn.source=TEMPLATE.join(typeof ln=="string"?ln:"")),sn};Function.prototype.toString=makeBuiltIn$2(function sn(){return isCallable$g(this)&&getInternalState$3(this).source||inspectSource$2(this)},"toString");var isCallable$f=isCallable$o,definePropertyModule$4=objectDefineProperty,makeBuiltIn$1=makeBuiltIn$3.exports,defineGlobalProperty$1=defineGlobalProperty$3,defineBuiltIn$a=function(sn,ln,cn,dn){dn||(dn={});var pn=dn.enumerable,vn=dn.name!==void 0?dn.name:ln;if(isCallable$f(cn)&&makeBuiltIn$1(cn,vn,dn),dn.global)pn?sn[ln]=cn:defineGlobalProperty$1(ln,cn);else{try{dn.unsafe?sn[ln]&&(pn=!0):delete sn[ln]}catch{}pn?sn[ln]=cn:definePropertyModule$4.f(sn,ln,{value:cn,enumerable:!1,configurable:!dn.nonConfigurable,writable:!dn.nonWritable})}return sn},objectGetOwnPropertyNames={},ceil=Math.ceil,floor$1=Math.floor,mathTrunc=Math.trunc||function sn(ln){var cn=+ln;return(cn>0?floor$1:ceil)(cn)},trunc=mathTrunc,toIntegerOrInfinity$9=function(sn){var ln=+sn;return ln!==ln||ln===0?0:trunc(ln)},toIntegerOrInfinity$8=toIntegerOrInfinity$9,max$4=Math.max,min$5=Math.min,toAbsoluteIndex$7=function(sn,ln){var cn=toIntegerOrInfinity$8(sn);return cn<0?max$4(cn+ln,0):min$5(cn,ln)},toIntegerOrInfinity$7=toIntegerOrInfinity$9,min$4=Math.min,toLength$1=function(sn){return sn>0?min$4(toIntegerOrInfinity$7(sn),9007199254740991):0},toLength=toLength$1,lengthOfArrayLike$t=function(sn){return toLength(sn.length)},toIndexedObject$b=toIndexedObject$d,toAbsoluteIndex$6=toAbsoluteIndex$7,lengthOfArrayLike$s=lengthOfArrayLike$t,createMethod$5=function(sn){return function(ln,cn,dn){var pn=toIndexedObject$b(ln),vn=lengthOfArrayLike$s(pn),Sn=toAbsoluteIndex$6(dn,vn),En;if(sn&&cn!=cn){for(;vn>Sn;)if(En=pn[Sn++],En!=En)return!0}else for(;vn>Sn;Sn++)if((sn||Sn in pn)&&pn[Sn]===cn)return sn||Sn||0;return!sn&&-1}},arrayIncludes={includes:createMethod$5(!0),indexOf:createMethod$5(!1)},uncurryThis$i=functionUncurryThis,hasOwn$5=hasOwnProperty_1,toIndexedObject$a=toIndexedObject$d,indexOf=arrayIncludes.indexOf,hiddenKeys$3=hiddenKeys$5,push$6=uncurryThis$i([].push),objectKeysInternal=function(sn,ln){var cn=toIndexedObject$a(sn),dn=0,pn=[],vn;for(vn in cn)!hasOwn$5(hiddenKeys$3,vn)&&hasOwn$5(cn,vn)&&push$6(pn,vn);for(;ln.length>dn;)hasOwn$5(cn,vn=ln[dn++])&&(~indexOf(pn,vn)||push$6(pn,vn));return pn},enumBugKeys$3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1=objectKeysInternal,enumBugKeys$2=enumBugKeys$3,hiddenKeys$2=enumBugKeys$2.concat("length","prototype");objectGetOwnPropertyNames.f=Object.getOwnPropertyNames||function sn(ln){return internalObjectKeys$1(ln,hiddenKeys$2)};var objectGetOwnPropertySymbols={};objectGetOwnPropertySymbols.f=Object.getOwnPropertySymbols;var getBuiltIn$d=getBuiltIn$g,uncurryThis$h=functionUncurryThis,getOwnPropertyNamesModule$1=objectGetOwnPropertyNames,getOwnPropertySymbolsModule=objectGetOwnPropertySymbols,anObject$d=anObject$f,concat=uncurryThis$h([].concat),ownKeys$1=getBuiltIn$d("Reflect","ownKeys")||function sn(ln){var cn=getOwnPropertyNamesModule$1.f(anObject$d(ln)),dn=getOwnPropertySymbolsModule.f;return dn?concat(cn,dn(ln)):cn},hasOwn$4=hasOwnProperty_1,ownKeys=ownKeys$1,getOwnPropertyDescriptorModule=objectGetOwnPropertyDescriptor,definePropertyModule$3=objectDefineProperty,copyConstructorProperties$2=function(sn,ln,cn){for(var dn=ownKeys(ln),pn=definePropertyModule$3.f,vn=getOwnPropertyDescriptorModule.f,Sn=0;Sn<dn.length;Sn++){var En=dn[Sn];!hasOwn$4(sn,En)&&!(cn&&hasOwn$4(cn,En))&&pn(sn,En,vn(ln,En))}},fails$h=fails$p,isCallable$e=isCallable$o,replacement=/#|\.prototype\./,isForced$3=function(sn,ln){var cn=data[normalize(sn)];return cn==POLYFILL?!0:cn==NATIVE?!1:isCallable$e(ln)?fails$h(ln):!!ln},normalize=isForced$3.normalize=function(sn){return String(sn).replace(replacement,".").toLowerCase()},data=isForced$3.data={},NATIVE=isForced$3.NATIVE="N",POLYFILL=isForced$3.POLYFILL="P",isForced_1=isForced$3,global$e=global$n,getOwnPropertyDescriptor$1=objectGetOwnPropertyDescriptor.f,createNonEnumerableProperty$4=createNonEnumerableProperty$6,defineBuiltIn$9=defineBuiltIn$a,defineGlobalProperty=defineGlobalProperty$3,copyConstructorProperties$1=copyConstructorProperties$2,isForced$2=isForced_1,_export=function(sn,ln){var cn=sn.target,dn=sn.global,pn=sn.stat,vn,Sn,En,Cn,Pn,Rn;if(dn?Sn=global$e:pn?Sn=global$e[cn]||defineGlobalProperty(cn,{}):Sn=(global$e[cn]||{}).prototype,Sn)for(En in ln){if(Pn=ln[En],sn.dontCallGetSet?(Rn=getOwnPropertyDescriptor$1(Sn,En),Cn=Rn&&Rn.value):Cn=Sn[En],vn=isForced$2(dn?En:cn+(pn?".":"#")+En,sn.forced),!vn&&Cn!==void 0){if(typeof Pn==typeof Cn)continue;copyConstructorProperties$1(Pn,Cn)}(sn.sham||Cn&&Cn.sham)&&createNonEnumerableProperty$4(Pn,"sham",!0),defineBuiltIn$9(Sn,En,Pn,sn)}},fails$g=fails$p,correctPrototypeGetter=!fails$g(function(){function sn(){}return sn.prototype.constructor=null,Object.getPrototypeOf(new sn)!==sn.prototype}),hasOwn$3=hasOwnProperty_1,isCallable$d=isCallable$o,toObject$k=toObject$m,sharedKey$1=sharedKey$3,CORRECT_PROTOTYPE_GETTER=correctPrototypeGetter,IE_PROTO$1=sharedKey$1("IE_PROTO"),$Object$1=Object,ObjectPrototype=$Object$1.prototype,objectGetPrototypeOf=CORRECT_PROTOTYPE_GETTER?$Object$1.getPrototypeOf:function(sn){var ln=toObject$k(sn);if(hasOwn$3(ln,IE_PROTO$1))return ln[IE_PROTO$1];var cn=ln.constructor;return isCallable$d(cn)&&ln instanceof cn?cn.prototype:ln instanceof $Object$1?ObjectPrototype:null},isCallable$c=isCallable$o,$String$1=String,$TypeError$8=TypeError,aPossiblePrototype$1=function(sn){if(typeof sn=="object"||isCallable$c(sn))return sn;throw $TypeError$8("Can't set "+$String$1(sn)+" as a prototype")},uncurryThis$g=functionUncurryThis,anObject$c=anObject$f,aPossiblePrototype=aPossiblePrototype$1,objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?function(){var sn=!1,ln={},cn;try{cn=uncurryThis$g(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),cn(ln,[]),sn=ln instanceof Array}catch{}return function(pn,vn){return anObject$c(pn),aPossiblePrototype(vn),sn?cn(pn,vn):pn.__proto__=vn,pn}}():void 0),objectDefineProperties={},internalObjectKeys=objectKeysInternal,enumBugKeys$1=enumBugKeys$3,objectKeys$1=Object.keys||function sn(ln){return internalObjectKeys(ln,enumBugKeys$1)},DESCRIPTORS$5=descriptors,V8_PROTOTYPE_DEFINE_BUG=v8PrototypeDefineBug,definePropertyModule$2=objectDefineProperty,anObject$b=anObject$f,toIndexedObject$9=toIndexedObject$d,objectKeys=objectKeys$1;objectDefineProperties.f=DESCRIPTORS$5&&!V8_PROTOTYPE_DEFINE_BUG?Object.defineProperties:function sn(ln,cn){anObject$b(ln);for(var dn=toIndexedObject$9(cn),pn=objectKeys(cn),vn=pn.length,Sn=0,En;vn>Sn;)definePropertyModule$2.f(ln,En=pn[Sn++],dn[En]);return ln};var getBuiltIn$c=getBuiltIn$g,html$2=getBuiltIn$c("document","documentElement"),anObject$a=anObject$f,definePropertiesModule=objectDefineProperties,enumBugKeys=enumBugKeys$3,hiddenKeys$1=hiddenKeys$5,html$1=html$2,documentCreateElement$1=documentCreateElement$2,sharedKey=sharedKey$3,GT=">",LT="<",PROTOTYPE="prototype",SCRIPT="script",IE_PROTO=sharedKey("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(sn){return LT+SCRIPT+GT+sn+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(sn){sn.write(scriptTag("")),sn.close();var ln=sn.parentWindow.Object;return sn=null,ln},NullProtoObjectViaIFrame=function(){var sn=documentCreateElement$1("iframe"),ln="java"+SCRIPT+":",cn;return sn.style.display="none",html$1.appendChild(sn),sn.src=String(ln),cn=sn.contentWindow.document,cn.open(),cn.write(scriptTag("document.F=Object")),cn.close(),cn.F},activeXDocument,NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch{}NullProtoObject=typeof document<"u"?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(activeXDocument);for(var sn=enumBugKeys.length;sn--;)delete NullProtoObject[PROTOTYPE][enumBugKeys[sn]];return NullProtoObject()};hiddenKeys$1[IE_PROTO]=!0;var objectCreate$1=Object.create||function sn(ln,cn){var dn;return ln!==null?(EmptyConstructor[PROTOTYPE]=anObject$a(ln),dn=new EmptyConstructor,EmptyConstructor[PROTOTYPE]=null,dn[IE_PROTO]=ln):dn=NullProtoObject(),cn===void 0?dn:definePropertiesModule.f(dn,cn)},uncurryThis$f=functionUncurryThis,$Error$1=Error,replace=uncurryThis$f("".replace),TEST=function(sn){return String($Error$1(sn).stack)}("zxcasd"),V8_OR_CHAKRA_STACK_ENTRY=/\n\s*at [^:]*:[^\n]*/,IS_V8_OR_CHAKRA_STACK=V8_OR_CHAKRA_STACK_ENTRY.test(TEST),clearErrorStack$1=function(sn,ln){if(IS_V8_OR_CHAKRA_STACK&&typeof sn=="string"&&!$Error$1.prepareStackTrace)for(;ln--;)sn=replace(sn,V8_OR_CHAKRA_STACK_ENTRY,"");return sn},isObject$9=isObject$f,createNonEnumerableProperty$3=createNonEnumerableProperty$6,installErrorCause$1=function(sn,ln){isObject$9(ln)&&"cause"in ln&&createNonEnumerableProperty$3(sn,"cause",ln.cause)},uncurryThis$e=functionUncurryThis,aCallable$e=aCallable$g,NATIVE_BIND$1=functionBindNative,bind$c=uncurryThis$e(uncurryThis$e.bind),functionBindContext=function(sn,ln){return aCallable$e(sn),ln===void 0?sn:NATIVE_BIND$1?bind$c(sn,ln):function(){return sn.apply(ln,arguments)}},iterators={},wellKnownSymbol$k=wellKnownSymbol$m,Iterators$4=iterators,ITERATOR$5=wellKnownSymbol$k("iterator"),ArrayPrototype$1=Array.prototype,isArrayIteratorMethod$2=function(sn){return sn!==void 0&&(Iterators$4.Array===sn||ArrayPrototype$1[ITERATOR$5]===sn)},wellKnownSymbol$j=wellKnownSymbol$m,TO_STRING_TAG$4=wellKnownSymbol$j("toStringTag"),test$2={};test$2[TO_STRING_TAG$4]="z";var toStringTagSupport=String(test$2)==="[object z]",TO_STRING_TAG_SUPPORT$2=toStringTagSupport,isCallable$b=isCallable$o,classofRaw=classofRaw$1,wellKnownSymbol$i=wellKnownSymbol$m,TO_STRING_TAG$3=wellKnownSymbol$i("toStringTag"),$Object=Object,CORRECT_ARGUMENTS=classofRaw(function(){return arguments}())=="Arguments",tryGet=function(sn,ln){try{return sn[ln]}catch{}},classof$8=TO_STRING_TAG_SUPPORT$2?classofRaw:function(sn){var ln,cn,dn;return sn===void 0?"Undefined":sn===null?"Null":typeof(cn=tryGet(ln=$Object(sn),TO_STRING_TAG$3))=="string"?cn:CORRECT_ARGUMENTS?classofRaw(ln):(dn=classofRaw(ln))=="Object"&&isCallable$b(ln.callee)?"Arguments":dn},classof$7=classof$8,getMethod$5=getMethod$7,Iterators$3=iterators,wellKnownSymbol$h=wellKnownSymbol$m,ITERATOR$4=wellKnownSymbol$h("iterator"),getIteratorMethod$4=function(sn){if(sn!=null)return getMethod$5(sn,ITERATOR$4)||getMethod$5(sn,"@@iterator")||Iterators$3[classof$7(sn)]},call$f=functionCall,aCallable$d=aCallable$g,anObject$9=anObject$f,tryToString$3=tryToString$5,getIteratorMethod$3=getIteratorMethod$4,$TypeError$7=TypeError,getIterator$4=function(sn,ln){var cn=arguments.length<2?getIteratorMethod$3(sn):ln;if(aCallable$d(cn))return anObject$9(call$f(cn,sn));throw $TypeError$7(tryToString$3(sn)+" is not iterable")},call$e=functionCall,anObject$8=anObject$f,getMethod$4=getMethod$7,iteratorClose$2=function(sn,ln,cn){var dn,pn;anObject$8(sn);try{if(dn=getMethod$4(sn,"return"),!dn){if(ln==="throw")throw cn;return cn}dn=call$e(dn,sn)}catch(vn){pn=!0,dn=vn}if(ln==="throw")throw cn;if(pn)throw dn;return anObject$8(dn),cn},bind$b=functionBindContext,call$d=functionCall,anObject$7=anObject$f,tryToString$2=tryToString$5,isArrayIteratorMethod$1=isArrayIteratorMethod$2,lengthOfArrayLike$r=lengthOfArrayLike$t,isPrototypeOf$2=objectIsPrototypeOf,getIterator$3=getIterator$4,getIteratorMethod$2=getIteratorMethod$4,iteratorClose$1=iteratorClose$2,$TypeError$6=TypeError,Result=function(sn,ln){this.stopped=sn,this.result=ln},ResultPrototype=Result.prototype,iterate$7=function(sn,ln,cn){var dn=cn&&cn.that,pn=!!(cn&&cn.AS_ENTRIES),vn=!!(cn&&cn.IS_RECORD),Sn=!!(cn&&cn.IS_ITERATOR),En=!!(cn&&cn.INTERRUPTED),Cn=bind$b(ln,dn),Pn,Rn,Ln,Fn,Gn,Dn,Kn,qn=function(Yn){return Pn&&iteratorClose$1(Pn,"normal",Yn),new Result(!0,Yn)},Zn=function(Yn){return pn?(anObject$7(Yn),En?Cn(Yn[0],Yn[1],qn):Cn(Yn[0],Yn[1])):En?Cn(Yn,qn):Cn(Yn)};if(vn)Pn=sn.iterator;else if(Sn)Pn=sn;else{if(Rn=getIteratorMethod$2(sn),!Rn)throw $TypeError$6(tryToString$2(sn)+" is not iterable");if(isArrayIteratorMethod$1(Rn)){for(Ln=0,Fn=lengthOfArrayLike$r(sn);Fn>Ln;Ln++)if(Gn=Zn(sn[Ln]),Gn&&isPrototypeOf$2(ResultPrototype,Gn))return Gn;return new Result(!1)}Pn=getIterator$3(sn,Rn)}for(Dn=vn?sn.next:Pn.next;!(Kn=call$d(Dn,Pn)).done;){try{Gn=Zn(Kn.value)}catch(Yn){iteratorClose$1(Pn,"throw",Yn)}if(typeof Gn=="object"&&Gn&&isPrototypeOf$2(ResultPrototype,Gn))return Gn}return new Result(!1)},classof$6=classof$8,$String=String,toString$5=function(sn){if(classof$6(sn)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return $String(sn)},toString$4=toString$5,normalizeStringArgument$1=function(sn,ln){return sn===void 0?arguments.length<2?"":ln:toString$4(sn)},fails$f=fails$p,createPropertyDescriptor$3=createPropertyDescriptor$6,errorStackInstallable=!fails$f(function(){var sn=Error("a");return"stack"in sn?(Object.defineProperty(sn,"stack",createPropertyDescriptor$3(1,7)),sn.stack!==7):!0}),$$U=_export,isPrototypeOf$1=objectIsPrototypeOf,getPrototypeOf$3=objectGetPrototypeOf,setPrototypeOf$3=objectSetPrototypeOf,copyConstructorProperties=copyConstructorProperties$2,create$4=objectCreate$1,createNonEnumerableProperty$2=createNonEnumerableProperty$6,createPropertyDescriptor$2=createPropertyDescriptor$6,clearErrorStack=clearErrorStack$1,installErrorCause=installErrorCause$1,iterate$6=iterate$7,normalizeStringArgument=normalizeStringArgument$1,wellKnownSymbol$g=wellKnownSymbol$m,ERROR_STACK_INSTALLABLE=errorStackInstallable,TO_STRING_TAG$2=wellKnownSymbol$g("toStringTag"),$Error=Error,push$5=[].push,$AggregateError=function sn(ln,cn){var dn=arguments.length>2?arguments[2]:void 0,pn=isPrototypeOf$1(AggregateErrorPrototype,this),vn;setPrototypeOf$3?vn=setPrototypeOf$3(new $Error,pn?getPrototypeOf$3(this):AggregateErrorPrototype):(vn=pn?this:create$4(AggregateErrorPrototype),createNonEnumerableProperty$2(vn,TO_STRING_TAG$2,"Error")),cn!==void 0&&createNonEnumerableProperty$2(vn,"message",normalizeStringArgument(cn)),ERROR_STACK_INSTALLABLE&&createNonEnumerableProperty$2(vn,"stack",clearErrorStack(vn.stack,1)),installErrorCause(vn,dn);var Sn=[];return iterate$6(ln,push$5,{that:Sn}),createNonEnumerableProperty$2(vn,"errors",Sn),vn};setPrototypeOf$3?setPrototypeOf$3($AggregateError,$Error):copyConstructorProperties($AggregateError,$Error,{name:!0});var AggregateErrorPrototype=$AggregateError.prototype=create$4($Error.prototype,{constructor:createPropertyDescriptor$2(1,$AggregateError),message:createPropertyDescriptor$2(1,""),name:createPropertyDescriptor$2(1,"AggregateError")});$$U({global:!0,constructor:!0,arity:2},{AggregateError:$AggregateError});var wellKnownSymbol$f=wellKnownSymbol$m,create$3=objectCreate$1,defineProperty$5=objectDefineProperty.f,UNSCOPABLES=wellKnownSymbol$f("unscopables"),ArrayPrototype=Array.prototype;ArrayPrototype[UNSCOPABLES]==null&&defineProperty$5(ArrayPrototype,UNSCOPABLES,{configurable:!0,value:create$3(null)});var addToUnscopables$n=function(sn){ArrayPrototype[UNSCOPABLES][sn]=!0},fails$e=fails$p,isCallable$a=isCallable$o,getPrototypeOf$2=objectGetPrototypeOf,defineBuiltIn$8=defineBuiltIn$a,wellKnownSymbol$e=wellKnownSymbol$m,ITERATOR$3=wellKnownSymbol$e("iterator"),BUGGY_SAFARI_ITERATORS$1=!1,IteratorPrototype$2,PrototypeOfArrayIteratorPrototype,arrayIterator$1;[].keys&&(arrayIterator$1=[].keys(),"next"in arrayIterator$1?(PrototypeOfArrayIteratorPrototype=getPrototypeOf$2(getPrototypeOf$2(arrayIterator$1)),PrototypeOfArrayIteratorPrototype!==Object.prototype&&(IteratorPrototype$2=PrototypeOfArrayIteratorPrototype)):BUGGY_SAFARI_ITERATORS$1=!0);var NEW_ITERATOR_PROTOTYPE=IteratorPrototype$2==null||fails$e(function(){var sn={};return IteratorPrototype$2[ITERATOR$3].call(sn)!==sn});NEW_ITERATOR_PROTOTYPE&&(IteratorPrototype$2={});isCallable$a(IteratorPrototype$2[ITERATOR$3])||defineBuiltIn$8(IteratorPrototype$2,ITERATOR$3,function(){return this});var iteratorsCore={IteratorPrototype:IteratorPrototype$2,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1},defineProperty$4=objectDefineProperty.f,hasOwn$2=hasOwnProperty_1,wellKnownSymbol$d=wellKnownSymbol$m,TO_STRING_TAG$1=wellKnownSymbol$d("toStringTag"),setToStringTag$4=function(sn,ln,cn){sn&&!cn&&(sn=sn.prototype),sn&&!hasOwn$2(sn,TO_STRING_TAG$1)&&defineProperty$4(sn,TO_STRING_TAG$1,{configurable:!0,value:ln})},IteratorPrototype$1=iteratorsCore.IteratorPrototype,create$2=objectCreate$1,createPropertyDescriptor$1=createPropertyDescriptor$6,setToStringTag$3=setToStringTag$4,Iterators$2=iterators,returnThis$1=function(){return this},createIteratorConstructor$1=function(sn,ln,cn,dn){var pn=ln+" Iterator";return sn.prototype=create$2(IteratorPrototype$1,{next:createPropertyDescriptor$1(+!dn,cn)}),setToStringTag$3(sn,pn,!1),Iterators$2[pn]=returnThis$1,sn},$$T=_export,call$c=functionCall,FunctionName=functionName,isCallable$9=isCallable$o,createIteratorConstructor=createIteratorConstructor$1,getPrototypeOf$1=objectGetPrototypeOf,setPrototypeOf$2=objectSetPrototypeOf,setToStringTag$2=setToStringTag$4,createNonEnumerableProperty$1=createNonEnumerableProperty$6,defineBuiltIn$7=defineBuiltIn$a,wellKnownSymbol$c=wellKnownSymbol$m,Iterators$1=iterators,IteratorsCore=iteratorsCore,PROPER_FUNCTION_NAME=FunctionName.PROPER,CONFIGURABLE_FUNCTION_NAME=FunctionName.CONFIGURABLE,IteratorPrototype=IteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR$2=wellKnownSymbol$c("iterator"),KEYS="keys",VALUES="values",ENTRIES="entries",returnThis=function(){return this},defineIterator$3=function(sn,ln,cn,dn,pn,vn,Sn){createIteratorConstructor(cn,ln,dn);var En=function(Zn){if(Zn===pn&&Fn)return Fn;if(!BUGGY_SAFARI_ITERATORS&&Zn in Rn)return Rn[Zn];switch(Zn){case KEYS:return function(){return new cn(this,Zn)};case VALUES:return function(){return new cn(this,Zn)};case ENTRIES:return function(){return new cn(this,Zn)}}return function(){return new cn(this)}},Cn=ln+" Iterator",Pn=!1,Rn=sn.prototype,Ln=Rn[ITERATOR$2]||Rn["@@iterator"]||pn&&Rn[pn],Fn=!BUGGY_SAFARI_ITERATORS&&Ln||En(pn),Gn=ln=="Array"&&Rn.entries||Ln,Dn,Kn,qn;if(Gn&&(Dn=getPrototypeOf$1(Gn.call(new sn)),Dn!==Object.prototype&&Dn.next&&(getPrototypeOf$1(Dn)!==IteratorPrototype&&(setPrototypeOf$2?setPrototypeOf$2(Dn,IteratorPrototype):isCallable$9(Dn[ITERATOR$2])||defineBuiltIn$7(Dn,ITERATOR$2,returnThis)),setToStringTag$2(Dn,Cn,!0))),PROPER_FUNCTION_NAME&&pn==VALUES&&Ln&&Ln.name!==VALUES&&(CONFIGURABLE_FUNCTION_NAME?createNonEnumerableProperty$1(Rn,"name",VALUES):(Pn=!0,Fn=function(){return call$c(Ln,this)})),pn)if(Kn={values:En(VALUES),keys:vn?Fn:En(KEYS),entries:En(ENTRIES)},Sn)for(qn in Kn)(BUGGY_SAFARI_ITERATORS||Pn||!(qn in Rn))&&defineBuiltIn$7(Rn,qn,Kn[qn]);else $$T({target:ln,proto:!0,forced:BUGGY_SAFARI_ITERATORS||Pn},Kn);return Rn[ITERATOR$2]!==Fn&&defineBuiltIn$7(Rn,ITERATOR$2,Fn,{name:pn}),Iterators$1[ln]=Fn,Kn},toIndexedObject$8=toIndexedObject$d,addToUnscopables$m=addToUnscopables$n,Iterators=iterators,InternalStateModule$4=internalState,defineProperty$3=objectDefineProperty.f,defineIterator$2=defineIterator$3,DESCRIPTORS$4=descriptors,ARRAY_ITERATOR="Array Iterator",setInternalState$4=InternalStateModule$4.set,getInternalState$2=InternalStateModule$4.getterFor(ARRAY_ITERATOR),es_array_iterator=defineIterator$2(Array,"Array",function(sn,ln){setInternalState$4(this,{type:ARRAY_ITERATOR,target:toIndexedObject$8(sn),index:0,kind:ln})},function(){var sn=getInternalState$2(this),ln=sn.target,cn=sn.kind,dn=sn.index++;return!ln||dn>=ln.length?(sn.target=void 0,{value:void 0,done:!0}):cn=="keys"?{value:dn,done:!1}:cn=="values"?{value:ln[dn],done:!1}:{value:[dn,ln[dn]],done:!1}},"values"),values=Iterators.Arguments=Iterators.Array;addToUnscopables$m("keys");addToUnscopables$m("values");addToUnscopables$m("entries");if(DESCRIPTORS$4&&values.name!=="values")try{defineProperty$3(values,"name",{value:"values"})}catch(sn){}var TO_STRING_TAG_SUPPORT$1=toStringTagSupport,classof$5=classof$8,objectToString=TO_STRING_TAG_SUPPORT$1?{}.toString:function sn(){return"[object "+classof$5(this)+"]"},TO_STRING_TAG_SUPPORT=toStringTagSupport,defineBuiltIn$6=defineBuiltIn$a,toString$3=objectToString;TO_STRING_TAG_SUPPORT||defineBuiltIn$6(Object.prototype,"toString",toString$3,{unsafe:!0});var classof$4=classofRaw$1,global$d=global$n,engineIsNode=classof$4(global$d.process)=="process",getBuiltIn$b=getBuiltIn$g,definePropertyModule$1=objectDefineProperty,wellKnownSymbol$b=wellKnownSymbol$m,DESCRIPTORS$3=descriptors,SPECIES$5=wellKnownSymbol$b("species"),setSpecies$3=function(sn){var ln=getBuiltIn$b(sn),cn=definePropertyModule$1.f;DESCRIPTORS$3&&ln&&!ln[SPECIES$5]&&cn(ln,SPECIES$5,{configurable:!0,get:function(){return this}})},isPrototypeOf=objectIsPrototypeOf,$TypeError$5=TypeError,anInstance$3=function(sn,ln){if(isPrototypeOf(ln,sn))return sn;throw $TypeError$5("Incorrect invocation")},uncurryThis$d=functionUncurryThis,fails$d=fails$p,isCallable$8=isCallable$o,classof$3=classof$8,getBuiltIn$a=getBuiltIn$g,inspectSource$1=inspectSource$4,noop=function(){},empty=[],construct=getBuiltIn$a("Reflect","construct"),constructorRegExp=/^\s*(?:class|function)\b/,exec=uncurryThis$d(constructorRegExp.exec),INCORRECT_TO_STRING=!constructorRegExp.exec(noop),isConstructorModern=function sn(ln){if(!isCallable$8(ln))return!1;try{return construct(noop,empty,ln),!0}catch{return!1}},isConstructorLegacy=function sn(ln){if(!isCallable$8(ln))return!1;switch(classof$3(ln)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING||!!exec(constructorRegExp,inspectSource$1(ln))}catch{return!0}};isConstructorLegacy.sham=!0;var isConstructor$6=!construct||fails$d(function(){var sn;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern(function(){sn=!0})||sn})?isConstructorLegacy:isConstructorModern,isConstructor$5=isConstructor$6,tryToString$1=tryToString$5,$TypeError$4=TypeError,aConstructor$1=function(sn){if(isConstructor$5(sn))return sn;throw $TypeError$4(tryToString$1(sn)+" is not a constructor")},anObject$6=anObject$f,aConstructor=aConstructor$1,wellKnownSymbol$a=wellKnownSymbol$m,SPECIES$4=wellKnownSymbol$a("species"),speciesConstructor$2=function(sn,ln){var cn=anObject$6(sn).constructor,dn;return cn===void 0||(dn=anObject$6(cn)[SPECIES$4])==null?ln:aConstructor(dn)},NATIVE_BIND=functionBindNative,FunctionPrototype=Function.prototype,apply$2=FunctionPrototype.apply,call$b=FunctionPrototype.call,functionApply=typeof Reflect=="object"&&Reflect.apply||(NATIVE_BIND?call$b.bind(apply$2):function(){return call$b.apply(apply$2,arguments)}),uncurryThis$c=functionUncurryThis,arraySlice$3=uncurryThis$c([].slice),$TypeError$3=TypeError,validateArgumentsLength$1=function(sn,ln){if(sn<ln)throw $TypeError$3("Not enough arguments");return sn},userAgent$4=engineUserAgent,engineIsIos=/(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent$4),global$c=global$n,apply$1=functionApply,bind$a=functionBindContext,isCallable$7=isCallable$o,hasOwn$1=hasOwnProperty_1,fails$c=fails$p,html=html$2,arraySlice$2=arraySlice$3,createElement=documentCreateElement$2,validateArgumentsLength=validateArgumentsLength$1,IS_IOS$1=engineIsIos,IS_NODE$5=engineIsNode,set=global$c.setImmediate,clear=global$c.clearImmediate,process$2=global$c.process,Dispatch=global$c.Dispatch,Function$1=global$c.Function,MessageChannel$1=global$c.MessageChannel,String$1=global$c.String,counter=0,queue$1={},ONREADYSTATECHANGE="onreadystatechange",location$1,defer,channel,port;try{location$1=global$c.location}catch(sn){}var run=function(sn){if(hasOwn$1(queue$1,sn)){var ln=queue$1[sn];delete queue$1[sn],ln()}},runner=function(sn){return function(){run(sn)}},listener=function(sn){run(sn.data)},post=function(sn){global$c.postMessage(String$1(sn),location$1.protocol+"//"+location$1.host)};(!set||!clear)&&(set=function(ln){validateArgumentsLength(arguments.length,1);var cn=isCallable$7(ln)?ln:Function$1(ln),dn=arraySlice$2(arguments,1);return queue$1[++counter]=function(){apply$1(cn,void 0,dn)},defer(counter),counter},clear=function(ln){delete queue$1[ln]},IS_NODE$5?defer=function(sn){process$2.nextTick(runner(sn))}:Dispatch&&Dispatch.now?defer=function(sn){Dispatch.now(runner(sn))}:MessageChannel$1&&!IS_IOS$1?(channel=new MessageChannel$1,port=channel.port2,channel.port1.onmessage=listener,defer=bind$a(port.postMessage,port)):global$c.addEventListener&&isCallable$7(global$c.postMessage)&&!global$c.importScripts&&location$1&&location$1.protocol!=="file:"&&!fails$c(post)?(defer=post,global$c.addEventListener("message",listener,!1)):ONREADYSTATECHANGE in createElement("script")?defer=function(sn){html.appendChild(createElement("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run(sn)}}:defer=function(sn){setTimeout(runner(sn),0)});var task$1={set,clear},userAgent$3=engineUserAgent,global$b=global$n,engineIsIosPebble=/ipad|iphone|ipod/i.test(userAgent$3)&&global$b.Pebble!==void 0,userAgent$2=engineUserAgent,engineIsWebosWebkit=/web0s(?!.*chrome)/i.test(userAgent$2),global$a=global$n,bind$9=functionBindContext,getOwnPropertyDescriptor=objectGetOwnPropertyDescriptor.f,macrotask=task$1.set,IS_IOS=engineIsIos,IS_IOS_PEBBLE=engineIsIosPebble,IS_WEBOS_WEBKIT=engineIsWebosWebkit,IS_NODE$4=engineIsNode,MutationObserver$1=global$a.MutationObserver||global$a.WebKitMutationObserver,document$2=global$a.document,process$1=global$a.process,Promise$2=global$a.Promise,queueMicrotaskDescriptor=getOwnPropertyDescriptor(global$a,"queueMicrotask"),queueMicrotask$1=queueMicrotaskDescriptor&&queueMicrotaskDescriptor.value,flush,head,last,notify$1,toggle,node,promise$4,then;queueMicrotask$1||(flush=function(){var sn,ln;for(IS_NODE$4&&(sn=process$1.domain)&&sn.exit();head;){ln=head.fn,head=head.next;try{ln()}catch(cn){throw head?notify$1():last=void 0,cn}}last=void 0,sn&&sn.enter()},!IS_IOS&&!IS_NODE$4&&!IS_WEBOS_WEBKIT&&MutationObserver$1&&document$2?(toggle=!0,node=document$2.createTextNode(""),new MutationObserver$1(flush).observe(node,{characterData:!0}),notify$1=function(){node.data=toggle=!toggle}):!IS_IOS_PEBBLE&&Promise$2&&Promise$2.resolve?(promise$4=Promise$2.resolve(void 0),promise$4.constructor=Promise$2,then=bind$9(promise$4.then,promise$4),notify$1=function(){then(flush)}):IS_NODE$4?notify$1=function(){process$1.nextTick(flush)}:(macrotask=bind$9(macrotask,global$a),notify$1=function(){macrotask(flush)}));var microtask$1=queueMicrotask$1||function(sn){var ln={fn:sn,next:void 0};last&&(last.next=ln),head||(head=ln,notify$1()),last=ln},global$9=global$n,hostReportErrors$1=function(sn,ln){var cn=global$9.console;cn&&cn.error&&(arguments.length==1?cn.error(sn):cn.error(sn,ln))},perform$6=function(sn){try{return{error:!1,value:sn()}}catch(ln){return{error:!0,value:ln}}},Queue$1=function(){this.head=null,this.tail=null};Queue$1.prototype={add:function(sn){var ln={item:sn,next:null};this.head?this.tail.next=ln:this.head=ln,this.tail=ln},get:function(){var sn=this.head;if(sn)return this.head=sn.next,this.tail===sn&&(this.tail=null),sn.item}};var queue=Queue$1,global$8=global$n,promiseNativeConstructor=global$8.Promise,engineIsDeno=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",IS_DENO$1=engineIsDeno,IS_NODE$3=engineIsNode,engineIsBrowser=!IS_DENO$1&&!IS_NODE$3&&typeof window=="object"&&typeof document=="object",global$7=global$n,NativePromiseConstructor$4=promiseNativeConstructor,isCallable$6=isCallable$o,isForced$1=isForced_1,inspectSource=inspectSource$4,wellKnownSymbol$9=wellKnownSymbol$m,IS_BROWSER=engineIsBrowser,IS_DENO=engineIsDeno,V8_VERSION$2=engineV8Version;NativePromiseConstructor$4&&NativePromiseConstructor$4.prototype;var SPECIES$3=wellKnownSymbol$9("species"),SUBCLASSING=!1,NATIVE_PROMISE_REJECTION_EVENT$1=isCallable$6(global$7.PromiseRejectionEvent),FORCED_PROMISE_CONSTRUCTOR$5=isForced$1("Promise",function(){var sn=inspectSource(NativePromiseConstructor$4),ln=sn!==String(NativePromiseConstructor$4);if(!ln&&V8_VERSION$2===66)return!0;if(!V8_VERSION$2||V8_VERSION$2<51||!/native code/.test(sn)){var cn=new NativePromiseConstructor$4(function(vn){vn(1)}),dn=function(vn){vn(function(){},function(){})},pn=cn.constructor={};if(pn[SPECIES$3]=dn,SUBCLASSING=cn.then(function(){})instanceof dn,!SUBCLASSING)return!0}return!ln&&(IS_BROWSER||IS_DENO)&&!NATIVE_PROMISE_REJECTION_EVENT$1}),promiseConstructorDetection={CONSTRUCTOR:FORCED_PROMISE_CONSTRUCTOR$5,REJECTION_EVENT:NATIVE_PROMISE_REJECTION_EVENT$1,SUBCLASSING},newPromiseCapability$2={},aCallable$c=aCallable$g,PromiseCapability=function(sn){var ln,cn;this.promise=new sn(function(dn,pn){if(ln!==void 0||cn!==void 0)throw TypeError("Bad Promise constructor");ln=dn,cn=pn}),this.resolve=aCallable$c(ln),this.reject=aCallable$c(cn)};newPromiseCapability$2.f=function(sn){return new PromiseCapability(sn)};var $$S=_export,IS_NODE$2=engineIsNode,global$6=global$n,call$a=functionCall,defineBuiltIn$5=defineBuiltIn$a,setPrototypeOf$1=objectSetPrototypeOf,setToStringTag$1=setToStringTag$4,setSpecies$2=setSpecies$3,aCallable$b=aCallable$g,isCallable$5=isCallable$o,isObject$8=isObject$f,anInstance$2=anInstance$3,speciesConstructor$1=speciesConstructor$2,task=task$1.set,microtask=microtask$1,hostReportErrors=hostReportErrors$1,perform$5=perform$6,Queue=queue,InternalStateModule$3=internalState,NativePromiseConstructor$3=promiseNativeConstructor,PromiseConstructorDetection=promiseConstructorDetection,newPromiseCapabilityModule$6=newPromiseCapability$2,PROMISE="Promise",FORCED_PROMISE_CONSTRUCTOR$4=PromiseConstructorDetection.CONSTRUCTOR,NATIVE_PROMISE_REJECTION_EVENT=PromiseConstructorDetection.REJECTION_EVENT,NATIVE_PROMISE_SUBCLASSING=PromiseConstructorDetection.SUBCLASSING,getInternalPromiseState=InternalStateModule$3.getterFor(PROMISE),setInternalState$3=InternalStateModule$3.set,NativePromisePrototype$2=NativePromiseConstructor$3&&NativePromiseConstructor$3.prototype,PromiseConstructor=NativePromiseConstructor$3,PromisePrototype=NativePromisePrototype$2,TypeError$1=global$6.TypeError,document$1=global$6.document,process$4=global$6.process,newPromiseCapability$1=newPromiseCapabilityModule$6.f,newGenericPromiseCapability=newPromiseCapability$1,DISPATCH_EVENT=!!(document$1&&document$1.createEvent&&global$6.dispatchEvent),UNHANDLED_REJECTION="unhandledrejection",REJECTION_HANDLED="rejectionhandled",PENDING=0,FULFILLED=1,REJECTED=2,HANDLED=1,UNHANDLED=2,Internal,OwnPromiseCapability,PromiseWrapper,nativeThen,isThenable=function(sn){var ln;return isObject$8(sn)&&isCallable$5(ln=sn.then)?ln:!1},callReaction=function(sn,ln){var cn=ln.value,dn=ln.state==FULFILLED,pn=dn?sn.ok:sn.fail,vn=sn.resolve,Sn=sn.reject,En=sn.domain,Cn,Pn,Rn;try{pn?(dn||(ln.rejection===UNHANDLED&&onHandleUnhandled(ln),ln.rejection=HANDLED),pn===!0?Cn=cn:(En&&En.enter(),Cn=pn(cn),En&&(En.exit(),Rn=!0)),Cn===sn.promise?Sn(TypeError$1("Promise-chain cycle")):(Pn=isThenable(Cn))?call$a(Pn,Cn,vn,Sn):vn(Cn)):Sn(cn)}catch(Ln){En&&!Rn&&En.exit(),Sn(Ln)}},notify=function(sn,ln){sn.notified||(sn.notified=!0,microtask(function(){for(var cn=sn.reactions,dn;dn=cn.get();)callReaction(dn,sn);sn.notified=!1,ln&&!sn.rejection&&onUnhandled(sn)}))},dispatchEvent=function(sn,ln,cn){var dn,pn;DISPATCH_EVENT?(dn=document$1.createEvent("Event"),dn.promise=ln,dn.reason=cn,dn.initEvent(sn,!1,!0),global$6.dispatchEvent(dn)):dn={promise:ln,reason:cn},!NATIVE_PROMISE_REJECTION_EVENT&&(pn=global$6["on"+sn])?pn(dn):sn===UNHANDLED_REJECTION&&hostReportErrors("Unhandled promise rejection",cn)},onUnhandled=function(sn){call$a(task,global$6,function(){var ln=sn.facade,cn=sn.value,dn=isUnhandled(sn),pn;if(dn&&(pn=perform$5(function(){IS_NODE$2?process$4.emit("unhandledRejection",cn,ln):dispatchEvent(UNHANDLED_REJECTION,ln,cn)}),sn.rejection=IS_NODE$2||isUnhandled(sn)?UNHANDLED:HANDLED,pn.error))throw pn.value})},isUnhandled=function(sn){return sn.rejection!==HANDLED&&!sn.parent},onHandleUnhandled=function(sn){call$a(task,global$6,function(){var ln=sn.facade;IS_NODE$2?process$4.emit("rejectionHandled",ln):dispatchEvent(REJECTION_HANDLED,ln,sn.value)})},bind$8=function(sn,ln,cn){return function(dn){sn(ln,dn,cn)}},internalReject=function(sn,ln,cn){sn.done||(sn.done=!0,cn&&(sn=cn),sn.value=ln,sn.state=REJECTED,notify(sn,!0))},internalResolve=function(sn,ln,cn){if(!sn.done){sn.done=!0,cn&&(sn=cn);try{if(sn.facade===ln)throw TypeError$1("Promise can't be resolved itself");var dn=isThenable(ln);dn?microtask(function(){var pn={done:!1};try{call$a(dn,ln,bind$8(internalResolve,pn,sn),bind$8(internalReject,pn,sn))}catch(vn){internalReject(pn,vn,sn)}}):(sn.value=ln,sn.state=FULFILLED,notify(sn,!1))}catch(pn){internalReject({done:!1},pn,sn)}}};if(FORCED_PROMISE_CONSTRUCTOR$4&&(PromiseConstructor=function(ln){anInstance$2(this,PromisePrototype),aCallable$b(ln),call$a(Internal,this);var cn=getInternalPromiseState(this);try{ln(bind$8(internalResolve,cn),bind$8(internalReject,cn))}catch(dn){internalReject(cn,dn)}},PromisePrototype=PromiseConstructor.prototype,Internal=function(ln){setInternalState$3(this,{type:PROMISE,done:!1,notified:!1,parent:!1,reactions:new Queue,rejection:!1,state:PENDING,value:void 0})},Internal.prototype=defineBuiltIn$5(PromisePrototype,"then",function(ln,cn){var dn=getInternalPromiseState(this),pn=newPromiseCapability$1(speciesConstructor$1(this,PromiseConstructor));return dn.parent=!0,pn.ok=isCallable$5(ln)?ln:!0,pn.fail=isCallable$5(cn)&&cn,pn.domain=IS_NODE$2?process$4.domain:void 0,dn.state==PENDING?dn.reactions.add(pn):microtask(function(){callReaction(pn,dn)}),pn.promise}),OwnPromiseCapability=function(){var sn=new Internal,ln=getInternalPromiseState(sn);this.promise=sn,this.resolve=bind$8(internalResolve,ln),this.reject=bind$8(internalReject,ln)},newPromiseCapabilityModule$6.f=newPromiseCapability$1=function(sn){return sn===PromiseConstructor||sn===PromiseWrapper?new OwnPromiseCapability(sn):newGenericPromiseCapability(sn)},isCallable$5(NativePromiseConstructor$3)&&NativePromisePrototype$2!==Object.prototype)){nativeThen=NativePromisePrototype$2.then,NATIVE_PROMISE_SUBCLASSING||defineBuiltIn$5(NativePromisePrototype$2,"then",function(ln,cn){var dn=this;return new PromiseConstructor(function(pn,vn){call$a(nativeThen,dn,pn,vn)}).then(ln,cn)},{unsafe:!0});try{delete NativePromisePrototype$2.constructor}catch{}setPrototypeOf$1&&setPrototypeOf$1(NativePromisePrototype$2,PromisePrototype)}$$S({global:!0,constructor:!0,wrap:!0,forced:FORCED_PROMISE_CONSTRUCTOR$4},{Promise:PromiseConstructor});setToStringTag$1(PromiseConstructor,PROMISE,!1);setSpecies$2(PROMISE);var wellKnownSymbol$8=wellKnownSymbol$m,ITERATOR$1=wellKnownSymbol$8("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR$1]=function(){return this},Array.from(iteratorWithReturn,function(){throw 2})}catch(sn){}var checkCorrectnessOfIteration$3=function(sn,ln){if(!ln&&!SAFE_CLOSING)return!1;var cn=!1;try{var dn={};dn[ITERATOR$1]=function(){return{next:function(){return{done:cn=!0}}}},sn(dn)}catch{}return cn},NativePromiseConstructor$2=promiseNativeConstructor,checkCorrectnessOfIteration$2=checkCorrectnessOfIteration$3,FORCED_PROMISE_CONSTRUCTOR$3=promiseConstructorDetection.CONSTRUCTOR,promiseStaticsIncorrectIteration=FORCED_PROMISE_CONSTRUCTOR$3||!checkCorrectnessOfIteration$2(function(sn){NativePromiseConstructor$2.all(sn).then(void 0,function(){})}),$$R=_export,call$9=functionCall,aCallable$a=aCallable$g,newPromiseCapabilityModule$5=newPromiseCapability$2,perform$4=perform$6,iterate$5=iterate$7,PROMISE_STATICS_INCORRECT_ITERATION$1=promiseStaticsIncorrectIteration;$$R({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION$1},{all:function sn(ln){var cn=this,dn=newPromiseCapabilityModule$5.f(cn),pn=dn.resolve,vn=dn.reject,Sn=perform$4(function(){var En=aCallable$a(cn.resolve),Cn=[],Pn=0,Rn=1;iterate$5(ln,function(Ln){var Fn=Pn++,Gn=!1;Rn++,call$9(En,cn,Ln).then(function(Dn){Gn||(Gn=!0,Cn[Fn]=Dn,--Rn||pn(Cn))},vn)}),--Rn||pn(Cn)});return Sn.error&&vn(Sn.value),dn.promise}});var $$Q=_export,FORCED_PROMISE_CONSTRUCTOR$2=promiseConstructorDetection.CONSTRUCTOR,NativePromiseConstructor$1=promiseNativeConstructor,getBuiltIn$9=getBuiltIn$g,isCallable$4=isCallable$o,defineBuiltIn$4=defineBuiltIn$a,NativePromisePrototype$1=NativePromiseConstructor$1&&NativePromiseConstructor$1.prototype;$$Q({target:"Promise",proto:!0,forced:FORCED_PROMISE_CONSTRUCTOR$2,real:!0},{catch:function(sn){return this.then(void 0,sn)}});if(isCallable$4(NativePromiseConstructor$1)){var method$1=getBuiltIn$9("Promise").prototype.catch;NativePromisePrototype$1.catch!==method$1&&defineBuiltIn$4(NativePromisePrototype$1,"catch",method$1,{unsafe:!0})}var $$P=_export,call$8=functionCall,aCallable$9=aCallable$g,newPromiseCapabilityModule$4=newPromiseCapability$2,perform$3=perform$6,iterate$4=iterate$7,PROMISE_STATICS_INCORRECT_ITERATION=promiseStaticsIncorrectIteration;$$P({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION},{race:function sn(ln){var cn=this,dn=newPromiseCapabilityModule$4.f(cn),pn=dn.reject,vn=perform$3(function(){var Sn=aCallable$9(cn.resolve);iterate$4(ln,function(En){call$8(Sn,cn,En).then(dn.resolve,pn)})});return vn.error&&pn(vn.value),dn.promise}});var $$O=_export,call$7=functionCall,newPromiseCapabilityModule$3=newPromiseCapability$2,FORCED_PROMISE_CONSTRUCTOR$1=promiseConstructorDetection.CONSTRUCTOR;$$O({target:"Promise",stat:!0,forced:FORCED_PROMISE_CONSTRUCTOR$1},{reject:function sn(ln){var cn=newPromiseCapabilityModule$3.f(this);return call$7(cn.reject,void 0,ln),cn.promise}});var anObject$5=anObject$f,isObject$7=isObject$f,newPromiseCapability=newPromiseCapability$2,promiseResolve$2=function(sn,ln){if(anObject$5(sn),isObject$7(ln)&&ln.constructor===sn)return ln;var cn=newPromiseCapability.f(sn),dn=cn.resolve;return dn(ln),cn.promise},$$N=_export,getBuiltIn$8=getBuiltIn$g,FORCED_PROMISE_CONSTRUCTOR=promiseConstructorDetection.CONSTRUCTOR,promiseResolve$1=promiseResolve$2;getBuiltIn$8("Promise");$$N({target:"Promise",stat:!0,forced:FORCED_PROMISE_CONSTRUCTOR},{resolve:function sn(ln){return promiseResolve$1(this,ln)}});var $$M=_export,call$6=functionCall,aCallable$8=aCallable$g,newPromiseCapabilityModule$2=newPromiseCapability$2,perform$2=perform$6,iterate$3=iterate$7;$$M({target:"Promise",stat:!0},{allSettled:function sn(ln){var cn=this,dn=newPromiseCapabilityModule$2.f(cn),pn=dn.resolve,vn=dn.reject,Sn=perform$2(function(){var En=aCallable$8(cn.resolve),Cn=[],Pn=0,Rn=1;iterate$3(ln,function(Ln){var Fn=Pn++,Gn=!1;Rn++,call$6(En,cn,Ln).then(function(Dn){Gn||(Gn=!0,Cn[Fn]={status:"fulfilled",value:Dn},--Rn||pn(Cn))},function(Dn){Gn||(Gn=!0,Cn[Fn]={status:"rejected",reason:Dn},--Rn||pn(Cn))})}),--Rn||pn(Cn)});return Sn.error&&vn(Sn.value),dn.promise}});var $$L=_export,call$5=functionCall,aCallable$7=aCallable$g,getBuiltIn$7=getBuiltIn$g,newPromiseCapabilityModule$1=newPromiseCapability$2,perform$1=perform$6,iterate$2=iterate$7,PROMISE_ANY_ERROR="No one promise resolved";$$L({target:"Promise",stat:!0},{any:function sn(ln){var cn=this,dn=getBuiltIn$7("AggregateError"),pn=newPromiseCapabilityModule$1.f(cn),vn=pn.resolve,Sn=pn.reject,En=perform$1(function(){var Cn=aCallable$7(cn.resolve),Pn=[],Rn=0,Ln=1,Fn=!1;iterate$2(ln,function(Gn){var Dn=Rn++,Kn=!1;Ln++,call$5(Cn,cn,Gn).then(function(qn){Kn||Fn||(Fn=!0,vn(qn))},function(qn){Kn||Fn||(Kn=!0,Pn[Dn]=qn,--Ln||Sn(new dn(Pn,PROMISE_ANY_ERROR)))})}),--Ln||Sn(new dn(Pn,PROMISE_ANY_ERROR))});return En.error&&Sn(En.value),pn.promise}});var $$K=_export,NativePromiseConstructor=promiseNativeConstructor,fails$b=fails$p,getBuiltIn$6=getBuiltIn$g,isCallable$3=isCallable$o,speciesConstructor=speciesConstructor$2,promiseResolve=promiseResolve$2,defineBuiltIn$3=defineBuiltIn$a,NativePromisePrototype=NativePromiseConstructor&&NativePromiseConstructor.prototype,NON_GENERIC=!!NativePromiseConstructor&&fails$b(function(){NativePromisePrototype.finally.call({then:function(){}},function(){})});$$K({target:"Promise",proto:!0,real:!0,forced:NON_GENERIC},{finally:function(sn){var ln=speciesConstructor(this,getBuiltIn$6("Promise")),cn=isCallable$3(sn);return this.then(cn?function(dn){return promiseResolve(ln,sn()).then(function(){return dn})}:sn,cn?function(dn){return promiseResolve(ln,sn()).then(function(){throw dn})}:sn)}});if(isCallable$3(NativePromiseConstructor)){var method=getBuiltIn$6("Promise").prototype.finally;NativePromisePrototype.finally!==method&&defineBuiltIn$3(NativePromisePrototype,"finally",method,{unsafe:!0})}var uncurryThis$b=functionUncurryThis,toIntegerOrInfinity$6=toIntegerOrInfinity$9,toString$2=toString$5,requireObjectCoercible=requireObjectCoercible$3,charAt$1=uncurryThis$b("".charAt),charCodeAt=uncurryThis$b("".charCodeAt),stringSlice=uncurryThis$b("".slice),createMethod$4=function(sn){return function(ln,cn){var dn=toString$2(requireObjectCoercible(ln)),pn=toIntegerOrInfinity$6(cn),vn=dn.length,Sn,En;return pn<0||pn>=vn?sn?"":void 0:(Sn=charCodeAt(dn,pn),Sn<55296||Sn>56319||pn+1===vn||(En=charCodeAt(dn,pn+1))<56320||En>57343?sn?charAt$1(dn,pn):Sn:sn?stringSlice(dn,pn,pn+2):(Sn-55296<<10)+(En-56320)+65536)}},stringMultibyte={codeAt:createMethod$4(!1),charAt:createMethod$4(!0)},charAt=stringMultibyte.charAt,toString$1=toString$5,InternalStateModule$2=internalState,defineIterator$1=defineIterator$3,STRING_ITERATOR="String Iterator",setInternalState$2=InternalStateModule$2.set,getInternalState$1=InternalStateModule$2.getterFor(STRING_ITERATOR);defineIterator$1(String,"String",function(sn){setInternalState$2(this,{type:STRING_ITERATOR,string:toString$1(sn),index:0})},function sn(){var ln=getInternalState$1(this),cn=ln.string,dn=ln.index,pn;return dn>=cn.length?{value:void 0,done:!0}:(pn=charAt(cn,dn),ln.index+=pn.length,{value:pn,done:!1})});var global$5=global$n,path$2=global$5,path$1=path$2,promise$3=path$1.Promise,domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},documentCreateElement=documentCreateElement$2,classList=documentCreateElement("span").classList,DOMTokenListPrototype$1=classList&&classList.constructor&&classList.constructor.prototype,domTokenListPrototype=DOMTokenListPrototype$1===Object.prototype?void 0:DOMTokenListPrototype$1,global$4=global$n,DOMIterables=domIterables,DOMTokenListPrototype=domTokenListPrototype,ArrayIteratorMethods=es_array_iterator,createNonEnumerableProperty=createNonEnumerableProperty$6,wellKnownSymbol$7=wellKnownSymbol$m,ITERATOR=wellKnownSymbol$7("iterator"),TO_STRING_TAG=wellKnownSymbol$7("toStringTag"),ArrayValues=ArrayIteratorMethods.values,handlePrototype=function(sn,ln){if(sn){if(sn[ITERATOR]!==ArrayValues)try{createNonEnumerableProperty(sn,ITERATOR,ArrayValues)}catch{sn[ITERATOR]=ArrayValues}if(sn[TO_STRING_TAG]||createNonEnumerableProperty(sn,TO_STRING_TAG,ln),DOMIterables[ln]){for(var cn in ArrayIteratorMethods)if(sn[cn]!==ArrayIteratorMethods[cn])try{createNonEnumerableProperty(sn,cn,ArrayIteratorMethods[cn])}catch{sn[cn]=ArrayIteratorMethods[cn]}}}};for(var COLLECTION_NAME in DOMIterables)handlePrototype(global$4[COLLECTION_NAME]&&global$4[COLLECTION_NAME].prototype,COLLECTION_NAME);handlePrototype(DOMTokenListPrototype,"DOMTokenList");var parent$5=promise$3,promise$2=parent$5,parent$4=promise$2,promise$1=parent$4,$$J=_export,newPromiseCapabilityModule=newPromiseCapability$2,perform=perform$6;$$J({target:"Promise",stat:!0,forced:!0},{try:function(sn){var ln=newPromiseCapabilityModule.f(this),cn=perform(sn);return(cn.error?ln.reject:ln.resolve)(cn.value),ln.promise}});var parent$3=promise$1,promise=parent$3;(function(sn){sn.exports=promise})(promise$5);var array$4={exports:{}},anObject$4=anObject$f,iteratorClose=iteratorClose$2,callWithSafeIterationClosing$1=function(sn,ln,cn,dn){try{return dn?ln(anObject$4(cn)[0],cn[1]):ln(cn)}catch(pn){iteratorClose(sn,"throw",pn)}},toPropertyKey$1=toPropertyKey$4,definePropertyModule=objectDefineProperty,createPropertyDescriptor=createPropertyDescriptor$6,createProperty$6=function(sn,ln,cn){var dn=toPropertyKey$1(ln);dn in sn?definePropertyModule.f(sn,dn,createPropertyDescriptor(0,cn)):sn[dn]=cn},bind$7=functionBindContext,call$4=functionCall,toObject$j=toObject$m,callWithSafeIterationClosing=callWithSafeIterationClosing$1,isArrayIteratorMethod=isArrayIteratorMethod$2,isConstructor$4=isConstructor$6,lengthOfArrayLike$q=lengthOfArrayLike$t,createProperty$5=createProperty$6,getIterator$2=getIterator$4,getIteratorMethod$1=getIteratorMethod$4,$Array$9=Array,arrayFrom=function sn(ln){var cn=toObject$j(ln),dn=isConstructor$4(this),pn=arguments.length,vn=pn>1?arguments[1]:void 0,Sn=vn!==void 0;Sn&&(vn=bind$7(vn,pn>2?arguments[2]:void 0));var En=getIteratorMethod$1(cn),Cn=0,Pn,Rn,Ln,Fn,Gn,Dn;if(En&&!(this===$Array$9&&isArrayIteratorMethod(En)))for(Fn=getIterator$2(cn,En),Gn=Fn.next,Rn=dn?new this:[];!(Ln=call$4(Gn,Fn)).done;Cn++)Dn=Sn?callWithSafeIterationClosing(Fn,vn,[Ln.value,Cn],!0):Ln.value,createProperty$5(Rn,Cn,Dn);else for(Pn=lengthOfArrayLike$q(cn),Rn=dn?new this(Pn):$Array$9(Pn);Pn>Cn;Cn++)Dn=Sn?vn(cn[Cn],Cn):cn[Cn],createProperty$5(Rn,Cn,Dn);return Rn.length=Cn,Rn},$$I=_export,from=arrayFrom,checkCorrectnessOfIteration$1=checkCorrectnessOfIteration$3,INCORRECT_ITERATION=!checkCorrectnessOfIteration$1(function(sn){Array.from(sn)});$$I({target:"Array",stat:!0,forced:INCORRECT_ITERATION},{from});var classof$2=classofRaw$1,isArray$7=Array.isArray||function sn(ln){return classof$2(ln)=="Array"},$$H=_export,isArray$6=isArray$7;$$H({target:"Array",stat:!0},{isArray:isArray$6});var $$G=_export,fails$a=fails$p,isConstructor$3=isConstructor$6,createProperty$4=createProperty$6,$Array$8=Array,ISNT_GENERIC=fails$a(function(){function sn(){}return!($Array$8.of.call(sn)instanceof sn)});$$G({target:"Array",stat:!0,forced:ISNT_GENERIC},{of:function sn(){for(var ln=0,cn=arguments.length,dn=new(isConstructor$3(this)?this:$Array$8)(cn);cn>ln;)createProperty$4(dn,ln,arguments[ln++]);return dn.length=cn,dn}});var $$F=_export,toObject$i=toObject$m,lengthOfArrayLike$p=lengthOfArrayLike$t,toIntegerOrInfinity$5=toIntegerOrInfinity$9,addToUnscopables$l=addToUnscopables$n;$$F({target:"Array",proto:!0},{at:function sn(ln){var cn=toObject$i(this),dn=lengthOfArrayLike$p(cn),pn=toIntegerOrInfinity$5(ln),vn=pn>=0?pn:dn+pn;return vn<0||vn>=dn?void 0:cn[vn]}});addToUnscopables$l("at");var $TypeError$2=TypeError,MAX_SAFE_INTEGER=9007199254740991,doesNotExceedSafeInteger$7=function(sn){if(sn>MAX_SAFE_INTEGER)throw $TypeError$2("Maximum allowed index exceeded");return sn},isArray$5=isArray$7,isConstructor$2=isConstructor$6,isObject$6=isObject$f,wellKnownSymbol$6=wellKnownSymbol$m,SPECIES$2=wellKnownSymbol$6("species"),$Array$7=Array,arraySpeciesConstructor$1=function(sn){var ln;return isArray$5(sn)&&(ln=sn.constructor,isConstructor$2(ln)&&(ln===$Array$7||isArray$5(ln.prototype))?ln=void 0:isObject$6(ln)&&(ln=ln[SPECIES$2],ln===null&&(ln=void 0))),ln===void 0?$Array$7:ln},arraySpeciesConstructor=arraySpeciesConstructor$1,arraySpeciesCreate$6=function(sn,ln){return new(arraySpeciesConstructor(sn))(ln===0?0:ln)},fails$9=fails$p,wellKnownSymbol$5=wellKnownSymbol$m,V8_VERSION$1=engineV8Version,SPECIES$1=wellKnownSymbol$5("species"),arrayMethodHasSpeciesSupport$5=function(sn){return V8_VERSION$1>=51||!fails$9(function(){var ln=[],cn=ln.constructor={};return cn[SPECIES$1]=function(){return{foo:1}},ln[sn](Boolean).foo!==1})},$$E=_export,fails$8=fails$p,isArray$4=isArray$7,isObject$5=isObject$f,toObject$h=toObject$m,lengthOfArrayLike$o=lengthOfArrayLike$t,doesNotExceedSafeInteger$6=doesNotExceedSafeInteger$7,createProperty$3=createProperty$6,arraySpeciesCreate$5=arraySpeciesCreate$6,arrayMethodHasSpeciesSupport$4=arrayMethodHasSpeciesSupport$5,wellKnownSymbol$4=wellKnownSymbol$m,V8_VERSION=engineV8Version,IS_CONCAT_SPREADABLE=wellKnownSymbol$4("isConcatSpreadable"),IS_CONCAT_SPREADABLE_SUPPORT=V8_VERSION>=51||!fails$8(function(){var sn=[];return sn[IS_CONCAT_SPREADABLE]=!1,sn.concat()[0]!==sn}),SPECIES_SUPPORT=arrayMethodHasSpeciesSupport$4("concat"),isConcatSpreadable=function(sn){if(!isObject$5(sn))return!1;var ln=sn[IS_CONCAT_SPREADABLE];return ln!==void 0?!!ln:isArray$4(sn)},FORCED$2=!IS_CONCAT_SPREADABLE_SUPPORT||!SPECIES_SUPPORT;$$E({target:"Array",proto:!0,arity:1,forced:FORCED$2},{concat:function sn(ln){var cn=toObject$h(this),dn=arraySpeciesCreate$5(cn,0),pn=0,vn,Sn,En,Cn,Pn;for(vn=-1,En=arguments.length;vn<En;vn++)if(Pn=vn===-1?cn:arguments[vn],isConcatSpreadable(Pn))for(Cn=lengthOfArrayLike$o(Pn),doesNotExceedSafeInteger$6(pn+Cn),Sn=0;Sn<Cn;Sn++,pn++)Sn in Pn&&createProperty$3(dn,pn,Pn[Sn]);else doesNotExceedSafeInteger$6(pn+1),createProperty$3(dn,pn++,Pn);return dn.length=pn,dn}});var tryToString=tryToString$5,$TypeError$1=TypeError,deletePropertyOrThrow$4=function(sn,ln){if(!delete sn[ln])throw $TypeError$1("Cannot delete property "+tryToString(ln)+" of "+tryToString(sn))},toObject$g=toObject$m,toAbsoluteIndex$5=toAbsoluteIndex$7,lengthOfArrayLike$n=lengthOfArrayLike$t,deletePropertyOrThrow$3=deletePropertyOrThrow$4,min$3=Math.min,arrayCopyWithin=[].copyWithin||function sn(ln,cn){var dn=toObject$g(this),pn=lengthOfArrayLike$n(dn),vn=toAbsoluteIndex$5(ln,pn),Sn=toAbsoluteIndex$5(cn,pn),En=arguments.length>2?arguments[2]:void 0,Cn=min$3((En===void 0?pn:toAbsoluteIndex$5(En,pn))-Sn,pn-vn),Pn=1;for(Sn<vn&&vn<Sn+Cn&&(Pn=-1,Sn+=Cn-1,vn+=Cn-1);Cn-- >0;)Sn in dn?dn[vn]=dn[Sn]:deletePropertyOrThrow$3(dn,vn),vn+=Pn,Sn+=Pn;return dn},$$D=_export,copyWithin=arrayCopyWithin,addToUnscopables$k=addToUnscopables$n;$$D({target:"Array",proto:!0},{copyWithin});addToUnscopables$k("copyWithin");var bind$6=functionBindContext,uncurryThis$a=functionUncurryThis,IndexedObject$5=indexedObject,toObject$f=toObject$m,lengthOfArrayLike$m=lengthOfArrayLike$t,arraySpeciesCreate$4=arraySpeciesCreate$6,push$4=uncurryThis$a([].push),createMethod$3=function(sn){var ln=sn==1,cn=sn==2,dn=sn==3,pn=sn==4,vn=sn==6,Sn=sn==7,En=sn==5||vn;return function(Cn,Pn,Rn,Ln){for(var Fn=toObject$f(Cn),Gn=IndexedObject$5(Fn),Dn=bind$6(Pn,Rn),Kn=lengthOfArrayLike$m(Gn),qn=0,Zn=Ln||arraySpeciesCreate$4,Yn=ln?Zn(Cn,Kn):cn||Sn?Zn(Cn,0):void 0,Jn,rs;Kn>qn;qn++)if((En||qn in Gn)&&(Jn=Gn[qn],rs=Dn(Jn,qn,Fn),sn))if(ln)Yn[qn]=rs;else if(rs)switch(sn){case 3:return!0;case 5:return Jn;case 6:return qn;case 2:push$4(Yn,Jn)}else switch(sn){case 4:return!1;case 7:push$4(Yn,Jn)}return vn?-1:dn||pn?pn:Yn}},arrayIteration={forEach:createMethod$3(0),map:createMethod$3(1),filter:createMethod$3(2),some:createMethod$3(3),every:createMethod$3(4),find:createMethod$3(5),findIndex:createMethod$3(6),filterReject:createMethod$3(7)},fails$7=fails$p,arrayMethodIsStrict$b=function(sn,ln){var cn=[][sn];return!!cn&&fails$7(function(){cn.call(null,ln||function(){return 1},1)})},$$C=_export,$every=arrayIteration.every,arrayMethodIsStrict$a=arrayMethodIsStrict$b,STRICT_METHOD$8=arrayMethodIsStrict$a("every");$$C({target:"Array",proto:!0,forced:!STRICT_METHOD$8},{every:function sn(ln){return $every(this,ln,arguments.length>1?arguments[1]:void 0)}});var toObject$e=toObject$m,toAbsoluteIndex$4=toAbsoluteIndex$7,lengthOfArrayLike$l=lengthOfArrayLike$t,arrayFill=function sn(ln){for(var cn=toObject$e(this),dn=lengthOfArrayLike$l(cn),pn=arguments.length,vn=toAbsoluteIndex$4(pn>1?arguments[1]:void 0,dn),Sn=pn>2?arguments[2]:void 0,En=Sn===void 0?dn:toAbsoluteIndex$4(Sn,dn);En>vn;)cn[vn++]=ln;return cn},$$B=_export,fill=arrayFill,addToUnscopables$j=addToUnscopables$n;$$B({target:"Array",proto:!0},{fill});addToUnscopables$j("fill");var $$A=_export,$filter=arrayIteration.filter,arrayMethodHasSpeciesSupport$3=arrayMethodHasSpeciesSupport$5,HAS_SPECIES_SUPPORT$3=arrayMethodHasSpeciesSupport$3("filter");$$A({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$3},{filter:function sn(ln){return $filter(this,ln,arguments.length>1?arguments[1]:void 0)}});var $$z=_export,$find=arrayIteration.find,addToUnscopables$i=addToUnscopables$n,FIND="find",SKIPS_HOLES$1=!0;FIND in[]&&Array(1)[FIND](function(){SKIPS_HOLES$1=!1});$$z({target:"Array",proto:!0,forced:SKIPS_HOLES$1},{find:function sn(ln){return $find(this,ln,arguments.length>1?arguments[1]:void 0)}});addToUnscopables$i(FIND);var $$y=_export,$findIndex=arrayIteration.findIndex,addToUnscopables$h=addToUnscopables$n,FIND_INDEX="findIndex",SKIPS_HOLES=!0;FIND_INDEX in[]&&Array(1)[FIND_INDEX](function(){SKIPS_HOLES=!1});$$y({target:"Array",proto:!0,forced:SKIPS_HOLES},{findIndex:function sn(ln){return $findIndex(this,ln,arguments.length>1?arguments[1]:void 0)}});addToUnscopables$h(FIND_INDEX);var bind$5=functionBindContext,IndexedObject$4=indexedObject,toObject$d=toObject$m,lengthOfArrayLike$k=lengthOfArrayLike$t,createMethod$2=function(sn){var ln=sn==1;return function(cn,dn,pn){for(var vn=toObject$d(cn),Sn=IndexedObject$4(vn),En=bind$5(dn,pn),Cn=lengthOfArrayLike$k(Sn),Pn,Rn;Cn-- >0;)if(Pn=Sn[Cn],Rn=En(Pn,Cn,vn),Rn)switch(sn){case 0:return Pn;case 1:return Cn}return ln?-1:void 0}},arrayIterationFromLast={findLast:createMethod$2(0),findLastIndex:createMethod$2(1)},$$x=_export,$findLast=arrayIterationFromLast.findLast,addToUnscopables$g=addToUnscopables$n;$$x({target:"Array",proto:!0},{findLast:function sn(ln){return $findLast(this,ln,arguments.length>1?arguments[1]:void 0)}});addToUnscopables$g("findLast");var $$w=_export,$findLastIndex=arrayIterationFromLast.findLastIndex,addToUnscopables$f=addToUnscopables$n;$$w({target:"Array",proto:!0},{findLastIndex:function sn(ln){return $findLastIndex(this,ln,arguments.length>1?arguments[1]:void 0)}});addToUnscopables$f("findLastIndex");var isArray$3=isArray$7,lengthOfArrayLike$j=lengthOfArrayLike$t,doesNotExceedSafeInteger$5=doesNotExceedSafeInteger$7,bind$4=functionBindContext,flattenIntoArray$2=function(sn,ln,cn,dn,pn,vn,Sn,En){for(var Cn=pn,Pn=0,Rn=Sn?bind$4(Sn,En):!1,Ln,Fn;Pn<dn;)Pn in cn&&(Ln=Rn?Rn(cn[Pn],Pn,ln):cn[Pn],vn>0&&isArray$3(Ln)?(Fn=lengthOfArrayLike$j(Ln),Cn=flattenIntoArray$2(sn,ln,Ln,Fn,Cn,vn-1)-1):(doesNotExceedSafeInteger$5(Cn+1),sn[Cn]=Ln),Cn++),Pn++;return Cn},flattenIntoArray_1=flattenIntoArray$2,$$v=_export,flattenIntoArray$1=flattenIntoArray_1,toObject$c=toObject$m,lengthOfArrayLike$i=lengthOfArrayLike$t,toIntegerOrInfinity$4=toIntegerOrInfinity$9,arraySpeciesCreate$3=arraySpeciesCreate$6;$$v({target:"Array",proto:!0},{flat:function sn(){var ln=arguments.length?arguments[0]:void 0,cn=toObject$c(this),dn=lengthOfArrayLike$i(cn),pn=arraySpeciesCreate$3(cn,0);return pn.length=flattenIntoArray$1(pn,cn,cn,dn,0,ln===void 0?1:toIntegerOrInfinity$4(ln)),pn}});var $$u=_export,flattenIntoArray=flattenIntoArray_1,aCallable$6=aCallable$g,toObject$b=toObject$m,lengthOfArrayLike$h=lengthOfArrayLike$t,arraySpeciesCreate$2=arraySpeciesCreate$6;$$u({target:"Array",proto:!0},{flatMap:function sn(ln){var cn=toObject$b(this),dn=lengthOfArrayLike$h(cn),pn;return aCallable$6(ln),pn=arraySpeciesCreate$2(cn,0),pn.length=flattenIntoArray(pn,cn,cn,dn,0,1,ln,arguments.length>1?arguments[1]:void 0),pn}});var $forEach=arrayIteration.forEach,arrayMethodIsStrict$9=arrayMethodIsStrict$b,STRICT_METHOD$7=arrayMethodIsStrict$9("forEach"),arrayForEach=STRICT_METHOD$7?[].forEach:function sn(ln){return $forEach(this,ln,arguments.length>1?arguments[1]:void 0)},$$t=_export,forEach=arrayForEach;$$t({target:"Array",proto:!0,forced:[].forEach!=forEach},{forEach});var $$s=_export,$includes=arrayIncludes.includes,fails$6=fails$p,addToUnscopables$e=addToUnscopables$n,BROKEN_ON_SPARSE=fails$6(function(){return!Array(1).includes()});$$s({target:"Array",proto:!0,forced:BROKEN_ON_SPARSE},{includes:function sn(ln){return $includes(this,ln,arguments.length>1?arguments[1]:void 0)}});addToUnscopables$e("includes");var $$r=_export,uncurryThis$9=functionUncurryThis,$IndexOf=arrayIncludes.indexOf,arrayMethodIsStrict$8=arrayMethodIsStrict$b,un$IndexOf=uncurryThis$9([].indexOf),NEGATIVE_ZERO$1=!!un$IndexOf&&1/un$IndexOf([1],1,-0)<0,STRICT_METHOD$6=arrayMethodIsStrict$8("indexOf");$$r({target:"Array",proto:!0,forced:NEGATIVE_ZERO$1||!STRICT_METHOD$6},{indexOf:function sn(ln){var cn=arguments.length>1?arguments[1]:void 0;return NEGATIVE_ZERO$1?un$IndexOf(this,ln,cn)||0:$IndexOf(this,ln,cn)}});var $$q=_export,uncurryThis$8=functionUncurryThis,IndexedObject$3=indexedObject,toIndexedObject$7=toIndexedObject$d,arrayMethodIsStrict$7=arrayMethodIsStrict$b,un$Join=uncurryThis$8([].join),ES3_STRINGS=IndexedObject$3!=Object,STRICT_METHOD$5=arrayMethodIsStrict$7("join",",");$$q({target:"Array",proto:!0,forced:ES3_STRINGS||!STRICT_METHOD$5},{join:function sn(ln){return un$Join(toIndexedObject$7(this),ln===void 0?",":ln)}});var apply=functionApply,toIndexedObject$6=toIndexedObject$d,toIntegerOrInfinity$3=toIntegerOrInfinity$9,lengthOfArrayLike$g=lengthOfArrayLike$t,arrayMethodIsStrict$6=arrayMethodIsStrict$b,min$2=Math.min,$lastIndexOf=[].lastIndexOf,NEGATIVE_ZERO=!!$lastIndexOf&&1/[1].lastIndexOf(1,-0)<0,STRICT_METHOD$4=arrayMethodIsStrict$6("lastIndexOf"),FORCED$1=NEGATIVE_ZERO||!STRICT_METHOD$4,arrayLastIndexOf=FORCED$1?function sn(ln){if(NEGATIVE_ZERO)return apply($lastIndexOf,this,arguments)||0;var cn=toIndexedObject$6(this),dn=lengthOfArrayLike$g(cn),pn=dn-1;for(arguments.length>1&&(pn=min$2(pn,toIntegerOrInfinity$3(arguments[1]))),pn<0&&(pn=dn+pn);pn>=0;pn--)if(pn in cn&&cn[pn]===ln)return pn||0;return-1}:$lastIndexOf,$$p=_export,lastIndexOf=arrayLastIndexOf;$$p({target:"Array",proto:!0,forced:lastIndexOf!==[].lastIndexOf},{lastIndexOf});var $$o=_export,$map=arrayIteration.map,arrayMethodHasSpeciesSupport$2=arrayMethodHasSpeciesSupport$5,HAS_SPECIES_SUPPORT$2=arrayMethodHasSpeciesSupport$2("map");$$o({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$2},{map:function sn(ln){return $map(this,ln,arguments.length>1?arguments[1]:void 0)}});var $$n=_export,toObject$a=toObject$m,lengthOfArrayLike$f=lengthOfArrayLike$t,doesNotExceedSafeInteger$4=doesNotExceedSafeInteger$7,fails$5=fails$p,INCORRECT_TO_LENGTH=fails$5(function(){return[].push.call({length:4294967296},1)!==4294967297}),SILENT_ON_NON_WRITABLE_LENGTH$1=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(sn){return sn instanceof TypeError}}();$$n({target:"Array",proto:!0,arity:1,forced:INCORRECT_TO_LENGTH||SILENT_ON_NON_WRITABLE_LENGTH$1},{push:function sn(ln){var cn=toObject$a(this),dn=lengthOfArrayLike$f(cn),pn=arguments.length;doesNotExceedSafeInteger$4(dn+pn);for(var vn=0;vn<pn;vn++)cn[dn]=arguments[vn],dn++;return cn.length=dn,dn}});var aCallable$5=aCallable$g,toObject$9=toObject$m,IndexedObject$2=indexedObject,lengthOfArrayLike$e=lengthOfArrayLike$t,$TypeError=TypeError,createMethod$1=function(sn){return function(ln,cn,dn,pn){aCallable$5(cn);var vn=toObject$9(ln),Sn=IndexedObject$2(vn),En=lengthOfArrayLike$e(vn),Cn=sn?En-1:0,Pn=sn?-1:1;if(dn<2)for(;;){if(Cn in Sn){pn=Sn[Cn],Cn+=Pn;break}if(Cn+=Pn,sn?Cn<0:En<=Cn)throw $TypeError("Reduce of empty array with no initial value")}for(;sn?Cn>=0:En>Cn;Cn+=Pn)Cn in Sn&&(pn=cn(pn,Sn[Cn],Cn,vn));return pn}},arrayReduce={left:createMethod$1(!1),right:createMethod$1(!0)},$$m=_export,$reduce=arrayReduce.left,arrayMethodIsStrict$5=arrayMethodIsStrict$b,CHROME_VERSION$1=engineV8Version,IS_NODE$1=engineIsNode,STRICT_METHOD$3=arrayMethodIsStrict$5("reduce"),CHROME_BUG$1=!IS_NODE$1&&CHROME_VERSION$1>79&&CHROME_VERSION$1<83;$$m({target:"Array",proto:!0,forced:!STRICT_METHOD$3||CHROME_BUG$1},{reduce:function sn(ln){var cn=arguments.length;return $reduce(this,ln,cn,cn>1?arguments[1]:void 0)}});var $$l=_export,$reduceRight=arrayReduce.right,arrayMethodIsStrict$4=arrayMethodIsStrict$b,CHROME_VERSION=engineV8Version,IS_NODE=engineIsNode,STRICT_METHOD$2=arrayMethodIsStrict$4("reduceRight"),CHROME_BUG=!IS_NODE&&CHROME_VERSION>79&&CHROME_VERSION<83;$$l({target:"Array",proto:!0,forced:!STRICT_METHOD$2||CHROME_BUG},{reduceRight:function sn(ln){return $reduceRight(this,ln,arguments.length,arguments.length>1?arguments[1]:void 0)}});var $$k=_export,uncurryThis$7=functionUncurryThis,isArray$2=isArray$7,un$Reverse=uncurryThis$7([].reverse),test$1=[1,2];$$k({target:"Array",proto:!0,forced:String(test$1)===String(test$1.reverse())},{reverse:function sn(){return isArray$2(this)&&(this.length=this.length),un$Reverse(this)}});var $$j=_export,isArray$1=isArray$7,isConstructor$1=isConstructor$6,isObject$4=isObject$f,toAbsoluteIndex$3=toAbsoluteIndex$7,lengthOfArrayLike$d=lengthOfArrayLike$t,toIndexedObject$5=toIndexedObject$d,createProperty$2=createProperty$6,wellKnownSymbol$3=wellKnownSymbol$m,arrayMethodHasSpeciesSupport$1=arrayMethodHasSpeciesSupport$5,un$Slice=arraySlice$3,HAS_SPECIES_SUPPORT$1=arrayMethodHasSpeciesSupport$1("slice"),SPECIES=wellKnownSymbol$3("species"),$Array$6=Array,max$3=Math.max;$$j({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$1},{slice:function sn(ln,cn){var dn=toIndexedObject$5(this),pn=lengthOfArrayLike$d(dn),vn=toAbsoluteIndex$3(ln,pn),Sn=toAbsoluteIndex$3(cn===void 0?pn:cn,pn),En,Cn,Pn;if(isArray$1(dn)&&(En=dn.constructor,isConstructor$1(En)&&(En===$Array$6||isArray$1(En.prototype))?En=void 0:isObject$4(En)&&(En=En[SPECIES],En===null&&(En=void 0)),En===$Array$6||En===void 0))return un$Slice(dn,vn,Sn);for(Cn=new(En===void 0?$Array$6:En)(max$3(Sn-vn,0)),Pn=0;vn<Sn;vn++,Pn++)vn in dn&&createProperty$2(Cn,Pn,dn[vn]);return Cn.length=Pn,Cn}});var $$i=_export,$some=arrayIteration.some,arrayMethodIsStrict$3=arrayMethodIsStrict$b,STRICT_METHOD$1=arrayMethodIsStrict$3("some");$$i({target:"Array",proto:!0,forced:!STRICT_METHOD$1},{some:function sn(ln){return $some(this,ln,arguments.length>1?arguments[1]:void 0)}});var toAbsoluteIndex$2=toAbsoluteIndex$7,lengthOfArrayLike$c=lengthOfArrayLike$t,createProperty$1=createProperty$6,$Array$5=Array,max$2=Math.max,arraySliceSimple=function(sn,ln,cn){for(var dn=lengthOfArrayLike$c(sn),pn=toAbsoluteIndex$2(ln,dn),vn=toAbsoluteIndex$2(cn===void 0?dn:cn,dn),Sn=$Array$5(max$2(vn-pn,0)),En=0;pn<vn;pn++,En++)createProperty$1(Sn,En,sn[pn]);return Sn.length=En,Sn},arraySlice$1=arraySliceSimple,floor=Math.floor,mergeSort=function(sn,ln){var cn=sn.length,dn=floor(cn/2);return cn<8?insertionSort(sn,ln):merge(sn,mergeSort(arraySlice$1(sn,0,dn),ln),mergeSort(arraySlice$1(sn,dn),ln),ln)},insertionSort=function(sn,ln){for(var cn=sn.length,dn=1,pn,vn;dn<cn;){for(vn=dn,pn=sn[dn];vn&&ln(sn[vn-1],pn)>0;)sn[vn]=sn[--vn];vn!==dn++&&(sn[vn]=pn)}return sn},merge=function(sn,ln,cn,dn){for(var pn=ln.length,vn=cn.length,Sn=0,En=0;Sn<pn||En<vn;)sn[Sn+En]=Sn<pn&&En<vn?dn(ln[Sn],cn[En])<=0?ln[Sn++]:cn[En++]:Sn<pn?ln[Sn++]:cn[En++];return sn},arraySort=mergeSort,userAgent$1=engineUserAgent,firefox=userAgent$1.match(/firefox\/(\d+)/i),engineFfVersion=!!firefox&&+firefox[1],UA=engineUserAgent,engineIsIeOrEdge=/MSIE|Trident/.test(UA),userAgent=engineUserAgent,webkit=userAgent.match(/AppleWebKit\/(\d+)\./),engineWebkitVersion=!!webkit&&+webkit[1],$$h=_export,uncurryThis$6=functionUncurryThis,aCallable$4=aCallable$g,toObject$8=toObject$m,lengthOfArrayLike$b=lengthOfArrayLike$t,deletePropertyOrThrow$2=deletePropertyOrThrow$4,toString=toString$5,fails$4=fails$p,internalSort=arraySort,arrayMethodIsStrict$2=arrayMethodIsStrict$b,FF=engineFfVersion,IE_OR_EDGE=engineIsIeOrEdge,V8=engineV8Version,WEBKIT=engineWebkitVersion,test=[],un$Sort=uncurryThis$6(test.sort),push$3=uncurryThis$6(test.push),FAILS_ON_UNDEFINED=fails$4(function(){test.sort(void 0)}),FAILS_ON_NULL=fails$4(function(){test.sort(null)}),STRICT_METHOD=arrayMethodIsStrict$2("sort"),STABLE_SORT=!fails$4(function(){if(V8)return V8<70;if(!(FF&&FF>3)){if(IE_OR_EDGE)return!0;if(WEBKIT)return WEBKIT<603;var sn="",ln,cn,dn,pn;for(ln=65;ln<76;ln++){switch(cn=String.fromCharCode(ln),ln){case 66:case 69:case 70:case 72:dn=3;break;case 68:case 71:dn=4;break;default:dn=2}for(pn=0;pn<47;pn++)test.push({k:cn+pn,v:dn})}for(test.sort(function(vn,Sn){return Sn.v-vn.v}),pn=0;pn<test.length;pn++)cn=test[pn].k.charAt(0),sn.charAt(sn.length-1)!==cn&&(sn+=cn);return sn!=="DGBEFHACIJK"}}),FORCED=FAILS_ON_UNDEFINED||!FAILS_ON_NULL||!STRICT_METHOD||!STABLE_SORT,getSortCompare=function(sn){return function(ln,cn){return cn===void 0?-1:ln===void 0?1:sn!==void 0?+sn(ln,cn)||0:toString(ln)>toString(cn)?1:-1}};$$h({target:"Array",proto:!0,forced:FORCED},{sort:function sn(ln){ln!==void 0&&aCallable$4(ln);var cn=toObject$8(this);if(STABLE_SORT)return ln===void 0?un$Sort(cn):un$Sort(cn,ln);var dn=[],pn=lengthOfArrayLike$b(cn),vn,Sn;for(Sn=0;Sn<pn;Sn++)Sn in cn&&push$3(dn,cn[Sn]);for(internalSort(dn,getSortCompare(ln)),vn=dn.length,Sn=0;Sn<vn;)cn[Sn]=dn[Sn++];for(;Sn<pn;)deletePropertyOrThrow$2(cn,Sn++);return cn}});var setSpecies$1=setSpecies$3;setSpecies$1("Array");var $$g=_export,toObject$7=toObject$m,toAbsoluteIndex$1=toAbsoluteIndex$7,toIntegerOrInfinity$2=toIntegerOrInfinity$9,lengthOfArrayLike$a=lengthOfArrayLike$t,doesNotExceedSafeInteger$3=doesNotExceedSafeInteger$7,arraySpeciesCreate$1=arraySpeciesCreate$6,createProperty=createProperty$6,deletePropertyOrThrow$1=deletePropertyOrThrow$4,arrayMethodHasSpeciesSupport=arrayMethodHasSpeciesSupport$5,HAS_SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("splice"),max$1=Math.max,min$1=Math.min;$$g({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT},{splice:function sn(ln,cn){var dn=toObject$7(this),pn=lengthOfArrayLike$a(dn),vn=toAbsoluteIndex$1(ln,pn),Sn=arguments.length,En,Cn,Pn,Rn,Ln,Fn;for(Sn===0?En=Cn=0:Sn===1?(En=0,Cn=pn-vn):(En=Sn-2,Cn=min$1(max$1(toIntegerOrInfinity$2(cn),0),pn-vn)),doesNotExceedSafeInteger$3(pn+En-Cn),Pn=arraySpeciesCreate$1(dn,Cn),Rn=0;Rn<Cn;Rn++)Ln=vn+Rn,Ln in dn&&createProperty(Pn,Rn,dn[Ln]);if(Pn.length=Cn,En<Cn){for(Rn=vn;Rn<pn-Cn;Rn++)Ln=Rn+Cn,Fn=Rn+En,Ln in dn?dn[Fn]=dn[Ln]:deletePropertyOrThrow$1(dn,Fn);for(Rn=pn;Rn>pn-Cn+En;Rn--)deletePropertyOrThrow$1(dn,Rn-1)}else if(En>Cn)for(Rn=pn-Cn;Rn>vn;Rn--)Ln=Rn+Cn-1,Fn=Rn+En-1,Ln in dn?dn[Fn]=dn[Ln]:deletePropertyOrThrow$1(dn,Fn);for(Rn=0;Rn<En;Rn++)dn[Rn+vn]=arguments[Rn+2];return dn.length=pn-Cn+En,Pn}});var addToUnscopables$d=addToUnscopables$n;addToUnscopables$d("flat");var addToUnscopables$c=addToUnscopables$n;addToUnscopables$c("flatMap");var $$f=_export,toObject$6=toObject$m,lengthOfArrayLike$9=lengthOfArrayLike$t,deletePropertyOrThrow=deletePropertyOrThrow$4,doesNotExceedSafeInteger$2=doesNotExceedSafeInteger$7,INCORRECT_RESULT=[].unshift(0)!==1,SILENT_ON_NON_WRITABLE_LENGTH=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(sn){return sn instanceof TypeError}}();$$f({target:"Array",proto:!0,arity:1,forced:INCORRECT_RESULT||SILENT_ON_NON_WRITABLE_LENGTH},{unshift:function sn(ln){var cn=toObject$6(this),dn=lengthOfArrayLike$9(cn),pn=arguments.length;if(pn){doesNotExceedSafeInteger$2(dn+pn);for(var vn=dn;vn--;){var Sn=vn+pn;vn in cn?cn[Sn]=cn[vn]:deletePropertyOrThrow(cn,Sn)}for(var En=0;En<pn;En++)cn[En]=arguments[En]}return cn.length=dn+pn}});var path=path$2,array$3=path.Array,parent$2=array$3,array$2=parent$2,internalMetadata={exports:{}},objectGetOwnPropertyNamesExternal={},classof$1=classofRaw$1,toIndexedObject$4=toIndexedObject$d,$getOwnPropertyNames=objectGetOwnPropertyNames.f,arraySlice=arraySliceSimple,windowNames=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(sn){try{return $getOwnPropertyNames(sn)}catch{return arraySlice(windowNames)}};objectGetOwnPropertyNamesExternal.f=function sn(ln){return windowNames&&classof$1(ln)=="Window"?getWindowNames(ln):$getOwnPropertyNames(toIndexedObject$4(ln))};var fails$3=fails$p,arrayBufferNonExtensible=fails$3(function(){if(typeof ArrayBuffer=="function"){var sn=new ArrayBuffer(8);Object.isExtensible(sn)&&Object.defineProperty(sn,"a",{value:8})}}),fails$2=fails$p,isObject$3=isObject$f,classof=classofRaw$1,ARRAY_BUFFER_NON_EXTENSIBLE=arrayBufferNonExtensible,$isExtensible=Object.isExtensible,FAILS_ON_PRIMITIVES=fails$2(function(){$isExtensible(1)}),objectIsExtensible=FAILS_ON_PRIMITIVES||ARRAY_BUFFER_NON_EXTENSIBLE?function sn(ln){return!isObject$3(ln)||ARRAY_BUFFER_NON_EXTENSIBLE&&classof(ln)=="ArrayBuffer"?!1:$isExtensible?$isExtensible(ln):!0}:$isExtensible,fails$1=fails$p,freezing=!fails$1(function(){return Object.isExtensible(Object.preventExtensions({}))}),$$e=_export,uncurryThis$5=functionUncurryThis,hiddenKeys=hiddenKeys$5,isObject$2=isObject$f,hasOwn=hasOwnProperty_1,defineProperty$2=objectDefineProperty.f,getOwnPropertyNamesModule=objectGetOwnPropertyNames,getOwnPropertyNamesExternalModule=objectGetOwnPropertyNamesExternal,isExtensible=objectIsExtensible,uid=uid$3,FREEZING=freezing,REQUIRED=!1,METADATA=uid("meta"),id=0,setMetadata=function(sn){defineProperty$2(sn,METADATA,{value:{objectID:"O"+id++,weakData:{}}})},fastKey$1=function(sn,ln){if(!isObject$2(sn))return typeof sn=="symbol"?sn:(typeof sn=="string"?"S":"P")+sn;if(!hasOwn(sn,METADATA)){if(!isExtensible(sn))return"F";if(!ln)return"E";setMetadata(sn)}return sn[METADATA].objectID},getWeakData=function(sn,ln){if(!hasOwn(sn,METADATA)){if(!isExtensible(sn))return!0;if(!ln)return!1;setMetadata(sn)}return sn[METADATA].weakData},onFreeze=function(sn){return FREEZING&&REQUIRED&&isExtensible(sn)&&!hasOwn(sn,METADATA)&&setMetadata(sn),sn},enable=function(){meta.enable=function(){},REQUIRED=!0;var sn=getOwnPropertyNamesModule.f,ln=uncurryThis$5([].splice),cn={};cn[METADATA]=1,sn(cn).length&&(getOwnPropertyNamesModule.f=function(dn){for(var pn=sn(dn),vn=0,Sn=pn.length;vn<Sn;vn++)if(pn[vn]===METADATA){ln(pn,vn,1);break}return pn},$$e({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:getOwnPropertyNamesExternalModule.f}))},meta=internalMetadata.exports={enable,fastKey:fastKey$1,getWeakData,onFreeze};hiddenKeys[METADATA]=!0;var isCallable$2=isCallable$o,isObject$1=isObject$f,setPrototypeOf=objectSetPrototypeOf,inheritIfRequired$1=function(sn,ln,cn){var dn,pn;return setPrototypeOf&&isCallable$2(dn=ln.constructor)&&dn!==cn&&isObject$1(pn=dn.prototype)&&pn!==cn.prototype&&setPrototypeOf(sn,pn),sn},$$d=_export,global$3=global$n,uncurryThis$4=functionUncurryThis,isForced=isForced_1,defineBuiltIn$2=defineBuiltIn$a,InternalMetadataModule=internalMetadata.exports,iterate$1=iterate$7,anInstance$1=anInstance$3,isCallable$1=isCallable$o,isObject=isObject$f,fails=fails$p,checkCorrectnessOfIteration=checkCorrectnessOfIteration$3,setToStringTag=setToStringTag$4,inheritIfRequired=inheritIfRequired$1,collection$1=function(sn,ln,cn){var dn=sn.indexOf("Map")!==-1,pn=sn.indexOf("Weak")!==-1,vn=dn?"set":"add",Sn=global$3[sn],En=Sn&&Sn.prototype,Cn=Sn,Pn={},Rn=function(Zn){var Yn=uncurryThis$4(En[Zn]);defineBuiltIn$2(En,Zn,Zn=="add"?function(rs){return Yn(this,rs===0?0:rs),this}:Zn=="delete"?function(Jn){return pn&&!isObject(Jn)?!1:Yn(this,Jn===0?0:Jn)}:Zn=="get"?function(rs){return pn&&!isObject(rs)?void 0:Yn(this,rs===0?0:rs)}:Zn=="has"?function(rs){return pn&&!isObject(rs)?!1:Yn(this,rs===0?0:rs)}:function(rs,us){return Yn(this,rs===0?0:rs,us),this})},Ln=isForced(sn,!isCallable$1(Sn)||!(pn||En.forEach&&!fails(function(){new Sn().entries().next()})));if(Ln)Cn=cn.getConstructor(ln,sn,dn,vn),InternalMetadataModule.enable();else if(isForced(sn,!0)){var Fn=new Cn,Gn=Fn[vn](pn?{}:-0,1)!=Fn,Dn=fails(function(){Fn.has(1)}),Kn=checkCorrectnessOfIteration(function(Zn){new Sn(Zn)}),qn=!pn&&fails(function(){for(var Zn=new Sn,Yn=5;Yn--;)Zn[vn](Yn,Yn);return!Zn.has(-0)});Kn||(Cn=ln(function(Zn,Yn){anInstance$1(Zn,En);var Jn=inheritIfRequired(new Sn,Zn,Cn);return Yn!=null&&iterate$1(Yn,Jn[vn],{that:Jn,AS_ENTRIES:dn}),Jn}),Cn.prototype=En,En.constructor=Cn),(Dn||qn)&&(Rn("delete"),Rn("has"),dn&&Rn("get")),(qn||Gn)&&Rn(vn),pn&&En.clear&&delete En.clear}return Pn[sn]=Cn,$$d({global:!0,constructor:!0,forced:Cn!=Sn},Pn),setToStringTag(Cn,sn),pn||cn.setStrong(Cn,sn,dn),Cn},defineBuiltIn$1=defineBuiltIn$a,defineBuiltIns$2=function(sn,ln,cn){for(var dn in ln)defineBuiltIn$1(sn,dn,ln[dn],cn);return sn},defineProperty$1=objectDefineProperty.f,create$1=objectCreate$1,defineBuiltIns$1=defineBuiltIns$2,bind$3=functionBindContext,anInstance=anInstance$3,iterate=iterate$7,defineIterator=defineIterator$3,setSpecies=setSpecies$3,DESCRIPTORS$2=descriptors,fastKey=internalMetadata.exports.fastKey,InternalStateModule$1=internalState,setInternalState$1=InternalStateModule$1.set,internalStateGetterFor=InternalStateModule$1.getterFor,collectionStrong$1={getConstructor:function(sn,ln,cn,dn){var pn=sn(function(Pn,Rn){anInstance(Pn,vn),setInternalState$1(Pn,{type:ln,index:create$1(null),first:void 0,last:void 0,size:0}),DESCRIPTORS$2||(Pn.size=0),Rn!=null&&iterate(Rn,Pn[dn],{that:Pn,AS_ENTRIES:cn})}),vn=pn.prototype,Sn=internalStateGetterFor(ln),En=function(Pn,Rn,Ln){var Fn=Sn(Pn),Gn=Cn(Pn,Rn),Dn,Kn;return Gn?Gn.value=Ln:(Fn.last=Gn={index:Kn=fastKey(Rn,!0),key:Rn,value:Ln,previous:Dn=Fn.last,next:void 0,removed:!1},Fn.first||(Fn.first=Gn),Dn&&(Dn.next=Gn),DESCRIPTORS$2?Fn.size++:Pn.size++,Kn!=="F"&&(Fn.index[Kn]=Gn)),Pn},Cn=function(Pn,Rn){var Ln=Sn(Pn),Fn=fastKey(Rn),Gn;if(Fn!=="F")return Ln.index[Fn];for(Gn=Ln.first;Gn;Gn=Gn.next)if(Gn.key==Rn)return Gn};return defineBuiltIns$1(vn,{clear:function(){for(var Rn=this,Ln=Sn(Rn),Fn=Ln.index,Gn=Ln.first;Gn;)Gn.removed=!0,Gn.previous&&(Gn.previous=Gn.previous.next=void 0),delete Fn[Gn.index],Gn=Gn.next;Ln.first=Ln.last=void 0,DESCRIPTORS$2?Ln.size=0:Rn.size=0},delete:function(Pn){var Rn=this,Ln=Sn(Rn),Fn=Cn(Rn,Pn);if(Fn){var Gn=Fn.next,Dn=Fn.previous;delete Ln.index[Fn.index],Fn.removed=!0,Dn&&(Dn.next=Gn),Gn&&(Gn.previous=Dn),Ln.first==Fn&&(Ln.first=Gn),Ln.last==Fn&&(Ln.last=Dn),DESCRIPTORS$2?Ln.size--:Rn.size--}return!!Fn},forEach:function(Rn){for(var Ln=Sn(this),Fn=bind$3(Rn,arguments.length>1?arguments[1]:void 0),Gn;Gn=Gn?Gn.next:Ln.first;)for(Fn(Gn.value,Gn.key,this);Gn&&Gn.removed;)Gn=Gn.previous},has:function(Rn){return!!Cn(this,Rn)}}),defineBuiltIns$1(vn,cn?{get:function(Rn){var Ln=Cn(this,Rn);return Ln&&Ln.value},set:function(Rn,Ln){return En(this,Rn===0?0:Rn,Ln)}}:{add:function(Rn){return En(this,Rn=Rn===0?0:Rn,Rn)}}),DESCRIPTORS$2&&defineProperty$1(vn,"size",{get:function(){return Sn(this).size}}),pn},setStrong:function(sn,ln,cn){var dn=ln+" Iterator",pn=internalStateGetterFor(ln),vn=internalStateGetterFor(dn);defineIterator(sn,ln,function(Sn,En){setInternalState$1(this,{type:dn,target:Sn,state:pn(Sn),kind:En,last:void 0})},function(){for(var Sn=vn(this),En=Sn.kind,Cn=Sn.last;Cn&&Cn.removed;)Cn=Cn.previous;return!Sn.target||!(Sn.last=Cn=Cn?Cn.next:Sn.state.first)?(Sn.target=void 0,{value:void 0,done:!0}):En=="keys"?{value:Cn.key,done:!1}:En=="values"?{value:Cn.value,done:!1}:{value:[Cn.key,Cn.value],done:!1}},cn?"entries":"values",!cn,!0),setSpecies(ln)}},collection=collection$1,collectionStrong=collectionStrong$1;collection("Map",function(sn){return function(){return sn(this,arguments.length?arguments[0]:void 0)}},collectionStrong);var lengthOfArrayLike$8=lengthOfArrayLike$t,arrayFromConstructorAndList$2=function(sn,ln){for(var cn=0,dn=lengthOfArrayLike$8(ln),pn=new sn(dn);dn>cn;)pn[cn]=ln[cn++];return pn},bind$2=functionBindContext,uncurryThis$3=functionUncurryThis,IndexedObject$1=indexedObject,toObject$5=toObject$m,toPropertyKey=toPropertyKey$4,lengthOfArrayLike$7=lengthOfArrayLike$t,objectCreate=objectCreate$1,arrayFromConstructorAndList$1=arrayFromConstructorAndList$2,$Array$4=Array,push$2=uncurryThis$3([].push),arrayGroup=function(sn,ln,cn,dn){for(var pn=toObject$5(sn),vn=IndexedObject$1(pn),Sn=bind$2(ln,cn),En=objectCreate(null),Cn=lengthOfArrayLike$7(vn),Pn=0,Rn,Ln,Fn;Cn>Pn;Pn++)Fn=vn[Pn],Ln=toPropertyKey(Sn(Fn,Pn,pn)),Ln in En?push$2(En[Ln],Fn):En[Ln]=[Fn];if(dn&&(Rn=dn(pn),Rn!==$Array$4))for(Ln in En)En[Ln]=arrayFromConstructorAndList$1(Rn,En[Ln]);return En},$$c=_export,$group$1=arrayGroup,addToUnscopables$b=addToUnscopables$n;$$c({target:"Array",proto:!0},{group:function sn(ln){var cn=arguments.length>1?arguments[1]:void 0;return $group$1(this,ln,cn)}});addToUnscopables$b("group");var $$b=_export,$group=arrayGroup,arrayMethodIsStrict$1=arrayMethodIsStrict$b,addToUnscopables$a=addToUnscopables$n;$$b({target:"Array",proto:!0,forced:!arrayMethodIsStrict$1("groupBy")},{groupBy:function sn(ln){var cn=arguments.length>1?arguments[1]:void 0;return $group(this,ln,cn)}});addToUnscopables$a("groupBy");var getBuiltIn$5=getBuiltIn$g,bind$1=functionBindContext,uncurryThis$2=functionUncurryThis,IndexedObject=indexedObject,toObject$4=toObject$m,lengthOfArrayLike$6=lengthOfArrayLike$t,Map$2=getBuiltIn$5("Map"),MapPrototype$1=Map$2.prototype,mapGet=uncurryThis$2(MapPrototype$1.get),mapHas$1=uncurryThis$2(MapPrototype$1.has),mapSet$1=uncurryThis$2(MapPrototype$1.set),push$1=uncurryThis$2([].push),arrayGroupToMap=function sn(ln){for(var cn=toObject$4(this),dn=IndexedObject(cn),pn=bind$1(ln,arguments.length>1?arguments[1]:void 0),vn=new Map$2,Sn=lengthOfArrayLike$6(dn),En=0,Cn,Pn;Sn>En;En++)Pn=dn[En],Cn=pn(Pn,En,cn),mapHas$1(vn,Cn)?push$1(mapGet(vn,Cn),Pn):mapSet$1(vn,Cn,[Pn]);return vn},$$a=_export,arrayMethodIsStrict=arrayMethodIsStrict$b,addToUnscopables$9=addToUnscopables$n,$groupToMap$1=arrayGroupToMap;$$a({target:"Array",proto:!0,name:"groupToMap",forced:!arrayMethodIsStrict("groupByToMap")},{groupByToMap:$groupToMap$1});addToUnscopables$9("groupByToMap");var $$9=_export,addToUnscopables$8=addToUnscopables$n,$groupToMap=arrayGroupToMap;$$9({target:"Array",proto:!0},{groupToMap:$groupToMap});addToUnscopables$8("groupToMap");var lengthOfArrayLike$5=lengthOfArrayLike$t,arrayToReversed$1=function(sn,ln){for(var cn=lengthOfArrayLike$5(sn),dn=new ln(cn),pn=0;pn<cn;pn++)dn[pn]=sn[cn-pn-1];return dn},$$8=_export,arrayToReversed=arrayToReversed$1,toIndexedObject$3=toIndexedObject$d,addToUnscopables$7=addToUnscopables$n,$Array$3=Array;$$8({target:"Array",proto:!0},{toReversed:function sn(){return arrayToReversed(toIndexedObject$3(this),$Array$3)}});addToUnscopables$7("toReversed");var global$2=global$n,entryVirtual=function(sn){return global$2[sn].prototype},$$7=_export,uncurryThis$1=functionUncurryThis,aCallable$3=aCallable$g,toIndexedObject$2=toIndexedObject$d,arrayFromConstructorAndList=arrayFromConstructorAndList$2,getVirtual$1=entryVirtual,addToUnscopables$6=addToUnscopables$n,$Array$2=Array,sort=uncurryThis$1(getVirtual$1("Array").sort);$$7({target:"Array",proto:!0},{toSorted:function sn(ln){ln!==void 0&&aCallable$3(ln);var cn=toIndexedObject$2(this),dn=arrayFromConstructorAndList($Array$2,cn);return sort(dn,ln)}});addToUnscopables$6("toSorted");var $$6=_export,addToUnscopables$5=addToUnscopables$n,doesNotExceedSafeInteger$1=doesNotExceedSafeInteger$7,lengthOfArrayLike$4=lengthOfArrayLike$t,toAbsoluteIndex=toAbsoluteIndex$7,toIndexedObject$1=toIndexedObject$d,toIntegerOrInfinity$1=toIntegerOrInfinity$9,$Array$1=Array,max=Math.max,min=Math.min;$$6({target:"Array",proto:!0},{toSpliced:function sn(ln,cn){var dn=toIndexedObject$1(this),pn=lengthOfArrayLike$4(dn),vn=toAbsoluteIndex(ln,pn),Sn=arguments.length,En=0,Cn,Pn,Rn,Ln;for(Sn===0?Cn=Pn=0:Sn===1?(Cn=0,Pn=pn-vn):(Cn=Sn-2,Pn=min(max(toIntegerOrInfinity$1(cn),0),pn-vn)),Rn=doesNotExceedSafeInteger$1(pn+Cn-Pn),Ln=$Array$1(Rn);En<vn;En++)Ln[En]=dn[En];for(;En<vn+Cn;En++)Ln[En]=arguments[En-vn+2];for(;En<Rn;En++)Ln[En]=dn[En+Pn-Cn];return Ln}});addToUnscopables$5("toSpliced");var lengthOfArrayLike$3=lengthOfArrayLike$t,toIntegerOrInfinity=toIntegerOrInfinity$9,$RangeError=RangeError,arrayWith$1=function(sn,ln,cn,dn){var pn=lengthOfArrayLike$3(sn),vn=toIntegerOrInfinity(cn),Sn=vn<0?pn+vn:vn;if(Sn>=pn||Sn<0)throw $RangeError("Incorrect index");for(var En=new ln(pn),Cn=0;Cn<pn;Cn++)En[Cn]=Cn===Sn?dn:sn[Cn];return En},$$5=_export,arrayWith=arrayWith$1,toIndexedObject=toIndexedObject$d,$Array=Array;$$5({target:"Array",proto:!0},{with:function(sn,ln){return arrayWith(toIndexedObject(this),$Array,sn,ln)}});var parent$1=array$2,array$1=parent$1,global$1=global$n,shared=sharedStore,isCallable=isCallable$o,getPrototypeOf=objectGetPrototypeOf,defineBuiltIn=defineBuiltIn$a,wellKnownSymbol$2=wellKnownSymbol$m,USE_FUNCTION_CONSTRUCTOR="USE_FUNCTION_CONSTRUCTOR",ASYNC_ITERATOR$2=wellKnownSymbol$2("asyncIterator"),AsyncIterator=global$1.AsyncIterator,PassedAsyncIteratorPrototype=shared.AsyncIteratorPrototype,AsyncIteratorPrototype$1,prototype;if(PassedAsyncIteratorPrototype)AsyncIteratorPrototype$1=PassedAsyncIteratorPrototype;else if(isCallable(AsyncIterator))AsyncIteratorPrototype$1=AsyncIterator.prototype;else if(shared[USE_FUNCTION_CONSTRUCTOR]||global$1[USE_FUNCTION_CONSTRUCTOR])try{prototype=getPrototypeOf(getPrototypeOf(getPrototypeOf(Function("return async function*(){}()")()))),getPrototypeOf(prototype)===Object.prototype&&(AsyncIteratorPrototype$1=prototype)}catch{}AsyncIteratorPrototype$1||(AsyncIteratorPrototype$1={});isCallable(AsyncIteratorPrototype$1[ASYNC_ITERATOR$2])||defineBuiltIn(AsyncIteratorPrototype$1,ASYNC_ITERATOR$2,function(){return this});var asyncIteratorPrototype=AsyncIteratorPrototype$1,call$3=functionCall,anObject$3=anObject$f,create=objectCreate$1,getMethod$3=getMethod$7,defineBuiltIns=defineBuiltIns$2,InternalStateModule=internalState,getBuiltIn$4=getBuiltIn$g,AsyncIteratorPrototype=asyncIteratorPrototype,Promise$1=getBuiltIn$4("Promise"),ASYNC_FROM_SYNC_ITERATOR="AsyncFromSyncIterator",setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor(ASYNC_FROM_SYNC_ITERATOR),asyncFromSyncIteratorContinuation=function(sn,ln,cn){var dn=sn.done;Promise$1.resolve(sn.value).then(function(pn){ln({done:dn,value:pn})},cn)},AsyncFromSyncIterator$2=function sn(ln){setInternalState(this,{type:ASYNC_FROM_SYNC_ITERATOR,iterator:anObject$3(ln),next:ln.next})};AsyncFromSyncIterator$2.prototype=defineBuiltIns(create(AsyncIteratorPrototype),{next:function sn(){var ln=getInternalState(this);return new Promise$1(function(cn,dn){var pn=anObject$3(call$3(ln.next,ln.iterator));asyncFromSyncIteratorContinuation(pn,cn,dn)})},return:function(){var sn=getInternalState(this).iterator;return new Promise$1(function(ln,cn){var dn=getMethod$3(sn,"return");if(dn===void 0)return ln({done:!0,value:void 0});var pn=anObject$3(call$3(dn,sn));asyncFromSyncIteratorContinuation(pn,ln,cn)})}});var asyncFromSyncIterator=AsyncFromSyncIterator$2,call$2=functionCall,AsyncFromSyncIterator$1=asyncFromSyncIterator,anObject$2=anObject$f,getIterator$1=getIterator$4,getMethod$2=getMethod$7,wellKnownSymbol$1=wellKnownSymbol$m,ASYNC_ITERATOR$1=wellKnownSymbol$1("asyncIterator"),getAsyncIterator$1=function(sn,ln){var cn=arguments.length<2?getMethod$2(sn,ASYNC_ITERATOR$1):ln;return cn?anObject$2(call$2(cn,sn)):new AsyncFromSyncIterator$1(getIterator$1(sn))},aCallable$2=aCallable$g,anObject$1=anObject$f,getIteratorDirect$1=function(sn){return{iterator:sn,next:aCallable$2(anObject$1(sn).next)}},call$1=functionCall,getBuiltIn$3=getBuiltIn$g,getMethod$1=getMethod$7,asyncIteratorClose=function(sn,ln,cn,dn){try{var pn=getMethod$1(sn,"return");if(pn)return getBuiltIn$3("Promise").resolve(call$1(pn,sn)).then(function(){ln(cn)},function(vn){dn(vn)})}catch(vn){return dn(vn)}ln(cn)},call=functionCall,aCallable$1=aCallable$g,anObject=anObject$f,doesNotExceedSafeInteger=doesNotExceedSafeInteger$7,getBuiltIn$2=getBuiltIn$g,getIteratorDirect=getIteratorDirect$1,closeAsyncIteration=asyncIteratorClose,createMethod=function(sn){var ln=sn==0,cn=sn==1,dn=sn==2,pn=sn==3;return function(vn,Sn,En){var Cn=getIteratorDirect(vn),Pn=getBuiltIn$2("Promise"),Rn=Cn.iterator,Ln=Cn.next,Fn=0,Gn=Sn!==void 0;return(Gn||!ln)&&aCallable$1(Sn),new Pn(function(Dn,Kn){var qn=function(Yn){closeAsyncIteration(Rn,Kn,Yn,Kn)},Zn=function(){try{if(ln&&Gn)try{doesNotExceedSafeInteger(Fn)}catch(Yn){qn(Yn)}Pn.resolve(anObject(call(Ln,Rn))).then(function(Yn){try{if(anObject(Yn).done)ln?(En.length=Fn,Dn(En)):Dn(pn?!1:dn||void 0);else{var Jn=Yn.value;try{Gn?Pn.resolve(ln?Sn(Jn,Fn):Sn(Jn)).then(function(rs){if(cn)Zn();else if(dn)rs?Zn():closeAsyncIteration(Rn,Dn,!1,Kn);else if(ln)try{En[Fn++]=rs,Zn()}catch(us){qn(us)}else rs?closeAsyncIteration(Rn,Dn,pn||Jn,Kn):Zn()},qn):(En[Fn++]=Jn,Zn())}catch(rs){qn(rs)}}}catch(rs){Kn(rs)}},Kn)}catch(Yn){Kn(Yn)}};Zn()})}},asyncIteratorIteration={toArray:createMethod(0),forEach:createMethod(1),every:createMethod(2),some:createMethod(3),find:createMethod(4)},bind=functionBindContext,toObject$3=toObject$m,isConstructor=isConstructor$6,getAsyncIterator=getAsyncIterator$1,getIterator=getIterator$4,getIteratorMethod=getIteratorMethod$4,getMethod=getMethod$7,getVirtual=entryVirtual,getBuiltIn$1=getBuiltIn$g,wellKnownSymbol=wellKnownSymbol$m,AsyncFromSyncIterator=asyncFromSyncIterator,toArray=asyncIteratorIteration.toArray,ASYNC_ITERATOR=wellKnownSymbol("asyncIterator"),arrayIterator=getVirtual("Array").values,arrayFromAsync=function sn(ln){var cn=this,dn=arguments.length,pn=dn>1?arguments[1]:void 0,vn=dn>2?arguments[2]:void 0;return new(getBuiltIn$1("Promise"))(function(Sn){var En=toObject$3(ln);pn!==void 0&&(pn=bind(pn,vn));var Cn=getMethod(En,ASYNC_ITERATOR),Pn=Cn?void 0:getIteratorMethod(En)||arrayIterator,Rn=isConstructor(cn)?new cn:[],Ln=Cn?getAsyncIterator(En,Cn):new AsyncFromSyncIterator(getIterator(En,Pn));Sn(toArray(Ln,pn,Rn))})},$$4=_export,fromAsync=arrayFromAsync;$$4({target:"Array",stat:!0,forced:!0},{fromAsync});var $$3=_export,$filterReject$1=arrayIteration.filterReject,addToUnscopables$4=addToUnscopables$n;$$3({target:"Array",proto:!0,forced:!0},{filterOut:function sn(ln){return $filterReject$1(this,ln,arguments.length>1?arguments[1]:void 0)}});addToUnscopables$4("filterOut");var $$2=_export,$filterReject=arrayIteration.filterReject,addToUnscopables$3=addToUnscopables$n;$$2({target:"Array",proto:!0,forced:!0},{filterReject:function sn(ln){return $filterReject(this,ln,arguments.length>1?arguments[1]:void 0)}});addToUnscopables$3("filterReject");var $$1=_export,isArray=isArray$7,isFrozen=Object.isFrozen,isFrozenStringArray=function(sn,ln){if(!isFrozen||!isArray(sn)||!isFrozen(sn))return!1;for(var cn=0,dn=sn.length,pn;cn<dn;)if(pn=sn[cn++],!(typeof pn=="string"||ln&&typeof pn>"u"))return!1;return dn!==0};$$1({target:"Array",stat:!0,sham:!0,forced:!0},{isTemplateObject:function sn(ln){if(!isFrozenStringArray(ln,!0))return!1;var cn=ln.raw;return cn.length===ln.length&&isFrozenStringArray(cn,!1)}});var makeBuiltIn=makeBuiltIn$3.exports,defineProperty=objectDefineProperty,defineBuiltInAccessor$2=function(sn,ln,cn){return cn.get&&makeBuiltIn(cn.get,ln,{getter:!0}),cn.set&&makeBuiltIn(cn.set,ln,{setter:!0}),defineProperty.f(sn,ln,cn)},DESCRIPTORS$1=descriptors,addToUnscopables$2=addToUnscopables$n,toObject$2=toObject$m,lengthOfArrayLike$2=lengthOfArrayLike$t,defineBuiltInAccessor$1=defineBuiltInAccessor$2;DESCRIPTORS$1&&(defineBuiltInAccessor$1(Array.prototype,"lastItem",{configurable:!0,get:function(){var ln=toObject$2(this),cn=lengthOfArrayLike$2(ln);return cn==0?void 0:ln[cn-1]},set:function(ln){var cn=toObject$2(this),dn=lengthOfArrayLike$2(cn);return cn[dn==0?0:dn-1]=ln}}),addToUnscopables$2("lastItem"));var DESCRIPTORS=descriptors,addToUnscopables$1=addToUnscopables$n,toObject$1=toObject$m,lengthOfArrayLike$1=lengthOfArrayLike$t,defineBuiltInAccessor=defineBuiltInAccessor$2;DESCRIPTORS&&(defineBuiltInAccessor(Array.prototype,"lastIndex",{configurable:!0,get:function(){var ln=toObject$1(this),cn=lengthOfArrayLike$1(ln);return cn==0?0:cn-1}}),addToUnscopables$1("lastIndex"));var getBuiltIn=getBuiltIn$g,uncurryThis=functionUncurryThis,aCallable=aCallable$g,lengthOfArrayLike=lengthOfArrayLike$t,toObject=toObject$m,arraySpeciesCreate=arraySpeciesCreate$6,Map$1=getBuiltIn("Map"),MapPrototype=Map$1.prototype,mapForEach=uncurryThis(MapPrototype.forEach),mapHas=uncurryThis(MapPrototype.has),mapSet=uncurryThis(MapPrototype.set),push=uncurryThis([].push),arrayUniqueBy=function sn(ln){var cn=toObject(this),dn=lengthOfArrayLike(cn),pn=arraySpeciesCreate(cn,0),vn=new Map$1,Sn=ln!=null?aCallable(ln):function(Rn){return Rn},En,Cn,Pn;for(En=0;En<dn;En++)Cn=cn[En],Pn=Sn(Cn),mapHas(vn,Pn)||mapSet(vn,Pn,Cn);return mapForEach(vn,function(Rn){push(pn,Rn)}),pn},$=_export,addToUnscopables=addToUnscopables$n,uniqueBy=arrayUniqueBy;$({target:"Array",proto:!0,forced:!0},{uniqueBy});addToUnscopables("uniqueBy");var parent=array$1,array=parent;(function(sn){sn.exports=array})(array$4);var Timer=function(){function sn(ln){var cn=ln.timeout,dn=ln.callback;this.timeout=Math.max(cn,0),this.callback=dn}return sn.prototype.start=function(){this.timeoutId=setTimeout(this.callback,this.timeout)},sn.prototype.refresh=function(){this.stop(),this.start()},sn.prototype.stop=function(){this.timeoutId&&clearTimeout(this.timeoutId)},sn}(),DefaultEventQueue=function(){function sn(ln,cn,dn){this.buffer=[],this.sink=ln,this.maxQueueSize=cn,this.timer=new Timer({callback:this.flush.bind(this),timeout:dn}),this.started=!1}return sn.prototype.start=function(){this.started=!0},sn.prototype.stop=function(){this.started=!1;var ln=this.sink(this.buffer,!0);return this.buffer=[],this.timer.stop(),ln},sn.prototype.enqueue=function(ln){this.started&&(this.buffer.length===0&&this.timer.refresh(),this.buffer.push(ln),this.buffer.length>=this.maxQueueSize&&this.flush())},sn.prototype.flush=function(){this.sink(this.buffer),this.buffer=[],this.timer.stop()},sn.prototype.close=function(){this.stop()},sn}(),DefaultEventProcessor=function(){function sn(ln,cn,dn,pn){pn===void 0&&(pn=null),this.eventDispatcher=ln,this.flushInterval=dn,this.queue=new DefaultEventQueue(this.drainQueue.bind(this),cn,dn),this.repository=pn}return sn.prototype.isClientError=function(ln){return!!(ln&&ln.statusCode>=400&&ln.statusCode<500)},sn.prototype.drainRepository=function(ln){var cn=this;return new Promise(function(dn){return __awaiter(cn,void 0,void 0,function(){var pn,vn=this,Sn;return __generator(this,function(En){switch(En.label){case 0:return[4,(Sn=this.repository)===null||Sn===void 0?void 0:Sn.read()];case 1:return pn=En.sent(),!pn||pn.length===0?(dn(),[2]):(ln?this.eventDispatcher.dispatchXhrOrBeacon(pn,function(){var Cn;dn((Cn=vn.repository)===null||Cn===void 0?void 0:Cn.delete(pn))},function(Cn){var Pn;if(vn.isClientError(Cn)){dn((Pn=vn.repository)===null||Pn===void 0?void 0:Pn.delete(pn));return}dn()}):this.eventDispatcher.dispatch(pn,function(){var Cn;dn((Cn=vn.repository)===null||Cn===void 0?void 0:Cn.delete(pn))},function(Cn){var Pn;if(vn.isClientError(Cn)){dn((Pn=vn.repository)===null||Pn===void 0?void 0:Pn.delete(pn));return}dn()}),[2])}})})})},sn.prototype.drainQueue=function(ln,cn){var dn=this,pn=ln.map(function(Sn){return Sn.toDto()}),vn=new Promise(function(Sn){return __awaiter(dn,void 0,void 0,function(){var En=this,Cn;return __generator(this,function(Pn){return ln.length===0?(Sn(),[2]):(cn?((Cn=this.repository)===null||Cn===void 0||Cn.add(pn),this.eventDispatcher.dispatchXhrOrBeacon(ln,function(){var Rn;Sn((Rn=En.repository)===null||Rn===void 0?void 0:Rn.delete(pn))},function(Rn){var Ln;if(En.isClientError(Rn)){Sn((Ln=En.repository)===null||Ln===void 0?void 0:Ln.delete(pn));return}Sn()})):this.eventDispatcher.dispatch(ln,function(){Sn()},function(Rn){var Ln;if(En.isClientError(Rn)){Sn();return}Sn((Ln=En.repository)===null||Ln===void 0?void 0:Ln.add(pn))}),[2])})})});return vn},sn.prototype.process=function(ln){this.queue.enqueue(ln)},sn.prototype.start=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(ln){return this.queue.start(),[2]})})},sn.prototype.stop=function(){try{this.queue.close()}catch{}return Promise.resolve()},sn.prototype.flush=function(){this.queue.flush()},sn.prototype.close=function(){this.stop()},sn}(),decorateEventWithSession=function(sn,ln){var cn;if(ln.currentSessionId===null)return sn;if(!sn.user.identifiers[IdentifierType.SESSION]){var dn=sn.copyWithUser(__assign$1(__assign$1({},sn.user),{identifiers:__assign$1(__assign$1({},sn.user.identifiers),(cn={},cn[IdentifierType.SESSION]=ln.sessionId,cn))}));return dn}return sn},SessionEventTracker=function(){function sn(ln,cn){this.hackleUserResolver=ln,this.core=cn}return sn.isSessionEvent=function(ln){return Event$1.isTrack(ln)?ln.event.key===sn.SESSION_START_EVENT_NAME||ln.event.key===sn.SESSION_END_EVENT_NAME:!1},sn.prototype.onSessionStarted=function(ln,cn,dn){this.track(sn.SESSION_START_EVENT_NAME,ln,cn,dn)},sn.prototype.onSessionEnded=function(ln,cn,dn){this.track(sn.SESSION_END_EVENT_NAME,ln,cn,dn)},sn.prototype.track=function(ln,cn,dn,pn){var vn={key:ln,properties:{sessionId:cn}},Sn=this.hackleUserResolver.resolve(dn),En=this.decorateSession(Sn,cn);this.core.track(vn,En,pn)},sn.prototype.decorateSession=function(ln,cn){var dn=new IdentifiersBuilder().add(IdentifierType.SESSION,cn).addIdentifiers(ln.identifiers).build();return __assign$1(__assign$1({},ln),{identifiers:dn})},sn.SESSION_START_EVENT_NAME="$session_start",sn.SESSION_END_EVENT_NAME="$session_end",sn}(),EventProcessorImpl=function(){function sn(ln,cn,dn,pn){this.delegate=ln,this.exposureEventDedupDeterminer=cn,this.sessionManager=dn,this.userManager=pn}return sn.prototype.process=function(ln){if(SessionEventTracker.isSessionEvent(ln)||this.sessionManager.startNewSessionIfNeeded(this.userManager.currentUser,ln.timestamp),!this.exposureEventDedupDeterminer.isDedupTarget(ln)){var cn=decorateEventWithSession(ln,this.sessionManager);this.delegate.process(cn)}},sn.prototype.close=function(){this.delegate.close()},sn.prototype.flush=function(){this.delegate.flush()},sn.prototype.start=function(){return this.delegate.start()},sn}(),ExposureEventDedupDeterminer=function(){function sn(ln){this.cache=new Map,this.exposureEventDedupIntervalMillis=ln}return sn.prototype.isDedupTarget=function(ln){var cn;if(this.exposureEventDedupIntervalMillis===-1||!Event$1.isExposure(ln))return!1;IdentifierUtil.isEquals(ln.user.identifiers,(cn=this.currentUser)===null||cn===void 0?void 0:cn.identifiers)||(this.currentUser=ln.user,this.cache=new Map);var dn=[ln.experiment.id,ln.variationId,ln.variationKey,ln.decisionReason].join("-"),pn=new Date().getTime(),vn=this.cache.get(dn);return vn!==void 0&&pn-vn<=this.exposureEventDedupIntervalMillis?!0:(this.cache.set(dn,pn),!1)},sn}(),TraceTransformer=function(){function sn(){}return sn.toEvent=function(ln){var cn;return{key:sn.EVENT_KEY,properties:{level:sn.LEVEL_ERROR,type:ln.name,message:(cn=ln.message)!==null&&cn!==void 0?cn:"",$stacktrace:sn._stacktrace(ln)}}},sn._stacktrace=function(ln){return ObjectUtil$1.isNullOrUndefined(ln.stack)?"":ln.stack.split(`
`).slice(0,sn.STACK_TRACK_LIMIT).join(`
`)},sn.EVENT_KEY="$trace",sn.LEVEL_ERROR="error",sn.STACK_TRACK_LIMIT=30,sn}(),ContextualEvaluator=function(){function sn(){}return sn.prototype.evaluate=function(ln,cn){if(!this.supports(ln))throw new Error("Unsupported EvaluatorRequest ".concat(ln.toString()));if(cn.contains(ln)){var dn=cn.stack.map(function(pn){return pn.toString()}).join(" - ");throw new Error("Circular evaluation has occurred [".concat(dn," - ").concat(ln.toString(),"]"))}cn.addRequest(ln);try{return this.evaluateInternal(ln,cn)}finally{cn.removeRequest(ln)}},sn}(),ExperimentEvaluator=function(sn){__extends$1(ln,sn);function ln(cn){var dn=sn.call(this)||this;return dn.evaluationFlowFactory=cn,dn}return ln.prototype.supports=function(cn){return cn.experiment!==void 0},ln.prototype.evaluateInternal=function(cn,dn){var pn=this.evaluationFlowFactory.getFlow(cn.experiment.type);return pn.evaluate(cn,dn)},ln}(ContextualEvaluator),RemoteConfigEvaluation=function(){function sn(ln,cn,dn,pn,vn,Sn){this.reason=ln,this.targetEvaluations=cn,this.parameter=dn,this.valueId=pn,this.value=vn,this.properties=Sn}return sn.of=function(ln,cn,dn,pn,vn,Sn){return Sn.returnValue=pn,new sn(vn,cn.targetEvaluations,ln.parameter,dn,pn,Sn)},sn.ofDefault=function(ln,cn,dn,pn){return this.of(ln,cn,void 0,ln.defaultValue,dn,pn)},sn}(),RemoteConfigEvaluator=function(sn){__extends$1(ln,sn);function ln(cn){var dn=sn.call(this)||this;return dn.targetRuleDeterminer=cn,dn}return ln.prototype.supports=function(cn){return cn.parameter!==void 0},ln.prototype.evaluateInternal=function(cn,dn){var pn={};if(pn.requestValueType=cn.requiredType,pn.requestDefaultValue=cn.defaultValue,ObjectUtil$1.isNullOrUndefined(cn.user.identifiers[cn.parameter.identifierType]))return RemoteConfigEvaluation.ofDefault(cn,dn,DecisionReason.IDENTIFIER_NOT_FOUND,pn);var vn=this.targetRuleDeterminer.determineTargetRuleOrNull(cn,dn);return ObjectUtil$1.isNotNullOrUndefined(vn)?(pn.targetRuleKey=vn.key,pn.targetRuleName=vn.name,this.evaluation(cn,dn,vn.value,DecisionReason.TARGET_RULE_MATCH,pn)):this.evaluation(cn,dn,cn.parameter.defaultValue,DecisionReason.DEFAULT_RULE,pn)},ln.prototype.evaluation=function(cn,dn,pn,vn,Sn){return cn.requiredType==="UNKNOWN"||cn.requiredType!=="NULL"&&typeof cn.defaultValue!=typeof pn.rawValue?RemoteConfigEvaluation.ofDefault(cn,dn,DecisionReason.TYPE_MISMATCH,Sn):RemoteConfigEvaluation.of(cn,dn,pn.id,pn.rawValue,vn,Sn)},ln}(ContextualEvaluator),ExperimentEvaluation=function(){function sn(ln,cn,dn,pn,vn,Sn){this.reason=ln,this.targetEvaluations=cn,this.experiment=dn,this.variationId=pn,this.variationKey=vn,this.config=Sn}return sn.prototype.with=function(ln){return new sn(ln,this.targetEvaluations,this.experiment,this.variationId,this.variationKey,this.config)},sn.of=function(ln,cn,dn,pn){var vn=this.config(ln.workspace,dn);return new sn(pn,cn.targetEvaluations,ln.experiment,dn.id,dn.key,vn)},sn.ofDefault=function(ln,cn,dn){var pn=ln.experiment._getVariationByKeyOrNull(ln.defaultVariationKey);return ObjectUtil$1.isNotNullOrUndefined(pn)?this.of(ln,cn,pn,dn):new sn(dn,cn.targetEvaluations,ln.experiment,void 0,ln.defaultVariationKey,void 0)},sn.config=function(ln,cn){if(!ObjectUtil$1.isNullOrUndefined(cn.parameterConfigurationId))return ObjectUtil$1.requiredNotNullOrUndefined(ln.getParameterConfigurationOrNull(cn.parameterConfigurationId),function(){return"ParameterConfiguration[".concat(cn.parameterConfigurationId,"]")})},sn}(),EvaluatorKey=function(){function sn(ln,cn){this.type=ln,this.id=cn}return sn.prototype.isEquals=function(ln){return this.type===ln.type&&this.id===ln.id},sn}(),EvaluatorContext=function(){function sn(){this._stack=[],this._targetEvaluations=[]}return sn.create=function(){return new sn},Object.defineProperty(sn.prototype,"stack",{get:function(){return Array.from(this._stack)},enumerable:!1,configurable:!0}),Object.defineProperty(sn.prototype,"targetEvaluations",{get:function(){return Array.from(this._targetEvaluations)},enumerable:!1,configurable:!0}),sn.prototype.contains=function(ln){return this._stack.some(function(cn){return cn.key.isEquals(ln.key)})},sn.prototype.addRequest=function(ln){this._stack.push(ln)},sn.prototype.removeRequest=function(ln){var cn=this._stack.indexOf(ln,0);cn>-1&&this._stack.splice(cn,1)},sn.prototype.get=function(ln){return this._targetEvaluations.find(function(cn){return cn instanceof ExperimentEvaluation&&cn.experiment.id===ln.id})},sn.prototype.addEvaluation=function(ln){this._targetEvaluations.push(ln)},sn}(),ExperimentRequest=function(){function sn(ln,cn,dn,pn){this.key=new EvaluatorKey("EXPERIMENT",dn.id),this.workspace=ln,this.user=cn,this.experiment=dn,this.defaultVariationKey=pn}return sn.of=function(ln,cn,dn,pn){return new sn(ln,cn,dn,pn)},sn.by=function(ln,cn){return new sn(ln.workspace,ln.user,cn,"A")},sn.prototype.toString=function(){return"EvaluatorRequest(type=".concat(this.experiment.type,", key=").concat(this.experiment.key,")")},sn}(),RemoteConfigRequest=function(){function sn(ln,cn,dn,pn,vn){this.key=new EvaluatorKey("REMOTE_CONFIG",dn.id),this.workspace=ln,this.user=cn,this.parameter=dn,this.requiredType=pn,this.defaultValue=vn}return sn.of=function(ln,cn,dn,pn,vn){return new sn(ln,cn,dn,pn,vn)},sn.prototype.toString=function(){return"EvaluatorRequest(type=".concat(this.key.type,", key=").concat(this.parameter.key,")")},sn}(),TypeUtil=function(){function sn(){}return sn.asString=function(ln){switch(typeof ln){case"string":return ln;case"number":return ln.toString();default:return}},sn.asNumber=function(ln){switch(typeof ln){case"number":return this.asActualNumber(ln);case"string":return this.asActualNumber(Number(ln));default:return}},sn.asActualNumber=function(ln){if(!isNaN(ln)&&isFinite(ln))return ln},sn}(),DelegatingManualOverrideStorage=function(){function sn(ln){this.storages=ln}return sn.prototype.getVariation=function(ln,cn){if(this.storages.length!==0)for(var dn=0,pn=this.storages;dn<pn.length;dn++){var vn=pn[dn],Sn=vn.getVariation(ln,cn);if(Sn!==void 0)return Sn}},sn}(),HackleUserManualOverrideStorage=function(){function sn(ln){this.listStorage=ln}return sn.prototype.getVariation=function(ln,cn){var dn=this.get(ln);if(dn)return ln._getVariationByIdOrNull(dn)},sn.prototype.get=function(ln){var cn=this.listStorage.getItem(ln.id.toString());return TypeUtil.asNumber(cn)},sn.prototype.getAll=function(){var ln=new Map;return this.listStorage.entries().forEach(function(cn){var dn=cn[0],pn=cn[1],vn=TypeUtil.asNumber(dn),Sn=TypeUtil.asNumber(pn);ObjectUtil$1.isNullOrUndefined(vn)||vn<0||ObjectUtil$1.isNullOrUndefined(Sn)||vn<0||ln.set(vn,Sn)}),ln},sn.prototype.set=function(ln,cn){this.listStorage.setItem(ln.id.toString(),cn.toString())},sn.prototype.remove=function(ln){this.listStorage.removeItem(ln.id.toString())},sn.prototype.clear=function(){this.listStorage.clear()},sn}(),DelegatingEvaluator=function(){function sn(){this.evaluators=new Array}return sn.prototype.add=function(ln){this.evaluators.push(ln)},sn.prototype.evaluate=function(ln,cn){var dn=this.evaluators.find(function(pn){return pn.supports(ln)});if(ObjectUtil$1.isNullOrUndefined(dn))throw new Error("Unsupported EvaluatorRequest [".concat(ln.toString(),"]"));return dn.evaluate(ln,cn)},sn}(),TargetMatcher=function(){function sn(ln){this.conditionMatcherFactory=ln}return sn.prototype.matches=function(ln,cn,dn){var pn=this;return dn.conditions.every(function(vn){return pn._matches(ln,cn,vn)})},sn.prototype._matches=function(ln,cn,dn){var pn=this.conditionMatcherFactory.getMatcher(dn.key.type);return pn.matches(ln,cn,dn)},sn}(),ValueOperatorMatcher=function(){function sn(ln,cn){this.valueMatcherFactory=ln,this.operatorMatcherFactory=cn}return sn.prototype.matches=function(ln,cn){var dn=this.valueMatcherFactory.getMatcher(cn.valueType),pn=this.operatorMatcherFactory.getMatcher(cn.operator),vn=this.userValueMatches(ln,cn,dn,pn);return this.typeMatches(cn.type,vn)},sn.prototype.userValueMatches=function(ln,cn,dn,pn){return Array.isArray(ln)?this.arrayMatches(ln,cn,dn,pn):this.singleMatches(ln,cn,dn,pn)},sn.prototype.singleMatches=function(ln,cn,dn,pn){return cn.values.some(function(vn){return dn.matches(pn,ln,vn)})},sn.prototype.arrayMatches=function(ln,cn,dn,pn){var vn=this;return ln.some(function(Sn){return vn.singleMatches(Sn,cn,dn,pn)})},sn.prototype.typeMatches=function(ln,cn){switch(ln){case"MATCH":return cn;case"NOT_MATCH":return!cn}},sn}(),InMatcher=function(){function sn(){}return sn.prototype.booleanMatches=function(ln,cn){return ln===cn},sn.prototype.numberMatches=function(ln,cn){return ln===cn},sn.prototype.stringMatches=function(ln,cn){return ln===cn},sn.prototype.versionMatches=function(ln,cn){return ln.isEqualTo(cn)},sn}(),ContainsMatcher=function(){function sn(){}return sn.prototype.booleanMatches=function(ln,cn){return!1},sn.prototype.numberMatches=function(ln,cn){return!1},sn.prototype.stringMatches=function(ln,cn){return ln.includes(cn)},sn.prototype.versionMatches=function(ln,cn){return!1},sn}(),StartsWithMatcher=function(){function sn(){}return sn.prototype.booleanMatches=function(ln,cn){return!1},sn.prototype.numberMatches=function(ln,cn){return!1},sn.prototype.stringMatches=function(ln,cn){return ln.startsWith(cn)},sn.prototype.versionMatches=function(ln,cn){return!1},sn}(),EndsWithMatcher=function(){function sn(){}return sn.prototype.booleanMatches=function(ln,cn){return!1},sn.prototype.numberMatches=function(ln,cn){return!1},sn.prototype.stringMatches=function(ln,cn){return ln.endsWith(cn)},sn.prototype.versionMatches=function(ln,cn){return!1},sn}(),GreaterThanMatcher=function(){function sn(){}return sn.prototype.booleanMatches=function(ln,cn){return!1},sn.prototype.numberMatches=function(ln,cn){return ln>cn},sn.prototype.stringMatches=function(ln,cn){return ln>cn},sn.prototype.versionMatches=function(ln,cn){return ln.isGreaterThan(cn)},sn}(),GreaterThanOrEqualToMatcher=function(){function sn(){}return sn.prototype.booleanMatches=function(ln,cn){return!1},sn.prototype.numberMatches=function(ln,cn){return ln>=cn},sn.prototype.stringMatches=function(ln,cn){return ln>=cn},sn.prototype.versionMatches=function(ln,cn){return ln.isGreaterThanOrEqualTo(cn)},sn}(),LessThanMatcher=function(){function sn(){}return sn.prototype.booleanMatches=function(ln,cn){return!1},sn.prototype.numberMatches=function(ln,cn){return ln<cn},sn.prototype.stringMatches=function(ln,cn){return ln<cn},sn.prototype.versionMatches=function(ln,cn){return ln.isLessThan(cn)},sn}(),LessThanOrEqualToMatcher=function(){function sn(){}return sn.prototype.booleanMatches=function(ln,cn){return!1},sn.prototype.numberMatches=function(ln,cn){return ln<=cn},sn.prototype.stringMatches=function(ln,cn){return ln<=cn},sn.prototype.versionMatches=function(ln,cn){return ln.isLessThanOrEqualTo(cn)},sn}(),OperatorMatcherFactory=function(){function sn(){}return sn.prototype.getMatcher=function(ln){switch(ln){case"IN":return sn.IN_MATCHER;case"CONTAINS":return sn.CONTAINS_MATCHER;case"STARTS_WITH":return sn.STARTS_WITH_MATCHER;case"ENDS_WITH":return sn.ENDS_WITH_MATCHER;case"GT":return sn.GT_MATCHER;case"GTE":return sn.GTE_MATCHER;case"LT":return sn.LT_MATCHER;case"LTE":return sn.LTE_MATCHER}},sn.IN_MATCHER=new InMatcher,sn.CONTAINS_MATCHER=new ContainsMatcher,sn.STARTS_WITH_MATCHER=new StartsWithMatcher,sn.ENDS_WITH_MATCHER=new EndsWithMatcher,sn.GT_MATCHER=new GreaterThanMatcher,sn.GTE_MATCHER=new GreaterThanOrEqualToMatcher,sn.LT_MATCHER=new LessThanMatcher,sn.LTE_MATCHER=new LessThanOrEqualToMatcher,sn}(),StringMatcher=function(){function sn(){}return sn.prototype.matches=function(ln,cn,dn){var pn=TypeUtil.asString(cn),vn=TypeUtil.asString(dn);return ObjectUtil$1.isNullOrUndefined(pn)||ObjectUtil$1.isNullOrUndefined(vn)?!1:ln.stringMatches(pn,vn)},sn}(),NumberMatcher=function(){function sn(){}return sn.prototype.matches=function(ln,cn,dn){var pn=TypeUtil.asNumber(cn),vn=TypeUtil.asNumber(dn);return ObjectUtil$1.isNullOrUndefined(pn)||ObjectUtil$1.isNullOrUndefined(vn)?!1:ln.numberMatches(pn,vn)},sn}(),BooleanMatcher=function(){function sn(){}return sn.prototype.matches=function(ln,cn,dn){return typeof cn=="boolean"&&typeof dn=="boolean"?ln.booleanMatches(cn,dn):!1},sn}(),VersionMatcher=function(){function sn(){}return sn.prototype.matches=function(ln,cn,dn){var pn=Version.tryParse(cn),vn=Version.tryParse(dn);return pn&&vn?ln.versionMatches(pn,vn):!1},sn}(),NullMatcher=function(){function sn(){}return sn.prototype.matches=function(ln,cn,dn){return!1},sn}(),ValueMatcherFactory=function(){function sn(){}return sn.prototype.getMatcher=function(ln){switch(ln){case"STRING":return sn.STRING_MATCHER;case"JSON":return sn.STRING_MATCHER;case"NUMBER":return sn.NUMBER_MATCHER;case"BOOLEAN":return sn.BOOLEAN_MATCHER;case"VERSION":return sn.VERSION_MATCHER;case"NULL":return sn.NULL_MATCHER;case"UNKNOWN":return sn.NULL_MATCHER}},sn.STRING_MATCHER=new StringMatcher,sn.NUMBER_MATCHER=new NumberMatcher,sn.BOOLEAN_MATCHER=new BooleanMatcher,sn.VERSION_MATCHER=new VersionMatcher,sn.NULL_MATCHER=new NullMatcher,sn}(),UserConditionMatcher=function(){function sn(ln,cn){this.userValueResolver=ln,this.valueOperatorMatcher=cn}return sn.prototype.matches=function(ln,cn,dn){var pn=this.userValueResolver.resolveOrNull(ln.user,dn.key);return ObjectUtil$1.isNullOrUndefined(pn)?!1:this.valueOperatorMatcher.matches(pn,dn.match)},sn}(),UserValueResolver=function(){function sn(){}return sn.prototype.resolveOrNull=function(ln,cn){switch(cn.type){case"USER_ID":return ln.identifiers[cn.name];case"USER_PROPERTY":return ln.properties[cn.name];case"HACKLE_PROPERTY":return ln.hackleProperties[cn.name];case"SEGMENT":case"AB_TEST":case"FEATURE_FLAG":throw new Error("Unsupported TargetKeyType [".concat(cn.type,"]"))}},sn}(),SegmentConditionMatcher=function(){function sn(ln){this.segmentMatcher=ln}return sn.prototype.matches=function(ln,cn,dn){var pn=this;if(dn.key.type!="SEGMENT")throw new Error("Unsupported TargetKeyType [".concat(dn.key.type,"]"));var vn=dn.match.values.some(function(Sn){return pn._matches(ln,cn,Sn)});switch(dn.match.type){case"MATCH":return vn;case"NOT_MATCH":return!vn}},sn.prototype._matches=function(ln,cn,dn){if(typeof dn!="string")throw new Error("SegmentKey[".concat(dn,"]"));var pn=ln.workspace.getSegmentOrNull(dn);if(!pn)throw new Error("Segment[".concat(dn,"]"));return this.segmentMatcher.matches(ln,cn,pn)},sn}(),SegmentMatcher=function(){function sn(ln){this.userConditionMatcher=ln}return sn.prototype.matches=function(ln,cn,dn){var pn=this;return dn.targets.some(function(vn){return pn._matches(ln,cn,vn)})},sn.prototype._matches=function(ln,cn,dn){var pn=this;return dn.conditions.every(function(vn){return pn.userConditionMatcher.matches(ln,cn,vn)})},sn}(),ExperimentConditionMatcher=function(){function sn(ln,cn){this.abTestMatcher=ln,this.featureFlagMatcher=cn}return sn.prototype.matches=function(ln,cn,dn){switch(dn.key.type){case"AB_TEST":return this.abTestMatcher.matches(ln,cn,dn);case"FEATURE_FLAG":return this.featureFlagMatcher.matches(ln,cn,dn);case"USER_ID":case"USER_PROPERTY":case"HACKLE_PROPERTY":case"SEGMENT":throw new Error("Unsupported TargetKeyType [".concat(dn.key.type,"]"))}},sn}(),ExperimentMatcher=function(){function sn(ln,cn){this.evaluator=ln,this.valueOperatorMatcher=cn}return sn.prototype.matches=function(ln,cn,dn){var pn,vn=ObjectUtil$1.requiredNotNullOrUndefined(TypeUtil.asNumber(dn.key.name),function(){return"Invalid key [".concat(dn.key.type,", ").concat(dn.key.name,"]")}),Sn=this.experiment(ln,vn);if(ObjectUtil$1.isNullOrUndefined(Sn))return!1;var En=(pn=cn.get(Sn))!==null&&pn!==void 0?pn:this.evaluate(ln,cn,Sn);return this.evaluationMatches(En,dn)},sn.prototype.evaluate=function(ln,cn,dn){var pn=ExperimentRequest.by(ln,dn),vn=this.evaluator.evaluate(pn,cn),Sn=this.resolve(ln,vn);return cn.addEvaluation(Sn),Sn},sn}(),AbTestConditionMatcher=function(sn){__extends$1(ln,sn);function ln(cn,dn){return sn.call(this,cn,dn)||this}return ln.prototype.experiment=function(cn,dn){return cn.workspace.getExperimentOrNull(dn)},ln.prototype.resolve=function(cn,dn){return cn instanceof ExperimentRequest&&dn.reason===DecisionReason.TRAFFIC_ALLOCATED?dn.with(DecisionReason.TRAFFIC_ALLOCATED_BY_TARGETING):dn},ln.prototype.evaluationMatches=function(cn,dn){return ln.AB_TEST_MATCHED_REASONS.includes(cn.reason)?this.valueOperatorMatcher.matches(cn.variationKey,dn.match):!1},ln.AB_TEST_MATCHED_REASONS=[DecisionReason.OVERRIDDEN,DecisionReason.TRAFFIC_ALLOCATED,DecisionReason.EXPERIMENT_COMPLETED,DecisionReason.TRAFFIC_ALLOCATED_BY_TARGETING],ln}(ExperimentMatcher),FeatureFlagConditionMatcher=function(sn){__extends$1(ln,sn);function ln(cn,dn){return sn.call(this,cn,dn)||this}return ln.prototype.experiment=function(cn,dn){return cn.workspace.getFeatureFlagOrNull(dn)},ln.prototype.resolve=function(cn,dn){return dn},ln.prototype.evaluationMatches=function(cn,dn){var pn=cn.variationKey!=="A";return this.valueOperatorMatcher.matches(pn,dn.match)},ln}(ExperimentMatcher),ConditionMatcherFactory=function(){function sn(ln){var cn=new ValueOperatorMatcher(new ValueMatcherFactory,new OperatorMatcherFactory),dn=new UserConditionMatcher(new UserValueResolver,cn);this.userConditionMatcher=dn,this.segmentConditionMatcher=new SegmentConditionMatcher(new SegmentMatcher(dn)),this.experimentConditionMatcher=new ExperimentConditionMatcher(new AbTestConditionMatcher(ln,cn),new FeatureFlagConditionMatcher(ln,cn))}return sn.prototype.getMatcher=function(ln){switch(ln){case"USER_ID":case"USER_PROPERTY":case"HACKLE_PROPERTY":return this.userConditionMatcher;case"SEGMENT":return this.segmentConditionMatcher;case"AB_TEST":case"FEATURE_FLAG":return this.experimentConditionMatcher}},sn}(),ActionResolver=function(){function sn(ln){this.bucketer=ln}return sn.prototype.resolveOrNull=function(ln,cn,dn){switch(dn.type){case"VARIATION":return this.resolveVariation(ln,dn);case"BUCKET":return this.resolveBucket(ln,dn)}},sn.prototype.resolveVariation=function(ln,cn){return ln.experiment._getVariationByIdOrNull(cn.variationId)},sn.prototype.resolveBucket=function(ln,cn){var dn=ln.workspace.getBucketOrNull(cn.bucketId),pn=ln.user.identifiers[ln.experiment.identifierType];if(pn){var vn=this.bucketer.bucketing(dn,pn);if(vn)return ln.experiment._getVariationByIdOrNull(vn.variationId)}},sn}(),Murmur3={murmurhash3_x86_32:function(sn,ln,cn,dn){dn===void 0&&(dn=sn.length);for(var pn=3432918353,vn=461845907,Sn=dn&-4,En=ln,Cn,Pn=0;Pn<Sn;Pn+=4)Cn=sn.charCodeAt(Pn)&255|(sn.charCodeAt(Pn+1)&255)<<8|(sn.charCodeAt(Pn+2)&255)<<16|(sn.charCodeAt(Pn+3)&255)<<24,Cn=this.mul32(Cn,pn),Cn=(Cn&131071)<<15|Cn>>>17,Cn=this.mul32(Cn,vn),En^=Cn,En=(En&524287)<<13|En>>>19,En=En*5+3864292196|0;switch(Cn=0,dn%4){case 3:Cn=(sn.charCodeAt(Sn+2)&255)<<16;case 2:Cn|=(sn.charCodeAt(Sn+1)&255)<<8;case 1:Cn|=sn.charCodeAt(Sn)&255,Cn=this.mul32(Cn,pn),Cn=(Cn&131071)<<15|Cn>>>17,Cn=this.mul32(Cn,vn),En^=Cn}return En^=dn,En^=En>>>16,En=this.mul32(En,2246822507),En^=En>>>13,En=this.mul32(En,3266489909),En^=En>>>16,En},mul32:function(sn,ln){var cn=ln&65535,dn=ln-cn;return(dn*sn|0)+(cn*sn|0)|0}},Bucketer=function(){function sn(){}return sn.prototype.bucketing=function(ln,cn){var dn=this.calculateSlotNumber(ln.seed,ln.slotSize,cn);return ln.slots.find(function(pn){return pn.contains(dn)})},sn.prototype.calculateSlotNumber=function(ln,cn,dn){var pn=Murmur3.murmurhash3_x86_32(dn,ln);return Math.abs(pn)%Math.abs(cn)},sn}(),EvaluationFlow=function(){function sn(ln,cn){ln===void 0&&(ln=void 0),cn===void 0&&(cn=void 0),this.flowEvaluator=ln,this.nextFlow=cn}return sn.prototype.evaluate=function(ln,cn){return this.flowEvaluator&&this.nextFlow?this.flowEvaluator.evaluate(ln,cn,this.nextFlow):ExperimentEvaluation.ofDefault(ln,cn,DecisionReason.TRAFFIC_NOT_ALLOCATED)},sn.of=function(){for(var ln=[],cn=0;cn<arguments.length;cn++)ln[cn]=arguments[cn];for(var dn=new sn,pn=0,vn=ln.reverse();pn<vn.length;pn++){var Sn=vn[pn];dn=new sn(Sn,dn)}return dn},sn}(),OverrideEvaluator=function(){function sn(ln){this.overrideResolver=ln}return sn.prototype.evaluate=function(ln,cn,dn){var pn=this.overrideResolver.resolveOrNull(ln,cn);if(pn)switch(ln.experiment.type){case"AB_TEST":return ExperimentEvaluation.of(ln,cn,pn,DecisionReason.OVERRIDDEN);case"FEATURE_FLAG":return ExperimentEvaluation.of(ln,cn,pn,DecisionReason.INDIVIDUAL_TARGET_MATCH)}else return dn.evaluate(ln,cn)},sn}(),DraftEvaluator=function(){function sn(){}return sn.prototype.evaluate=function(ln,cn,dn){return ln.experiment.status==="DRAFT"?ExperimentEvaluation.ofDefault(ln,cn,DecisionReason.EXPERIMENT_DRAFT):dn.evaluate(ln,cn)},sn}(),PausedEvaluator=function(){function sn(){}return sn.prototype.evaluate=function(ln,cn,dn){if(ln.experiment.status==="PAUSED")switch(ln.experiment.type){case"AB_TEST":return ExperimentEvaluation.ofDefault(ln,cn,DecisionReason.EXPERIMENT_PAUSED);case"FEATURE_FLAG":return ExperimentEvaluation.ofDefault(ln,cn,DecisionReason.FEATURE_FLAG_INACTIVE)}else return dn.evaluate(ln,cn)},sn}(),CompletedEvaluator=function(){function sn(){}return sn.prototype.evaluate=function(ln,cn,dn){if(ln.experiment.status==="COMPLETED"){var pn=ln.experiment._winnerVariationOrNull();if(!pn)throw new Error("winner variation [".concat(ln.experiment.id,"]"));return ExperimentEvaluation.of(ln,cn,pn,DecisionReason.EXPERIMENT_COMPLETED)}else return dn.evaluate(ln,cn)},sn}(),ExperimentTargetEvaluator=function(){function sn(ln){this.experimentTargetDeterminer=ln}return sn.prototype.evaluate=function(ln,cn,dn){if(ln.experiment.type!=="AB_TEST")throw new Error("experiment type must be AB_TEST [".concat(ln.experiment.id,"]"));var pn=this.experimentTargetDeterminer.isUserInExperimentTarget(ln,cn);return pn?dn.evaluate(ln,cn):ExperimentEvaluation.ofDefault(ln,cn,DecisionReason.NOT_IN_EXPERIMENT_TARGET)},sn}(),TrafficAllocateEvaluator=function(){function sn(ln){this.actionResolver=ln}return sn.prototype.evaluate=function(ln,cn,dn){if(ln.experiment.status!=="RUNNING")throw new Error("experiment status must be RUNNING [".concat(ln.experiment.id,"]"));if(ln.experiment.type!=="AB_TEST")throw new Error("experiment type must be AB_TEST [".concat(ln.experiment.id,"]"));var pn=this.actionResolver.resolveOrNull(ln,cn,ln.experiment.defaultRule);return pn?pn.isDropped?ExperimentEvaluation.ofDefault(ln,cn,DecisionReason.VARIATION_DROPPED):ExperimentEvaluation.of(ln,cn,pn,DecisionReason.TRAFFIC_ALLOCATED):ExperimentEvaluation.ofDefault(ln,cn,DecisionReason.TRAFFIC_NOT_ALLOCATED)},sn}(),TargetRuleEvaluator=function(){function sn(ln,cn){this.targetRuleDeterminer=ln,this.actionResolver=cn}return sn.prototype.evaluate=function(ln,cn,dn){if(ln.experiment.status!=="RUNNING")throw new Error("experiment status must be RUNNING [".concat(ln.experiment.id,"]"));if(ln.experiment.type!=="FEATURE_FLAG")throw new Error("experiment type must be FEATURE_FLAG [".concat(ln.experiment.id,"]"));if(!ln.user.identifiers[ln.experiment.identifierType])return dn.evaluate(ln,cn);var pn=this.targetRuleDeterminer.determineTargetRuleOrNull(ln,cn);if(!pn)return dn.evaluate(ln,cn);var vn=this.actionResolver.resolveOrNull(ln,cn,pn.action);if(!vn)throw new Error("FeatureFlag must decide the Variation [".concat(ln.experiment.id,"]"));return ExperimentEvaluation.of(ln,cn,vn,DecisionReason.TARGET_RULE_MATCH)},sn}(),DefaultRuleEvaluator=function(){function sn(ln){this.actionResolver=ln}return sn.prototype.evaluate=function(ln,cn,dn){if(ln.experiment.status!=="RUNNING")throw new Error("experiment status must be RUNNING [".concat(ln.experiment.id,"]"));if(ln.experiment.type!=="FEATURE_FLAG")throw new Error("experiment type must be FEATURE_FLAG [".concat(ln.experiment.id,"]"));if(!ln.user.identifiers[ln.experiment.identifierType])return ExperimentEvaluation.ofDefault(ln,cn,DecisionReason.DEFAULT_RULE);var pn=this.actionResolver.resolveOrNull(ln,cn,ln.experiment.defaultRule);if(!pn)throw new Error("FeatureFlag must decide the Variation [".concat(ln.experiment.id,"]"));return ExperimentEvaluation.of(ln,cn,pn,DecisionReason.DEFAULT_RULE)},sn}(),ContainerEvaluator=function(){function sn(ln){this.containerResolver=ln}return sn.prototype.evaluate=function(ln,cn,dn){var pn=ln.experiment.containerId;if(!pn)return dn.evaluate(ln,cn);var vn=ln.workspace.getContainerOrNull(pn);if(!vn)throw new Error("container[".concat(pn,"]"));var Sn=this.containerResolver.isUserInContainerGroup(ln,cn,vn);return Sn?dn.evaluate(ln,cn):ExperimentEvaluation.ofDefault(ln,cn,DecisionReason.NOT_IN_MUTUAL_EXCLUSION_EXPERIMENT)},sn}(),IdentifierEvaluator=function(){function sn(){}return sn.prototype.evaluate=function(ln,cn,dn){return ln.user.identifiers[ln.experiment.identifierType]?dn.evaluate(ln,cn):ExperimentEvaluation.ofDefault(ln,cn,DecisionReason.IDENTIFIER_NOT_FOUND)},sn}(),ExperimentTargetDeterminer=function(){function sn(ln){this.targetMatcher=ln}return sn.prototype.isUserInExperimentTarget=function(ln,cn){var dn=this;return ln.experiment.targetAudiences.length===0?!0:ln.experiment.targetAudiences.some(function(pn){return dn.targetMatcher.matches(ln,cn,pn)})},sn}(),TargetRuleDeterminer=function(){function sn(ln){this.targetMatcher=ln}return sn.prototype.determineTargetRuleOrNull=function(ln,cn){var dn=this;return ln.experiment.targetRules.find(function(pn){return dn.targetMatcher.matches(ln,cn,pn.target)})},sn}(),OverrideResolver=function(){function sn(ln,cn,dn){this.manualOverrideStorage=ln,this.targetMatcher=cn,this.actionResolver=dn}return sn.prototype.resolveOrNull=function(ln,cn){var dn,pn;return(pn=(dn=this.resolveManualOverride(ln))!==null&&dn!==void 0?dn:this._resolveUserOverride(ln))!==null&&pn!==void 0?pn:this._resolveSegmentOverride(ln,cn)},sn.prototype.resolveManualOverride=function(ln){return this.manualOverrideStorage.getVariation(ln.experiment,ln.user)},sn.prototype._resolveUserOverride=function(ln){var cn=ln.experiment,dn=ln.user.identifiers[cn.identifierType];if(dn){var pn=cn.userOverrides.get(dn);if(pn)return cn._getVariationByIdOrNull(pn)}},sn.prototype._resolveSegmentOverride=function(ln,cn){var dn=this,pn=ln.experiment.segmentOverrides.find(function(vn){return dn.targetMatcher.matches(ln,cn,vn.target)});if(pn)return this.actionResolver.resolveOrNull(ln,cn,pn.action)},sn}(),ContainerResolver=function(){function sn(ln){this.bucketer=ln}return sn.prototype.isUserInContainerGroup=function(ln,cn,dn){var pn=ln.user.identifiers[ln.experiment.identifierType];if(ObjectUtil$1.isNullOrUndefined(pn))return!1;var vn=ln.workspace.getBucketOrNull(dn.bucketId);if(ObjectUtil$1.isNullOrUndefined(vn))throw new Error("Bucket[".concat(dn.bucketId,"]"));var Sn=this.bucketer.bucketing(vn,pn);if(ObjectUtil$1.isNullOrUndefined(Sn))return!1;var En=dn.getGroupOrNull(Sn.variationId);if(ObjectUtil$1.isNullOrUndefined(En))throw new Error("ContainerGroup[".concat(Sn.variationId,"]"));return En.experiments.includes(ln.experiment.id)},sn}(),RemoteConfigParameterTargetRuleDeterminer=function(){function sn(ln,cn){this.targetMatcher=ln,this.bucketer=cn}return sn.prototype.determineTargetRuleOrNull=function(ln,cn){var dn=this;return ln.parameter.targetRules.find(function(pn){return dn.matches(ln,cn,pn)})},sn.prototype.matches=function(ln,cn,dn){if(!this.targetMatcher.matches(ln,cn,dn.target))return!1;var pn=ln.user.identifiers[ln.parameter.identifierType];if(ObjectUtil$1.isNullOrUndefined(pn))return!1;var vn=ln.workspace.getBucketOrNull(dn.bucketId);if(ObjectUtil$1.isNullOrUndefined(vn))throw new Error("bucket[".concat(dn.bucketId,"]"));return ObjectUtil$1.isNotNullOrUndefined(this.bucketer.bucketing(vn,pn))},sn}(),EvaluationFlowFactory=function(){function sn(ln,cn){var dn=new Bucketer,pn=new TargetMatcher(new ConditionMatcherFactory(ln)),vn=new ActionResolver(dn),Sn=new OverrideResolver(cn,pn,vn),En=new ContainerResolver(dn);this.abTestFlow=EvaluationFlow.of(new OverrideEvaluator(Sn),new IdentifierEvaluator,new ContainerEvaluator(En),new ExperimentTargetEvaluator(new ExperimentTargetDeterminer(pn)),new DraftEvaluator,new PausedEvaluator,new CompletedEvaluator,new TrafficAllocateEvaluator(vn)),this.featureFlagFlow=EvaluationFlow.of(new DraftEvaluator,new PausedEvaluator,new CompletedEvaluator,new OverrideEvaluator(Sn),new IdentifierEvaluator,new TargetRuleEvaluator(new TargetRuleDeterminer(pn),vn),new DefaultRuleEvaluator(vn)),this.remoteConfigParameterTargetRuleDeterminer=new RemoteConfigParameterTargetRuleDeterminer(pn,dn)}return sn.prototype.getFlow=function(ln){switch(ln){case"AB_TEST":return this.abTestFlow;case"FEATURE_FLAG":return this.featureFlagFlow}},sn}(),EventFactory=function(){function sn(ln){this.clock=ln}return sn.prototype.create=function(ln,cn){var dn=this,pn=this.clock.currentMillis(),vn=new Array,Sn=this.createEvent(ln,cn,pn,{});return vn.push(Sn),cn.targetEvaluations.forEach(function(En){var Cn,Pn=(Cn={},Cn[sn.ROOT_TYPE]=ln.key.type,Cn[sn.ROOT_ID]=ln.key.id,Cn),Rn=dn.createEvent(ln,En,pn,Pn);vn.push(Rn)}),vn},sn.prototype.createEvent=function(ln,cn,dn,pn){var vn;if(cn instanceof ExperimentEvaluation)return pn[sn.CONFIG_ID_PROPERTY_KEY]=(vn=cn.config)===null||vn===void 0?void 0:vn.id,Event$1.exposure(ln.user,cn,pn,dn);if(cn instanceof RemoteConfigEvaluation)return Event$1.remoteConfig(ln.user,cn,__assign$1(__assign$1({},pn),cn.properties),dn);throw new Error("Unsupported Evaluation [".concat(typeof cn,"]"))},sn.ROOT_TYPE="$targetingRootType",sn.ROOT_ID="$targetingRootId",sn.CONFIG_ID_PROPERTY_KEY="$parameterConfigurationId",sn}(),log$1=Logger.log,HackleCore=function(){function sn(ln,cn,dn,pn,vn,Sn){this.experimentEvaluator=ln,this.remoteConfigEvaluator=cn,this.workspaceFetcher=dn,this.eventFactory=pn,this.eventProcessor=vn,this.errorDedupDeterminer=Sn,this.workspaceFetcher.start(),this.eventProcessor.start(),this.readyPromise=this.workspaceFetcher.onReady().then(function(){return{success:!0}},function(En){return{success:!1,error:En}})}return sn.create=function(ln,cn,dn){var pn=new DelegatingEvaluator,vn=new DelegatingManualOverrideStorage(dn),Sn=new EvaluationFlowFactory(pn,vn),En=new ExperimentEvaluator(Sn),Cn=new RemoteConfigEvaluator(Sn.remoteConfigParameterTargetRuleDeterminer);return pn.add(En),pn.add(Cn),new sn(En,Cn,ln,new EventFactory(SystemClock.instance),cn,new ErrorDedupDeterminer)},sn.prototype.experiment=function(ln,cn,dn){var pn=this;if(!ln)return log$1.error("experimentKey must not be empty"),Decision.of(dn,DecisionReason.INVALID_INPUT);var vn=this.workspaceFetcher.get();if(!vn)return log$1.warn("SDK not ready."),Decision.of(dn,DecisionReason.SDK_NOT_READY);var Sn=vn.getExperimentOrNull(ln);if(!Sn)return log$1.warn("Experiment does not exist."),Decision.of(dn,DecisionReason.EXPERIMENT_NOT_FOUND);var En=ExperimentRequest.of(vn,cn,Sn,dn),Cn=this.experimentInternal(En),Pn=Cn[0],Rn=Cn[1],Ln=this.eventFactory.create(En,Pn);return Ln.forEach(function(Fn){return pn.eventProcessor.process(Fn)}),Rn},sn.prototype.experiments=function(ln){var cn=this,dn=new Comparable(function(vn,Sn){return vn.id===Sn.id}),pn=this.workspaceFetcher.get();return pn&&pn.getExperiments().forEach(function(vn){var Sn=ExperimentRequest.of(pn,ln,vn,"A"),En=cn.experimentInternal(Sn);En[0];var Cn=En[1];dn.add(vn,Cn)}),dn},sn.prototype.experimentInternal=function(ln){var cn,dn=this.experimentEvaluator.evaluate(ln,EvaluatorContext.create()),pn=(cn=dn.config)!==null&&cn!==void 0?cn:new EmptyParameterConfig,vn=Decision.of(dn.variationKey,dn.reason,pn);return[dn,vn]},sn.prototype.featureFlag=function(ln,cn){var dn=this;if(!ln)return log$1.error("featureKey must not be empty"),FeatureFlagDecision.off(DecisionReason.INVALID_INPUT);var pn=this.workspaceFetcher.get();if(!pn)return log$1.warn("SDK not ready."),FeatureFlagDecision.off(DecisionReason.SDK_NOT_READY);var vn=pn.getFeatureFlagOrNull(ln);if(!vn)return log$1.warn("FeatureFlag does not exist."),FeatureFlagDecision.off(DecisionReason.FEATURE_FLAG_NOT_FOUND);var Sn=ExperimentRequest.of(pn,cn,vn,"A"),En=this.featureFlagInternal(Sn),Cn=En[0],Pn=En[1],Rn=this.eventFactory.create(Sn,Cn);return Rn.forEach(function(Ln){return dn.eventProcessor.process(Ln)}),Pn},sn.prototype.featureFlags=function(ln){var cn=this,dn=new Comparable(function(vn,Sn){return vn.id===Sn.id}),pn=this.workspaceFetcher.get();return pn&&pn.getFeatureFlags().forEach(function(vn){var Sn=ExperimentRequest.of(pn,ln,vn,"A"),En=cn.featureFlagInternal(Sn);En[0];var Cn=En[1];dn.add(vn,Cn)}),dn},sn.prototype.featureFlagInternal=function(ln){var cn,dn=this.experimentEvaluator.evaluate(ln,EvaluatorContext.create()),pn=(cn=dn.config)!==null&&cn!==void 0?cn:new EmptyParameterConfig,vn=dn.variationKey==="A"?FeatureFlagDecision.off(dn.reason,pn):FeatureFlagDecision.on(dn.reason,pn);return[dn,vn]},sn.prototype.track=function(ln,cn,dn){var pn;if(dn===void 0&&(dn=new Date().getTime()),!ln){log$1.warn("event must not be null.");return}if(typeof ln!="object"){log$1.warn("Event must be event type.");return}if(typeof ln=="object"&&(!ln.key||typeof ln.key!="string")){log$1.warn("Event key must be not null. or event key must be string type.");return}var vn=((pn=this.workspaceFetcher.get())===null||pn===void 0?void 0:pn.getEventTypeOrNull(ln.key))||new EventType(0,ln.key);this.eventProcessor.process(Event$1.track(vn,ln,cn,dn))},sn.prototype.trackException=function(ln,cn){if(!this.errorDedupDeterminer.isDedupTarget(ln)){var dn=TraceTransformer.toEvent(ln);this.flush(),this.track(dn,cn),this.flush()}},sn.prototype.flush=function(){this.eventProcessor.flush()},sn.prototype.remoteConfig=function(ln,cn,dn,pn){var vn=this,Sn=this.workspaceFetcher.get();if(ObjectUtil$1.isNullOrUndefined(Sn))return log$1.warn("SDK not ready."),RemoteConfigDecision.of(pn,DecisionReason.SDK_NOT_READY);var En=Sn.getRemoteConfigParameterOrNull(ln);if(ObjectUtil$1.isNullOrUndefined(En))return log$1.warn("Remote config parameter does not exist."),RemoteConfigDecision.of(pn,DecisionReason.REMOTE_CONFIG_PARAMETER_NOT_FOUND);var Cn=RemoteConfigRequest.of(Sn,cn,En,dn,pn),Pn=this.remoteConfigEvaluator.evaluate(Cn,EvaluatorContext.create()),Rn=this.eventFactory.create(Cn,Pn);return Rn.forEach(function(Ln){return vn.eventProcessor.process(Ln)}),RemoteConfigDecision.of(Pn.value,Pn.reason)},sn.prototype.onReady=function(ln,cn){cn===void 0&&(cn=DEFAULT_ON_READY_TIMEOUT),this.onInitialized({timeout:cn}).then(function(){return ln()})},sn.prototype.onInitialized=function(ln){var cn=ln.timeout,dn=cn===void 0?DEFAULT_ON_READY_TIMEOUT:cn;log$1.debug("Start HackleClient initializing");var pn,vn=new Promise(function(Cn){pn=Cn}),Sn=function(){pn({success:!1})},En=setTimeout(Sn,dn);return this.readyPromise.then(function(){clearTimeout(En),pn({success:!0})},function(Cn){clearTimeout(En),pn({success:!1,error:Cn})}),Promise.race([this.readyPromise,vn]).then(function(Cn){return Cn.success?log$1.debug("HackleClient onInitialized Success"):Cn.error instanceof Error?log$1.error("HackleClient onInitialized Failed. ".concat(Cn.error.message)):log$1.error("HackleClient onInitialized Failed. ".concat(Cn.error)),Promise.resolve({success:Cn.success})})},sn.prototype.close=function(){this.workspaceFetcher.close(),this.eventProcessor.close()},sn}(),ErrorDedupDeterminer=function(){function sn(){}return sn.prototype.isDedupTarget=function(ln){return this._isSameError(ln,this.previous)?!0:(this.previous=ln,!1)},sn.prototype._isSameError=function(ln,cn){return ObjectUtil$1.isNullOrUndefined(cn)?!1:ln.name===cn.name&&ln.message===cn.message&&ln.stack===cn.stack},sn}(),GlobalErrorHandler=function(){function sn(){this._installed=[],this._installations={onerror:_installOnError,onunhandledrejection:_installOnUnhandledRejection}}return sn.prototype.install=function(ln,cn){this._install("onerror",ln,cn),this._install("onunhandledrejection",ln,cn)},sn.prototype._install=function(ln,cn,dn){if(!(ln in this._installed)){var pn=this._installations[ln];pn(cn,dn),this._installed.push(ln)}},sn}(),_oldOnErrorEventHandler=null;function _installOnError(sn,ln){_oldOnErrorEventHandler=window.onerror,window.onerror=function(cn,dn,pn,vn,Sn){ObjectUtil$1.isNotNullOrUndefined(Sn)&&sn.trackException(Sn,ln.resolveCurrentUser()),_oldOnErrorEventHandler&&_oldOnErrorEventHandler.apply(this,arguments)}}var _oldOnUnhandledRejectionEventHandler;function _installOnUnhandledRejection(sn,ln){_oldOnUnhandledRejectionEventHandler=window.onunhandledrejection,window.onunhandledrejection=function(cn){var dn;try{"reason"in cn?dn=cn.reason:"detail"in cn&&"reason"in cn.detail&&(dn=cn.detail.reason)}catch{}dn instanceof Error&&sn.trackException(dn,ln.resolveCurrentUser()),_oldOnUnhandledRejectionEventHandler&&_oldOnUnhandledRejectionEventHandler.apply(this,arguments)}}var EventRepositoryImpl=function(){function sn(ln,cn,dn){this.storage=ln,this.storageKey=cn,this.maxSize=dn}return sn.prototype.read=function(){var ln=this;return new Promise(function(cn){var dn=ln.storage.getItem(ln.storageKey);if(dn){var pn=JSON.parse(dn);cn(pn)}cn([])})},sn.prototype.save=function(ln){var cn=this;return ln.length===0?this.clear():new Promise(function(dn){var pn=JSON.stringify(ln.slice(-cn.maxSize));cn.storage.setItem(cn.storageKey,pn),dn()})},sn.prototype.add=function(ln){var cn=this;return this.read().then(function(dn){return cn.save(dn.concat(ln).slice(-cn.maxSize))})},sn.prototype.delete=function(ln){var cn=this;return this.read().then(function(dn){var pn=dn.filter(function(vn){return ln.findIndex(function(Sn){return Sn.insertId===vn.insertId})<0});return cn.save(pn)})},sn.prototype.clear=function(){var ln=this;return new Promise(function(cn){localStorage.removeItem(ln.storageKey),cn()})},sn}(),isSameUser=function(sn,ln){return sn.userId===ln.userId&&sn.deviceId===ln.deviceId},mergeUsers=function(sn,ln){return isSameUser(sn,ln)?__assign$1(__assign$1({},ln),{properties:__assign$1(__assign$1({},sn.properties),ln.properties)}):ln},UserManagerImpl=function(){function sn(ln,cn){this.storage=ln,this.hackleDeviceId=cn,this.userListeners=[],this.defaultUser={deviceId:this.hackleDeviceId},this._currentUser=this.defaultUser,this.initialize()}return sn.prototype.addListener=function(ln){this.userListeners.push(ln)},sn.prototype.initialize=function(){var ln=this.storage.getItem(DEVICE_ID_STORAGE_KEY)||this.hackleDeviceId,cn=this.storage.getItem(USER_ID_STORAGE_KEY)||void 0;this._currentUser={deviceId:ln,userId:cn}},Object.defineProperty(sn.prototype,"currentUser",{get:function(){return this._currentUser},enumerable:!1,configurable:!0}),sn.prototype.resolveCurrentOrNull=function(ln){if(ln===void 0)return this.currentUser;if(typeof ln=="string")return this.setUser({id:ln});var cn=sanitizeUser(ln);return cn?this.setUser(cn):null},sn.prototype.setUser=function(ln){var cn=this._currentUser,dn=mergeUsers(cn,ln);return this._currentUser=dn,isSameUser(cn,dn)||(this.changeUser(cn,dn,new Date().getTime()),this.saveUser(dn)),dn},sn.prototype.setUserId=function(ln){var cn=__assign$1(__assign$1({},this._currentUser),{userId:ln});return this.setUser(cn)},sn.prototype.setDeviceId=function(ln){var cn=__assign$1(__assign$1({},this._currentUser),{deviceId:ln});return this.setUser(cn)},sn.prototype.setUserProperty=function(ln,cn){var dn,pn=__assign$1(__assign$1({},this._currentUser),{properties:__assign$1(__assign$1({},this._currentUser.properties),(dn={},dn[ln]=cn,dn))});return this.setUser(pn)},sn.prototype.setUserProperties=function(ln){var cn=__assign$1(__assign$1({},this._currentUser),{properties:__assign$1(__assign$1({},this._currentUser.properties),ln)});return this.setUser(cn)},sn.prototype.resetUser=function(){return this.setUser(this.defaultUser)},sn.prototype.changeUser=function(ln,cn,dn){this.userListeners.forEach(function(pn){pn.onUserUpdated(ln,cn,dn)})},sn.prototype.saveUser=function(ln){ObjectUtil$1.isNotNullOrUndefined(ln.deviceId)?this.storage.setItem(DEVICE_ID_STORAGE_KEY,ln.deviceId):this.storage.removeItem(DEVICE_ID_STORAGE_KEY),ObjectUtil$1.isNotNullOrUndefined(ln.userId)?this.storage.setItem(USER_ID_STORAGE_KEY,ln.userId):this.storage.removeItem(USER_ID_STORAGE_KEY)},sn}(),createSessionId=function(sn){return"".concat(sn,".").concat(v4().slice(0,8))},SessionManagerImpl=function(){function sn(ln,cn){this.sessionTimeoutMillis=ln,this.storage=cn,this.sessionListeners=[],this._currentSessionId=null,this._lastEventTime=null,this.loadSession(),this.loadLastEventTime()}return Object.defineProperty(sn.prototype,"currentSessionId",{get:function(){return this._currentSessionId},enumerable:!1,configurable:!0}),Object.defineProperty(sn.prototype,"sessionId",{get:function(){var ln;return(ln=this._currentSessionId)!==null&&ln!==void 0?ln:sn.EMPTY_SESSION_ID},enumerable:!1,configurable:!0}),Object.defineProperty(sn.prototype,"lastEventTime",{get:function(){return this._lastEventTime},enumerable:!1,configurable:!0}),sn.prototype.addListener=function(ln){this.sessionListeners.push(ln)},sn.prototype.startNewSession=function(ln,cn){return this.endSession(ln),this.newSession(ln,cn)},sn.prototype.startNewSessionIfNeeded=function(ln,cn){var dn=this._lastEventTime;return dn===null?this.startNewSession(ln,cn):this._currentSessionId!==null&&cn-dn<this.sessionTimeoutMillis?(this.updateLastEventTime(cn),this._currentSessionId):this.startNewSession(ln,cn)},sn.prototype.updateLastEventTime=function(ln){this._lastEventTime=ln,this.storage.setItem(LAST_EVENT_TIME_STORAGE_KEY,"".concat(ln))},sn.prototype.endSession=function(ln){var cn=this._currentSessionId,dn=this._lastEventTime;cn!==null&&dn!==null&&this.sessionListeners.forEach(function(pn){return pn.onSessionEnded(cn,ln,dn)})},sn.prototype.newSession=function(ln,cn){var dn=createSessionId(cn);return this.saveSession(dn),this.updateLastEventTime(cn),this.sessionListeners.forEach(function(pn){pn.onSessionStarted(dn,ln,cn)}),dn},sn.prototype.saveSession=function(ln){this._currentSessionId=ln,this.storage.setItem(SESSION_ID_STORAGE_KEY,ln)},sn.prototype.loadSession=function(){this._currentSessionId=this.storage.getItem(SESSION_ID_STORAGE_KEY)},sn.prototype.loadLastEventTime=function(){var ln=this.storage.getItem(LAST_EVENT_TIME_STORAGE_KEY);if(ln!==null){var cn=Number.parseFloat(ln);cn>0&&(this._lastEventTime=cn)}},sn.prototype.onUserUpdated=function(ln,cn,dn){this.endSession(ln),this.newSession(cn,dn)},sn.EMPTY_SESSION_ID="0.ffffffff",sn}(),KeyTransformStorage=function(){function sn(ln,cn){this.delegate=ln,this.transform=cn}return sn.postfix=function(ln,cn){return new sn(ln,function(dn){return"".concat(dn).concat(cn)})},sn.prototype.getItem=function(ln){return this.delegate.getItem(this.transform(ln))},sn.prototype.removeItem=function(ln){this.delegate.removeItem(this.transform(ln))},sn.prototype.setItem=function(ln,cn){this.delegate.setItem(this.transform(ln),cn)},sn}(),ListStorage=function(){function sn(ln,cn,dn){dn===void 0&&(dn=4096);var pn=this;this.delegate=ln,this.listKey=cn,this.encodedListCharLen=6,this.resolveMaxLength=function(vn){var Sn=vn-pn.encodedListCharLen;return Sn<0?0:Sn},this.maxLength=this.resolveMaxLength(dn)}return sn.prototype.isEqualItem=function(ln,cn){return Object.prototype.hasOwnProperty.call(ln,cn)},sn.prototype.getRemainListSize=function(){try{return this.maxLength-JSON.stringify(this.getList()).length}catch{return 0}},sn.prototype.isAddableItem=function(ln){try{return this.getRemainListSize()>JSON.stringify(ln).length}catch{return!1}},sn.prototype.getVictimIndex=function(ln){var cn=this.getRemainListSize();try{var dn=JSON.stringify(ln),pn=this.getList(),vn=0;return pn.findIndex(function(Sn){return vn+=JSON.stringify(Sn).length,vn+cn>=dn.length})}catch{return-1}},sn.prototype.getList=function(){try{var ln=this.delegate.getItem(this.listKey);if(!ln)return[];var cn=JSON.parse(ln);return Array.isArray(cn)?cn:[]}catch{return[]}},sn.prototype.entries=function(){return this.getList().flatMap(Object.entries)},sn.prototype.setItem=function(ln,cn){var dn;try{this.removeItem(ln);var pn=this.getList(),vn=(dn={},dn[ln]=cn,dn);if(!this.isAddableItem(vn)){var Sn=this.getVictimIndex(vn);if(Sn<0)return;pn=pn.slice(Sn+1)}var En=JSON.stringify(pn.concat(vn));this.delegate.setItem(this.listKey,En)}catch{}},sn.prototype.getItem=function(ln){var cn=this,dn=this.getList().find(function(pn){return cn.isEqualItem(pn,ln)});if(!(!dn||!dn[ln]))return dn[ln]},sn.prototype.removeItem=function(ln){var cn=this,dn=this.getList();try{var pn=dn.filter(function(Sn){return!cn.isEqualItem(Sn,ln)}),vn=JSON.stringify(pn);this.delegate.setItem(this.listKey,vn)}catch{}},sn.prototype.clear=function(){this.delegate.removeItem(this.listKey)},sn}(),HackleUserExplorerImpl=function(){function sn(ln,cn,dn,pn,vn){this.core=ln,this.userManager=cn,this.userResolver=dn,this.abOverrideStorage=pn,this.ffOverrideStorage=vn}return sn.prototype.currentUser=function(){var ln=this.userManager.currentUser;return this.userResolver.resolve(ln)},sn.prototype.getAbTestDecisions=function(){return this.core.experiments(this.currentUser()).entries()},sn.prototype.getAbTestOverrides=function(){return this.abOverrideStorage.getAll()},sn.prototype.setAbTestOverride=function(ln,cn){this.abOverrideStorage.set(ln,cn),this.increment("AB_TEST","set")},sn.prototype.resetAbTestOverride=function(ln){this.abOverrideStorage.remove(ln),this.increment("AB_TEST","reset")},sn.prototype.resetAllAbTestOverride=function(){this.abOverrideStorage.clear(),this.increment("AB_TEST","reset.all")},sn.prototype.getFeatureFlagDecisions=function(){return this.core.featureFlags(this.currentUser()).entries()},sn.prototype.getFeatureFlagOverrides=function(){return this.ffOverrideStorage.getAll()},sn.prototype.setFeatureFlagOverride=function(ln,cn){this.ffOverrideStorage.set(ln,cn),this.increment("FEATURE_FLAG","set")},sn.prototype.resetFeatureFlagOverride=function(ln){this.ffOverrideStorage.remove(ln),this.increment("FEATURE_FLAG","reset")},sn.prototype.resetAllFeatureFlagOverride=function(){this.ffOverrideStorage.clear(),this.increment("FEATURE_FLAG","reset.all")},sn.prototype.increment=function(ln,cn){Metrics.counter("experiment.manual.override",{"experiment.type":ln,operation:cn}).increment()},sn}(),HackleUrlResolver=function(){function sn(){}return sn.serverFetch=function(ln){return"".concat(ln,"/api/v2/workspaces")},sn.clientFetch=function(ln,cn){return"".concat(ln,"/api/v2/w/").concat(cn,"/w")},sn.serverDispatch=function(ln){return"".concat(ln,"/api/v2/events")},sn.clientDispatch=function(ln){return"".concat(ln,"/api/v2/w/events")},sn.beaconDispatch=function(ln,cn){return"".concat(ln,"/api/v2/w/").concat(cn,"/events")},sn}(),log=Logger.log,hackleClientCache=null,defaultConfig={debug:!1,log_disabled:!1,auto_track_page_view:!0,pollingIntervalMillis:-1,exposureEventDedupIntervalMillis:-1,sessionTimeoutMillis:DEFAULT_SESSION_TIMEOUT_MILLIS,autoOpenDevTool:!1,sdkUrl:DEFAULT_CLIENT_SDK_URL,eventUrl:DEFAULT_EVENT_URL,monitoringUrl:DEFAULT_MONITORING_URL,SDK_NAME_HEADER:"javascript-sdk_browser",SDK_VERSION_HEADER:SDK_VERSION};function createInstance$1(sn,ln){var cn,dn,pn,vn,Sn,En=__assign$1(__assign$1({},defaultConfig),ln);if(Logger.initCounter(function(Ss){return Metrics.counter("log",{level:Ss})}),En.log_disabled?Logger.setLogLevel(logLevels.DISABLE):En.debug&&Logger.setLogLevel(logLevels.DEBUG),log.debug("sdkKey : "+sn),sn||log.error("SDK Key must not be null"),hackleClientCache)return log.debug("use already exists hackleClient"),hackleClientCache;var Cn=!1;typeof window<"u"&&(Cn=window&&window.navigator&&window.navigator.sendBeacon&&!0,Cn&&log.debug("support sendBeacon API"));var Pn=new EventDispatcher(sn,HttpRequest,{dispatchUrl:HackleUrlResolver.clientDispatch(En.eventUrl),beaconDispatchUrl:HackleUrlResolver.beaconDispatch(En.eventUrl,sn),useBeacon:Cn,headers:(cn={},cn[SDK_NAME_HEADER$1]=En.SDK_NAME_HEADER,cn[SDK_VERSION_HEADER$1]=En.SDK_VERSION_HEADER,cn)}),Rn=-1;En.pollingIntervalMillis!==void 0&&typeof En.pollingIntervalMillis=="number"&&En.pollingIntervalMillis>0&&(Rn=Math.max(En.pollingIntervalMillis,BROWSER_MIN_POOL_INTERVAL));var Ln=new PollingWorkspaceFetcher(sn,HttpRequest,{fetchUrl:HackleUrlResolver.clientFetch(En.sdkUrl,sn),updateInterval:Rn,headers:(dn={},dn[SDK_NAME_HEADER$1]=En.SDK_NAME_HEADER,dn[SDK_VERSION_HEADER$1]=En.SDK_VERSION_HEADER,dn)}),Fn=-1;En.exposureEventDedupIntervalMillis!==void 0&&typeof En.exposureEventDedupIntervalMillis=="number"&&En.exposureEventDedupIntervalMillis!==-1&&(En.exposureEventDedupIntervalMillis<1e3||En.exposureEventDedupIntervalMillis>1e3*60*60?(log.warn("Exposure event dedup interval is outside allowed range[1_000ms..3_600_000ms]. Setting to default value[no dedup]."),Fn=-1):Fn=En.exposureEventDedupIntervalMillis);var Gn=new EventRepositoryImpl(window.localStorage,"".concat(LOCAL_STORAGE_KEY_PREFIX,"_").concat(sn),BROWSER_BATCH_SIZE),Dn=new UserManagerImpl(KeyTransformStorage.postfix(cookieStorage,"_".concat(sn)),getUserId()),Kn=new SessionManagerImpl(En.sessionTimeoutMillis,KeyTransformStorage.postfix(cookieStorage,"_".concat(sn.slice(8))));Dn.addListener(Kn);var qn=new DefaultEventProcessor(Pn,BROWSER_BATCH_SIZE,BROWSER_FLUSH_INTERVAL,Gn),Zn=new ExposureEventDedupDeterminer(Fn),Yn=new EventProcessorImpl(qn,Zn,Kn,Dn),Jn=new HackleUserManualOverrideStorage(new ListStorage(cookieStorage,"".concat(OVERRIDE_AB_STORAGE_PREFIX,"_").concat(sn.slice(0,8)))),rs=new HackleUserManualOverrideStorage(new ListStorage(cookieStorage,"".concat(OVERRIDE_FF_STORAGE_PREFIX,"_").concat(sn.slice(0,8)))),us=HackleCore.create(Ln,Yn,[Jn,rs]),as=new HackleUserResolver(Dn),cs=new HackleUserExplorerImpl(us,Dn,as,Jn,rs),_s=((vn=En.devTool)===null||vn===void 0?void 0:vn.userExplorer)&&typeof((Sn=En.devTool)===null||Sn===void 0?void 0:Sn.userExplorer)=="function",Es=En.devTool&&_s?{manager:En.devTool,userExplorer:cs}:void 0,Qn=new HackleClientImpl(us,as,Kn,Dn,Es),ms=new SessionEventTracker(as,us);Kn.addListener(ms),hackleClientCache=Qn,En.auto_track_page_view&&_trackPageView(Qn),En.autoOpenDevTool&&(En.devTool?Qn.showUserExplorer():log.error("DevTool is not provided")),new GlobalErrorHandler().install(us,as);var $s=function(){qn.drainRepository()},Ms=new MonitoringMetricRegistry(En.monitoringUrl,METRIC_FLUSH_INTERVAL,HttpRequest,(pn={},pn[SDK_NAME_HEADER$1]=En.SDK_NAME_HEADER,pn[SDK_VERSION_HEADER$1]=En.SDK_VERSION_HEADER,pn[SDK_KEY_HEADER]=sn,pn),Cn),gs=function(){removeUserId(),Kn.updateLastEventTime(new Date().getTime()),Qn.close(),Metrics.globalRegistry.close()};return document.addEventListener("visibilitychange",function(){document.hidden||$s()}),window.addEventListener("pageshow",$s),window.addEventListener("onpagehide"in window?"pagehide":"unload",gs),Metrics.addRegistry(Ms),Qn.onReady(function(){Kn.startNewSessionIfNeeded(Dn.currentUser,new Date().getTime())}),Qn}function _trackPageView(sn){var ln=function(){return sn.trackPageView({user:{id:getUserId()}})};sn.onReady(function(){ln();function cn(dn){if(typeof window.Event=="function")return new Event(dn);var pn={bubbles:!1,cancelable:!1,detail:void 0},vn=document.createEvent("CustomEvent");return vn.initCustomEvent(dn,pn.bubbles,pn.cancelable,pn.detail),vn}try{history.pushState=function(dn){return function(){try{var vn=dn.apply(this,arguments);return window.dispatchEvent(cn("locationchange")),vn}catch(Sn){if(Sn instanceof Error)log.error(Sn);else try{log.error(Sn)}catch{}}}}(history.pushState),history.replaceState=function(dn){return function(){try{var vn=dn.apply(this,arguments);return window.dispatchEvent(cn("locationchange")),vn}catch(Sn){if(Sn instanceof Error)log.error(Sn);else try{log.error(Sn)}catch{}}}}(history.replaceState),window.addEventListener("popstate",function(){try{window.dispatchEvent(cn("locationchange"))}catch(dn){if(dn instanceof Error)log.error(dn);else try{log.error(dn)}catch{}}}),window.addEventListener("locationchange",function(){try{ln()}catch(dn){if(dn instanceof Error)log.error(dn);else try{log.error(dn)}catch{}}})}catch(dn){if(dn instanceof Error)log.error(dn);else try{log.error(dn)}catch{}}})}var extendStatics=function(sn,ln){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(cn,dn){cn.__proto__=dn}||function(cn,dn){for(var pn in dn)Object.prototype.hasOwnProperty.call(dn,pn)&&(cn[pn]=dn[pn])},extendStatics(sn,ln)};function __extends(sn,ln){if(typeof ln!="function"&&ln!==null)throw new TypeError("Class extends value "+String(ln)+" is not a constructor or null");extendStatics(sn,ln);function cn(){this.constructor=sn}sn.prototype=ln===null?Object.create(ln):(cn.prototype=ln.prototype,new cn)}var __assign=function(){return __assign=Object.assign||function(ln){for(var cn,dn=1,pn=arguments.length;dn<pn;dn++){cn=arguments[dn];for(var vn in cn)Object.prototype.hasOwnProperty.call(cn,vn)&&(ln[vn]=cn[vn])}return ln},__assign.apply(this,arguments)};function __read(sn,ln){var cn=typeof Symbol=="function"&&sn[Symbol.iterator];if(!cn)return sn;var dn=cn.call(sn),pn,vn=[],Sn;try{for(;(ln===void 0||ln-- >0)&&!(pn=dn.next()).done;)vn.push(pn.value)}catch(En){Sn={error:En}}finally{try{pn&&!pn.done&&(cn=dn.return)&&cn.call(dn)}finally{if(Sn)throw Sn.error}}return vn}var SDK_NAME_HEADER="react-sdk",SDK_VERSION_HEADER="11.14.2",Emitter=function(){function sn(){this.listeners={}}return sn.prototype.on=function(ln,cn){this.listeners[ln]=(this.listeners[ln]||[]).concat(cn)},sn.prototype.off=function(ln,cn){this.listeners[ln]=(this.listeners[ln]||[]).filter(function(dn){return dn!==cn})},sn.prototype.emit=function(ln,cn){(this.listeners[ln]||[]).forEach(function(dn){dn(cn)})},sn}(),ObjectUtil=function(){function sn(){}return sn.arePropertiesEqual=function(ln,cn){var dn=sn.coerceUnknownToProperties(ln),pn=sn.coerceUnknownToProperties(cn),vn=Object.keys(dn),Sn=Object.keys(pn);return vn.length!==Sn.length?!1:vn.every(function(En){return En in pn&&dn[En]===pn[En]})},sn.coerceUnknownToProperties=function(ln){return typeof ln=="object"&&ln!==null?ln:{}},sn}(),UserUtil=function(){function sn(){}return sn.isUserEqual=function(ln,cn){return(ln==null?void 0:ln.id)===(cn==null?void 0:cn.id)&&(ln==null?void 0:ln.deviceId)===(cn==null?void 0:cn.deviceId)&&(ln==null?void 0:ln.userId)===(cn==null?void 0:cn.userId)&&ObjectUtil.arePropertiesEqual(ln==null?void 0:ln.properties,cn==null?void 0:cn.properties)&&ObjectUtil.arePropertiesEqual(ln==null?void 0:ln.identifiers,cn==null?void 0:cn.identifiers)},sn}(),HackleReactSDKClient=function(sn){__extends(ln,sn);function ln(cn,dn){var pn=sn.call(this)||this;return pn._currentUser=null,pn.client=createInstance$1(cn,__assign(__assign({},dn),{SDK_NAME_HEADER,SDK_VERSION_HEADER})),dn!=null&&dn.devTool&&(dn!=null&&dn.autoOpenDevTool)&&pn.showUserExplorer(),pn}return ln.prototype.getUser=function(){return this.client.getUser()},ln.prototype.setUser=function(cn){this.client.setUser(cn),this.emitUpdatedUser(this.getUser())},ln.prototype.setUserId=function(cn){this.client.setUserId(cn),this.emitUpdatedUser(this.getUser())},ln.prototype.setDeviceId=function(cn){this.client.setDeviceId(cn),this.emitUpdatedUser(this.getUser())},ln.prototype.setUserProperty=function(cn,dn){this.client.setUserProperty(cn,dn),this.emitUpdatedUser(this.getUser())},ln.prototype.resetUser=function(){this.client.resetUser(),this.emitUpdatedUser(this.getUser())},ln.prototype.variation=function(cn,dn,pn){return this.client.variation(cn,dn||void 0,pn)},ln.prototype.variationDetail=function(cn,dn,pn){return this.client.variationDetail(cn,dn||void 0,pn)},ln.prototype.isFeatureOn=function(cn,dn){return this.client.isFeatureOn(cn,dn||void 0)},ln.prototype.featureFlagDetail=function(cn,dn){return this.client.featureFlagDetail(cn,dn||void 0)},ln.prototype.track=function(cn,dn){this.client.track(cn,dn||void 0)},ln.prototype.trackPageView=function(cn){this.client.trackPageView(__assign(__assign({},cn),{user:(cn==null?void 0:cn.user)||void 0}))},ln.prototype.remoteConfig=function(cn){return this.client.remoteConfig(cn||void 0)},ln.prototype.onReady=function(cn,dn){this.client.onReady(cn,dn)},ln.prototype.onInitialized=function(cn){return this.client.onInitialized(cn)},ln.prototype.emitUpdatedUser=function(cn){UserUtil.isUserEqual(this._currentUser,cn)||this.emit("user-updated",cn),this._currentUser=cn},ln.prototype.showUserExplorer=function(){this.client.showUserExplorer()},ln.prototype.hideUserExplorer=function(){this.client.hideUserExplorer()},ln}(Emitter);function createInstance(sn,ln){return new HackleReactSDKClient(sn,ln)}var HackleContext=reactExports.createContext({hackle:void 0,userVersion:0,initialized:!1});HackleContext.Consumer;var HackleContextProvider=HackleContext.Provider;function HackleProvider(sn){var ln=sn.hackleClient,cn=sn.user,dn=sn.timeout,pn=dn===void 0?3e3:dn,vn=sn.supportSSR,Sn=vn===void 0?!1:vn,En=sn.children,Cn=__read(reactExports.useState({hackle:ln,initialized:!1,userVersion:0}),2),Pn=Cn[0],Rn=Cn[1];return reactExports.useEffect(function(){typeof cn<"u"&&cn!==null&&ln.setUser(cn)},[cn]),reactExports.useEffect(function(){var Ln=function(){Rn(function(Fn){return __assign(__assign({},Fn),{userVersion:Fn.userVersion+1})})};return ln.on("user-updated",Ln),function(){ln.off("user-updated",Ln)}},[ln]),reactExports.useEffect(function(){ln.onInitialized({timeout:pn}).then(function(){Rn(function(Ln){return __assign(__assign({},Ln),{initialized:!0})})},function(){Rn(function(Ln){return __assign(__assign({},Ln),{initialized:!0})})}).catch(function(){Rn(function(Ln){return __assign(__assign({},Ln),{initialized:!0})})})},[ln]),Sn?gS.createElement(HackleContextProvider,{value:Pn},En):Pn.initialized?gS.createElement(HackleContextProvider,{value:Pn},En):null}Logger.log;var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(sn,ln){if(sn===ln)return!0;if(sn&&ln&&typeof sn=="object"&&typeof ln=="object"){if(sn.constructor!==ln.constructor)return!1;var cn,dn,pn;if(Array.isArray(sn)){if(cn=sn.length,cn!=ln.length)return!1;for(dn=cn;dn--!==0;)if(!equal(sn[dn],ln[dn]))return!1;return!0}var vn;if(hasMap&&sn instanceof Map&&ln instanceof Map){if(sn.size!==ln.size)return!1;for(vn=sn.entries();!(dn=vn.next()).done;)if(!ln.has(dn.value[0]))return!1;for(vn=sn.entries();!(dn=vn.next()).done;)if(!equal(dn.value[1],ln.get(dn.value[0])))return!1;return!0}if(hasSet&&sn instanceof Set&&ln instanceof Set){if(sn.size!==ln.size)return!1;for(vn=sn.entries();!(dn=vn.next()).done;)if(!ln.has(dn.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(sn)&&ArrayBuffer.isView(ln)){if(cn=sn.length,cn!=ln.length)return!1;for(dn=cn;dn--!==0;)if(sn[dn]!==ln[dn])return!1;return!0}if(sn.constructor===RegExp)return sn.source===ln.source&&sn.flags===ln.flags;if(sn.valueOf!==Object.prototype.valueOf&&typeof sn.valueOf=="function"&&typeof ln.valueOf=="function")return sn.valueOf()===ln.valueOf();if(sn.toString!==Object.prototype.toString&&typeof sn.toString=="function"&&typeof ln.toString=="function")return sn.toString()===ln.toString();if(pn=Object.keys(sn),cn=pn.length,cn!==Object.keys(ln).length)return!1;for(dn=cn;dn--!==0;)if(!Object.prototype.hasOwnProperty.call(ln,pn[dn]))return!1;if(hasElementType&&sn instanceof Element)return!1;for(dn=cn;dn--!==0;)if(!((pn[dn]==="_owner"||pn[dn]==="__v"||pn[dn]==="__o")&&sn.$$typeof)&&!equal(sn[pn[dn]],ln[pn[dn]]))return!1;return!0}return sn!==sn&&ln!==ln}var reactFastCompare=function sn(ln,cn){try{return equal(ln,cn)}catch(dn){if((dn.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw dn}};const n=getDefaultExportFromCjs(reactFastCompare);var invariant=function(sn,ln,cn,dn,pn,vn,Sn,En){if(!sn){var Cn;if(ln===void 0)Cn=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var Pn=[cn,dn,pn,vn,Sn,En],Rn=0;Cn=new Error(ln.replace(/%s/g,function(){return Pn[Rn++]})),Cn.name="Invariant Violation"}throw Cn.framesToPop=1,Cn}},browser=invariant;const i=getDefaultExportFromCjs(browser);var shallowequal=function sn(ln,cn,dn,pn){var vn=dn?dn.call(pn,ln,cn):void 0;if(vn!==void 0)return!!vn;if(ln===cn)return!0;if(typeof ln!="object"||!ln||typeof cn!="object"||!cn)return!1;var Sn=Object.keys(ln),En=Object.keys(cn);if(Sn.length!==En.length)return!1;for(var Cn=Object.prototype.hasOwnProperty.bind(cn),Pn=0;Pn<Sn.length;Pn++){var Rn=Sn[Pn];if(!Cn(Rn))return!1;var Ln=ln[Rn],Fn=cn[Rn];if(vn=dn?dn.call(pn,Ln,Fn,Rn):void 0,vn===!1||vn===void 0&&Ln!==Fn)return!1}return!0};const o=getDefaultExportFromCjs(shallowequal);function a(){return a=Object.assign||function(sn){for(var ln=1;ln<arguments.length;ln++){var cn=arguments[ln];for(var dn in cn)Object.prototype.hasOwnProperty.call(cn,dn)&&(sn[dn]=cn[dn])}return sn},a.apply(this,arguments)}function s(sn,ln){sn.prototype=Object.create(ln.prototype),sn.prototype.constructor=sn,c(sn,ln)}function c(sn,ln){return c=Object.setPrototypeOf||function(cn,dn){return cn.__proto__=dn,cn},c(sn,ln)}function u(sn,ln){if(sn==null)return{};var cn,dn,pn={},vn=Object.keys(sn);for(dn=0;dn<vn.length;dn++)ln.indexOf(cn=vn[dn])>=0||(pn[cn]=sn[cn]);return pn}var l={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},p={rel:["amphtml","canonical","alternate"]},f={type:["application/ld+json"]},d={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},h=Object.keys(l).map(function(sn){return l[sn]}),m={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},y=Object.keys(m).reduce(function(sn,ln){return sn[m[ln]]=ln,sn},{}),T=function(sn,ln){for(var cn=sn.length-1;cn>=0;cn-=1){var dn=sn[cn];if(Object.prototype.hasOwnProperty.call(dn,ln))return dn[ln]}return null},g=function(sn){var ln=T(sn,l.TITLE),cn=T(sn,"titleTemplate");if(Array.isArray(ln)&&(ln=ln.join("")),cn&&ln)return cn.replace(/%s/g,function(){return ln});var dn=T(sn,"defaultTitle");return ln||dn||void 0},b=function(sn){return T(sn,"onChangeClientState")||function(){}},v=function(sn,ln){return ln.filter(function(cn){return cn[sn]!==void 0}).map(function(cn){return cn[sn]}).reduce(function(cn,dn){return a({},cn,dn)},{})},A=function(sn,ln){return ln.filter(function(cn){return cn[l.BASE]!==void 0}).map(function(cn){return cn[l.BASE]}).reverse().reduce(function(cn,dn){if(!cn.length)for(var pn=Object.keys(dn),vn=0;vn<pn.length;vn+=1){var Sn=pn[vn].toLowerCase();if(sn.indexOf(Sn)!==-1&&dn[Sn])return cn.concat(dn)}return cn},[])},C=function(sn,ln,cn){var dn={};return cn.filter(function(pn){return!!Array.isArray(pn[sn])||(pn[sn]!==void 0&&console&&typeof console.warn=="function"&&console.warn("Helmet: "+sn+' should be of type "Array". Instead found type "'+typeof pn[sn]+'"'),!1)}).map(function(pn){return pn[sn]}).reverse().reduce(function(pn,vn){var Sn={};vn.filter(function(Ln){for(var Fn,Gn=Object.keys(Ln),Dn=0;Dn<Gn.length;Dn+=1){var Kn=Gn[Dn],qn=Kn.toLowerCase();ln.indexOf(qn)===-1||Fn==="rel"&&Ln[Fn].toLowerCase()==="canonical"||qn==="rel"&&Ln[qn].toLowerCase()==="stylesheet"||(Fn=qn),ln.indexOf(Kn)===-1||Kn!=="innerHTML"&&Kn!=="cssText"&&Kn!=="itemprop"||(Fn=Kn)}if(!Fn||!Ln[Fn])return!1;var Zn=Ln[Fn].toLowerCase();return dn[Fn]||(dn[Fn]={}),Sn[Fn]||(Sn[Fn]={}),!dn[Fn][Zn]&&(Sn[Fn][Zn]=!0,!0)}).reverse().forEach(function(Ln){return pn.push(Ln)});for(var En=Object.keys(Sn),Cn=0;Cn<En.length;Cn+=1){var Pn=En[Cn],Rn=a({},dn[Pn],Sn[Pn]);dn[Pn]=Rn}return pn},[]).reverse()},O=function(sn,ln){if(Array.isArray(sn)&&sn.length){for(var cn=0;cn<sn.length;cn+=1)if(sn[cn][ln])return!0}return!1},S=function(sn){return Array.isArray(sn)?sn.join(""):sn},E=function(sn,ln){return Array.isArray(sn)?sn.reduce(function(cn,dn){return function(pn,vn){for(var Sn=Object.keys(pn),En=0;En<Sn.length;En+=1)if(vn[Sn[En]]&&vn[Sn[En]].includes(pn[Sn[En]]))return!0;return!1}(dn,ln)?cn.priority.push(dn):cn.default.push(dn),cn},{priority:[],default:[]}):{default:sn}},I=function(sn,ln){var cn;return a({},sn,((cn={})[ln]=void 0,cn))},P=[l.NOSCRIPT,l.SCRIPT,l.STYLE],w=function(sn,ln){return ln===void 0&&(ln=!0),ln===!1?String(sn):String(sn).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},x=function(sn){return Object.keys(sn).reduce(function(ln,cn){var dn=sn[cn]!==void 0?cn+'="'+sn[cn]+'"':""+cn;return ln?ln+" "+dn:dn},"")},L=function(sn,ln){return ln===void 0&&(ln={}),Object.keys(sn).reduce(function(cn,dn){return cn[m[dn]||dn]=sn[dn],cn},ln)},j=function(sn,ln){return ln.map(function(cn,dn){var pn,vn=((pn={key:dn})["data-rh"]=!0,pn);return Object.keys(cn).forEach(function(Sn){var En=m[Sn]||Sn;En==="innerHTML"||En==="cssText"?vn.dangerouslySetInnerHTML={__html:cn.innerHTML||cn.cssText}:vn[En]=cn[Sn]}),gS.createElement(sn,vn)})},M=function(sn,ln,cn){switch(sn){case l.TITLE:return{toComponent:function(){return pn=ln.titleAttributes,(vn={key:dn=ln.title})["data-rh"]=!0,Sn=L(pn,vn),[gS.createElement(l.TITLE,Sn,dn)];var dn,pn,vn,Sn},toString:function(){return function(dn,pn,vn,Sn){var En=x(vn),Cn=S(pn);return En?"<"+dn+' data-rh="true" '+En+">"+w(Cn,Sn)+"</"+dn+">":"<"+dn+' data-rh="true">'+w(Cn,Sn)+"</"+dn+">"}(sn,ln.title,ln.titleAttributes,cn)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return L(ln)},toString:function(){return x(ln)}};default:return{toComponent:function(){return j(sn,ln)},toString:function(){return function(dn,pn,vn){return pn.reduce(function(Sn,En){var Cn=Object.keys(En).filter(function(Ln){return!(Ln==="innerHTML"||Ln==="cssText")}).reduce(function(Ln,Fn){var Gn=En[Fn]===void 0?Fn:Fn+'="'+w(En[Fn],vn)+'"';return Ln?Ln+" "+Gn:Gn},""),Pn=En.innerHTML||En.cssText||"",Rn=P.indexOf(dn)===-1;return Sn+"<"+dn+' data-rh="true" '+Cn+(Rn?"/>":">"+Pn+"</"+dn+">")},"")}(sn,ln,cn)}}}},k=function(sn){var ln=sn.baseTag,cn=sn.bodyAttributes,dn=sn.encode,pn=sn.htmlAttributes,vn=sn.noscriptTags,Sn=sn.styleTags,En=sn.title,Cn=En===void 0?"":En,Pn=sn.titleAttributes,Rn=sn.linkTags,Ln=sn.metaTags,Fn=sn.scriptTags,Gn={toComponent:function(){},toString:function(){return""}};if(sn.prioritizeSeoTags){var Dn=function(Kn){var qn=Kn.linkTags,Zn=Kn.scriptTags,Yn=Kn.encode,Jn=E(Kn.metaTags,d),rs=E(qn,p),us=E(Zn,f);return{priorityMethods:{toComponent:function(){return[].concat(j(l.META,Jn.priority),j(l.LINK,rs.priority),j(l.SCRIPT,us.priority))},toString:function(){return M(l.META,Jn.priority,Yn)+" "+M(l.LINK,rs.priority,Yn)+" "+M(l.SCRIPT,us.priority,Yn)}},metaTags:Jn.default,linkTags:rs.default,scriptTags:us.default}}(sn);Gn=Dn.priorityMethods,Rn=Dn.linkTags,Ln=Dn.metaTags,Fn=Dn.scriptTags}return{priority:Gn,base:M(l.BASE,ln,dn),bodyAttributes:M("bodyAttributes",cn,dn),htmlAttributes:M("htmlAttributes",pn,dn),link:M(l.LINK,Rn,dn),meta:M(l.META,Ln,dn),noscript:M(l.NOSCRIPT,vn,dn),script:M(l.SCRIPT,Fn,dn),style:M(l.STYLE,Sn,dn),title:M(l.TITLE,{title:Cn,titleAttributes:Pn},dn)}},H=[],N=function(sn,ln){var cn=this;ln===void 0&&(ln=typeof document<"u"),this.instances=[],this.value={setHelmet:function(dn){cn.context.helmet=dn},helmetInstances:{get:function(){return cn.canUseDOM?H:cn.instances},add:function(dn){(cn.canUseDOM?H:cn.instances).push(dn)},remove:function(dn){var pn=(cn.canUseDOM?H:cn.instances).indexOf(dn);(cn.canUseDOM?H:cn.instances).splice(pn,1)}}},this.context=sn,this.canUseDOM=ln,ln||(sn.helmet=k({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))},R=gS.createContext({}),D=r$7.shape({setHelmet:r$7.func,helmetInstances:r$7.shape({get:r$7.func,add:r$7.func,remove:r$7.func})}),U=typeof document<"u",q=function(sn){function ln(cn){var dn;return(dn=sn.call(this,cn)||this).helmetData=new N(dn.props.context,ln.canUseDOM),dn}return s(ln,sn),ln.prototype.render=function(){return jsx$1(R.Provider,{value:this.helmetData.value,children:this.props.children})},ln}(reactExports.Component);q.canUseDOM=U,q.propTypes={context:r$7.shape({helmet:r$7.shape()}),children:r$7.node.isRequired},q.defaultProps={context:{}},q.displayName="HelmetProvider";var Y=function(sn,ln){var cn,dn=document.head||document.querySelector(l.HEAD),pn=dn.querySelectorAll(sn+"[data-rh]"),vn=[].slice.call(pn),Sn=[];return ln&&ln.length&&ln.forEach(function(En){var Cn=document.createElement(sn);for(var Pn in En)Object.prototype.hasOwnProperty.call(En,Pn)&&(Pn==="innerHTML"?Cn.innerHTML=En.innerHTML:Pn==="cssText"?Cn.styleSheet?Cn.styleSheet.cssText=En.cssText:Cn.appendChild(document.createTextNode(En.cssText)):Cn.setAttribute(Pn,En[Pn]===void 0?"":En[Pn]));Cn.setAttribute("data-rh","true"),vn.some(function(Rn,Ln){return cn=Ln,Cn.isEqualNode(Rn)})?vn.splice(cn,1):Sn.push(Cn)}),vn.forEach(function(En){return En.parentNode.removeChild(En)}),Sn.forEach(function(En){return dn.appendChild(En)}),{oldTags:vn,newTags:Sn}},B=function(sn,ln){var cn=document.getElementsByTagName(sn)[0];if(cn){for(var dn=cn.getAttribute("data-rh"),pn=dn?dn.split(","):[],vn=[].concat(pn),Sn=Object.keys(ln),En=0;En<Sn.length;En+=1){var Cn=Sn[En],Pn=ln[Cn]||"";cn.getAttribute(Cn)!==Pn&&cn.setAttribute(Cn,Pn),pn.indexOf(Cn)===-1&&pn.push(Cn);var Rn=vn.indexOf(Cn);Rn!==-1&&vn.splice(Rn,1)}for(var Ln=vn.length-1;Ln>=0;Ln-=1)cn.removeAttribute(vn[Ln]);pn.length===vn.length?cn.removeAttribute("data-rh"):cn.getAttribute("data-rh")!==Sn.join(",")&&cn.setAttribute("data-rh",Sn.join(","))}},K=function(sn,ln){var cn=sn.baseTag,dn=sn.htmlAttributes,pn=sn.linkTags,vn=sn.metaTags,Sn=sn.noscriptTags,En=sn.onChangeClientState,Cn=sn.scriptTags,Pn=sn.styleTags,Rn=sn.title,Ln=sn.titleAttributes;B(l.BODY,sn.bodyAttributes),B(l.HTML,dn),function(Kn,qn){Kn!==void 0&&document.title!==Kn&&(document.title=S(Kn)),B(l.TITLE,qn)}(Rn,Ln);var Fn={baseTag:Y(l.BASE,cn),linkTags:Y(l.LINK,pn),metaTags:Y(l.META,vn),noscriptTags:Y(l.NOSCRIPT,Sn),scriptTags:Y(l.SCRIPT,Cn),styleTags:Y(l.STYLE,Pn)},Gn={},Dn={};Object.keys(Fn).forEach(function(Kn){var qn=Fn[Kn],Zn=qn.newTags,Yn=qn.oldTags;Zn.length&&(Gn[Kn]=Zn),Yn.length&&(Dn[Kn]=Fn[Kn].oldTags)}),ln&&ln(),En(sn,Gn,Dn)},_=null,z=function(sn){function ln(){for(var dn,pn=arguments.length,vn=new Array(pn),Sn=0;Sn<pn;Sn++)vn[Sn]=arguments[Sn];return(dn=sn.call.apply(sn,[this].concat(vn))||this).rendered=!1,dn}s(ln,sn);var cn=ln.prototype;return cn.shouldComponentUpdate=function(dn){return!o(dn,this.props)},cn.componentDidUpdate=function(){this.emitChange()},cn.componentWillUnmount=function(){this.props.context.helmetInstances.remove(this),this.emitChange()},cn.emitChange=function(){var dn,pn,vn=this.props.context,Sn=vn.setHelmet,En=null,Cn=(dn=vn.helmetInstances.get().map(function(Pn){var Rn=a({},Pn.props);return delete Rn.context,Rn}),{baseTag:A(["href"],dn),bodyAttributes:v("bodyAttributes",dn),defer:T(dn,"defer"),encode:T(dn,"encodeSpecialCharacters"),htmlAttributes:v("htmlAttributes",dn),linkTags:C(l.LINK,["rel","href"],dn),metaTags:C(l.META,["name","charset","http-equiv","property","itemprop"],dn),noscriptTags:C(l.NOSCRIPT,["innerHTML"],dn),onChangeClientState:b(dn),scriptTags:C(l.SCRIPT,["src","innerHTML"],dn),styleTags:C(l.STYLE,["cssText"],dn),title:g(dn),titleAttributes:v("titleAttributes",dn),prioritizeSeoTags:O(dn,"prioritizeSeoTags")});q.canUseDOM?(pn=Cn,_&&cancelAnimationFrame(_),pn.defer?_=requestAnimationFrame(function(){K(pn,function(){_=null})}):(K(pn),_=null)):k&&(En=k(Cn)),Sn(En)},cn.init=function(){this.rendered||(this.rendered=!0,this.props.context.helmetInstances.add(this),this.emitChange())},cn.render=function(){return this.init(),null},ln}(reactExports.Component);z.propTypes={context:D.isRequired},z.displayName="HelmetDispatcher";var F=["children"],G=["children"],W=function(sn){function ln(){return sn.apply(this,arguments)||this}s(ln,sn);var cn=ln.prototype;return cn.shouldComponentUpdate=function(dn){return!n(I(this.props,"helmetData"),I(dn,"helmetData"))},cn.mapNestedChildrenToProps=function(dn,pn){if(!pn)return null;switch(dn.type){case l.SCRIPT:case l.NOSCRIPT:return{innerHTML:pn};case l.STYLE:return{cssText:pn};default:throw new Error("<"+dn.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")}},cn.flattenArrayTypeChildren=function(dn){var pn,vn=dn.child,Sn=dn.arrayTypeChildren;return a({},Sn,((pn={})[vn.type]=[].concat(Sn[vn.type]||[],[a({},dn.newChildProps,this.mapNestedChildrenToProps(vn,dn.nestedChildren))]),pn))},cn.mapObjectTypeChildren=function(dn){var pn,vn,Sn=dn.child,En=dn.newProps,Cn=dn.newChildProps,Pn=dn.nestedChildren;switch(Sn.type){case l.TITLE:return a({},En,((pn={})[Sn.type]=Pn,pn.titleAttributes=a({},Cn),pn));case l.BODY:return a({},En,{bodyAttributes:a({},Cn)});case l.HTML:return a({},En,{htmlAttributes:a({},Cn)});default:return a({},En,((vn={})[Sn.type]=a({},Cn),vn))}},cn.mapArrayTypeChildrenToProps=function(dn,pn){var vn=a({},pn);return Object.keys(dn).forEach(function(Sn){var En;vn=a({},vn,((En={})[Sn]=dn[Sn],En))}),vn},cn.warnOnInvalidChildren=function(dn,pn){return i(h.some(function(vn){return dn.type===vn}),typeof dn.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types "+h.join(", ")+" are allowed. Helmet does not support rendering <"+dn.type+"> elements. Refer to our API for more information."),i(!pn||typeof pn=="string"||Array.isArray(pn)&&!pn.some(function(vn){return typeof vn!="string"}),"Helmet expects a string as a child of <"+dn.type+">. Did you forget to wrap your children in braces? ( <"+dn.type+">{``}</"+dn.type+"> ) Refer to our API for more information."),!0},cn.mapChildrenToProps=function(dn,pn){var vn=this,Sn={};return gS.Children.forEach(dn,function(En){if(En&&En.props){var Cn=En.props,Pn=Cn.children,Rn=u(Cn,F),Ln=Object.keys(Rn).reduce(function(Gn,Dn){return Gn[y[Dn]||Dn]=Rn[Dn],Gn},{}),Fn=En.type;switch(typeof Fn=="symbol"?Fn=Fn.toString():vn.warnOnInvalidChildren(En,Pn),Fn){case l.FRAGMENT:pn=vn.mapChildrenToProps(Pn,pn);break;case l.LINK:case l.META:case l.NOSCRIPT:case l.SCRIPT:case l.STYLE:Sn=vn.flattenArrayTypeChildren({child:En,arrayTypeChildren:Sn,newChildProps:Ln,nestedChildren:Pn});break;default:pn=vn.mapObjectTypeChildren({child:En,newProps:pn,newChildProps:Ln,nestedChildren:Pn})}}}),this.mapArrayTypeChildrenToProps(Sn,pn)},cn.render=function(){var dn=this.props,pn=dn.children,vn=u(dn,G),Sn=a({},vn),En=vn.helmetData;return pn&&(Sn=this.mapChildrenToProps(pn,Sn)),!En||En instanceof N||(En=new N(En.context,En.instances)),En?gS.createElement(z,a({},Sn,{context:En.value,helmetData:void 0})):jsx$1(R.Consumer,{children:function(Cn){return gS.createElement(z,a({},Sn,{context:Cn}))}})},ln}(reactExports.Component);W.propTypes={base:r$7.object,bodyAttributes:r$7.object,children:r$7.oneOfType([r$7.arrayOf(r$7.node),r$7.node]),defaultTitle:r$7.string,defer:r$7.bool,encodeSpecialCharacters:r$7.bool,htmlAttributes:r$7.object,link:r$7.arrayOf(r$7.object),meta:r$7.arrayOf(r$7.object),noscript:r$7.arrayOf(r$7.object),onChangeClientState:r$7.func,script:r$7.arrayOf(r$7.object),style:r$7.arrayOf(r$7.object),title:r$7.string,titleAttributes:r$7.object,titleTemplate:r$7.string,prioritizeSeoTags:r$7.bool,helmetData:r$7.object},W.defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1},W.displayName="Helmet";const initialCommunityState={selectedCommunityTab:"질문",keyword:"",selectedDetailId:null,isUpdateMode:!1,isAddMode:!1},slice$1=createSlice({name:"lecture",initialState:initialCommunityState,reducers:{changeSelectedCommunityTab(sn,{payload:ln}){return{...sn,selectedCommunityTab:ln}},changeCommunityKeyword(sn,{payload:ln}){return{...sn,keyword:ln}},changeSelectedDetailId(sn,{payload:ln}){return{...sn,selectedDetailId:ln}},changeIsAddMode(sn,{payload:ln}){sn.isAddMode=ln},changeIsUpdateMode(sn,{payload:ln}){sn.isUpdateMode=ln}}}),{reducer:communityReducer}=slice$1,communityActions=slice$1.actions,initialLecture={currentEditNoteWritingContent:void 0,currentNoteWritingContent:"",selectedNoteId:void 0,selectedEditNoteId:void 0},slice=createSlice({name:"note",initialState:initialLecture,reducers:{setCurrentEditNoteWritingContent(sn,{payload:ln}){sn.currentEditNoteWritingContent=ln},setCurrentNoteWritingContent(sn,{payload:ln}){sn.currentNoteWritingContent=ln},setSelectedNoteId(sn,{payload:ln}){sn.selectedNoteId=ln},setSelectedEditNoteId(sn,{payload:ln}){sn.selectedEditNoteId=ln}}}),{reducer:noteReducer}=slice,noteActions=slice.actions,rootReducer=combineReducers({community:communityReducer,lecture:lectureReducer,video:videoReducer,note:noteReducer}),store=configureStore({reducer:rootReducer,devTools:appConfig.MODE!=="production"});function handleSubtitleOptionChange(){const sn=store.getState();setUserSetting({isVodSubtitleOpened:sn.video.isVodSubtitleOpened,subtitlePosition:sn.video.subtitlePosition})}store.subscribe(handleSubtitleOptionChange);const getUserPropertyBySession=sn=>({user_id:sn.userId,role_b2b:sn.role.isB2b,role_b2c:!sn.role.isB2b,role_admin:sn.role.isAdmin}),queryClient=new QueryClient({defaultOptions:{queries:{refetchOnMount:!0,refetchOnReconnect:!1,refetchOnWindowFocus:!1,retry:0,useErrorBoundary:!0}}});setLogger({log:console.log,warn:console.warn,error:console.info});const _AppProvider=({children:sn})=>{const ln=useQueryClient();ln||console.error("_AppProvider: queryClient가 존재하지 않습니다."),Object.entries(ln).length===0&&console.error("_AppProvider: queryClient가 key를 가지고 있지 않습니다.");const{data:cn}=useSession(),dn=createInstance(appConfig.HACKLE_BROWSER_SDK_KEY,{exposureEventDedupIntervalMillis:1e3,pollingIntervalMillis:3e4}),pn={id:api.get("deviceId"),userId:String(cn==null?void 0:cn.userId)};return reactExports.useEffect(()=>{if(!cn)return;datadogRum.setUser({id:String(cn.userId)}),isDebugMode()&&datadogLogs.setUser({id:String(cn.userId)});const vn=getUserPropertyBySession(cn);trackEvent("gtm.customInit",{user_id:cn.userId,mxp___user:JSON.stringify(vn)})},[cn]),jsx(HackleProvider,{hackleClient:dn,user:pn,children:jsx(lr$5,{theme:{colorScheme:"light"},cdnLink:appConfig.CDN_URL,children:jsx(ModalsProvider$1,{children:jsxs(E$d,{children:[jsx(H$c,{limit:3,position:"bottom-center"}),jsx(PlayerProvider,{children:sn})]})})})})};setLogger({log:()=>window.console,warn:()=>window.console,error:sn=>{var ln;return((ln=sn.response)==null?void 0:ln.status)===401?window.console.info(sn):window.console}});function AppProvider({children:sn}){return jsx(q,{children:jsx(Provider,{store,children:jsx(BrowserRouter,{children:jsx(QueryClientProvider,{client:queryClient,children:jsx(_AppProvider,{children:sn})})})})})}function cdnUrl(sn){return`${appConfig.CDN_URL}/font${sn}`}const fontFamilies=css$1("@font-face{font-family:'D2 coding';font-style:normal;font-weight:400;src:local('D2Coding'),url('#{$cdn_link}/D2Coding.woff2') format('woff2'),url(",cdnUrl("/D2Coding.woff"),") format('woff'),url(",cdnUrl("/D2Coding.ttf"),") format('truetype');}@font-face{font-family:'NanumMyeongjoExtraBold';font-weight:800;src:local('NanumMyeongjoExtraBold'),url(",cdnUrl("/NanumMyeongjoExtraBold.woff2"),") format('woff2'),url(",cdnUrl("/NanumMyeongjoExtraBold.woff"),") format('woff'),url(",cdnUrl("/NanumMyeongjoExtraBold.ttf"),") format('truetype');}",""),globals={name:"1av7utk",styles:"*{box-sizing:border-box;}a{text-decoration:none;}body{overscroll-behavior:none;}.tox-notifications-container{display:none!important;}.shaka-video-container *{font-family:Pretendard,-apple-system,BlinkMacSystemFont,system-ui,Roboto,'Helvetica Neue','Segoe UI','Apple SD Gothic Neo','Noto Sans KR','Malgun Gothic','Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol',sans-serif;}"},reset={name:"1mrm4cd",styles:"html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block;}ol,ul{list-style:none;}blockquote,q{quotes:none;}blockquote:before,blockquote:after,q:before,q:after{content:'none';}table{border-collapse:collapse;border-spacing:0;}"};window.__SHA__=appConfig.COMMIT_HASH,window.__RELEASE__=appConfig.COMMIT_HASH;Modal$1.setAppElement("#root");ReactDOM.render(jsx(gS.StrictMode,{children:jsxs(AppProvider,{children:[jsx(Global$1,{styles:[reset,fontFamilies,globals,""]}),jsx(App,{}),appConfig.MODE==="localhost"]})}),document.getElementById("root"));export{Transition$2 as $,off as A,useIsomorphicEffect$1 as B,createStyles$1 as C,useComponentDefaultProps$1 as D,jsx$1 as E,createPolymorphicComponent$1 as F,useDidUpdate as G,rem$1 as H,jsxs$1 as I,Box$1 as J,keyframes as K,Fragment$1 as L,getDefaultZIndex as M,getSize$1 as N,assignRef as O,useMergedRef as P,clamp as Q,useMantineTheme$1 as R,Tooltip as S,Text$1 as T,jsx as U,css$1 as V,jsxs as W,get$1 as X,m$9 as Y,c$d as Z,S$a as _,isArray$9 as a,LogoLoading as a$,faExclamationTriangle as a0,faCheck as a1,faAngleLeft as a2,gS as a3,I$e as a4,jsx$3 as a5,Fragment as a6,mediaQueries as a7,useSideBarList as a8,trackEvent as a9,body16 as aA,body15 as aB,getAugmentedNamespace as aC,propTypesExports as aD,reactDomExports as aE,getDefaultExportFromCjs as aF,useScreen as aG,useQueryTab as aH,TAB_ASIDE_Z_INDEX as aI,header22 as aJ,useModals as aK,useEvent$2 as aL,UtilModal as aM,m$8 as aN,colors as aO,BasicModal as aP,styleResetButton as aQ,header18 as aR,styleOutlinedButton as aS,isNil as aT,styleGray800Button as aU,isEmpty as aV,ApiError as aW,styleCommonButton as aX,A$a as aY,useSearchParams as aZ,appConfig as a_,eventNames as aa,tabLookup as ab,z$9 as ac,hideNotification as ad,ErrorNotification as ae,ErrorBoundary as af,FOOTER_BAR_Z_INDEX as ag,PC_REACTIVE_MEDIA_QUERY as ah,P$8 as ai,o$7 as aj,Dr$5 as ak,w$b as al,useLocalStorage$1 as am,URL_INFLEARN_FAQ as an,useShortcutGuide as ao,useSubtitleGtmProperty as ap,trackMixpanelEvent as aq,SIDE_BAR_Z_INDEX as ar,useAppDispatch as as,useLectureParams as at,useAppSelector as au,useMyVoucher as av,useSession as aw,communityActions as ax,useCourse as ay,body14 as az,baseIteratee as b,useWindowEvent as b$,useQueryErrorResetBoundary as b0,useFirstMountState as b1,TAB_LIST as b2,useMoveUnit as b3,styleModalWrapper as b4,UtilModalContent as b5,p$2 as b6,koreanLocale as b7,useQueryClient as b8,c$a as b9,useForbiddenModal as bA,useAlertModal as bB,useMediaQuery as bC,queries as bD,faCheckCircle as bE,header20 as bF,header24 as bG,t$5 as bH,URL_COURSE_DASHBOARD as bI,useReviewModal as bJ,W as bK,styleLogoLoading as bL,baseFindIndex as bM,root$1 as bN,toNumber as bO,toInteger as bP,toString$8 as bQ,baseClone as bR,baseFor$1 as bS,isObjectLike as bT,baseGetTag as bU,constant as bV,Set$2 as bW,setToArray as bX,SetCache as bY,cacheHas as bZ,useReducedMotion as b_,n$8 as ba,faCircleExclamation as bb,p$8 as bc,closeAllModals as bd,useDisclosure as be,pr$5 as bf,debounce as bg,commonjsGlobal$1 as bh,isRecordType as bi,has$1 as bj,last$1 as bk,omit$1 as bl,ResponseStatus as bm,queryString as bn,usePlayerContext as bo,noteActions as bp,Overlay as bq,head$1 as br,useV2VodSubtitleSuggestionCreateMutation as bs,API_ENDPOINT as bt,T$9 as bu,useVodSubtitle as bv,secondsToHHmmss as bw,useUnit as bx,URL_COURSE_DESCRIPTION as by,URL_CARTS as bz,arrayMap as c,useV2CommentQuestionUpdateMutation as c$,createSafeContext as c0,useId$1 as c1,useUncontrolled as c2,createScopedKeydownHandler as c3,UnstyledButton$1 as c4,mergeRefs as c5,extractSystemStyles$1 as c6,randomId as c7,_extends$3 as c8,getStylesRef as c9,Group as cA,Menu as cB,ReactDOM as cC,useMutation as cD,useV2CourseIdSkillTagQuery as cE,useV2ChatCreateMutation as cF,useV2QuestionCreateMutation as cG,useV2CommentChatIdCreateMutation as cH,useV2ChatIdQuery as cI,y$9 as cJ,URL_SIGNIN as cK,useV2ReCommentIdDeleteMutation as cL,produce as cM,useV2ReCommentIdUpdateMutation as cN,useV2ReactionReCommentIdUpdateMutation as cO,useV2ReCommentCreateMutation as cP,useV2CommentChatDeleteMutation as cQ,useV2CommentChatUpdateMutation as cR,useV2ReactionCommentIdUpdateMutation as cS,useV2ReactionPostIdUpdateMutation as cT,useV2QuestionIdQuery as cU,useV2BookmarkQuestionIdUpdateMutation as cV,useV2VoteQuestionIdCreateMutation as cW,useV2ChatIdUpdateMutation as cX,useV2CommentQuestionIdCreateMutation as cY,fetchV2CommentId as cZ,useV2CommentQuestionDeleteMutation as c_,packSx$1 as ca,Popover as cb,getSystemStyles$1 as cc,CloseButton$1 as cd,sizes$b as ce,Input as cf,GROUP_POSITIONS as cg,Jf$1 as ch,MANTINE_COLORS$1 as ci,vt$4 as cj,Loader$1 as ck,j$c as cl,_inheritsLoose$1 as cm,_extends as cn,infiniteQueryBehavior as co,hasNextPage as cp,hasPreviousPage as cq,QueryObserver as cr,parseQueryArgs as cs,useBaseQuery as ct,createUseExternalEvents as cu,fetcher as cv,useV2CourseFaqQuery as cw,queryString$1 as cx,ActionIcon$1 as cy,Button$1 as cz,arrayFilter as d,useV2VoteCommentIdCreateMutation as d0,useV2QuestionIdUpdateMutation as d1,useV2UnitQuery as d2,useV2UnitAttachmentQuery as d3,isPlainObject$3 as d4,useQuery as d5,useV2NoteQuery as d6,useV2NoteCreateMutation as d7,useV2NoteIdDeleteMutation as d8,useV2NoteIdUpdateMutation as d9,MODAL_Z_INDEX as dA,useDispatch as dB,faBookmark as dC,faHeart as dD,find$1 as dE,styleMobileVideoContent as dF,__vitePreload as dG,useV1CartCreateMutation as da,URL_VOUCHER as db,useV2CourseIdPaymentInfoQuery as dc,useUpdateCurrentTime as dd,useV2UnitCompleteUpdateMutation as de,useRecommendReviewModal as df,useCompleteModal as dg,isOver as dh,openModal as di,za$4 as dj,x$e as dk,f$6 as dl,getUserSetting as dm,videoActions as dn,useSubtitleSizeByScreenWidth as dp,styleSubtitleText as dq,getShaka as dr,getSrc as ds,H$c as dt,PlayerWrapper as du,lr$5 as dv,getBreakpointValue$1 as dw,em$1 as dx,Global as dy,FULLPAGE_MODAL_KEY as dz,baseFlatten as e,baseAssignValue as f,getTag$1 as g,baseExtremum as h,isArrayLike as i,isObject$g as j,keys$1 as k,castPath as l,mapToArray as m,isIndex as n,assignValue as o,baseGet as p,getAllKeysIn as q,isSymbol$3 as r,identity$2 as s,toKey as t,baseUnary as u,isIterateeCall as v,toFinite as w,reactExports as x,isBrowser as y,on$2 as z};
//# sourceMappingURL=index-ecbc606e.js.map
